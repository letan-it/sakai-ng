import{e as Ut,f as ot,g as lt,k as Xt}from"./chunk-3ESNSFJU.js";import{a as be,b as ve,c as st}from"./chunk-XKKHZOTL.js";import{a as Re,b as Se,c as Ae,d as Le}from"./chunk-VUHPLJQX.js";import{$ as je,A as rt,B as at,C as Ie,D as Ve,I as fe,J as _e,O as ee,Y as te,Z as q,_ as $,aa as Pe,w as Te,x as xe,y as he,z as K}from"./chunk-Z66PZIJD.js";import{b as Fe,d as Ht,e as X,j as z}from"./chunk-EOUPEFEV.js";import{Ab as ae,Db as oe,Ea as L,Ia as j,Kb as le,Lb as se,Mb as pe,Nb as ge,Pb as Y,Qb as Z,f as Ot,g as ye,h as ue,o as nt,p as B,tb as Nt,ub as O,v as Jt,vb as J,xb as me,zb as re}from"./chunk-7BUJRFZ7.js";import{Ac as tt,B as A,C as jt,Ca as Pt,Cc as it,Dc as k,Eb as u,Fb as r,Gb as a,Hb as g,Ob as F,Sb as E,Ub as f,Va as Rt,Yb as At,Za as c,Zb as Lt,_b as Wt,a as _,b as P,ca as De,cb as I,cc as Bt,ec as R,ga as Ze,gc as s,hc as S,ib as W,ic as T,jc as ne,kc as b,l as C,lc as v,ma as m,mc as y,na as p,ob as M,pc as Q,qb as wt,qc as D,rc as U,t as Vt,uc as et}from"./chunk-UFNSFZ2P.js";var H=class n{constructor(t){this.http=t;this.loadData()}dataSubject=new Vt(null);data$=this.dataSubject.asObservable();loadData(){this.http.get("/assets/data/rms-sample-data.json").subscribe({next:t=>{this.dataSubject.next(t)},error:t=>{console.error("L\u1ED7i khi t\u1EA3i d\u1EEF li\u1EC7u RMS:",t)}})}getData(){return this.data$.pipe(A(t=>t))}getJobs(){return this.data$.pipe(A(t=>t?.jobs||[]))}getJobById(t){return this.data$.pipe(A(e=>{if(!e)return;let i=e.jobs.find(x=>x.id===t);if(!i)return;let o=e.customers.find(x=>x.id===i.customer_id),l=e.jobSkills.filter(x=>x.job_id===t).map(x=>{let V=e.skills.find(N=>N.id===x.skill_id);return V?P(_({},V),{importance_level:x.importance_level}):null}).filter(x=>x!==null),w=e.matchingScores.filter(x=>x.job_id===t).map(x=>{let V=e.candidates.find(N=>N.id===x.candidate_id);return V?P(_({},V),{matching_score:x}):null}).filter(x=>x!==null);return P(_({},i),{customer:o,skills:l,candidates:w})}))}getCandidates(){return this.data$.pipe(A(t=>t?.candidates||[]))}getCandidateById(t){return this.data$.pipe(A(e=>{if(!e)return;let i=e.candidates.find(x=>x.id===t);if(!i)return;let d=e.candidateSkills.filter(x=>x.candidate_id===t).map(x=>{let V=e.skills.find(N=>N.id===x.skill_id);return V?_(_({},V),x):null}).filter(x=>x!==null),l=e.candidateExperiences.filter(x=>x.candidate_id===t),w=e.matchingScores.filter(x=>x.candidate_id===t).map(x=>{let V=e.jobs.find(N=>N.id===x.job_id);return V?P(_({},V),{matching_score:x}):null}).filter(x=>x!==null);return P(_({},i),{skills:d,experiences:l,jobs:w})}))}getMatchingScores(){return this.data$.pipe(A(t=>t?.matchingScores||[]))}getTopCandidates(t=5){return this.data$.pipe(A(e=>e?e.matchingScores.map(o=>{let d=e.candidates.find(l=>l.id===o.candidate_id);return d?P(_({},d),{overall_score:o.overall_score}):null}).filter(o=>o!==null).sort((o,d)=>d.overall_score-o.overall_score).slice(0,t):[]))}getCandidateStatusStats(){return this.data$.pipe(A(t=>{if(!t)return{};let e={Pending:0,Interviewing:0,Hired:0,Rejected:0};return t.candidates.forEach(i=>{e[i.status]=(e[i.status]||0)+1}),e}))}getJobStatusStats(){return this.data$.pipe(A(t=>{if(!t)return{};let e={Open:0,Closed:0};return t.jobs.forEach(i=>{e[i.status]=(e[i.status]||0)+1}),e}))}getHunters(){return this.data$.pipe(A(t=>t?.hunters||[]))}getHunterWithCandidates(t){return this.data$.pipe(A(e=>{if(!e)return null;let i=e.hunters.find(l=>l.id===t);if(!i)return null;let d=e.candidateJobs.filter(l=>l.hunter_id===t).map(l=>{let h=e.candidates.find(x=>x.id===l.candidate_id),w=e.jobs.find(x=>x.id===l.job_id);return h&&w?P(_({},h),{job:w,status:l.current_status}):null}).filter(l=>l!==null);return P(_({},i),{candidates:d})}))}getRecruitmentProcesses(){return this.data$.pipe(A(t=>t?.recruitmentProcesses||[]))}getRecruitmentProcessById(t){return this.data$.pipe(A(e=>{if(!e)return null;let i=e.recruitmentProcesses.find(x=>x.id===t);if(!i)return null;let o=e.candidateJobs.find(x=>x.id===i.candidate_job_id);if(!o)return null;let d=e.candidates.find(x=>x.id===o.candidate_id),l=e.jobs.find(x=>x.id===o.job_id),w=e.interviewRounds.filter(x=>x.recruitment_process_id===t).map(x=>{let V=e.candidateRounds.find(N=>N.interview_round_id===x.id&&N.candidate_id===o.candidate_id);return P(_({},x),{result:V})});return P(_({},i),{candidate:d,job:l,rounds:w})}))}getCandidateInterviewRounds(t){return this.data$.pipe(A(e=>e?.candidateRounds.filter(i=>i.candidate_id===t)||[]))}createJob(t){let e=this.dataSubject.value;if(!e)return;let i=Math.max(...e.jobs.map(l=>l.id),0)+1,o=new Date().toISOString(),d=P(_({},t),{id:i,created_at:o,updated_at:o});e.jobs.push(d),this.dataSubject.next(_({},e))}updateJob(t,e){let i=this.dataSubject.value;if(!i)return;let o=i.jobs.findIndex(d=>d.id===t);o!==-1&&(i.jobs[o]=P(_(_({},i.jobs[o]),e),{updated_at:new Date().toISOString()}),this.dataSubject.next(_({},i)))}deleteJob(t){let e=this.dataSubject.value;e&&(e.jobs=e.jobs.filter(i=>i.id!==t),e.jobSkills=e.jobSkills.filter(i=>i.job_id!==t),e.matchingScores=e.matchingScores.filter(i=>i.job_id!==t),e.candidateJobs=e.candidateJobs.filter(i=>i.job_id!==t),this.dataSubject.next(_({},e)))}createCandidate(t){let e=this.dataSubject.value;if(!e)return;let i=Math.max(...e.candidates.map(l=>l.id),0)+1,o=new Date().toISOString(),d=P(_({},t),{id:i,created_at:o,updated_at:o});e.candidates.push(d),this.dataSubject.next(_({},e))}updateCandidate(t,e){let i=this.dataSubject.value;if(!i)return;let o=i.candidates.findIndex(d=>d.id===t);o!==-1&&(i.candidates[o]=P(_(_({},i.candidates[o]),e),{updated_at:new Date().toISOString()}),this.dataSubject.next(_({},i)))}deleteCandidate(t){let e=this.dataSubject.value;e&&(e.candidates=e.candidates.filter(i=>i.id!==t),e.candidateSkills=e.candidateSkills.filter(i=>i.candidate_id!==t),e.candidateExperiences=e.candidateExperiences.filter(i=>i.candidate_id!==t),e.matchingScores=e.matchingScores.filter(i=>i.candidate_id!==t),e.candidateJobs=e.candidateJobs.filter(i=>i.candidate_id!==t),e.candidateRounds=e.candidateRounds.filter(i=>i.candidate_id!==t),this.dataSubject.next(_({},e)))}addCandidateSkill(t){let e=this.dataSubject.value;if(!e)return;let i=Math.max(...e.candidateSkills.map(d=>d.id),0)+1,o=P(_({},t),{id:i,created_at:new Date().toISOString()});e.candidateSkills.push(o),this.dataSubject.next(_({},e))}removeCandidateSkill(t){let e=this.dataSubject.value;e&&(e.candidateSkills=e.candidateSkills.filter(i=>i.id!==t),this.dataSubject.next(_({},e)))}addCandidateExperience(t){let e=this.dataSubject.value;if(!e)return;let i=Math.max(...e.candidateExperiences.map(d=>d.id),0)+1,o=P(_({},t),{id:i,created_at:new Date().toISOString()});e.candidateExperiences.push(o),this.dataSubject.next(_({},e))}updateCandidateExperience(t,e){let i=this.dataSubject.value;if(!i)return;let o=i.candidateExperiences.findIndex(d=>d.id===t);o!==-1&&(i.candidateExperiences[o]=_(_({},i.candidateExperiences[o]),e),this.dataSubject.next(_({},i)))}deleteCandidateExperience(t){let e=this.dataSubject.value;e&&(e.candidateExperiences=e.candidateExperiences.filter(i=>i.id!==t),this.dataSubject.next(_({},e)))}createHunter(t){let e=this.dataSubject.value;if(!e)return;let i=Math.max(...e.hunters.map(l=>l.id),0)+1,o=new Date().toISOString(),d=P(_({},t),{id:i,created_at:o,updated_at:o});e.hunters.push(d),this.dataSubject.next(_({},e))}updateHunter(t,e){let i=this.dataSubject.value;if(!i)return;let o=i.hunters.findIndex(d=>d.id===t);o!==-1&&(i.hunters[o]=P(_(_({},i.hunters[o]),e),{updated_at:new Date().toISOString()}),this.dataSubject.next(_({},i)))}deleteHunter(t){let e=this.dataSubject.value;e&&(e.hunters=e.hunters.filter(i=>i.id!==t),this.dataSubject.next(_({},e)))}createInterviewRound(t){let e=this.dataSubject.value;if(!e)return;let i=Math.max(...e.interviewRounds.map(d=>d.id),0)+1,o=P(_({},t),{id:i,created_at:new Date().toISOString()});e.interviewRounds.push(o),this.dataSubject.next(_({},e))}updateInterviewRound(t,e){let i=this.dataSubject.value;if(!i)return;let o=i.interviewRounds.findIndex(d=>d.id===t);o!==-1&&(i.interviewRounds[o]=_(_({},i.interviewRounds[o]),e),this.dataSubject.next(_({},i)))}deleteInterviewRound(t){let e=this.dataSubject.value;e&&(e.interviewRounds=e.interviewRounds.filter(i=>i.id!==t),e.candidateRounds=e.candidateRounds.filter(i=>i.interview_round_id!==t),this.dataSubject.next(_({},e)))}updateCandidateRound(t,e,i){let o=this.dataSubject.value;if(!o)return;let d=o.candidateRounds.findIndex(l=>l.candidate_id===t&&l.interview_round_id===e);if(d!==-1)o.candidateRounds[d]=P(_(_({},o.candidateRounds[d]),i),{evaluated_at:new Date().toISOString()});else{let l=Math.max(...o.candidateRounds.map(w=>w.id),0)+1,h=_({id:l,candidate_id:t,interview_round_id:e,attendance_status:"Scheduled",score:null,feedback:null,outcome:"Pending",evaluated_at:null,created_at:new Date().toISOString()},i);o.candidateRounds.push(h)}this.dataSubject.next(_({},o))}getSkills(){return this.data$.pipe(A(t=>t?.skills||[]))}addJobSkill(t){let e=this.dataSubject.value;if(!e)return;let i=Math.max(...e.jobSkills.map(d=>d.id),0)+1,o=P(_({},t),{id:i,created_at:new Date().toISOString()});e.jobSkills.push(o),this.dataSubject.next(_({},e))}removeJobSkill(t){let e=this.dataSubject.value;e&&(e.jobSkills=e.jobSkills.filter(i=>i.id!==t),this.dataSubject.next(_({},e)))}getCandidateJobs(){return this.data$.pipe(A(t=>t?.candidateJobs||[]))}getCandidateJobsByJobId(t){return this.data$.pipe(A(e=>e?.candidateJobs.filter(i=>i.job_id===t)||[]))}getCandidateJobsByCandidateId(t){return this.data$.pipe(A(e=>e?.candidateJobs.filter(i=>i.candidate_id===t)||[]))}addCandidateToJob(t){let e=this.dataSubject.value;if(!e)return;let i=e.candidateJobs.length>0?Math.max(...e.candidateJobs.map(d=>d.id))+1:1,o=P(_({},t),{id:i});e.candidateJobs.push(o),this.dataSubject.next(_({},e))}updateCandidateJob(t,e){let i=this.dataSubject.value;if(!i)return;let o=i.candidateJobs.findIndex(d=>d.id===t);o!==-1&&(i.candidateJobs[o]=_(_({},i.candidateJobs[o]),e),this.dataSubject.next(_({},i)))}removeCandidateJob(t){let e=this.dataSubject.value;e&&(e.candidateJobs=e.candidateJobs.filter(i=>i.id!==t),this.dataSubject.next(_({},e)))}isCandidateInJob(t,e){return this.data$.pipe(A(i=>i?i.candidateJobs.some(o=>o.candidate_id===t&&o.job_id===e):!1))}static \u0275fac=function(e){return new(e||n)(Ze(Jt))};static \u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})};var Si=()=>({"min-width":"50rem"}),Ei=()=>["/rms/jobs"],Ci=()=>["/rms/candidates"],wi=()=>["/rms/processes"],ki=()=>["/rms/hunters"],Mi=()=>({width:"120px",height:"8px"}),Di=n=>["/rms/candidates",n];function Fi(n,t){n&1&&(r(0,"tr")(1,"th"),s(2,"T\xEAn \u1EE9ng vi\xEAn"),a(),r(3,"th"),s(4,"V\u1ECB tr\xED hi\u1EC7n t\u1EA1i"),a(),r(5,"th"),s(6,"\u0110\u1ECBa \u0111i\u1EC3m"),a(),r(7,"th"),s(8,"Tr\u1EA1ng th\xE1i"),a(),r(9,"th"),s(10,"Matching Score"),a(),r(11,"th",35),s(12,"H\xE0nh \u0111\u1ED9ng"),a()())}function Ti(n,t){if(n&1&&(r(0,"tr")(1,"td")(2,"div",36),g(3,"i",37),r(4,"span",38),s(5),a()()(),r(6,"td"),s(7),a(),r(8,"td"),s(9),a(),r(10,"td"),g(11,"p-tag",39),a(),r(12,"td")(13,"div",40),g(14,"p-progressBar",41),r(15,"span",42),s(16),a()()(),r(17,"td"),g(18,"p-button",43),a()()),n&2){let e=t.$implicit,i=f();c(5),S(e.full_name),c(2),S(e.current_position),c(2),S(e.location),c(2),u("value",e.status)("severity",i.getStatusSeverity(e.status)),c(3),R(D(12,Mi)),u("value",e.overall_score)("showValue",!1),c(2),T("",e.overall_score,"%"),c(2),u("text",!0)("routerLink",U(13,Di,e.id))}}var dt=class n{constructor(t){this.rmsService=t}jobStats={Open:0,Closed:0};candidateStats={Pending:0,Interviewing:0,Hired:0,Rejected:0};topCandidates=[];ngOnInit(){this.rmsService.getJobStatusStats().subscribe(t=>{this.jobStats=t}),this.rmsService.getCandidateStatusStats().subscribe(t=>{this.candidateStats=t}),this.rmsService.getTopCandidates(5).subscribe(t=>{this.topCandidates=t})}getStatusSeverity(t){return{Pending:"warning",Interviewing:"info",Hired:"success",Rejected:"danger"}[t]||"secondary"}static \u0275fac=function(e){return new(e||n)(I(H))};static \u0275cmp=W({type:n,selectors:[["app-rms-dashboard"]],decls:62,vars:17,consts:[["header",""],["body",""],[1,"grid","grid-cols-12","gap-6"],[1,"col-span-12"],[1,"text-3xl","font-bold","text-surface-900","dark:text-surface-0"],[1,"text-surface-600","dark:text-surface-400","mt-2"],[1,"col-span-12","lg:col-span-6"],["header","Tr\u1EA1ng th\xE1i C\xF4ng vi\u1EC7c"],[1,"grid","grid-cols-2","gap-4"],[1,"flex","flex-col","items-center","p-4","bg-green-50","dark:bg-green-900/20","rounded-lg"],[1,"pi","pi-briefcase","text-4xl","text-green-600","dark:text-green-400","mb-2"],[1,"text-3xl","font-bold","text-green-700","dark:text-green-300"],[1,"text-sm","text-surface-600","dark:text-surface-400"],[1,"flex","flex-col","items-center","p-4","bg-red-50","dark:bg-red-900/20","rounded-lg"],[1,"pi","pi-lock","text-4xl","text-red-600","dark:text-red-400","mb-2"],[1,"text-3xl","font-bold","text-red-700","dark:text-red-300"],["header","Tr\u1EA1ng th\xE1i \u1EE8ng vi\xEAn"],[1,"flex","flex-col","items-center","p-4","bg-yellow-50","dark:bg-yellow-900/20","rounded-lg"],[1,"pi","pi-clock","text-3xl","text-yellow-600","dark:text-yellow-400","mb-2"],[1,"text-2xl","font-bold","text-yellow-700","dark:text-yellow-300"],[1,"flex","flex-col","items-center","p-4","bg-blue-50","dark:bg-blue-900/20","rounded-lg"],[1,"pi","pi-users","text-3xl","text-blue-600","dark:text-blue-400","mb-2"],[1,"text-2xl","font-bold","text-blue-700","dark:text-blue-300"],[1,"pi","pi-check-circle","text-3xl","text-green-600","dark:text-green-400","mb-2"],[1,"text-2xl","font-bold","text-green-700","dark:text-green-300"],[1,"pi","pi-times-circle","text-3xl","text-red-600","dark:text-red-400","mb-2"],[1,"text-2xl","font-bold","text-red-700","dark:text-red-300"],["header","Top \u1EE8ng vi\xEAn theo Matching Score"],[3,"value","tableStyle"],["header","Truy c\u1EADp nhanh"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],["pButton","","label","Danh s\xE1ch C\xF4ng vi\u1EC7c","icon","pi pi-briefcase",1,"w-full","p-button-outlined",3,"routerLink"],["pButton","","label","Danh s\xE1ch \u1EE8ng vi\xEAn","icon","pi pi-users",1,"w-full","p-button-outlined",3,"routerLink"],["pButton","","label","Quy tr\xECnh Tuy\u1EC3n d\u1EE5ng","icon","pi pi-sitemap",1,"w-full","p-button-outlined",3,"routerLink"],["pButton","","label","Qu\u1EA3n l\xFD Hunters","icon","pi pi-user-plus",1,"w-full","p-button-outlined",3,"routerLink"],[2,"width","180px"],[1,"flex","items-center","gap-2"],[1,"pi","pi-user","text-primary"],[1,"font-semibold"],[3,"value","severity"],[1,"flex","items-center","gap-3"],[3,"value","showValue"],[1,"font-semibold","text-primary"],["label","Xem chi ti\u1EBFt","icon","pi pi-eye","size","small",3,"text","routerLink"]],template:function(e,i){e&1&&(r(0,"div",2)(1,"div",3)(2,"h1",4),s(3,"Recruitment Management System"),a(),r(4,"p",5),s(5,"T\u1ED5ng quan h\u1EC7 th\u1ED1ng qu\u1EA3n l\xFD tuy\u1EC3n d\u1EE5ng"),a()(),r(6,"div",6)(7,"p-card",7)(8,"div",8)(9,"div",9),g(10,"i",10),r(11,"div",11),s(12),a(),r(13,"div",12),s(14,"C\xF4ng vi\u1EC7c M\u1EDF"),a()(),r(15,"div",13),g(16,"i",14),r(17,"div",15),s(18),a(),r(19,"div",12),s(20,"C\xF4ng vi\u1EC7c \u0110\xF3ng"),a()()()()(),r(21,"div",6)(22,"p-card",16)(23,"div",8)(24,"div",17),g(25,"i",18),r(26,"div",19),s(27),a(),r(28,"div",12),s(29,"Pending"),a()(),r(30,"div",20),g(31,"i",21),r(32,"div",22),s(33),a(),r(34,"div",12),s(35,"Interviewing"),a()(),r(36,"div",9),g(37,"i",23),r(38,"div",24),s(39),a(),r(40,"div",12),s(41,"Hired"),a()(),r(42,"div",13),g(43,"i",25),r(44,"div",26),s(45),a(),r(46,"div",12),s(47,"Rejected"),a()()()()(),r(48,"div",3)(49,"p-card",27)(50,"p-table",28),M(51,Fi,13,0,"ng-template",null,0,k)(53,Ti,19,15,"ng-template",null,1,k),a()()(),r(55,"div",3)(56,"p-card",29)(57,"div",30),g(58,"button",31)(59,"button",32)(60,"button",33)(61,"button",34),a()()()()),e&2&&(c(12),S(i.jobStats.Open),c(6),S(i.jobStats.Closed),c(9),S(i.candidateStats.Pending),c(6),S(i.candidateStats.Interviewing),c(6),S(i.candidateStats.Hired),c(6),S(i.candidateStats.Rejected),c(5),u("value",i.topCandidates)("tableStyle",D(12,Si)),c(8),u("routerLink",D(13,Ei)),c(),u("routerLink",D(14,Ci)),c(),u("routerLink",D(15,wi)),c(),u("routerLink",D(16,ki)))},dependencies:[B,z,X,K,he,te,ee,$,q,Pe,je,J,Nt,O],encapsulation:2})};function Kt(n,t){if(n.match(/^[a-z]+:\/\//i))return n;if(n.match(/^\/\//))return window.location.protocol+n;if(n.match(/^[a-z]+:/i))return n;let e=document.implementation.createHTMLDocument(),i=e.createElement("base"),o=e.createElement("a");return e.head.appendChild(i),e.body.appendChild(o),t&&(i.href=t),o.href=n,o.href}var qt=(()=>{let n=0,t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(n+=1,`u${t()}${n}`)})();function ce(n){let t=[];for(let e=0,i=n.length;e<i;e++)t.push(n[e]);return t}var Be=null;function mt(n={}){return Be||(n.includeStyleProperties?(Be=n.includeStyleProperties,Be):(Be=ce(window.getComputedStyle(document.documentElement)),Be))}function ut(n,t){let i=(n.ownerDocument.defaultView||window).getComputedStyle(n).getPropertyValue(t);return i?parseFloat(i.replace("px","")):0}function Ii(n){let t=ut(n,"border-left-width"),e=ut(n,"border-right-width");return n.clientWidth+t+e}function Vi(n){let t=ut(n,"border-top-width"),e=ut(n,"border-bottom-width");return n.clientHeight+t+e}function kt(n,t={}){let e=t.width||Ii(n),i=t.height||Vi(n);return{width:e,height:i}}function $t(){let n,t;try{t=process}catch{}let e=t&&t.env?t.env.devicePixelRatio:null;return e&&(n=parseInt(e,10),Number.isNaN(n)&&(n=1)),n||window.devicePixelRatio||1}var ie=16384;function Gt(n){(n.width>ie||n.height>ie)&&(n.width>ie&&n.height>ie?n.width>n.height?(n.height*=ie/n.width,n.width=ie):(n.width*=ie/n.height,n.height=ie):n.width>ie?(n.height*=ie/n.width,n.width=ie):(n.width*=ie/n.height,n.height=ie))}function Oe(n){return new Promise((t,e)=>{let i=new Image;i.onload=()=>{i.decode().then(()=>{requestAnimationFrame(()=>t(i))})},i.onerror=e,i.crossOrigin="anonymous",i.decoding="async",i.src=n})}function ji(n){return C(this,null,function*(){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(n)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)})}function Qt(n,t,e){return C(this,null,function*(){let i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),d=document.createElementNS(i,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${e}`),o.setAttribute("viewBox",`0 0 ${t} ${e}`),d.setAttribute("width","100%"),d.setAttribute("height","100%"),d.setAttribute("x","0"),d.setAttribute("y","0"),d.setAttribute("externalResourcesRequired","true"),o.appendChild(d),d.appendChild(n),ji(o)})}var G=(n,t)=>{if(n instanceof t)return!0;let e=Object.getPrototypeOf(n);return e===null?!1:e.constructor.name===t.name||G(e,t)};function Pi(n){let t=n.getPropertyValue("content");return`${n.cssText} content: '${t.replace(/'|"/g,"")}';`}function Ri(n,t){return mt(t).map(e=>{let i=n.getPropertyValue(e),o=n.getPropertyPriority(e);return`${e}: ${i}${o?" !important":""};`}).join(" ")}function Ai(n,t,e,i){let o=`.${n}:${t}`,d=e.cssText?Pi(e):Ri(e,i);return document.createTextNode(`${o}{${d}}`)}function Yt(n,t,e,i){let o=window.getComputedStyle(n,e),d=o.getPropertyValue("content");if(d===""||d==="none")return;let l=qt();try{t.className=`${t.className} ${l}`}catch{return}let h=document.createElement("style");h.appendChild(Ai(l,e,o,i)),t.appendChild(h)}function Zt(n,t,e){Yt(n,t,":before",e),Yt(n,t,":after",e)}var ei="application/font-woff",ti="image/jpeg",Li={woff:ei,woff2:ei,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:ti,jpeg:ti,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Wi(n){let t=/\.([^./]*?)$/g.exec(n);return t?t[1]:""}function Je(n){let t=Wi(n).toLowerCase();return Li[t]||""}function Bi(n){return n.split(/,/)[1]}function qe(n){return n.search(/^(data:)/)!==-1}function Dt(n,t){return`data:${t};base64,${n}`}function Ft(n,t,e){return C(this,null,function*(){let i=yield fetch(n,t);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);let o=yield i.blob();return new Promise((d,l)=>{let h=new FileReader;h.onerror=l,h.onloadend=()=>{try{d(e({res:i,result:h.result}))}catch(w){l(w)}},h.readAsDataURL(o)})})}var Mt={};function Oi(n,t,e){let i=n.replace(/\?.*/,"");return e&&(i=n),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),t?`[${t}]${i}`:i}function He(n,t,e){return C(this,null,function*(){let i=Oi(n,t,e.includeQueryParams);if(Mt[i]!=null)return Mt[i];e.cacheBust&&(n+=(/\?/.test(n)?"&":"?")+new Date().getTime());let o;try{let d=yield Ft(n,e.fetchRequestInit,({res:l,result:h})=>(t||(t=l.headers.get("Content-Type")||""),Bi(h)));o=Dt(d,t)}catch(d){o=e.imagePlaceholder||"";let l=`Failed to fetch resource: ${n}`;d&&(l=typeof d=="string"?d:d.message),l&&console.warn(l)}return Mt[i]=o,o})}function Ji(n){return C(this,null,function*(){let t=n.toDataURL();return t==="data:,"?n.cloneNode(!1):Oe(t)})}function Hi(n,t){return C(this,null,function*(){if(n.currentSrc){let d=document.createElement("canvas"),l=d.getContext("2d");d.width=n.clientWidth,d.height=n.clientHeight,l?.drawImage(n,0,0,d.width,d.height);let h=d.toDataURL();return Oe(h)}let e=n.poster,i=Je(e),o=yield He(e,i,t);return Oe(o)})}function Ni(n,t){return C(this,null,function*(){var e;try{if(!((e=n?.contentDocument)===null||e===void 0)&&e.body)return yield $e(n.contentDocument.body,t,!0)}catch{}return n.cloneNode(!1)})}function Ui(n,t){return C(this,null,function*(){return G(n,HTMLCanvasElement)?Ji(n):G(n,HTMLVideoElement)?Hi(n,t):G(n,HTMLIFrameElement)?Ni(n,t):n.cloneNode(ii(n))})}var Xi=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SLOT",ii=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SVG";function zi(n,t,e){return C(this,null,function*(){var i,o;if(ii(t))return t;let d=[];return Xi(n)&&n.assignedNodes?d=ce(n.assignedNodes()):G(n,HTMLIFrameElement)&&(!((i=n.contentDocument)===null||i===void 0)&&i.body)?d=ce(n.contentDocument.body.childNodes):d=ce(((o=n.shadowRoot)!==null&&o!==void 0?o:n).childNodes),d.length===0||G(n,HTMLVideoElement)||(yield d.reduce((l,h)=>l.then(()=>$e(h,e)).then(w=>{w&&t.appendChild(w)}),Promise.resolve())),t})}function Ki(n,t,e){let i=t.style;if(!i)return;let o=window.getComputedStyle(n);o.cssText?(i.cssText=o.cssText,i.transformOrigin=o.transformOrigin):mt(e).forEach(d=>{let l=o.getPropertyValue(d);d==="font-size"&&l.endsWith("px")&&(l=`${Math.floor(parseFloat(l.substring(0,l.length-2)))-.1}px`),G(n,HTMLIFrameElement)&&d==="display"&&l==="inline"&&(l="block"),d==="d"&&t.getAttribute("d")&&(l=`path(${t.getAttribute("d")})`),i.setProperty(d,l,o.getPropertyPriority(d))})}function qi(n,t){G(n,HTMLTextAreaElement)&&(t.innerHTML=n.value),G(n,HTMLInputElement)&&t.setAttribute("value",n.value)}function $i(n,t){if(G(n,HTMLSelectElement)){let e=t,i=Array.from(e.children).find(o=>n.value===o.getAttribute("value"));i&&i.setAttribute("selected","")}}function Gi(n,t,e){return G(t,Element)&&(Ki(n,t,e),Zt(n,t,e),qi(n,t),$i(n,t)),t}function Qi(n,t){return C(this,null,function*(){let e=n.querySelectorAll?n.querySelectorAll("use"):[];if(e.length===0)return n;let i={};for(let d=0;d<e.length;d++){let h=e[d].getAttribute("xlink:href");if(h){let w=n.querySelector(h),x=document.querySelector(h);!w&&x&&!i[h]&&(i[h]=yield $e(x,t,!0))}}let o=Object.values(i);if(o.length){let d="http://www.w3.org/1999/xhtml",l=document.createElementNS(d,"svg");l.setAttribute("xmlns",d),l.style.position="absolute",l.style.width="0",l.style.height="0",l.style.overflow="hidden",l.style.display="none";let h=document.createElementNS(d,"defs");l.appendChild(h);for(let w=0;w<o.length;w++)h.appendChild(o[w]);n.appendChild(l)}return n})}function $e(n,t,e){return C(this,null,function*(){return!e&&t.filter&&!t.filter(n)?null:Promise.resolve(n).then(i=>Ui(i,t)).then(i=>zi(n,i,t)).then(i=>Gi(n,i,t)).then(i=>Qi(i,t))})}var ni=/url\((['"]?)([^'"]+?)\1\)/g,Yi=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Zi=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function en(n){let t=n.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function tn(n){let t=[];return n.replace(ni,(e,i,o)=>(t.push(o),e)),t.filter(e=>!qe(e))}function nn(n,t,e,i,o){return C(this,null,function*(){try{let d=e?Kt(t,e):t,l=Je(t),h;if(o){let w=yield o(d);h=Dt(w,l)}else h=yield He(d,l,i);return n.replace(en(t),`$1${h}$3`)}catch{}return n})}function rn(n,{preferredFontFormat:t}){return t?n.replace(Zi,e=>{for(;;){let[i,,o]=Yi.exec(e)||[];if(!o)return"";if(o===t)return`src: ${i};`}}):n}function Tt(n){return n.search(ni)!==-1}function pt(n,t,e){return C(this,null,function*(){if(!Tt(n))return n;let i=rn(n,e);return tn(i).reduce((d,l)=>d.then(h=>nn(h,l,t,e)),Promise.resolve(i))})}function Ne(n,t,e){return C(this,null,function*(){var i;let o=(i=t.style)===null||i===void 0?void 0:i.getPropertyValue(n);if(o){let d=yield pt(o,null,e);return t.style.setProperty(n,d,t.style.getPropertyPriority(n)),!0}return!1})}function an(n,t){return C(this,null,function*(){(yield Ne("background",n,t))||(yield Ne("background-image",n,t)),(yield Ne("mask",n,t))||(yield Ne("-webkit-mask",n,t))||(yield Ne("mask-image",n,t))||(yield Ne("-webkit-mask-image",n,t))})}function on(n,t){return C(this,null,function*(){let e=G(n,HTMLImageElement);if(!(e&&!qe(n.src))&&!(G(n,SVGImageElement)&&!qe(n.href.baseVal)))return;let i=e?n.src:n.href.baseVal,o=yield He(i,Je(i),t);yield new Promise((d,l)=>{n.onload=d,n.onerror=t.onImageErrorHandler?(...w)=>{try{d(t.onImageErrorHandler(...w))}catch(x){l(x)}}:l;let h=n;h.decode&&(h.decode=d),h.loading==="lazy"&&(h.loading="eager"),e?(n.srcset="",n.src=o):n.href.baseVal=o})})}function ln(n,t){return C(this,null,function*(){let i=ce(n.childNodes).map(o=>It(o,t));yield Promise.all(i).then(()=>n)})}function It(n,t){return C(this,null,function*(){G(n,Element)&&(yield an(n,t),yield on(n,t),yield ln(n,t))})}function ri(n,t){let{style:e}=n;t.backgroundColor&&(e.backgroundColor=t.backgroundColor),t.width&&(e.width=`${t.width}px`),t.height&&(e.height=`${t.height}px`);let i=t.style;return i!=null&&Object.keys(i).forEach(o=>{e[o]=i[o]}),n}var ai={};function oi(n){return C(this,null,function*(){let t=ai[n];if(t!=null)return t;let i=yield(yield fetch(n)).text();return t={url:n,cssText:i},ai[n]=t,t})}function li(n,t){return C(this,null,function*(){let e=n.cssText,i=/url\(["']?([^"')]+)["']?\)/g,d=(e.match(/url\([^)]+\)/g)||[]).map(l=>C(null,null,function*(){let h=l.replace(i,"$1");return h.startsWith("https://")||(h=new URL(h,n.url).href),Ft(h,t.fetchRequestInit,({result:w})=>(e=e.replace(l,`url(${w})`),[l,w]))}));return Promise.all(d).then(()=>e)})}function si(n){if(n==null)return[];let t=[],e=/(\/\*[\s\S]*?\*\/)/gi,i=n.replace(e,""),o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){let w=o.exec(i);if(w===null)break;t.push(w[0])}i=i.replace(o,"");let d=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,l="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",h=new RegExp(l,"gi");for(;;){let w=d.exec(i);if(w===null){if(w=h.exec(i),w===null)break;d.lastIndex=h.lastIndex}else h.lastIndex=d.lastIndex;t.push(w[0])}return t}function sn(n,t){return C(this,null,function*(){let e=[],i=[];return n.forEach(o=>{if("cssRules"in o)try{ce(o.cssRules||[]).forEach((d,l)=>{if(d.type===CSSRule.IMPORT_RULE){let h=l+1,w=d.href,x=oi(w).then(V=>li(V,t)).then(V=>si(V).forEach(N=>{try{o.insertRule(N,N.startsWith("@import")?h+=1:o.cssRules.length)}catch(xi){console.error("Error inserting rule from remote css",{rule:N,error:xi})}})).catch(V=>{console.error("Error loading remote css",V.toString())});i.push(x)}})}catch(d){let l=n.find(h=>h.href==null)||document.styleSheets[0];o.href!=null&&i.push(oi(o.href).then(h=>li(h,t)).then(h=>si(h).forEach(w=>{l.insertRule(w,l.cssRules.length)})).catch(h=>{console.error("Error loading remote stylesheet",h)})),console.error("Error inlining remote css file",d)}}),Promise.all(i).then(()=>(n.forEach(o=>{if("cssRules"in o)try{ce(o.cssRules||[]).forEach(d=>{e.push(d)})}catch(d){console.error(`Error while reading CSS rules from ${o.href}`,d)}}),e))})}function dn(n){return n.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Tt(t.style.getPropertyValue("src")))}function cn(n,t){return C(this,null,function*(){if(n.ownerDocument==null)throw new Error("Provided element is not within a Document");let e=ce(n.ownerDocument.styleSheets),i=yield sn(e,t);return dn(i)})}function di(n){return n.trim().replace(/["']/g,"")}function un(n){let t=new Set;function e(i){(i.style.fontFamily||getComputedStyle(i).fontFamily).split(",").forEach(d=>{t.add(di(d))}),Array.from(i.children).forEach(d=>{d instanceof HTMLElement&&e(d)})}return e(n),t}function ci(n,t){return C(this,null,function*(){let e=yield cn(n,t),i=un(n);return(yield Promise.all(e.filter(d=>i.has(di(d.style.fontFamily))).map(d=>{let l=d.parentStyleSheet?d.parentStyleSheet.href:null;return pt(d.cssText,l,t)}))).join(`
`)})}function ui(n,t){return C(this,null,function*(){let e=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:yield ci(n,t);if(e){let i=document.createElement("style"),o=document.createTextNode(e);i.appendChild(o),n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)}})}function mn(e){return C(this,arguments,function*(n,t={}){let{width:i,height:o}=kt(n,t),d=yield $e(n,t,!0);return yield ui(d,t),yield It(d,t),ri(d,t),yield Qt(d,i,o)})}function pn(e){return C(this,arguments,function*(n,t={}){let{width:i,height:o}=kt(n,t),d=yield mn(n,t),l=yield Oe(d),h=document.createElement("canvas"),w=h.getContext("2d"),x=t.pixelRatio||$t(),V=t.canvasWidth||i,N=t.canvasHeight||o;return h.width=V*x,h.height=N*x,t.skipAutoScale||Gt(h),h.style.width=`${V}`,h.style.height=`${N}`,t.backgroundColor&&(w.fillStyle=t.backgroundColor,w.fillRect(0,0,h.width,h.height)),w.drawImage(l,0,0,h.width,h.height),h})}function mi(e){return C(this,arguments,function*(n,t={}){return(yield pn(n,t)).toDataURL()})}var hn=["previewContent"],fn=()=>({width:"600px"});function _n(n,t){if(n&1&&g(0,"p-chip",34),n&2){let e=t.$implicit;u("label",e.name)}}function bn(n,t){if(n&1&&g(0,"p-chip",35),n&2){let e=f(3);u("label","+"+(e.job.skills.length-5)+" k\u1EF9 n\u0103ng kh\xE1c")}}function vn(n,t){if(n&1&&(r(0,"div")(1,"h4",9),s(2,"K\u1EF9 n\u0103ng y\xEAu c\u1EA7u"),a(),r(3,"div",31),M(4,_n,1,1,"p-chip",32)(5,bn,1,1,"p-chip",33),a()()),n&2){let e=f(2);c(4),u("ngForOf",e.getTopSkills()),c(),u("ngIf",e.job.skills.length>5)}}function yn(n,t){if(n&1){let e=F();r(0,"div",4,1)(2,"div",5)(3,"div",6),g(4,"i",7),r(5,"h3",8),s(6),a()()(),r(7,"div")(8,"h4",9),s(9,"M\xF4 t\u1EA3 c\xF4ng vi\u1EC7c"),a(),r(10,"p",10),s(11),a()(),g(12,"p-divider"),r(13,"div",11)(14,"div")(15,"h4",12),s(16,"M\u1EE9c l\u01B0\u01A1ng"),a(),r(17,"p",13),s(18),a()(),r(19,"div")(20,"h4",12),s(21,"\u0110\u1ECBa \u0111i\u1EC3m"),a(),r(22,"p",13),g(23,"i",14),s(24),a()()(),M(25,vn,6,2,"div",15),g(26,"p-divider"),r(27,"div",16)(28,"div",17)(29,"div",18),s(30),a(),r(31,"div",19)(32,"h4",20),s(33),a(),r(34,"p",21),s(35),a(),r(36,"p",22),g(37,"i",23),s(38," Tuy\u1EC3n d\u1EE5ng nh\xE2n t\xE0i - X\xE2y d\u1EF1ng t\u01B0\u01A1ng lai "),a()()()(),r(39,"div",24)(40,"p",25),s(41,"Link chia s\u1EBB:"),a(),r(42,"p",26),s(43),a(),g(44,"p-divider",27),r(45,"p",25),s(46,"N\u1ED9i dung chia s\u1EBB:"),a(),r(47,"div",28)(48,"pre",29),s(49),a()(),r(50,"p-button",30),E("onClick",function(){m(e);let o=f();return p(o.copyShareText())}),a()()()}if(n&2){let e=f();c(6),S(e.job.title),c(5),T(" ",e.getJobSummary()," "),c(7),ne("",e.formatSalary(e.job.salary_min)," - ",e.formatSalary(e.job.salary_max)," VND"),c(6),T(" ",e.job.location," "),c(),u("ngIf",e.job.skills&&e.job.skills.length>0),c(5),T(" ",e.getCompanyInitials()," "),c(3),S(e.job.customer==null?null:e.job.customer.name),c(2),S(e.job.customer==null?null:e.job.customer.industry),c(8),S(e.getShareLink()),c(6),S(e.getShareText()),c(),u("outlined",!0)}}function xn(n,t){if(n&1){let e=F();r(0,"div",36)(1,"p-button",37),E("onClick",function(){m(e);let o=f();return p(o.onCancel())}),a(),r(2,"p-button",38),E("onClick",function(){m(e);let o=f();return p(o.generateAndDownloadImage())}),a(),r(3,"p-button",39),E("onClick",function(){m(e);let o=f();return p(o.onConfirmShare())}),a()()}n&2&&(c(),u("text",!0),c(),u("outlined",!0))}var Ue=class n{constructor(t){this.messageService=t}visible=!1;job=null;visibleChange=new wt;confirmShare=new wt;previewContent;MAX_SUMMARY_LENGTH=200;getJobSummary(){if(!this.job)return"";let t=this.job.description;return t.length<=this.MAX_SUMMARY_LENGTH?t:t.substring(0,this.MAX_SUMMARY_LENGTH)+"..."}formatSalary(t){return(t/1e6).toFixed(0)+" tri\u1EC7u"}getTopSkills(){return this.job?.skills?this.job.skills.slice(0,5):[]}getCompanyInitials(){return this.job?.customer?.name?this.job.customer.name.split(" ").map(t=>t[0]).join("").toUpperCase().substring(0,2):"??"}getShareLink(){return this.job?st(this.job.id):""}getShareText(){if(!this.job)return"";let t=`${this.formatSalary(this.job.salary_min)} - ${this.formatSalary(this.job.salary_max)} VND`,e=`${this.job.experience_min} - ${this.job.experience_max} n\u0103m kinh nghi\u1EC7m`,i=this.job.skills&&this.job.skills.length>0?this.job.skills.slice(0,5).map(l=>l.name).join(", "):"Nhi\u1EC1u k\u1EF9 n\u0103ng \u0111a d\u1EA1ng",o=this.job.skills&&this.job.skills.length>5?` v\xE0 ${this.job.skills.length-5} k\u1EF9 n\u0103ng kh\xE1c`:"",d=this.job.customer?`${this.job.customer.name} - ${this.job.customer.industry}`:"C\xF4ng ty h\xE0ng \u0111\u1EA7u";return`\u{1F680} TUY\u1EC2N D\u1EE4NG: ${this.job.title}

\u{1F4CD} \u0110\u1ECBa \u0111i\u1EC3m: ${this.job.location}
\u{1F4B0} M\u1EE9c l\u01B0\u01A1ng: ${t}
\u{1F4BC} Kinh nghi\u1EC7m: ${e}
\u{1F393} Tr\xECnh \u0111\u1ED9: ${this.job.education_level}

\u2728 K\u1EF9 n\u0103ng y\xEAu c\u1EA7u: ${i}${o}

\u{1F4CB} M\xF4 t\u1EA3 c\xF4ng vi\u1EC7c:
${this.job.description}

\u{1F3E2} ${d}

Tuy\u1EC3n d\u1EE5ng nh\xE2n t\xE0i - X\xE2y d\u1EF1ng t\u01B0\u01A1ng lai

\u{1F517} Chi ti\u1EBFt & \u1EE8ng tuy\u1EC3n: ${this.getShareLink()}

#TuyenDung #JobOpportunity #Career #${this.job.location.replace(/\s+/g,"")}`}copyShareText(){return C(this,null,function*(){let t=this.getShareText();try{yield navigator.clipboard.writeText(t),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"\u0110\xE3 copy n\u1ED9i dung chia s\u1EBB v\xE0o clipboard"})}catch{let i=document.createElement("textarea");i.value=t,i.style.position="fixed",i.style.left="-999999px",document.body.appendChild(i),i.select();try{document.execCommand("copy"),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"\u0110\xE3 copy n\u1ED9i dung chia s\u1EBB v\xE0o clipboard"})}catch{this.messageService.add({severity:"error",summary:"L\u1ED7i",detail:"Kh\xF4ng th\u1EC3 copy n\u1ED9i dung. Vui l\xF2ng copy th\u1EE7 c\xF4ng."})}document.body.removeChild(i)}})}sanitizeFilename(t){return t.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").substring(0,50)}generateAndDownloadImage(){return C(this,null,function*(){if(!this.previewContent?.nativeElement||!this.job){this.messageService.add({severity:"error",summary:"L\u1ED7i",detail:"Kh\xF4ng th\u1EC3 t\u1EA1o \u1EA3nh. Vui l\xF2ng th\u1EED l\u1EA1i."});return}try{this.messageService.add({severity:"info",summary:"\u0110ang x\u1EED l\xFD",detail:"\u0110ang t\u1EA1o \u1EA3nh, vui l\xF2ng \u0111\u1EE3i..."});let t=this.previewContent.nativeElement,e=yield mi(t,{quality:1,pixelRatio:2,backgroundColor:"#ffffff",width:680,style:{padding:"40px",margin:"0",boxSizing:"border-box",maxWidth:"none"}}),i=document.createElement("a"),d=`tuyen-dung-${this.sanitizeFilename(this.job.title)}-${Date.now()}.png`;i.download=d,i.href=e,i.click(),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"\u0110\xE3 t\u1EA3i \u1EA3nh xu\u1ED1ng th\xE0nh c\xF4ng"})}catch(t){console.error("Error generating image:",t),this.messageService.add({severity:"error",summary:"L\u1ED7i",detail:"Kh\xF4ng th\u1EC3 t\u1EA1o \u1EA3nh. Vui l\xF2ng th\u1EED l\u1EA1i."})}})}onCancel(){this.visible=!1,this.visibleChange.emit(!1)}onConfirmShare(){return C(this,null,function*(){yield this.copyShareText(),this.confirmShare.emit()})}static \u0275fac=function(e){return new(e||n)(I(j))};static \u0275cmp=W({type:n,selectors:[["app-share-job-modal"]],viewQuery:function(e,i){if(e&1&&At(hn,5,Pt),e&2){let o;Lt(o=Wt())&&(i.previewContent=o.first)}},inputs:{visible:"visible",job:"job"},outputs:{visibleChange:"visibleChange",confirmShare:"confirmShare"},features:[Q([j])],decls:4,vars:6,consts:[["footer",""],["previewContent",""],["header","Xem tr\u01B0\u1EDBc n\u1ED9i dung chia s\u1EBB","maskStyleClass","backdrop-blur-sm","styleClass","!border-0",3,"visibleChange","visible","modal"],["class","space-y-4",4,"ngIf"],[1,"space-y-4"],[1,"w-full","h-48","bg-gradient-to-r","from-blue-500","to-purple-600","rounded-lg","flex","items-center","justify-center"],[1,"text-center","text-white"],[1,"pi","pi-briefcase","text-6xl","mb-2"],[1,"text-xl","font-bold"],[1,"text-sm","font-semibold","text-surface-700","dark:text-surface-300","mb-2"],[1,"text-surface-600","dark:text-surface-400","text-sm"],[1,"grid","grid-cols-2","gap-4"],[1,"text-xs","font-semibold","text-surface-600","dark:text-surface-400","mb-1"],[1,"font-medium","text-sm"],[1,"pi","pi-map-marker","text-primary","mr-1"],[4,"ngIf"],[1,"bg-surface-50","dark:bg-surface-800","p-4","rounded-lg"],[1,"flex","items-center","gap-3"],[1,"w-12","h-12","bg-primary","rounded-full","flex","items-center","justify-center","text-white","font-bold","text-lg"],[1,"flex-1"],[1,"font-semibold","text-surface-900","dark:text-surface-0"],[1,"text-sm","text-surface-600","dark:text-surface-400"],[1,"text-xs","text-primary","mt-1"],[1,"pi","pi-globe","mr-1"],[1,"bg-blue-50","dark:bg-blue-900","p-3","rounded-lg","space-y-2"],[1,"text-xs","text-surface-600","dark:text-surface-400","mb-1"],[1,"text-sm","font-mono","text-primary","break-all"],["styleClass","my-2"],[1,"bg-white","dark:bg-surface-900","p-3","rounded","border","border-surface-200","dark:border-surface-700"],[1,"text-xs","whitespace-pre-wrap","font-sans","text-surface-900","dark:text-surface-0"],["label","Copy n\u1ED9i dung chia s\u1EBB","icon","pi pi-copy","size","small",1,"w-full","mt-2",3,"onClick","outlined"],[1,"flex","flex-wrap","gap-2"],["styleClass","text-xs",3,"label",4,"ngFor","ngForOf"],["styleClass","text-xs bg-surface-200 dark:bg-surface-700",3,"label",4,"ngIf"],["styleClass","text-xs",3,"label"],["styleClass","text-xs bg-surface-200 dark:bg-surface-700",3,"label"],[1,"flex","justify-end","gap-2","mt-4"],["label","H\u1EE7y","icon","pi pi-times",3,"onClick","text"],["label","T\u1EA1o \u1EA3nh v\xE0 t\u1EA3i xu\u1ED1ng","icon","pi pi-download","severity","secondary",3,"onClick","outlined"],["label","Copy & Chia s\u1EBB l\xEAn Facebook","icon","pi pi-facebook","severity","info",3,"onClick"]],template:function(e,i){if(e&1){let o=F();r(0,"p-dialog",2),y("visibleChange",function(l){return m(o),v(i.visible,l)||(i.visible=l),p(l)}),E("visibleChange",function(l){return m(o),p(i.visibleChange.emit(l))}),M(1,yn,51,12,"div",3)(2,xn,4,2,"ng-template",null,0,k),a()}e&2&&(R(D(5,fn)),b("visible",i.visible),u("modal",!0),c(),u("ngIf",i.job))},dependencies:[B,ye,ue,Z,Y,J,O,Le,Ae,xe,Te],encapsulation:2})};var gt=class n{SCHEME_CHECK_TIMEOUT=2e3;deviceInfo;constructor(){this.deviceInfo=this.detectDevice()}detectDevice(){let t=typeof navigator<"u"?navigator.userAgent:"",e=/Android/i.test(t),i=/iPhone|iPad|iPod/i.test(t),o=/iPad|Android(?!.*Mobile)/i.test(t),d=e||i||/Mobile/i.test(t),l=/FBAN|FBAV/i.test(t);return{isMobile:d,isAndroid:e,isIOS:i,isTablet:o,hasFacebookApp:l,userAgent:t}}getDeviceInfo(){return _({},this.deviceInfo)}isMobileDevice(){return this.deviceInfo.isMobile}isAndroidDevice(){return this.deviceInfo.isAndroid}isIOSDevice(){return this.deviceInfo.isIOS}isTabletDevice(){return this.deviceInfo.isTablet}hasFacebookAppInstalled(){return this.deviceInfo.hasFacebookApp}canOpenUrlScheme(t){return new Promise(e=>{if(typeof window>"u"){e(!1);return}let i=setTimeout(()=>{e(!1)},this.SCHEME_CHECK_TIMEOUT),o=document.createElement("iframe");o.style.display="none",o.src=t,document.body.appendChild(o),setTimeout(()=>{clearTimeout(i),o.parentNode&&document.body.removeChild(o),e(!0)},1e3)})}logDeviceInfo(){console.log("[Mobile Detection] Device Info:",{isMobile:this.deviceInfo.isMobile,isAndroid:this.deviceInfo.isAndroid,isIOS:this.deviceInfo.isIOS,isTablet:this.deviceInfo.isTablet,hasFacebookApp:this.deviceInfo.hasFacebookApp,userAgent:this.deviceInfo.userAgent})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ke=class n{constructor(t){this.mobileDetection=t}FACEBOOK_APP_TIMEOUT=2500;LOG_PREFIX="[Social Share]";shareOnFacebook(t){return C(this,null,function*(){let e=st(t.id);this.logInfo("B\u1EAFt \u0111\u1EA7u chia s\u1EBB l\xEAn Facebook",{jobId:t.id,url:e});let i=this.mobileDetection.getDeviceInfo();if(this.logInfo("Th\xF4ng tin thi\u1EBFt b\u1ECB",i),i.hasFacebookApp)return this.logWarning("\u0110ang ch\u1EA1y trong \u1EE9ng d\u1EE5ng Facebook - s\u1EED d\u1EE5ng web fallback"),this.openWebFallback(e);if(i.isMobile){this.logInfo("Thi\u1EBFt b\u1ECB mobile \u0111\u01B0\u1EE3c ph\xE1t hi\u1EC7n - th\u1EED m\u1EDF \u1EE9ng d\u1EE5ng Facebook native");let o=yield this.tryOpenNativeFacebookApp(e,i);if(o.success)return o;this.logWarning("Kh\xF4ng th\u1EC3 m\u1EDF \u1EE9ng d\u1EE5ng Facebook native - chuy\u1EC3n sang web fallback")}return this.openWebFallback(e)})}tryOpenNativeFacebookApp(t,e){return C(this,null,function*(){try{return e.isAndroid?yield this.openAndroidFacebookApp(t):e.isIOS?yield this.openIOSFacebookApp(t):(this.logWarning("H\u1EC7 \u0111i\u1EC1u h\xE0nh mobile kh\xF4ng \u0111\u01B0\u1EE3c h\u1ED7 tr\u1EE3"),{success:!1,method:"failed",message:"Unsupported mobile OS"})}catch(i){return this.logError("L\u1ED7i khi m\u1EDF \u1EE9ng d\u1EE5ng Facebook native",i),{success:!1,method:"failed",message:"Native app open failed"}}})}openAndroidFacebookApp(t){return C(this,null,function*(){this.logInfo("Th\u1EED m\u1EDF \u1EE9ng d\u1EE5ng Facebook tr\xEAn Android");let e=this.buildFacebookShareUrl(t),i=`intent://share/#Intent;scheme=https;package=com.facebook.katana;S.browser_fallback_url=${encodeURIComponent(e)};end`,o=`fb://facewebmodal/f?href=${encodeURIComponent(e)}`;try{return(yield this.tryOpenUrl(o,this.FACEBOOK_APP_TIMEOUT))?(this.logInfo("M\u1EDF th\xE0nh c\xF4ng \u1EE9ng d\u1EE5ng Facebook qua deep link"),{success:!0,method:"native_app",message:"Opened via Facebook deep link"}):(this.logInfo("Deep link th\u1EA5t b\u1EA1i - th\u1EED Android Intent"),(yield this.tryOpenUrl(i,this.FACEBOOK_APP_TIMEOUT))?(this.logInfo("M\u1EDF th\xE0nh c\xF4ng \u1EE9ng d\u1EE5ng Facebook qua Intent"),{success:!0,method:"native_app",message:"Opened via Android Intent"}):(this.logWarning("Kh\xF4ng th\u1EC3 m\u1EDF \u1EE9ng d\u1EE5ng Facebook tr\xEAn Android"),{success:!1,method:"failed",message:"Failed to open Facebook app on Android"}))}catch(d){return this.logError("L\u1ED7i khi m\u1EDF Facebook tr\xEAn Android",d),{success:!1,method:"failed",message:"Android open error"}}})}openIOSFacebookApp(t){return C(this,null,function*(){this.logInfo("Th\u1EED m\u1EDF \u1EE9ng d\u1EE5ng Facebook tr\xEAn iOS");let e=`fb://share?link=${encodeURIComponent(t)}`;try{return(yield this.tryOpenUrl(e,this.FACEBOOK_APP_TIMEOUT))?(this.logInfo("M\u1EDF th\xE0nh c\xF4ng \u1EE9ng d\u1EE5ng Facebook tr\xEAn iOS"),{success:!0,method:"native_app",message:"Opened via iOS URL scheme"}):(this.logWarning("Kh\xF4ng th\u1EC3 m\u1EDF \u1EE9ng d\u1EE5ng Facebook tr\xEAn iOS - s\u1EED d\u1EE5ng fallback"),{success:!1,method:"failed",message:"Failed to open Facebook app on iOS"})}catch(i){return this.logError("L\u1ED7i khi m\u1EDF Facebook tr\xEAn iOS",i),{success:!1,method:"failed",message:"iOS open error"}}})}buildFacebookShareUrl(t){return`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(t)}`}tryOpenUrl(t,e){return C(this,null,function*(){return new Promise(i=>{if(typeof window>"u"){i(!1);return}let o=!1,d=Date.now(),l=()=>{o=!0,this.logInfo("Window blur detected - app likely opened")};window.addEventListener("blur",l);let h=document.createElement("iframe");h.style.display="none",h.src=t;try{document.body.appendChild(h)}catch(V){this.logWarning("Kh\xF4ng th\u1EC3 th\xEAm iframe",V),window.removeEventListener("blur",l),i(!1);return}let w=()=>{window.removeEventListener("blur",l);try{h.parentNode&&document.body.removeChild(h)}catch{}},x=setTimeout(()=>{w();let V=Date.now()-d;o||V>e+500?(this.logInfo("App c\xF3 v\u1EBB \u0111\xE3 m\u1EDF",{hasBlurred:o,elapsed:V}),i(!0)):(this.logInfo("App kh\xF4ng m\u1EDF \u0111\u01B0\u1EE3c",{hasBlurred:o,elapsed:V}),i(!1))},e);setTimeout(()=>{clearTimeout(x),w()},e+1e3)})})}openWebFallback(t){this.logInfo("S\u1EED d\u1EE5ng web fallback \u0111\u1EC3 chia s\u1EBB");let e=this.buildFacebookShareUrl(t);return window.open(e,"_blank","width=600,height=400,scrollbars=yes,resizable=yes")?(this.logInfo("M\u1EDF th\xE0nh c\xF4ng c\u1EEDa s\u1ED5 chia s\u1EBB Facebook"),{success:!0,method:"web_fallback",message:"Opened Facebook share dialog in browser"}):(this.logError("Kh\xF4ng th\u1EC3 m\u1EDF c\u1EEDa s\u1ED5 chia s\u1EBB - popup b\u1ECB ch\u1EB7n"),{success:!1,method:"failed",message:"Popup blocked"})}logInfo(t,e){e?console.log(`${this.LOG_PREFIX} ${t}`,e):console.log(`${this.LOG_PREFIX} ${t}`)}logWarning(t,e){e?console.warn(`${this.LOG_PREFIX} ${t}`,e):console.warn(`${this.LOG_PREFIX} ${t}`)}logError(t,e){e?console.error(`${this.LOG_PREFIX} ${t}`,e):console.error(`${this.LOG_PREFIX} ${t}`)}static \u0275fac=function(e){return new(e||n)(Ze(gt))};static \u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})};var En=()=>["/rms"],Cn=()=>({"min-width":"60rem"}),wn=()=>({width:"600px"}),kn=n=>["/rms/jobs",n];function Mn(n,t){n&1&&(r(0,"tr")(1,"th"),s(2,"Ti\xEAu \u0111\u1EC1"),a(),r(3,"th"),s(4,"\u0110\u1ECBa \u0111i\u1EC3m"),a(),r(5,"th"),s(6,"L\u01B0\u01A1ng (VND)"),a(),r(7,"th"),s(8,"Kinh nghi\u1EC7m"),a(),r(9,"th"),s(10,"Tr\u1EA1ng th\xE1i"),a(),r(11,"th",25),s(12,"H\xE0nh \u0111\u1ED9ng"),a()())}function Dn(n,t){if(n&1){let e=F();r(0,"tr")(1,"td")(2,"div",26),s(3),a(),r(4,"div",27),s(5),tt(6,"slice"),a()(),r(7,"td"),g(8,"i",28),s(9),a(),r(10,"td")(11,"div",29),s(12),a()(),r(13,"td"),s(14),a(),r(15,"td"),g(16,"p-tag",30),a(),r(17,"td")(18,"div",31),g(19,"p-button",32),r(20,"p-button",33),E("onClick",function(){let o=m(e).$implicit,d=f();return p(d.openEditDialog(o))}),a(),r(21,"p-button",34),E("onClick",function(){let o=m(e).$implicit,d=f();return p(d.openShareDialog(o))}),a(),r(22,"p-button",35),E("onClick",function(){let o=m(e).$implicit,d=f();return p(d.confirmDelete(o))}),a()()()()}if(n&2){let e=t.$implicit,i=f();c(3),S(e.title),c(2),T("",it(6,14,e.description,0,80),"..."),c(4),T(" ",e.location," "),c(3),ne("",i.formatSalary(e.salary_min)," - ",i.formatSalary(e.salary_max)),c(2),ne("",e.experience_min," - ",e.experience_max," n\u0103m"),c(2),u("value",e.status)("severity",e.status==="Open"?"success":"danger"),c(3),u("text",!0)("routerLink",U(18,kn,e.id)),c(),u("text",!0),c(),u("text",!0),c(),u("text",!0)}}function Fn(n,t){if(n&1){let e=F();r(0,"div",36)(1,"p-button",37),E("onClick",function(){m(e);let o=f();return p(o.closeDialog())}),a(),r(2,"p-button",38),E("onClick",function(){m(e);let o=f();return p(o.saveJob())}),a()()}n&2&&(c(),u("text",!0))}var ht=class n{constructor(t,e,i,o){this.rmsService=t;this.confirmationService=e;this.messageService=i;this.socialShareService=o}jobs=[];customers=[];displayDialog=!1;isEditMode=!1;selectedJob=null;displayShareDialog=!1;selectedJobForShare=null;jobForm={title:"",description:"",customer_id:null,location:"",salary_min:0,salary_max:0,education_level:"",experience_min:0,experience_max:0,status:"Open"};statusOptions=[{label:"M\u1EDF",value:"Open"},{label:"\u0110\xF3ng",value:"Closed"}];ngOnInit(){this.loadJobs(),this.loadCustomers()}loadJobs(){this.rmsService.getJobs().subscribe(t=>{this.jobs=t})}loadCustomers(){this.rmsService.getData().subscribe(t=>{this.customers=t.customers})}openCreateDialog(){this.isEditMode=!1,this.selectedJob=null,this.resetForm(),this.displayDialog=!0}openEditDialog(t){this.isEditMode=!0,this.selectedJob=t,this.jobForm=_({},t),this.displayDialog=!0}closeDialog(){this.displayDialog=!1,this.resetForm()}resetForm(){this.jobForm={title:"",description:"",customer_id:null,location:"",salary_min:0,salary_max:0,education_level:"",experience_min:0,experience_max:0,status:"Open"}}saveJob(){if(!this.validateForm()){this.messageService.add({severity:"error",summary:"L\u1ED7i",detail:"Vui l\xF2ng \u0111i\u1EC1n \u0111\u1EA7y \u0111\u1EE7 th\xF4ng tin b\u1EAFt bu\u1ED9c"});return}this.isEditMode&&this.selectedJob?(this.rmsService.updateJob(this.selectedJob.id,this.jobForm),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"C\u1EADp nh\u1EADt c\xF4ng vi\u1EC7c th\xE0nh c\xF4ng"})):(this.rmsService.createJob(this.jobForm),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"Th\xEAm c\xF4ng vi\u1EC7c m\u1EDBi th\xE0nh c\xF4ng"})),this.closeDialog(),this.loadJobs()}validateForm(){return this.jobForm.title&&this.jobForm.description&&this.jobForm.customer_id&&this.jobForm.location&&this.jobForm.education_level&&this.jobForm.salary_min>0&&this.jobForm.salary_max>0}confirmDelete(t){this.confirmationService.confirm({message:`B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a c\xF4ng vi\u1EC7c "${t.title}"? H\xE0nh \u0111\u1ED9ng n\xE0y kh\xF4ng th\u1EC3 ho\xE0n t\xE1c.`,header:"X\xE1c nh\u1EADn x\xF3a",icon:"pi pi-exclamation-triangle",acceptLabel:"X\xF3a",rejectLabel:"H\u1EE7y",accept:()=>{this.deleteJob(t)}})}deleteJob(t){this.rmsService.deleteJob(t.id),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"X\xF3a c\xF4ng vi\u1EC7c th\xE0nh c\xF4ng"}),this.loadJobs()}formatSalary(t){return(t/1e6).toFixed(0)+"M"}openShareDialog(t){this.rmsService.getJobById(t.id).subscribe({next:e=>{this.selectedJobForShare=e||null,this.displayShareDialog=!0},error:()=>{this.messageService.add({severity:"error",summary:"L\u1ED7i",detail:"Kh\xF4ng th\u1EC3 t\u1EA3i th\xF4ng tin c\xF4ng vi\u1EC7c"})}})}handleShareConfirm(){return C(this,null,function*(){if(this.selectedJobForShare)try{let t=yield this.socialShareService.shareOnFacebook(this.selectedJobForShare);if(t.success){let e=t.method==="native_app"?"\u0110\xE3 m\u1EDF \u1EE9ng d\u1EE5ng Facebook. N\u1ED9i dung \u0111\xE3 \u0111\u01B0\u1EE3c copy, b\u1EA1n c\xF3 th\u1EC3 paste v\xE0o b\xE0i vi\u1EBFt!":"\u0110ang m\u1EDF c\u1EEDa s\u1ED5 chia s\u1EBB Facebook. N\u1ED9i dung \u0111\xE3 \u0111\u01B0\u1EE3c copy, b\u1EA1n c\xF3 th\u1EC3 paste v\xE0o b\xE0i vi\u1EBFt!";this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:e,life:5e3})}else{let e="Kh\xF4ng th\u1EC3 m\u1EDF chia s\u1EBB Facebook";t.message==="Popup blocked"&&(e="Vui l\xF2ng cho ph\xE9p popup \u0111\u1EC3 chia s\u1EBB l\xEAn Facebook"),this.messageService.add({severity:"warn",summary:"C\u1EA3nh b\xE1o",detail:e})}this.displayShareDialog=!1}catch(t){console.error("L\u1ED7i khi chia s\u1EBB l\xEAn Facebook:",t),this.messageService.add({severity:"error",summary:"L\u1ED7i",detail:"C\xF3 l\u1ED7i x\u1EA3y ra khi chia s\u1EBB"})}})}static \u0275fac=function(e){return new(e||n)(I(H),I(L),I(j),I(Ke))};static \u0275cmp=W({type:n,selectors:[["app-jobs-list"]],features:[Q([L,j])],decls:85,vars:32,consts:[["header",""],["body",""],["footer",""],[1,"card"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-2xl","font-bold","text-surface-900","dark:text-surface-0"],[1,"text-surface-600","dark:text-surface-400","mt-1"],[1,"flex","gap-2"],["label","Th\xEAm C\xF4ng vi\u1EC7c","icon","pi pi-plus",3,"onClick"],["label","Quay l\u1EA1i Dashboard","icon","pi pi-arrow-left",3,"text","routerLink"],[3,"value","tableStyle"],["maskStyleClass","backdrop-blur-sm","styleClass","!border-0",3,"visibleChange","visible","header","modal"],[1,"space-y-4"],[1,"block","text-sm","font-medium","mb-2"],[2,"color","red"],["pInputText","","placeholder","VD: Senior Frontend Developer",1,"w-full",3,"ngModelChange","ngModel"],["pInputTextarea","","rows","4","placeholder","M\xF4 t\u1EA3 chi ti\u1EBFt v\u1EC1 c\xF4ng vi\u1EC7c...",1,"w-full",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-2","gap-4"],["appendTo","body","optionLabel","name","optionValue","id","placeholder","Ch\u1ECDn kh\xE1ch h\xE0ng",1,"w-full",3,"ngModelChange","ngModel","options"],["appendTo","body","optionLabel","label","optionValue","value","placeholder","Ch\u1ECDn tr\u1EA1ng th\xE1i",1,"w-full",3,"ngModelChange","ngModel","options"],["pInputText","","placeholder","VD: Ho Chi Minh City",1,"w-full",3,"ngModelChange","ngModel"],["mode","decimal",1,"w-full",3,"ngModelChange","ngModel","min"],["pInputText","","placeholder","VD: Bachelor's Degree",1,"w-full",3,"ngModelChange","ngModel"],[1,"w-full",3,"ngModelChange","ngModel","min","max"],[3,"visibleChange","confirmShare","visible","job"],[2,"width","250px"],[1,"font-semibold","text-primary"],[1,"text-sm","text-surface-600","dark:text-surface-400"],[1,"pi","pi-map-marker","text-surface-400","mr-2"],[1,"text-sm"],[3,"value","severity"],[1,"flex","gap-1"],["label","Xem","icon","pi pi-eye","size","small",3,"text","routerLink"],["label","S\u1EEDa","icon","pi pi-pencil","size","small","severity","warn",3,"onClick","text"],["label","Chia s\u1EBB","icon","pi pi-share-alt","size","small","severity","info",3,"onClick","text"],["label","X\xF3a","icon","pi pi-trash","size","small","severity","danger",3,"onClick","text"],[1,"flex","justify-end","gap-2","mt-4"],["label","H\u1EE7y","icon","pi pi-times",3,"onClick","text"],["label","L\u01B0u","icon","pi pi-check",3,"onClick"]],template:function(e,i){if(e&1){let o=F();r(0,"div",3),g(1,"p-toast")(2,"p-confirmDialog"),r(3,"div",4)(4,"div")(5,"h2",5),s(6,"Danh s\xE1ch C\xF4ng vi\u1EC7c"),a(),r(7,"p",6),s(8,"T\u1EA5t c\u1EA3 c\xE1c v\u1ECB tr\xED tuy\u1EC3n d\u1EE5ng"),a()(),r(9,"div",7)(10,"p-button",8),E("onClick",function(){return m(o),p(i.openCreateDialog())}),a(),g(11,"p-button",9),a()(),r(12,"p-table",10),M(13,Mn,13,0,"ng-template",null,0,k)(15,Dn,23,20,"ng-template",null,1,k),a()(),r(17,"p-dialog",11),y("visibleChange",function(l){return m(o),v(i.displayDialog,l)||(i.displayDialog=l),p(l)}),r(18,"div",12)(19,"div")(20,"label",13),s(21,"Ti\xEAu \u0111\u1EC1 "),r(22,"span",14),s(23,"*"),a()(),r(24,"input",15),y("ngModelChange",function(l){return m(o),v(i.jobForm.title,l)||(i.jobForm.title=l),p(l)}),a()(),r(25,"div")(26,"label",13),s(27,"M\xF4 t\u1EA3 "),r(28,"span",14),s(29,"*"),a()(),r(30,"textarea",16),y("ngModelChange",function(l){return m(o),v(i.jobForm.description,l)||(i.jobForm.description=l),p(l)}),a()(),r(31,"div",17)(32,"div")(33,"label",13),s(34,"Kh\xE1ch h\xE0ng "),r(35,"span",14),s(36,"*"),a()(),r(37,"p-select",18),y("ngModelChange",function(l){return m(o),v(i.jobForm.customer_id,l)||(i.jobForm.customer_id=l),p(l)}),a()(),r(38,"div")(39,"label",13),s(40,"Tr\u1EA1ng th\xE1i "),r(41,"span",14),s(42,"*"),a()(),r(43,"p-select",19),y("ngModelChange",function(l){return m(o),v(i.jobForm.status,l)||(i.jobForm.status=l),p(l)}),a()()(),r(44,"div")(45,"label",13),s(46,"\u0110\u1ECBa \u0111i\u1EC3m "),r(47,"span",14),s(48,"*"),a()(),r(49,"input",20),y("ngModelChange",function(l){return m(o),v(i.jobForm.location,l)||(i.jobForm.location=l),p(l)}),a()(),r(50,"div",17)(51,"div")(52,"label",13),s(53,"L\u01B0\u01A1ng t\u1ED1i thi\u1EC3u (VND) "),r(54,"span",14),s(55,"*"),a()(),r(56,"p-inputNumber",21),y("ngModelChange",function(l){return m(o),v(i.jobForm.salary_min,l)||(i.jobForm.salary_min=l),p(l)}),a()(),r(57,"div")(58,"label",13),s(59,"L\u01B0\u01A1ng t\u1ED1i \u0111a (VND) "),r(60,"span",14),s(61,"*"),a()(),r(62,"p-inputNumber",21),y("ngModelChange",function(l){return m(o),v(i.jobForm.salary_max,l)||(i.jobForm.salary_max=l),p(l)}),a()()(),r(63,"div")(64,"label",13),s(65,"Tr\xECnh \u0111\u1ED9 h\u1ECDc v\u1EA5n "),r(66,"span",14),s(67,"*"),a()(),r(68,"input",22),y("ngModelChange",function(l){return m(o),v(i.jobForm.education_level,l)||(i.jobForm.education_level=l),p(l)}),a()(),r(69,"div",17)(70,"div")(71,"label",13),s(72,"Kinh nghi\u1EC7m t\u1ED1i thi\u1EC3u (n\u0103m) "),r(73,"span",14),s(74,"*"),a()(),r(75,"p-inputNumber",23),y("ngModelChange",function(l){return m(o),v(i.jobForm.experience_min,l)||(i.jobForm.experience_min=l),p(l)}),a()(),r(76,"div")(77,"label",13),s(78,"Kinh nghi\u1EC7m t\u1ED1i \u0111a (n\u0103m) "),r(79,"span",14),s(80,"*"),a()(),r(81,"p-inputNumber",23),y("ngModelChange",function(l){return m(o),v(i.jobForm.experience_max,l)||(i.jobForm.experience_max=l),p(l)}),a()()()(),M(82,Fn,3,1,"ng-template",null,2,k),a(),r(84,"app-share-job-modal",24),y("visibleChange",function(l){return m(o),v(i.displayShareDialog,l)||(i.displayShareDialog=l),p(l)}),E("confirmShare",function(){return m(o),p(i.handleShareConfirm())}),a()}e&2&&(c(11),u("text",!0)("routerLink",D(29,En)),c(),u("value",i.jobs)("tableStyle",D(30,Cn)),c(5),R(D(31,wn)),b("visible",i.displayDialog),u("header",i.isEditMode?"S\u1EEDa C\xF4ng vi\u1EC7c":"Th\xEAm C\xF4ng vi\u1EC7c m\u1EDBi")("modal",!0),c(7),b("ngModel",i.jobForm.title),c(6),b("ngModel",i.jobForm.description),c(7),b("ngModel",i.jobForm.customer_id),u("options",i.customers),c(6),b("ngModel",i.jobForm.status),u("options",i.statusOptions),c(6),b("ngModel",i.jobForm.location),c(7),b("ngModel",i.jobForm.salary_min),u("min",0),c(6),b("ngModel",i.jobForm.salary_max),u("min",0),c(6),b("ngModel",i.jobForm.education_level),c(7),b("ngModel",i.jobForm.experience_min),u("min",0)("max",50),c(6),b("ngModel",i.jobForm.experience_max),u("min",0)("max",50),c(3),b("visible",i.displayShareDialog),u("job",i.selectedJobForShare))},dependencies:[B,z,X,oe,me,re,ae,K,te,ee,$,q,J,O,Z,Y,ge,pe,Se,Re,Ve,Ie,_e,fe,ve,be,se,le,Ue,nt],encapsulation:2})};var Tn=()=>({width:"700px"}),In=()=>["/rms/jobs"],Vn=()=>[],jn=()=>({"min-width":"50rem"}),Pn=()=>({width:"120px",height:"8px"}),Rn=n=>["/rms/candidates",n];function An(n,t){if(n&1&&g(0,"p-chip",40),n&2){let e=t.$implicit,i=f(2);u("label",e.name+" ("+i.getImportanceText(e.importance_level)+")")("styleClass",i.getImportanceClass(e.importance_level))}}function Ln(n,t){if(n&1){let e=F();r(0,"div",41)(1,"h3",42),s(2,"\u1EE8ng vi\xEAn \u0111\xE3 \u1EE9ng tuy\u1EC3n"),a(),r(3,"p-button",43),E("onClick",function(){m(e);let o=f(2);return p(o.openAddCandidateDialog())}),a()()}}function Wn(n,t){n&1&&(r(0,"tr")(1,"th"),s(2,"T\xEAn \u1EE9ng vi\xEAn"),a(),r(3,"th"),s(4,"V\u1ECB tr\xED hi\u1EC7n t\u1EA1i"),a(),r(5,"th"),s(6,"\u0110\u1ECBa \u0111i\u1EC3m"),a(),r(7,"th"),s(8,"Tr\u1EA1ng th\xE1i"),a(),r(9,"th"),s(10,"Matching Score"),a(),r(11,"th",44),s(12,"H\xE0nh \u0111\u1ED9ng"),a()())}function Bn(n,t){if(n&1&&(r(0,"tr")(1,"td")(2,"div",45),g(3,"i",46),r(4,"span",47),s(5),a()()(),r(6,"td"),s(7),a(),r(8,"td"),s(9),a(),r(10,"td"),g(11,"p-tag",31),a(),r(12,"td")(13,"div",48),g(14,"p-progressBar",49),r(15,"span",50),s(16),a()()(),r(17,"td"),g(18,"p-button",51),a()()),n&2){let e=t.$implicit,i=f(2);c(5),S(e.full_name),c(2),S(e.current_position),c(2),S(e.location),c(2),u("value",e.status)("severity",i.getStatusSeverity(e.status)),c(3),R(D(12,Pn)),u("value",e.matching_score.overall_score)("showValue",!1),c(2),T("",e.matching_score.overall_score,"%"),c(2),u("text",!0)("routerLink",U(13,Rn,e.id))}}function On(n,t){n&1&&(r(0,"tr")(1,"td",52),s(2,"Ch\u01B0a c\xF3 \u1EE9ng vi\xEAn n\xE0o \u1EE9ng tuy\u1EC3n"),a()())}function Jn(n,t){if(n&1){let e=F();r(0,"div",14),g(1,"p-toast"),r(2,"div",15)(3,"div",16)(4,"div")(5,"h1",17),s(6),a(),r(7,"p",18),g(8,"i",19),s(9),a()(),r(10,"div",20)(11,"p-button",21),E("onClick",function(){m(e);let o=f();return p(o.openShareDialog())}),a(),g(12,"p-button",22),a()()(),r(13,"div",23)(14,"p-card",24)(15,"div",7)(16,"div")(17,"h3",25),s(18,"M\xF4 t\u1EA3 c\xF4ng vi\u1EC7c"),a(),r(19,"p",26),s(20),a()(),g(21,"p-divider"),r(22,"div",27)(23,"div")(24,"h4",28),s(25,"\u0110\u1ECBa \u0111i\u1EC3m"),a(),r(26,"p",29),g(27,"i",30),s(28),a()(),r(29,"div")(30,"h4",28),s(31,"M\u1EE9c l\u01B0\u01A1ng"),a(),r(32,"p",29),s(33),a()(),r(34,"div")(35,"h4",28),s(36,"Tr\xECnh \u0111\u1ED9 h\u1ECDc v\u1EA5n"),a(),r(37,"p",29),s(38),a()(),r(39,"div")(40,"h4",28),s(41,"Kinh nghi\u1EC7m"),a(),r(42,"p",29),s(43),a()(),r(44,"div")(45,"h4",28),s(46,"Tr\u1EA1ng th\xE1i"),a(),g(47,"p-tag",31),a()(),g(48,"p-divider"),r(49,"div")(50,"h3",32),s(51,"K\u1EF9 n\u0103ng y\xEAu c\u1EA7u"),a(),r(52,"div",33),M(53,An,1,2,"p-chip",34),a()()()()(),r(54,"div",35)(55,"p-card",36)(56,"div",37)(57,"div")(58,"h4",28),s(59,"C\xF4ng ty"),a(),r(60,"p",29),s(61),a()(),r(62,"div")(63,"h4",28),s(64,"Ng\xE0nh ngh\u1EC1"),a(),r(65,"p",29),s(66),a()(),r(67,"div")(68,"h4",28),s(69,"Email"),a(),r(70,"p",29),s(71),a()(),r(72,"div")(73,"h4",28),s(74,"\u0110i\u1EC7n tho\u1EA1i"),a(),r(75,"p",29),s(76),a()()()()(),r(77,"div",15)(78,"p-card",38),M(79,Ln,4,0,"ng-template",null,2,k),r(81,"p-table",39),M(82,Wn,13,0,"ng-template",null,2,k)(84,Bn,19,15,"ng-template",null,3,k)(86,On,3,0,"ng-template",null,4,k),a()()()()}if(n&2){let e=f();c(6),S(e.job.title),c(3),ne(" ",e.job.customer==null?null:e.job.customer.name," - ",e.job.customer==null?null:e.job.customer.industry," "),c(3),u("text",!0)("routerLink",D(21,In)),c(8),S(e.job.description),c(8),T(" ",e.job.location," "),c(5),ne("",e.formatSalary(e.job.salary_min)," - ",e.formatSalary(e.job.salary_max)," VND"),c(5),S(e.job.education_level),c(5),ne("",e.job.experience_min," - ",e.job.experience_max," n\u0103m"),c(4),u("value",e.job.status)("severity",e.job.status==="Open"?"success":"danger"),c(6),u("ngForOf",e.job.skills),c(8),S(e.job.customer==null?null:e.job.customer.name),c(5),S(e.job.customer==null?null:e.job.customer.industry),c(5),S(e.job.customer==null?null:e.job.customer.contact_email),c(5),S(e.job.customer==null?null:e.job.customer.contact_phone),c(5),u("value",e.job.candidates||D(22,Vn))("tableStyle",D(23,jn))}}function Hn(n,t){if(n&1&&(r(0,"div",53)(1,"div")(2,"div",47),s(3),a(),r(4,"div",54),s(5),a(),r(6,"div",55),s(7),a()()()),n&2){let e=t.$implicit;c(3),S(e.full_name),c(2),ne("",e.current_position," - ",e.location),c(2),S(e.email)}}function Nn(n,t){if(n&1&&(r(0,"div")(1,"div",47),s(2),a(),r(3,"div",54),s(4),a()()),n&2){let e=t.$implicit;c(2),S(e.name),c(2),S(e.specialization)}}function Un(n,t){if(n&1){let e=F();r(0,"div",56)(1,"p-button",57),E("onClick",function(){m(e);let o=f();return p(o.closeAddCandidateDialog())}),a(),r(2,"p-button",58),E("onClick",function(){m(e);let o=f();return p(o.addCandidateToJob())}),a()()}n&2&&(c(),u("text",!0))}var vt=class n{constructor(t,e,i,o){this.route=t;this.rmsService=e;this.messageService=i;this.socialShareService=o}job=null;displayAddCandidateDialog=!1;displayShareDialog=!1;availableCandidates=[];hunters=[];selectedCandidateId=null;selectedHunterId=null;selectedStatus="Applied";statusOptions=[{label:"\u0110\xE3 \u1EE9ng tuy\u1EC3n",value:"Applied"},{label:"S\xE0ng l\u1ECDc",value:"Screening"},{label:"Ph\u1ECFng v\u1EA5n",value:"Interviewing"},{label:"\u0110\xE3 \u0111\u1EC1 ngh\u1ECB",value:"Offered"},{label:"\u0110\xE3 tuy\u1EC3n",value:"Hired"},{label:"T\u1EEB ch\u1ED1i",value:"Rejected"}];ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));this.loadJob(t),this.loadHunters()}loadJob(t){this.rmsService.getJobById(t).subscribe(e=>{this.job=e||null,this.loadAvailableCandidates(t)})}loadAvailableCandidates(t){jt([this.rmsService.getCandidates(),this.rmsService.getCandidateJobsByJobId(t)]).subscribe(([e,i])=>{let o=i.map(d=>d.candidate_id);this.availableCandidates=e.filter(d=>!o.includes(d.id))})}loadHunters(){this.rmsService.getHunters().subscribe(t=>{this.hunters=t})}openAddCandidateDialog(){this.selectedCandidateId=null,this.selectedHunterId=null,this.selectedStatus="Applied",this.displayAddCandidateDialog=!0}closeAddCandidateDialog(){this.displayAddCandidateDialog=!1}addCandidateToJob(){if(!this.selectedCandidateId||!this.selectedHunterId||!this.job){this.messageService.add({severity:"error",summary:"L\u1ED7i",detail:"Vui l\xF2ng ch\u1ECDn \u0111\u1EA7y \u0111\u1EE7 th\xF4ng tin"});return}let t={candidate_id:this.selectedCandidateId,job_id:this.job.id,hunter_id:this.selectedHunterId,applied_date:new Date().toISOString(),current_status:this.selectedStatus};this.rmsService.addCandidateToJob(t),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"\u0110\xE3 th\xEAm \u1EE9ng vi\xEAn v\xE0o c\xF4ng vi\u1EC7c"}),this.closeAddCandidateDialog(),this.loadJob(this.job.id)}formatSalary(t){return(t/1e6).toFixed(0)+" tri\u1EC7u"}getImportanceText(t){return["","T\u1ED1t n\u1EBFu c\xF3","C\u01A1 b\u1EA3n","Quan tr\u1ECDng","R\u1EA5t quan tr\u1ECDng","B\u1EAFt bu\u1ED9c"][t]||""}getImportanceClass(t){return t>=5?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100":t>=4?"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-100":t>=3?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100"}getStatusSeverity(t){return{Pending:"warning",Interviewing:"info",Hired:"success",Rejected:"danger"}[t]||"secondary"}openShareDialog(){this.displayShareDialog=!0}handleShareConfirm(){return C(this,null,function*(){if(this.job)try{let t=yield this.socialShareService.shareOnFacebook(this.job);if(t.success){let e=t.method==="native_app"?"\u0110\xE3 m\u1EDF \u1EE9ng d\u1EE5ng Facebook. N\u1ED9i dung \u0111\xE3 \u0111\u01B0\u1EE3c copy, b\u1EA1n c\xF3 th\u1EC3 paste v\xE0o b\xE0i vi\u1EBFt!":"\u0110ang m\u1EDF c\u1EEDa s\u1ED5 chia s\u1EBB Facebook. N\u1ED9i dung \u0111\xE3 \u0111\u01B0\u1EE3c copy, b\u1EA1n c\xF3 th\u1EC3 paste v\xE0o b\xE0i vi\u1EBFt!";this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:e,life:5e3})}else{let e="Kh\xF4ng th\u1EC3 m\u1EDF chia s\u1EBB Facebook";t.message==="Popup blocked"&&(e="Vui l\xF2ng cho ph\xE9p popup \u0111\u1EC3 chia s\u1EBB l\xEAn Facebook"),this.messageService.add({severity:"warn",summary:"C\u1EA3nh b\xE1o",detail:e})}this.displayShareDialog=!1}catch(t){console.error("L\u1ED7i khi chia s\u1EBB l\xEAn Facebook:",t),this.messageService.add({severity:"error",summary:"L\u1ED7i",detail:"C\xF3 l\u1ED7i x\u1EA3y ra khi chia s\u1EBB"})}})}static \u0275fac=function(e){return new(e||n)(I(Fe),I(H),I(j),I(Ke))};static \u0275cmp=W({type:n,selectors:[["app-job-detail"]],features:[Q([j])],decls:28,vars:15,consts:[["item",""],["footer",""],["header",""],["body",""],["emptymessage",""],["class","grid grid-cols-12 gap-6",4,"ngIf"],["maskStyleClass","backdrop-blur-sm","styleClass","!border-0","header","Th\xEAm \u1EE8ng vi\xEAn v\xE0o C\xF4ng vi\u1EC7c",3,"visibleChange","visible","modal"],[1,"space-y-4"],[1,"block","text-sm","font-medium","mb-2"],[2,"color","red"],["appendTo","body","optionLabel","full_name","optionValue","id","placeholder","Ch\u1ECDn \u1EE9ng vi\xEAn t\u1EEB danh s\xE1ch","filterBy","full_name,email,current_position",1,"w-full",3,"ngModelChange","ngModel","options","filter"],["appendTo","body","optionLabel","name","optionValue","id","placeholder","Ch\u1ECDn headhunter",1,"w-full",3,"ngModelChange","ngModel","options"],["appendTo","body","optionLabel","label","optionValue","value","placeholder","Ch\u1ECDn tr\u1EA1ng th\xE1i",1,"w-full",3,"ngModelChange","ngModel","options"],[3,"visibleChange","confirmShare","visible","job"],[1,"grid","grid-cols-12","gap-6"],[1,"col-span-12"],[1,"flex","justify-between","items-start"],[1,"text-3xl","font-bold","text-surface-900","dark:text-surface-0"],[1,"text-surface-600","dark:text-surface-400","mt-2"],[1,"pi","pi-building","mr-2"],[1,"flex","gap-2"],["label","Chia s\u1EBB","icon","pi pi-share-alt","severity","info",3,"onClick"],["label","Quay l\u1EA1i","icon","pi pi-arrow-left",3,"text","routerLink"],[1,"col-span-12","lg:col-span-8"],["header","Th\xF4ng tin C\xF4ng vi\u1EC7c"],[1,"font-semibold","text-surface-700","dark:text-surface-300","mb-2"],[1,"text-surface-600","dark:text-surface-400"],[1,"grid","grid-cols-2","gap-4"],[1,"text-sm","font-semibold","text-surface-600","dark:text-surface-400","mb-1"],[1,"font-medium"],[1,"pi","pi-map-marker","text-primary","mr-2"],[3,"value","severity"],[1,"font-semibold","text-surface-700","dark:text-surface-300","mb-3"],[1,"flex","flex-wrap","gap-2"],[3,"label","styleClass",4,"ngFor","ngForOf"],[1,"col-span-12","lg:col-span-4"],["header","Th\xF4ng tin Li\xEAn h\u1EC7"],[1,"space-y-3"],["header","\u1EE8ng vi\xEAn \u0111\xE3 \u1EE9ng tuy\u1EC3n"],[3,"value","tableStyle"],[3,"label","styleClass"],[1,"flex","justify-between","items-center","p-4"],[1,"text-xl","font-semibold"],["label","Th\xEAm \u1EE8ng vi\xEAn","icon","pi pi-user-plus","severity","success",3,"onClick"],[2,"width","150px"],[1,"flex","items-center","gap-2"],[1,"pi","pi-user","text-primary"],[1,"font-semibold"],[1,"flex","items-center","gap-3"],[3,"value","showValue"],[1,"font-semibold","text-primary"],["label","Xem","icon","pi pi-eye","size","small",3,"text","routerLink"],["colspan","6",1,"text-center","text-surface-500","dark:text-surface-400","py-8"],[1,"flex","items-center","gap-3","py-2"],[1,"text-sm","text-surface-600","dark:text-surface-400"],[1,"text-xs","text-surface-500","dark:text-surface-500"],[1,"flex","justify-end","gap-2","mt-4"],["label","H\u1EE7y","icon","pi pi-times",3,"onClick","text"],["label","Th\xEAm \u1EE8ng vi\xEAn","icon","pi pi-check",3,"onClick"]],template:function(e,i){if(e&1){let o=F();M(0,Jn,88,24,"div",5),r(1,"p-dialog",6),y("visibleChange",function(l){return m(o),v(i.displayAddCandidateDialog,l)||(i.displayAddCandidateDialog=l),p(l)}),r(2,"div",7)(3,"div")(4,"label",8),s(5,"Ch\u1ECDn \u1EE8ng vi\xEAn "),r(6,"span",9),s(7,"*"),a()(),r(8,"p-select",10),y("ngModelChange",function(l){return m(o),v(i.selectedCandidateId,l)||(i.selectedCandidateId=l),p(l)}),M(9,Hn,8,4,"ng-template",null,0,k),a()(),r(11,"div")(12,"label",8),s(13,"Headhunter ph\u1EE5 tr\xE1ch "),r(14,"span",9),s(15,"*"),a()(),r(16,"p-select",11),y("ngModelChange",function(l){return m(o),v(i.selectedHunterId,l)||(i.selectedHunterId=l),p(l)}),M(17,Nn,5,2,"ng-template",null,0,k),a()(),r(19,"div")(20,"label",8),s(21,"Tr\u1EA1ng th\xE1i ban \u0111\u1EA7u "),r(22,"span",9),s(23,"*"),a()(),r(24,"p-select",12),y("ngModelChange",function(l){return m(o),v(i.selectedStatus,l)||(i.selectedStatus=l),p(l)}),a()()(),M(25,Un,3,1,"ng-template",null,1,k),a(),r(27,"app-share-job-modal",13),y("visibleChange",function(l){return m(o),v(i.displayShareDialog,l)||(i.displayShareDialog=l),p(l)}),E("confirmShare",function(){return m(o),p(i.handleShareConfirm())}),a()}e&2&&(u("ngIf",i.job),c(),R(D(14,Tn)),b("visible",i.displayAddCandidateDialog),u("modal",!0),c(7),b("ngModel",i.selectedCandidateId),u("options",i.availableCandidates)("filter",!0),c(8),b("ngModel",i.selectedHunterId),u("options",i.hunters),c(8),b("ngModel",i.selectedStatus),u("options",i.statusOptions),c(3),b("visible",i.displayShareDialog),u("job",i.job))},dependencies:[B,ye,ue,z,X,oe,re,ae,K,he,te,ee,$,q,Le,Ae,Pe,je,J,O,xe,Te,Z,Y,_e,fe,se,le,Ue],encapsulation:2})};var Xn=()=>["/rms"],zn=()=>({"min-width":"60rem"}),Kn=()=>({width:"600px"}),qn=n=>["/rms/candidates",n];function $n(n,t){n&1&&(r(0,"tr")(1,"th"),s(2,"T\xEAn \u1EE9ng vi\xEAn"),a(),r(3,"th"),s(4,"Email"),a(),r(5,"th"),s(6,"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i"),a(),r(7,"th"),s(8,"V\u1ECB tr\xED hi\u1EC7n t\u1EA1i"),a(),r(9,"th"),s(10,"\u0110\u1ECBa \u0111i\u1EC3m"),a(),r(11,"th"),s(12,"Tr\u1EA1ng th\xE1i"),a(),r(13,"th",23),s(14,"H\xE0nh \u0111\u1ED9ng"),a()())}function Gn(n,t){if(n&1){let e=F();r(0,"tr")(1,"td")(2,"div",24),g(3,"i",25),r(4,"span",26),s(5),a()()(),r(6,"td"),g(7,"i",27),s(8),a(),r(9,"td"),g(10,"i",28),s(11),a(),r(12,"td"),s(13),a(),r(14,"td"),g(15,"i",29),s(16),a(),r(17,"td"),g(18,"p-tag",30),a(),r(19,"td")(20,"div",31),g(21,"p-button",32),r(22,"p-button",33),E("onClick",function(){let o=m(e).$implicit,d=f();return p(d.openEditDialog(o))}),a(),r(23,"p-button",34),E("onClick",function(){let o=m(e).$implicit,d=f();return p(d.confirmDelete(o))}),a()()()()}if(n&2){let e=t.$implicit,i=f();c(5),S(e.full_name),c(3),T(" ",e.email," "),c(3),T(" ",e.phone," "),c(2),S(e.current_position),c(3),T(" ",e.location," "),c(2),u("value",e.status)("severity",i.getStatusSeverity(e.status)),c(3),u("text",!0)("routerLink",U(11,qn,e.id)),c(),u("text",!0),c(),u("text",!0)}}function Qn(n,t){if(n&1){let e=F();r(0,"div",35)(1,"p-button",36),E("onClick",function(){m(e);let o=f();return p(o.closeDialog())}),a(),r(2,"p-button",37),E("onClick",function(){m(e);let o=f();return p(o.saveCandidate())}),a()()}n&2&&(c(),u("text",!0))}var yt=class n{constructor(t,e,i){this.rmsService=t;this.confirmationService=e;this.messageService=i}candidates=[];displayDialog=!1;isEditMode=!1;selectedCandidate=null;candidateForm={full_name:"",email:"",phone:"",cv_link:"",location:"",current_position:"",status:"Pending"};statusOptions=[{label:"\u0110ang ch\u1EDD",value:"Pending"},{label:"\u0110ang ph\u1ECFng v\u1EA5n",value:"Interviewing"},{label:"\u0110\xE3 tuy\u1EC3n",value:"Hired"},{label:"T\u1EEB ch\u1ED1i",value:"Rejected"}];ngOnInit(){this.loadCandidates()}loadCandidates(){this.rmsService.getCandidates().subscribe(t=>{this.candidates=t})}openCreateDialog(){this.isEditMode=!1,this.selectedCandidate=null,this.resetForm(),this.displayDialog=!0}openEditDialog(t){this.isEditMode=!0,this.selectedCandidate=t,this.candidateForm=_({},t),this.displayDialog=!0}closeDialog(){this.displayDialog=!1,this.resetForm()}resetForm(){this.candidateForm={full_name:"",email:"",phone:"",cv_link:"",location:"",current_position:"",status:"Pending"}}saveCandidate(){if(!this.validateForm()){this.messageService.add({severity:"error",summary:"L\u1ED7i",detail:"Vui l\xF2ng \u0111i\u1EC1n \u0111\u1EA7y \u0111\u1EE7 th\xF4ng tin b\u1EAFt bu\u1ED9c"});return}this.isEditMode&&this.selectedCandidate?(this.rmsService.updateCandidate(this.selectedCandidate.id,this.candidateForm),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"C\u1EADp nh\u1EADt \u1EE9ng vi\xEAn th\xE0nh c\xF4ng"})):(this.rmsService.createCandidate(this.candidateForm),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"Th\xEAm \u1EE9ng vi\xEAn m\u1EDBi th\xE0nh c\xF4ng"})),this.closeDialog(),this.loadCandidates()}validateForm(){return this.candidateForm.full_name&&this.candidateForm.email&&this.candidateForm.phone&&this.candidateForm.location&&this.candidateForm.current_position}confirmDelete(t){this.confirmationService.confirm({message:`B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a \u1EE9ng vi\xEAn "${t.full_name}"? H\xE0nh \u0111\u1ED9ng n\xE0y kh\xF4ng th\u1EC3 ho\xE0n t\xE1c.`,header:"X\xE1c nh\u1EADn x\xF3a",icon:"pi pi-exclamation-triangle",acceptLabel:"X\xF3a",rejectLabel:"H\u1EE7y",accept:()=>{this.deleteCandidate(t)}})}deleteCandidate(t){this.rmsService.deleteCandidate(t.id),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"X\xF3a \u1EE9ng vi\xEAn th\xE0nh c\xF4ng"}),this.loadCandidates()}getStatusSeverity(t){return{Pending:"warning",Interviewing:"info",Hired:"success",Rejected:"danger"}[t]||"secondary"}static \u0275fac=function(e){return new(e||n)(I(H),I(L),I(j))};static \u0275cmp=W({type:n,selectors:[["app-candidates-list"]],features:[Q([L,j])],decls:63,vars:20,consts:[["header",""],["body",""],["footer",""],[1,"card"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-2xl","font-bold","text-surface-900","dark:text-surface-0"],[1,"text-surface-600","dark:text-surface-400","mt-1"],[1,"flex","gap-2"],["label","Th\xEAm \u1EE8ng vi\xEAn","icon","pi pi-plus",3,"onClick"],["label","Quay l\u1EA1i Dashboard","icon","pi pi-arrow-left",3,"text","routerLink"],[3,"value","tableStyle"],["maskStyleClass","backdrop-blur-sm","styleClass","!border-0",3,"visibleChange","visible","header","modal"],[1,"space-y-4"],[1,"block","text-sm","font-medium","mb-2"],[2,"color","red"],["pInputText","","placeholder","VD: Nguy\u1EC5n V\u0103n A",1,"w-full",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-2","gap-4"],["pInputText","","type","email","placeholder","email@example.com",1,"w-full",3,"ngModelChange","ngModel"],["pInputText","","placeholder","+84 xxx xxx xxx",1,"w-full",3,"ngModelChange","ngModel"],["pInputText","","placeholder","VD: Senior Developer",1,"w-full",3,"ngModelChange","ngModel"],["pInputText","","placeholder","VD: Ho Chi Minh City",1,"w-full",3,"ngModelChange","ngModel"],["appendTo","body","optionLabel","label","optionValue","value","placeholder","Ch\u1ECDn tr\u1EA1ng th\xE1i",1,"w-full",3,"ngModelChange","ngModel","options"],["pInputText","","placeholder","https://...",1,"w-full",3,"ngModelChange","ngModel"],[2,"width","250px"],[1,"flex","items-center","gap-2"],[1,"pi","pi-user","text-primary"],[1,"font-semibold"],[1,"pi","pi-envelope","text-surface-400","mr-2"],[1,"pi","pi-phone","text-surface-400","mr-2"],[1,"pi","pi-map-marker","text-surface-400","mr-2"],[3,"value","severity"],[1,"flex","gap-1"],["label","Chi ti\u1EBFt","icon","pi pi-eye","size","small",3,"text","routerLink"],["label","S\u1EEDa","icon","pi pi-pencil","size","small","severity","warn",3,"onClick","text"],["label","X\xF3a","icon","pi pi-trash","size","small","severity","danger",3,"onClick","text"],[1,"flex","justify-end","gap-2","mt-4"],["label","H\u1EE7y","icon","pi pi-times",3,"onClick","text"],["label","L\u01B0u","icon","pi pi-check",3,"onClick"]],template:function(e,i){if(e&1){let o=F();r(0,"div",3),g(1,"p-toast")(2,"p-confirmDialog"),r(3,"div",4)(4,"div")(5,"h2",5),s(6,"Danh s\xE1ch \u1EE8ng vi\xEAn"),a(),r(7,"p",6),s(8,"T\u1EA5t c\u1EA3 \u1EE9ng vi\xEAn trong h\u1EC7 th\u1ED1ng"),a()(),r(9,"div",7)(10,"p-button",8),E("onClick",function(){return m(o),p(i.openCreateDialog())}),a(),g(11,"p-button",9),a()(),r(12,"p-table",10),M(13,$n,15,0,"ng-template",null,0,k)(15,Gn,24,13,"ng-template",null,1,k),a()(),r(17,"p-dialog",11),y("visibleChange",function(l){return m(o),v(i.displayDialog,l)||(i.displayDialog=l),p(l)}),r(18,"div",12)(19,"div")(20,"label",13),s(21,"H\u1ECD v\xE0 t\xEAn "),r(22,"span",14),s(23,"*"),a()(),r(24,"input",15),y("ngModelChange",function(l){return m(o),v(i.candidateForm.full_name,l)||(i.candidateForm.full_name=l),p(l)}),a()(),r(25,"div",16)(26,"div")(27,"label",13),s(28,"Email "),r(29,"span",14),s(30,"*"),a()(),r(31,"input",17),y("ngModelChange",function(l){return m(o),v(i.candidateForm.email,l)||(i.candidateForm.email=l),p(l)}),a()(),r(32,"div")(33,"label",13),s(34,"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i "),r(35,"span",14),s(36,"*"),a()(),r(37,"input",18),y("ngModelChange",function(l){return m(o),v(i.candidateForm.phone,l)||(i.candidateForm.phone=l),p(l)}),a()()(),r(38,"div")(39,"label",13),s(40,"V\u1ECB tr\xED hi\u1EC7n t\u1EA1i "),r(41,"span",14),s(42,"*"),a()(),r(43,"input",19),y("ngModelChange",function(l){return m(o),v(i.candidateForm.current_position,l)||(i.candidateForm.current_position=l),p(l)}),a()(),r(44,"div",16)(45,"div")(46,"label",13),s(47,"\u0110\u1ECBa \u0111i\u1EC3m "),r(48,"span",14),s(49,"*"),a()(),r(50,"input",20),y("ngModelChange",function(l){return m(o),v(i.candidateForm.location,l)||(i.candidateForm.location=l),p(l)}),a()(),r(51,"div")(52,"label",13),s(53,"Tr\u1EA1ng th\xE1i "),r(54,"span",14),s(55,"*"),a()(),r(56,"p-select",21),y("ngModelChange",function(l){return m(o),v(i.candidateForm.status,l)||(i.candidateForm.status=l),p(l)}),a()()(),r(57,"div")(58,"label",13),s(59,"Link CV"),a(),r(60,"input",22),y("ngModelChange",function(l){return m(o),v(i.candidateForm.cv_link,l)||(i.candidateForm.cv_link=l),p(l)}),a()()(),M(61,Qn,3,1,"ng-template",null,2,k),a()}e&2&&(c(11),u("text",!0)("routerLink",D(17,Xn)),c(),u("value",i.candidates)("tableStyle",D(18,zn)),c(5),R(D(19,Kn)),b("visible",i.displayDialog),u("header",i.isEditMode?"S\u1EEDa \u1EE8ng vi\xEAn":"Th\xEAm \u1EE8ng vi\xEAn m\u1EDBi")("modal",!0),c(7),b("ngModel",i.candidateForm.full_name),c(7),b("ngModel",i.candidateForm.email),c(6),b("ngModel",i.candidateForm.phone),c(6),b("ngModel",i.candidateForm.current_position),c(7),b("ngModel",i.candidateForm.location),c(6),b("ngModel",i.candidateForm.status),u("options",i.statusOptions),c(4),b("ngModel",i.candidateForm.cv_link))},dependencies:[B,z,X,oe,me,re,ae,K,te,ee,$,q,J,O,Z,Y,ge,pe,Se,_e,fe,ve,be,se,le],encapsulation:2})};var bi=()=>({width:"600px"}),er=()=>({width:"500px"}),tr=()=>["/rms/candidates"],ir=()=>[],nr=()=>({"min-width":"40rem"}),rr=()=>({height:"8px"}),vi=()=>({width:"100px",height:"6px"}),ar=n=>["/rms/jobs",n];function or(n,t){if(n&1){let e=F();r(0,"div",49)(1,"span",50),s(2,"K\u1EF9 n\u0103ng & Tr\xECnh \u0111\u1ED9"),a(),r(3,"p-button",51),E("onClick",function(){m(e);let o=f(2);return p(o.openAddSkillDialog())}),a()()}}function lr(n,t){if(n&1){let e=F();r(0,"div",52)(1,"div",53)(2,"div",54)(3,"span",55),s(4),a(),r(5,"span",56),s(6),a()(),g(7,"p-progressBar",57),r(8,"div",58),s(9),a()(),r(10,"p-button",59),E("onClick",function(){let o=m(e).$implicit,d=f(2);return p(d.confirmDeleteSkill(o))}),a()()}if(n&2){let e=t.$implicit,i=f(2);c(4),S(e.name),c(2),T("",e.years_of_experience," n\u0103m"),c(),R(D(8,rr)),u("value",e.proficiency_level*20)("showValue",!1),c(2),S(i.getProficiencyText(e.proficiency_level)),c(),u("text",!0)}}function sr(n,t){if(n&1){let e=F();r(0,"div",49)(1,"span",50),s(2,"Kinh nghi\u1EC7m L\xE0m vi\u1EC7c"),a(),r(3,"p-button",60),E("onClick",function(){m(e);let o=f(2);return p(o.openAddExperienceDialog())}),a()()}}function dr(n,t){if(n&1){let e=F();r(0,"div",61)(1,"div",62)(2,"div")(3,"h3",63),s(4),a(),r(5,"p",64),s(6),a()(),r(7,"div",65),g(8,"p-chip",66),r(9,"p-button",67),E("onClick",function(){let o=m(e).$implicit,d=f(2);return p(d.openEditExperienceDialog(o))}),a(),r(10,"p-button",68),E("onClick",function(){let o=m(e).$implicit,d=f(2);return p(d.confirmDeleteExperience(o))}),a()()(),r(11,"p",69),s(12),a()()}if(n&2){let e=t.$implicit,i=f(2);c(4),S(e.position),c(2),S(e.company_name),c(2),u("label",i.formatDateRange(e)),c(),u("text",!0),c(),u("text",!0),c(2),S(e.description)}}function cr(n,t){n&1&&(r(0,"span",70),g(1,"i",71),a())}function ur(n,t){n&1&&(r(0,"tr")(1,"th"),s(2,"Ti\xEAu \u0111\u1EC1 c\xF4ng vi\u1EC7c"),a(),r(3,"th"),s(4,"\u0110\u1ECBa \u0111i\u1EC3m"),a(),r(5,"th"),s(6,"Matching Score"),a(),r(7,"th",72),s(8,"H\xE0nh \u0111\u1ED9ng"),a()())}function mr(n,t){if(n&1&&(r(0,"tr")(1,"td")(2,"div",73),s(3),a(),r(4,"div",56),s(5),tt(6,"slice"),a()(),r(7,"td"),g(8,"i",74),s(9),a(),r(10,"td")(11,"div",75)(12,"div",52)(13,"span",76),s(14,"Overall:"),a(),g(15,"p-progressBar",57),r(16,"span",77),s(17),a()(),r(18,"div",52)(19,"span",76),s(20,"Skills:"),a(),g(21,"p-progressBar",57),r(22,"span",78),s(23),a()()()(),r(24,"td"),g(25,"p-button",79),a()()),n&2){let e=t.$implicit;c(3),S(e.title),c(2),T("",it(6,15,e.description,0,60),"..."),c(4),T(" ",e.location," "),c(6),R(D(19,vi)),u("value",e.matching_score.overall_score)("showValue",!1),c(2),T("",e.matching_score.overall_score,"%"),c(4),R(D(20,vi)),u("value",e.matching_score.skill_match_score)("showValue",!1),c(2),T("",e.matching_score.skill_match_score,"%"),c(2),u("text",!0)("routerLink",U(21,ar,e.id))}}function pr(n,t){n&1&&(r(0,"tr")(1,"td",80),s(2,"Ch\u01B0a \u1EE9ng tuy\u1EC3n c\xF4ng vi\u1EC7c n\xE0o"),a()())}function gr(n,t){if(n&1){let e=F();r(0,"div",24),g(1,"p-toast")(2,"p-confirmDialog"),r(3,"div",25)(4,"div",26)(5,"div")(6,"h1",27),s(7),a(),r(8,"p",28),s(9),a()(),r(10,"div",29),g(11,"p-tag",30),r(12,"p-button",31),E("onClick",function(){m(e);let o=f();return p(o.openEditCandidateDialog())}),a(),r(13,"p-button",32),E("onClick",function(){m(e);let o=f();return p(o.confirmDeleteCandidate())}),a(),g(14,"p-button",33),a()()(),r(15,"div",34)(16,"p-card",35)(17,"div",8)(18,"div")(19,"h4",36),s(20,"Email"),a(),r(21,"p",37),g(22,"i",38),s(23),a()(),r(24,"div")(25,"h4",36),s(26,"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i"),a(),r(27,"p",37),g(28,"i",39),s(29),a()(),r(30,"div")(31,"h4",36),s(32,"\u0110\u1ECBa \u0111i\u1EC3m"),a(),r(33,"p",37),g(34,"i",40),s(35),a()(),r(36,"div")(37,"h4",36),s(38,"CV Link"),a(),r(39,"a",41),g(40,"i",42),s(41," T\u1EA3i CV "),a()()()(),r(42,"p-card",43),M(43,or,4,0,"ng-template",null,1,k),r(45,"div",8),M(46,lr,11,9,"div",44),a()()(),r(47,"div",45)(48,"p-card"),M(49,sr,4,0,"ng-template",null,1,k),r(51,"p-timeline",46),M(52,dr,13,6,"ng-template",null,2,k)(54,cr,2,0,"ng-template",null,3,k),a()(),r(56,"p-card",47)(57,"p-table",48),M(58,ur,9,0,"ng-template",null,1,k)(60,mr,26,23,"ng-template",null,4,k)(62,pr,3,0,"ng-template",null,5,k),a()()()()}if(n&2){let e=f();c(7),S(e.candidate.full_name),c(2),S(e.candidate.current_position),c(2),u("value",e.candidate.status)("severity",e.getStatusSeverity(e.candidate.status)),c(),u("outlined",!0),c(),u("outlined",!0),c(),u("text",!0)("routerLink",D(16,tr)),c(9),T(" ",e.candidate.email," "),c(6),T(" ",e.candidate.phone," "),c(6),T(" ",e.candidate.location," "),c(4),u("href",e.candidate.cv_link,Rt),c(7),u("ngForOf",e.candidate.skills),c(5),u("value",e.candidate.experiences),c(6),u("value",e.candidate.jobs||D(17,ir))("tableStyle",D(18,nr))}}function hr(n,t){if(n&1){let e=F();r(0,"div",81)(1,"p-button",82),E("onClick",function(){m(e);let o=f();return p(o.closeEditDialog())}),a(),r(2,"p-button",83),E("onClick",function(){m(e);let o=f();return p(o.saveCandidate())}),a()()}n&2&&(c(),u("text",!0))}function fr(n,t){if(n&1){let e=F();r(0,"div",81)(1,"p-button",82),E("onClick",function(){m(e);let o=f();return p(o.closeSkillDialog())}),a(),r(2,"p-button",84),E("onClick",function(){m(e);let o=f();return p(o.saveSkill())}),a()()}n&2&&(c(),u("text",!0))}function _r(n,t){if(n&1){let e=F();r(0,"div",81)(1,"p-button",82),E("onClick",function(){m(e);let o=f();return p(o.closeExperienceDialog())}),a(),r(2,"p-button",83),E("onClick",function(){m(e);let o=f();return p(o.saveExperience())}),a()()}n&2&&(c(),u("text",!0))}var xt=class n{constructor(t,e,i,o,d){this.route=t;this.router=e;this.rmsService=i;this.confirmationService=o;this.messageService=d}candidate=null;candidateId;displayEditDialog=!1;displaySkillDialog=!1;displayExperienceDialog=!1;isEditExperience=!1;selectedExperience=null;availableSkills=[];candidateForm={full_name:"",email:"",phone:"",cv_link:"",location:"",current_position:"",status:"Pending"};skillForm={skill_id:null,proficiency_level:3,years_of_experience:0};experienceForm={company_name:"",position:"",start_date:null,end_date:null,description:""};statusOptions=[{label:"\u0110ang ch\u1EDD",value:"Pending"},{label:"\u0110ang ph\u1ECFng v\u1EA5n",value:"Interviewing"},{label:"\u0110\xE3 tuy\u1EC3n",value:"Hired"},{label:"T\u1EEB ch\u1ED1i",value:"Rejected"}];ngOnInit(){this.candidateId=Number(this.route.snapshot.paramMap.get("id")),this.loadCandidate(),this.loadSkills()}loadCandidate(){this.rmsService.getCandidateById(this.candidateId).subscribe(t=>{this.candidate=t||null})}loadSkills(){this.rmsService.getSkills().subscribe(t=>{this.availableSkills=t})}openEditCandidateDialog(){this.candidate&&(this.candidateForm=_({},this.candidate),this.displayEditDialog=!0)}closeEditDialog(){this.displayEditDialog=!1}saveCandidate(){this.rmsService.updateCandidate(this.candidateId,this.candidateForm),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"C\u1EADp nh\u1EADt th\xF4ng tin \u1EE9ng vi\xEAn th\xE0nh c\xF4ng"}),this.closeEditDialog(),this.loadCandidate()}confirmDeleteCandidate(){this.confirmationService.confirm({message:`B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a \u1EE9ng vi\xEAn "${this.candidate?.full_name}"? H\xE0nh \u0111\u1ED9ng n\xE0y kh\xF4ng th\u1EC3 ho\xE0n t\xE1c.`,header:"X\xE1c nh\u1EADn x\xF3a",icon:"pi pi-exclamation-triangle",acceptLabel:"X\xF3a",rejectLabel:"H\u1EE7y",accept:()=>{this.deleteCandidate()}})}deleteCandidate(){this.rmsService.deleteCandidate(this.candidateId),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"X\xF3a \u1EE9ng vi\xEAn th\xE0nh c\xF4ng"}),this.router.navigate(["/rms/candidates"])}openAddSkillDialog(){this.resetSkillForm(),this.displaySkillDialog=!0}closeSkillDialog(){this.displaySkillDialog=!1,this.resetSkillForm()}resetSkillForm(){this.skillForm={skill_id:null,proficiency_level:3,years_of_experience:0}}saveSkill(){if(!this.skillForm.skill_id){this.messageService.add({severity:"error",summary:"L\u1ED7i",detail:"Vui l\xF2ng ch\u1ECDn k\u1EF9 n\u0103ng"});return}this.rmsService.addCandidateSkill({candidate_id:this.candidateId,skill_id:this.skillForm.skill_id,proficiency_level:this.skillForm.proficiency_level,years_of_experience:this.skillForm.years_of_experience}),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"Th\xEAm k\u1EF9 n\u0103ng th\xE0nh c\xF4ng"}),this.closeSkillDialog(),this.loadCandidate()}confirmDeleteSkill(t){this.confirmationService.confirm({message:`B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a k\u1EF9 n\u0103ng "${t.name}"?`,header:"X\xE1c nh\u1EADn x\xF3a",icon:"pi pi-exclamation-triangle",acceptLabel:"X\xF3a",rejectLabel:"H\u1EE7y",accept:()=>{this.deleteSkill(t)}})}deleteSkill(t){this.rmsService.removeCandidateSkill(t.id),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"X\xF3a k\u1EF9 n\u0103ng th\xE0nh c\xF4ng"}),this.loadCandidate()}openAddExperienceDialog(){this.isEditExperience=!1,this.selectedExperience=null,this.resetExperienceForm(),this.displayExperienceDialog=!0}openEditExperienceDialog(t){this.isEditExperience=!0,this.selectedExperience=t,this.experienceForm={company_name:t.company_name,position:t.position,start_date:new Date(t.start_date),end_date:t.end_date?new Date(t.end_date):null,description:t.description},this.displayExperienceDialog=!0}closeExperienceDialog(){this.displayExperienceDialog=!1,this.resetExperienceForm()}resetExperienceForm(){this.experienceForm={company_name:"",position:"",start_date:null,end_date:null,description:""}}saveExperience(){if(!this.experienceForm.company_name||!this.experienceForm.position||!this.experienceForm.start_date){this.messageService.add({severity:"error",summary:"L\u1ED7i",detail:"Vui l\xF2ng \u0111i\u1EC1n \u0111\u1EA7y \u0111\u1EE7 th\xF4ng tin b\u1EAFt bu\u1ED9c"});return}let t={candidate_id:this.candidateId,company_name:this.experienceForm.company_name,position:this.experienceForm.position,start_date:this.formatDate(this.experienceForm.start_date),end_date:this.experienceForm.end_date?this.formatDate(this.experienceForm.end_date):null,description:this.experienceForm.description};this.isEditExperience&&this.selectedExperience?(this.rmsService.updateCandidateExperience(this.selectedExperience.id,t),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"C\u1EADp nh\u1EADt kinh nghi\u1EC7m th\xE0nh c\xF4ng"})):(this.rmsService.addCandidateExperience(t),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"Th\xEAm kinh nghi\u1EC7m th\xE0nh c\xF4ng"})),this.closeExperienceDialog(),this.loadCandidate()}confirmDeleteExperience(t){this.confirmationService.confirm({message:`B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a kinh nghi\u1EC7m t\u1EA1i "${t.company_name}"?`,header:"X\xE1c nh\u1EADn x\xF3a",icon:"pi pi-exclamation-triangle",acceptLabel:"X\xF3a",rejectLabel:"H\u1EE7y",accept:()=>{this.deleteExperience(t)}})}deleteExperience(t){this.rmsService.deleteCandidateExperience(t.id),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"X\xF3a kinh nghi\u1EC7m th\xE0nh c\xF4ng"}),this.loadCandidate()}formatDate(t){return t.toISOString().split("T")[0]}getStatusSeverity(t){return{Pending:"warning",Interviewing:"info",Hired:"success",Rejected:"danger"}[t]||"secondary"}getProficiencyText(t){return["","Beginner","Elementary","Intermediate","Advanced","Expert"][t]||""}formatDateRange(t){let e=new Date(t.start_date),i=t.end_date?new Date(t.end_date):null,o=e.toLocaleDateString("vi-VN",{month:"2-digit",year:"numeric"}),d=i?i.toLocaleDateString("vi-VN",{month:"2-digit",year:"numeric"}):"Hi\u1EC7n t\u1EA1i";return`${o} - ${d}`}static \u0275fac=function(e){return new(e||n)(I(Fe),I(Ht),I(H),I(L),I(j))};static \u0275cmp=W({type:n,selectors:[["app-candidate-profile"]],features:[Q([L,j])],decls:100,vars:40,consts:[["footer",""],["header",""],["content",""],["marker",""],["body",""],["emptymessage",""],["class","grid grid-cols-12 gap-6",4,"ngIf"],["maskStyleClass","backdrop-blur-sm","styleClass","!border-0","header","S\u1EEDa Th\xF4ng tin \u1EE8ng vi\xEAn",3,"visibleChange","visible","modal"],[1,"space-y-4"],[1,"block","text-sm","font-medium","mb-2"],[2,"color","red"],["pInputText","",1,"w-full",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-2","gap-4"],["pInputText","","type","email",1,"w-full",3,"ngModelChange","ngModel"],["appendTo","body","optionLabel","label","optionValue","value",1,"w-full",3,"ngModelChange","ngModel","options"],["maskStyleClass","backdrop-blur-sm","styleClass","!border-0","header","Th\xEAm K\u1EF9 n\u0103ng",3,"visibleChange","visible","modal"],["appendTo","body","optionLabel","name","optionValue","id","placeholder","Ch\u1ECDn k\u1EF9 n\u0103ng",1,"w-full",3,"ngModelChange","ngModel","options"],[1,"w-full",3,"ngModelChange","ngModel","min","max"],["maskStyleClass","backdrop-blur-sm","styleClass","!border-0",3,"visibleChange","visible","header","modal"],["pInputText","","placeholder","VD: Senior Developer",1,"w-full",3,"ngModelChange","ngModel"],["pInputText","","placeholder","VD: Tech Company",1,"w-full",3,"ngModelChange","ngModel"],["appendTo","body","dateFormat","yy-mm-dd",1,"w-full",3,"ngModelChange","ngModel","showIcon"],["appendTo","body","dateFormat","yy-mm-dd","placeholder","\u0110\u1EC3 tr\u1ED1ng n\u1EBFu \u0111ang l\xE0m",1,"w-full",3,"ngModelChange","ngModel","showIcon"],["pInputTextarea","","rows","4","placeholder","M\xF4 t\u1EA3 c\xF4ng vi\u1EC7c v\xE0 th\xE0nh t\xEDch...",1,"w-full",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-12","gap-6"],[1,"col-span-12"],[1,"flex","justify-between","items-start"],[1,"text-3xl","font-bold","text-surface-900","dark:text-surface-0"],[1,"text-surface-600","dark:text-surface-400","mt-2"],[1,"flex","gap-2"],["styleClass","text-lg px-4 py-2",3,"value","severity"],["label","S\u1EEDa","icon","pi pi-pencil","severity","warn",3,"onClick","outlined"],["label","X\xF3a","icon","pi pi-trash","severity","danger",3,"onClick","outlined"],["label","Quay l\u1EA1i","icon","pi pi-arrow-left",3,"text","routerLink"],[1,"col-span-12","lg:col-span-4"],["header","Th\xF4ng tin C\xE1 nh\xE2n"],[1,"text-sm","font-semibold","text-surface-600","dark:text-surface-400","mb-1"],[1,"font-medium"],[1,"pi","pi-envelope","text-primary","mr-2"],[1,"pi","pi-phone","text-primary","mr-2"],[1,"pi","pi-map-marker","text-primary","mr-2"],["target","_blank",1,"text-primary","hover:underline",3,"href"],[1,"pi","pi-file-pdf","mr-2"],["styleClass","mt-6"],["class","flex items-center gap-3",4,"ngFor","ngForOf"],[1,"col-span-12","lg:col-span-8"],["align","left",3,"value"],["header","C\xF4ng vi\u1EC7c \u0111\xE3 \u1EE8ng tuy\u1EC3n","styleClass","mt-6"],[3,"value","tableStyle"],[1,"flex","justify-between","items-center","p-4"],[1,"text-lg","font-semibold"],["label","Th\xEAm k\u1EF9 n\u0103ng","icon","pi pi-plus","size","small",3,"onClick"],[1,"flex","items-center","gap-3"],[1,"flex-1"],[1,"flex","justify-between","items-center","mb-2"],[1,"font-semibold","text-surface-700","dark:text-surface-300"],[1,"text-sm","text-surface-600","dark:text-surface-400"],[3,"value","showValue"],[1,"text-xs","text-surface-500","dark:text-surface-400","mt-1"],["icon","pi pi-trash","severity","danger","size","small",3,"onClick","text"],["label","Th\xEAm kinh nghi\u1EC7m","icon","pi pi-plus","size","small",3,"onClick"],[1,"mb-4"],[1,"flex","justify-between","items-start","mb-2"],[1,"text-lg","font-bold","text-surface-900","dark:text-surface-0"],[1,"text-primary","font-semibold"],[1,"flex","gap-2","items-center"],["styleClass","bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-100",3,"label"],["icon","pi pi-pencil","size","small","severity","warn",3,"onClick","text"],["icon","pi pi-trash","size","small","severity","danger",3,"onClick","text"],[1,"text-surface-600","dark:text-surface-400"],[1,"flex","items-center","justify-center","w-8","h-8","bg-primary","text-white","rounded-full"],[1,"pi","pi-briefcase"],[2,"width","150px"],[1,"font-semibold","text-primary"],[1,"pi","pi-map-marker","text-surface-400","mr-2"],[1,"space-y-2"],[1,"text-sm","text-surface-600","dark:text-surface-400","w-20"],[1,"text-sm","font-semibold"],[1,"text-sm"],["label","Xem","icon","pi pi-eye","size","small",3,"text","routerLink"],["colspan","4",1,"text-center","text-surface-500","dark:text-surface-400","py-8"],[1,"flex","justify-end","gap-2","mt-4"],["label","H\u1EE7y","icon","pi pi-times",3,"onClick","text"],["label","L\u01B0u","icon","pi pi-check",3,"onClick"],["label","Th\xEAm","icon","pi pi-check",3,"onClick"]],template:function(e,i){if(e&1){let o=F();M(0,gr,64,19,"div",6),r(1,"p-dialog",7),y("visibleChange",function(l){return m(o),v(i.displayEditDialog,l)||(i.displayEditDialog=l),p(l)}),r(2,"div",8)(3,"div")(4,"label",9),s(5,"H\u1ECD v\xE0 t\xEAn "),r(6,"span",10),s(7,"*"),a()(),r(8,"input",11),y("ngModelChange",function(l){return m(o),v(i.candidateForm.full_name,l)||(i.candidateForm.full_name=l),p(l)}),a()(),r(9,"div",12)(10,"div")(11,"label",9),s(12,"Email "),r(13,"span",10),s(14,"*"),a()(),r(15,"input",13),y("ngModelChange",function(l){return m(o),v(i.candidateForm.email,l)||(i.candidateForm.email=l),p(l)}),a()(),r(16,"div")(17,"label",9),s(18,"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i "),r(19,"span",10),s(20,"*"),a()(),r(21,"input",11),y("ngModelChange",function(l){return m(o),v(i.candidateForm.phone,l)||(i.candidateForm.phone=l),p(l)}),a()()(),r(22,"div")(23,"label",9),s(24,"V\u1ECB tr\xED hi\u1EC7n t\u1EA1i "),r(25,"span",10),s(26,"*"),a()(),r(27,"input",11),y("ngModelChange",function(l){return m(o),v(i.candidateForm.current_position,l)||(i.candidateForm.current_position=l),p(l)}),a()(),r(28,"div",12)(29,"div")(30,"label",9),s(31,"\u0110\u1ECBa \u0111i\u1EC3m "),r(32,"span",10),s(33,"*"),a()(),r(34,"input",11),y("ngModelChange",function(l){return m(o),v(i.candidateForm.location,l)||(i.candidateForm.location=l),p(l)}),a()(),r(35,"div")(36,"label",9),s(37,"Tr\u1EA1ng th\xE1i "),r(38,"span",10),s(39,"*"),a()(),r(40,"p-select",14),y("ngModelChange",function(l){return m(o),v(i.candidateForm.status,l)||(i.candidateForm.status=l),p(l)}),a()()(),r(41,"div")(42,"label",9),s(43,"Link CV"),a(),r(44,"input",11),y("ngModelChange",function(l){return m(o),v(i.candidateForm.cv_link,l)||(i.candidateForm.cv_link=l),p(l)}),a()()(),M(45,hr,3,1,"ng-template",null,0,k),a(),r(47,"p-dialog",15),y("visibleChange",function(l){return m(o),v(i.displaySkillDialog,l)||(i.displaySkillDialog=l),p(l)}),r(48,"div",8)(49,"div")(50,"label",9),s(51,"K\u1EF9 n\u0103ng "),r(52,"span",10),s(53,"*"),a()(),r(54,"p-select",16),y("ngModelChange",function(l){return m(o),v(i.skillForm.skill_id,l)||(i.skillForm.skill_id=l),p(l)}),a()(),r(55,"div")(56,"label",9),s(57,"Tr\xECnh \u0111\u1ED9 (1-5) "),r(58,"span",10),s(59,"*"),a()(),r(60,"p-inputNumber",17),y("ngModelChange",function(l){return m(o),v(i.skillForm.proficiency_level,l)||(i.skillForm.proficiency_level=l),p(l)}),a()(),r(61,"div")(62,"label",9),s(63,"S\u1ED1 n\u0103m kinh nghi\u1EC7m "),r(64,"span",10),s(65,"*"),a()(),r(66,"p-inputNumber",17),y("ngModelChange",function(l){return m(o),v(i.skillForm.years_of_experience,l)||(i.skillForm.years_of_experience=l),p(l)}),a()()(),M(67,fr,3,1,"ng-template",null,0,k),a(),r(69,"p-dialog",18),y("visibleChange",function(l){return m(o),v(i.displayExperienceDialog,l)||(i.displayExperienceDialog=l),p(l)}),r(70,"div",8)(71,"div")(72,"label",9),s(73,"V\u1ECB tr\xED "),r(74,"span",10),s(75,"*"),a()(),r(76,"input",19),y("ngModelChange",function(l){return m(o),v(i.experienceForm.position,l)||(i.experienceForm.position=l),p(l)}),a()(),r(77,"div")(78,"label",9),s(79,"C\xF4ng ty "),r(80,"span",10),s(81,"*"),a()(),r(82,"input",20),y("ngModelChange",function(l){return m(o),v(i.experienceForm.company_name,l)||(i.experienceForm.company_name=l),p(l)}),a()(),r(83,"div",12)(84,"div")(85,"label",9),s(86,"Ng\xE0y b\u1EAFt \u0111\u1EA7u "),r(87,"span",10),s(88,"*"),a()(),r(89,"p-datePicker",21),y("ngModelChange",function(l){return m(o),v(i.experienceForm.start_date,l)||(i.experienceForm.start_date=l),p(l)}),a()(),r(90,"div")(91,"label",9),s(92,"Ng\xE0y k\u1EBFt th\xFAc"),a(),r(93,"p-datePicker",22),y("ngModelChange",function(l){return m(o),v(i.experienceForm.end_date,l)||(i.experienceForm.end_date=l),p(l)}),a()()(),r(94,"div")(95,"label",9),s(96,"M\xF4 t\u1EA3"),a(),r(97,"textarea",23),y("ngModelChange",function(l){return m(o),v(i.experienceForm.description,l)||(i.experienceForm.description=l),p(l)}),a()()(),M(98,_r,3,1,"ng-template",null,0,k),a()}e&2&&(u("ngIf",i.candidate),c(),R(D(37,bi)),b("visible",i.displayEditDialog),u("modal",!0),c(7),b("ngModel",i.candidateForm.full_name),c(7),b("ngModel",i.candidateForm.email),c(6),b("ngModel",i.candidateForm.phone),c(6),b("ngModel",i.candidateForm.current_position),c(7),b("ngModel",i.candidateForm.location),c(6),b("ngModel",i.candidateForm.status),u("options",i.statusOptions),c(4),b("ngModel",i.candidateForm.cv_link),c(3),R(D(38,er)),b("visible",i.displaySkillDialog),u("modal",!0),c(7),b("ngModel",i.skillForm.skill_id),u("options",i.availableSkills),c(6),b("ngModel",i.skillForm.proficiency_level),u("min",1)("max",5),c(6),b("ngModel",i.skillForm.years_of_experience),u("min",0)("max",50),c(3),R(D(39,bi)),b("visible",i.displayExperienceDialog),u("header",i.isEditExperience?"S\u1EEDa Kinh nghi\u1EC7m":"Th\xEAm Kinh nghi\u1EC7m")("modal",!0),c(7),b("ngModel",i.experienceForm.position),c(6),b("ngModel",i.experienceForm.company_name),c(7),b("ngModel",i.experienceForm.start_date),u("showIcon",!0),c(4),b("ngModel",i.experienceForm.end_date),u("showIcon",!0),c(4),b("ngModel",i.experienceForm.description))},dependencies:[B,ye,ue,z,X,oe,me,re,ae,K,he,te,ee,$,q,Le,Ae,Pe,je,J,O,xe,lt,ot,Z,Y,ge,pe,Se,Re,Ve,Ie,_e,fe,at,rt,ve,be,se,le,nt],encapsulation:2})};var br=()=>["/rms"],vr=()=>({"min-width":"60rem"}),yr=n=>["/rms/processes",n];function xr(n,t){n&1&&(r(0,"tr")(1,"th"),s(2,"T\xEAn quy tr\xECnh"),a(),r(3,"th"),s(4,"Ng\xE0y b\u1EAFt \u0111\u1EA7u"),a(),r(5,"th"),s(6,"Ng\xE0y ho\xE0n th\xE0nh"),a(),r(7,"th"),s(8,"Tr\u1EA1ng th\xE1i"),a(),r(9,"th",8),s(10,"H\xE0nh \u0111\u1ED9ng"),a()())}function Sr(n,t){if(n&1&&(r(0,"tr")(1,"td")(2,"div",9),s(3),a()(),r(4,"td"),g(5,"i",10),s(6),a(),r(7,"td"),g(8,"i",10),s(9),a(),r(10,"td"),g(11,"p-tag",11),a(),r(12,"td"),g(13,"p-button",12),a()()),n&2){let e=t.$implicit,i=f();c(3),S(e.process_name),c(3),T(" ",i.formatDate(e.started_at)," "),c(3),T(" ",e.completed_at?i.formatDate(e.completed_at):"\u0110ang ti\u1EBFn h\xE0nh"," "),c(2),u("value",e.status)("severity",i.getStatusSeverity(e.status)),c(2),u("text",!0)("routerLink",U(7,yr,e.id))}}var St=class n{constructor(t){this.rmsService=t}processes=[];ngOnInit(){this.rmsService.getRecruitmentProcesses().subscribe(t=>{this.processes=t})}formatDate(t){return new Date(t).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})}getStatusSeverity(t){return{"In Progress":"info",Completed:"success",Cancelled:"danger"}[t]||"secondary"}static \u0275fac=function(e){return new(e||n)(I(H))};static \u0275cmp=W({type:n,selectors:[["app-processes-list"]],decls:13,vars:6,consts:[["header",""],["body",""],[1,"card"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-2xl","font-bold","text-surface-900","dark:text-surface-0"],[1,"text-surface-600","dark:text-surface-400","mt-1"],["label","Quay l\u1EA1i Dashboard","icon","pi pi-arrow-left",3,"text","routerLink"],[3,"value","tableStyle"],[2,"width","150px"],[1,"font-semibold","text-primary"],[1,"pi","pi-calendar","text-surface-400","mr-2"],[3,"value","severity"],["label","Chi ti\u1EBFt","icon","pi pi-eye","size","small",3,"text","routerLink"]],template:function(e,i){e&1&&(r(0,"div",2)(1,"div",3)(2,"div")(3,"h2",4),s(4,"Quy tr\xECnh Tuy\u1EC3n d\u1EE5ng"),a(),r(5,"p",5),s(6,"Theo d\xF5i c\xE1c quy tr\xECnh tuy\u1EC3n d\u1EE5ng"),a()(),g(7,"p-button",6),a(),r(8,"p-table",7),M(9,xr,11,0,"ng-template",null,0,k)(11,Sr,14,9,"ng-template",null,1,k),a()()),e&2&&(c(7),u("text",!0)("routerLink",D(4,br)),c(),u("value",i.processes)("tableStyle",D(5,vr)))},dependencies:[B,z,X,K,te,ee,$,q,J,O],encapsulation:2})};var yi=()=>({width:"600px"}),Er=()=>["/rms/processes"],Cr=n=>["/rms/candidates",n],wr=n=>["/rms/jobs",n],kr=(n,t,e,i)=>({"bg-green-500":n,"bg-blue-500":t,"bg-yellow-500":e,"bg-red-500":i}),Mr=(n,t,e,i)=>({"bg-green-500 text-white":n,"bg-red-500 text-white":t,"bg-blue-500 text-white":e,"bg-surface-300 text-surface-600":i}),Dr=(n,t,e,i)=>({"pi pi-check":n,"pi pi-times":t,"pi pi-clock":e,"pi pi-ban":i});function Fr(n,t){if(n&1){let e=F();r(0,"div",41)(1,"span",42),s(2,"L\u1ECBch s\u1EED Ph\u1ECFng v\u1EA5n"),a(),r(3,"p-button",43),E("onClick",function(){m(e);let o=f(2);return p(o.openAddRoundDialog())}),a()()}}function Tr(n,t){if(n&1&&(r(0,"div",63)(1,"span",64),s(2,"\u0110i\u1EC3m \u0111\xE1nh gi\xE1:"),a(),r(3,"div",65)(4,"div",66),g(5,"div",67),a(),r(6,"span",68),s(7),a()()()),n&2){let e=f(2).$implicit;c(5),Bt("width",e.result.score,"%"),u("ngClass",et(4,kr,e.result.score>=80,e.result.score>=60&&e.result.score<80,e.result.score>=40&&e.result.score<60,e.result.score<40)),c(2),T("",e.result.score,"/100")}}function Ir(n,t){if(n&1&&(r(0,"div")(1,"span",64),s(2,"Nh\u1EADn x\xE9t:"),a(),r(3,"p",69),s(4),a()()),n&2){let e=f(2).$implicit;c(4),S(e.result.feedback)}}function Vr(n,t){if(n&1&&(r(0,"div",70),s(1),a()),n&2){let e=f(2).$implicit,i=f(2);c(),T("\u0110\xE1nh gi\xE1 l\xFAc: ",i.formatDateTime(e.result.evaluated_at))}}function jr(n,t){if(n&1){let e=F();r(0,"div",54)(1,"div",45)(2,"div",55)(3,"div",56)(4,"div")(5,"span",57),s(6,"Tr\u1EA1ng th\xE1i tham d\u1EF1:"),a(),g(7,"p-tag",58),a(),r(8,"div")(9,"span",57),s(10,"K\u1EBFt qu\u1EA3:"),a(),g(11,"p-tag",58),a()(),M(12,Tr,8,9,"div",59)(13,Ir,5,1,"div",60)(14,Vr,2,1,"div",61),a(),r(15,"p-button",62),E("onClick",function(){m(e);let o=f().$implicit,d=f(2);return p(d.openUpdateResultDialog(o))}),a()()()}if(n&2){let e=f().$implicit,i=f(2);c(7),u("value",e.result.attendance_status)("severity",i.getAttendanceSeverity(e.result.attendance_status)),c(4),u("value",e.result.outcome)("severity",i.getOutcomeSeverity(e.result.outcome)),c(),u("ngIf",e.result.score!==null),c(),u("ngIf",e.result.feedback),c(),u("ngIf",e.result.evaluated_at),c(),u("text",!0)}}function Pr(n,t){if(n&1){let e=F();r(0,"div",71)(1,"div",72)(2,"p",73),g(3,"i",74),s(4," V\xF2ng ph\u1ECFng v\u1EA5n \u0111\xE3 \u0111\u01B0\u1EE3c l\xEAn l\u1ECBch, ch\u1EDD k\u1EBFt qu\u1EA3 \u0111\xE1nh gi\xE1 "),a(),r(5,"p-button",75),E("onClick",function(){m(e);let o=f().$implicit,d=f(2);return p(d.openUpdateResultDialog(o))}),a()()()}}function Rr(n,t){if(n&1){let e=F();r(0,"div",44)(1,"div",45)(2,"div")(3,"h3",46),s(4),a(),r(5,"p",24),g(6,"i",23),s(7),a(),r(8,"p",24),g(9,"i",47),s(10),a()(),r(11,"div",48),g(12,"p-tag",49),r(13,"p-button",50),E("onClick",function(){let o=m(e).$implicit,d=f(2);return p(d.openEditRoundDialog(o))}),a(),r(14,"p-button",51),E("onClick",function(){let o=m(e).$implicit,d=f(2);return p(d.confirmDeleteRound(o))}),a()()(),M(15,jr,16,8,"div",52)(16,Pr,6,0,"div",53),a()}if(n&2){let e=t.$implicit,i=f(2);c(4),ne("V\xF2ng ",e.round_number,": ",e.round_name),c(3),T(" Ng\u01B0\u1EDDi ph\u1ECFng v\u1EA5n: ",e.interviewer_name," "),c(3),T(" ",i.formatDateTime(e.scheduled_date)," "),c(2),u("value",e.status)("severity",i.getRoundStatusSeverity(e.status)),c(),u("text",!0),c(),u("text",!0),c(),u("ngIf",e.result),c(),u("ngIf",!e.result&&e.status==="Scheduled")}}function Ar(n,t){if(n&1&&(r(0,"span",76),g(1,"i",77),a()),n&2){let e=t.$implicit;u("ngClass",et(2,Mr,e.status==="Completed"&&(e.result==null?null:e.result.outcome)==="Pass",e.status==="Completed"&&(e.result==null?null:e.result.outcome)==="Fail",e.status==="Scheduled",e.status==="Cancelled")),c(),u("ngClass",et(7,Dr,e.status==="Completed"&&(e.result==null?null:e.result.outcome)==="Pass",e.status==="Completed"&&(e.result==null?null:e.result.outcome)==="Fail",e.status==="Scheduled",e.status==="Cancelled"))}}function Lr(n,t){if(n&1&&(r(0,"div",18),g(1,"p-toast")(2,"p-confirmDialog"),r(3,"div",19)(4,"div",20)(5,"div")(6,"h1",21),s(7),a(),r(8,"p",22),g(9,"i",23),s(10," \u1EE8ng vi\xEAn: "),r(11,"strong"),s(12),a()(),r(13,"p",24),g(14,"i",25),s(15," C\xF4ng vi\u1EC7c: "),r(16,"strong"),s(17),a()()(),r(18,"div",26),g(19,"p-tag",27)(20,"p-button",28),a()()(),r(21,"div",29)(22,"p-card",30)(23,"div",6)(24,"div")(25,"h4",31),s(26,"Ng\xE0y b\u1EAFt \u0111\u1EA7u"),a(),r(27,"p",32),g(28,"i",33),s(29),a()(),r(30,"div")(31,"h4",31),s(32,"Ng\xE0y ho\xE0n th\xE0nh"),a(),r(33,"p",32),g(34,"i",33),s(35),a()(),r(36,"div")(37,"h4",31),s(38,"T\u1ED5ng s\u1ED1 v\xF2ng"),a(),r(39,"p",32),s(40),a()()(),g(41,"p-divider"),r(42,"div",34)(43,"h4",35),s(44,"Th\xF4ng tin \u1EE8ng vi\xEAn"),a(),g(45,"p-button",36),a(),r(46,"div",37)(47,"h4",35),s(48,"Th\xF4ng tin C\xF4ng vi\u1EC7c"),a(),g(49,"p-button",38),a()()(),r(50,"div",39)(51,"p-card"),M(52,Fr,4,0,"ng-template",null,1,k),r(54,"p-timeline",40),M(55,Rr,17,10,"ng-template",null,2,k)(57,Ar,2,12,"ng-template",null,3,k),a()()()()),n&2){let e=f();c(7),S(e.process.process_name),c(5),S(e.process.candidate==null?null:e.process.candidate.full_name),c(5),S(e.process.job==null?null:e.process.job.title),c(2),u("value",e.process.status)("severity",e.getStatusSeverity(e.process.status)),c(),u("text",!0)("routerLink",D(15,Er)),c(9),T(" ",e.formatDate(e.process.started_at)," "),c(6),T(" ",e.process.completed_at?e.formatDate(e.process.completed_at):"\u0110ang ti\u1EBFn h\xE0nh"," "),c(5),T("",(e.process.rounds==null?null:e.process.rounds.length)||0," v\xF2ng ph\u1ECFng v\u1EA5n"),c(5),u("outlined",!0)("routerLink",U(16,Cr,e.process.candidate==null?null:e.process.candidate.id)),c(4),u("outlined",!0)("routerLink",U(18,wr,e.process.job==null?null:e.process.job.id)),c(5),u("value",e.process.rounds)}}function Wr(n,t){if(n&1){let e=F();r(0,"div",78)(1,"p-button",79),E("onClick",function(){m(e);let o=f();return p(o.closeRoundDialog())}),a(),r(2,"p-button",80),E("onClick",function(){m(e);let o=f();return p(o.saveRound())}),a()()}n&2&&(c(),u("text",!0))}function Br(n,t){if(n&1){let e=F();r(0,"div",78)(1,"p-button",79),E("onClick",function(){m(e);let o=f();return p(o.closeResultDialog())}),a(),r(2,"p-button",80),E("onClick",function(){m(e);let o=f();return p(o.saveResult())}),a()()}n&2&&(c(),u("text",!0))}var Et=class n{constructor(t,e,i,o){this.route=t;this.rmsService=e;this.confirmationService=i;this.messageService=o}process=null;processId;displayRoundDialog=!1;displayResultDialog=!1;isEditRound=!1;selectedRound=null;roundForm={round_number:1,round_name:"",interviewer_name:"",scheduled_date:null,status:"Scheduled"};resultForm={attendance_status:"Scheduled",score:null,feedback:"",outcome:"Pending"};roundStatusOptions=[{label:"\u0110\xE3 l\xEAn l\u1ECBch",value:"Scheduled"},{label:"Ho\xE0n th\xE0nh",value:"Completed"},{label:"\u0110\xE3 h\u1EE7y",value:"Cancelled"}];attendanceOptions=[{label:"\u0110\xE3 l\xEAn l\u1ECBch",value:"Scheduled"},{label:"\u0110\xE3 tham d\u1EF1",value:"Attended"},{label:"V\u1EAFng m\u1EB7t",value:"No-show"},{label:"\u0110\xE3 h\u1EE7y",value:"Cancelled"}];outcomeOptions=[{label:"\u0110\u1EA1t",value:"Pass"},{label:"Kh\xF4ng \u0111\u1EA1t",value:"Fail"},{label:"Ch\u1EDD k\u1EBFt qu\u1EA3",value:"Pending"}];ngOnInit(){this.processId=Number(this.route.snapshot.paramMap.get("id")),this.loadProcess()}loadProcess(){this.rmsService.getRecruitmentProcessById(this.processId).subscribe(t=>{this.process=t})}openAddRoundDialog(){this.isEditRound=!1,this.selectedRound=null,this.resetRoundForm();let t=(this.process.rounds?.length||0)+1;this.roundForm.round_number=t,this.displayRoundDialog=!0}openEditRoundDialog(t){this.isEditRound=!0,this.selectedRound=t,this.roundForm={round_number:t.round_number,round_name:t.round_name,interviewer_name:t.interviewer_name,scheduled_date:new Date(t.scheduled_date),status:t.status},this.displayRoundDialog=!0}closeRoundDialog(){this.displayRoundDialog=!1,this.resetRoundForm()}resetRoundForm(){this.roundForm={round_number:1,round_name:"",interviewer_name:"",scheduled_date:null,status:"Scheduled"}}saveRound(){if(!this.roundForm.round_name||!this.roundForm.interviewer_name||!this.roundForm.scheduled_date){this.messageService.add({severity:"error",summary:"L\u1ED7i",detail:"Vui l\xF2ng \u0111i\u1EC1n \u0111\u1EA7y \u0111\u1EE7 th\xF4ng tin b\u1EAFt bu\u1ED9c"});return}let t={recruitment_process_id:this.processId,round_number:this.roundForm.round_number,round_name:this.roundForm.round_name,interviewer_name:this.roundForm.interviewer_name,scheduled_date:this.formatDateTimeForSave(this.roundForm.scheduled_date),status:this.roundForm.status};this.isEditRound&&this.selectedRound?(this.rmsService.updateInterviewRound(this.selectedRound.id,t),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"C\u1EADp nh\u1EADt v\xF2ng ph\u1ECFng v\u1EA5n th\xE0nh c\xF4ng"})):(this.rmsService.createInterviewRound(t),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"Th\xEAm v\xF2ng ph\u1ECFng v\u1EA5n th\xE0nh c\xF4ng"})),this.closeRoundDialog(),this.loadProcess()}confirmDeleteRound(t){this.confirmationService.confirm({message:`B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a v\xF2ng ph\u1ECFng v\u1EA5n "${t.round_name}"?`,header:"X\xE1c nh\u1EADn x\xF3a",icon:"pi pi-exclamation-triangle",acceptLabel:"X\xF3a",rejectLabel:"H\u1EE7y",accept:()=>{this.deleteRound(t)}})}deleteRound(t){this.rmsService.deleteInterviewRound(t.id),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"X\xF3a v\xF2ng ph\u1ECFng v\u1EA5n th\xE0nh c\xF4ng"}),this.loadProcess()}openUpdateResultDialog(t){this.selectedRound=t,t.result?this.resultForm={attendance_status:t.result.attendance_status,score:t.result.score,feedback:t.result.feedback,outcome:t.result.outcome}:this.resetResultForm(),this.displayResultDialog=!0}closeResultDialog(){this.displayResultDialog=!1,this.resetResultForm()}resetResultForm(){this.resultForm={attendance_status:"Scheduled",score:null,feedback:"",outcome:"Pending"}}saveResult(){!this.selectedRound||!this.process.candidate||(this.rmsService.updateCandidateRound(this.process.candidate.id,this.selectedRound.id,this.resultForm),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"C\u1EADp nh\u1EADt k\u1EBFt qu\u1EA3 ph\u1ECFng v\u1EA5n th\xE0nh c\xF4ng"}),this.closeResultDialog(),this.loadProcess())}formatDate(t){return new Date(t).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})}formatDateTime(t){return new Date(t).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}formatDateTimeForSave(t){return t.toISOString()}getStatusSeverity(t){return{"In Progress":"info",Completed:"success",Cancelled:"danger"}[t]||"secondary"}getRoundStatusSeverity(t){return{Scheduled:"info",Completed:"success",Cancelled:"danger"}[t]||"secondary"}getAttendanceSeverity(t){return{Scheduled:"info",Attended:"success","No-show":"danger",Cancelled:"secondary"}[t]||"secondary"}getOutcomeSeverity(t){return{Pass:"success",Fail:"danger",Pending:"warning"}[t]||"secondary"}static \u0275fac=function(e){return new(e||n)(I(Fe),I(H),I(L),I(j))};static \u0275cmp=W({type:n,selectors:[["app-process-detail"]],features:[Q([L,j])],decls:61,vars:30,consts:[["footer",""],["header",""],["content",""],["marker",""],["class","grid grid-cols-12 gap-6",4,"ngIf"],["maskStyleClass","backdrop-blur-sm","styleClass","!border-0",3,"visibleChange","visible","header","modal"],[1,"space-y-4"],[1,"grid","grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","mb-2"],[2,"color","red"],[1,"w-full",3,"ngModelChange","ngModel","min","max"],["optionLabel","label","optionValue","value",1,"w-full",3,"ngModelChange","ngModel","options"],["pInputText","","placeholder","VD: Technical Interview",1,"w-full",3,"ngModelChange","ngModel"],["pInputText","","placeholder","VD: Nguy\u1EC5n V\u0103n A",1,"w-full",3,"ngModelChange","ngModel"],["appendTo","body","dateFormat","yy-mm-dd",1,"w-full",3,"ngModelChange","ngModel","showTime","showIcon"],["maskStyleClass","backdrop-blur-sm","styleClass","!border-0","header","C\u1EADp nh\u1EADt K\u1EBFt qu\u1EA3 Ph\u1ECFng v\u1EA5n",3,"visibleChange","visible","modal"],["appendTo","body","optionLabel","label","optionValue","value",1,"w-full",3,"ngModelChange","ngModel","options"],["pInputTextarea","","rows","4","placeholder","Nh\u1EADn x\xE9t v\u1EC1 \u1EE9ng vi\xEAn...",1,"w-full",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-12","gap-6"],[1,"col-span-12"],[1,"flex","justify-between","items-start"],[1,"text-3xl","font-bold","text-surface-900","dark:text-surface-0"],[1,"text-surface-600","dark:text-surface-400","mt-2"],[1,"pi","pi-user","mr-2"],[1,"text-surface-600","dark:text-surface-400","mt-1"],[1,"pi","pi-briefcase","mr-2"],[1,"flex","gap-2"],["styleClass","text-lg px-4 py-2",3,"value","severity"],["label","Quay l\u1EA1i","icon","pi pi-arrow-left",3,"text","routerLink"],[1,"col-span-12","lg:col-span-4"],["header","Th\xF4ng tin Quy tr\xECnh"],[1,"text-sm","font-semibold","text-surface-600","dark:text-surface-400","mb-1"],[1,"font-medium"],[1,"pi","pi-calendar","text-primary","mr-2"],[1,"space-y-3"],[1,"font-semibold","text-surface-700","dark:text-surface-300"],["label","Xem h\u1ED3 s\u01A1 \u1EE9ng vi\xEAn","icon","pi pi-user","styleClass","w-full",3,"outlined","routerLink"],[1,"space-y-3","mt-4"],["label","Xem chi ti\u1EBFt c\xF4ng vi\u1EC7c","icon","pi pi-briefcase","styleClass","w-full",3,"outlined","routerLink"],[1,"col-span-12","lg:col-span-8"],["align","left",3,"value"],[1,"flex","justify-between","items-center","p-4"],[1,"text-lg","font-semibold"],["label","Th\xEAm v\xF2ng ph\u1ECFng v\u1EA5n","icon","pi pi-plus","size","small",3,"onClick"],[1,"mb-4"],[1,"flex","justify-between","items-start","mb-3"],[1,"text-xl","font-bold","text-surface-900","dark:text-surface-0"],[1,"pi","pi-calendar","mr-2"],[1,"flex","gap-2","items-center"],[3,"value","severity"],["icon","pi pi-pencil","size","small","severity","warn",3,"onClick","text"],["icon","pi pi-trash","size","small","severity","danger",3,"onClick","text"],["class","bg-surface-50 dark:bg-surface-800 rounded-lg p-4 mt-3",4,"ngIf"],["class","bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 mt-3",4,"ngIf"],[1,"bg-surface-50","dark:bg-surface-800","rounded-lg","p-4","mt-3"],[1,"flex-1"],[1,"grid","grid-cols-2","gap-4","mb-3"],[1,"text-sm","text-surface-600","dark:text-surface-400"],["styleClass","ml-2",3,"value","severity"],["class","mb-3",4,"ngIf"],[4,"ngIf"],["class","text-xs text-surface-500 dark:text-surface-400 mt-2",4,"ngIf"],["icon","pi pi-pencil","size","small","severity","warn","pTooltip","C\u1EADp nh\u1EADt k\u1EBFt qu\u1EA3",3,"onClick","text"],[1,"mb-3"],[1,"text-sm","font-semibold","text-surface-700","dark:text-surface-300"],[1,"flex","items-center","gap-3","mt-2"],[1,"flex-1","bg-white","dark:bg-surface-900","rounded-full","h-3"],[1,"h-3","rounded-full","transition-all",3,"ngClass"],[1,"text-xl","font-bold","text-primary"],[1,"text-surface-600","dark:text-surface-400","mt-1","italic"],[1,"text-xs","text-surface-500","dark:text-surface-400","mt-2"],[1,"bg-blue-50","dark:bg-blue-900/20","rounded-lg","p-4","mt-3"],[1,"flex","justify-between","items-center"],[1,"text-blue-700","dark:text-blue-300"],[1,"pi","pi-info-circle","mr-2"],["label","Nh\u1EADp k\u1EBFt qu\u1EA3","icon","pi pi-plus","size","small",3,"onClick"],[1,"flex","items-center","justify-center","w-10","h-10","rounded-full",3,"ngClass"],[3,"ngClass"],[1,"flex","justify-end","gap-2","mt-4"],["label","H\u1EE7y","icon","pi pi-times",3,"onClick","text"],["label","L\u01B0u","icon","pi pi-check",3,"onClick"]],template:function(e,i){if(e&1){let o=F();M(0,Lr,59,20,"div",4),r(1,"p-dialog",5),y("visibleChange",function(l){return m(o),v(i.displayRoundDialog,l)||(i.displayRoundDialog=l),p(l)}),r(2,"div",6)(3,"div",7)(4,"div")(5,"label",8),s(6,"S\u1ED1 v\xF2ng "),r(7,"span",9),s(8,"*"),a()(),r(9,"p-inputNumber",10),y("ngModelChange",function(l){return m(o),v(i.roundForm.round_number,l)||(i.roundForm.round_number=l),p(l)}),a()(),r(10,"div")(11,"label",8),s(12,"Tr\u1EA1ng th\xE1i "),r(13,"span",9),s(14,"*"),a()(),r(15,"p-select",11),y("ngModelChange",function(l){return m(o),v(i.roundForm.status,l)||(i.roundForm.status=l),p(l)}),a()()(),r(16,"div")(17,"label",8),s(18,"T\xEAn v\xF2ng ph\u1ECFng v\u1EA5n "),r(19,"span",9),s(20,"*"),a()(),r(21,"input",12),y("ngModelChange",function(l){return m(o),v(i.roundForm.round_name,l)||(i.roundForm.round_name=l),p(l)}),a()(),r(22,"div")(23,"label",8),s(24,"Ng\u01B0\u1EDDi ph\u1ECFng v\u1EA5n "),r(25,"span",9),s(26,"*"),a()(),r(27,"input",13),y("ngModelChange",function(l){return m(o),v(i.roundForm.interviewer_name,l)||(i.roundForm.interviewer_name=l),p(l)}),a()(),r(28,"div")(29,"label",8),s(30,"Ng\xE0y gi\u1EDD ph\u1ECFng v\u1EA5n "),r(31,"span",9),s(32,"*"),a()(),r(33,"p-datePicker",14),y("ngModelChange",function(l){return m(o),v(i.roundForm.scheduled_date,l)||(i.roundForm.scheduled_date=l),p(l)}),a()()(),M(34,Wr,3,1,"ng-template",null,0,k),a(),r(36,"p-dialog",15),y("visibleChange",function(l){return m(o),v(i.displayResultDialog,l)||(i.displayResultDialog=l),p(l)}),r(37,"div",6)(38,"div",7)(39,"div")(40,"label",8),s(41,"Tr\u1EA1ng th\xE1i tham d\u1EF1 "),r(42,"span",9),s(43,"*"),a()(),r(44,"p-select",16),y("ngModelChange",function(l){return m(o),v(i.resultForm.attendance_status,l)||(i.resultForm.attendance_status=l),p(l)}),a()(),r(45,"div")(46,"label",8),s(47,"K\u1EBFt qu\u1EA3 "),r(48,"span",9),s(49,"*"),a()(),r(50,"p-select",11),y("ngModelChange",function(l){return m(o),v(i.resultForm.outcome,l)||(i.resultForm.outcome=l),p(l)}),a()()(),r(51,"div")(52,"label",8),s(53,"\u0110i\u1EC3m \u0111\xE1nh gi\xE1 (0-100)"),a(),r(54,"p-inputNumber",10),y("ngModelChange",function(l){return m(o),v(i.resultForm.score,l)||(i.resultForm.score=l),p(l)}),a()(),r(55,"div")(56,"label",8),s(57,"Nh\u1EADn x\xE9t"),a(),r(58,"textarea",17),y("ngModelChange",function(l){return m(o),v(i.resultForm.feedback,l)||(i.resultForm.feedback=l),p(l)}),a()()(),M(59,Br,3,1,"ng-template",null,0,k),a()}e&2&&(u("ngIf",i.process),c(),R(D(28,yi)),b("visible",i.displayRoundDialog),u("header",i.isEditRound?"S\u1EEDa V\xF2ng ph\u1ECFng v\u1EA5n":"Th\xEAm V\xF2ng ph\u1ECFng v\u1EA5n")("modal",!0),c(8),b("ngModel",i.roundForm.round_number),u("min",1)("max",10),c(6),b("ngModel",i.roundForm.status),u("options",i.roundStatusOptions),c(6),b("ngModel",i.roundForm.round_name),c(6),b("ngModel",i.roundForm.interviewer_name),c(6),b("ngModel",i.roundForm.scheduled_date),u("showTime",!0)("showIcon",!0),c(3),R(D(29,yi)),b("visible",i.displayResultDialog),u("modal",!0),c(8),b("ngModel",i.resultForm.attendance_status),u("options",i.attendanceOptions),c(6),b("ngModel",i.resultForm.outcome),u("options",i.outcomeOptions),c(4),b("ngModel",i.resultForm.score),u("min",0)("max",100),c(4),b("ngModel",i.resultForm.feedback))},dependencies:[B,Ot,ue,z,X,oe,me,re,ae,K,he,$,q,J,O,xe,Te,lt,ot,Xt,Z,Y,ge,pe,Se,Re,Ve,Ie,_e,fe,at,rt,ve,be,se,le],encapsulation:2})};var Or=()=>["/rms"],Jr=()=>({width:"500px"}),Hr=()=>({"min-width":"60rem"}),Nr=n=>["/rms/candidates",n];function Ur(n,t){if(n&1){let e=F();r(0,"div",21)(1,"p-card")(2,"div",22)(3,"div",23),g(4,"i",24),a(),r(5,"div",25)(6,"h3",26),s(7),a(),r(8,"p",27),s(9),a()()(),r(10,"div",28)(11,"div",29),g(12,"i",30),r(13,"span",31),s(14),a()(),r(15,"div",29),g(16,"i",32),r(17,"span",31),s(18),a()()(),r(19,"div",8)(20,"p-button",33),E("onClick",function(){let o=m(e).$implicit,d=f();return p(d.loadHunterCandidates(o.id))}),a(),r(21,"p-button",34),E("onClick",function(){let o=m(e).$implicit,d=f();return p(d.openEditDialog(o))}),a(),r(22,"p-button",35),E("onClick",function(){let o=m(e).$implicit,d=f();return p(d.confirmDelete(o))}),a()()()()}if(n&2){let e=t.$implicit;c(7),S(e.name),c(2),S(e.specialization),c(5),S(e.email),c(4),S(e.phone),c(2),u("outlined",!0),c(),u("outlined",!0),c(),u("outlined",!0)}}function Xr(n,t){n&1&&(r(0,"tr")(1,"th"),s(2,"T\xEAn \u1EE9ng vi\xEAn"),a(),r(3,"th"),s(4,"Email"),a(),r(5,"th"),s(6,"V\u1ECB tr\xED \u1EE9ng tuy\u1EC3n"),a(),r(7,"th"),s(8,"Tr\u1EA1ng th\xE1i \u1EE9ng vi\xEAn"),a(),r(9,"th"),s(10,"Tr\u1EA1ng th\xE1i \u1EE9ng tuy\u1EC3n"),a(),r(11,"th",39),s(12,"H\xE0nh \u0111\u1ED9ng"),a()())}function zr(n,t){if(n&1&&(r(0,"tr")(1,"td")(2,"div",40),g(3,"i",41),r(4,"span",42),s(5),a()()(),r(6,"td"),s(7),a(),r(8,"td")(9,"span",43),s(10),a()(),r(11,"td"),g(12,"p-tag",44),a(),r(13,"td"),g(14,"p-tag",44),a(),r(15,"td"),g(16,"p-button",45),a()()),n&2){let e=t.$implicit,i=f(2);c(5),S(e.full_name),c(2),S(e.email),c(3),S(e.job==null?null:e.job.title),c(2),u("value",e.status)("severity",i.getStatusSeverity(e.status)),c(2),u("value",e.status)("severity",i.getJobStatusSeverity(e.status)),c(2),u("text",!0)("routerLink",U(9,Nr,e.id))}}function Kr(n,t){n&1&&(r(0,"tr")(1,"td",46),s(2,"Hunter n\xE0y ch\u01B0a qu\u1EA3n l\xFD \u1EE9ng vi\xEAn n\xE0o"),a()())}function qr(n,t){if(n&1&&(r(0,"div",36)(1,"p-card",37)(2,"p-table",38),M(3,Xr,13,0,"ng-template",null,1,k)(5,zr,17,11,"ng-template",null,2,k)(7,Kr,3,0,"ng-template",null,3,k),a()()()),n&2){let e=f();c(),u("header","\u1EE8ng vi\xEAn c\u1EE7a "+e.selectedHunter.name),c(),u("value",e.selectedHunter.candidates)("tableStyle",D(3,Hr))}}function $r(n,t){if(n&1){let e=F();r(0,"div",47)(1,"p-button",48),E("onClick",function(){m(e);let o=f();return p(o.closeDialog())}),a(),r(2,"p-button",49),E("onClick",function(){m(e);let o=f();return p(o.saveHunter())}),a()()}n&2&&(c(),u("text",!0))}var Ct=class n{constructor(t,e,i){this.rmsService=t;this.confirmationService=e;this.messageService=i}hunters=[];selectedHunter=null;displayDialog=!1;isEditMode=!1;selectedHunterForEdit=null;hunterForm={name:"",email:"",phone:"",specialization:""};ngOnInit(){this.loadHunters()}loadHunters(){this.rmsService.getHunters().subscribe(t=>{this.hunters=t})}loadHunterCandidates(t){this.rmsService.getHunterWithCandidates(t).subscribe(e=>{this.selectedHunter=e})}openCreateDialog(){this.isEditMode=!1,this.selectedHunterForEdit=null,this.resetForm(),this.displayDialog=!0}openEditDialog(t){this.isEditMode=!0,this.selectedHunterForEdit=t,this.hunterForm=_({},t),this.displayDialog=!0}closeDialog(){this.displayDialog=!1,this.resetForm()}resetForm(){this.hunterForm={name:"",email:"",phone:"",specialization:""}}saveHunter(){if(!this.validateForm()){this.messageService.add({severity:"error",summary:"L\u1ED7i",detail:"Vui l\xF2ng \u0111i\u1EC1n \u0111\u1EA7y \u0111\u1EE7 th\xF4ng tin b\u1EAFt bu\u1ED9c"});return}this.isEditMode&&this.selectedHunterForEdit?(this.rmsService.updateHunter(this.selectedHunterForEdit.id,this.hunterForm),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"C\u1EADp nh\u1EADt hunter th\xE0nh c\xF4ng"})):(this.rmsService.createHunter(this.hunterForm),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"Th\xEAm hunter m\u1EDBi th\xE0nh c\xF4ng"})),this.closeDialog(),this.loadHunters()}validateForm(){return this.hunterForm.name&&this.hunterForm.email&&this.hunterForm.phone&&this.hunterForm.specialization}confirmDelete(t){this.confirmationService.confirm({message:`B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a hunter "${t.name}"? H\xE0nh \u0111\u1ED9ng n\xE0y kh\xF4ng th\u1EC3 ho\xE0n t\xE1c.`,header:"X\xE1c nh\u1EADn x\xF3a",icon:"pi pi-exclamation-triangle",acceptLabel:"X\xF3a",rejectLabel:"H\u1EE7y",accept:()=>{this.deleteHunter(t)}})}deleteHunter(t){this.rmsService.deleteHunter(t.id),this.messageService.add({severity:"success",summary:"Th\xE0nh c\xF4ng",detail:"X\xF3a hunter th\xE0nh c\xF4ng"}),this.loadHunters()}getStatusSeverity(t){return{Pending:"warning",Interviewing:"info",Hired:"success",Rejected:"danger"}[t]||"secondary"}getJobStatusSeverity(t){return{Applied:"info",Screening:"info",Interviewing:"warning",Offered:"contrast",Hired:"success",Rejected:"danger"}[t]||"secondary"}static \u0275fac=function(e){return new(e||n)(I(H),I(L),I(j))};static \u0275cmp=W({type:n,selectors:[["app-hunters-management"]],features:[Q([L,j])],decls:35,vars:15,consts:[["footer",""],["header",""],["body",""],["emptymessage",""],[1,"card"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-2xl","font-bold","text-surface-900","dark:text-surface-0"],[1,"text-surface-600","dark:text-surface-400","mt-1"],[1,"flex","gap-2"],["label","Th\xEAm Hunter","icon","pi pi-plus",3,"onClick"],["label","Quay l\u1EA1i Dashboard","icon","pi pi-arrow-left",3,"text","routerLink"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],["class","col-span-1",4,"ngFor","ngForOf"],["class","mt-6",4,"ngIf"],["maskStyleClass","backdrop-blur-sm","styleClass","!border-0",3,"visibleChange","visible","header","modal"],[1,"space-y-4"],[1,"block","text-sm","font-medium","mb-2"],["pInputText","","placeholder","VD: Nguy\u1EC5n V\u0103n A",1,"w-full",3,"ngModelChange","ngModel"],["pInputText","","type","email","placeholder","email@example.com",1,"w-full",3,"ngModelChange","ngModel"],["pInputText","","placeholder","+84 xxx xxx xxx",1,"w-full",3,"ngModelChange","ngModel"],["pInputText","","placeholder","VD: IT Recruitment",1,"w-full",3,"ngModelChange","ngModel"],[1,"col-span-1"],[1,"flex","items-start","gap-4","mb-4"],[1,"flex","items-center","justify-center","w-16","h-16","bg-primary-100","dark:bg-primary-900/20","rounded-full"],[1,"pi","pi-user-plus","text-3xl","text-primary"],[1,"flex-1"],[1,"text-xl","font-bold","text-surface-900","dark:text-surface-0"],[1,"text-sm","text-surface-600","dark:text-surface-400"],[1,"space-y-2","mb-4"],[1,"flex","items-center","gap-2","text-sm"],[1,"pi","pi-envelope","text-surface-400"],[1,"text-surface-600","dark:text-surface-400"],[1,"pi","pi-phone","text-surface-400"],["label","Xem \u1EE9ng vi\xEAn","icon","pi pi-users","styleClass","flex-1",3,"onClick","outlined"],["icon","pi pi-pencil","severity","warn",3,"onClick","outlined"],["icon","pi pi-trash","severity","danger",3,"onClick","outlined"],[1,"mt-6"],[3,"header"],[3,"value","tableStyle"],[2,"width","150px"],[1,"flex","items-center","gap-2"],[1,"pi","pi-user","text-primary"],[1,"font-semibold"],[1,"font-medium","text-primary"],[3,"value","severity"],["label","Xem","icon","pi pi-eye","size","small",3,"text","routerLink"],["colspan","6",1,"text-center","text-surface-500","dark:text-surface-400","py-8"],[1,"flex","justify-end","gap-2","mt-4"],["label","H\u1EE7y","icon","pi pi-times",3,"onClick","text"],["label","L\u01B0u","icon","pi pi-check",3,"onClick"]],template:function(e,i){if(e&1){let o=F();r(0,"div",4),g(1,"p-toast")(2,"p-confirmDialog"),r(3,"div",5)(4,"div")(5,"h2",6),s(6,"Qu\u1EA3n l\xFD Hunters"),a(),r(7,"p",7),s(8,"Danh s\xE1ch hunters v\xE0 \u1EE9ng vi\xEAn h\u1ECD qu\u1EA3n l\xFD"),a()(),r(9,"div",8)(10,"p-button",9),E("onClick",function(){return m(o),p(i.openCreateDialog())}),a(),g(11,"p-button",10),a()(),r(12,"div",11),M(13,Ur,23,7,"div",12),a(),M(14,qr,9,4,"div",13),a(),r(15,"p-dialog",14),y("visibleChange",function(l){return m(o),v(i.displayDialog,l)||(i.displayDialog=l),p(l)}),r(16,"div",15)(17,"div")(18,"label",16),s(19,"T\xEAn *"),a(),r(20,"input",17),y("ngModelChange",function(l){return m(o),v(i.hunterForm.name,l)||(i.hunterForm.name=l),p(l)}),a()(),r(21,"div")(22,"label",16),s(23,"Email *"),a(),r(24,"input",18),y("ngModelChange",function(l){return m(o),v(i.hunterForm.email,l)||(i.hunterForm.email=l),p(l)}),a()(),r(25,"div")(26,"label",16),s(27,"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i *"),a(),r(28,"input",19),y("ngModelChange",function(l){return m(o),v(i.hunterForm.phone,l)||(i.hunterForm.phone=l),p(l)}),a()(),r(29,"div")(30,"label",16),s(31,"Chuy\xEAn m\xF4n *"),a(),r(32,"input",20),y("ngModelChange",function(l){return m(o),v(i.hunterForm.specialization,l)||(i.hunterForm.specialization=l),p(l)}),a()()(),M(33,$r,3,1,"ng-template",null,0,k),a()}e&2&&(c(11),u("text",!0)("routerLink",D(13,Or)),c(2),u("ngForOf",i.hunters),c(),u("ngIf",i.selectedHunter),c(),R(D(14,Jr)),b("visible",i.displayDialog),u("header",i.isEditMode?"S\u1EEDa Hunter":"Th\xEAm Hunter m\u1EDBi")("modal",!0),c(5),b("ngModel",i.hunterForm.name),c(4),b("ngModel",i.hunterForm.email),c(4),b("ngModel",i.hunterForm.phone),c(4),b("ngModel",i.hunterForm.specialization))},dependencies:[B,ye,ue,z,X,oe,me,re,ae,K,he,te,ee,$,q,J,O,Ut,Z,Y,ge,pe,ve,be,se,le],encapsulation:2})};var Ds=[{path:"",component:dt},{path:"jobs",component:ht},{path:"jobs/:id",component:vt},{path:"candidates",component:yt},{path:"candidates/:id",component:xt},{path:"processes",component:St},{path:"processes/:id",component:Et},{path:"hunters",component:Ct}];export{Ds as default};
