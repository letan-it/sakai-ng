import{a as jw,b as Gw,c as r3,d as s3}from"./chunk-WWKDB5TP.js";import{a as eg,b as tg,c as I3,d as T3,e as ag,f as og,g as Vo,h as D3,i as L3}from"./chunk-7W7SQP5U.js";import{a as S3,b as M3,c as k3,d as E3,e as P3,f as A3,g as O3,h as F3,i as V3,j as z3,k as R3}from"./chunk-3ESNSFJU.js";import{a as ig,b as ng,c as wc,d as C3}from"./chunk-VUHPLJQX.js";import{$ as Y0,A as d3,B as u3,C as p3,D as h3,E as Ip,F as ls,G as La,H as aa,I as bc,J as yc,K as W0,L as Z0,M as m3,N as f3,O as Q0,P as g3,Q as _3,R as b3,S as y3,T as v3,U as x3,X as w3,Y as X0,Z as vc,_ as xc,a as Uw,aa as J0,b as $w,c as hc,d as Kw,e as Ls,f as q0,g as Mb,h as kb,i as Ww,j as Da,k as mc,l as so,m as Ud,n as H0,o as gp,p as Qw,q as Xw,r as Yw,s as cr,t as gc,u as dr,v as _c,w as t3,x as i3,y as o3,z as wp}from"./chunk-Z66PZIJD.js";import{a as Zw}from"./chunk-4PPUO5F7.js";import{a as yp}from"./chunk-5DJH7VSQ.js";import{d as Ew,e as $o,f as os,j as Ea}from"./chunk-EOUPEFEV.js";import{$ as fm,$a as pc,A as Pw,Aa as Sb,Ab as na,B as Ko,Ba as Nw,Bb as e3,C as Hn,Ca as vi,D as Pa,Db as dn,E as Tb,Ea as cc,F as Dw,Fb as lr,G as A0,Gb as G0,H as qd,Ha as Hr,Hb as U0,I as lc,Ia as rr,Ib as $0,J as Lw,Ja as sr,Jb as K0,K as Dr,Ka as dc,Kb as vp,L as up,La as Ps,Lb as fc,Ma as di,Mb as ma,N as pp,Na as Ze,Nb as Fo,O as Aw,Oa as yo,Ob as xp,P as hm,Pa as qw,Pb as n3,Q as Ow,Qa as R0,Qb as a3,Rb as Gr,S as En,Sb as l3,T as ei,Tb as c3,U as $t,Ua as Rt,V as bo,Va as Hw,W as Hd,X as jd,Xa as Ot,Y as O0,Ya as ss,Z as F0,Za as hp,_ as mm,_a as uc,aa as V0,ab as B0,ba as Lr,ca as gm,cb as qi,ea as Gd,eb as Ao,f as ka,fa as Fw,fb as N0,g as Bi,gb as jr,h as Ut,ha as z0,hb as oo,ia as ar,ja as Vw,jb as Ds,k as fi,kb as mp,l as Yt,lb as ro,m as Sw,ma as rs,mb as fp,n as Mw,na as hn,nb as As,o as kw,oa as zw,ob as Ar,p as mt,pa as Rw,pb as Jw,q as ii,qa as Wt,qb as sn,ra as Vi,rb as _p,sa as Wa,sb as j0,ta as xn,tb as Os,ua as Cb,ub as Gi,v as L0,va as ta,vb as zi,wa as Lo,wb as Oo,xa as Bw,xb as bp,za as or,zb as ia}from"./chunk-7BUJRFZ7.js";import{$b as vw,$c as Ni,Aa as st,Ab as Zi,Ac as sc,B as C0,Bc as P0,Ca as ua,Cb as bw,Cc as pm,Db as yw,Dc as ze,Ea as gw,Eb as C,Fb as A,Ga as nc,Gb as L,Hb as ae,I as S0,Ib as Po,Ic as Ai,J as M0,Jb as Do,Jc as Pr,K as k0,Kb as ha,L as _b,Lb as Ke,M as cw,Mb as We,Mc as nn,Nb as nt,Nc as Iw,O as dw,Ob as Be,P as uw,Pb as no,Pc as D0,Qc as nr,R as pw,Sb as we,Sc as Tw,Ua as ea,Ub as M,Uc as ye,Va as Ji,Vb as Ui,Vc as wt,Wb as Ei,Wc as Cw,X as E0,Xb as xe,Y as bb,Ya as cp,Yb as ut,Z as lp,Za as S,Zb as se,_ as hw,_b as le,_c as qn,a as ri,ab as dp,ac as xw,b as Ma,ba as Ki,bb as ac,bc as Gt,bd as Oi,ca as yt,cb as Dt,cc as Nn,cd as ao,d as ik,da as Vt,dc as rc,dd as Fi,e as ow,eb as yb,ec as Lt,ed as wb,fa as hl,fc as $,ga as mw,gc as ie,gd as Ib,ha as Fe,hc as Et,ib as Je,ic as oi,jb as zt,ka as fw,kb as oc,kc as si,lc as li,ma as Q,mb as ft,mc as ci,n as Bd,na as X,nb as _w,nc as ww,oa as at,ob as z,oc as Es,p as dm,pc as _t,qa as um,qb as Le,qc as Zt,ra as qr,rb as pa,rc as ot,s as rn,sb as vb,sc as ni,t as rw,tc as Er,u as gb,uc as Nd,va as gi,x as sw,xb,y as lw,yb as de,za as Eo,zb as Wi}from"./chunk-UFNSFZ2P.js";var Uv=ik((jv,Gv)=>{"use strict";(function(t,s){typeof jv=="object"&&typeof Gv<"u"?Gv.exports=s():typeof define=="function"&&define.amd?define(s):(t=typeof globalThis<"u"?globalThis:t||self,t.maplibregl=s())})(jv,function(){"use strict";var t={},s={};function e(n,a,u){if(s[n]=u,n==="index"){var b="var sharedModule = {}; ("+s.shared+")(sharedModule); ("+s.worker+")(sharedModule);",T={};return s.shared(T),s.index(t,T),typeof window<"u"&&t.setWorkerUrl(window.URL.createObjectURL(new Blob([b],{type:"text/javascript"}))),t}}e("shared",["exports"],function(n){"use strict";function a(c,o,l,p){return new(l||(l=Promise))(function(m,g){function _(E){try{I(p.next(E))}catch(O){g(O)}}function x(E){try{I(p.throw(E))}catch(O){g(O)}}function I(E){var O;E.done?m(E.value):(O=E.value,O instanceof l?O:new l(function(V){V(O)})).then(_,x)}I((p=p.apply(c,o||[])).next())})}function u(c,o){this.x=c,this.y=o}function b(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var T,D;typeof SuppressedError=="function"&&SuppressedError,u.prototype={clone(){return new u(this.x,this.y)},add(c){return this.clone()._add(c)},sub(c){return this.clone()._sub(c)},multByPoint(c){return this.clone()._multByPoint(c)},divByPoint(c){return this.clone()._divByPoint(c)},mult(c){return this.clone()._mult(c)},div(c){return this.clone()._div(c)},rotate(c){return this.clone()._rotate(c)},rotateAround(c,o){return this.clone()._rotateAround(c,o)},matMult(c){return this.clone()._matMult(c)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(c){return this.x===c.x&&this.y===c.y},dist(c){return Math.sqrt(this.distSqr(c))},distSqr(c){let o=c.x-this.x,l=c.y-this.y;return o*o+l*l},angle(){return Math.atan2(this.y,this.x)},angleTo(c){return Math.atan2(this.y-c.y,this.x-c.x)},angleWith(c){return this.angleWithSep(c.x,c.y)},angleWithSep(c,o){return Math.atan2(this.x*o-this.y*c,this.x*c+this.y*o)},_matMult(c){let o=c[2]*this.x+c[3]*this.y;return this.x=c[0]*this.x+c[1]*this.y,this.y=o,this},_add(c){return this.x+=c.x,this.y+=c.y,this},_sub(c){return this.x-=c.x,this.y-=c.y,this},_mult(c){return this.x*=c,this.y*=c,this},_div(c){return this.x/=c,this.y/=c,this},_multByPoint(c){return this.x*=c.x,this.y*=c.y,this},_divByPoint(c){return this.x/=c.x,this.y/=c.y,this},_unit(){return this._div(this.mag()),this},_perp(){let c=this.y;return this.y=this.x,this.x=-c,this},_rotate(c){let o=Math.cos(c),l=Math.sin(c),p=l*this.x+o*this.y;return this.x=o*this.x-l*this.y,this.y=p,this},_rotateAround(c,o){let l=Math.cos(c),p=Math.sin(c),m=o.y+p*(this.x-o.x)+l*(this.y-o.y);return this.x=o.x+l*(this.x-o.x)-p*(this.y-o.y),this.y=m,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:u},u.convert=function(c){if(c instanceof u)return c;if(Array.isArray(c))return new u(+c[0],+c[1]);if(c.x!==void 0&&c.y!==void 0)return new u(+c.x,+c.y);throw new Error("Expected [x, y] or {x, y} point format")};var R=function(){if(D)return T;function c(o,l,p,m){this.cx=3*o,this.bx=3*(p-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(m-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=l,this.p2x=p,this.p2y=m}return D=1,T=c,c.prototype={sampleCurveX:function(o){return((this.ax*o+this.bx)*o+this.cx)*o},sampleCurveY:function(o){return((this.ay*o+this.by)*o+this.cy)*o},sampleCurveDerivativeX:function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},solveCurveX:function(o,l){if(l===void 0&&(l=1e-6),o<0)return 0;if(o>1)return 1;for(var p=o,m=0;m<8;m++){var g=this.sampleCurveX(p)-o;if(Math.abs(g)<l)return p;var _=this.sampleCurveDerivativeX(p);if(Math.abs(_)<1e-6)break;p-=g/_}var x=0,I=1;for(p=o,m=0;m<20&&(g=this.sampleCurveX(p),!(Math.abs(g-o)<l));m++)o>g?x=p:I=p,p=.5*(I-x)+x;return p},solve:function(o,l){return this.sampleCurveY(this.solveCurveX(o,l))}},T}(),U=b(R);let Y,oe;function J(){return Y==null&&(Y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),Y}function ke(){if(oe==null&&(oe=!1,J())){let o=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(o){for(let p=0;p<5*5;p++){let m=4*p;o.fillStyle=`rgb(${m},${m+1},${m+2})`,o.fillRect(p%5,Math.floor(p/5),1,1)}let l=o.getImageData(0,0,5,5).data;for(let p=0;p<5*5*4;p++)if(p%4!=3&&l[p]!==p){oe=!0;break}}}return oe||!1}var Te=1e-6,qe=typeof Float32Array<"u"?Float32Array:Array;function et(){var c=new qe(9);return qe!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[5]=0,c[6]=0,c[7]=0),c[0]=1,c[4]=1,c[8]=1,c}function bt(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function xt(){var c=new qe(3);return qe!=Float32Array&&(c[0]=0,c[1]=0,c[2]=0),c}function lt(c){var o=c[0],l=c[1],p=c[2];return Math.sqrt(o*o+l*l+p*p)}function vt(c,o,l){var p=new qe(3);return p[0]=c,p[1]=o,p[2]=l,p}function qt(c,o,l){return c[0]=o[0]+l[0],c[1]=o[1]+l[1],c[2]=o[2]+l[2],c}function Mt(c,o,l){return c[0]=o[0]*l,c[1]=o[1]*l,c[2]=o[2]*l,c}function Jt(c,o,l){var p=o[0],m=o[1],g=o[2],_=l[0],x=l[1],I=l[2];return c[0]=m*I-g*x,c[1]=g*_-p*I,c[2]=p*x-m*_,c}var mi,hi=lt;function Si(c,o,l){var p=o[0],m=o[1],g=o[2],_=o[3];return c[0]=l[0]*p+l[4]*m+l[8]*g+l[12]*_,c[1]=l[1]*p+l[5]*m+l[9]*g+l[13]*_,c[2]=l[2]*p+l[6]*m+l[10]*g+l[14]*_,c[3]=l[3]*p+l[7]*m+l[11]*g+l[15]*_,c}function Pn(){var c=new qe(4);return qe!=Float32Array&&(c[0]=0,c[1]=0,c[2]=0),c[3]=1,c}function Aa(c,o,l,p){var m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"zyx",g=Math.PI/360;o*=g,p*=g,l*=g;var _=Math.sin(o),x=Math.cos(o),I=Math.sin(l),E=Math.cos(l),O=Math.sin(p),V=Math.cos(p);switch(m){case"xyz":c[0]=_*E*V+x*I*O,c[1]=x*I*V-_*E*O,c[2]=x*E*O+_*I*V,c[3]=x*E*V-_*I*O;break;case"xzy":c[0]=_*E*V-x*I*O,c[1]=x*I*V-_*E*O,c[2]=x*E*O+_*I*V,c[3]=x*E*V+_*I*O;break;case"yxz":c[0]=_*E*V+x*I*O,c[1]=x*I*V-_*E*O,c[2]=x*E*O-_*I*V,c[3]=x*E*V+_*I*O;break;case"yzx":c[0]=_*E*V+x*I*O,c[1]=x*I*V+_*E*O,c[2]=x*E*O-_*I*V,c[3]=x*E*V-_*I*O;break;case"zxy":c[0]=_*E*V-x*I*O,c[1]=x*I*V+_*E*O,c[2]=x*E*O+_*I*V,c[3]=x*E*V-_*I*O;break;case"zyx":c[0]=_*E*V-x*I*O,c[1]=x*I*V+_*E*O,c[2]=x*E*O-_*I*V,c[3]=x*E*V+_*I*O;break;default:throw new Error("Unknown angle order "+m)}return c}function Mi(){var c=new qe(2);return qe!=Float32Array&&(c[0]=0,c[1]=0),c}function en(c,o){var l=new qe(2);return l[0]=c,l[1]=o,l}xt(),mi=new qe(4),qe!=Float32Array&&(mi[0]=0,mi[1]=0,mi[2]=0,mi[3]=0),xt(),vt(1,0,0),vt(0,1,0),Pn(),Pn(),et(),Mi();let ui=8192;function Oa(c,o,l){return o*(ui/(c.tileSize*Math.pow(2,l-c.tileID.overscaledZ)))}function Cn(c,o){return(c%o+o)%o}function Bo(c,o,l){return c*(1-l)+o*l}function Or(c){if(c<=0)return 0;if(c>=1)return 1;let o=c*c,l=o*c;return 4*(c<.5?l:3*(c-o)+l-.75)}function wo(c,o,l,p){let m=new U(c,o,l,p);return g=>m.solve(g)}let oa=wo(.25,.1,.25,1);function Ta(c,o,l){return Math.min(l,Math.max(o,c))}function lo(c,o,l){let p=l-o,m=((c-o)%p+p)%p+o;return m===o?l:m}function $n(c,...o){for(let l of o)for(let p in l)c[p]=l[p];return c}let qs=1;function fr(c,o,l){let p={};for(let m in c)p[m]=o.call(this,c[m],m,c);return p}function qc(c,o,l){let p={};for(let m in c)o.call(this,c[m],m,c)&&(p[m]=c[m]);return p}function gr(c){return Array.isArray(c)?c.map(gr):typeof c=="object"&&c?fr(c,gr):c}let Hc={};function Fa(c){Hc[c]||(typeof console<"u"&&console.warn(c),Hc[c]=!0)}function Zo(c,o,l){return(l.y-c.y)*(o.x-c.x)>(o.y-c.y)*(l.x-c.x)}function Fr(c){return typeof WorkerGlobalScope<"u"&&c!==void 0&&c instanceof WorkerGlobalScope}let Kn=null;function hs(c){return typeof ImageBitmap<"u"&&c instanceof ImageBitmap}let Hs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function wl(c,o,l,p,m){return a(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");let g=new VideoFrame(c,{timestamp:0});try{let _=g?.format;if(!_||!_.startsWith("BGR")&&!_.startsWith("RGB"))throw new Error(`Unrecognized format ${_}`);let x=_.startsWith("BGR"),I=new Uint8ClampedArray(p*m*4);if(yield g.copyTo(I,function(E,O,V,N,q){let G=4*Math.max(-O,0),K=(Math.max(0,V)-V)*N*4+G,Z=4*N,re=Math.max(0,O),ge=Math.max(0,V);return{rect:{x:re,y:ge,width:Math.min(E.width,O+N)-re,height:Math.min(E.height,V+q)-ge},layout:[{offset:K,stride:Z}]}}(c,o,l,p,m)),x)for(let E=0;E<I.length;E+=4){let O=I[E];I[E]=I[E+2],I[E+2]=O}return I}finally{g.close()}})}let ms,_r;function Il(c,o,l,p){return c.addEventListener(o,l,p),{unsubscribe:()=>{c.removeEventListener(o,l,p)}}}function Tl(c){return c*Math.PI/180}function Io(c){return c/Math.PI*180}let Ne={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},te={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},ee="AbortError";class ue extends Error{constructor(o=ee){super(o instanceof Error?o.message:o),this.name=ee,o instanceof Error&&o.stack&&(this.stack=o.stack)}}function Ee(c){return c.name===ee}let De={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function He(c){return De.REGISTERED_PROTOCOLS[c.substring(0,c.indexOf("://"))]}let Ve="global-dispatcher";class Ae extends Error{constructor(o,l,p,m){super(`AJAXError: ${l} (${o}): ${p}`),this.status=o,this.statusText=l,this.url=p,this.body=m}}let Xe=()=>Fr(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,gt=function(c,o){if(/:\/\//.test(c.url)&&!/^https?:|^file:/.test(c.url)){let p=He(c.url);if(p)return p(c,o);if(Fr(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:c,targetMapId:Ve},o)}if(!(/^file:/.test(l=c.url)||/^file:/.test(Xe())&&!/^\w+:/.test(l))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(p,m){return a(this,void 0,void 0,function*(){let g=new Request(p.url,{method:p.method||"GET",body:p.body,credentials:p.credentials,headers:p.headers,cache:p.cache,referrer:Xe(),signal:m.signal}),_,x;p.type!=="json"||g.headers.has("Accept")||g.headers.set("Accept","application/json");try{_=yield fetch(g)}catch(E){throw Ee(E)?E:new Ae(0,E.message,p.url,new Blob)}if(!_.ok){let E=yield _.blob();throw new Ae(_.status,_.statusText,p.url,E)}x=p.type==="arrayBuffer"||p.type==="image"?_.arrayBuffer():p.type==="json"?_.json():_.text();let I=yield x;return m.signal.throwIfAborted(),{data:I,cacheControl:_.headers.get("Cache-Control"),expires:_.headers.get("Expires")}})}(c,o);if(Fr(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:c,mustQueue:!0,targetMapId:Ve},o)}var l;return function(p,m){return new Promise((g,_)=>{var x;let I=new XMLHttpRequest;I.open(p.method||"GET",p.url,!0),p.type!=="arrayBuffer"&&p.type!=="image"||(I.responseType="arraybuffer");for(let E in p.headers)I.setRequestHeader(E,p.headers[E]);p.type==="json"&&(I.responseType="text",!((x=p.headers)===null||x===void 0)&&x.Accept||I.setRequestHeader("Accept","application/json")),I.withCredentials=p.credentials==="include",I.onerror=()=>{_(new Error(I.statusText))},I.onload=()=>{if(!m.signal.aborted)if((I.status>=200&&I.status<300||I.status===0)&&I.response!==null){let E=I.response;if(p.type==="json")try{E=JSON.parse(I.response)}catch(O){return void _(O)}g({data:E,cacheControl:I.getResponseHeader("Cache-Control"),expires:I.getResponseHeader("Expires")})}else{let E=new Blob([I.response],{type:I.getResponseHeader("Content-Type")});_(new Ae(I.status,I.statusText,p.url,E))}},m.signal.addEventListener("abort",()=>{I.abort(),_(new ue(m.signal.reason))}),I.send(p.body)})}(c,o)};function ct(c){if(!c||c.indexOf("://")<=0||c.indexOf("data:image/")===0||c.indexOf("blob:")===0)return!0;let o=new URL(c),l=window.location;return o.protocol===l.protocol&&o.host===l.host}function Bt(c,o,l){l[c]&&l[c].indexOf(o)!==-1||(l[c]=l[c]||[],l[c].push(o))}function Qt(c,o,l){if(l&&l[c]){let p=l[c].indexOf(o);p!==-1&&l[c].splice(p,1)}}class _i{constructor(o,l={}){$n(this,l),this.type=o}}class un extends _i{constructor(o,l={}){super("error",$n({error:o},l))}}class Xi{on(o,l){return this._listeners=this._listeners||{},Bt(o,l,this._listeners),{unsubscribe:()=>{this.off(o,l)}}}off(o,l){return Qt(o,l,this._listeners),Qt(o,l,this._oneTimeListeners),this}once(o,l){return l?(this._oneTimeListeners=this._oneTimeListeners||{},Bt(o,l,this._oneTimeListeners),this):new Promise(p=>this.once(o,p))}fire(o,l){typeof o=="string"&&(o=new _i(o,l||{}));let p=o.type;if(this.listens(p)){o.target=this;let m=this._listeners&&this._listeners[p]?this._listeners[p].slice():[];for(let x of m)x.call(this,o);let g=this._oneTimeListeners&&this._oneTimeListeners[p]?this._oneTimeListeners[p].slice():[];for(let x of g)Qt(p,x,this._oneTimeListeners),x.call(this,o);let _=this._eventedParent;_&&($n(o,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),_.fire(o))}else o instanceof un&&console.error(o.error);return this}listens(o){return this._listeners&&this._listeners[o]&&this._listeners[o].length>0||this._oneTimeListeners&&this._oneTimeListeners[o]&&this._oneTimeListeners[o].length>0||this._eventedParent&&this._eventedParent.listens(o)}setEventedParent(o,l){return this._eventedParent=o,this._eventedParentData=l,this}}var Ge={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number",length:2},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},"font-faces":{type:"fontFaces"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},encoding:{type:"enum",values:{mvt:{},mlt:{}},default:"mvt"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"filter"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},filter:{type:"boolean",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"expression_name",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}},interpolation:{type:"array",value:"interpolation_name",minimum:1},interpolation_name:{type:"enum",values:{linear:{syntax:{overloads:[{parameters:[],"output-type":"interpolation"}],parameters:[]}},exponential:{syntax:{overloads:[{parameters:["base"],"output-type":"interpolation"}],parameters:[{name:"base",type:"number literal"}]}},"cubic-bezier":{syntax:{overloads:[{parameters:["x1","y1","x2","y2"],"output-type":"interpolation"}],parameters:[{name:"x1",type:"number literal"},{name:"y1",type:"number literal"},{name:"x2",type:"number literal"},{name:"y2",type:"number literal"}]}}}}};let mn=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Ga(c,o){let l={};for(let p in c)p!=="ref"&&(l[p]=c[p]);return mn.forEach(p=>{p in o&&(l[p]=o[p])}),l}function bi(c,o){if(Array.isArray(c)){if(!Array.isArray(o)||c.length!==o.length)return!1;for(let l=0;l<c.length;l++)if(!bi(c[l],o[l]))return!1;return!0}if(typeof c=="object"&&c!==null&&o!==null){if(typeof o!="object"||Object.keys(c).length!==Object.keys(o).length)return!1;for(let l in c)if(!bi(c[l],o[l]))return!1;return!0}return c===o}function ln(c,o){c.push(o)}function Ua(c,o,l){ln(l,{command:"addSource",args:[c,o[c]]})}function Sn(c,o,l){ln(o,{command:"removeSource",args:[c]}),l[c]=!0}function Wn(c,o,l,p){Sn(c,l,p),Ua(c,o,l)}function fn(c,o,l){let p;for(p in c[l])if(Object.prototype.hasOwnProperty.call(c[l],p)&&p!=="data"&&!bi(c[l][p],o[l][p]))return!1;for(p in o[l])if(Object.prototype.hasOwnProperty.call(o[l],p)&&p!=="data"&&!bi(c[l][p],o[l][p]))return!1;return!0}function ya(c,o,l,p,m,g){c=c||{},o=o||{};for(let _ in c)Object.prototype.hasOwnProperty.call(c,_)&&(bi(c[_],o[_])||l.push({command:g,args:[p,_,o[_],m]}));for(let _ in o)Object.prototype.hasOwnProperty.call(o,_)&&!Object.prototype.hasOwnProperty.call(c,_)&&(bi(c[_],o[_])||l.push({command:g,args:[p,_,o[_],m]}))}function jc(c){return c.id}function Gc(c,o){return c[o.id]=o,c}class It{constructor(o,l,p,m){this.message=(o?`${o}: `:"")+p,m&&(this.identifier=m),l!=null&&l.__line__&&(this.line=l.__line__)}}function co(c,...o){for(let l of o)for(let p in l)c[p]=l[p];return c}class uo extends Error{constructor(o,l){super(l),this.message=l,this.key=o}}class tu{constructor(o,l=[]){this.parent=o,this.bindings={};for(let[p,m]of l)this.bindings[p]=m}concat(o){return new tu(this,o)}get(o){if(this.bindings[o])return this.bindings[o];if(this.parent)return this.parent.get(o);throw new Error(`${o} not found in scope.`)}has(o){return!!this.bindings[o]||!!this.parent&&this.parent.has(o)}}let Qo={kind:"null"},At={kind:"number"},Ii={kind:"string"},Ti={kind:"boolean"},No={kind:"color"},iu={kind:"projectionDefinition"},Qr={kind:"object"},xi={kind:"value"},Uc={kind:"collator"},$c={kind:"formatted"},nu={kind:"padding"},Cl={kind:"colorArray"},Kc={kind:"numberArray"},Sl={kind:"resolvedImage"},Wc={kind:"variableAnchorOffsetCollection"};function po(c,o){return{kind:"array",itemType:c,N:o}}function cn(c){if(c.kind==="array"){let o=cn(c.itemType);return typeof c.N=="number"?`array<${o}, ${c.N}>`:c.itemType.kind==="value"?"array":`array<${o}>`}return c.kind}let au=[Qo,At,Ii,Ti,No,iu,$c,Qr,po(xi),nu,Kc,Cl,Sl,Wc];function Ml(c,o){if(o.kind==="error")return null;if(c.kind==="array"){if(o.kind==="array"&&(o.N===0&&o.itemType.kind==="value"||!Ml(c.itemType,o.itemType))&&(typeof c.N!="number"||c.N===o.N))return null}else{if(c.kind===o.kind)return null;if(c.kind==="value"){for(let l of au)if(!Ml(l,o))return null}}return`Expected ${cn(c)} but found ${cn(o)} instead.`}function Zc(c,o){return o.some(l=>l.kind===c.kind)}function js(c,o){return o.some(l=>l==="null"?c===null:l==="array"?Array.isArray(c):l==="object"?c&&!Array.isArray(c)&&typeof c=="object":l===typeof c)}function br(c,o){return c.kind==="array"&&o.kind==="array"?c.itemType.kind===o.itemType.kind&&typeof c.N=="number":c.kind===o.kind}let Zm=.96422,Gs=.82521,ou=4/29,Zn=6/29,Qm=3*Zn*Zn,Xm=Zn*Zn*Zn,Qc=Math.PI/180,Ym=180/Math.PI;function Jm(c){return(c%=360)<0&&(c+=360),c}function ef([c,o,l,p]){let m,g,_=Zp((.2225045*(c=ru(c))+.7168786*(o=ru(o))+.0606169*(l=ru(l)))/1);c===o&&o===l?m=g=_:(m=Zp((.4360747*c+.3850649*o+.1430804*l)/Zm),g=Zp((.0139322*c+.0971045*o+.7141733*l)/Gs));let x=116*_-16;return[x<0?0:x,500*(m-_),200*(_-g),p]}function ru(c){return c<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function Zp(c){return c>Xm?Math.pow(c,1/3):c/Qm+ou}function Qp([c,o,l,p]){let m=(c+16)/116,g=isNaN(o)?m:m+o/500,_=isNaN(l)?m:m-l/200;return m=1*Yp(m),g=Zm*Yp(g),_=Gs*Yp(_),[Xp(3.1338561*g-1.6168667*m-.4906146*_),Xp(-.9787684*g+1.9161415*m+.033454*_),Xp(.0719453*g-.2289914*m+1.4052427*_),p]}function Xp(c){return(c=c<=.00304?12.92*c:1.055*Math.pow(c,1/2.4)-.055)<0?0:c>1?1:c}function Yp(c){return c>Zn?c*c*c:Qm*(c-ou)}let $_=Object.hasOwn||function(c,o){return Object.prototype.hasOwnProperty.call(c,o)};function Xc(c,o){return $_(c,o)?c[o]:void 0}function su(c){return parseInt(c.padEnd(2,c),16)/255}function tf(c,o){return kl(o?c/100:c,0,1)}function kl(c,o,l){return Math.min(Math.max(o,c),l)}function Jp(c){return!c.some(Number.isNaN)}let Yc={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function fs(c,o,l){return c+l*(o-c)}function El(c,o,l){return c.map((p,m)=>fs(p,o[m],l))}class Ci{constructor(o,l,p,m=1,g=!0){this.r=o,this.g=l,this.b=p,this.a=m,g||(this.r*=m,this.g*=m,this.b*=m,m||this.overwriteGetter("rgb",[o,l,p,m]))}static parse(o){if(o instanceof Ci)return o;if(typeof o!="string")return;let l=function(p){if((p=p.toLowerCase().trim())==="transparent")return[0,0,0,0];let m=Xc(Yc,p);if(m){let[_,x,I]=m;return[_/255,x/255,I/255,1]}if(p.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(p)){let _=p.length<6?1:2,x=1;return[su(p.slice(x,x+=_)),su(p.slice(x,x+=_)),su(p.slice(x,x+=_)),su(p.slice(x,x+_)||"ff")]}if(p.startsWith("rgb")){let _=p.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(_){let[x,I,E,O,V,N,q,G,K,Z,re,ge]=_,ce=[O||" ",q||" ",Z].join("");if(ce==="  "||ce==="  /"||ce===",,"||ce===",,,"){let pe=[E,N,K].join(""),ve=pe==="%%%"?100:pe===""?255:0;if(ve){let Ce=[kl(+I/ve,0,1),kl(+V/ve,0,1),kl(+G/ve,0,1),re?tf(+re,ge):1];if(Jp(Ce))return Ce}}return}}let g=p.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(g){let[_,x,I,E,O,V,N,q,G]=g,K=[I||" ",O||" ",N].join("");if(K==="  "||K==="  /"||K===",,"||K===",,,"){let Z=[+x,kl(+E,0,100),kl(+V,0,100),q?tf(+q,G):1];if(Jp(Z))return function([re,ge,ce,pe]){function ve(Ce){let Re=(Ce+re/30)%12,rt=ge*Math.min(ce,1-ce);return ce-rt*Math.max(-1,Math.min(Re-3,9-Re,1))}return re=Jm(re),ge/=100,ce/=100,[ve(0),ve(8),ve(4),pe]}(Z)}}}(o);return l?new Ci(...l,!1):void 0}get rgb(){let{r:o,g:l,b:p,a:m}=this,g=m||1/0;return this.overwriteGetter("rgb",[o/g,l/g,p/g,m])}get hcl(){return this.overwriteGetter("hcl",function(o){let[l,p,m,g]=ef(o),_=Math.sqrt(p*p+m*m);return[Math.round(1e4*_)?Jm(Math.atan2(m,p)*Ym):NaN,_,l,g]}(this.rgb))}get lab(){return this.overwriteGetter("lab",ef(this.rgb))}overwriteGetter(o,l){return Object.defineProperty(this,o,{value:l}),l}toString(){let[o,l,p,m]=this.rgb;return`rgba(${[o,l,p].map(g=>Math.round(255*g)).join(",")},${m})`}static interpolate(o,l,p,m="rgb"){switch(m){case"rgb":{let[g,_,x,I]=El(o.rgb,l.rgb,p);return new Ci(g,_,x,I,!1)}case"hcl":{let[g,_,x,I]=o.hcl,[E,O,V,N]=l.hcl,q,G;if(isNaN(g)||isNaN(E))isNaN(g)?isNaN(E)?q=NaN:(q=E,x!==1&&x!==0||(G=O)):(q=g,V!==1&&V!==0||(G=_));else{let ce=E-g;E>g&&ce>180?ce-=360:E<g&&g-E>180&&(ce+=360),q=g+p*ce}let[K,Z,re,ge]=function([ce,pe,ve,Ce]){return ce=isNaN(ce)?0:ce*Qc,Qp([ve,Math.cos(ce)*pe,Math.sin(ce)*pe,Ce])}([q,G??fs(_,O,p),fs(x,V,p),fs(I,N,p)]);return new Ci(K,Z,re,ge,!1)}case"lab":{let[g,_,x,I]=Qp(El(o.lab,l.lab,p));return new Ci(g,_,x,I,!1)}}}}Ci.black=new Ci(0,0,0,1),Ci.white=new Ci(1,1,1,1),Ci.transparent=new Ci(0,0,0,0),Ci.red=new Ci(1,0,0,1);class eh{constructor(o,l,p){this.sensitivity=o?l?"variant":"case":l?"accent":"base",this.locale=p,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(o,l){return this.collator.compare(o,l)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}let K_=["bottom","center","top"];class th{constructor(o,l,p,m,g,_){this.text=o,this.image=l,this.scale=p,this.fontStack=m,this.textColor=g,this.verticalAlign=_}}class To{constructor(o){this.sections=o}static fromString(o){return new To([new th(o,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(o=>o.text.length!==0||o.image&&o.image.name.length!==0)}static factory(o){return o instanceof To?o:To.fromString(o)}toString(){return this.sections.length===0?"":this.sections.map(o=>o.text).join("")}}class Ya{constructor(o){this.values=o.slice()}static parse(o){if(o instanceof Ya)return o;if(typeof o=="number")return new Ya([o,o,o,o]);if(Array.isArray(o)&&!(o.length<1||o.length>4)){for(let l of o)if(typeof l!="number")return;switch(o.length){case 1:o=[o[0],o[0],o[0],o[0]];break;case 2:o=[o[0],o[1],o[0],o[1]];break;case 3:o=[o[0],o[1],o[2],o[1]]}return new Ya(o)}}toString(){return JSON.stringify(this.values)}static interpolate(o,l,p){return new Ya(El(o.values,l.values,p))}}class zn{constructor(o){this.values=o.slice()}static parse(o){if(o instanceof zn)return o;if(typeof o=="number")return new zn([o]);if(Array.isArray(o)){for(let l of o)if(typeof l!="number")return;return new zn(o)}}toString(){return JSON.stringify(this.values)}static interpolate(o,l,p){return new zn(El(o.values,l.values,p))}}class pi{constructor(o){this.values=o.slice()}static parse(o){if(o instanceof pi)return o;if(typeof o=="string"){let p=Ci.parse(o);return p?new pi([p]):void 0}if(!Array.isArray(o))return;let l=[];for(let p of o){if(typeof p!="string")return;let m=Ci.parse(p);if(!m)return;l.push(m)}return new pi(l)}toString(){return JSON.stringify(this.values)}static interpolate(o,l,p,m="rgb"){let g=[];if(o.values.length!=l.values.length)throw new Error(`colorArray: Arrays have mismatched length (${o.values.length} vs. ${l.values.length}), cannot interpolate.`);for(let _=0;_<o.values.length;_++)g.push(Ci.interpolate(o.values[_],l.values[_],p,m));return new pi(g)}}class gn extends Error{constructor(o){super(o),this.name="RuntimeError"}toJSON(){return this.message}}let gs=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class ho{constructor(o){this.values=o.slice()}static parse(o){if(o instanceof ho)return o;if(Array.isArray(o)&&!(o.length<1)&&o.length%2==0){for(let l=0;l<o.length;l+=2){let p=o[l],m=o[l+1];if(typeof p!="string"||!gs.has(p)||!Array.isArray(m)||m.length!==2||typeof m[0]!="number"||typeof m[1]!="number")return}return new ho(o)}}toString(){return JSON.stringify(this.values)}static interpolate(o,l,p){let m=o.values,g=l.values;if(m.length!==g.length)throw new gn(`Cannot interpolate values of different length. from: ${o.toString()}, to: ${l.toString()}`);let _=[];for(let x=0;x<m.length;x+=2){if(m[x]!==g[x])throw new gn(`Cannot interpolate values containing mismatched anchors. from[${x}]: ${m[x]}, to[${x}]: ${g[x]}`);_.push(m[x]);let[I,E]=m[x+1],[O,V]=g[x+1];_.push([fs(I,O,p),fs(E,V,p)])}return new ho(_)}}class qo{constructor(o){this.name=o.name,this.available=o.available}toString(){return this.name}static fromString(o){return o?new qo({name:o,available:!1}):null}}class mo{constructor(o,l,p){this.from=o,this.to=l,this.transition=p}static interpolate(o,l,p){return new mo(o,l,p)}static parse(o){return o instanceof mo?o:Array.isArray(o)&&o.length===3&&typeof o[0]=="string"&&typeof o[1]=="string"&&typeof o[2]=="number"?new mo(o[0],o[1],o[2]):typeof o=="object"&&typeof o.from=="string"&&typeof o.to=="string"&&typeof o.transition=="number"?new mo(o.from,o.to,o.transition):typeof o=="string"?new mo(o,o,1):void 0}}function Pl(c,o,l,p){return typeof c=="number"&&c>=0&&c<=255&&typeof o=="number"&&o>=0&&o<=255&&typeof l=="number"&&l>=0&&l<=255?p===void 0||typeof p=="number"&&p>=0&&p<=1?null:`Invalid rgba value [${[c,o,l,p].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof p=="number"?[c,o,l,p]:[c,o,l]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function _s(c){if(c===null||typeof c=="string"||typeof c=="boolean"||typeof c=="number"||c instanceof mo||c instanceof Ci||c instanceof eh||c instanceof To||c instanceof Ya||c instanceof zn||c instanceof pi||c instanceof ho||c instanceof qo)return!0;if(Array.isArray(c)){for(let o of c)if(!_s(o))return!1;return!0}if(typeof c=="object"){for(let o in c)if(!_s(c[o]))return!1;return!0}return!1}function ra(c){if(c===null)return Qo;if(typeof c=="string")return Ii;if(typeof c=="boolean")return Ti;if(typeof c=="number")return At;if(c instanceof Ci)return No;if(c instanceof mo)return iu;if(c instanceof eh)return Uc;if(c instanceof To)return $c;if(c instanceof Ya)return nu;if(c instanceof zn)return Kc;if(c instanceof pi)return Cl;if(c instanceof ho)return Wc;if(c instanceof qo)return Sl;if(Array.isArray(c)){let o=c.length,l;for(let p of c){let m=ra(p);if(l){if(l===m)continue;l=xi;break}l=m}return po(l||xi,o)}return Qr}function Us(c){let o=typeof c;return c===null?"":o==="string"||o==="number"||o==="boolean"?String(c):c instanceof Ci||c instanceof mo||c instanceof To||c instanceof Ya||c instanceof zn||c instanceof pi||c instanceof ho||c instanceof qo?c.toString():JSON.stringify(c)}class Vr{constructor(o,l){this.type=o,this.value=l}static parse(o,l){if(o.length!==2)return l.error(`'literal' expression requires exactly one argument, but found ${o.length-1} instead.`);if(!_s(o[1]))return l.error("invalid value");let p=o[1],m=ra(p),g=l.expectedType;return m.kind!=="array"||m.N!==0||!g||g.kind!=="array"||typeof g.N=="number"&&g.N!==0||(m=g),new Vr(m,p)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}let lu={string:Ii,number:At,boolean:Ti,object:Qr};class Co{constructor(o,l){this.type=o,this.args=l}static parse(o,l){if(o.length<2)return l.error("Expected at least one argument.");let p,m=1,g=o[0];if(g==="array"){let x,I;if(o.length>2){let E=o[1];if(typeof E!="string"||!(E in lu)||E==="object")return l.error('The item type argument of "array" must be one of string, number, boolean',1);x=lu[E],m++}else x=xi;if(o.length>3){if(o[2]!==null&&(typeof o[2]!="number"||o[2]<0||o[2]!==Math.floor(o[2])))return l.error('The length argument to "array" must be a positive integer literal',2);I=o[2],m++}p=po(x,I)}else{if(!lu[g])throw new Error(`Types doesn't contain name = ${g}`);p=lu[g]}let _=[];for(;m<o.length;m++){let x=l.parse(o[m],m,xi);if(!x)return null;_.push(x)}return new Co(p,_)}evaluate(o){for(let l=0;l<this.args.length;l++){let p=this.args[l].evaluate(o);if(!Ml(this.type,ra(p)))return p;if(l===this.args.length-1)throw new gn(`Expected value to be of type ${cn(this.type)}, but found ${cn(ra(p))} instead.`)}throw new Error}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}}let $s={"to-boolean":Ti,"to-color":No,"to-number":At,"to-string":Ii};class Xr{constructor(o,l){this.type=o,this.args=l}static parse(o,l){if(o.length<2)return l.error("Expected at least one argument.");let p=o[0];if(!$s[p])throw new Error(`Can't parse ${p} as it is not part of the known types`);if((p==="to-boolean"||p==="to-string")&&o.length!==2)return l.error("Expected one argument.");let m=$s[p],g=[];for(let _=1;_<o.length;_++){let x=l.parse(o[_],_,xi);if(!x)return null;g.push(x)}return new Xr(m,g)}evaluate(o){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(o);case"color":{let l,p;for(let m of this.args){if(l=m.evaluate(o),p=null,l instanceof Ci)return l;if(typeof l=="string"){let g=o.parseColor(l);if(g)return g}else if(Array.isArray(l)&&(p=l.length<3||l.length>4?`Invalid rgba value ${JSON.stringify(l)}: expected an array containing either three or four numeric values.`:Pl(l[0],l[1],l[2],l[3]),!p))return new Ci(l[0]/255,l[1]/255,l[2]/255,l[3])}throw new gn(p||`Could not parse color from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"padding":{let l;for(let p of this.args){l=p.evaluate(o);let m=Ya.parse(l);if(m)return m}throw new gn(`Could not parse padding from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"numberArray":{let l;for(let p of this.args){l=p.evaluate(o);let m=zn.parse(l);if(m)return m}throw new gn(`Could not parse numberArray from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"colorArray":{let l;for(let p of this.args){l=p.evaluate(o);let m=pi.parse(l);if(m)return m}throw new gn(`Could not parse colorArray from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"variableAnchorOffsetCollection":{let l;for(let p of this.args){l=p.evaluate(o);let m=ho.parse(l);if(m)return m}throw new gn(`Could not parse variableAnchorOffsetCollection from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"number":{let l=null;for(let p of this.args){if(l=p.evaluate(o),l===null)return 0;let m=Number(l);if(!isNaN(m))return m}throw new gn(`Could not convert ${JSON.stringify(l)} to number.`)}case"formatted":return To.fromString(Us(this.args[0].evaluate(o)));case"resolvedImage":return qo.fromString(Us(this.args[0].evaluate(o)));case"projectionDefinition":return this.args[0].evaluate(o);default:return Us(this.args[0].evaluate(o))}}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}}let nf=["Unknown","Point","LineString","Polygon"];class ih{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?nf[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(o){let l=this._parseColorCache.get(o);return l||(l=Ci.parse(o),this._parseColorCache.set(o,l)),l}}class Ks{constructor(o,l,p=[],m,g=new tu,_=[]){this.registry=o,this.path=p,this.key=p.map(x=>`[${x}]`).join(""),this.scope=g,this.errors=_,this.expectedType=m,this._isConstant=l}parse(o,l,p,m,g={}){return l?this.concat(l,p,m)._parse(o,g):this._parse(o,g)}_parse(o,l){function p(m,g,_){return _==="assert"?new Co(g,[m]):_==="coerce"?new Xr(g,[m]):m}if(o!==null&&typeof o!="string"&&typeof o!="boolean"&&typeof o!="number"||(o=["literal",o]),Array.isArray(o)){if(o.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');let m=o[0];if(typeof m!="string")return this.error(`Expression name must be a string, but found ${typeof m} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;let g=this.registry[m];if(g){let _=g.parse(o,this);if(!_)return null;if(this.expectedType){let x=this.expectedType,I=_.type;if(x.kind!=="string"&&x.kind!=="number"&&x.kind!=="boolean"&&x.kind!=="object"&&x.kind!=="array"||I.kind!=="value"){if(x.kind==="projectionDefinition"&&["string","array"].includes(I.kind)||["color","formatted","resolvedImage"].includes(x.kind)&&["value","string"].includes(I.kind)||["padding","numberArray"].includes(x.kind)&&["value","number","array"].includes(I.kind)||x.kind==="colorArray"&&["value","string","array"].includes(I.kind)||x.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(I.kind))_=p(_,x,l.typeAnnotation||"coerce");else if(this.checkSubtype(x,I))return null}else _=p(_,x,l.typeAnnotation||"assert")}if(!(_ instanceof Vr)&&_.type.kind!=="resolvedImage"&&this._isConstant(_)){let x=new ih;try{_=new Vr(_.type,_.evaluate(x))}catch(I){return this.error(I.message),null}}return _}return this.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(o===void 0?"'undefined' value invalid. Use null instead.":typeof o=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof o} instead.`)}concat(o,l,p){let m=typeof o=="number"?this.path.concat(o):this.path,g=p?this.scope.concat(p):this.scope;return new Ks(this.registry,this._isConstant,m,l||null,g,this.errors)}error(o,...l){let p=`${this.key}${l.map(m=>`[${m}]`).join("")}`;this.errors.push(new uo(p,o))}checkSubtype(o,l){let p=Ml(o,l);return p&&this.error(p),p}}class _n{constructor(o,l){this.type=l.type,this.bindings=[].concat(o),this.result=l}evaluate(o){return this.result.evaluate(o)}eachChild(o){for(let l of this.bindings)o(l[1]);o(this.result)}static parse(o,l){if(o.length<4)return l.error(`Expected at least 3 arguments, but found ${o.length-1} instead.`);let p=[];for(let g=1;g<o.length-1;g+=2){let _=o[g];if(typeof _!="string")return l.error(`Expected string, but found ${typeof _} instead.`,g);if(/[^a-zA-Z0-9_]/.test(_))return l.error("Variable names must contain only alphanumeric characters or '_'.",g);let x=l.parse(o[g+1],g+1);if(!x)return null;p.push([_,x])}let m=l.parse(o[o.length-1],o.length-1,l.expectedType,p);return m?new _n(p,m):null}outputDefined(){return this.result.outputDefined()}}class Dl{constructor(o,l){this.type=l.type,this.name=o,this.boundExpression=l}static parse(o,l){if(o.length!==2||typeof o[1]!="string")return l.error("'var' expression requires exactly one string literal argument.");let p=o[1];return l.scope.has(p)?new Dl(p,l.scope.get(p)):l.error(`Unknown variable "${p}". Make sure "${p}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(o){return this.boundExpression.evaluate(o)}eachChild(){}outputDefined(){return!1}}class Ri{constructor(o,l,p){this.type=o,this.index=l,this.input=p}static parse(o,l){if(o.length!==3)return l.error(`Expected 2 arguments, but found ${o.length-1} instead.`);let p=l.parse(o[1],1,At),m=l.parse(o[2],2,po(l.expectedType||xi));return p&&m?new Ri(m.type.itemType,p,m):null}evaluate(o){let l=this.index.evaluate(o),p=this.input.evaluate(o);if(l<0)throw new gn(`Array index out of bounds: ${l} < 0.`);if(l>=p.length)throw new gn(`Array index out of bounds: ${l} > ${p.length-1}.`);if(l!==Math.floor(l))throw new gn(`Array index must be an integer, but found ${l} instead.`);return p[l]}eachChild(o){o(this.index),o(this.input)}outputDefined(){return!1}}class wi{constructor(o,l){this.type=Ti,this.needle=o,this.haystack=l}static parse(o,l){if(o.length!==3)return l.error(`Expected 2 arguments, but found ${o.length-1} instead.`);let p=l.parse(o[1],1,xi),m=l.parse(o[2],2,xi);return p&&m?Zc(p.type,[Ti,Ii,At,Qo,xi])?new wi(p,m):l.error(`Expected first argument to be of type boolean, string, number or null, but found ${cn(p.type)} instead`):null}evaluate(o){let l=this.needle.evaluate(o),p=this.haystack.evaluate(o);if(!p)return!1;if(!js(l,["boolean","string","number","null"]))throw new gn(`Expected first argument to be of type boolean, string, number or null, but found ${cn(ra(l))} instead.`);if(!js(p,["string","array"]))throw new gn(`Expected second argument to be of type array or string, but found ${cn(ra(p))} instead.`);return p.indexOf(l)>=0}eachChild(o){o(this.needle),o(this.haystack)}outputDefined(){return!0}}class Ll{constructor(o,l,p){this.type=At,this.needle=o,this.haystack=l,this.fromIndex=p}static parse(o,l){if(o.length<=2||o.length>=5)return l.error(`Expected 2 or 3 arguments, but found ${o.length-1} instead.`);let p=l.parse(o[1],1,xi),m=l.parse(o[2],2,xi);if(!p||!m)return null;if(!Zc(p.type,[Ti,Ii,At,Qo,xi]))return l.error(`Expected first argument to be of type boolean, string, number or null, but found ${cn(p.type)} instead`);if(o.length===4){let g=l.parse(o[3],3,At);return g?new Ll(p,m,g):null}return new Ll(p,m)}evaluate(o){let l=this.needle.evaluate(o),p=this.haystack.evaluate(o);if(!js(l,["boolean","string","number","null"]))throw new gn(`Expected first argument to be of type boolean, string, number or null, but found ${cn(ra(l))} instead.`);let m;if(this.fromIndex&&(m=this.fromIndex.evaluate(o)),js(p,["string"])){let g=p.indexOf(l,m);return g===-1?-1:[...p.slice(0,g)].length}if(js(p,["array"]))return p.indexOf(l,m);throw new gn(`Expected second argument to be of type array or string, but found ${cn(ra(p))} instead.`)}eachChild(o){o(this.needle),o(this.haystack),this.fromIndex&&o(this.fromIndex)}outputDefined(){return!1}}class Hi{constructor(o,l,p,m,g,_){this.inputType=o,this.type=l,this.input=p,this.cases=m,this.outputs=g,this.otherwise=_}static parse(o,l){if(o.length<5)return l.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if(o.length%2!=1)return l.error("Expected an even number of arguments.");let p,m;l.expectedType&&l.expectedType.kind!=="value"&&(m=l.expectedType);let g={},_=[];for(let E=2;E<o.length-1;E+=2){let O=o[E],V=o[E+1];Array.isArray(O)||(O=[O]);let N=l.concat(E);if(O.length===0)return N.error("Expected at least one branch label.");for(let G of O){if(typeof G!="number"&&typeof G!="string")return N.error("Branch labels must be numbers or strings.");if(typeof G=="number"&&Math.abs(G)>Number.MAX_SAFE_INTEGER)return N.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof G=="number"&&Math.floor(G)!==G)return N.error("Numeric branch labels must be integer values.");if(p){if(N.checkSubtype(p,ra(G)))return null}else p=ra(G);if(g[String(G)]!==void 0)return N.error("Branch labels must be unique.");g[String(G)]=_.length}let q=l.parse(V,E,m);if(!q)return null;m=m||q.type,_.push(q)}let x=l.parse(o[1],1,xi);if(!x)return null;let I=l.parse(o[o.length-1],o.length-1,m);return I?x.type.kind!=="value"&&l.concat(1).checkSubtype(p,x.type)?null:new Hi(p,m,x,g,_,I):null}evaluate(o){let l=this.input.evaluate(o);return(ra(l)===this.inputType&&this.outputs[this.cases[l]]||this.otherwise).evaluate(o)}eachChild(o){o(this.input),this.outputs.forEach(o),o(this.otherwise)}outputDefined(){return this.outputs.every(o=>o.outputDefined())&&this.otherwise.outputDefined()}}class Jc{constructor(o,l,p){this.type=o,this.branches=l,this.otherwise=p}static parse(o,l){if(o.length<4)return l.error(`Expected at least 3 arguments, but found only ${o.length-1}.`);if(o.length%2!=0)return l.error("Expected an odd number of arguments.");let p;l.expectedType&&l.expectedType.kind!=="value"&&(p=l.expectedType);let m=[];for(let _=1;_<o.length-1;_+=2){let x=l.parse(o[_],_,Ti);if(!x)return null;let I=l.parse(o[_+1],_+1,p);if(!I)return null;m.push([x,I]),p=p||I.type}let g=l.parse(o[o.length-1],o.length-1,p);if(!g)return null;if(!p)throw new Error("Can't infer output type");return new Jc(p,m,g)}evaluate(o){for(let[l,p]of this.branches)if(l.evaluate(o))return p.evaluate(o);return this.otherwise.evaluate(o)}eachChild(o){for(let[l,p]of this.branches)o(l),o(p);o(this.otherwise)}outputDefined(){return this.branches.every(([o,l])=>l.outputDefined())&&this.otherwise.outputDefined()}}class Xo{constructor(o,l,p,m){this.type=o,this.input=l,this.beginIndex=p,this.endIndex=m}static parse(o,l){if(o.length<=2||o.length>=5)return l.error(`Expected 2 or 3 arguments, but found ${o.length-1} instead.`);let p=l.parse(o[1],1,xi),m=l.parse(o[2],2,At);if(!p||!m)return null;if(!Zc(p.type,[po(xi),Ii,xi]))return l.error(`Expected first argument to be of type array or string, but found ${cn(p.type)} instead`);if(o.length===4){let g=l.parse(o[3],3,At);return g?new Xo(p.type,p,m,g):null}return new Xo(p.type,p,m)}evaluate(o){let l=this.input.evaluate(o),p=this.beginIndex.evaluate(o),m;if(this.endIndex&&(m=this.endIndex.evaluate(o)),js(l,["string"]))return[...l].slice(p,m).join("");if(js(l,["array"]))return l.slice(p,m);throw new gn(`Expected first argument to be of type array or string, but found ${cn(ra(l))} instead.`)}eachChild(o){o(this.input),o(this.beginIndex),this.endIndex&&o(this.endIndex)}outputDefined(){return!1}}function Al(c,o){let l=c.length-1,p,m,g=0,_=l,x=0;for(;g<=_;)if(x=Math.floor((g+_)/2),p=c[x],m=c[x+1],p<=o){if(x===l||o<m)return x;g=x+1}else{if(!(p>o))throw new gn("Input is not a number.");_=x-1}return 0}class bs{constructor(o,l,p){this.type=o,this.input=l,this.labels=[],this.outputs=[];for(let[m,g]of p)this.labels.push(m),this.outputs.push(g)}static parse(o,l){if(o.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return l.error("Expected an even number of arguments.");let p=l.parse(o[1],1,At);if(!p)return null;let m=[],g=null;l.expectedType&&l.expectedType.kind!=="value"&&(g=l.expectedType);for(let _=1;_<o.length;_+=2){let x=_===1?-1/0:o[_],I=o[_+1],E=_,O=_+1;if(typeof x!="number")return l.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',E);if(m.length&&m[m.length-1][0]>=x)return l.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',E);let V=l.parse(I,O,g);if(!V)return null;g=g||V.type,m.push([x,V])}return new bs(g,p,m)}evaluate(o){let l=this.labels,p=this.outputs;if(l.length===1)return p[0].evaluate(o);let m=this.input.evaluate(o);if(m<=l[0])return p[0].evaluate(o);let g=l.length;return m>=l[g-1]?p[g-1].evaluate(o):p[Al(l,m)].evaluate(o)}eachChild(o){o(this.input);for(let l of this.outputs)o(l)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}}function af(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var ed,nh,W_=function(){if(nh)return ed;function c(o,l,p,m){this.cx=3*o,this.bx=3*(p-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(m-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=l,this.p2x=p,this.p2y=m}return nh=1,ed=c,c.prototype={sampleCurveX:function(o){return((this.ax*o+this.bx)*o+this.cx)*o},sampleCurveY:function(o){return((this.ay*o+this.by)*o+this.cy)*o},sampleCurveDerivativeX:function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},solveCurveX:function(o,l){if(l===void 0&&(l=1e-6),o<0)return 0;if(o>1)return 1;for(var p=o,m=0;m<8;m++){var g=this.sampleCurveX(p)-o;if(Math.abs(g)<l)return p;var _=this.sampleCurveDerivativeX(p);if(Math.abs(_)<1e-6)break;p-=g/_}var x=0,I=1;for(p=o,m=0;m<20&&(g=this.sampleCurveX(p),!(Math.abs(g-o)<l));m++)o>g?x=p:I=p,p=.5*(I-x)+x;return p},solve:function(o,l){return this.sampleCurveY(this.solveCurveX(o,l))}},ed}(),of=af(W_);class fo{constructor(o,l,p,m,g){this.type=o,this.operator=l,this.interpolation=p,this.input=m,this.labels=[],this.outputs=[];for(let[_,x]of g)this.labels.push(_),this.outputs.push(x)}static interpolationFactor(o,l,p,m){let g=0;if(o.name==="exponential")g=zr(l,o.base,p,m);else if(o.name==="linear")g=zr(l,1,p,m);else if(o.name==="cubic-bezier"){let _=o.controlPoints;g=new of(_[0],_[1],_[2],_[3]).solve(zr(l,1,p,m))}return g}static parse(o,l){let[p,m,g,..._]=o;if(!Array.isArray(m)||m.length===0)return l.error("Expected an interpolation type expression.",1);if(m[0]==="linear")m={name:"linear"};else if(m[0]==="exponential"){let E=m[1];if(typeof E!="number")return l.error("Exponential interpolation requires a numeric base.",1,1);m={name:"exponential",base:E}}else{if(m[0]!=="cubic-bezier")return l.error(`Unknown interpolation type ${String(m[0])}`,1,0);{let E=m.slice(1);if(E.length!==4||E.some(O=>typeof O!="number"||O<0||O>1))return l.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);m={name:"cubic-bezier",controlPoints:E}}}if(o.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return l.error("Expected an even number of arguments.");if(g=l.parse(g,2,At),!g)return null;let x=[],I=null;p!=="interpolate-hcl"&&p!=="interpolate-lab"||l.expectedType==Cl?l.expectedType&&l.expectedType.kind!=="value"&&(I=l.expectedType):I=No;for(let E=0;E<_.length;E+=2){let O=_[E],V=_[E+1],N=E+3,q=E+4;if(typeof O!="number")return l.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',N);if(x.length&&x[x.length-1][0]>=O)return l.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',N);let G=l.parse(V,q,I);if(!G)return null;I=I||G.type,x.push([O,G])}return br(I,At)||br(I,iu)||br(I,No)||br(I,nu)||br(I,Kc)||br(I,Cl)||br(I,Wc)||br(I,po(At))?new fo(I,p,m,g,x):l.error(`Type ${cn(I)} is not interpolatable.`)}evaluate(o){let l=this.labels,p=this.outputs;if(l.length===1)return p[0].evaluate(o);let m=this.input.evaluate(o);if(m<=l[0])return p[0].evaluate(o);let g=l.length;if(m>=l[g-1])return p[g-1].evaluate(o);let _=Al(l,m),x=fo.interpolationFactor(this.interpolation,m,l[_],l[_+1]),I=p[_].evaluate(o),E=p[_+1].evaluate(o);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return fs(I,E,x);case"color":return Ci.interpolate(I,E,x);case"padding":return Ya.interpolate(I,E,x);case"colorArray":return pi.interpolate(I,E,x);case"numberArray":return zn.interpolate(I,E,x);case"variableAnchorOffsetCollection":return ho.interpolate(I,E,x);case"array":return El(I,E,x);case"projectionDefinition":return mo.interpolate(I,E,x)}case"interpolate-hcl":switch(this.type.kind){case"color":return Ci.interpolate(I,E,x,"hcl");case"colorArray":return pi.interpolate(I,E,x,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return Ci.interpolate(I,E,x,"lab");case"colorArray":return pi.interpolate(I,E,x,"lab")}}}eachChild(o){o(this.input);for(let l of this.outputs)o(l)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}}function zr(c,o,l,p){let m=p-l,g=c-l;return m===0?0:o===1?g/m:(Math.pow(o,g)-1)/(Math.pow(o,m)-1)}let Dn={color:Ci.interpolate,number:fs,padding:Ya.interpolate,numberArray:zn.interpolate,colorArray:pi.interpolate,variableAnchorOffsetCollection:ho.interpolate,array:El};class Ws{constructor(o,l){this.type=o,this.args=l}static parse(o,l){if(o.length<2)return l.error("Expected at least one argument.");let p=null,m=l.expectedType;m&&m.kind!=="value"&&(p=m);let g=[];for(let x of o.slice(1)){let I=l.parse(x,1+g.length,p,void 0,{typeAnnotation:"omit"});if(!I)return null;p=p||I.type,g.push(I)}if(!p)throw new Error("No output type");let _=m&&g.some(x=>Ml(m,x.type));return new Ws(_?xi:p,g)}evaluate(o){let l,p=null,m=0;for(let g of this.args)if(m++,p=g.evaluate(o),p&&p instanceof qo&&!p.available&&(l||(l=p.name),p=null,m===this.args.length&&(p=l)),p!==null)break;return p}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}}function ah(c,o){return c==="=="||c==="!="?o.kind==="boolean"||o.kind==="string"||o.kind==="number"||o.kind==="null"||o.kind==="value":o.kind==="string"||o.kind==="number"||o.kind==="value"}function td(c,o,l,p){return p.compare(o,l)===0}function Qn(c,o,l){let p=c!=="=="&&c!=="!=";return class k4{constructor(g,_,x){this.type=Ti,this.lhs=g,this.rhs=_,this.collator=x,this.hasUntypedArgument=g.type.kind==="value"||_.type.kind==="value"}static parse(g,_){if(g.length!==3&&g.length!==4)return _.error("Expected two or three arguments.");let x=g[0],I=_.parse(g[1],1,xi);if(!I)return null;if(!ah(x,I.type))return _.concat(1).error(`"${x}" comparisons are not supported for type '${cn(I.type)}'.`);let E=_.parse(g[2],2,xi);if(!E)return null;if(!ah(x,E.type))return _.concat(2).error(`"${x}" comparisons are not supported for type '${cn(E.type)}'.`);if(I.type.kind!==E.type.kind&&I.type.kind!=="value"&&E.type.kind!=="value")return _.error(`Cannot compare types '${cn(I.type)}' and '${cn(E.type)}'.`);p&&(I.type.kind==="value"&&E.type.kind!=="value"?I=new Co(E.type,[I]):I.type.kind!=="value"&&E.type.kind==="value"&&(E=new Co(I.type,[E])));let O=null;if(g.length===4){if(I.type.kind!=="string"&&E.type.kind!=="string"&&I.type.kind!=="value"&&E.type.kind!=="value")return _.error("Cannot use collator to compare non-string types.");if(O=_.parse(g[3],3,Uc),!O)return null}return new k4(I,E,O)}evaluate(g){let _=this.lhs.evaluate(g),x=this.rhs.evaluate(g);if(p&&this.hasUntypedArgument){let I=ra(_),E=ra(x);if(I.kind!==E.kind||I.kind!=="string"&&I.kind!=="number")throw new gn(`Expected arguments for "${c}" to be (string, string) or (number, number), but found (${I.kind}, ${E.kind}) instead.`)}if(this.collator&&!p&&this.hasUntypedArgument){let I=ra(_),E=ra(x);if(I.kind!=="string"||E.kind!=="string")return o(g,_,x)}return this.collator?l(g,_,x,this.collator.evaluate(g)):o(g,_,x)}eachChild(g){g(this.lhs),g(this.rhs),this.collator&&g(this.collator)}outputDefined(){return!0}}}let rf=Qn("==",function(c,o,l){return o===l},td),oh=Qn("!=",function(c,o,l){return o!==l},function(c,o,l,p){return!td(0,o,l,p)}),sf=Qn("<",function(c,o,l){return o<l},function(c,o,l,p){return p.compare(o,l)<0}),Z_=Qn(">",function(c,o,l){return o>l},function(c,o,l,p){return p.compare(o,l)>0}),Ol=Qn("<=",function(c,o,l){return o<=l},function(c,o,l,p){return p.compare(o,l)<=0}),cu=Qn(">=",function(c,o,l){return o>=l},function(c,o,l,p){return p.compare(o,l)>=0});class Fl{constructor(o,l,p){this.type=Uc,this.locale=p,this.caseSensitive=o,this.diacriticSensitive=l}static parse(o,l){if(o.length!==2)return l.error("Expected one argument.");let p=o[1];if(typeof p!="object"||Array.isArray(p))return l.error("Collator options argument must be an object.");let m=l.parse(p["case-sensitive"]!==void 0&&p["case-sensitive"],1,Ti);if(!m)return null;let g=l.parse(p["diacritic-sensitive"]!==void 0&&p["diacritic-sensitive"],1,Ti);if(!g)return null;let _=null;return p.locale&&(_=l.parse(p.locale,1,Ii),!_)?null:new Fl(m,g,_)}evaluate(o){return new eh(this.caseSensitive.evaluate(o),this.diacriticSensitive.evaluate(o),this.locale?this.locale.evaluate(o):null)}eachChild(o){o(this.caseSensitive),o(this.diacriticSensitive),this.locale&&o(this.locale)}outputDefined(){return!1}}class rh{constructor(o,l,p,m,g){this.type=Ii,this.number=o,this.locale=l,this.currency=p,this.minFractionDigits=m,this.maxFractionDigits=g}static parse(o,l){if(o.length!==3)return l.error("Expected two arguments.");let p=l.parse(o[1],1,At);if(!p)return null;let m=o[2];if(typeof m!="object"||Array.isArray(m))return l.error("NumberFormat options argument must be an object.");let g=null;if(m.locale&&(g=l.parse(m.locale,1,Ii),!g))return null;let _=null;if(m.currency&&(_=l.parse(m.currency,1,Ii),!_))return null;let x=null;if(m["min-fraction-digits"]&&(x=l.parse(m["min-fraction-digits"],1,At),!x))return null;let I=null;return m["max-fraction-digits"]&&(I=l.parse(m["max-fraction-digits"],1,At),!I)?null:new rh(p,g,_,x,I)}evaluate(o){return new Intl.NumberFormat(this.locale?this.locale.evaluate(o):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(o):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(o):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(o):void 0}).format(this.number.evaluate(o))}eachChild(o){o(this.number),this.locale&&o(this.locale),this.currency&&o(this.currency),this.minFractionDigits&&o(this.minFractionDigits),this.maxFractionDigits&&o(this.maxFractionDigits)}outputDefined(){return!1}}class id{constructor(o){this.type=$c,this.sections=o}static parse(o,l){if(o.length<2)return l.error("Expected at least one argument.");let p=o[1];if(!Array.isArray(p)&&typeof p=="object")return l.error("First argument must be an image or text section.");let m=[],g=!1;for(let _=1;_<=o.length-1;++_){let x=o[_];if(g&&typeof x=="object"&&!Array.isArray(x)){g=!1;let I=null;if(x["font-scale"]&&(I=l.parse(x["font-scale"],1,At),!I))return null;let E=null;if(x["text-font"]&&(E=l.parse(x["text-font"],1,po(Ii)),!E))return null;let O=null;if(x["text-color"]&&(O=l.parse(x["text-color"],1,No),!O))return null;let V=null;if(x["vertical-align"]){if(typeof x["vertical-align"]=="string"&&!K_.includes(x["vertical-align"]))return l.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${x["vertical-align"]}' instead.`);if(V=l.parse(x["vertical-align"],1,Ii),!V)return null}let N=m[m.length-1];N.scale=I,N.font=E,N.textColor=O,N.verticalAlign=V}else{let I=l.parse(o[_],1,xi);if(!I)return null;let E=I.type.kind;if(E!=="string"&&E!=="value"&&E!=="null"&&E!=="resolvedImage")return l.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");g=!0,m.push({content:I,scale:null,font:null,textColor:null,verticalAlign:null})}}return new id(m)}evaluate(o){return new To(this.sections.map(l=>{let p=l.content.evaluate(o);return ra(p)===Sl?new th("",p,null,null,null,l.verticalAlign?l.verticalAlign.evaluate(o):null):new th(Us(p),null,l.scale?l.scale.evaluate(o):null,l.font?l.font.evaluate(o).join(","):null,l.textColor?l.textColor.evaluate(o):null,l.verticalAlign?l.verticalAlign.evaluate(o):null)}))}eachChild(o){for(let l of this.sections)o(l.content),l.scale&&o(l.scale),l.font&&o(l.font),l.textColor&&o(l.textColor),l.verticalAlign&&o(l.verticalAlign)}outputDefined(){return!1}}class Vl{constructor(o){this.type=Sl,this.input=o}static parse(o,l){if(o.length!==2)return l.error("Expected two arguments.");let p=l.parse(o[1],1,Ii);return p?new Vl(p):l.error("No image name provided.")}evaluate(o){let l=this.input.evaluate(o),p=qo.fromString(l);return p&&o.availableImages&&(p.available=o.availableImages.indexOf(l)>-1),p}eachChild(o){o(this.input)}outputDefined(){return!1}}class zl{constructor(o){this.type=At,this.input=o}static parse(o,l){if(o.length!==2)return l.error(`Expected 1 argument, but found ${o.length-1} instead.`);let p=l.parse(o[1],1);return p?p.type.kind!=="array"&&p.type.kind!=="string"&&p.type.kind!=="value"?l.error(`Expected argument of type string or array, but found ${cn(p.type)} instead.`):new zl(p):null}evaluate(o){let l=this.input.evaluate(o);if(typeof l=="string")return[...l].length;if(Array.isArray(l))return l.length;throw new gn(`Expected value to be of type string or array, but found ${cn(ra(l))} instead.`)}eachChild(o){o(this.input)}outputDefined(){return!1}}let va=8192;function lf(c,o){let l=(180+c[0])/360,p=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c[1]*Math.PI/360)))/360,m=Math.pow(2,o.z);return[Math.round(l*m*va),Math.round(p*m*va)]}function Rl(c,o){let l=Math.pow(2,o.z);return[(m=(c[0]/va+o.x)/l,360*m-180),(p=(c[1]/va+o.y)/l,360/Math.PI*Math.atan(Math.exp((180-360*p)*Math.PI/180))-90)];var p,m}function nd(c,o){c[0]=Math.min(c[0],o[0]),c[1]=Math.min(c[1],o[1]),c[2]=Math.max(c[2],o[0]),c[3]=Math.max(c[3],o[1])}function Zs(c,o){return!(c[0]<=o[0]||c[2]>=o[2]||c[1]<=o[1]||c[3]>=o[3])}function Q_(c,o,l){let p=c[0]-o[0],m=c[1]-o[1],g=c[0]-l[0],_=c[1]-l[1];return p*_-g*m==0&&p*g<=0&&m*_<=0}function du(c,o,l,p){return(m=[p[0]-l[0],p[1]-l[1]])[0]*(g=[o[0]-c[0],o[1]-c[1]])[1]-m[1]*g[0]!=0&&!(!sh(c,o,l,p)||!sh(l,p,c,o));var m,g}function X_(c,o,l){for(let p of l)for(let m=0;m<p.length-1;++m)if(du(c,o,p[m],p[m+1]))return!0;return!1}function Bl(c,o,l=!1){let p=!1;for(let x of o)for(let I=0;I<x.length-1;I++){if(Q_(c,x[I],x[I+1]))return l;(g=x[I])[1]>(m=c)[1]!=(_=x[I+1])[1]>m[1]&&m[0]<(_[0]-g[0])*(m[1]-g[1])/(_[1]-g[1])+g[0]&&(p=!p)}var m,g,_;return p}function uu(c,o){for(let l of o)if(Bl(c,l))return!0;return!1}function cf(c,o){for(let l of c)if(!Bl(l,o))return!1;for(let l=0;l<c.length-1;++l)if(X_(c[l],c[l+1],o))return!1;return!0}function df(c,o){for(let l of o)if(cf(c,l))return!0;return!1}function sh(c,o,l,p){let m=p[0]-l[0],g=p[1]-l[1],_=(c[0]-l[0])*g-m*(c[1]-l[1]),x=(o[0]-l[0])*g-m*(o[1]-l[1]);return _>0&&x<0||_<0&&x>0}function lh(c,o,l){let p=[];for(let m=0;m<c.length;m++){let g=[];for(let _=0;_<c[m].length;_++){let x=lf(c[m][_],l);nd(o,x),g.push(x)}p.push(g)}return p}function ch(c,o,l){let p=[];for(let m=0;m<c.length;m++){let g=lh(c[m],o,l);p.push(g)}return p}function uf(c,o,l,p){if(c[0]<l[0]||c[0]>l[2]){let m=.5*p,g=c[0]-l[0]>m?-p:l[0]-c[0]>m?p:0;g===0&&(g=c[0]-l[2]>m?-p:l[2]-c[0]>m?p:0),c[0]+=g}nd(o,c)}function pf(c,o,l,p){let m=Math.pow(2,p.z)*va,g=[p.x*va,p.y*va],_=[];for(let x of c)for(let I of x){let E=[I.x+g[0],I.y+g[1]];uf(E,o,l,m),_.push(E)}return _}function hf(c,o,l,p){let m=Math.pow(2,p.z)*va,g=[p.x*va,p.y*va],_=[];for(let I of c){let E=[];for(let O of I){let V=[O.x+g[0],O.y+g[1]];nd(o,V),E.push(V)}_.push(E)}if(o[2]-o[0]<=m/2){(x=o)[0]=x[1]=1/0,x[2]=x[3]=-1/0;for(let I of _)for(let E of I)uf(E,o,l,m)}var x;return _}class Qs{constructor(o,l){this.type=Ti,this.geojson=o,this.geometries=l}static parse(o,l){if(o.length!==2)return l.error(`'within' expression requires exactly one argument, but found ${o.length-1} instead.`);if(_s(o[1])){let p=o[1];if(p.type==="FeatureCollection"){let m=[];for(let g of p.features){let{type:_,coordinates:x}=g.geometry;_==="Polygon"&&m.push(x),_==="MultiPolygon"&&m.push(...x)}if(m.length)return new Qs(p,{type:"MultiPolygon",coordinates:m})}else if(p.type==="Feature"){let m=p.geometry.type;if(m==="Polygon"||m==="MultiPolygon")return new Qs(p,p.geometry)}else if(p.type==="Polygon"||p.type==="MultiPolygon")return new Qs(p,p)}return l.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(o){if(o.geometry()!=null&&o.canonicalID()!=null){if(o.geometryType()==="Point")return function(l,p){let m=[1/0,1/0,-1/0,-1/0],g=[1/0,1/0,-1/0,-1/0],_=l.canonicalID();if(p.type==="Polygon"){let x=lh(p.coordinates,g,_),I=pf(l.geometry(),m,g,_);if(!Zs(m,g))return!1;for(let E of I)if(!Bl(E,x))return!1}if(p.type==="MultiPolygon"){let x=ch(p.coordinates,g,_),I=pf(l.geometry(),m,g,_);if(!Zs(m,g))return!1;for(let E of I)if(!uu(E,x))return!1}return!0}(o,this.geometries);if(o.geometryType()==="LineString")return function(l,p){let m=[1/0,1/0,-1/0,-1/0],g=[1/0,1/0,-1/0,-1/0],_=l.canonicalID();if(p.type==="Polygon"){let x=lh(p.coordinates,g,_),I=hf(l.geometry(),m,g,_);if(!Zs(m,g))return!1;for(let E of I)if(!cf(E,x))return!1}if(p.type==="MultiPolygon"){let x=ch(p.coordinates,g,_),I=hf(l.geometry(),m,g,_);if(!Zs(m,g))return!1;for(let E of I)if(!df(E,x))return!1}return!0}(o,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let mf=class{constructor(c=[],o=(l,p)=>l<p?-1:l>p?1:0){if(this.data=c,this.length=this.data.length,this.compare=o,this.length>0)for(let l=(this.length>>1)-1;l>=0;l--)this._down(l)}push(c){this.data.push(c),this._up(this.length++)}pop(){if(this.length===0)return;let c=this.data[0],o=this.data.pop();return--this.length>0&&(this.data[0]=o,this._down(0)),c}peek(){return this.data[0]}_up(c){let{data:o,compare:l}=this,p=o[c];for(;c>0;){let m=c-1>>1,g=o[m];if(l(p,g)>=0)break;o[c]=g,c=m}o[c]=p}_down(c){let{data:o,compare:l}=this,p=this.length>>1,m=o[c];for(;c<p;){let g=1+(c<<1),_=g+1;if(_<this.length&&l(o[_],o[g])<0&&(g=_),l(o[g],m)>=0)break;o[c]=o[g],c=g}o[c]=m}};function dh(c,o,l=0,p=c.length-1,m=ff){for(;p>l;){if(p-l>600){let I=p-l+1,E=o-l+1,O=Math.log(I),V=.5*Math.exp(2*O/3),N=.5*Math.sqrt(O*V*(I-V)/I)*(E-I/2<0?-1:1);dh(c,o,Math.max(l,Math.floor(o-E*V/I+N)),Math.min(p,Math.floor(o+(I-E)*V/I+N)),m)}let g=c[o],_=l,x=p;for(Nl(c,l,o),m(c[p],g)>0&&Nl(c,l,p);_<x;){for(Nl(c,_,x),_++,x--;m(c[_],g)<0;)_++;for(;m(c[x],g)>0;)x--}m(c[l],g)===0?Nl(c,l,x):(x++,Nl(c,x,p)),x<=o&&(l=x+1),o<=x&&(p=x-1)}}function Nl(c,o,l){let p=c[o];c[o]=c[l],c[l]=p}function ff(c,o){return c<o?-1:c>o?1:0}function pu(c,o){if(c.length<=1)return[c];let l=[],p,m;for(let g of c){let _=J_(g);_!==0&&(g.area=Math.abs(_),m===void 0&&(m=_<0),m===_<0?(p&&l.push(p),p=[g]):p.push(g))}if(p&&l.push(p),o>1)for(let g=0;g<l.length;g++)l[g].length<=o||(dh(l[g],o,1,l[g].length-1,Y_),l[g]=l[g].slice(0,o));return l}function Y_(c,o){return o.area-c.area}function J_(c){let o=0;for(let l,p,m=0,g=c.length,_=g-1;m<g;_=m++)l=c[m],p=c[_],o+=(p.x-l.x)*(l.y+p.y);return o}let gf=1/298.257223563,ad=gf*(2-gf),_f=Math.PI/180;class uh{constructor(o){let l=6378.137*_f*1e3,p=Math.cos(o*_f),m=1/(1-ad*(1-p*p)),g=Math.sqrt(m);this.kx=l*g*p,this.ky=l*g*m*(1-ad)}distance(o,l){let p=this.wrap(o[0]-l[0])*this.kx,m=(o[1]-l[1])*this.ky;return Math.sqrt(p*p+m*m)}pointOnLine(o,l){let p,m,g,_,x=1/0;for(let I=0;I<o.length-1;I++){let E=o[I][0],O=o[I][1],V=this.wrap(o[I+1][0]-E)*this.kx,N=(o[I+1][1]-O)*this.ky,q=0;V===0&&N===0||(q=(this.wrap(l[0]-E)*this.kx*V+(l[1]-O)*this.ky*N)/(V*V+N*N),q>1?(E=o[I+1][0],O=o[I+1][1]):q>0&&(E+=V/this.kx*q,O+=N/this.ky*q)),V=this.wrap(l[0]-E)*this.kx,N=(l[1]-O)*this.ky;let G=V*V+N*N;G<x&&(x=G,p=E,m=O,g=I,_=q)}return{point:[p,m],index:g,t:Math.max(0,Math.min(1,_))}}wrap(o){for(;o<-180;)o+=360;for(;o>180;)o-=360;return o}}function bf(c,o){return o[0]-c[0]}function hu(c){return c[1]-c[0]+1}function yr(c,o){return c[1]>=c[0]&&c[1]<o}function mu(c,o){if(c[0]>c[1])return[null,null];let l=hu(c);if(o){if(l===2)return[c,null];let m=Math.floor(l/2);return[[c[0],c[0]+m],[c[0]+m,c[1]]]}if(l===1)return[c,null];let p=Math.floor(l/2)-1;return[[c[0],c[0]+p],[c[0]+p+1,c[1]]]}function ph(c,o){if(!yr(o,c.length))return[1/0,1/0,-1/0,-1/0];let l=[1/0,1/0,-1/0,-1/0];for(let p=o[0];p<=o[1];++p)nd(l,c[p]);return l}function hh(c){let o=[1/0,1/0,-1/0,-1/0];for(let l of c)for(let p of l)nd(o,p);return o}function mh(c){return c[0]!==-1/0&&c[1]!==-1/0&&c[2]!==1/0&&c[3]!==1/0}function fu(c,o,l){if(!mh(c)||!mh(o))return NaN;let p=0,m=0;return c[2]<o[0]&&(p=o[0]-c[2]),c[0]>o[2]&&(p=c[0]-o[2]),c[1]>o[3]&&(m=c[1]-o[3]),c[3]<o[1]&&(m=o[1]-c[3]),l.distance([0,0],[p,m])}function Xs(c,o,l){let p=l.pointOnLine(o,c);return l.distance(c,p.point)}function fh(c,o,l,p,m){let g=Math.min(Xs(c,[l,p],m),Xs(o,[l,p],m)),_=Math.min(Xs(l,[c,o],m),Xs(p,[c,o],m));return Math.min(g,_)}function e1(c,o,l,p,m){if(!yr(o,c.length)||!yr(p,l.length))return 1/0;let g=1/0;for(let _=o[0];_<o[1];++_){let x=c[_],I=c[_+1];for(let E=p[0];E<p[1];++E){let O=l[E],V=l[E+1];if(du(x,I,O,V))return 0;g=Math.min(g,fh(x,I,O,V,m))}}return g}function yf(c,o,l,p,m){if(!yr(o,c.length)||!yr(p,l.length))return NaN;let g=1/0;for(let _=o[0];_<=o[1];++_)for(let x=p[0];x<=p[1];++x)if(g=Math.min(g,m.distance(c[_],l[x])),g===0)return g;return g}function t1(c,o,l){if(Bl(c,o,!0))return 0;let p=1/0;for(let m of o){let g=m[0],_=m[m.length-1];if(g!==_&&(p=Math.min(p,Xs(c,[_,g],l)),p===0))return p;let x=l.pointOnLine(m,c);if(p=Math.min(p,l.distance(c,x.point)),p===0)return p}return p}function i1(c,o,l,p){if(!yr(o,c.length))return NaN;for(let g=o[0];g<=o[1];++g)if(Bl(c[g],l,!0))return 0;let m=1/0;for(let g=o[0];g<o[1];++g){let _=c[g],x=c[g+1];for(let I of l)for(let E=0,O=I.length,V=O-1;E<O;V=E++){let N=I[V],q=I[E];if(du(_,x,N,q))return 0;m=Math.min(m,fh(_,x,N,q,p))}}return m}function vf(c,o){for(let l of c)for(let p of l)if(Bl(p,o,!0))return!0;return!1}function n1(c,o,l,p=1/0){let m=hh(c),g=hh(o);if(p!==1/0&&fu(m,g,l)>=p)return p;if(Zs(m,g)){if(vf(c,o))return 0}else if(vf(o,c))return 0;let _=1/0;for(let x of c)for(let I=0,E=x.length,O=E-1;I<E;O=I++){let V=x[O],N=x[I];for(let q of o)for(let G=0,K=q.length,Z=K-1;G<K;Z=G++){let re=q[Z],ge=q[G];if(du(V,N,re,ge))return 0;_=Math.min(_,fh(V,N,re,ge,l))}}return _}function Yi(c,o,l,p,m,g){if(!g)return;let _=fu(ph(p,g),m,l);_<o&&c.push([_,g,[0,0]])}function gu(c,o,l,p,m,g,_){if(!g||!_)return;let x=fu(ph(p,g),ph(m,_),l);x<o&&c.push([x,g,_])}function _u(c,o,l,p,m=1/0){let g=Math.min(p.distance(c[0],l[0][0]),m);if(g===0)return g;let _=new mf([[0,[0,c.length-1],[0,0]]],bf),x=hh(l);for(;_.length>0;){let I=_.pop();if(I[0]>=g)continue;let E=I[1],O=o?50:100;if(hu(E)<=O){if(!yr(E,c.length))return NaN;if(o){let V=i1(c,E,l,p);if(isNaN(V)||V===0)return V;g=Math.min(g,V)}else for(let V=E[0];V<=E[1];++V){let N=t1(c[V],l,p);if(g=Math.min(g,N),g===0)return 0}}else{let V=mu(E,o);Yi(_,g,p,c,x,V[0]),Yi(_,g,p,c,x,V[1])}}return g}function bu(c,o,l,p,m,g=1/0){let _=Math.min(g,m.distance(c[0],l[0]));if(_===0)return _;let x=new mf([[0,[0,c.length-1],[0,l.length-1]]],bf);for(;x.length>0;){let I=x.pop();if(I[0]>=_)continue;let E=I[1],O=I[2],V=o?50:100,N=p?50:100;if(hu(E)<=V&&hu(O)<=N){if(!yr(E,c.length)&&yr(O,l.length))return NaN;let q;if(o&&p)q=e1(c,E,l,O,m),_=Math.min(_,q);else if(o&&!p){let G=c.slice(E[0],E[1]+1);for(let K=O[0];K<=O[1];++K)if(q=Xs(l[K],G,m),_=Math.min(_,q),_===0)return _}else if(!o&&p){let G=l.slice(O[0],O[1]+1);for(let K=E[0];K<=E[1];++K)if(q=Xs(c[K],G,m),_=Math.min(_,q),_===0)return _}else q=yf(c,E,l,O,m),_=Math.min(_,q)}else{let q=mu(E,o),G=mu(O,p);gu(x,_,m,c,l,q[0],G[0]),gu(x,_,m,c,l,q[0],G[1]),gu(x,_,m,c,l,q[1],G[0]),gu(x,_,m,c,l,q[1],G[1])}}return _}function gh(c){return c.type==="MultiPolygon"?c.coordinates.map(o=>({type:"Polygon",coordinates:o})):c.type==="MultiLineString"?c.coordinates.map(o=>({type:"LineString",coordinates:o})):c.type==="MultiPoint"?c.coordinates.map(o=>({type:"Point",coordinates:o})):[c]}class Ys{constructor(o,l){this.type=At,this.geojson=o,this.geometries=l}static parse(o,l){if(o.length!==2)return l.error(`'distance' expression requires exactly one argument, but found ${o.length-1} instead.`);if(_s(o[1])){let p=o[1];if(p.type==="FeatureCollection")return new Ys(p,p.features.map(m=>gh(m.geometry)).flat());if(p.type==="Feature")return new Ys(p,gh(p.geometry));if("type"in p&&"coordinates"in p)return new Ys(p,gh(p))}return l.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(o){if(o.geometry()!=null&&o.canonicalID()!=null){if(o.geometryType()==="Point")return function(l,p){let m=l.geometry(),g=m.flat().map(I=>Rl([I.x,I.y],l.canonical));if(m.length===0)return NaN;let _=new uh(g[0][1]),x=1/0;for(let I of p){switch(I.type){case"Point":x=Math.min(x,bu(g,!1,[I.coordinates],!1,_,x));break;case"LineString":x=Math.min(x,bu(g,!1,I.coordinates,!0,_,x));break;case"Polygon":x=Math.min(x,_u(g,!1,I.coordinates,_,x))}if(x===0)return x}return x}(o,this.geometries);if(o.geometryType()==="LineString")return function(l,p){let m=l.geometry(),g=m.flat().map(I=>Rl([I.x,I.y],l.canonical));if(m.length===0)return NaN;let _=new uh(g[0][1]),x=1/0;for(let I of p){switch(I.type){case"Point":x=Math.min(x,bu(g,!0,[I.coordinates],!1,_,x));break;case"LineString":x=Math.min(x,bu(g,!0,I.coordinates,!0,_,x));break;case"Polygon":x=Math.min(x,_u(g,!0,I.coordinates,_,x))}if(x===0)return x}return x}(o,this.geometries);if(o.geometryType()==="Polygon")return function(l,p){let m=l.geometry();if(m.length===0||m[0].length===0)return NaN;let g=pu(m,0).map(I=>I.map(E=>E.map(O=>Rl([O.x,O.y],l.canonical)))),_=new uh(g[0][0][0][1]),x=1/0;for(let I of p)for(let E of g){switch(I.type){case"Point":x=Math.min(x,_u([I.coordinates],!1,E,_,x));break;case"LineString":x=Math.min(x,_u(I.coordinates,!0,E,_,x));break;case"Polygon":x=Math.min(x,n1(E,I.coordinates,_,x))}if(x===0)return x}return x}(o,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class od{constructor(o){this.type=xi,this.key=o}static parse(o,l){if(o.length!==2)return l.error(`Expected 1 argument, but found ${o.length-1} instead.`);let p=o[1];return p==null?l.error("Global state property must be defined."):typeof p!="string"?l.error(`Global state property must be string, but found ${typeof o[1]} instead.`):new od(p)}evaluate(o){var l;let p=(l=o.globals)===null||l===void 0?void 0:l.globalState;return p&&Object.keys(p).length!==0?Xc(p,this.key):null}eachChild(){}outputDefined(){return!1}}let ql={"==":rf,"!=":oh,">":Z_,"<":sf,">=":cu,"<=":Ol,array:Co,at:Ri,boolean:Co,case:Jc,coalesce:Ws,collator:Fl,format:id,image:Vl,in:wi,"index-of":Ll,interpolate:fo,"interpolate-hcl":fo,"interpolate-lab":fo,length:zl,let:_n,literal:Vr,match:Hi,number:Co,"number-format":rh,object:Co,slice:Xo,step:bs,string:Co,"to-boolean":Xr,"to-color":Xr,"to-number":Xr,"to-string":Xr,var:Dl,within:Qs,distance:Ys,"global-state":od};class Yo{constructor(o,l,p,m){this.name=o,this.type=l,this._evaluate=p,this.args=m}evaluate(o){return this._evaluate(o,this.args)}eachChild(o){this.args.forEach(o)}outputDefined(){return!1}static parse(o,l){let p=o[0],m=Yo.definitions[p];if(!m)return l.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0);let g=Array.isArray(m)?m[0]:m.type,_=Array.isArray(m)?[[m[1],m[2]]]:m.overloads,x=_.filter(([E])=>!Array.isArray(E)||E.length===o.length-1),I=null;for(let[E,O]of x){I=new Ks(l.registry,yu,l.path,null,l.scope);let V=[],N=!1;for(let q=1;q<o.length;q++){let G=o[q],K=Array.isArray(E)?E[q-1]:E.type,Z=I.parse(G,1+V.length,K);if(!Z){N=!0;break}V.push(Z)}if(!N)if(Array.isArray(E)&&E.length!==V.length)I.error(`Expected ${E.length} arguments, but found ${V.length} instead.`);else{for(let q=0;q<V.length;q++){let G=Array.isArray(E)?E[q]:E.type,K=V[q];I.concat(q+1).checkSubtype(G,K.type)}if(I.errors.length===0)return new Yo(p,g,O,V)}}if(x.length===1)l.errors.push(...I.errors);else{let E=(x.length?x:_).map(([V])=>{return N=V,Array.isArray(N)?`(${N.map(cn).join(", ")})`:`(${cn(N.type)}...)`;var N}).join(" | "),O=[];for(let V=1;V<o.length;V++){let N=l.parse(o[V],1+O.length);if(!N)return null;O.push(cn(N.type))}l.error(`Expected arguments of type ${E}, but found (${O.join(", ")}) instead.`)}return null}static register(o,l){Yo.definitions=l;for(let p in l)o[p]=Yo}}function xf(c,[o,l,p,m]){o=o.evaluate(c),l=l.evaluate(c),p=p.evaluate(c);let g=m?m.evaluate(c):1,_=Pl(o,l,p,g);if(_)throw new gn(_);return new Ci(o/255,l/255,p/255,g,!1)}function wf(c,o){return c in o}function _h(c,o){let l=o[c];return l===void 0?null:l}function Js(c){return{type:c}}function yu(c){if(c instanceof Dl)return yu(c.boundExpression);if(c instanceof Yo&&c.name==="error"||c instanceof Fl||c instanceof Qs||c instanceof Ys||c instanceof od)return!1;let o=c instanceof Xr||c instanceof Co,l=!0;return c.eachChild(p=>{l=o?l&&yu(p):l&&p instanceof Vr}),!!l&&vu(c)&&xu(c,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"])}function vu(c){if(c instanceof Yo&&(c.name==="get"&&c.args.length===1||c.name==="feature-state"||c.name==="has"&&c.args.length===1||c.name==="properties"||c.name==="geometry-type"||c.name==="id"||/^filter-/.test(c.name))||c instanceof Qs||c instanceof Ys)return!1;let o=!0;return c.eachChild(l=>{o&&!vu(l)&&(o=!1)}),o}function rd(c){if(c instanceof Yo&&c.name==="feature-state")return!1;let o=!0;return c.eachChild(l=>{o&&!rd(l)&&(o=!1)}),o}function xu(c,o){if(c instanceof Yo&&o.indexOf(c.name)>=0)return!1;let l=!0;return c.eachChild(p=>{l&&!xu(p,o)&&(l=!1)}),l}function If(c){return{result:"success",value:c}}function Hl(c){return{result:"error",value:c}}function jl(c){return c["property-type"]==="data-driven"||c["property-type"]==="cross-faded-data-driven"}function Tf(c){return!!c.expression&&c.expression.parameters.indexOf("zoom")>-1}function bh(c){return!!c.expression&&c.expression.interpolated}function ki(c){return c instanceof Number?"number":c instanceof String?"string":c instanceof Boolean?"boolean":Array.isArray(c)?"array":c===null?"null":typeof c}function wu(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)&&ra(c)===Qr}function a1(c){return c}function Cf(c,o){let l=c.stops&&typeof c.stops[0][0]=="object",p=l||!(l||c.property!==void 0),m=c.type||(bh(o)?"exponential":"interval"),g=function(O){switch(O.type){case"color":return Ci.parse;case"padding":return Ya.parse;case"numberArray":return zn.parse;case"colorArray":return pi.parse;default:return null}}(o);if(g&&((c=co({},c)).stops&&(c.stops=c.stops.map(O=>[O[0],g(O[1])])),c.default=g(c.default?c.default:o.default)),c.colorSpace&&(_=c.colorSpace)!=="rgb"&&_!=="hcl"&&_!=="lab")throw new Error(`Unknown color space: "${c.colorSpace}"`);var _;let x=function(O){switch(O){case"exponential":return Sf;case"interval":return r1;case"categorical":return o1;case"identity":return s1;default:throw new Error(`Unknown function type "${O}"`)}}(m),I,E;if(m==="categorical"){I=Object.create(null);for(let O of c.stops)I[O[0]]=O[1];E=typeof c.stops[0][0]}if(l){let O={},V=[];for(let G=0;G<c.stops.length;G++){let K=c.stops[G],Z=K[0].zoom;O[Z]===void 0&&(O[Z]={zoom:Z,type:c.type,property:c.property,default:c.default,stops:[]},V.push(Z)),O[Z].stops.push([K[0].value,K[1]])}let N=[];for(let G of V)N.push([O[G].zoom,Cf(O[G],o)]);let q={name:"linear"};return{kind:"composite",interpolationType:q,interpolationFactor:fo.interpolationFactor.bind(void 0,q),zoomStops:N.map(G=>G[0]),evaluate:({zoom:G},K)=>Sf({stops:N,base:c.base},o,G).evaluate(G,K)}}if(p){let O=m==="exponential"?{name:"exponential",base:c.base!==void 0?c.base:1}:null;return{kind:"camera",interpolationType:O,interpolationFactor:fo.interpolationFactor.bind(void 0,O),zoomStops:c.stops.map(V=>V[0]),evaluate:({zoom:V})=>x(c,o,V,I,E)}}return{kind:"source",evaluate(O,V){let N=V&&V.properties?V.properties[c.property]:void 0;return N===void 0?sd(c.default,o.default):x(c,o,N,I,E)}}}function sd(c,o,l){return c!==void 0?c:o!==void 0?o:l!==void 0?l:void 0}function o1(c,o,l,p,m){return sd(typeof l===m?p[l]:void 0,c.default,o.default)}function r1(c,o,l){if(ki(l)!=="number")return sd(c.default,o.default);let p=c.stops.length;if(p===1||l<=c.stops[0][0])return c.stops[0][1];if(l>=c.stops[p-1][0])return c.stops[p-1][1];let m=Al(c.stops.map(g=>g[0]),l);return c.stops[m][1]}function Sf(c,o,l){let p=c.base!==void 0?c.base:1;if(ki(l)!=="number")return sd(c.default,o.default);let m=c.stops.length;if(m===1||l<=c.stops[0][0])return c.stops[0][1];if(l>=c.stops[m-1][0])return c.stops[m-1][1];let g=Al(c.stops.map(O=>O[0]),l),_=function(O,V,N,q){let G=q-N,K=O-N;return G===0?0:V===1?K/G:(Math.pow(V,K)-1)/(Math.pow(V,G)-1)}(l,p,c.stops[g][0],c.stops[g+1][0]),x=c.stops[g][1],I=c.stops[g+1][1],E=Dn[o.type]||a1;return typeof x.evaluate=="function"?{evaluate(...O){let V=x.evaluate.apply(void 0,O),N=I.evaluate.apply(void 0,O);if(V!==void 0&&N!==void 0)return E(V,N,_,c.colorSpace)}}:E(x,I,_,c.colorSpace)}function s1(c,o,l){switch(o.type){case"color":l=Ci.parse(l);break;case"formatted":l=To.fromString(l.toString());break;case"resolvedImage":l=qo.fromString(l.toString());break;case"padding":l=Ya.parse(l);break;case"colorArray":l=pi.parse(l);break;case"numberArray":l=zn.parse(l);break;default:ki(l)===o.type||o.type==="enum"&&o.values[l]||(l=void 0)}return sd(l,c.default,o.default)}Yo.register(ql,{error:[{kind:"error"},[Ii],(c,[o])=>{throw new gn(o.evaluate(c))}],typeof:[Ii,[xi],(c,[o])=>cn(ra(o.evaluate(c)))],"to-rgba":[po(At,4),[No],(c,[o])=>{let[l,p,m,g]=o.evaluate(c).rgb;return[255*l,255*p,255*m,g]}],rgb:[No,[At,At,At],xf],rgba:[No,[At,At,At,At],xf],has:{type:Ti,overloads:[[[Ii],(c,[o])=>wf(o.evaluate(c),c.properties())],[[Ii,Qr],(c,[o,l])=>wf(o.evaluate(c),l.evaluate(c))]]},get:{type:xi,overloads:[[[Ii],(c,[o])=>_h(o.evaluate(c),c.properties())],[[Ii,Qr],(c,[o,l])=>_h(o.evaluate(c),l.evaluate(c))]]},"feature-state":[xi,[Ii],(c,[o])=>_h(o.evaluate(c),c.featureState||{})],properties:[Qr,[],c=>c.properties()],"geometry-type":[Ii,[],c=>c.geometryType()],id:[xi,[],c=>c.id()],zoom:[At,[],c=>c.globals.zoom],"heatmap-density":[At,[],c=>c.globals.heatmapDensity||0],elevation:[At,[],c=>c.globals.elevation||0],"line-progress":[At,[],c=>c.globals.lineProgress||0],accumulated:[xi,[],c=>c.globals.accumulated===void 0?null:c.globals.accumulated],"+":[At,Js(At),(c,o)=>{let l=0;for(let p of o)l+=p.evaluate(c);return l}],"*":[At,Js(At),(c,o)=>{let l=1;for(let p of o)l*=p.evaluate(c);return l}],"-":{type:At,overloads:[[[At,At],(c,[o,l])=>o.evaluate(c)-l.evaluate(c)],[[At],(c,[o])=>-o.evaluate(c)]]},"/":[At,[At,At],(c,[o,l])=>o.evaluate(c)/l.evaluate(c)],"%":[At,[At,At],(c,[o,l])=>o.evaluate(c)%l.evaluate(c)],ln2:[At,[],()=>Math.LN2],pi:[At,[],()=>Math.PI],e:[At,[],()=>Math.E],"^":[At,[At,At],(c,[o,l])=>Math.pow(o.evaluate(c),l.evaluate(c))],sqrt:[At,[At],(c,[o])=>Math.sqrt(o.evaluate(c))],log10:[At,[At],(c,[o])=>Math.log(o.evaluate(c))/Math.LN10],ln:[At,[At],(c,[o])=>Math.log(o.evaluate(c))],log2:[At,[At],(c,[o])=>Math.log(o.evaluate(c))/Math.LN2],sin:[At,[At],(c,[o])=>Math.sin(o.evaluate(c))],cos:[At,[At],(c,[o])=>Math.cos(o.evaluate(c))],tan:[At,[At],(c,[o])=>Math.tan(o.evaluate(c))],asin:[At,[At],(c,[o])=>Math.asin(o.evaluate(c))],acos:[At,[At],(c,[o])=>Math.acos(o.evaluate(c))],atan:[At,[At],(c,[o])=>Math.atan(o.evaluate(c))],min:[At,Js(At),(c,o)=>Math.min(...o.map(l=>l.evaluate(c)))],max:[At,Js(At),(c,o)=>Math.max(...o.map(l=>l.evaluate(c)))],abs:[At,[At],(c,[o])=>Math.abs(o.evaluate(c))],round:[At,[At],(c,[o])=>{let l=o.evaluate(c);return l<0?-Math.round(-l):Math.round(l)}],floor:[At,[At],(c,[o])=>Math.floor(o.evaluate(c))],ceil:[At,[At],(c,[o])=>Math.ceil(o.evaluate(c))],"filter-==":[Ti,[Ii,xi],(c,[o,l])=>c.properties()[o.value]===l.value],"filter-id-==":[Ti,[xi],(c,[o])=>c.id()===o.value],"filter-type-==":[Ti,[Ii],(c,[o])=>c.geometryType()===o.value],"filter-<":[Ti,[Ii,xi],(c,[o,l])=>{let p=c.properties()[o.value],m=l.value;return typeof p==typeof m&&p<m}],"filter-id-<":[Ti,[xi],(c,[o])=>{let l=c.id(),p=o.value;return typeof l==typeof p&&l<p}],"filter->":[Ti,[Ii,xi],(c,[o,l])=>{let p=c.properties()[o.value],m=l.value;return typeof p==typeof m&&p>m}],"filter-id->":[Ti,[xi],(c,[o])=>{let l=c.id(),p=o.value;return typeof l==typeof p&&l>p}],"filter-<=":[Ti,[Ii,xi],(c,[o,l])=>{let p=c.properties()[o.value],m=l.value;return typeof p==typeof m&&p<=m}],"filter-id-<=":[Ti,[xi],(c,[o])=>{let l=c.id(),p=o.value;return typeof l==typeof p&&l<=p}],"filter->=":[Ti,[Ii,xi],(c,[o,l])=>{let p=c.properties()[o.value],m=l.value;return typeof p==typeof m&&p>=m}],"filter-id->=":[Ti,[xi],(c,[o])=>{let l=c.id(),p=o.value;return typeof l==typeof p&&l>=p}],"filter-has":[Ti,[xi],(c,[o])=>o.value in c.properties()],"filter-has-id":[Ti,[],c=>c.id()!==null&&c.id()!==void 0],"filter-type-in":[Ti,[po(Ii)],(c,[o])=>o.value.indexOf(c.geometryType())>=0],"filter-id-in":[Ti,[po(xi)],(c,[o])=>o.value.indexOf(c.id())>=0],"filter-in-small":[Ti,[Ii,po(xi)],(c,[o,l])=>l.value.indexOf(c.properties()[o.value])>=0],"filter-in-large":[Ti,[Ii,po(xi)],(c,[o,l])=>function(p,m,g,_){for(;g<=_;){let x=g+_>>1;if(m[x]===p)return!0;m[x]>p?_=x-1:g=x+1}return!1}(c.properties()[o.value],l.value,0,l.value.length-1)],all:{type:Ti,overloads:[[[Ti,Ti],(c,[o,l])=>o.evaluate(c)&&l.evaluate(c)],[Js(Ti),(c,o)=>{for(let l of o)if(!l.evaluate(c))return!1;return!0}]]},any:{type:Ti,overloads:[[[Ti,Ti],(c,[o,l])=>o.evaluate(c)||l.evaluate(c)],[Js(Ti),(c,o)=>{for(let l of o)if(l.evaluate(c))return!0;return!1}]]},"!":[Ti,[Ti],(c,[o])=>!o.evaluate(c)],"is-supported-script":[Ti,[Ii],(c,[o])=>{let l=c.globals&&c.globals.isSupportedScript;return!l||l(o.evaluate(c))}],upcase:[Ii,[Ii],(c,[o])=>o.evaluate(c).toUpperCase()],downcase:[Ii,[Ii],(c,[o])=>o.evaluate(c).toLowerCase()],concat:[Ii,Js(xi),(c,o)=>o.map(l=>Us(l.evaluate(c))).join("")],"resolved-locale":[Ii,[Uc],(c,[o])=>o.evaluate(c).resolvedLocale()]});class yh{constructor(o,l,p){this.expression=o,this._warningHistory={},this._evaluator=new ih,this._defaultValue=l?function(m){if(m.type==="color"&&wu(m.default))return new Ci(0,0,0,0);switch(m.type){case"color":return Ci.parse(m.default)||null;case"padding":return Ya.parse(m.default)||null;case"numberArray":return zn.parse(m.default)||null;case"colorArray":return pi.parse(m.default)||null;case"variableAnchorOffsetCollection":return ho.parse(m.default)||null;case"projectionDefinition":return mo.parse(m.default)||null;default:return m.default===void 0?null:m.default}}(l):null,this._enumValues=l&&l.type==="enum"?l.values:null,this._globalState=p}evaluateWithoutErrorHandling(o,l,p,m,g,_){return this._globalState&&(o=el(o,this._globalState)),this._evaluator.globals=o,this._evaluator.feature=l,this._evaluator.featureState=p,this._evaluator.canonical=m,this._evaluator.availableImages=g||null,this._evaluator.formattedSection=_,this.expression.evaluate(this._evaluator)}evaluate(o,l,p,m,g,_){this._globalState&&(o=el(o,this._globalState)),this._evaluator.globals=o,this._evaluator.feature=l||null,this._evaluator.featureState=p||null,this._evaluator.canonical=m,this._evaluator.availableImages=g||null,this._evaluator.formattedSection=_||null;try{let x=this.expression.evaluate(this._evaluator);if(x==null||typeof x=="number"&&x!=x)return this._defaultValue;if(this._enumValues&&!(x in this._enumValues))throw new gn(`Expected value to be one of ${Object.keys(this._enumValues).map(I=>JSON.stringify(I)).join(", ")}, but found ${JSON.stringify(x)} instead.`);return x}catch(x){return this._warningHistory[x.message]||(this._warningHistory[x.message]=!0,typeof console<"u"&&console.warn(x.message)),this._defaultValue}}}function Gl(c){return Array.isArray(c)&&c.length>0&&typeof c[0]=="string"&&c[0]in ql}function ld(c,o,l){let p=new Ks(ql,yu,[],o?function(g){let _={color:No,string:Ii,number:At,enum:Ii,boolean:Ti,formatted:$c,padding:nu,numberArray:Kc,colorArray:Cl,projectionDefinition:iu,resolvedImage:Sl,variableAnchorOffsetCollection:Wc};return g.type==="array"?po(_[g.value]||xi,g.length):_[g.type]}(o):void 0),m=p.parse(c,void 0,void 0,void 0,o&&o.type==="string"?{typeAnnotation:"coerce"}:void 0);return m?If(new yh(m,o,l)):Hl(p.errors)}class Iu{constructor(o,l,p){this.kind=o,this._styleExpression=l,this.isStateDependent=o!=="constant"&&!rd(l.expression),this.globalStateRefs=ys(l.expression),this._globalState=p}evaluateWithoutErrorHandling(o,l,p,m,g,_){return this._globalState&&(o=el(o,this._globalState)),this._styleExpression.evaluateWithoutErrorHandling(o,l,p,m,g,_)}evaluate(o,l,p,m,g,_){return this._globalState&&(o=el(o,this._globalState)),this._styleExpression.evaluate(o,l,p,m,g,_)}}class vh{constructor(o,l,p,m,g){this.kind=o,this.zoomStops=p,this._styleExpression=l,this.isStateDependent=o!=="camera"&&!rd(l.expression),this.globalStateRefs=ys(l.expression),this.interpolationType=m,this._globalState=g}evaluateWithoutErrorHandling(o,l,p,m,g,_){return this._globalState&&(o=el(o,this._globalState)),this._styleExpression.evaluateWithoutErrorHandling(o,l,p,m,g,_)}evaluate(o,l,p,m,g,_){return this._globalState&&(o=el(o,this._globalState)),this._styleExpression.evaluate(o,l,p,m,g,_)}interpolationFactor(o,l,p){return this.interpolationType?fo.interpolationFactor(this.interpolationType,o,l,p):0}}function xh(c,o,l){let p=ld(c,o,l);if(p.result==="error")return p;let m=p.value.expression,g=vu(m);if(!g&&!jl(o))return Hl([new uo("","data expressions not supported")]);let _=xu(m,["zoom"]);if(!_&&!Tf(o))return Hl([new uo("","zoom expressions not supported")]);let x=Cu(m);return x||_?x instanceof uo?Hl([x]):x instanceof fo&&!bh(o)?Hl([new uo("",'"interpolate" expressions cannot be used with this property')]):If(x?new vh(g?"camera":"composite",p.value,x.labels,x instanceof fo?x.interpolation:void 0,l):new Iu(g?"constant":"source",p.value,l)):Hl([new uo("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Tu{constructor(o,l){this._parameters=o,this._specification=l,co(this,Cf(this._parameters,this._specification))}static deserialize(o){return new Tu(o._parameters,o._specification)}static serialize(o){return{_parameters:o._parameters,_specification:o._specification}}}function Cu(c){let o=null;if(c instanceof _n)o=Cu(c.result);else if(c instanceof Ws){for(let l of c.args)if(o=Cu(l),o)break}else(c instanceof bs||c instanceof fo)&&c.input instanceof Yo&&c.input.name==="zoom"&&(o=c);return o instanceof uo||c.eachChild(l=>{let p=Cu(l);p instanceof uo?o=p:!o&&p?o=new uo("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):o&&p&&o!==p&&(o=new uo("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),o}function ys(c,o=new Set){return c instanceof od&&o.add(c.key),c.eachChild(l=>{ys(l,o)}),o}function el(c,o){let{zoom:l,heatmapDensity:p,elevation:m,lineProgress:g,isSupportedScript:_,accumulated:x}=c??{};return{zoom:l,heatmapDensity:p,elevation:m,lineProgress:g,isSupportedScript:_,accumulated:x,globalState:o}}function wh(c){if(c===!0||c===!1)return!0;if(!Array.isArray(c)||c.length===0)return!1;switch(c[0]){case"has":return c.length>=2&&c[1]!=="$id"&&c[1]!=="$type";case"in":return c.length>=3&&(typeof c[1]!="string"||Array.isArray(c[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return c.length!==3||Array.isArray(c[1])||Array.isArray(c[2]);case"any":case"all":for(let o of c.slice(1))if(!wh(o)&&typeof o!="boolean")return!1;return!0;default:return!0}}let l1={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function cd(c,o){if(c==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};wh(c)||(c=dd(c));let l=ld(c,l1,o);if(l.result==="error")throw new Error(l.value.map(p=>`${p.key}: ${p.message}`).join(", "));return{filter:(p,m,g)=>l.value.evaluate(p,m,{},g),needGeometry:Mf(c),getGlobalStateRefs:()=>ys(l.value.expression)}}function c1(c,o){return c<o?-1:c>o?1:0}function Mf(c){if(!Array.isArray(c))return!1;if(c[0]==="within"||c[0]==="distance")return!0;for(let o=1;o<c.length;o++)if(Mf(c[o]))return!0;return!1}function dd(c){if(!c)return!0;let o=c[0];return c.length<=1?o!=="any":o==="=="?Su(c[1],c[2],"=="):o==="!="?ud(Su(c[1],c[2],"==")):o==="<"||o===">"||o==="<="||o===">="?Su(c[1],c[2],o):o==="any"?(l=c.slice(1),["any"].concat(l.map(dd))):o==="all"?["all"].concat(c.slice(1).map(dd)):o==="none"?["all"].concat(c.slice(1).map(dd).map(ud)):o==="in"?kf(c[1],c.slice(2)):o==="!in"?ud(kf(c[1],c.slice(2))):o==="has"?Ef(c[1]):o!=="!has"||ud(Ef(c[1]));var l}function Su(c,o,l){switch(c){case"$type":return[`filter-type-${l}`,o];case"$id":return[`filter-id-${l}`,o];default:return[`filter-${l}`,c,o]}}function kf(c,o){if(o.length===0)return!1;switch(c){case"$type":return["filter-type-in",["literal",o]];case"$id":return["filter-id-in",["literal",o]];default:return o.length>200&&!o.some(l=>typeof l!=typeof o[0])?["filter-in-large",c,["literal",o.sort(c1)]]:["filter-in-small",c,["literal",o]]}}function Ef(c){switch(c){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",c]}}function ud(c){return["!",c]}function Mu(c){let o=typeof c;if(o==="number"||o==="boolean"||o==="string"||c==null)return JSON.stringify(c);if(Array.isArray(c)){let m="[";for(let g of c)m+=`${Mu(g)},`;return`${m}]`}let l=Object.keys(c).sort(),p="{";for(let m=0;m<l.length;m++)p+=`${JSON.stringify(l[m])}:${Mu(c[l[m]])},`;return`${p}}`}function Pf(c){let o="";for(let l of mn)o+=`/${Mu(c[l])}`;return o}function Df(c){let o=c.value;return o?[new It(c.key,o,"constants have been deprecated as of v8")]:[]}function sa(c){return c instanceof Number||c instanceof String||c instanceof Boolean?c.valueOf():c}function tl(c){if(Array.isArray(c))return c.map(tl);if(c instanceof Object&&!(c instanceof Number||c instanceof String||c instanceof Boolean)){let o={};for(let l in c)o[l]=tl(c[l]);return o}return sa(c)}function Ho(c){let o=c.key,l=c.value,p=c.valueSpec||{},m=c.objectElementValidators||{},g=c.style,_=c.styleSpec,x=c.validateSpec,I=[],E=ki(l);if(E!=="object")return[new It(o,l,`object expected, ${E} found`)];for(let O in l){let V=O.split(".")[0],N=Xc(p,V)||p["*"],q;if(Xc(m,V))q=m[V];else if(Xc(p,V)){if(l[O]===void 0)continue;q=x}else if(m["*"])q=m["*"];else{if(!p["*"]){I.push(new It(o,l[O],`unknown property "${O}"`));continue}q=x}I=I.concat(q({key:(o&&`${o}.`)+O,value:l[O],valueSpec:N,style:g,styleSpec:_,object:l,objectKey:O,validateSpec:x},l))}for(let O in p)m[O]||p[O].required&&p[O].default===void 0&&l[O]===void 0&&I.push(new It(o,l,`missing required property "${O}"`));return I}function ku(c){let o=c.value,l=c.valueSpec,p=c.style,m=c.styleSpec,g=c.key,_=c.arrayElementValidator||c.validateSpec;if(ki(o)!=="array")return[new It(g,o,`array expected, ${ki(o)} found`)];if(l.length&&o.length!==l.length)return[new It(g,o,`array length ${l.length} expected, length ${o.length} found`)];let x={type:l.value,values:l.values};m.$version<7&&(x.function=l.function),ki(l.value)==="object"&&(x=l.value);let I=[];for(let E=0;E<o.length;E++)I=I.concat(_({array:o,arrayIndex:E,value:o[E],valueSpec:x,validateSpec:c.validateSpec,style:p,styleSpec:m,key:`${g}[${E}]`}));return I}function pd(c){let o=c.key,l=c.value,p=c.valueSpec,m=ki(l);return m==="number"&&l!=l&&(m="NaN"),m!=="number"?[new It(o,l,`number expected, ${m} found`)]:"minimum"in p&&l<p.minimum?[new It(o,l,`${l} is less than the minimum value ${p.minimum}`)]:"maximum"in p&&l>p.maximum?[new It(o,l,`${l} is greater than the maximum value ${p.maximum}`)]:[]}function Eu(c){let o=c.valueSpec,l=sa(c.value.type),p,m,g,_={},x=l!=="categorical"&&c.value.property===void 0,I=!x,E=ki(c.value.stops)==="array"&&ki(c.value.stops[0])==="array"&&ki(c.value.stops[0][0])==="object",O=Ho({key:c.key,value:c.value,valueSpec:c.styleSpec.function,validateSpec:c.validateSpec,style:c.style,styleSpec:c.styleSpec,objectElementValidators:{stops:function(q){if(l==="identity")return[new It(q.key,q.value,'identity function may not have a "stops" property')];let G=[],K=q.value;return G=G.concat(ku({key:q.key,value:K,valueSpec:q.valueSpec,validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec,arrayElementValidator:V})),ki(K)==="array"&&K.length===0&&G.push(new It(q.key,K,"array must have at least one stop")),G},default:function(q){return q.validateSpec({key:q.key,value:q.value,valueSpec:o,validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec})}}});return l==="identity"&&x&&O.push(new It(c.key,c.value,'missing required property "property"')),l==="identity"||c.value.stops||O.push(new It(c.key,c.value,'missing required property "stops"')),l==="exponential"&&c.valueSpec.expression&&!bh(c.valueSpec)&&O.push(new It(c.key,c.value,"exponential functions not supported")),c.styleSpec.$version>=8&&(I&&!jl(c.valueSpec)?O.push(new It(c.key,c.value,"property functions not supported")):x&&!Tf(c.valueSpec)&&O.push(new It(c.key,c.value,"zoom functions not supported"))),l!=="categorical"&&!E||c.value.property!==void 0||O.push(new It(c.key,c.value,'"property" property is required')),O;function V(q){let G=[],K=q.value,Z=q.key;if(ki(K)!=="array")return[new It(Z,K,`array expected, ${ki(K)} found`)];if(K.length!==2)return[new It(Z,K,`array length 2 expected, length ${K.length} found`)];if(E){if(ki(K[0])!=="object")return[new It(Z,K,`object expected, ${ki(K[0])} found`)];if(K[0].zoom===void 0)return[new It(Z,K,"object stop key must have zoom")];if(K[0].value===void 0)return[new It(Z,K,"object stop key must have value")];if(g&&g>sa(K[0].zoom))return[new It(Z,K[0].zoom,"stop zoom values must appear in ascending order")];sa(K[0].zoom)!==g&&(g=sa(K[0].zoom),m=void 0,_={}),G=G.concat(Ho({key:`${Z}[0]`,value:K[0],valueSpec:{zoom:{}},validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec,objectElementValidators:{zoom:pd,value:N}}))}else G=G.concat(N({key:`${Z}[0]`,value:K[0],validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec},K));return Gl(tl(K[1]))?G.concat([new It(`${Z}[1]`,K[1],"expressions are not allowed in function stops.")]):G.concat(q.validateSpec({key:`${Z}[1]`,value:K[1],valueSpec:o,validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec}))}function N(q,G){let K=ki(q.value),Z=sa(q.value),re=q.value!==null?q.value:G;if(p){if(K!==p)return[new It(q.key,re,`${K} stop domain type must match previous stop domain type ${p}`)]}else p=K;if(K!=="number"&&K!=="string"&&K!=="boolean")return[new It(q.key,re,"stop domain value must be a number, string, or boolean")];if(K!=="number"&&l!=="categorical"){let ge=`number expected, ${K} found`;return jl(o)&&l===void 0&&(ge+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new It(q.key,re,ge)]}return l!=="categorical"||K!=="number"||isFinite(Z)&&Math.floor(Z)===Z?l!=="categorical"&&K==="number"&&m!==void 0&&Z<m?[new It(q.key,re,"stop domain values must appear in ascending order")]:(m=Z,l==="categorical"&&Z in _?[new It(q.key,re,"stop domain values must be unique")]:(_[Z]=!0,[])):[new It(q.key,re,`integer expected, found ${Z}`)]}}function vs(c){let o=(c.expressionContext==="property"?xh:ld)(tl(c.value),c.valueSpec);if(o.result==="error")return o.value.map(p=>new It(`${c.key}${p.key}`,c.value,p.message));let l=o.value.expression||o.value._styleExpression.expression;if(c.expressionContext==="property"&&c.propertyKey==="text-font"&&!l.outputDefined())return[new It(c.key,c.value,`Invalid data expression for "${c.propertyKey}". Output values must be contained as literals within the expression.`)];if(c.expressionContext==="property"&&c.propertyType==="layout"&&!rd(l))return[new It(c.key,c.value,'"feature-state" data expressions are not supported with layout properties.')];if(c.expressionContext==="filter"&&!rd(l))return[new It(c.key,c.value,'"feature-state" data expressions are not supported with filters.')];if(c.expressionContext&&c.expressionContext.indexOf("cluster")===0){if(!xu(l,["zoom","feature-state"]))return[new It(c.key,c.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(c.expressionContext==="cluster-initial"&&!vu(l))return[new It(c.key,c.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function hd(c){let o=c.key,l=c.value,p=ki(l);return p!=="string"?[new It(o,l,`color expected, ${p} found`)]:Ci.parse(String(l))?[]:[new It(o,l,`color expected, "${l}" found`)]}function il(c){let o=c.key,l=c.value,p=c.valueSpec,m=[];return Array.isArray(p.values)?p.values.indexOf(sa(l))===-1&&m.push(new It(o,l,`expected one of [${p.values.join(", ")}], ${JSON.stringify(l)} found`)):Object.keys(p.values).indexOf(sa(l))===-1&&m.push(new It(o,l,`expected one of [${Object.keys(p.values).join(", ")}], ${JSON.stringify(l)} found`)),m}function Ul(c){return wh(tl(c.value))?vs(co({},c,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Lf(c)}function Lf(c){let o=c.value,l=c.key;if(ki(o)!=="array")return[new It(l,o,`array expected, ${ki(o)} found`)];let p=c.styleSpec,m,g=[];if(o.length<1)return[new It(l,o,"filter array must have at least 1 element")];switch(g=g.concat(il({key:`${l}[0]`,value:o[0],valueSpec:p.filter_operator,style:c.style,styleSpec:c.styleSpec})),sa(o[0])){case"<":case"<=":case">":case">=":o.length>=2&&sa(o[1])==="$type"&&g.push(new It(l,o,`"$type" cannot be use with operator "${o[0]}"`));case"==":case"!=":o.length!==3&&g.push(new It(l,o,`filter array for operator "${o[0]}" must have 3 elements`));case"in":case"!in":o.length>=2&&(m=ki(o[1]),m!=="string"&&g.push(new It(`${l}[1]`,o[1],`string expected, ${m} found`)));for(let _=2;_<o.length;_++)m=ki(o[_]),sa(o[1])==="$type"?g=g.concat(il({key:`${l}[${_}]`,value:o[_],valueSpec:p.geometry_type,style:c.style,styleSpec:c.styleSpec})):m!=="string"&&m!=="number"&&m!=="boolean"&&g.push(new It(`${l}[${_}]`,o[_],`string, number, or boolean expected, ${m} found`));break;case"any":case"all":case"none":for(let _=1;_<o.length;_++)g=g.concat(Lf({key:`${l}[${_}]`,value:o[_],style:c.style,styleSpec:c.styleSpec}));break;case"has":case"!has":m=ki(o[1]),o.length!==2?g.push(new It(l,o,`filter array for "${o[0]}" operator must have 2 elements`)):m!=="string"&&g.push(new It(`${l}[1]`,o[1],`string expected, ${m} found`))}return g}function Af(c,o){let l=c.key,p=c.validateSpec,m=c.style,g=c.styleSpec,_=c.value,x=c.objectKey,I=g[`${o}_${c.layerType}`];if(!I)return[];let E=x.match(/^(.*)-transition$/);if(o==="paint"&&E&&I[E[1]]&&I[E[1]].transition)return p({key:l,value:_,valueSpec:g.transition,style:m,styleSpec:g});let O=c.valueSpec||I[x];if(!O)return[new It(l,_,`unknown property "${x}"`)];let V;if(ki(_)==="string"&&jl(O)&&!O.tokens&&(V=/^{([^}]+)}$/.exec(_)))return[new It(l,_,`"${x}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(V[1])} }\`.`)];let N=[];return c.layerType==="symbol"&&x==="text-font"&&wu(tl(_))&&sa(_.type)==="identity"&&N.push(new It(l,_,'"text-font" does not support identity functions')),N.concat(p({key:c.key,value:_,valueSpec:O,style:m,styleSpec:g,expressionContext:"property",propertyType:o,propertyKey:x}))}function Of(c){return Af(c,"paint")}function Ff(c){return Af(c,"layout")}function Vf(c){let o=[],l=c.value,p=c.key,m=c.style,g=c.styleSpec;if(ki(l)!=="object")return[new It(p,l,`object expected, ${ki(l)} found`)];l.type||l.ref||o.push(new It(p,l,'either "type" or "ref" is required'));let _=sa(l.type),x=sa(l.ref);if(l.id){let I=sa(l.id);for(let E=0;E<c.arrayIndex;E++){let O=m.layers[E];sa(O.id)===I&&o.push(new It(p,l.id,`duplicate layer id "${l.id}", previously used at line ${O.id.__line__}`))}}if("ref"in l){let I;["type","source","source-layer","filter","layout"].forEach(E=>{E in l&&o.push(new It(p,l[E],`"${E}" is prohibited for ref layers`))}),m.layers.forEach(E=>{sa(E.id)===x&&(I=E)}),I?I.ref?o.push(new It(p,l.ref,"ref cannot reference another ref layer")):_=sa(I.type):o.push(new It(p,l.ref,`ref layer "${x}" not found`))}else if(_!=="background")if(l.source){let I=m.sources&&m.sources[l.source],E=I&&sa(I.type);I?E==="vector"&&_==="raster"?o.push(new It(p,l.source,`layer "${l.id}" requires a raster source`)):E!=="raster-dem"&&_==="hillshade"||E!=="raster-dem"&&_==="color-relief"?o.push(new It(p,l.source,`layer "${l.id}" requires a raster-dem source`)):E==="raster"&&_!=="raster"?o.push(new It(p,l.source,`layer "${l.id}" requires a vector source`)):E!=="vector"||l["source-layer"]?E==="raster-dem"&&_!=="hillshade"&&_!=="color-relief"?o.push(new It(p,l.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):_!=="line"||!l.paint||!l.paint["line-gradient"]||E==="geojson"&&I.lineMetrics||o.push(new It(p,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):o.push(new It(p,l,`layer "${l.id}" must specify a "source-layer"`)):o.push(new It(p,l.source,`source "${l.source}" not found`))}else o.push(new It(p,l,'missing required property "source"'));return o=o.concat(Ho({key:p,value:l,valueSpec:g.layer,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,objectElementValidators:{"*":()=>[],type:()=>c.validateSpec({key:`${p}.type`,value:l.type,valueSpec:g.layer.type,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,object:l,objectKey:"type"}),filter:Ul,layout:I=>Ho({layer:l,key:I.key,value:I.value,style:I.style,styleSpec:I.styleSpec,validateSpec:I.validateSpec,objectElementValidators:{"*":E=>Ff(co({layerType:_},E))}}),paint:I=>Ho({layer:l,key:I.key,value:I.value,style:I.style,styleSpec:I.styleSpec,validateSpec:I.validateSpec,objectElementValidators:{"*":E=>Of(co({layerType:_},E))}})}})),o}function xs(c){let o=c.value,l=c.key,p=ki(o);return p!=="string"?[new It(l,o,`string expected, ${p} found`)]:[]}let Ih={promoteId:function({key:c,value:o}){if(ki(o)==="string")return xs({key:c,value:o});{let l=[];for(let p in o)l.push(...xs({key:`${c}.${p}`,value:o[p]}));return l}}};function Th(c){let o=c.value,l=c.key,p=c.styleSpec,m=c.style,g=c.validateSpec;if(!o.type)return[new It(l,o,'"type" is required')];let _=sa(o.type),x;switch(_){case"vector":case"raster":return x=Ho({key:l,value:o,valueSpec:p[`source_${_.replace("-","_")}`],style:c.style,styleSpec:p,objectElementValidators:Ih,validateSpec:g}),x;case"raster-dem":return x=function(I){var E;let O=(E=I.sourceName)!==null&&E!==void 0?E:"",V=I.value,N=I.styleSpec,q=N.source_raster_dem,G=I.style,K=[],Z=ki(V);if(V===void 0)return K;if(Z!=="object")return K.push(new It("source_raster_dem",V,`object expected, ${Z} found`)),K;let re=sa(V.encoding)==="custom",ge=["redFactor","greenFactor","blueFactor","baseShift"],ce=I.value.encoding?`"${I.value.encoding}"`:"Default";for(let pe in V)!re&&ge.includes(pe)?K.push(new It(pe,V[pe],`In "${O}": "${pe}" is only valid when "encoding" is set to "custom". ${ce} encoding found`)):q[pe]?K=K.concat(I.validateSpec({key:pe,value:V[pe],valueSpec:q[pe],validateSpec:I.validateSpec,style:G,styleSpec:N})):K.push(new It(pe,V[pe],`unknown property "${pe}"`));return K}({sourceName:l,value:o,style:c.style,styleSpec:p,validateSpec:g}),x;case"geojson":if(x=Ho({key:l,value:o,valueSpec:p.source_geojson,style:m,styleSpec:p,validateSpec:g,objectElementValidators:Ih}),o.cluster)for(let I in o.clusterProperties){let[E,O]=o.clusterProperties[I],V=typeof E=="string"?[E,["accumulated"],["get",I]]:E;x.push(...vs({key:`${l}.${I}.map`,value:O,expressionContext:"cluster-map"})),x.push(...vs({key:`${l}.${I}.reduce`,value:V,expressionContext:"cluster-reduce"}))}return x;case"video":return Ho({key:l,value:o,valueSpec:p.source_video,style:m,validateSpec:g,styleSpec:p});case"image":return Ho({key:l,value:o,valueSpec:p.source_image,style:m,validateSpec:g,styleSpec:p});case"canvas":return[new It(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return il({key:`${l}.type`,value:o.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function md(c){let o=c.value,l=c.styleSpec,p=l.light,m=c.style,g=[],_=ki(o);if(o===void 0)return g;if(_!=="object")return g=g.concat([new It("light",o,`object expected, ${_} found`)]),g;for(let x in o){let I=x.match(/^(.*)-transition$/);g=g.concat(I&&p[I[1]]&&p[I[1]].transition?c.validateSpec({key:x,value:o[x],valueSpec:l.transition,validateSpec:c.validateSpec,style:m,styleSpec:l}):p[x]?c.validateSpec({key:x,value:o[x],valueSpec:p[x],validateSpec:c.validateSpec,style:m,styleSpec:l}):[new It(x,o[x],`unknown property "${x}"`)])}return g}function zf(c){let o=c.value,l=c.styleSpec,p=l.sky,m=c.style,g=ki(o);if(o===void 0)return[];if(g!=="object")return[new It("sky",o,`object expected, ${g} found`)];let _=[];for(let x in o)_=_.concat(p[x]?c.validateSpec({key:x,value:o[x],valueSpec:p[x],style:m,styleSpec:l}):[new It(x,o[x],`unknown property "${x}"`)]);return _}function Ch(c){let o=c.value,l=c.styleSpec,p=l.terrain,m=c.style,g=[],_=ki(o);if(o===void 0)return g;if(_!=="object")return g=g.concat([new It("terrain",o,`object expected, ${_} found`)]),g;for(let x in o)g=g.concat(p[x]?c.validateSpec({key:x,value:o[x],valueSpec:p[x],validateSpec:c.validateSpec,style:m,styleSpec:l}):[new It(x,o[x],`unknown property "${x}"`)]);return g}function Sh(c){let o=[],l=c.value,p=c.key;if(Array.isArray(l)){let m=[],g=[];for(let _ in l)l[_].id&&m.includes(l[_].id)&&o.push(new It(p,l,`all the sprites' ids must be unique, but ${l[_].id} is duplicated`)),m.push(l[_].id),l[_].url&&g.includes(l[_].url)&&o.push(new It(p,l,`all the sprites' URLs must be unique, but ${l[_].url} is duplicated`)),g.push(l[_].url),o=o.concat(Ho({key:`${p}[${_}]`,value:l[_],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:c.validateSpec}));return o}return xs({key:p,value:l})}function Rf(c){return!!c&&c.constructor===Object}function Mh(c){return Rf(c.value)?[]:[new It(c.key,c.value,`object expected, ${ki(c.value)} found`)]}let kh={"*":()=>[],array:ku,boolean:function(c){let o=c.value,l=c.key,p=ki(o);return p!=="boolean"?[new It(l,o,`boolean expected, ${p} found`)]:[]},number:pd,color:hd,constants:Df,enum:il,filter:Ul,function:Eu,layer:Vf,object:Ho,source:Th,light:md,sky:zf,terrain:Ch,projection:function(c){let o=c.value,l=c.styleSpec,p=l.projection,m=c.style,g=ki(o);if(o===void 0)return[];if(g!=="object")return[new It("projection",o,`object expected, ${g} found`)];let _=[];for(let x in o)_=_.concat(p[x]?c.validateSpec({key:x,value:o[x],valueSpec:p[x],style:m,styleSpec:l}):[new It(x,o[x],`unknown property "${x}"`)]);return _},projectionDefinition:function(c){let o=c.key,l=c.value;l=l instanceof String?l.valueOf():l;let p=ki(l);return p!=="array"||function(m){return Array.isArray(m)&&m.length===3&&typeof m[0]=="string"&&typeof m[1]=="string"&&typeof m[2]=="number"}(l)||function(m){return!!["interpolate","step","literal"].includes(m[0])}(l)?["array","string"].includes(p)?[]:[new It(o,l,`projection expected, invalid type "${p}" found`)]:[new It(o,l,`projection expected, invalid array ${JSON.stringify(l)} found`)]},string:xs,formatted:function(c){return xs(c).length===0?[]:vs(c)},resolvedImage:function(c){return xs(c).length===0?[]:vs(c)},padding:function(c){let o=c.key,l=c.value;if(ki(l)==="array"){if(l.length<1||l.length>4)return[new It(o,l,`padding requires 1 to 4 values; ${l.length} values found`)];let p={type:"number"},m=[];for(let g=0;g<l.length;g++)m=m.concat(c.validateSpec({key:`${o}[${g}]`,value:l[g],validateSpec:c.validateSpec,valueSpec:p}));return m}return pd({key:o,value:l,valueSpec:{}})},numberArray:function(c){let o=c.key,l=c.value;if(ki(l)==="array"){let p={type:"number"};if(l.length<1)return[new It(o,l,"array length at least 1 expected, length 0 found")];let m=[];for(let g=0;g<l.length;g++)m=m.concat(c.validateSpec({key:`${o}[${g}]`,value:l[g],validateSpec:c.validateSpec,valueSpec:p}));return m}return pd({key:o,value:l,valueSpec:{}})},colorArray:function(c){let o=c.key,l=c.value;if(ki(l)==="array"){if(l.length<1)return[new It(o,l,"array length at least 1 expected, length 0 found")];let p=[];for(let m=0;m<l.length;m++)p=p.concat(hd({key:`${o}[${m}]`,value:l[m]}));return p}return hd({key:o,value:l})},variableAnchorOffsetCollection:function(c){let o=c.key,l=c.value,p=ki(l),m=c.styleSpec;if(p!=="array"||l.length<1||l.length%2!=0)return[new It(o,l,"variableAnchorOffsetCollection requires a non-empty array of even length")];let g=[];for(let _=0;_<l.length;_+=2)g=g.concat(il({key:`${o}[${_}]`,value:l[_],valueSpec:m.layout_symbol["text-anchor"]})),g=g.concat(ku({key:`${o}[${_+1}]`,value:l[_+1],valueSpec:{length:2,value:"number"},validateSpec:c.validateSpec,style:c.style,styleSpec:m}));return g},sprite:Sh,state:Mh,fontFaces:function(c){let o=c.key,l=c.value,p=c.validateSpec,m=c.styleSpec,g=c.style;if(!Rf(l))return[new It(o,l,`object expected, ${ki(l)} found`)];let _=[];for(let x in l){let I=l[x],E=ki(I);if(E==="string")_.push(...xs({key:`${o}.${x}`,value:I}));else if(E==="array"){let O={url:{type:"string",required:!0},"unicode-range":{type:"array",value:"string"}};for(let[V,N]of I.entries())_.push(...Ho({key:`${o}.${x}[${V}]`,value:N,valueSpec:O,styleSpec:m,style:g,validateSpec:p}))}else _.push(new It(`${o}.${x}`,I,`string or array expected, ${E} found`))}return _}};function ws(c){let o=c.value,l=c.valueSpec,p=c.styleSpec;return c.validateSpec=ws,l.expression&&wu(sa(o))?Eu(c):l.expression&&Gl(tl(o))?vs(c):l.type&&kh[l.type]?kh[l.type](c):Ho(co({},c,{valueSpec:l.type?p[l.type]:l}))}function Bf(c){let o=c.value,l=c.key,p=xs(c);return p.length||(o.indexOf("{fontstack}")===-1&&p.push(new It(l,o,'"glyphs" url must include a "{fontstack}" token')),o.indexOf("{range}")===-1&&p.push(new It(l,o,'"glyphs" url must include a "{range}" token'))),p}function Jo(c,o=Ge){let l=[];return l=l.concat(ws({key:"",value:c,valueSpec:o.$root,styleSpec:o,style:c,validateSpec:ws,objectElementValidators:{glyphs:Bf,"*":()=>[]}})),c.constants&&(l=l.concat(Df({key:"constants",value:c.constants}))),Nf(l)}function vr(c){return function(o){return c(Object.assign({},o,{validateSpec:ws}))}}function Nf(c){return[].concat(c).sort((o,l)=>o.line-l.line)}function xr(c){return function(...o){return Nf(c.apply(this,o))}}Jo.source=xr(vr(Th)),Jo.sprite=xr(vr(Sh)),Jo.glyphs=xr(vr(Bf)),Jo.light=xr(vr(md)),Jo.sky=xr(vr(zf)),Jo.terrain=xr(vr(Ch)),Jo.state=xr(vr(Mh)),Jo.layer=xr(vr(Vf)),Jo.filter=xr(vr(Ul)),Jo.paintProperty=xr(vr(Of)),Jo.layoutProperty=xr(vr(Ff));let d1={type:"enum","property-type":"data-constant",expression:{interpolated:!1,parameters:["global-state"]},values:{visible:{},none:{}},transition:!1,default:"visible"};class fd{constructor(o,l){this._globalState=l,this.setValue(o)}evaluate(){var o;return(o=this._literalValue)!==null&&o!==void 0?o:this._compiledValue.evaluate({})}setValue(o){if(o==null||o==="visible"||o==="none")return this._literalValue=o==="none"?"none":"visible",this._compiledValue=void 0,void(this._globalStateRefs=new Set);let l=ld(o,d1,this._globalState);if(l.result==="error")throw this._literalValue="visible",this._compiledValue=void 0,new Error(l.value.map(p=>`${p.key}: ${p.message}`).join(", "));this._literalValue=void 0,this._compiledValue=l.value,this._globalStateRefs=ys(l.value.expression)}getGlobalStateRefs(){return this._globalStateRefs}}let gd=Ge,Va=Jo,_d=Va.light,qf=Va.sky,u1=Va.paintProperty,p1=Va.layoutProperty;function $l(c,o){let l=!1;if(o&&o.length)for(let p of o)c.fire(new un(new Error(p.message))),l=!0;return l}class Kl{constructor(o,l,p){let m=this.cells=[];if(o instanceof ArrayBuffer){this.arrayBuffer=o;let _=new Int32Array(this.arrayBuffer);o=_[0],this.d=(l=_[1])+2*(p=_[2]);for(let I=0;I<this.d*this.d;I++){let E=_[3+I],O=_[3+I+1];m.push(E===O?null:_.subarray(E,O))}let x=_[3+m.length+1];this.keys=_.subarray(_[3+m.length],x),this.bboxes=_.subarray(x),this.insert=this._insertReadonly}else{this.d=l+2*p;for(let _=0;_<this.d*this.d;_++)m.push([]);this.keys=[],this.bboxes=[]}this.n=l,this.extent=o,this.padding=p,this.scale=l/o,this.uid=0;let g=p/l*o;this.min=-g,this.max=o+g}insert(o,l,p,m,g){this._forEachCell(l,p,m,g,this._insertCell,this.uid++,void 0,void 0),this.keys.push(o),this.bboxes.push(l),this.bboxes.push(p),this.bboxes.push(m),this.bboxes.push(g)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(o,l,p,m,g,_){this.cells[g].push(_)}query(o,l,p,m,g){let _=this.min,x=this.max;if(o<=_&&l<=_&&x<=p&&x<=m&&!g)return Array.prototype.slice.call(this.keys);{let I=[];return this._forEachCell(o,l,p,m,this._queryCell,I,{},g),I}}_queryCell(o,l,p,m,g,_,x,I){let E=this.cells[g];if(E!==null){let O=this.keys,V=this.bboxes;for(let N=0;N<E.length;N++){let q=E[N];if(x[q]===void 0){let G=4*q;(I?I(V[G+0],V[G+1],V[G+2],V[G+3]):o<=V[G+2]&&l<=V[G+3]&&p>=V[G+0]&&m>=V[G+1])?(x[q]=!0,_.push(O[q])):x[q]=!1}}}}_forEachCell(o,l,p,m,g,_,x,I){let E=this._convertToCellCoord(o),O=this._convertToCellCoord(l),V=this._convertToCellCoord(p),N=this._convertToCellCoord(m);for(let q=E;q<=V;q++)for(let G=O;G<=N;G++){let K=this.d*G+q;if((!I||I(this._convertFromCellCoord(q),this._convertFromCellCoord(G),this._convertFromCellCoord(q+1),this._convertFromCellCoord(G+1)))&&g.call(this,o,l,p,m,K,_,x,I))return}}_convertFromCellCoord(o){return(o-this.padding)/this.scale}_convertToCellCoord(o){return Math.max(0,Math.min(this.d-1,Math.floor(o*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;let o=this.cells,l=3+this.cells.length+1+1,p=0;for(let _=0;_<this.cells.length;_++)p+=this.cells[_].length;let m=new Int32Array(l+p+this.keys.length+this.bboxes.length);m[0]=this.extent,m[1]=this.n,m[2]=this.padding;let g=l;for(let _=0;_<o.length;_++){let x=o[_];m[3+_]=g,m.set(x,g),g+=x.length}return m[3+o.length]=g,m.set(this.keys,g),g+=this.keys.length,m[3+o.length+1]=g,m.set(this.bboxes,g),g+=this.bboxes.length,m.buffer}static serialize(o,l){let p=o.toArrayBuffer();return l&&l.push(p),{buffer:p}}static deserialize(o){return new Kl(o.buffer)}}let wr={};function Ht(c,o,l={}){if(wr[c])throw new Error(`${c} is already registered.`);Object.defineProperty(o,"_classRegistryKey",{value:c,writeable:!1}),wr[c]={klass:o,omit:l.omit||[],shallow:l.shallow||[]}}Ht("Object",Object),Ht("Set",Set),Ht("TransferableGridIndex",Kl),Ht("Color",Ci),Ht("Error",Error),Ht("AJAXError",Ae),Ht("ResolvedImage",qo),Ht("StylePropertyFunction",Tu),Ht("StyleExpression",yh,{omit:["_evaluator"]}),Ht("ZoomDependentExpression",vh),Ht("ZoomConstantExpression",Iu),Ht("CompoundExpression",Yo,{omit:["_evaluate"]});for(let c in ql)ql[c]._classRegistryKey||Ht(`Expression_${c}`,ql[c]);function Pu(c){return c&&typeof ArrayBuffer<"u"&&(c instanceof ArrayBuffer||c.constructor&&c.constructor.name==="ArrayBuffer")}function Eh(c){return c.$name||c.constructor._classRegistryKey}function Wl(c){return!function(o){if(o===null||typeof o!="object")return!1;let l=Eh(o);return!(!l||l==="Object")}(c)&&(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob||c instanceof Error||Pu(c)||hs(c)||ArrayBuffer.isView(c)||c instanceof ImageData)}function bd(c,o){if(Wl(c))return(Pu(c)||hs(c))&&o&&o.push(c),ArrayBuffer.isView(c)&&o&&o.push(c.buffer),c instanceof ImageData&&o&&o.push(c.data.buffer),c;if(Array.isArray(c)){let g=[];for(let _ of c)g.push(bd(_,o));return g}if(typeof c!="object")throw new Error("can't serialize object of type "+typeof c);let l=Eh(c);if(!l)throw new Error(`can't serialize object of unregistered class ${c.constructor.name}`);if(!wr[l])throw new Error(`${l} is not registered.`);let{klass:p}=wr[l],m=p.serialize?p.serialize(c,o):{};if(p.serialize){if(o&&m===o[o.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(let g in c){if(!c.hasOwnProperty(g)||wr[l].omit.indexOf(g)>=0)continue;let _=c[g];m[g]=wr[l].shallow.indexOf(g)>=0?_:bd(_,o)}c instanceof Error&&(m.message=c.message)}if(m.$name)throw new Error("$name property is reserved for worker serialization logic.");return l!=="Object"&&(m.$name=l),m}function yd(c){if(Wl(c))return c;if(Array.isArray(c))return c.map(yd);if(typeof c!="object")throw new Error("can't deserialize object of type "+typeof c);let o=Eh(c)||"Object";if(!wr[o])throw new Error(`can't deserialize unregistered class ${o}`);let{klass:l}=wr[o];if(!l)throw new Error(`can't deserialize unregistered class ${o}`);if(l.deserialize)return l.deserialize(c);let p=Object.create(l.prototype);for(let m of Object.keys(c)){if(m==="$name")continue;let g=c[m];p[m]=wr[o].shallow.indexOf(m)>=0?g:yd(g)}return p}class Ph{constructor(){this.first=!0}update(o,l){let p=Math.floor(o);return this.first?(this.first=!1,this.lastIntegerZoom=p,this.lastIntegerZoomTime=0,this.lastZoom=o,this.lastFloorZoom=p,!0):(this.lastFloorZoom>p?(this.lastIntegerZoom=p+1,this.lastIntegerZoomTime=l):this.lastFloorZoom<p&&(this.lastIntegerZoom=p,this.lastIntegerZoomTime=l),o!==this.lastZoom&&(this.lastZoom=o,this.lastFloorZoom=p,!0))}}function vd(c){return/[\u02EA\u02EB\u2E80-\u2FDF\u2FF0-\u303F\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FD-\u30FF\u3105-\u312F\u31A0-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE4F\uFF00-\uFFEF]|\uD81B[\uDFE0-\uDFFF]|[\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFFF]|\uD82C[\uDC00-\uDEFB]|\uD83C[\uDE00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(c))}function Dh(c){return/[\u02EA\u02EB\u1100-\u11FF\u1400-\u167F\u18B0-\u18F5\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u3007\u3012\u3013\u3020-\u302F\u3031-\u303F\u3041-\u3096\u309D-\u30FB\u30FD-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE48\uFE50-\uFE57\uFE5F-\uFE62\uFE67-\uFE6F\uFF00-\uFF07\uFF0A-\uFF0C\uFF0E-\uFF19\uFF1F-\uFF3A\uFF3C\uFF3E\uFF40-\uFF5A\uFFE0-\uFFE2\uFFE4-\uFFE7]|\uD802[\uDD80-\uDD9F]|\uD805[\uDD80-\uDDFF]|\uD806[\uDE00-\uDEBF]|\uD811[\uDC00-\uDE7F]|\uD81B[\uDFE0-\uDFE4\uDFF0-\uDFF6]|[\uD81C-\uD822\uD83D\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD30-\uDEFB]|\uD833[\uDEC0-\uDFCF]|\uD834[\uDC00-\uDDFF\uDEE0-\uDF7F]|\uD836[\uDC00-\uDEAF]|\uD83C[\uDC00-\uDE00\uDF00-\uDFFF]|\uD83E[\uDD00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(c))}function Hf(c){return/\s/u.test(String.fromCodePoint(c))}function Zl(c){for(let o of c)if(Dh(o.codePointAt(0)))return!0;return!1}function h1(c){for(let o of c)if(!jf(o.codePointAt(0)))return!1;return!0}function Du(c){let o=c.map(l=>{try{return new RegExp(`\\p{sc=${l}}`,"u").source}catch{return null}}).filter(l=>l);return new RegExp(o.join("|"),"u")}let Lu=Du(["Arab","Dupl","Mong","Ougr","Syrc"]);function jf(c){return!Lu.test(String.fromCodePoint(c))}function Lh(c){return!(Dh(c)||(o=c,/[\xA7\xA9\xAE\xB1\xBC-\xBE\xD7\xF7\u2016\u2020\u2021\u2030\u2031\u203B\u203C\u2042\u2047-\u2049\u2051\u2100-\u218F\u221E\u2234\u2235\u2300-\u2307\u230C-\u231F\u2324-\u2328\u232B\u237D-\u239A\u23BE-\u23CD\u23CF\u23D1-\u23DB\u23E2-\u2422\u2424-\u24FF\u25A0-\u2619\u2620-\u2767\u2776-\u2793\u2B12-\u2B2F\u2B50-\u2B59\u2BB8-\u2BEB\u3000-\u303F\u30A0-\u30FF\uE000-\uF8FF\uFE30-\uFE6F\uFF00-\uFFEF\uFFFC\uFFFD]|[\uDB80-\uDBFF][\uDC00-\uDFFF]/gim.test(String.fromCodePoint(o))));var o}let Gf=Du(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function Ah(c){return Gf.test(String.fromCodePoint(c))}function Oh(c,o){return!(!o&&Ah(c)||/[\u0900-\u0DFF\u0F00-\u109F\u1780-\u17FF]/gim.test(String.fromCodePoint(c)))}function Uf(c){for(let o of c)if(Ah(o.codePointAt(0)))return!0;return!1}let Is=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(c){this.pluginStatus=c.pluginStatus,this.pluginURL=c.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(c){if(Is.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=c.applyArabicShaping,this.processBidirectionalText=c.processBidirectionalText,this.processStyledBidirectionalText=c.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(c,o){return a(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if(c.pluginStatus!=="loading")return this.setState(c),c;let l=c.pluginURL,p=new Promise(g=>{this.loadScriptResolve=g});o(l);let m=new Promise(g=>setTimeout(()=>g(),this.TIMEOUT));if(yield Promise.race([p,m]),this.isParsed()){let g={pluginStatus:"loaded",pluginURL:l};return this.setState(g),g}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${l}`)})}};class pn{constructor(o,l){this.isSupportedScript=m1,this.zoom=o,l?(this.now=l.now||0,this.fadeDuration=l.fadeDuration||0,this.zoomHistory=l.zoomHistory||new Ph,this.transition=l.transition||{}):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ph,this.transition={})}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){let o=this.zoom,l=o-Math.floor(o),p=this.crossFadingFactor();return o>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:l+(1-l)*p}:{fromScale:.5,toScale:1,t:1-(1-p)*l}}}function m1(c){return function(o,l){for(let p of o)if(!Oh(p.codePointAt(0),l))return!1;return!0}(c,Is.getRTLTextPluginStatus()==="loaded")}let xd="-transition";class Au{constructor(o,l,p){this.property=o,this.value=l,this.expression=function(m,g,_){if(wu(m))return new Tu(m,g);if(Gl(m)){let x=xh(m,g,_);if(x.result==="error")throw new Error(x.value.map(I=>`${I.key}: ${I.message}`).join(", "));return x.value}{let x=m;return g.type==="color"&&typeof m=="string"?x=Ci.parse(m):g.type!=="padding"||typeof m!="number"&&!Array.isArray(m)?g.type!=="numberArray"||typeof m!="number"&&!Array.isArray(m)?g.type!=="colorArray"||typeof m!="string"&&!Array.isArray(m)?g.type==="variableAnchorOffsetCollection"&&Array.isArray(m)?x=ho.parse(m):g.type==="projectionDefinition"&&typeof m=="string"&&(x=mo.parse(m)):x=pi.parse(m):x=zn.parse(m):x=Ya.parse(m),{globalStateRefs:new Set,_globalState:null,kind:"constant",evaluate:()=>x}}}(l===void 0?o.specification.default:l,o.specification,p)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}getGlobalStateRefs(){return this.expression.globalStateRefs||new Set}possiblyEvaluate(o,l,p){return this.property.possiblyEvaluate(this,o,l,p)}}class Ou{constructor(o,l){this.property=o,this.value=new Au(o,void 0,l)}transitioned(o,l){return new $f(this.property,this.value,l,$n({},o.transition,this.transition),o.now)}untransitioned(){return new $f(this.property,this.value,null,{},0)}}class Fh{constructor(o,l){this._properties=o,this._values=Object.create(o.defaultTransitionablePropertyValues),this._globalState=l}getValue(o){return gr(this._values[o].value.value)}setValue(o,l){Object.prototype.hasOwnProperty.call(this._values,o)||(this._values[o]=new Ou(this._values[o].property,this._globalState)),this._values[o].value=new Au(this._values[o].property,l===null?void 0:gr(l),this._globalState)}getTransition(o){return gr(this._values[o].transition)}setTransition(o,l){Object.prototype.hasOwnProperty.call(this._values,o)||(this._values[o]=new Ou(this._values[o].property,this._globalState)),this._values[o].transition=gr(l)||void 0}serialize(){let o={};for(let l of Object.keys(this._values)){let p=this.getValue(l);p!==void 0&&(o[l]=p);let m=this.getTransition(l);m!==void 0&&(o[`${l}${xd}`]=m)}return o}transitioned(o,l){let p=new Kf(this._properties);for(let m of Object.keys(this._values))p._values[m]=this._values[m].transitioned(o,l._values[m]);return p}untransitioned(){let o=new Kf(this._properties);for(let l of Object.keys(this._values))o._values[l]=this._values[l].untransitioned();return o}}class $f{constructor(o,l,p,m,g){this.property=o,this.value=l,this.begin=g+m.delay||0,this.end=this.begin+m.duration||0,o.specification.transition&&(m.delay||m.duration)&&(this.prior=p)}possiblyEvaluate(o,l,p){let m=o.now||0,g=this.value.possiblyEvaluate(o,l,p),_=this.prior;if(_){if(m>this.end)return this.prior=null,g;if(this.value.isDataDriven())return this.prior=null,g;if(m<this.begin)return _.possiblyEvaluate(o,l,p);{let x=(m-this.begin)/(this.end-this.begin);return this.property.interpolate(_.possiblyEvaluate(o,l,p),g,Or(x))}}return g}}class Kf{constructor(o){this._properties=o,this._values=Object.create(o.defaultTransitioningPropertyValues)}possiblyEvaluate(o,l,p){let m=new wd(this._properties);for(let g of Object.keys(this._values))m._values[g]=this._values[g].possiblyEvaluate(o,l,p);return m}hasTransition(){for(let o of Object.keys(this._values))if(this._values[o].prior)return!0;return!1}}class Wf{constructor(o,l){this._properties=o,this._values=Object.create(o.defaultPropertyValues),this._globalState=l}hasValue(o){return this._values[o].value!==void 0}getValue(o){return gr(this._values[o].value)}setValue(o,l){this._values[o]=new Au(this._values[o].property,l===null?void 0:gr(l),this._globalState)}serialize(){let o={};for(let l of Object.keys(this._values)){let p=this.getValue(l);p!==void 0&&(o[l]=p)}return o}possiblyEvaluate(o,l,p){let m=new wd(this._properties);for(let g of Object.keys(this._values))m._values[g]=this._values[g].possiblyEvaluate(o,l,p);return m}}class Ir{constructor(o,l,p){this.property=o,this.value=l,this.parameters=p}isConstant(){return this.value.kind==="constant"}constantOr(o){return this.value.kind==="constant"?this.value.value:o}evaluate(o,l,p,m){return this.property.evaluate(this.value,this.parameters,o,l,p,m)}}class wd{constructor(o){this._properties=o,this._values=Object.create(o.defaultPossiblyEvaluatedValues)}get(o){return this._values[o]}}class Xt{constructor(o){this.specification=o}possiblyEvaluate(o,l){if(o.isDataDriven())throw new Error("Value should not be data driven");return o.expression.evaluate(l)}interpolate(o,l,p){let m=Dn[this.specification.type];return m?m(o,l,p):o}}class ai{constructor(o,l){this.specification=o,this.overrides=l}possiblyEvaluate(o,l,p,m){return new Ir(this,o.expression.kind==="constant"||o.expression.kind==="camera"?{kind:"constant",value:o.expression.evaluate(l,null,{},p,m)}:o.expression,l)}interpolate(o,l,p){if(o.value.kind!=="constant"||l.value.kind!=="constant")return o;if(o.value.value===void 0||l.value.value===void 0)return new Ir(this,{kind:"constant",value:void 0},o.parameters);let m=Dn[this.specification.type];if(m){let g=m(o.value.value,l.value.value,p);return new Ir(this,{kind:"constant",value:g},o.parameters)}return o}evaluate(o,l,p,m,g,_){return o.kind==="constant"?o.value:o.evaluate(l,p,m,g,_)}}class Id extends ai{possiblyEvaluate(o,l,p,m){if(o.value===void 0)return new Ir(this,{kind:"constant",value:void 0},l);if(o.expression.kind==="constant"){let g=o.expression.evaluate(l,null,{},p,m),_=o.property.specification.type==="resolvedImage"&&typeof g!="string"?g.name:g,x=this._calculate(_,_,_,l);return new Ir(this,{kind:"constant",value:x},l)}if(o.expression.kind==="camera"){let g=this._calculate(o.expression.evaluate({zoom:l.zoom-1}),o.expression.evaluate({zoom:l.zoom}),o.expression.evaluate({zoom:l.zoom+1}),l);return new Ir(this,{kind:"constant",value:g},l)}return new Ir(this,o.expression,l)}evaluate(o,l,p,m,g,_){if(o.kind==="source"){let x=o.evaluate(l,p,m,g,_);return this._calculate(x,x,x,l)}return o.kind==="composite"?this._calculate(o.evaluate({zoom:Math.floor(l.zoom)-1},p,m),o.evaluate({zoom:Math.floor(l.zoom)},p,m),o.evaluate({zoom:Math.floor(l.zoom)+1},p,m),l):o.value}_calculate(o,l,p,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:o,to:l}:{from:p,to:l}}interpolate(o){return o}}class Fu{constructor(o){this.specification=o}possiblyEvaluate(o,l,p,m){if(o.value!==void 0){if(o.expression.kind==="constant"){let g=o.expression.evaluate(l,null,{},p,m);return this._calculate(g,g,g,l)}return this._calculate(o.expression.evaluate(new pn(Math.floor(l.zoom-1),l)),o.expression.evaluate(new pn(Math.floor(l.zoom),l)),o.expression.evaluate(new pn(Math.floor(l.zoom+1),l)),l)}}_calculate(o,l,p,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:o,to:l}:{from:p,to:l}}interpolate(o){return o}}class Vu{constructor(o){this.specification=o}possiblyEvaluate(o,l,p,m){return!!o.expression.evaluate(l,null,{},p,m)}interpolate(){return!1}}class go{constructor(o){this.properties=o,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(let l in o){let p=o[l];p.specification.overridable&&this.overridableProperties.push(l);let m=this.defaultPropertyValues[l]=new Au(p,void 0,void 0),g=this.defaultTransitionablePropertyValues[l]=new Ou(p,void 0);this.defaultTransitioningPropertyValues[l]=g.untransitioned(),this.defaultPossiblyEvaluatedValues[l]=m.possiblyEvaluate({})}}}Ht("DataDrivenProperty",ai),Ht("DataConstantProperty",Xt),Ht("CrossFadedDataDrivenProperty",Id),Ht("CrossFadedProperty",Fu),Ht("ColorRampProperty",Vu);class er extends Xi{constructor(o,l,p){if(super(),this.id=o.id,this.type=o.type,this._globalState=p,this._featureFilter={filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set},o.type!=="custom"&&(this.metadata=o.metadata,this.minzoom=o.minzoom,this.maxzoom=o.maxzoom,this._visibilityExpression=function(m,g){return new fd(m,g)}(this.visibility,p),o.type!=="background"&&(this.source=o.source,this.sourceLayer=o["source-layer"],this.filter=o.filter,this._featureFilter=cd(o.filter,p)),l.layout&&(this._unevaluatedLayout=new Wf(l.layout,p)),l.paint)){this._transitionablePaint=new Fh(l.paint,p);for(let m in o.paint)this.setPaintProperty(m,o.paint[m],{validate:!1});for(let m in o.layout)this.setLayoutProperty(m,o.layout[m],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new wd(l.paint)}}setFilter(o){this.filter=o,this._featureFilter=cd(o,this._globalState)}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(o){return o==="visibility"?this.visibility:this._unevaluatedLayout.getValue(o)}getLayoutAffectingGlobalStateRefs(){let o=new Set;for(let l of this._visibilityExpression.getGlobalStateRefs())o.add(l);if(this._unevaluatedLayout)for(let l in this._unevaluatedLayout._values){let p=this._unevaluatedLayout._values[l];for(let m of p.getGlobalStateRefs())o.add(m)}for(let l of this._featureFilter.getGlobalStateRefs())o.add(l);return o}getPaintAffectingGlobalStateRefs(){var o;let l=new globalThis.Map;if(this._transitionablePaint)for(let p in this._transitionablePaint._values){let m=this._transitionablePaint._values[p].value;for(let g of m.getGlobalStateRefs()){let _=(o=l.get(g))!==null&&o!==void 0?o:[];_.push({name:p,value:m.value}),l.set(g,_)}}return l}getVisibilityAffectingGlobalStateRefs(){return this._visibilityExpression.getGlobalStateRefs()}setLayoutProperty(o,l,p={}){if(l==null||!this._validate(p1,`layers.${this.id}.layout.${o}`,o,l,p))return o==="visibility"?(this.visibility=l,this._visibilityExpression.setValue(l),void this.recalculateVisibility()):void this._unevaluatedLayout.setValue(o,l)}getPaintProperty(o){return o.endsWith(xd)?this._transitionablePaint.getTransition(o.slice(0,-11)):this._transitionablePaint.getValue(o)}setPaintProperty(o,l,p={}){if(l!=null&&this._validate(u1,`layers.${this.id}.paint.${o}`,o,l,p))return!1;if(o.endsWith(xd))return this._transitionablePaint.setTransition(o.slice(0,-11),l||void 0),!1;{let m=this._transitionablePaint._values[o],g=m.property.specification["property-type"]==="cross-faded-data-driven",_=m.value.isDataDriven(),x=m.value;this._transitionablePaint.setValue(o,l),this._handleSpecialPaintPropertyUpdate(o);let I=this._transitionablePaint._values[o].value;return I.isDataDriven()||_||g||this._handleOverridablePaintPropertyUpdate(o,x,I)}}_handleSpecialPaintPropertyUpdate(o){}_handleOverridablePaintPropertyUpdate(o,l,p){return!1}isHidden(o=this.minzoom,l=!1){return!!(this.minzoom&&o<(l?Math.floor(this.minzoom):this.minzoom))||!!(this.maxzoom&&o>=this.maxzoom)||this._evaluatedVisibility==="none"}updateTransitions(o){this._transitioningPaint=this._transitionablePaint.transitioned(o,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculateVisibility(){this._evaluatedVisibility=this._visibilityExpression.evaluate()}recalculate(o,l){o.getCrossfadeParameters&&(this._crossfadeParameters=o.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(o,void 0,l)),this.paint=this._transitioningPaint.possiblyEvaluate(o,void 0,l)}serialize(){let o={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(o.layout=o.layout||{},o.layout.visibility=this.visibility),qc(o,(l,p)=>!(l===void 0||p==="layout"&&!Object.keys(l).length||p==="paint"&&!Object.keys(l).length))}_validate(o,l,p,m,g={}){return(!g||g.validate!==!1)&&$l(this,o.call(Va,{key:l,layerType:this.type,objectKey:p,value:m,styleSpec:Ge,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(let o in this.paint._values){let l=this.paint.get(o);if(l instanceof Ir&&jl(l.property.specification)&&(l.value.kind==="source"||l.value.kind==="composite")&&l.value.isStateDependent)return!0}return!1}}let Vh;var Zf={get paint(){return Vh=Vh||new go({"raster-opacity":new Xt(Ge.paint_raster["raster-opacity"]),"raster-hue-rotate":new Xt(Ge.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Xt(Ge.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Xt(Ge.paint_raster["raster-brightness-max"]),"raster-saturation":new Xt(Ge.paint_raster["raster-saturation"]),"raster-contrast":new Xt(Ge.paint_raster["raster-contrast"]),"raster-resampling":new Xt(Ge.paint_raster["raster-resampling"]),"raster-fade-duration":new Xt(Ge.paint_raster["raster-fade-duration"])})}};class f1 extends er{constructor(o,l){super(o,Zf,l)}}let g1={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Td{constructor(o,l){this._structArray=o,this._pos1=l*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Rn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(o,l){return o._trim(),l&&(o.isTransferred=!0,l.push(o.arrayBuffer)),{length:o.length,arrayBuffer:o.arrayBuffer}}static deserialize(o){let l=Object.create(this.prototype);return l.arrayBuffer=o.arrayBuffer,l.length=o.length,l.capacity=o.arrayBuffer.byteLength/l.bytesPerElement,l._refreshViews(),l}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(o){this.reserve(o),this.length=o}reserve(o){if(o>this.capacity){this.capacity=Math.max(o,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);let l=this.uint8;this._refreshViews(),l&&this.uint8.set(l)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function la(c,o=1){let l=0,p=0;return{members:c.map(m=>{let g=g1[m.type].BYTES_PER_ELEMENT,_=l=nl(l,Math.max(o,g)),x=m.components||1;return p=Math.max(p,g),l+=g*x,{name:m.name,type:m.type,components:x,offset:_}}),size:nl(l,Math.max(p,o)),alignment:o}}function nl(c,o){return Math.ceil(c/o)*o}class Cd extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l){let p=this.length;return this.resize(p+1),this.emplace(p,o,l)}emplace(o,l,p){let m=2*o;return this.int16[m+0]=l,this.int16[m+1]=p,o}}Cd.prototype.bytesPerElement=4,Ht("StructArrayLayout2i4",Cd);class zu extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,p){let m=this.length;return this.resize(m+1),this.emplace(m,o,l,p)}emplace(o,l,p,m){let g=3*o;return this.int16[g+0]=l,this.int16[g+1]=p,this.int16[g+2]=m,o}}zu.prototype.bytesPerElement=6,Ht("StructArrayLayout3i6",zu);class zh extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,p,m){let g=this.length;return this.resize(g+1),this.emplace(g,o,l,p,m)}emplace(o,l,p,m,g){let _=4*o;return this.int16[_+0]=l,this.int16[_+1]=p,this.int16[_+2]=m,this.int16[_+3]=g,o}}zh.prototype.bytesPerElement=8,Ht("StructArrayLayout4i8",zh);class Ru extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,p,m,g,_){let x=this.length;return this.resize(x+1),this.emplace(x,o,l,p,m,g,_)}emplace(o,l,p,m,g,_,x){let I=6*o;return this.int16[I+0]=l,this.int16[I+1]=p,this.int16[I+2]=m,this.int16[I+3]=g,this.int16[I+4]=_,this.int16[I+5]=x,o}}Ru.prototype.bytesPerElement=12,Ht("StructArrayLayout2i4i12",Ru);class Rh extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,p,m,g,_){let x=this.length;return this.resize(x+1),this.emplace(x,o,l,p,m,g,_)}emplace(o,l,p,m,g,_,x){let I=4*o,E=8*o;return this.int16[I+0]=l,this.int16[I+1]=p,this.uint8[E+4]=m,this.uint8[E+5]=g,this.uint8[E+6]=_,this.uint8[E+7]=x,o}}Rh.prototype.bytesPerElement=8,Ht("StructArrayLayout2i4ub8",Rh);class Sd extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l){let p=this.length;return this.resize(p+1),this.emplace(p,o,l)}emplace(o,l,p){let m=2*o;return this.float32[m+0]=l,this.float32[m+1]=p,o}}Sd.prototype.bytesPerElement=8,Ht("StructArrayLayout2f8",Sd);class Yr extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,p,m,g,_,x,I,E,O){let V=this.length;return this.resize(V+1),this.emplace(V,o,l,p,m,g,_,x,I,E,O)}emplace(o,l,p,m,g,_,x,I,E,O,V){let N=10*o;return this.uint16[N+0]=l,this.uint16[N+1]=p,this.uint16[N+2]=m,this.uint16[N+3]=g,this.uint16[N+4]=_,this.uint16[N+5]=x,this.uint16[N+6]=I,this.uint16[N+7]=E,this.uint16[N+8]=O,this.uint16[N+9]=V,o}}Yr.prototype.bytesPerElement=20,Ht("StructArrayLayout10ui20",Yr);class Bu extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,p,m,g,_,x,I){let E=this.length;return this.resize(E+1),this.emplace(E,o,l,p,m,g,_,x,I)}emplace(o,l,p,m,g,_,x,I,E){let O=8*o;return this.uint16[O+0]=l,this.uint16[O+1]=p,this.uint16[O+2]=m,this.uint16[O+3]=g,this.uint16[O+4]=_,this.uint16[O+5]=x,this.uint16[O+6]=I,this.uint16[O+7]=E,o}}Bu.prototype.bytesPerElement=16,Ht("StructArrayLayout8ui16",Bu);class Md extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,p,m,g,_,x,I,E,O,V,N){let q=this.length;return this.resize(q+1),this.emplace(q,o,l,p,m,g,_,x,I,E,O,V,N)}emplace(o,l,p,m,g,_,x,I,E,O,V,N,q){let G=12*o;return this.int16[G+0]=l,this.int16[G+1]=p,this.int16[G+2]=m,this.int16[G+3]=g,this.uint16[G+4]=_,this.uint16[G+5]=x,this.uint16[G+6]=I,this.uint16[G+7]=E,this.int16[G+8]=O,this.int16[G+9]=V,this.int16[G+10]=N,this.int16[G+11]=q,o}}Md.prototype.bytesPerElement=24,Ht("StructArrayLayout4i4ui4i24",Md);class Nu extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,p){let m=this.length;return this.resize(m+1),this.emplace(m,o,l,p)}emplace(o,l,p,m){let g=3*o;return this.float32[g+0]=l,this.float32[g+1]=p,this.float32[g+2]=m,o}}Nu.prototype.bytesPerElement=12,Ht("StructArrayLayout3f12",Nu);class kd extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o){let l=this.length;return this.resize(l+1),this.emplace(l,o)}emplace(o,l){return this.uint32[1*o+0]=l,o}}kd.prototype.bytesPerElement=4,Ht("StructArrayLayout1ul4",kd);class Bh extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,p,m,g,_,x,I,E){let O=this.length;return this.resize(O+1),this.emplace(O,o,l,p,m,g,_,x,I,E)}emplace(o,l,p,m,g,_,x,I,E,O){let V=10*o,N=5*o;return this.int16[V+0]=l,this.int16[V+1]=p,this.int16[V+2]=m,this.int16[V+3]=g,this.int16[V+4]=_,this.int16[V+5]=x,this.uint32[N+3]=I,this.uint16[V+8]=E,this.uint16[V+9]=O,o}}Bh.prototype.bytesPerElement=20,Ht("StructArrayLayout6i1ul2ui20",Bh);class Ql extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,p,m,g,_){let x=this.length;return this.resize(x+1),this.emplace(x,o,l,p,m,g,_)}emplace(o,l,p,m,g,_,x){let I=6*o;return this.int16[I+0]=l,this.int16[I+1]=p,this.int16[I+2]=m,this.int16[I+3]=g,this.int16[I+4]=_,this.int16[I+5]=x,o}}Ql.prototype.bytesPerElement=12,Ht("StructArrayLayout2i2i2i12",Ql);class al extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,p,m,g){let _=this.length;return this.resize(_+1),this.emplace(_,o,l,p,m,g)}emplace(o,l,p,m,g,_){let x=4*o,I=8*o;return this.float32[x+0]=l,this.float32[x+1]=p,this.float32[x+2]=m,this.int16[I+6]=g,this.int16[I+7]=_,o}}al.prototype.bytesPerElement=16,Ht("StructArrayLayout2f1f2i16",al);class Nh extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,p,m,g,_){let x=this.length;return this.resize(x+1),this.emplace(x,o,l,p,m,g,_)}emplace(o,l,p,m,g,_,x){let I=16*o,E=4*o,O=8*o;return this.uint8[I+0]=l,this.uint8[I+1]=p,this.float32[E+1]=m,this.float32[E+2]=g,this.int16[O+6]=_,this.int16[O+7]=x,o}}Nh.prototype.bytesPerElement=16,Ht("StructArrayLayout2ub2f2i16",Nh);class Ed extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,p){let m=this.length;return this.resize(m+1),this.emplace(m,o,l,p)}emplace(o,l,p,m){let g=3*o;return this.uint16[g+0]=l,this.uint16[g+1]=p,this.uint16[g+2]=m,o}}Ed.prototype.bytesPerElement=6,Ht("StructArrayLayout3ui6",Ed);class ol extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,p,m,g,_,x,I,E,O,V,N,q,G,K,Z,re){let ge=this.length;return this.resize(ge+1),this.emplace(ge,o,l,p,m,g,_,x,I,E,O,V,N,q,G,K,Z,re)}emplace(o,l,p,m,g,_,x,I,E,O,V,N,q,G,K,Z,re,ge){let ce=24*o,pe=12*o,ve=48*o;return this.int16[ce+0]=l,this.int16[ce+1]=p,this.uint16[ce+2]=m,this.uint16[ce+3]=g,this.uint32[pe+2]=_,this.uint32[pe+3]=x,this.uint32[pe+4]=I,this.uint16[ce+10]=E,this.uint16[ce+11]=O,this.uint16[ce+12]=V,this.float32[pe+7]=N,this.float32[pe+8]=q,this.uint8[ve+36]=G,this.uint8[ve+37]=K,this.uint8[ve+38]=Z,this.uint32[pe+10]=re,this.int16[ce+22]=ge,o}}ol.prototype.bytesPerElement=48,Ht("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",ol);class qh extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,p,m,g,_,x,I,E,O,V,N,q,G,K,Z,re,ge,ce,pe,ve,Ce,Re,rt,tt,dt,St,ht){let it=this.length;return this.resize(it+1),this.emplace(it,o,l,p,m,g,_,x,I,E,O,V,N,q,G,K,Z,re,ge,ce,pe,ve,Ce,Re,rt,tt,dt,St,ht)}emplace(o,l,p,m,g,_,x,I,E,O,V,N,q,G,K,Z,re,ge,ce,pe,ve,Ce,Re,rt,tt,dt,St,ht,it){let Qe=32*o,Nt=16*o;return this.int16[Qe+0]=l,this.int16[Qe+1]=p,this.int16[Qe+2]=m,this.int16[Qe+3]=g,this.int16[Qe+4]=_,this.int16[Qe+5]=x,this.int16[Qe+6]=I,this.int16[Qe+7]=E,this.uint16[Qe+8]=O,this.uint16[Qe+9]=V,this.uint16[Qe+10]=N,this.uint16[Qe+11]=q,this.uint16[Qe+12]=G,this.uint16[Qe+13]=K,this.uint16[Qe+14]=Z,this.uint16[Qe+15]=re,this.uint16[Qe+16]=ge,this.uint16[Qe+17]=ce,this.uint16[Qe+18]=pe,this.uint16[Qe+19]=ve,this.uint16[Qe+20]=Ce,this.uint16[Qe+21]=Re,this.uint16[Qe+22]=rt,this.uint32[Nt+12]=tt,this.float32[Nt+13]=dt,this.float32[Nt+14]=St,this.uint16[Qe+30]=ht,this.uint16[Qe+31]=it,o}}qh.prototype.bytesPerElement=64,Ht("StructArrayLayout8i15ui1ul2f2ui64",qh);class qu extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o){let l=this.length;return this.resize(l+1),this.emplace(l,o)}emplace(o,l){return this.float32[1*o+0]=l,o}}qu.prototype.bytesPerElement=4,Ht("StructArrayLayout1f4",qu);class Hu extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,p){let m=this.length;return this.resize(m+1),this.emplace(m,o,l,p)}emplace(o,l,p,m){let g=3*o;return this.uint16[6*o+0]=l,this.float32[g+1]=p,this.float32[g+2]=m,o}}Hu.prototype.bytesPerElement=12,Ht("StructArrayLayout1ui2f12",Hu);class Hh extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,p){let m=this.length;return this.resize(m+1),this.emplace(m,o,l,p)}emplace(o,l,p,m){let g=4*o;return this.uint32[2*o+0]=l,this.uint16[g+2]=p,this.uint16[g+3]=m,o}}Hh.prototype.bytesPerElement=8,Ht("StructArrayLayout1ul2ui8",Hh);class y extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l){let p=this.length;return this.resize(p+1),this.emplace(p,o,l)}emplace(o,l,p){let m=2*o;return this.uint16[m+0]=l,this.uint16[m+1]=p,o}}y.prototype.bytesPerElement=4,Ht("StructArrayLayout2ui4",y);class r extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o){let l=this.length;return this.resize(l+1),this.emplace(l,o)}emplace(o,l){return this.uint16[1*o+0]=l,o}}r.prototype.bytesPerElement=2,Ht("StructArrayLayout1ui2",r);class d extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,p,m){let g=this.length;return this.resize(g+1),this.emplace(g,o,l,p,m)}emplace(o,l,p,m,g){let _=4*o;return this.float32[_+0]=l,this.float32[_+1]=p,this.float32[_+2]=m,this.float32[_+3]=g,o}}d.prototype.bytesPerElement=16,Ht("StructArrayLayout4f16",d);class h extends Td{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new u(this.anchorPointX,this.anchorPointY)}}h.prototype.size=20;class f extends Bh{get(o){return new h(this,o)}}Ht("CollisionBoxArray",f);class v extends Td{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(o){this._structArray.uint8[this._pos1+37]=o}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(o){this._structArray.uint8[this._pos1+38]=o}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(o){this._structArray.uint32[this._pos4+10]=o}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}v.prototype.size=48;class w extends ol{get(o){return new v(this,o)}}Ht("PlacedSymbolArray",w);class k extends Td{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(o){this._structArray.uint32[this._pos4+12]=o}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}k.prototype.size=64;class P extends qh{get(o){return new k(this,o)}}Ht("SymbolInstanceArray",P);class F extends qu{getoffsetX(o){return this.float32[1*o+0]}}Ht("GlyphOffsetArray",F);class B extends zu{getx(o){return this.int16[3*o+0]}gety(o){return this.int16[3*o+1]}gettileUnitDistanceFromAnchor(o){return this.int16[3*o+2]}}Ht("SymbolLineVertexArray",B);class j extends Td{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}j.prototype.size=12;class H extends Hu{get(o){return new j(this,o)}}Ht("TextAnchorOffsetArray",H);class W extends Td{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}W.prototype.size=8;class ne extends Hh{get(o){return new W(this,o)}}Ht("FeatureIndexArray",ne);class he extends Cd{}class fe extends Cd{}class me extends Cd{}class be extends Ru{}class Me extends Rh{}class _e extends Sd{}class Se extends Yr{}class Pe extends Bu{}class Ie extends Md{}class Oe extends Nu{}class Ye extends kd{}class je extends Ql{}class Ue extends Nh{}class $e extends Ed{}class Tt extends y{}let Ct=la([{name:"a_pos",components:2,type:"Int16"}],4),{members:pt}=Ct;class kt{constructor(o=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=o}prepareSegment(o,l,p,m){let g=this.segments[this.segments.length-1];return o>kt.MAX_VERTEX_ARRAY_LENGTH&&Fa(`Max vertices per segment is ${kt.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${o}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${kt.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!g||g.vertexLength+o>kt.MAX_VERTEX_ARRAY_LENGTH||g.sortKey!==m?this.createNewSegment(l,p,m):g}createNewSegment(o,l,p){let m={vertexOffset:o.length,primitiveOffset:l.length,vertexLength:0,primitiveLength:0,vaos:{}};return p!==void 0&&(m.sortKey=p),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(m),m}getOrCreateLatestSegment(o,l,p){return this.prepareSegment(0,o,l,p)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(let o of this.segments)for(let l in o.vaos)o.vaos[l].destroy()}static simpleSegment(o,l,p,m){return new kt([{vertexOffset:o,primitiveOffset:l,vertexLength:p,primitiveLength:m,vaos:{},sortKey:0}])}}function yi(c,o){return 256*(c=Ta(Math.floor(c),0,255))+Ta(Math.floor(o),0,255)}kt.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ht("SegmentVector",kt);let on=la([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Mn=la([{name:"a_dasharray_from",components:4,type:"Uint16"},{name:"a_dasharray_to",components:4,type:"Uint16"}]);var bn,Ln,yn,Xn={exports:{}},An={exports:{}},za={exports:{}},fa=function(){if(yn)return Xn.exports;yn=1;var c=(bn||(bn=1,An.exports=function(l,p){var m,g,_,x,I,E,O,V;for(g=l.length-(m=3&l.length),_=p,I=3432918353,E=461845907,V=0;V<g;)O=255&l.charCodeAt(V)|(255&l.charCodeAt(++V))<<8|(255&l.charCodeAt(++V))<<16|(255&l.charCodeAt(++V))<<24,++V,_=27492+(65535&(x=5*(65535&(_=(_^=O=(65535&(O=(O=(65535&O)*I+(((O>>>16)*I&65535)<<16)&4294967295)<<15|O>>>17))*E+(((O>>>16)*E&65535)<<16)&4294967295)<<13|_>>>19))+((5*(_>>>16)&65535)<<16)&4294967295))+((58964+(x>>>16)&65535)<<16);switch(O=0,m){case 3:O^=(255&l.charCodeAt(V+2))<<16;case 2:O^=(255&l.charCodeAt(V+1))<<8;case 1:_^=O=(65535&(O=(O=(65535&(O^=255&l.charCodeAt(V)))*I+(((O>>>16)*I&65535)<<16)&4294967295)<<15|O>>>17))*E+(((O>>>16)*E&65535)<<16)&4294967295}return _^=l.length,_=2246822507*(65535&(_^=_>>>16))+((2246822507*(_>>>16)&65535)<<16)&4294967295,_=3266489909*(65535&(_^=_>>>13))+((3266489909*(_>>>16)&65535)<<16)&4294967295,(_^=_>>>16)>>>0}),An.exports),o=(Ln||(Ln=1,za.exports=function(l,p){for(var m,g=l.length,_=p^g,x=0;g>=4;)m=1540483477*(65535&(m=255&l.charCodeAt(x)|(255&l.charCodeAt(++x))<<8|(255&l.charCodeAt(++x))<<16|(255&l.charCodeAt(++x))<<24))+((1540483477*(m>>>16)&65535)<<16),_=1540483477*(65535&_)+((1540483477*(_>>>16)&65535)<<16)^(m=1540483477*(65535&(m^=m>>>24))+((1540483477*(m>>>16)&65535)<<16)),g-=4,++x;switch(g){case 3:_^=(255&l.charCodeAt(x+2))<<16;case 2:_^=(255&l.charCodeAt(x+1))<<8;case 1:_=1540483477*(65535&(_^=255&l.charCodeAt(x)))+((1540483477*(_>>>16)&65535)<<16)}return _=1540483477*(65535&(_^=_>>>13))+((1540483477*(_>>>16)&65535)<<16),(_^=_>>>15)>>>0}),za.exports);return Xn.exports=c,Xn.exports.murmur3=c,Xn.exports.murmur2=o,Xn.exports}(),ca=b(fa);class $a{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(o,l,p,m){this.ids.push(Ts(o)),this.positions.push(l,p,m)}getPositions(o){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");let l=Ts(o),p=0,m=this.ids.length-1;for(;p<m;){let _=p+m>>1;this.ids[_]>=l?m=_:p=_+1}let g=[];for(;this.ids[p]===l;)g.push({index:this.positions[3*p],start:this.positions[3*p+1],end:this.positions[3*p+2]}),p++;return g}static serialize(o,l){let p=new Float64Array(o.ids),m=new Uint32Array(o.positions);return Jr(p,m,0,p.length-1),l&&l.push(p.buffer,m.buffer),{ids:p,positions:m}}static deserialize(o){let l=new $a;return l.ids=o.ids,l.positions=o.positions,l.indexed=!0,l}}function Ts(c){let o=+c;return!isNaN(o)&&o<=Number.MAX_SAFE_INTEGER?o:ca(String(c))}function Jr(c,o,l,p){for(;l<p;){let m=c[l+p>>1],g=l-1,_=p+1;for(;;){do g++;while(c[g]<m);do _--;while(c[_]>m);if(g>=_)break;Rr(c,g,_),Rr(o,3*g,3*_),Rr(o,3*g+1,3*_+1),Rr(o,3*g+2,3*_+2)}_-l<p-_?(Jr(c,o,l,_),l=_+1):(Jr(c,o,_+1,p),p=_)}}function Rr(c,o,l){let p=c[o];c[o]=c[l],c[l]=p}Ht("FeaturePositionMap",$a);class So{constructor(o,l){this.gl=o.gl,this.location=l}}class rl extends So{constructor(o,l){super(o,l),this.current=0}set(o){this.current!==o&&(this.current=o,this.gl.uniform1f(this.location,o))}}class Pd extends So{constructor(o,l){super(o,l),this.current=[0,0,0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]&&o[3]===this.current[3]||(this.current=o,this.gl.uniform4f(this.location,o[0],o[1],o[2],o[3]))}}class sl extends So{constructor(o,l){super(o,l),this.current=Ci.transparent}set(o){o.r===this.current.r&&o.g===this.current.g&&o.b===this.current.b&&o.a===this.current.a||(this.current=o,this.gl.uniform4f(this.location,o.r,o.g,o.b,o.a))}}let tr=new Float32Array(16);function Br(c){return[yi(255*c.r,255*c.g),yi(255*c.b,255*c.a)]}class Tr{constructor(o,l,p){this.value=o,this.uniformNames=l.map(m=>`u_${m}`),this.type=p}setUniform(o,l,p){o.set(p.constantOr(this.value))}getBinding(o,l,p){return this.type==="color"?new sl(o,l):new rl(o,l)}}class Cr{constructor(o,l){this.uniformNames=l.map(p=>`u_${p}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(o,l){this.pixelRatioFrom=l.pixelRatio,this.pixelRatioTo=o.pixelRatio,this.patternFrom=l.tlbr,this.patternTo=o.tlbr}setConstantDashPositions(o,l){this.dashTo=[0,o.y,o.height,o.width],this.dashFrom=[0,l.y,l.height,l.width]}setUniform(o,l,p,m){let g=null;m==="u_pattern_to"?g=this.patternTo:m==="u_pattern_from"?g=this.patternFrom:m==="u_dasharray_to"?g=this.dashTo:m==="u_dasharray_from"?g=this.dashFrom:m==="u_pixel_ratio_to"?g=this.pixelRatioTo:m==="u_pixel_ratio_from"&&(g=this.pixelRatioFrom),g!==null&&o.set(g)}getBinding(o,l,p){return p.substr(0,9)==="u_pattern"||p.substr(0,12)==="u_dasharray_"?new Pd(o,l):new rl(o,l)}}class In{constructor(o,l,p,m){this.expression=o,this.type=p,this.maxValue=0,this.paintVertexAttributes=l.map(g=>({name:`a_${g}`,type:"Float32",components:p==="color"?2:1,offset:0})),this.paintVertexArray=new m}populatePaintArray(o,l,p){let m=this.paintVertexArray.length,g=this.expression.evaluate(new pn(0,p),l,{},p.canonical,[],p.formattedSection);this.paintVertexArray.resize(o),this._setPaintValue(m,o,g)}updatePaintArray(o,l,p,m,g){let _=this.expression.evaluate(new pn(0,g),p,m);this._setPaintValue(o,l,_)}_setPaintValue(o,l,p){if(this.type==="color"){let m=Br(p);for(let g=o;g<l;g++)this.paintVertexArray.emplace(g,m[0],m[1])}else{for(let m=o;m<l;m++)this.paintVertexArray.emplace(m,p);this.maxValue=Math.max(this.maxValue,Math.abs(p))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class vn{constructor(o,l,p,m,g,_){this.expression=o,this.uniformNames=l.map(x=>`u_${x}_t`),this.type=p,this.useIntegerZoom=m,this.zoom=g,this.maxValue=0,this.paintVertexAttributes=l.map(x=>({name:`a_${x}`,type:"Float32",components:p==="color"?4:2,offset:0})),this.paintVertexArray=new _}populatePaintArray(o,l,p){let m=this.expression.evaluate(new pn(this.zoom,p),l,{},p.canonical,[],p.formattedSection),g=this.expression.evaluate(new pn(this.zoom+1,p),l,{},p.canonical,[],p.formattedSection),_=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValue(_,o,m,g)}updatePaintArray(o,l,p,m,g){let _=this.expression.evaluate(new pn(this.zoom,g),p,m),x=this.expression.evaluate(new pn(this.zoom+1,g),p,m);this._setPaintValue(o,l,_,x)}_setPaintValue(o,l,p,m){if(this.type==="color"){let g=Br(p),_=Br(m);for(let x=o;x<l;x++)this.paintVertexArray.emplace(x,g[0],g[1],_[0],_[1])}else{for(let g=o;g<l;g++)this.paintVertexArray.emplace(g,p,m);this.maxValue=Math.max(this.maxValue,Math.abs(p),Math.abs(m))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(o,l){let p=this.useIntegerZoom?Math.floor(l.zoom):l.zoom,m=Ta(this.expression.interpolationFactor(p,this.zoom,this.zoom+1),0,1);o.set(m)}getBinding(o,l,p){return new rl(o,l)}}class Ca{constructor(o,l,p,m,g,_){this.expression=o,this.type=l,this.useIntegerZoom=p,this.zoom=m,this.layerId=_,this.zoomInPaintVertexArray=new g,this.zoomOutPaintVertexArray=new g}populatePaintArray(o,l,p){let m=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(o),this.zoomOutPaintVertexArray.resize(o),this._setPaintValues(m,o,this.getPositionIds(l),p)}updatePaintArray(o,l,p,m,g){this._setPaintValues(o,l,this.getPositionIds(p),g)}_setPaintValues(o,l,p,m){let g=this.getPositions(m);if(!g||!p)return;let _=g[p.min],x=g[p.mid],I=g[p.max];if(_&&x&&I)for(let E=o;E<l;E++)this.emplace(this.zoomInPaintVertexArray,E,x,_),this.emplace(this.zoomOutPaintVertexArray,E,x,I)}upload(o){if(this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer){let l=this.getVertexAttributes();this.zoomInPaintVertexBuffer=o.createVertexBuffer(this.zoomInPaintVertexArray,l,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=o.createVertexBuffer(this.zoomOutPaintVertexArray,l,this.expression.isStateDependent)}}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Sa extends Ca{getPositions(o){return o.imagePositions}getPositionIds(o){return o.patterns&&o.patterns[this.layerId]}getVertexAttributes(){return on.members}emplace(o,l,p,m){o.emplace(l,p.tlbr[0],p.tlbr[1],p.tlbr[2],p.tlbr[3],m.tlbr[0],m.tlbr[1],m.tlbr[2],m.tlbr[3],p.pixelRatio,m.pixelRatio)}}class Qf extends Ca{getPositions(o){return o.dashPositions}getPositionIds(o){return o.dashes&&o.dashes[this.layerId]}getVertexAttributes(){return Mn.members}emplace(o,l,p,m){o.emplace(l,0,p.y,p.height,p.width,0,m.y,m.height,m.width)}}class Xf{constructor(o,l,p){this.binders={},this._buffers=[];let m=[];for(let g in o.paint._values){if(!p(g))continue;let _=o.paint.get(g);if(!(_ instanceof Ir&&jl(_.property.specification)))continue;let x=_1(g,o.type),I=_.value,E=_.property.specification.type,O=_.property.useIntegerZoom,V=_.property.specification["property-type"],N=V==="cross-faded"||V==="cross-faded-data-driven";if(I.kind==="constant")this.binders[g]=N?new Cr(I.value,x):new Tr(I.value,x,E),m.push(`/u_${g}`);else if(I.kind==="source"||N){let q=Yf(g,E,"source");this.binders[g]=N?g==="line-dasharray"?new Qf(I,E,O,l,q,o.id):new Sa(I,E,O,l,q,o.id):new In(I,x,E,q),m.push(`/a_${g}`)}else{let q=Yf(g,E,"composite");this.binders[g]=new vn(I,x,E,O,l,q),m.push(`/z_${g}`)}}this.cacheKey=m.sort().join("")}getMaxValue(o){let l=this.binders[o];return l instanceof In||l instanceof vn?l.maxValue:0}populatePaintArrays(o,l,p){for(let m in this.binders){let g=this.binders[m];(g instanceof In||g instanceof vn||g instanceof Ca)&&g.populatePaintArray(o,l,p)}}setConstantPatternPositions(o,l){for(let p in this.binders){let m=this.binders[p];m instanceof Cr&&m.setConstantPatternPositions(o,l)}}setConstantDashPositions(o,l){for(let p in this.binders){let m=this.binders[p];m instanceof Cr&&m.setConstantDashPositions(o,l)}}updatePaintArrays(o,l,p,m,g){let _=!1;for(let x in o){let I=l.getPositions(x);for(let E of I){let O=p.feature(E.index);for(let V in this.binders){let N=this.binders[V];if((N instanceof In||N instanceof vn||N instanceof Ca)&&N.expression.isStateDependent===!0){let q=m.paint.get(V);N.expression=q.value,N.updatePaintArray(E.start,E.end,O,o[x],g),_=!0}}}}return _}defines(){let o=[];for(let l in this.binders){let p=this.binders[l];(p instanceof Tr||p instanceof Cr)&&o.push(...p.uniformNames.map(m=>`#define HAS_UNIFORM_${m}`))}return o}getBinderAttributes(){let o=[];for(let l in this.binders){let p=this.binders[l];if(p instanceof In||p instanceof vn)for(let m=0;m<p.paintVertexAttributes.length;m++)o.push(p.paintVertexAttributes[m].name);else if(p instanceof Ca){let m=p.getVertexAttributes();for(let g of m)o.push(g.name)}}return o}getBinderUniforms(){let o=[];for(let l in this.binders){let p=this.binders[l];if(p instanceof Tr||p instanceof Cr||p instanceof vn)for(let m of p.uniformNames)o.push(m)}return o}getPaintVertexBuffers(){return this._buffers}getUniforms(o,l){let p=[];for(let m in this.binders){let g=this.binders[m];if(g instanceof Tr||g instanceof Cr||g instanceof vn){for(let _ of g.uniformNames)if(l[_]){let x=g.getBinding(o,l[_],_);p.push({name:_,property:m,binding:x})}}}return p}setUniforms(o,l,p,m){for(let{name:g,property:_,binding:x}of l)this.binders[_].setUniform(x,m,p.get(_),g)}updatePaintBuffers(o){this._buffers=[];for(let l in this.binders){let p=this.binders[l];if(o&&p instanceof Ca){let m=o.fromScale===2?p.zoomInPaintVertexBuffer:p.zoomOutPaintVertexBuffer;m&&this._buffers.push(m)}else(p instanceof In||p instanceof vn)&&p.paintVertexBuffer&&this._buffers.push(p.paintVertexBuffer)}}upload(o){for(let l in this.binders){let p=this.binders[l];(p instanceof In||p instanceof vn||p instanceof Ca)&&p.upload(o)}this.updatePaintBuffers()}destroy(){for(let o in this.binders){let l=this.binders[o];(l instanceof In||l instanceof vn||l instanceof Ca)&&l.destroy()}}}class ll{constructor(o,l,p=()=>!0){this.programConfigurations={};for(let m of o)this.programConfigurations[m.id]=new Xf(m,l,p);this.needsUpload=!1,this._featureMap=new $a,this._bufferOffset=0}populatePaintArrays(o,l,p,m){for(let g in this.programConfigurations)this.programConfigurations[g].populatePaintArrays(o,l,m);l.id!==void 0&&this._featureMap.add(l.id,p,this._bufferOffset,o),this._bufferOffset=o,this.needsUpload=!0}updatePaintArrays(o,l,p,m){for(let g of p)this.needsUpload=this.programConfigurations[g.id].updatePaintArrays(o,this._featureMap,l,g,m)||this.needsUpload}get(o){return this.programConfigurations[o]}upload(o){if(this.needsUpload){for(let l in this.programConfigurations)this.programConfigurations[l].upload(o);this.needsUpload=!1}}destroy(){for(let o in this.programConfigurations)this.programConfigurations[o].destroy()}}function _1(c,o){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-dasharray":["dasharray_to","dasharray_from"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[c]||[c.replace(`${o}-`,"").replace(/-/g,"_")]}function Yf(c,o,l){let p={color:{source:Sd,composite:d},number:{source:qu,composite:Sd}},m=function(g){return{"line-pattern":{source:Se,composite:Se},"fill-pattern":{source:Se,composite:Se},"fill-extrusion-pattern":{source:Se,composite:Se},"line-dasharray":{source:Pe,composite:Pe}}[g]}(c);return m&&m[l]||p[o][l]}Ht("ConstantBinder",Tr),Ht("CrossFadedConstantBinder",Cr),Ht("SourceExpressionBinder",In),Ht("CrossFadedPatternBinder",Sa),Ht("CrossFadedDasharrayBinder",Qf),Ht("CompositeExpressionBinder",vn),Ht("ProgramConfiguration",Xf,{omit:["_buffers"]}),Ht("ProgramConfigurationSet",ll);let jh=Math.pow(2,14)-1,Cs=-jh-1;function Ss(c){let o=ui/c.extent,l=c.loadGeometry();for(let p=0;p<l.length;p++){let m=l[p];for(let g=0;g<m.length;g++){let _=m[g],x=Math.round(_.x*o),I=Math.round(_.y*o);_.x=Ta(x,Cs,jh),_.y=Ta(I,Cs,jh),(x<_.x||x>_.x+1||I<_.y||I>_.y+1)&&Fa("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return l}function Ms(c,o){return{type:c.type,id:c.id,properties:c.properties,geometry:o?Ss(c):[]}}let Gh=-32768;function Uh(c,o,l,p,m){c.emplaceBack(Gh+8*o+p,Gh+8*l+m)}class ju{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(l=>l.id),this.index=o.index,this.hasDependencies=!1,this.layoutVertexArray=new fe,this.indexArray=new $e,this.segments=new kt,this.programConfigurations=new ll(o.layers,o.zoom),this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(o,l,p){let m=this.layers[0],g=[],_=null,x=!1,I=m.type==="heatmap";if(m.type==="circle"){let O=m;_=O.layout.get("circle-sort-key"),x=!_.isConstant(),I=I||O.paint.get("circle-pitch-alignment")==="map"}let E=I?l.subdivisionGranularity.circle:1;for(let{feature:O,id:V,index:N,sourceLayerIndex:q}of o){let G=this.layers[0]._featureFilter.needGeometry,K=Ms(O,G);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),K,p))continue;let Z=x?_.evaluate(K,{},p):void 0,re={id:V,properties:O.properties,type:O.type,sourceLayerIndex:q,index:N,geometry:G?K.geometry:Ss(O),patterns:{},sortKey:Z};g.push(re)}x&&g.sort((O,V)=>O.sortKey-V.sortKey);for(let O of g){let{geometry:V,index:N,sourceLayerIndex:q}=O,G=o[N].feature;this.addFeature(O,V,N,p,E),l.featureIndex.insert(G,V,N,q,this.index)}}update(o,l,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,l,this.stateDependentLayers,{imagePositions:p})}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,pt),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(o,l,p,m,g=1){let _;switch(g){case 1:_=[0,7];break;case 3:_=[0,2,5,7];break;case 5:_=[0,1,3,4,6,7];break;case 7:_=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${g}; valid values are 1, 3, 5, 7.`)}let x=_.length;for(let I of l)for(let E of I){let O=E.x,V=E.y;if(O<0||O>=ui||V<0||V>=ui)continue;let N=this.segments.prepareSegment(x*x,this.layoutVertexArray,this.indexArray,o.sortKey),q=N.vertexLength;for(let G=0;G<x;G++)for(let K=0;K<x;K++)Uh(this.layoutVertexArray,O,V,_[K],_[G]);for(let G=0;G<x-1;G++)for(let K=0;K<x-1;K++){let Z=q+G*x+K,re=q+(G+1)*x+K;this.indexArray.emplaceBack(Z,re+1,Z+1),this.indexArray.emplaceBack(Z,re,re+1)}N.vertexLength+=x*x,N.primitiveLength+=(x-1)*(x-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,p,{imagePositions:{},canonical:m})}}function Gu(c,o){for(let l=0;l<c.length;l++)if(Uu(o,c[l]))return!0;for(let l=0;l<o.length;l++)if(Uu(c,o[l]))return!0;return!!b1(c,o)}function Jf(c,o,l){return!!Uu(c,o)||!!y1(o,c,l)}function Wv(c,o){if(c.length===1)return Qv(o,c[0]);for(let l=0;l<o.length;l++){let p=o[l];for(let m=0;m<p.length;m++)if(Uu(c,p[m]))return!0}for(let l=0;l<c.length;l++)if(Qv(o,c[l]))return!0;for(let l=0;l<o.length;l++)if(b1(c,o[l]))return!0;return!1}function L4(c,o,l){if(c.length>1){if(b1(c,o))return!0;for(let p=0;p<o.length;p++)if(y1(o[p],c,l))return!0}for(let p=0;p<c.length;p++)if(y1(c[p],o,l))return!0;return!1}function b1(c,o){if(c.length===0||o.length===0)return!1;for(let l=0;l<c.length-1;l++){let p=c[l],m=c[l+1];for(let g=0;g<o.length-1;g++)if(A4(p,m,o[g],o[g+1]))return!0}return!1}function A4(c,o,l,p){return Zo(c,l,p)!==Zo(o,l,p)&&Zo(c,o,l)!==Zo(c,o,p)}function y1(c,o,l){let p=l*l;if(o.length===1)return c.distSqr(o[0])<p;for(let m=1;m<o.length;m++)if(Zv(c,o[m-1],o[m])<p)return!0;return!1}function Zv(c,o,l){let p=o.distSqr(l);if(p===0)return c.distSqr(o);let m=((c.x-o.x)*(l.x-o.x)+(c.y-o.y)*(l.y-o.y))/p;return c.distSqr(m<0?o:m>1?l:l.sub(o)._mult(m)._add(o))}function Qv(c,o){let l,p,m,g=!1;for(let _=0;_<c.length;_++){l=c[_];for(let x=0,I=l.length-1;x<l.length;I=x++)p=l[x],m=l[I],p.y>o.y!=m.y>o.y&&o.x<(m.x-p.x)*(o.y-p.y)/(m.y-p.y)+p.x&&(g=!g)}return g}function Uu(c,o){let l=!1;for(let p=0,m=c.length-1;p<c.length;m=p++){let g=c[p],_=c[m];g.y>o.y!=_.y>o.y&&o.x<(_.x-g.x)*(o.y-g.y)/(_.y-g.y)+g.x&&(l=!l)}return l}function O4(c,o,l){let p=l[0],m=l[2];if(c.x<p.x&&o.x<p.x||c.x>m.x&&o.x>m.x||c.y<p.y&&o.y<p.y||c.y>m.y&&o.y>m.y)return!1;let g=Zo(c,o,l[0]);return g!==Zo(c,o,l[1])||g!==Zo(c,o,l[2])||g!==Zo(c,o,l[3])}function $u(c,o,l){let p=o.paint.get(c).value;return p.kind==="constant"?p.value:l.programConfigurations.get(o.id).getMaxValue(c)}function e0(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function t0(c,o,l,p,m){if(!o[0]&&!o[1])return c;let g=u.convert(o)._mult(m);l==="viewport"&&g._rotate(-p);let _=[];for(let x=0;x<c.length;x++)_.push(c[x].sub(g));return _}function F4(c){let o=[];for(let l=0;l<c.length;l++){let p=c[l],m=o.at(-1);(l===0||m&&!p.equals(m))&&o.push(p)}return o}function V4({queryGeometry:c,size:o},l){return Jf(c,l,o)}function z4({queryGeometry:c,size:o,transform:l,unwrappedTileID:p,getElevation:m},g){return Jf(c,g,o*(l.projectTileCoordinates(g.x,g.y,p,m).signedDistanceFromCamera/l.cameraToCenterDistance))}function R4({queryGeometry:c,size:o,transform:l,unwrappedTileID:p,getElevation:m},g){let _=l.projectTileCoordinates(g.x,g.y,p,m).signedDistanceFromCamera,x=o*(l.cameraToCenterDistance/_);return Jf(c,v1(g,l,p,m),x)}function B4({queryGeometry:c,size:o,transform:l,unwrappedTileID:p,getElevation:m},g){return Jf(c,v1(g,l,p,m),o)}function Xv({queryGeometry:c,size:o,transform:l,unwrappedTileID:p,getElevation:m,pitchAlignment:g="map",pitchScale:_="map"},x){let I=g==="map"?_==="map"?V4:z4:_==="map"?R4:B4,E={queryGeometry:c,size:o,transform:l,unwrappedTileID:p,getElevation:m};for(let O of x)for(let V of O)if(I(E,V))return!0;return!1}function v1(c,o,l,p){let m=o.projectTileCoordinates(c.x,c.y,l,p).point;return new u((.5*m.x+.5)*o.width,(.5*-m.y+.5)*o.height)}let Yv,Jv;Ht("CircleBucket",ju,{omit:["layers"]});var N4={get paint(){return Jv=Jv||new go({"circle-radius":new ai(Ge.paint_circle["circle-radius"]),"circle-color":new ai(Ge.paint_circle["circle-color"]),"circle-blur":new ai(Ge.paint_circle["circle-blur"]),"circle-opacity":new ai(Ge.paint_circle["circle-opacity"]),"circle-translate":new Xt(Ge.paint_circle["circle-translate"]),"circle-translate-anchor":new Xt(Ge.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Xt(Ge.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Xt(Ge.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ai(Ge.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ai(Ge.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ai(Ge.paint_circle["circle-stroke-opacity"])})},get layout(){return Yv=Yv||new go({"circle-sort-key":new ai(Ge.layout_circle["circle-sort-key"])})}};class q4 extends er{constructor(o,l){super(o,N4,l)}createBucket(o){return new ju(o)}queryRadius(o){let l=o;return $u("circle-radius",this,l)+$u("circle-stroke-width",this,l)+e0(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:o,feature:l,featureState:p,geometry:m,transform:g,pixelsToTileUnits:_,unwrappedTileID:x,getElevation:I}){let E=t0(o,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-g.bearingInRadians,_),O=this.paint.get("circle-radius").evaluate(l,p)+this.paint.get("circle-stroke-width").evaluate(l,p),V=this.paint.get("circle-pitch-scale"),N=this.paint.get("circle-pitch-alignment"),q,G;return N==="map"?(q=E,G=O*_):(q=function(K,Z,re,ge){return K.map(ce=>v1(ce,Z,re,ge))}(E,g,x,I),G=O),Xv({queryGeometry:q,size:G,transform:g,unwrappedTileID:x,getElevation:I,pitchAlignment:N,pitchScale:V},m)}}class e2 extends ju{}let t2;Ht("HeatmapBucket",e2,{omit:["layers"]});var H4={get paint(){return t2=t2||new go({"heatmap-radius":new ai(Ge.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ai(Ge.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Xt(Ge.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Vu(Ge.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Xt(Ge.paint_heatmap["heatmap-opacity"])})}};function x1(c,{width:o,height:l},p,m){if(m){if(m instanceof Uint8ClampedArray)m=new Uint8Array(m.buffer);else if(m.length!==o*l*p)throw new RangeError(`mismatched image size. expected: ${m.length} but got: ${o*l*p}`)}else m=new Uint8Array(o*l*p);return c.width=o,c.height=l,c.data=m,c}function i2(c,{width:o,height:l},p){if(o===c.width&&l===c.height)return;let m=x1({},{width:o,height:l},p);w1(c,m,{x:0,y:0},{x:0,y:0},{width:Math.min(c.width,o),height:Math.min(c.height,l)},p),c.width=o,c.height=l,c.data=m.data}function w1(c,o,l,p,m,g){if(m.width===0||m.height===0)return o;if(m.width>c.width||m.height>c.height||l.x>c.width-m.width||l.y>c.height-m.height)throw new RangeError("out of range source coordinates for image copy");if(m.width>o.width||m.height>o.height||p.x>o.width-m.width||p.y>o.height-m.height)throw new RangeError("out of range destination coordinates for image copy");let _=c.data,x=o.data;if(_===x)throw new Error("srcData equals dstData, so image is already copied");for(let I=0;I<m.height;I++){let E=((l.y+I)*c.width+l.x)*g,O=((p.y+I)*o.width+p.x)*g;for(let V=0;V<m.width*g;V++)x[O+V]=_[E+V]}return o}class $h{constructor(o,l){x1(this,o,1,l)}resize(o){i2(this,o,1)}clone(){return new $h({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,l,p,m,g){w1(o,l,p,m,g,1)}}class jo{constructor(o,l){x1(this,o,4,l)}resize(o){i2(this,o,4)}replace(o,l){l?this.data.set(o):this.data=o instanceof Uint8ClampedArray?new Uint8Array(o.buffer):o}clone(){return new jo({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,l,p,m,g){w1(o,l,p,m,g,4)}setPixel(o,l,p){let m=4*(o*this.width+l);this.data[m+0]=Math.round(255*p.r/p.a),this.data[m+1]=Math.round(255*p.g/p.a),this.data[m+2]=Math.round(255*p.b/p.a),this.data[m+3]=Math.round(255*p.a)}}function n2(c){let o={},l=c.resolution||256,p=c.clips?c.clips.length:1,m=c.image||new jo({width:l,height:p});if(Math.log(l)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${l}`);let g=(_,x,I)=>{o[c.evaluationKey]=I;let E=c.expression.evaluate(o);m.setPixel(_/4/l,x/4,E)};if(c.clips)for(let _=0,x=0;_<p;++_,x+=4*l)for(let I=0,E=0;I<l;I++,E+=4){let O=I/(l-1),{start:V,end:N}=c.clips[_];g(x,E,V*(1-O)+N*O)}else for(let _=0,x=0;_<l;_++,x+=4)g(0,x,_/(l-1));return m}Ht("AlphaImage",$h),Ht("RGBAImage",jo);let I1="big-fb";class j4 extends er{createBucket(o){return new e2(o)}constructor(o,l){super(o,H4,l),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(o){o==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=n2({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(I1)&&this.heatmapFbos.delete(I1)}queryRadius(o){return $u("heatmap-radius",this,o)}queryIntersectsFeature({queryGeometry:o,feature:l,featureState:p,geometry:m,transform:g,pixelsToTileUnits:_,unwrappedTileID:x,getElevation:I}){return Xv({queryGeometry:o,size:this.paint.get("heatmap-radius").evaluate(l,p)*_,transform:g,unwrappedTileID:x,getElevation:I},m)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&!this.isHidden()}}let a2;var G4={get paint(){return a2=a2||new go({"hillshade-illumination-direction":new Xt(Ge.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new Xt(Ge.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new Xt(Ge.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Xt(Ge.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Xt(Ge.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Xt(Ge.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Xt(Ge.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new Xt(Ge.paint_hillshade["hillshade-method"])})}};class U4 extends er{constructor(o,l){super(o,G4,l),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let o=this.paint.get("hillshade-illumination-direction").values,l=this.paint.get("hillshade-illumination-altitude").values,p=this.paint.get("hillshade-highlight-color").values,m=this.paint.get("hillshade-shadow-color").values,g=Math.max(o.length,l.length,p.length,m.length);o=o.concat(Array(g-o.length).fill(o.at(-1))),l=l.concat(Array(g-l.length).fill(l.at(-1))),p=p.concat(Array(g-p.length).fill(p.at(-1))),m=m.concat(Array(g-m.length).fill(m.at(-1)));let _=l.map(Tl);return{directionRadians:o.map(Tl),altitudeRadians:_,shadowColor:m,highlightColor:p}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&!this.isHidden()}}let o2;var $4={get paint(){return o2=o2||new go({"color-relief-opacity":new Xt(Ge["paint_color-relief"]["color-relief-opacity"]),"color-relief-color":new Vu(Ge["paint_color-relief"]["color-relief-color"])})}};class T1{constructor(o,l,p,m){this.context=o,this.format=p,this.texture=o.gl.createTexture(),this.update(l,m)}update(o,l,p){let{width:m,height:g}=o,_=!(this.size&&this.size[0]===m&&this.size[1]===g||p),{context:x}=this,{gl:I}=x;if(this.useMipmap=!!(l&&l.useMipmap),I.bindTexture(I.TEXTURE_2D,this.texture),x.pixelStoreUnpackFlipY.set(!1),x.pixelStoreUnpack.set(1),x.pixelStoreUnpackPremultiplyAlpha.set(this.format===I.RGBA&&(!l||l.premultiply!==!1)),_)this.size=[m,g],o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement||o instanceof ImageData||hs(o)?I.texImage2D(I.TEXTURE_2D,0,this.format,this.format,I.UNSIGNED_BYTE,o):I.texImage2D(I.TEXTURE_2D,0,this.format,m,g,0,this.format,I.UNSIGNED_BYTE,o.data);else{let{x:E,y:O}=p||{x:0,y:0};o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement||o instanceof ImageData||hs(o)?I.texSubImage2D(I.TEXTURE_2D,0,E,O,I.RGBA,I.UNSIGNED_BYTE,o):I.texSubImage2D(I.TEXTURE_2D,0,E,O,m,g,I.RGBA,I.UNSIGNED_BYTE,o.data)}this.useMipmap&&this.isSizePowerOfTwo()&&I.generateMipmap(I.TEXTURE_2D),x.pixelStoreUnpackFlipY.setDefault(),x.pixelStoreUnpack.setDefault(),x.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(o,l,p){let{context:m}=this,{gl:g}=m;g.bindTexture(g.TEXTURE_2D,this.texture),p!==g.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(p=g.LINEAR),o!==this.filter&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,o),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,p||o),this.filter=o),l!==this.wrap&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,l),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,l),this.wrap=l)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){let{gl:o}=this.context;o.deleteTexture(this.texture),this.texture=null}}class r2{constructor(o,l,p,m=1,g=1,_=1,x=0){if(this.uid=o,l.height!==l.width)throw new RangeError("DEM tiles must be square");if(p&&!["mapbox","terrarium","custom"].includes(p))return void Fa(`"${p}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=l.height;let I=this.dim=l.height-2;switch(this.data=new Uint32Array(l.data.buffer),p){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=m,this.greenFactor=g,this.blueFactor=_,this.baseShift=x;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let E=0;E<I;E++)this.data[this._idx(-1,E)]=this.data[this._idx(0,E)],this.data[this._idx(I,E)]=this.data[this._idx(I-1,E)],this.data[this._idx(E,-1)]=this.data[this._idx(E,0)],this.data[this._idx(E,I)]=this.data[this._idx(E,I-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(I,-1)]=this.data[this._idx(I-1,0)],this.data[this._idx(-1,I)]=this.data[this._idx(0,I-1)],this.data[this._idx(I,I)]=this.data[this._idx(I-1,I-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let E=0;E<I;E++)for(let O=0;O<I;O++){let V=this.get(E,O);V>this.max&&(this.max=V),V<this.min&&(this.min=V)}}get(o,l){let p=new Uint8Array(this.data.buffer),m=4*this._idx(o,l);return this.unpack(p[m],p[m+1],p[m+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(o,l){if(o<-1||o>=this.dim+1||l<-1||l>=this.dim+1)throw new RangeError(`Out of range source coordinates for DEM data. x: ${o}, y: ${l}, dim: ${this.dim}`);return(l+1)*this.stride+(o+1)}unpack(o,l,p){return o*this.redFactor+l*this.greenFactor+p*this.blueFactor-this.baseShift}pack(o){return s2(o,this.getUnpackVector())}getPixels(){return new jo({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(o,l,p){if(this.dim!==o.dim)throw new Error("dem dimension mismatch");let m=l*this.dim,g=l*this.dim+this.dim,_=p*this.dim,x=p*this.dim+this.dim;switch(l){case-1:m=g-1;break;case 1:g=m+1}switch(p){case-1:_=x-1;break;case 1:x=_+1}let I=-l*this.dim,E=-p*this.dim;for(let O=_;O<x;O++)for(let V=m;V<g;V++)this.data[this._idx(V,O)]=o.data[this._idx(V+I,O+E)]}}function s2(c,o){let l=o[0],p=o[1],m=o[2],g=o[3],_=Math.min(l,p,m),x=Math.round((c+g)/_);return{r:Math.floor(x*_/l)%256,g:Math.floor(x*_/p)%256,b:Math.floor(x*_/m)%256}}Ht("DEMData",r2);class K4 extends er{constructor(o,l){super(o,$4,l)}_createColorRamp(o){let l={elevationStops:[],colorStops:[]},p=this._transitionablePaint._values["color-relief-color"].value.expression;if(p instanceof Iu&&p._styleExpression.expression instanceof fo){this.colorRampExpression=p;let _=p._styleExpression.expression;l.elevationStops=_.labels,l.colorStops=[];for(let x of l.elevationStops)l.colorStops.push(_.evaluate({globals:{elevation:x}}))}if(l.elevationStops.length<1&&(l.elevationStops=[0],l.colorStops=[Ci.transparent]),l.elevationStops.length<2&&(l.elevationStops.push(l.elevationStops[0]+1),l.colorStops.push(l.colorStops[0])),l.elevationStops.length<=o)return l;let m={elevationStops:[],colorStops:[]},g=(l.elevationStops.length-1)/(o-1);for(let _=0;_<l.elevationStops.length-.5;_+=g)m.elevationStops.push(l.elevationStops[Math.round(_)]),m.colorStops.push(l.colorStops[Math.round(_)]);return Fa(`Too many colors in specification of ${this.id} color-relief layer, may not render properly. Max possible colors: ${o}, provided: ${l.elevationStops.length}`),m}_colorRampChanged(){return this.colorRampExpression!=this._transitionablePaint._values["color-relief-color"].value.expression}getColorRampTextures(o,l,p){if(this.colorRampTextures&&!this._colorRampChanged())return this.colorRampTextures;let m=this._createColorRamp(l),g=new jo({width:m.colorStops.length,height:1}),_=new jo({width:m.colorStops.length,height:1});for(let x=0;x<m.elevationStops.length;x++){let I=s2(m.elevationStops[x],p);_.setPixel(0,x,new Ci(I.r/255,I.g/255,I.b/255,1)),g.setPixel(0,x,m.colorStops[x])}return this.colorRampTextures={elevationTexture:new T1(o,_,o.gl.RGBA),colorTexture:new T1(o,g,o.gl.RGBA)},this.colorRampTextures}hasOffscreenPass(){return!this.isHidden()&&!!this.colorRampTextures}}let W4=la([{name:"a_pos",components:2,type:"Int16"}],4),{members:Z4}=W4;function i0(c,o,l){let p=l.patternDependencies,m=!1;for(let g of o){let _=g.paint.get(`${c}-pattern`);_.isConstant()||(m=!0);let x=_.constantOr(null);x&&(m=!0,p[x.to]=!0,p[x.from]=!0)}return m}function C1(c,o,l,p,m){let{zoom:g}=p,_=m.patternDependencies;for(let x of o){let I=x.paint.get(`${c}-pattern`).value;if(I.kind!=="constant"){let E=I.evaluate({zoom:g-1},l,{},m.availableImages),O=I.evaluate({zoom:g},l,{},m.availableImages),V=I.evaluate({zoom:g+1},l,{},m.availableImages);E=E&&E.name?E.name:E,O=O&&O.name?O.name:O,V=V&&V.name?V.name:V,_[E]=!0,_[O]=!0,_[V]=!0,l.patterns[x.id]={min:E,mid:O,max:V}}}return l}function l2(c,o,l,p,m){let g;if(m===function(_,x,I,E){let O=0;for(let V=x,N=I-E;V<I;V+=E)O+=(_[N]-_[V])*(_[V+1]+_[N+1]),N=V;return O}(c,o,l,p)>0)for(let _=o;_<l;_+=p)g=p2(_/p|0,c[_],c[_+1],g);else for(let _=l-p;_>=o;_-=p)g=p2(_/p|0,c[_],c[_+1],g);return g&&Ku(g,g.next)&&(Qh(g),g=g.next),g}function Dd(c,o){if(!c)return c;o||(o=c);let l,p=c;do if(l=!1,p.steiner||!Ku(p,p.next)&&ga(p.prev,p,p.next)!==0)p=p.next;else{if(Qh(p),p=o=p.prev,p===p.next)break;l=!0}while(l||p!==o);return o}function Kh(c,o,l,p,m,g,_){if(!c)return;!_&&g&&function(I,E,O,V){let N=I;do N.z===0&&(N.z=S1(N.x,N.y,E,O,V)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==I);N.prevZ.nextZ=null,N.prevZ=null,function(q){let G,K=1;do{let Z,re=q;q=null;let ge=null;for(G=0;re;){G++;let ce=re,pe=0;for(let Ce=0;Ce<K&&(pe++,ce=ce.nextZ,ce);Ce++);let ve=K;for(;pe>0||ve>0&&ce;)pe!==0&&(ve===0||!ce||re.z<=ce.z)?(Z=re,re=re.nextZ,pe--):(Z=ce,ce=ce.nextZ,ve--),ge?ge.nextZ=Z:q=Z,Z.prevZ=ge,ge=Z;re=ce}ge.nextZ=null,K*=2}while(G>1)}(N)}(c,p,m,g);let x=c;for(;c.prev!==c.next;){let I=c.prev,E=c.next;if(g?X4(c,p,m,g):Q4(c))o.push(I.i,c.i,E.i),Qh(c),c=E.next,x=E.next;else if((c=E)===x){_?_===1?Kh(c=Y4(Dd(c),o),o,l,p,m,g,2):_===2&&J4(c,o,l,p,m,g):Kh(Dd(c),o,l,p,m,g,1);break}}}function Q4(c){let o=c.prev,l=c,p=c.next;if(ga(o,l,p)>=0)return!1;let m=o.x,g=l.x,_=p.x,x=o.y,I=l.y,E=p.y,O=Math.min(m,g,_),V=Math.min(x,I,E),N=Math.max(m,g,_),q=Math.max(x,I,E),G=p.next;for(;G!==o;){if(G.x>=O&&G.x<=N&&G.y>=V&&G.y<=q&&Wh(m,x,g,I,_,E,G.x,G.y)&&ga(G.prev,G,G.next)>=0)return!1;G=G.next}return!0}function X4(c,o,l,p){let m=c.prev,g=c,_=c.next;if(ga(m,g,_)>=0)return!1;let x=m.x,I=g.x,E=_.x,O=m.y,V=g.y,N=_.y,q=Math.min(x,I,E),G=Math.min(O,V,N),K=Math.max(x,I,E),Z=Math.max(O,V,N),re=S1(q,G,o,l,p),ge=S1(K,Z,o,l,p),ce=c.prevZ,pe=c.nextZ;for(;ce&&ce.z>=re&&pe&&pe.z<=ge;){if(ce.x>=q&&ce.x<=K&&ce.y>=G&&ce.y<=Z&&ce!==m&&ce!==_&&Wh(x,O,I,V,E,N,ce.x,ce.y)&&ga(ce.prev,ce,ce.next)>=0||(ce=ce.prevZ,pe.x>=q&&pe.x<=K&&pe.y>=G&&pe.y<=Z&&pe!==m&&pe!==_&&Wh(x,O,I,V,E,N,pe.x,pe.y)&&ga(pe.prev,pe,pe.next)>=0))return!1;pe=pe.nextZ}for(;ce&&ce.z>=re;){if(ce.x>=q&&ce.x<=K&&ce.y>=G&&ce.y<=Z&&ce!==m&&ce!==_&&Wh(x,O,I,V,E,N,ce.x,ce.y)&&ga(ce.prev,ce,ce.next)>=0)return!1;ce=ce.prevZ}for(;pe&&pe.z<=ge;){if(pe.x>=q&&pe.x<=K&&pe.y>=G&&pe.y<=Z&&pe!==m&&pe!==_&&Wh(x,O,I,V,E,N,pe.x,pe.y)&&ga(pe.prev,pe,pe.next)>=0)return!1;pe=pe.nextZ}return!0}function Y4(c,o){let l=c;do{let p=l.prev,m=l.next.next;!Ku(p,m)&&d2(p,l,l.next,m)&&Zh(p,m)&&Zh(m,p)&&(o.push(p.i,l.i,m.i),Qh(l),Qh(l.next),l=c=m),l=l.next}while(l!==c);return Dd(l)}function J4(c,o,l,p,m,g){let _=c;do{let x=_.next.next;for(;x!==_.prev;){if(_.i!==x.i&&a6(_,x)){let I=u2(_,x);return _=Dd(_,_.next),I=Dd(I,I.next),Kh(_,o,l,p,m,g,0),void Kh(I,o,l,p,m,g,0)}x=x.next}_=_.next}while(_!==c)}function e6(c,o){let l=c.x-o.x;return l===0&&(l=c.y-o.y,l===0)&&(l=(c.next.y-c.y)/(c.next.x-c.x)-(o.next.y-o.y)/(o.next.x-o.x)),l}function t6(c,o){let l=function(m,g){let _=g,x=m.x,I=m.y,E,O=-1/0;if(Ku(m,_))return _;do{if(Ku(m,_.next))return _.next;if(I<=_.y&&I>=_.next.y&&_.next.y!==_.y){let K=_.x+(I-_.y)*(_.next.x-_.x)/(_.next.y-_.y);if(K<=x&&K>O&&(O=K,E=_.x<_.next.x?_:_.next,K===x))return E}_=_.next}while(_!==g);if(!E)return null;let V=E,N=E.x,q=E.y,G=1/0;_=E;do{if(x>=_.x&&_.x>=N&&x!==_.x&&c2(I<q?x:O,I,N,q,I<q?O:x,I,_.x,_.y)){let K=Math.abs(I-_.y)/(x-_.x);Zh(_,m)&&(K<G||K===G&&(_.x>E.x||_.x===E.x&&i6(E,_)))&&(E=_,G=K)}_=_.next}while(_!==V);return E}(c,o);if(!l)return o;let p=u2(l,c);return Dd(p,p.next),Dd(l,l.next)}function i6(c,o){return ga(c.prev,c,o.prev)<0&&ga(o.next,c,c.next)<0}function S1(c,o,l,p,m){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=(c-l)*m|0)|c<<8))|c<<4))|c<<2))|c<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-p)*m|0)|o<<8))|o<<4))|o<<2))|o<<1))<<1}function n6(c){let o=c,l=c;do(o.x<l.x||o.x===l.x&&o.y<l.y)&&(l=o),o=o.next;while(o!==c);return l}function c2(c,o,l,p,m,g,_,x){return(m-_)*(o-x)>=(c-_)*(g-x)&&(c-_)*(p-x)>=(l-_)*(o-x)&&(l-_)*(g-x)>=(m-_)*(p-x)}function Wh(c,o,l,p,m,g,_,x){return!(c===_&&o===x)&&c2(c,o,l,p,m,g,_,x)}function a6(c,o){return c.next.i!==o.i&&c.prev.i!==o.i&&!function(l,p){let m=l;do{if(m.i!==l.i&&m.next.i!==l.i&&m.i!==p.i&&m.next.i!==p.i&&d2(m,m.next,l,p))return!0;m=m.next}while(m!==l);return!1}(c,o)&&(Zh(c,o)&&Zh(o,c)&&function(l,p){let m=l,g=!1,_=(l.x+p.x)/2,x=(l.y+p.y)/2;do m.y>x!=m.next.y>x&&m.next.y!==m.y&&_<(m.next.x-m.x)*(x-m.y)/(m.next.y-m.y)+m.x&&(g=!g),m=m.next;while(m!==l);return g}(c,o)&&(ga(c.prev,c,o.prev)||ga(c,o.prev,o))||Ku(c,o)&&ga(c.prev,c,c.next)>0&&ga(o.prev,o,o.next)>0)}function ga(c,o,l){return(o.y-c.y)*(l.x-o.x)-(o.x-c.x)*(l.y-o.y)}function Ku(c,o){return c.x===o.x&&c.y===o.y}function d2(c,o,l,p){let m=a0(ga(c,o,l)),g=a0(ga(c,o,p)),_=a0(ga(l,p,c)),x=a0(ga(l,p,o));return m!==g&&_!==x||!(m!==0||!n0(c,l,o))||!(g!==0||!n0(c,p,o))||!(_!==0||!n0(l,c,p))||!(x!==0||!n0(l,o,p))}function n0(c,o,l){return o.x<=Math.max(c.x,l.x)&&o.x>=Math.min(c.x,l.x)&&o.y<=Math.max(c.y,l.y)&&o.y>=Math.min(c.y,l.y)}function a0(c){return c>0?1:c<0?-1:0}function Zh(c,o){return ga(c.prev,c,c.next)<0?ga(c,o,c.next)>=0&&ga(c,c.prev,o)>=0:ga(c,o,c.prev)<0||ga(c,c.next,o)<0}function u2(c,o){let l=M1(c.i,c.x,c.y),p=M1(o.i,o.x,o.y),m=c.next,g=o.prev;return c.next=o,o.prev=c,l.next=m,m.prev=l,p.next=l,l.prev=p,g.next=p,p.prev=g,p}function p2(c,o,l,p){let m=M1(c,o,l);return p?(m.next=p.next,m.prev=p,p.next.prev=m,p.next=m):(m.prev=m,m.next=m),m}function Qh(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function M1(c,o,l){return{i:c,x:o,y:l,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class Wu{constructor(o,l){if(l>o)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=o,this._minGranularity=l}getGranularityForZoomLevel(o){return Math.max(Math.floor(this._baseZoomGranularity/(1<<o)),this._minGranularity,1)}}class o0{constructor(o){this.fill=o.fill,this.line=o.line,this.tile=o.tile,this.stencil=o.stencil,this.circle=o.circle}}o0.noSubdivision=new o0({fill:new Wu(0,0),line:new Wu(0,0),tile:new Wu(0,0),stencil:new Wu(0,0),circle:1}),Ht("SubdivisionGranularityExpression",Wu),Ht("SubdivisionGranularitySetting",o0);let Zu=-32768,Xh=32767;class o6{constructor(o,l){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=o,this._granularityCellSize=ui/o,this._canonical=l}_getKey(o,l){return(o+=32768)<<16|l+32768}_vertexToIndex(o,l){if(o<-32768||l<-32768||o>32767||l>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");let p=0|Math.round(o),m=0|Math.round(l),g=this._getKey(p,m);if(this._vertexDictionary.has(g))return this._vertexDictionary.get(g);let _=this._vertexBuffer.length/2;return this._vertexDictionary.set(g,_),this._vertexBuffer.push(p,m),_}_subdivideTrianglesScanline(o){if(this._granularity<2)return function(m,g){let _=[];for(let x=0;x<g.length;x+=3){let I=g[x],E=g[x+1],O=g[x+2],V=m[2*I],N=m[2*I+1];(m[2*E]-V)*(m[2*O+1]-N)-(m[2*E+1]-N)*(m[2*O]-V)>0?(_.push(I),_.push(O),_.push(E)):(_.push(I),_.push(E),_.push(O))}return _}(this._vertexBuffer,o);let l=[],p=o.length;for(let m=0;m<p;m+=3){let g=[o[m+0],o[m+1],o[m+2]],_=[this._vertexBuffer[2*o[m+0]+0],this._vertexBuffer[2*o[m+0]+1],this._vertexBuffer[2*o[m+1]+0],this._vertexBuffer[2*o[m+1]+1],this._vertexBuffer[2*o[m+2]+0],this._vertexBuffer[2*o[m+2]+1]],x=1/0,I=1/0,E=-1/0,O=-1/0;for(let K=0;K<3;K++){let Z=_[2*K],re=_[2*K+1];x=Math.min(x,Z),E=Math.max(E,Z),I=Math.min(I,re),O=Math.max(O,re)}if(x===E||I===O)continue;let V=Math.floor(x/this._granularityCellSize),N=Math.ceil(E/this._granularityCellSize),q=Math.floor(I/this._granularityCellSize),G=Math.ceil(O/this._granularityCellSize);if(V!==N||q!==G)for(let K=q;K<G;K++){let Z=this._scanlineGenerateVertexRingForCellRow(K,_,g);r6(this._vertexBuffer,Z,l)}else l.push(...g)}return l}_scanlineGenerateVertexRingForCellRow(o,l,p){let m=o*this._granularityCellSize,g=m+this._granularityCellSize,_=[];for(let x=0;x<3;x++){let I=l[2*x],E=l[2*x+1],O=l[2*(x+1)%6],V=l[(2*(x+1)+1)%6],N=l[2*(x+2)%6],q=l[(2*(x+2)+1)%6],G=O-I,K=V-E,Z=G===0,re=K===0,ge=(m-E)/K,ce=(g-E)/K,pe=Math.min(ge,ce),ve=Math.max(ge,ce);if(!re&&(pe>=1||ve<=0)||re&&(E<m||E>g)){V>=m&&V<=g&&_.push(p[(x+1)%3]);continue}!re&&pe>0&&_.push(this._vertexToIndex(I+G*pe,E+K*pe));let Ce=I+G*Math.max(pe,0),Re=I+G*Math.min(ve,1);Z||this._generateIntraEdgeVertices(_,I,E,O,V,Ce,Re),!re&&ve<1&&_.push(this._vertexToIndex(I+G*ve,E+K*ve)),(re||V>=m&&V<=g)&&_.push(p[(x+1)%3]),!re&&(V<=m||V>=g)&&this._generateInterEdgeVertices(_,I,E,O,V,N,q,Re,m,g)}return _}_generateIntraEdgeVertices(o,l,p,m,g,_,x){let I=m-l,E=g-p,O=E===0,V=O?Math.min(l,m):Math.min(_,x),N=O?Math.max(l,m):Math.max(_,x),q=Math.floor(V/this._granularityCellSize)+1,G=Math.ceil(N/this._granularityCellSize)-1;if(O?l<m:_<x)for(let K=q;K<=G;K++){let Z=K*this._granularityCellSize;o.push(this._vertexToIndex(Z,p+E*(Z-l)/I))}else for(let K=G;K>=q;K--){let Z=K*this._granularityCellSize;o.push(this._vertexToIndex(Z,p+E*(Z-l)/I))}}_generateInterEdgeVertices(o,l,p,m,g,_,x,I,E,O){let V=g-p,N=_-m,q=x-g,G=(E-g)/q,K=(O-g)/q,Z=Math.min(G,K),re=Math.max(G,K),ge=m+N*Z,ce=Math.floor(Math.min(ge,I)/this._granularityCellSize)+1,pe=Math.ceil(Math.max(ge,I)/this._granularityCellSize)-1,ve=I<ge,Ce=q===0;if(Ce&&(x===E||x===O))return;if(Ce||Z>=1||re<=0){let rt=p-x,tt=_+(l-_)*Math.min((E-x)/rt,(O-x)/rt);ce=Math.floor(Math.min(tt,I)/this._granularityCellSize)+1,pe=Math.ceil(Math.max(tt,I)/this._granularityCellSize)-1,ve=I<tt}let Re=V>0?O:E;if(ve)for(let rt=ce;rt<=pe;rt++)o.push(this._vertexToIndex(rt*this._granularityCellSize,Re));else for(let rt=pe;rt>=ce;rt--)o.push(this._vertexToIndex(rt*this._granularityCellSize,Re))}_generateOutline(o){let l=[];for(let p of o){let m=Ld(p,this._granularity,!0),g=this._pointArrayToIndices(m),_=[];for(let x=1;x<g.length;x++)_.push(g[x-1]),_.push(g[x]);l.push(_)}return l}_handlePoles(o){let l=!1,p=!1;this._canonical&&(this._canonical.y===0&&(l=!0),this._canonical.y===(1<<this._canonical.z)-1&&(p=!0)),(l||p)&&this._fillPoles(o,l,p)}_ensureNoPoleVertices(){let o=this._vertexBuffer;for(let l=0;l<o.length;l+=2){let p=o[l+1];p===Zu&&(o[l+1]=-32767),p===Xh&&(o[l+1]=32766)}}_generatePoleQuad(o,l,p,m,g,_){m>g!=(_===Zu)?(o.push(l),o.push(p),o.push(this._vertexToIndex(m,_)),o.push(p),o.push(this._vertexToIndex(g,_)),o.push(this._vertexToIndex(m,_))):(o.push(p),o.push(l),o.push(this._vertexToIndex(m,_)),o.push(this._vertexToIndex(g,_)),o.push(p),o.push(this._vertexToIndex(m,_)))}_fillPoles(o,l,p){let m=this._vertexBuffer,g=ui,_=o.length;for(let x=2;x<_;x+=3){let I=o[x-2],E=o[x-1],O=o[x],V=m[2*I],N=m[2*I+1],q=m[2*E],G=m[2*E+1],K=m[2*O],Z=m[2*O+1];l&&(N===0&&G===0&&this._generatePoleQuad(o,I,E,V,q,Zu),G===0&&Z===0&&this._generatePoleQuad(o,E,O,q,K,Zu),Z===0&&N===0&&this._generatePoleQuad(o,O,I,K,V,Zu)),p&&(N===g&&G===g&&this._generatePoleQuad(o,I,E,V,q,Xh),G===g&&Z===g&&this._generatePoleQuad(o,E,O,q,K,Xh),Z===g&&N===g&&this._generatePoleQuad(o,O,I,K,V,Xh))}}_initializeVertices(o){for(let l=0;l<o.length;l+=2)this._vertexToIndex(o[l],o[l+1])}subdividePolygonInternal(o,l){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;let{flattened:p,holeIndices:m}=function(x){let I=[],E=[];for(let O of x)if(O.length!==0){O!==x[0]&&I.push(E.length/2);for(let V=0;V<O.length;V++)E.push(O[V].x),E.push(O[V].y)}return{flattened:E,holeIndices:I}}(o),g;this._initializeVertices(p);try{let x=function(E,O,V=2){let N=O&&O.length,q=N?O[0]*V:E.length,G=l2(E,0,q,V,!0),K=[];if(!G||G.next===G.prev)return K;let Z,re,ge;if(N&&(G=function(ce,pe,ve,Ce){let Re=[];for(let rt=0,tt=pe.length;rt<tt;rt++){let dt=l2(ce,pe[rt]*Ce,rt<tt-1?pe[rt+1]*Ce:ce.length,Ce,!1);dt===dt.next&&(dt.steiner=!0),Re.push(n6(dt))}Re.sort(e6);for(let rt=0;rt<Re.length;rt++)ve=t6(Re[rt],ve);return ve}(E,O,G,V)),E.length>80*V){Z=E[0],re=E[1];let ce=Z,pe=re;for(let ve=V;ve<q;ve+=V){let Ce=E[ve],Re=E[ve+1];Ce<Z&&(Z=Ce),Re<re&&(re=Re),Ce>ce&&(ce=Ce),Re>pe&&(pe=Re)}ge=Math.max(ce-Z,pe-re),ge=ge!==0?32767/ge:0}return Kh(G,K,V,Z,re,ge,0),K}(p,m),I=this._convertIndices(p,x);g=this._subdivideTrianglesScanline(I)}catch(x){console.error(x)}let _=[];return l&&(_=this._generateOutline(o)),this._ensureNoPoleVertices(),this._handlePoles(g),{verticesFlattened:this._vertexBuffer,indicesTriangles:g,indicesLineList:_}}_convertIndices(o,l){let p=[];for(let m=0;m<l.length;m++)p.push(this._vertexToIndex(o[2*l[m]],o[2*l[m]+1]));return p}_pointArrayToIndices(o){let l=[];for(let p=0;p<o.length;p++){let m=o[p];l.push(this._vertexToIndex(m.x,m.y))}return l}}function h2(c,o,l,p=!0){return new o6(l,o).subdividePolygonInternal(c,p)}function Ld(c,o,l=!1){if(!c||c.length<1)return[];if(c.length<2)return[];let p=c[0],m=c[c.length-1],g=l&&(p.x!==m.x||p.y!==m.y);if(o<2)return g?[...c,c[0]]:[...c];let _=Math.floor(ui/o),x=[];x.push(new u(c[0].x,c[0].y));let I=c.length,E=g?I:I-1;for(let O=0;O<E;O++){let V=c[O],N=O<I-1?c[O+1]:c[0],q=V.x,G=V.y,K=N.x,Z=N.y,re=q!==K,ge=G!==Z;if(!re&&!ge)continue;let ce=K-q,pe=Z-G,ve=Math.abs(ce),Ce=Math.abs(pe),Re=q,rt=G;for(;;){let dt=ce>0?(Math.floor(Re/_)+1)*_:(Math.ceil(Re/_)-1)*_,St=pe>0?(Math.floor(rt/_)+1)*_:(Math.ceil(rt/_)-1)*_,ht=Math.abs(Re-dt),it=Math.abs(rt-St),Qe=Math.abs(Re-K),Nt=Math.abs(rt-Z),Ft=re?ht/ve:Number.POSITIVE_INFINITY,jt=ge?it/Ce:Number.POSITIVE_INFINITY;if((Qe<=ht||!re)&&(Nt<=it||!ge))break;if(Ft<jt&&re||!ge){Re=dt,rt+=pe*Ft;let Pt=new u(Re,Math.round(rt));x[x.length-1].x===Pt.x&&x[x.length-1].y===Pt.y||x.push(Pt)}else{Re+=ce*jt,rt=St;let Pt=new u(Math.round(Re),rt);x[x.length-1].x===Pt.x&&x[x.length-1].y===Pt.y||x.push(Pt)}}let tt=new u(K,Z);x[x.length-1].x===tt.x&&x[x.length-1].y===tt.y||x.push(tt)}return x}function r6(c,o,l){if(o.length===0)throw new Error("Subdivision vertex ring is empty.");let p=0,m=c[2*o[0]];for(let I=1;I<o.length;I++){let E=c[2*o[I]];E<m&&(m=E,p=I)}let g=o.length,_=p,x=(_+1)%g;for(;;){let I=_-1>=0?_-1:g-1,E=(x+1)%g,O=c[2*o[I]],V=c[2*o[E]],N=c[2*o[_]],q=c[2*o[_]+1],G=c[2*o[x]+1],K=!1;if(O<V)K=!0;else if(O>V)K=!1;else{let Z=G-q,re=-(c[2*o[x]]-N),ge=q<G?1:-1;((O-N)*Z+(c[2*o[I]+1]-q)*re)*ge>((V-N)*Z+(c[2*o[E]+1]-q)*re)*ge&&(K=!0)}if(K){let Z=o[I],re=o[_],ge=o[x];Z!==re&&Z!==ge&&re!==ge&&l.push(ge,re,Z),_--,_<0&&(_=g-1)}else{let Z=o[E],re=o[_],ge=o[x];Z!==re&&Z!==ge&&re!==ge&&l.push(ge,re,Z),x++,x>=g&&(x=0)}if(I===E)break}}function m2(c,o,l,p,m,g,_,x,I){let E=m.length/2,O=_&&x&&I;if(E<kt.MAX_VERTEX_ARRAY_LENGTH){let V=o.prepareSegment(E,l,p),N=V.vertexLength;for(let K=0;K<g.length;K+=3)p.emplaceBack(N+g[K],N+g[K+1],N+g[K+2]);let q,G;V.vertexLength+=E,V.primitiveLength+=g.length/3,O&&(G=_.prepareSegment(E,l,x),q=G.vertexLength,G.vertexLength+=E);for(let K=0;K<m.length;K+=2)c(m[K],m[K+1]);if(O)for(let K=0;K<I.length;K++){let Z=I[K];for(let re=1;re<Z.length;re+=2)x.emplaceBack(q+Z[re-1],q+Z[re]);G.primitiveLength+=Z.length/2}}else(function(V,N,q,G,K,Z){let re=[];for(let Ce=0;Ce<G.length/2;Ce++)re.push(-1);let ge={count:0},ce=0,pe=V.getOrCreateLatestSegment(N,q),ve=pe.vertexLength;for(let Ce=2;Ce<K.length;Ce+=3){let Re=K[Ce-2],rt=K[Ce-1],tt=K[Ce],dt=re[Re]<ce,St=re[rt]<ce,ht=re[tt]<ce;pe.vertexLength+((dt?1:0)+(St?1:0)+(ht?1:0))>kt.MAX_VERTEX_ARRAY_LENGTH&&(pe=V.createNewSegment(N,q),ce=ge.count,dt=!0,St=!0,ht=!0,ve=0);let it=Yh(re,G,Z,ge,Re,dt,pe),Qe=Yh(re,G,Z,ge,rt,St,pe),Nt=Yh(re,G,Z,ge,tt,ht,pe);q.emplaceBack(ve+it-ce,ve+Qe-ce,ve+Nt-ce),pe.primitiveLength++}})(o,l,p,m,g,c),O&&function(V,N,q,G,K,Z){let re=[];for(let Ce=0;Ce<G.length/2;Ce++)re.push(-1);let ge={count:0},ce=0,pe=V.getOrCreateLatestSegment(N,q),ve=pe.vertexLength;for(let Ce=0;Ce<K.length;Ce++){let Re=K[Ce];for(let rt=1;rt<K[Ce].length;rt+=2){let tt=Re[rt-1],dt=Re[rt],St=re[tt]<ce,ht=re[dt]<ce;pe.vertexLength+((St?1:0)+(ht?1:0))>kt.MAX_VERTEX_ARRAY_LENGTH&&(pe=V.createNewSegment(N,q),ce=ge.count,St=!0,ht=!0,ve=0);let it=Yh(re,G,Z,ge,tt,St,pe),Qe=Yh(re,G,Z,ge,dt,ht,pe);q.emplaceBack(ve+it-ce,ve+Qe-ce),pe.primitiveLength++}}}(_,l,x,m,I,c),o.forceNewSegmentOnNextPrepare(),_?.forceNewSegmentOnNextPrepare()}function Yh(c,o,l,p,m,g,_){if(g){let x=p.count;return l(o[2*m],o[2*m+1]),c[m]=p.count,p.count++,_.vertexLength++,x}return c[m]}class k1{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(l=>l.id),this.index=o.index,this.hasDependencies=!1,this.patternFeatures=[],this.layoutVertexArray=new me,this.indexArray=new $e,this.indexArray2=new Tt,this.programConfigurations=new ll(o.layers,o.zoom),this.segments=new kt,this.segments2=new kt,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(o,l,p){this.hasDependencies=i0("fill",this.layers,l);let m=this.layers[0].layout.get("fill-sort-key"),g=!m.isConstant(),_=[];for(let{feature:x,id:I,index:E,sourceLayerIndex:O}of o){let V=this.layers[0]._featureFilter.needGeometry,N=Ms(x,V);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),N,p))continue;let q=g?m.evaluate(N,{},p,l.availableImages):void 0,G={id:I,properties:x.properties,type:x.type,sourceLayerIndex:O,index:E,geometry:V?N.geometry:Ss(x),patterns:{},sortKey:q};_.push(G)}g&&_.sort((x,I)=>x.sortKey-I.sortKey);for(let x of _){let{geometry:I,index:E,sourceLayerIndex:O}=x;if(this.hasDependencies){let V=C1("fill",this.layers,x,{zoom:this.zoom},l);this.patternFeatures.push(V)}else this.addFeature(x,I,E,p,{},l.subdivisionGranularity);l.featureIndex.insert(o[E].feature,I,E,O,this.index)}}update(o,l,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,l,this.stateDependentLayers,{imagePositions:p})}addFeatures(o,l,p){for(let m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,l,p,o.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Z4),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.indexBuffer2=o.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(o,l,p,m,g,_){for(let x of pu(l,500)){let I=h2(x,m,_.fill.getGranularityForZoomLevel(m.z)),E=this.layoutVertexArray;m2((O,V)=>{E.emplaceBack(O,V)},this.segments,this.layoutVertexArray,this.indexArray,I.verticesFlattened,I.indicesTriangles,this.segments2,this.indexArray2,I.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,p,{imagePositions:g,canonical:m})}}let f2,g2;Ht("FillBucket",k1,{omit:["layers","patternFeatures"]});var s6={get paint(){return g2=g2||new go({"fill-antialias":new Xt(Ge.paint_fill["fill-antialias"]),"fill-opacity":new ai(Ge.paint_fill["fill-opacity"]),"fill-color":new ai(Ge.paint_fill["fill-color"]),"fill-outline-color":new ai(Ge.paint_fill["fill-outline-color"]),"fill-translate":new Xt(Ge.paint_fill["fill-translate"]),"fill-translate-anchor":new Xt(Ge.paint_fill["fill-translate-anchor"]),"fill-pattern":new Id(Ge.paint_fill["fill-pattern"])})},get layout(){return f2=f2||new go({"fill-sort-key":new ai(Ge.layout_fill["fill-sort-key"])})}};class l6 extends er{constructor(o,l){super(o,s6,l)}recalculate(o,l){super.recalculate(o,l);let p=this.paint._values["fill-outline-color"];p.value.kind==="constant"&&p.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(o){return new k1(o)}queryRadius(){return e0(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:o,geometry:l,transform:p,pixelsToTileUnits:m}){return Wv(t0(o,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-p.bearingInRadians,m),l)}isTileClipped(){return!0}}let c6=la([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),d6=la([{name:"a_centroid",components:2,type:"Int16"}],4),{members:u6}=c6;class Jh{constructor(o,l,p,m,g){this.properties={},this.extent=p,this.type=0,this.id=void 0,this._pbf=o,this._geometry=-1,this._keys=m,this._values=g,o.readFields(p6,this,l)}loadGeometry(){let o=this._pbf;o.pos=this._geometry;let l=o.readVarint()+o.pos,p=[],m,g=1,_=0,x=0,I=0;for(;o.pos<l;){if(_<=0){let E=o.readVarint();g=7&E,_=E>>3}if(_--,g===1||g===2)x+=o.readSVarint(),I+=o.readSVarint(),g===1&&(m&&p.push(m),m=[]),m&&m.push(new u(x,I));else{if(g!==7)throw new Error(`unknown command ${g}`);m&&m.push(m[0].clone())}}return m&&p.push(m),p}bbox(){let o=this._pbf;o.pos=this._geometry;let l=o.readVarint()+o.pos,p=1,m=0,g=0,_=0,x=1/0,I=-1/0,E=1/0,O=-1/0;for(;o.pos<l;){if(m<=0){let V=o.readVarint();p=7&V,m=V>>3}if(m--,p===1||p===2)g+=o.readSVarint(),_+=o.readSVarint(),g<x&&(x=g),g>I&&(I=g),_<E&&(E=_),_>O&&(O=_);else if(p!==7)throw new Error(`unknown command ${p}`)}return[x,E,I,O]}toGeoJSON(o,l,p){let m=this.extent*Math.pow(2,p),g=this.extent*o,_=this.extent*l,x=this.loadGeometry();function I(N){return[360*(N.x+g)/m-180,360/Math.PI*Math.atan(Math.exp((1-2*(N.y+_)/m)*Math.PI))-90]}function E(N){return N.map(I)}let O;if(this.type===1){let N=[];for(let G of x)N.push(G[0]);let q=E(N);O=N.length===1?{type:"Point",coordinates:q[0]}:{type:"MultiPoint",coordinates:q}}else if(this.type===2){let N=x.map(E);O=N.length===1?{type:"LineString",coordinates:N[0]}:{type:"MultiLineString",coordinates:N}}else{if(this.type!==3)throw new Error("unknown feature type");{let N=_2(x),q=[];for(let G of N)q.push(G.map(E));O=q.length===1?{type:"Polygon",coordinates:q[0]}:{type:"MultiPolygon",coordinates:q}}}let V={type:"Feature",geometry:O,properties:this.properties};return this.id!=null&&(V.id=this.id),V}}function p6(c,o,l){c===1?o.id=l.readVarint():c===2?function(p,m){let g=p.readVarint()+p.pos;for(;p.pos<g;){let _=m._keys[p.readVarint()],x=m._values[p.readVarint()];m.properties[_]=x}}(l,o):c===3?o.type=l.readVarint():c===4&&(o._geometry=l.pos)}function _2(c){let o=c.length;if(o<=1)return[c];let l=[],p,m;for(let g=0;g<o;g++){let _=h6(c[g]);_!==0&&(m===void 0&&(m=_<0),m===_<0?(p&&l.push(p),p=[c[g]]):p&&p.push(c[g]))}return p&&l.push(p),l}function h6(c){let o=0;for(let l,p,m=0,g=c.length,_=g-1;m<g;_=m++)l=c[m],p=c[_],o+=(p.x-l.x)*(l.y+p.y);return o}Jh.types=["Unknown","Point","LineString","Polygon"];class m6{constructor(o,l){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=o,this._keys=[],this._values=[],this._features=[],o.readFields(f6,this,l),this.length=this._features.length}feature(o){if(o<0||o>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[o];let l=this._pbf.readVarint()+this._pbf.pos;return new Jh(this._pbf,l,this.extent,this._keys,this._values)}}function f6(c,o,l){c===15?o.version=l.readVarint():c===1?o.name=l.readString():c===5?o.extent=l.readVarint():c===2?o._features.push(l.pos):c===3?o._keys.push(l.readString()):c===4&&o._values.push(function(p){let m=null,g=p.readVarint()+p.pos;for(;p.pos<g;){let _=p.readVarint()>>3;m=_===1?p.readString():_===2?p.readFloat():_===3?p.readDouble():_===4?p.readVarint64():_===5?p.readVarint():_===6?p.readSVarint():_===7?p.readBoolean():null}if(m==null)throw new Error("unknown feature value");return m}(l))}class b2{constructor(o,l){this.layers=o.readFields(g6,{},l)}}function g6(c,o,l){if(c===3){let p=new m6(l,l.readVarint()+l.pos);p.length&&(o[p.name]=p)}}let E1=Math.pow(2,13);function em(c,o,l,p,m,g,_,x){c.emplaceBack(o,l,2*Math.floor(p*E1)+_,m*E1*2,g*E1*2,Math.round(x))}class P1{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(l=>l.id),this.index=o.index,this.hasDependencies=!1,this.layoutVertexArray=new be,this.centroidVertexArray=new he,this.indexArray=new $e,this.programConfigurations=new ll(o.layers,o.zoom),this.segments=new kt,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(o,l,p){this.features=[],this.hasDependencies=i0("fill-extrusion",this.layers,l);for(let{feature:m,id:g,index:_,sourceLayerIndex:x}of o){let I=this.layers[0]._featureFilter.needGeometry,E=Ms(m,I);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),E,p))continue;let O={id:g,sourceLayerIndex:x,index:_,geometry:I?E.geometry:Ss(m),properties:m.properties,type:m.type,patterns:{}};this.hasDependencies?this.features.push(C1("fill-extrusion",this.layers,O,{zoom:this.zoom},l)):this.addFeature(O,O.geometry,_,p,{},l.subdivisionGranularity),l.featureIndex.insert(m,O.geometry,_,x,this.index,!0)}}addFeatures(o,l,p){for(let m of this.features){let{geometry:g}=m;this.addFeature(m,g,m.index,l,p,o.subdivisionGranularity)}}update(o,l,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,l,this.stateDependentLayers,{imagePositions:p})}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,u6),this.centroidVertexBuffer=o.createVertexBuffer(this.centroidVertexArray,d6.members,!0),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(o,l,p,m,g,_){for(let x of pu(l,500)){let I={x:0,y:0,sampleCount:0},E=this.layoutVertexArray.length;this.processPolygon(I,m,o,x,_);let O=this.layoutVertexArray.length-E,V=Math.floor(I.x/I.sampleCount),N=Math.floor(I.y/I.sampleCount);for(let q=0;q<O;q++)this.centroidVertexArray.emplaceBack(V,N)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,p,{imagePositions:g,canonical:m})}processPolygon(o,l,p,m,g){if(m.length<1||y2(m[0]))return;for(let V of m)V.length!==0&&_6(o,V);let _={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},x=g.fill.getGranularityForZoomLevel(l.z),I=Jh.types[p.type]==="Polygon";for(let V of m){if(V.length===0||y2(V))continue;let N=Ld(V,x,I);this._generateSideFaces(N,_)}if(!I)return;let E=h2(m,l,x,!1),O=this.layoutVertexArray;m2((V,N)=>{em(O,V,N,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,E.verticesFlattened,E.indicesTriangles)}_generateSideFaces(o,l){let p=0;for(let m=1;m<o.length;m++){let g=o[m],_=o[m-1];if(b6(g,_))continue;l.segment.vertexLength+4>kt.MAX_VERTEX_ARRAY_LENGTH&&(l.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));let x=g.sub(_)._perp()._unit(),I=_.dist(g);p+I>32768&&(p=0),em(this.layoutVertexArray,g.x,g.y,x.x,x.y,0,0,p),em(this.layoutVertexArray,g.x,g.y,x.x,x.y,0,1,p),p+=I,em(this.layoutVertexArray,_.x,_.y,x.x,x.y,0,0,p),em(this.layoutVertexArray,_.x,_.y,x.x,x.y,0,1,p);let E=l.segment.vertexLength;this.indexArray.emplaceBack(E,E+2,E+1),this.indexArray.emplaceBack(E+1,E+2,E+3),l.segment.vertexLength+=4,l.segment.primitiveLength+=2}}}function _6(c,o){for(let l=0;l<o.length;l++){let p=o[l];l===o.length-1&&o[0].x===p.x&&o[0].y===p.y||(c.x+=p.x,c.y+=p.y,c.sampleCount++)}}function b6(c,o){return c.x===o.x&&(c.x<0||c.x>ui)||c.y===o.y&&(c.y<0||c.y>ui)}function y2(c){return c.every(o=>o.x<0)||c.every(o=>o.x>ui)||c.every(o=>o.y<0)||c.every(o=>o.y>ui)}let v2;Ht("FillExtrusionBucket",P1,{omit:["layers","features"]});var y6={get paint(){return v2=v2||new go({"fill-extrusion-opacity":new Xt(Ge["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ai(Ge["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Xt(Ge["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Xt(Ge["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Id(Ge["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ai(Ge["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ai(Ge["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Xt(Ge["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class v6 extends er{constructor(o,l){super(o,y6,l)}createBucket(o){return new P1(o)}queryRadius(){return e0(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:o,feature:l,featureState:p,geometry:m,transform:g,pixelsToTileUnits:_,pixelPosMatrix:x}){let I=t0(o,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-g.bearingInRadians,_),E=this.paint.get("fill-extrusion-height").evaluate(l,p),O=this.paint.get("fill-extrusion-base").evaluate(l,p),V=function(q,G){let K=[];for(let Z of q){let re=[Z.x,Z.y,0,1];Si(re,re,G),K.push(new u(re[0]/re[3],re[1]/re[3]))}return K}(I,x),N=function(q,G,K,Z){let re=[],ge=[],ce=Z[8]*G,pe=Z[9]*G,ve=Z[10]*G,Ce=Z[11]*G,Re=Z[8]*K,rt=Z[9]*K,tt=Z[10]*K,dt=Z[11]*K;for(let St of q){let ht=[],it=[];for(let Qe of St){let Nt=Qe.x,Ft=Qe.y,jt=Z[0]*Nt+Z[4]*Ft+Z[12],Pt=Z[1]*Nt+Z[5]*Ft+Z[13],ti=Z[2]*Nt+Z[6]*Ft+Z[14],ji=Z[3]*Nt+Z[7]*Ft+Z[15],Pi=ti+ve,On=ji+Ce,to=jt+Re,xa=Pt+rt,Fn=ti+tt,kn=ji+dt,tn=new u((jt+ce)/On,(Pt+pe)/On);tn.z=Pi/On,ht.push(tn);let Yn=new u(to/kn,xa/kn);Yn.z=Fn/kn,it.push(Yn)}re.push(ht),ge.push(it)}return[re,ge]}(m,O,E,x);return function(q,G,K){let Z=1/0;Wv(K,G)&&(Z=x2(K,G[0]));for(let re=0;re<G.length;re++){let ge=G[re],ce=q[re];for(let pe=0;pe<ge.length-1;pe++){let ve=ge[pe],Ce=[ve,ge[pe+1],ce[pe+1],ce[pe],ve];Gu(K,Ce)&&(Z=Math.min(Z,x2(K,Ce)))}}return Z!==1/0&&Z}(N[0],N[1],V)}}function tm(c,o){return c.x*o.x+c.y*o.y}function x2(c,o){if(c.length===1){let l=0,p=o[l++],m;for(;!m||p.equals(m);)if(m=o[l++],!m)return 1/0;for(;l<o.length;l++){let g=o[l],_=c[0],x=m.sub(p),I=g.sub(p),E=_.sub(p),O=tm(x,x),V=tm(x,I),N=tm(I,I),q=tm(E,x),G=tm(E,I),K=O*N-V*V,Z=(N*q-V*G)/K,re=(O*G-V*q)/K,ge=p.z*(1-Z-re)+m.z*Z+g.z*re;if(isFinite(ge))return ge}return 1/0}{let l=1/0;for(let p of o)l=Math.min(l,p.z);return l}}let x6=la([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:w6}=x6,I6=la([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:T6}=I6,C6=Math.cos(Math.PI/180*37.5),w2=Math.pow(2,14)/.5;class D1{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(l=>l.id),this.index=o.index,this.hasDependencies=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(l=>{this.gradients[l.id]={}}),this.layoutVertexArray=new Me,this.layoutVertexArray2=new _e,this.indexArray=new $e,this.programConfigurations=new ll(o.layers,o.zoom),this.segments=new kt,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(o,l,p){this.hasDependencies=i0("line",this.layers,l)||this.hasLineDasharray(this.layers);let m=this.layers[0].layout.get("line-sort-key"),g=!m.isConstant(),_=[];for(let{feature:x,id:I,index:E,sourceLayerIndex:O}of o){let V=this.layers[0]._featureFilter.needGeometry,N=Ms(x,V);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),N,p))continue;let q=g?m.evaluate(N,{},p):void 0,G={id:I,properties:x.properties,type:x.type,sourceLayerIndex:O,index:E,geometry:V?N.geometry:Ss(x),patterns:{},dashes:{},sortKey:q};_.push(G)}g&&_.sort((x,I)=>x.sortKey-I.sortKey);for(let x of _){let{geometry:I,index:E,sourceLayerIndex:O}=x;this.hasDependencies?(i0("line",this.layers,l)?C1("line",this.layers,x,{zoom:this.zoom},l):this.hasLineDasharray(this.layers)&&this.addLineDashDependencies(this.layers,x,this.zoom,l),this.patternFeatures.push(x)):this.addFeature(x,I,E,p,{},{},l.subdivisionGranularity),l.featureIndex.insert(o[E].feature,I,E,O,this.index)}}update(o,l,p,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,l,this.stateDependentLayers,{imagePositions:p,dashPositions:m})}addFeatures(o,l,p,m){for(let g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,l,p,m,o.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=o.createVertexBuffer(this.layoutVertexArray2,T6)),this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,w6),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(o){if(o.properties&&Object.prototype.hasOwnProperty.call(o.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(o.properties,"mapbox_clip_end"))return{start:+o.properties.mapbox_clip_start,end:+o.properties.mapbox_clip_end}}addFeature(o,l,p,m,g,_,x){let I=this.layers[0].layout,E=I.get("line-join").evaluate(o,{}),O=I.get("line-cap"),V=I.get("line-miter-limit"),N=I.get("line-round-limit");this.lineClips=this.lineFeatureClips(o);for(let q of l)this.addLine(q,o,E,O,V,N,m,x);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,p,{imagePositions:g,dashPositions:_,canonical:m})}addLine(o,l,p,m,g,_,x,I){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,o=Ld(o,x?I.line.getGranularityForZoomLevel(x.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ce=0;ce<o.length-1;ce++)this.totalDistance+=o[ce].dist(o[ce+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}let E=Jh.types[l.type]==="Polygon",O=o.length;for(;O>=2&&o[O-1].equals(o[O-2]);)O--;let V=0;for(;V<O-1&&o[V].equals(o[V+1]);)V++;if(O<(E?3:2))return;p==="bevel"&&(g=1.05);let N=this.overscaling<=16?122880/(512*this.overscaling):0,q=this.segments.prepareSegment(10*O,this.layoutVertexArray,this.indexArray),G,K,Z,re,ge;this.e1=this.e2=-1,E&&(G=o[O-2],ge=o[V].sub(G)._unit()._perp());for(let ce=V;ce<O;ce++){if(Z=ce===O-1?E?o[V+1]:void 0:o[ce+1],Z&&o[ce].equals(Z))continue;ge&&(re=ge),G&&(K=G),G=o[ce],ge=Z?Z.sub(G)._unit()._perp():re,re=re||ge;let pe=re.add(ge);pe.x===0&&pe.y===0||pe._unit();let ve=re.x*ge.x+re.y*ge.y,Ce=pe.x*ge.x+pe.y*ge.y,Re=Ce!==0?1/Ce:1/0,rt=2*Math.sqrt(2-2*Ce),tt=Ce<C6&&K&&Z,dt=re.x*ge.y-re.y*ge.x>0;if(tt&&ce>V){let it=G.dist(K);if(it>2*N){let Qe=G.sub(G.sub(K)._mult(N/it)._round());this.updateDistance(K,Qe),this.addCurrentVertex(Qe,re,0,0,q),K=Qe}}let St=K&&Z,ht=St?p:E?"butt":m;if(St&&ht==="round"&&(Re<_?ht="miter":Re<=2&&(ht="fakeround")),ht==="miter"&&Re>g&&(ht="bevel"),ht==="bevel"&&(Re>2&&(ht="flipbevel"),Re<g&&(ht="miter")),K&&this.updateDistance(K,G),ht==="miter")pe._mult(Re),this.addCurrentVertex(G,pe,0,0,q);else if(ht==="flipbevel"){if(Re>100)pe=ge.mult(-1);else{let it=Re*re.add(ge).mag()/re.sub(ge).mag();pe._perp()._mult(it*(dt?-1:1))}this.addCurrentVertex(G,pe,0,0,q),this.addCurrentVertex(G,pe.mult(-1),0,0,q)}else if(ht==="bevel"||ht==="fakeround"){let it=-Math.sqrt(Re*Re-1),Qe=dt?it:0,Nt=dt?0:it;if(K&&this.addCurrentVertex(G,re,Qe,Nt,q),ht==="fakeround"){let Ft=Math.round(180*rt/Math.PI/20);for(let jt=1;jt<Ft;jt++){let Pt=jt/Ft;if(Pt!==.5){let ji=Pt-.5;Pt+=Pt*ji*(Pt-1)*((1.0904+ve*(ve*(3.55645-1.43519*ve)-3.2452))*ji*ji+(.848013+ve*(.215638*ve-1.06021)))}let ti=ge.sub(re)._mult(Pt)._add(re)._unit()._mult(dt?-1:1);this.addHalfVertex(G,ti.x,ti.y,!1,dt,0,q)}}Z&&this.addCurrentVertex(G,ge,-Qe,-Nt,q)}else if(ht==="butt")this.addCurrentVertex(G,pe,0,0,q);else if(ht==="square"){let it=K?1:-1;this.addCurrentVertex(G,pe,it,it,q)}else ht==="round"&&(K&&(this.addCurrentVertex(G,re,0,0,q),this.addCurrentVertex(G,re,1,1,q,!0)),Z&&(this.addCurrentVertex(G,ge,-1,-1,q,!0),this.addCurrentVertex(G,ge,0,0,q)));if(tt&&ce<O-1){let it=G.dist(Z);if(it>2*N){let Qe=G.add(Z.sub(G)._mult(N/it)._round());this.updateDistance(G,Qe),this.addCurrentVertex(Qe,ge,0,0,q),G=Qe}}}}addCurrentVertex(o,l,p,m,g,_=!1){let x=l.y*m-l.x,I=-l.y-l.x*m;this.addHalfVertex(o,l.x+l.y*p,l.y-l.x*p,_,!1,p,g),this.addHalfVertex(o,x,I,_,!0,-m,g),this.distance>w2/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(o,l,p,m,g,_))}addHalfVertex({x:o,y:l},p,m,g,_,x,I){let E=.5*(this.lineClips?this.scaledDistance*(w2-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((o<<1)+(g?1:0),(l<<1)+(_?1:0),Math.round(63*p)+128,Math.round(63*m)+128,1+(x===0?0:x<0?-1:1)|(63&E)<<2,E>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);let O=I.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,O,this.e2),I.primitiveLength++),_?this.e2=O:this.e1=O}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(o,l){this.distance+=o.dist(l),this.updateScaledDistance()}hasLineDasharray(o){for(let l of o){let p=l.paint.get("line-dasharray");if(p&&!p.isConstant())return!0}return!1}addLineDashDependencies(o,l,p,m){for(let g of o){let _=g.paint.get("line-dasharray");if(!_||_.value.kind==="constant")continue;let x=g.layout.get("line-cap")==="round",I={dasharray:_.value.evaluate({zoom:p-1},l,{}),round:x},E={dasharray:_.value.evaluate({zoom:p},l,{}),round:x},O={dasharray:_.value.evaluate({zoom:p+1},l,{}),round:x},V=`${I.dasharray.join(",")},${I.round}`,N=`${E.dasharray.join(",")},${E.round}`,q=`${O.dasharray.join(",")},${O.round}`;m.dashDependencies[V]=I,m.dashDependencies[N]=E,m.dashDependencies[q]=O,l.dashes[g.id]={min:V,mid:N,max:q}}}}let I2,T2;Ht("LineBucket",D1,{omit:["layers","patternFeatures"]});var C2={get paint(){return T2=T2||new go({"line-opacity":new ai(Ge.paint_line["line-opacity"]),"line-color":new ai(Ge.paint_line["line-color"]),"line-translate":new Xt(Ge.paint_line["line-translate"]),"line-translate-anchor":new Xt(Ge.paint_line["line-translate-anchor"]),"line-width":new ai(Ge.paint_line["line-width"]),"line-gap-width":new ai(Ge.paint_line["line-gap-width"]),"line-offset":new ai(Ge.paint_line["line-offset"]),"line-blur":new ai(Ge.paint_line["line-blur"]),"line-dasharray":new Id(Ge.paint_line["line-dasharray"]),"line-pattern":new Id(Ge.paint_line["line-pattern"]),"line-gradient":new Vu(Ge.paint_line["line-gradient"])})},get layout(){return I2=I2||new go({"line-cap":new Xt(Ge.layout_line["line-cap"]),"line-join":new ai(Ge.layout_line["line-join"]),"line-miter-limit":new Xt(Ge.layout_line["line-miter-limit"]),"line-round-limit":new Xt(Ge.layout_line["line-round-limit"]),"line-sort-key":new ai(Ge.layout_line["line-sort-key"])})}};class S6 extends ai{possiblyEvaluate(o,l){return l=new pn(Math.floor(l.zoom),{now:l.now,fadeDuration:l.fadeDuration,zoomHistory:l.zoomHistory,transition:l.transition}),super.possiblyEvaluate(o,l)}evaluate(o,l,p,m){return l=$n({},l,{zoom:Math.floor(l.zoom)}),super.evaluate(o,l,p,m)}}let r0;class M6 extends er{constructor(o,l){super(o,C2,l),this.gradientVersion=0,r0||(r0=new S6(C2.paint.properties["line-width"].specification),r0.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(o){if(o==="line-gradient"){let l=this.gradientExpression();this.stepInterpolant=!!function(p){return p._styleExpression!==void 0}(l)&&l._styleExpression.expression instanceof bs,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(o,l){super.recalculate(o,l),this.paint._values["line-floorwidth"]=r0.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,o)}createBucket(o){return new D1(o)}queryRadius(o){let l=o,p=S2($u("line-width",this,l),$u("line-gap-width",this,l)),m=$u("line-offset",this,l);return p/2+Math.abs(m)+e0(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:o,feature:l,featureState:p,geometry:m,transform:g,pixelsToTileUnits:_}){let x=t0(o,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-g.bearingInRadians,_),I=_/2*S2(this.paint.get("line-width").evaluate(l,p),this.paint.get("line-gap-width").evaluate(l,p)),E=this.paint.get("line-offset").evaluate(l,p);return E&&(m=function(O,V){let N=[];for(let q=0;q<O.length;q++){let G=F4(O[q]),K=[];for(let Z=0;Z<G.length;Z++){let re=G[Z],ge=G[Z-1],ce=G[Z+1],pe=Z===0?new u(0,0):re.sub(ge)._unit()._perp(),ve=Z===G.length-1?new u(0,0):ce.sub(re)._unit()._perp(),Ce=pe._add(ve)._unit(),Re=Ce.x*ve.x+Ce.y*ve.y;Re!==0&&Ce._mult(1/Re),K.push(Ce._mult(V)._add(re))}N.push(K)}return N}(m,E*_)),function(O,V,N){for(let q=0;q<V.length;q++){let G=V[q];if(O.length>=3){for(let K=0;K<G.length;K++)if(Uu(O,G[K]))return!0}if(L4(O,G,N))return!0}return!1}(x,m,I)}isTileClipped(){return!0}}function S2(c,o){return o>0?o+2*c:c}let k6=la([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),E6=la([{name:"a_projected_pos",components:3,type:"Float32"}],4);la([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);let P6=la([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);la([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);let M2=la([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),D6=la([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function L6(c,o,l){return c.sections.forEach(p=>{p.text=function(m,g,_){let x=g.layout.get("text-transform").evaluate(_,{});return x==="uppercase"?m=m.toLocaleUpperCase():x==="lowercase"&&(m=m.toLocaleLowerCase()),Is.applyArabicShaping&&(m=Is.applyArabicShaping(m)),m}(p.text,o,l)}),c}la([{name:"triangle",components:3,type:"Uint16"}]),la([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),la([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),la([{type:"Float32",name:"offsetX"}]),la([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),la([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);var Ra=24;let im={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u22EF":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"},A6={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},O6={40:!0};function k2(c,o,l,p,m,g){if("fontStack"in o){let _=l[o.fontStack],x=_&&_[c];return x?x.metrics.advance*o.scale+m:0}{let _=p[o.imageName];return _?_.displaySize[0]*o.scale*Ra/g+m:0}}function E2(c,o,l,p){let m=Math.pow(c-o,2);return p?c<o?m/2:2*m:m+Math.abs(l)*l}function F6(c,o,l){let p=0;return c===10&&(p-=1e4),l&&(p+=150),c!==40&&c!==65288||(p+=50),o!==41&&o!==65289||(p+=50),p}function P2(c,o,l,p,m,g){let _=null,x=E2(o,l,m,g);for(let I of p){let E=E2(o-I.x,l,m,g)+I.badness;E<=x&&(_=I,x=E)}return{index:c,x:o,priorBreak:_,badness:x}}function D2(c){return c?D2(c.priorBreak).concat(c.index):[]}class Qu{constructor(o="",l=[],p=[]){this.text=o,this.sections=l,this.sectionIndex=p,this.imageSectionID=null}static fromFeature(o,l){let p=new Qu;for(let m=0;m<o.sections.length;m++){let g=o.sections[m];g.image?p.addImageSection(g):p.addTextSection(g,l)}return p}length(){return[...this.text].length}getSection(o){return this.sections[this.sectionIndex[o]]}getSectionIndex(o){return this.sectionIndex[o]}verticalizePunctuation(){this.text=function(o){let l="",p={premature:!0,value:void 0},m=o[Symbol.iterator](),g=m.next(),_=o[Symbol.iterator]();_.next();let x=_.next();for(;!g.done;)l+=!x.done&&Lh(x.value.codePointAt(0))&&!im[x.value]||!p.premature&&Lh(p.value.codePointAt(0))&&!im[p.value]||!im[g.value]?g.value:im[g.value],p={value:g.value,premature:!1},g=m.next(),x=_.next();return l}(this.text)}hasZeroWidthSpaces(){return this.text.includes("\u200B")}trim(){let o=this.text.match(/^\s*/),l=o?o[0].length:0,p=this.text.match(/\S\s*$/),m=p?p[0].length-1:0;this.text=this.text.substring(l,this.text.length-m),this.sectionIndex=this.sectionIndex.slice(l,this.sectionIndex.length-m)}substring(o,l){let p=[...this.text].slice(o,l).join(""),m=this.sectionIndex.slice(o,l);return new Qu(p,this.sections,m)}toCodeUnitIndex(o){return[...this.text].slice(0,o).join("").length}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((o,l)=>Math.max(o,this.sections[l].scale),0)}getMaxImageSize(o){let l=0,p=0;for(let m=0;m<this.length();m++){let g=this.getSection(m);if("imageName"in g){let _=o[g.imageName];if(!_)continue;let x=_.displaySize;l=Math.max(l,x[0]),p=Math.max(p,x[1])}}return{maxImageWidth:l,maxImageHeight:p}}addTextSection(o,l){this.text+=o.text,this.sections.push({scale:o.scale||1,verticalAlign:o.verticalAlign||"bottom",fontStack:o.fontStack||l});let p=this.sections.length-1;this.sectionIndex.push(...[...o.text].map(()=>p))}addImageSection(o){let l=o.image?o.image.name:"";if(l.length===0)return void Fa("Can't add FormattedSection with an empty image.");let p=this.getNextImageSectionCharCode();p?(this.text+=String.fromCharCode(p),this.sections.push({scale:1,verticalAlign:o.verticalAlign||"bottom",imageName:l}),this.sectionIndex.push(this.sections.length-1)):Fa("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}determineLineBreaks(o,l,p,m,g){let _=[],x=this.determineAverageLineWidth(o,l,p,m,g),I=this.hasZeroWidthSpaces(),E=0,O=0,V=this.text[Symbol.iterator](),N=V.next(),q=this.text[Symbol.iterator]();q.next();let G=q.next(),K=this.text[Symbol.iterator]();K.next(),K.next();let Z=K.next();for(;!N.done;){let re=this.getSection(O),ge=N.value.codePointAt(0);if(Hf(ge)||(E+=k2(ge,re,p,m,o,g)),!G.done){let ce=vd(ge),pe=G.value.codePointAt(0);(A6[ge]||ce||"imageName"in re||!Z.done&&O6[pe])&&_.push(P2(O+1,E,x,_,F6(ge,pe,ce&&I),!1))}O++,N=V.next(),G=q.next(),Z=K.next()}return D2(P2(this.length(),E,x,_,0,!0))}determineAverageLineWidth(o,l,p,m,g){let _=0,x=0;for(let I of this.text){let E=this.getSection(x);_+=k2(I.codePointAt(0),E,p,m,o,g),x++}return _/Math.max(1,Math.ceil(_/l))}}let L1=4294967296,L2=1/L1,A2=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");class s0{constructor(o=new Uint8Array(16)){this.buf=ArrayBuffer.isView(o)?o:new Uint8Array(o),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(o,l,p=this.length){for(;this.pos<p;){let m=this.readVarint(),g=m>>3,_=this.pos;this.type=7&m,o(g,l,this),this.pos===_&&this.skip(m)}return l}readMessage(o,l){return this.readFields(o,l,this.readVarint()+this.pos)}readFixed32(){let o=this.dataView.getUint32(this.pos,!0);return this.pos+=4,o}readSFixed32(){let o=this.dataView.getInt32(this.pos,!0);return this.pos+=4,o}readFixed64(){let o=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*L1;return this.pos+=8,o}readSFixed64(){let o=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*L1;return this.pos+=8,o}readFloat(){let o=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,o}readDouble(){let o=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,o}readVarint(o){let l=this.buf,p,m;return m=l[this.pos++],p=127&m,m<128?p:(m=l[this.pos++],p|=(127&m)<<7,m<128?p:(m=l[this.pos++],p|=(127&m)<<14,m<128?p:(m=l[this.pos++],p|=(127&m)<<21,m<128?p:(m=l[this.pos],p|=(15&m)<<28,function(g,_,x){let I=x.buf,E,O;if(O=I[x.pos++],E=(112&O)>>4,O<128||(O=I[x.pos++],E|=(127&O)<<3,O<128)||(O=I[x.pos++],E|=(127&O)<<10,O<128)||(O=I[x.pos++],E|=(127&O)<<17,O<128)||(O=I[x.pos++],E|=(127&O)<<24,O<128)||(O=I[x.pos++],E|=(1&O)<<31,O<128))return Xu(g,E,_);throw new Error("Expected varint not more than 10 bytes")}(p,o,this)))))}readVarint64(){return this.readVarint(!0)}readSVarint(){let o=this.readVarint();return o%2==1?(o+1)/-2:o/2}readBoolean(){return!!this.readVarint()}readString(){let o=this.readVarint()+this.pos,l=this.pos;return this.pos=o,o-l>=12&&A2?A2.decode(this.buf.subarray(l,o)):function(p,m,g){let _="",x=m;for(;x<g;){let I=p[x],E,O,V,N=null,q=I>239?4:I>223?3:I>191?2:1;if(x+q>g)break;q===1?I<128&&(N=I):q===2?(E=p[x+1],(192&E)==128&&(N=(31&I)<<6|63&E,N<=127&&(N=null))):q===3?(E=p[x+1],O=p[x+2],(192&E)==128&&(192&O)==128&&(N=(15&I)<<12|(63&E)<<6|63&O,(N<=2047||N>=55296&&N<=57343)&&(N=null))):q===4&&(E=p[x+1],O=p[x+2],V=p[x+3],(192&E)==128&&(192&O)==128&&(192&V)==128&&(N=(15&I)<<18|(63&E)<<12|(63&O)<<6|63&V,(N<=65535||N>=1114112)&&(N=null))),N===null?(N=65533,q=1):N>65535&&(N-=65536,_+=String.fromCharCode(N>>>10&1023|55296),N=56320|1023&N),_+=String.fromCharCode(N),x+=q}return _}(this.buf,l,o)}readBytes(){let o=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,o);return this.pos=o,l}readPackedVarint(o=[],l){let p=this.readPackedEnd();for(;this.pos<p;)o.push(this.readVarint(l));return o}readPackedSVarint(o=[]){let l=this.readPackedEnd();for(;this.pos<l;)o.push(this.readSVarint());return o}readPackedBoolean(o=[]){let l=this.readPackedEnd();for(;this.pos<l;)o.push(this.readBoolean());return o}readPackedFloat(o=[]){let l=this.readPackedEnd();for(;this.pos<l;)o.push(this.readFloat());return o}readPackedDouble(o=[]){let l=this.readPackedEnd();for(;this.pos<l;)o.push(this.readDouble());return o}readPackedFixed32(o=[]){let l=this.readPackedEnd();for(;this.pos<l;)o.push(this.readFixed32());return o}readPackedSFixed32(o=[]){let l=this.readPackedEnd();for(;this.pos<l;)o.push(this.readSFixed32());return o}readPackedFixed64(o=[]){let l=this.readPackedEnd();for(;this.pos<l;)o.push(this.readFixed64());return o}readPackedSFixed64(o=[]){let l=this.readPackedEnd();for(;this.pos<l;)o.push(this.readSFixed64());return o}readPackedEnd(){return this.type===2?this.readVarint()+this.pos:this.pos+1}skip(o){let l=7&o;if(l===0)for(;this.buf[this.pos++]>127;);else if(l===2)this.pos=this.readVarint()+this.pos;else if(l===5)this.pos+=4;else{if(l!==1)throw new Error(`Unimplemented type: ${l}`);this.pos+=8}}writeTag(o,l){this.writeVarint(o<<3|l)}realloc(o){let l=this.length||16;for(;l<this.pos+o;)l*=2;if(l!==this.length){let p=new Uint8Array(l);p.set(this.buf),this.buf=p,this.dataView=new DataView(p.buffer),this.length=l}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(o){this.realloc(4),this.dataView.setInt32(this.pos,o,!0),this.pos+=4}writeSFixed32(o){this.realloc(4),this.dataView.setInt32(this.pos,o,!0),this.pos+=4}writeFixed64(o){this.realloc(8),this.dataView.setInt32(this.pos,-1&o,!0),this.dataView.setInt32(this.pos+4,Math.floor(o*L2),!0),this.pos+=8}writeSFixed64(o){this.realloc(8),this.dataView.setInt32(this.pos,-1&o,!0),this.dataView.setInt32(this.pos+4,Math.floor(o*L2),!0),this.pos+=8}writeVarint(o){(o=+o||0)>268435455||o<0?function(l,p){let m,g;if(l>=0?(m=l%4294967296|0,g=l/4294967296|0):(m=~(-l%4294967296),g=~(-l/4294967296),4294967295^m?m=m+1|0:(m=0,g=g+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");p.realloc(10),function(_,x,I){I.buf[I.pos++]=127&_|128,_>>>=7,I.buf[I.pos++]=127&_|128,_>>>=7,I.buf[I.pos++]=127&_|128,_>>>=7,I.buf[I.pos++]=127&_|128,I.buf[I.pos]=127&(_>>>=7)}(m,0,p),function(_,x){let I=(7&_)<<4;x.buf[x.pos++]|=I|((_>>>=3)?128:0),_&&(x.buf[x.pos++]=127&_|((_>>>=7)?128:0),_&&(x.buf[x.pos++]=127&_|((_>>>=7)?128:0),_&&(x.buf[x.pos++]=127&_|((_>>>=7)?128:0),_&&(x.buf[x.pos++]=127&_|((_>>>=7)?128:0),_&&(x.buf[x.pos++]=127&_)))))}(g,p)}(o,this):(this.realloc(4),this.buf[this.pos++]=127&o|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=o>>>7&127))))}writeSVarint(o){this.writeVarint(o<0?2*-o-1:2*o)}writeBoolean(o){this.writeVarint(+o)}writeString(o){o=String(o),this.realloc(4*o.length),this.pos++;let l=this.pos;this.pos=function(m,g,_){for(let x,I,E=0;E<g.length;E++){if(x=g.charCodeAt(E),x>55295&&x<57344){if(!I){x>56319||E+1===g.length?(m[_++]=239,m[_++]=191,m[_++]=189):I=x;continue}if(x<56320){m[_++]=239,m[_++]=191,m[_++]=189,I=x;continue}x=I-55296<<10|x-56320|65536,I=null}else I&&(m[_++]=239,m[_++]=191,m[_++]=189,I=null);x<128?m[_++]=x:(x<2048?m[_++]=x>>6|192:(x<65536?m[_++]=x>>12|224:(m[_++]=x>>18|240,m[_++]=x>>12&63|128),m[_++]=x>>6&63|128),m[_++]=63&x|128)}return _}(this.buf,o,this.pos);let p=this.pos-l;p>=128&&O2(l,p,this),this.pos=l-1,this.writeVarint(p),this.pos+=p}writeFloat(o){this.realloc(4),this.dataView.setFloat32(this.pos,o,!0),this.pos+=4}writeDouble(o){this.realloc(8),this.dataView.setFloat64(this.pos,o,!0),this.pos+=8}writeBytes(o){let l=o.length;this.writeVarint(l),this.realloc(l);for(let p=0;p<l;p++)this.buf[this.pos++]=o[p]}writeRawMessage(o,l){this.pos++;let p=this.pos;o(l,this);let m=this.pos-p;m>=128&&O2(p,m,this),this.pos=p-1,this.writeVarint(m),this.pos+=m}writeMessage(o,l,p){this.writeTag(o,2),this.writeRawMessage(l,p)}writePackedVarint(o,l){l.length&&this.writeMessage(o,V6,l)}writePackedSVarint(o,l){l.length&&this.writeMessage(o,z6,l)}writePackedBoolean(o,l){l.length&&this.writeMessage(o,N6,l)}writePackedFloat(o,l){l.length&&this.writeMessage(o,R6,l)}writePackedDouble(o,l){l.length&&this.writeMessage(o,B6,l)}writePackedFixed32(o,l){l.length&&this.writeMessage(o,q6,l)}writePackedSFixed32(o,l){l.length&&this.writeMessage(o,H6,l)}writePackedFixed64(o,l){l.length&&this.writeMessage(o,j6,l)}writePackedSFixed64(o,l){l.length&&this.writeMessage(o,G6,l)}writeBytesField(o,l){this.writeTag(o,2),this.writeBytes(l)}writeFixed32Field(o,l){this.writeTag(o,5),this.writeFixed32(l)}writeSFixed32Field(o,l){this.writeTag(o,5),this.writeSFixed32(l)}writeFixed64Field(o,l){this.writeTag(o,1),this.writeFixed64(l)}writeSFixed64Field(o,l){this.writeTag(o,1),this.writeSFixed64(l)}writeVarintField(o,l){this.writeTag(o,0),this.writeVarint(l)}writeSVarintField(o,l){this.writeTag(o,0),this.writeSVarint(l)}writeStringField(o,l){this.writeTag(o,2),this.writeString(l)}writeFloatField(o,l){this.writeTag(o,5),this.writeFloat(l)}writeDoubleField(o,l){this.writeTag(o,1),this.writeDouble(l)}writeBooleanField(o,l){this.writeVarintField(o,+l)}}function Xu(c,o,l){return l?4294967296*o+(c>>>0):4294967296*(o>>>0)+(c>>>0)}function O2(c,o,l){let p=o<=16383?1:o<=2097151?2:o<=268435455?3:Math.floor(Math.log(o)/(7*Math.LN2));l.realloc(p);for(let m=l.pos-1;m>=c;m--)l.buf[m+p]=l.buf[m]}function V6(c,o){for(let l=0;l<c.length;l++)o.writeVarint(c[l])}function z6(c,o){for(let l=0;l<c.length;l++)o.writeSVarint(c[l])}function R6(c,o){for(let l=0;l<c.length;l++)o.writeFloat(c[l])}function B6(c,o){for(let l=0;l<c.length;l++)o.writeDouble(c[l])}function N6(c,o){for(let l=0;l<c.length;l++)o.writeBoolean(c[l])}function q6(c,o){for(let l=0;l<c.length;l++)o.writeFixed32(c[l])}function H6(c,o){for(let l=0;l<c.length;l++)o.writeSFixed32(c[l])}function j6(c,o){for(let l=0;l<c.length;l++)o.writeFixed64(c[l])}function G6(c,o){for(let l=0;l<c.length;l++)o.writeSFixed64(c[l])}function U6(c,o,l){c===1&&l.readMessage($6,o)}function $6(c,o,l){if(c===3){let{id:p,bitmap:m,width:g,height:_,left:x,top:I,advance:E}=l.readMessage(K6,{});o.push({id:p,bitmap:new $h({width:g+6,height:_+6},m),metrics:{width:g,height:_,left:x,top:I,advance:E}})}}function K6(c,o,l){c===1?o.id=l.readVarint():c===2?o.bitmap=l.readBytes():c===3?o.width=l.readVarint():c===4?o.height=l.readVarint():c===5?o.left=l.readSVarint():c===6?o.top=l.readSVarint():c===7&&(o.advance=l.readVarint())}function F2(c){let o=0,l=0;for(let _ of c)o+=_.w*_.h,l=Math.max(l,_.w);c.sort((_,x)=>x.h-_.h);let p=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(o/.95)),l),h:1/0}],m=0,g=0;for(let _ of c)for(let x=p.length-1;x>=0;x--){let I=p[x];if(!(_.w>I.w||_.h>I.h)){if(_.x=I.x,_.y=I.y,g=Math.max(g,_.y+_.h),m=Math.max(m,_.x+_.w),_.w===I.w&&_.h===I.h){let E=p.pop();E&&x<p.length&&(p[x]=E)}else _.h===I.h?(I.x+=_.w,I.w-=_.w):_.w===I.w?(I.y+=_.h,I.h-=_.h):(p.push({x:I.x+_.w,y:I.y,w:I.w-_.w,h:_.h}),I.y+=_.h,I.h-=_.h);break}}return{w:m,h:g,fill:o/(m*g)||0}}class A1{constructor(o,{pixelRatio:l,version:p,stretchX:m,stretchY:g,content:_,textFitWidth:x,textFitHeight:I}){this.paddedRect=o,this.pixelRatio=l,this.stretchX=m,this.stretchY=g,this.content=_,this.version=p,this.textFitWidth=x,this.textFitHeight=I}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class V2{constructor(o,l){let p={},m={};this.haveRenderCallbacks=[];let g=[];this.addImages(o,p,g),this.addImages(l,m,g);let{w:_,h:x}=F2(g),I=new jo({width:_||1,height:x||1});for(let E in o){let O=o[E],V=p[E].paddedRect;jo.copy(O.data,I,{x:0,y:0},{x:V.x+1,y:V.y+1},O.data)}for(let E in l){let O=l[E],V=m[E].paddedRect,N=V.x+1,q=V.y+1,G=O.data.width,K=O.data.height;jo.copy(O.data,I,{x:0,y:0},{x:N,y:q},O.data),jo.copy(O.data,I,{x:0,y:K-1},{x:N,y:q-1},{width:G,height:1}),jo.copy(O.data,I,{x:0,y:0},{x:N,y:q+K},{width:G,height:1}),jo.copy(O.data,I,{x:G-1,y:0},{x:N-1,y:q},{width:1,height:K}),jo.copy(O.data,I,{x:0,y:0},{x:N+G,y:q},{width:1,height:K})}this.image=I,this.iconPositions=p,this.patternPositions=m}addImages(o,l,p){for(let m in o){let g=o[m],_={x:0,y:0,w:g.data.width+2,h:g.data.height+2};p.push(_),l[m]=new A1(_,g),g.hasRenderCallback&&this.haveRenderCallbacks.push(m)}}patchUpdatedImages(o,l){o.dispatchRenderCallbacks(this.haveRenderCallbacks);for(let p in o.updatedImages)this.patchUpdatedImage(this.iconPositions[p],o.getImage(p),l),this.patchUpdatedImage(this.patternPositions[p],o.getImage(p),l)}patchUpdatedImage(o,l,p){if(!o||!l||o.version===l.version)return;o.version=l.version;let[m,g]=o.tl;p.update(l.data,void 0,{x:m,y:g})}}var Xl;function l0(c,o,l,p,m,g,_,x,I,E,O,V,N,q,G){let K=Qu.fromFeature(c,m),Z;V===n.az.vertical&&K.verticalizePunctuation();let re=K.determineLineBreaks(E,g,o,p,q),{processBidirectionalText:ge,processStyledBidirectionalText:ce}=Is;if(ge&&K.sections.length===1){Z=[],re=re.map(Re=>K.toCodeUnitIndex(Re));let Ce=ge(K.toString(),re);for(let Re of Ce){let rt=[...Re].map(()=>0);Z.push(new Qu(Re,K.sections,rt))}}else if(ce){Z=[],re=re.map(tt=>K.toCodeUnitIndex(tt));let Ce=0,Re=[];for(let tt of K.text)Re.push(...Array(tt.length).fill(K.sectionIndex[Ce])),Ce++;let rt=ce(K.text,Re,re);for(let tt of rt){let dt=[],St="";for(let ht of tt[0])dt.push(tt[1][St.length]),St+=ht;Z.push(new Qu(tt[0],K.sections,dt))}}else Z=function(Ce,Re){let rt=[],tt=0;for(let dt of Re)rt.push(Ce.substring(tt,dt)),tt=dt;return tt<Ce.length()&&rt.push(Ce.substring(tt,Ce.length())),rt}(K,re);let pe=[],ve={positionedLines:pe,text:K.toString(),top:O[1],bottom:O[1],left:O[0],right:O[0],writingMode:V,iconsInText:!1,verticalizable:!1};return function(Ce,Re,rt,tt,dt,St,ht,it,Qe,Nt,Ft,jt){let Pt=0,ti=0,ji=0,Pi=0,On=it==="right"?1:it==="left"?0:.5,to=Ra/jt,xa=0;for(let tn of dt){tn.trim();let Yn=tn.getMaxScale(),da={positionedGlyphs:[],lineOffset:0};Ce.positionedLines[xa]=da;let Tn=da.positionedGlyphs,Go=0;if(!tn.length()){ti+=St,++xa;continue}let io=W6(tt,tn,to),Uo=0;for(let qa of tn.text){let Bn=tn.getSection(Uo),wa=qa.codePointAt(0),Jn=Z6(Qe,Ft,wa),Ha={glyph:wa,imageName:null,x:Pt,y:ti+-17,vertical:Jn,scale:1,fontStack:"",sectionIndex:tn.getSectionIndex(Uo),metrics:null,rect:null},ul;if("fontStack"in Bn){if(ul=Q6(Bn,wa,Jn,io,Re,rt),!ul)continue;Ha.fontStack=Bn.fontStack}else{if(Ce.iconsInText=!0,Bn.scale*=to,ul=X6(Bn,Jn,Yn,io,tt),!ul)continue;Go=Math.max(Go,ul.imageOffset),Ha.imageName=Bn.imageName}let{rect:is,metrics:cm,baselineOffset:ic}=ul;Ha.y+=ic,Ha.scale=Bn.scale,Ha.metrics=cm,Ha.rect=is,Tn.push(Ha),Jn?(Ce.verticalizable=!0,Pt+=("imageName"in Bn?cm.advance:Ra)*Bn.scale+Nt):Pt+=cm.advance*Bn.scale+Nt,Uo++}Tn.length!==0&&(ji=Math.max(Pt-Nt,ji),Y6(Tn,0,Tn.length-1,On)),Pt=0,da.lineOffset=Math.max(Go,(Yn-1)*Ra);let Nr=St*Yn+Go;ti+=Nr,Pi=Math.max(Nr,Pi),++xa}let{horizontalAlign:Fn,verticalAlign:kn}=O1(ht);(function(tn,Yn,da,Tn,Go,io,Uo,Nr,qa){let Bn=(Yn-da)*Go,wa=0;wa=io!==Uo?-Nr*Tn- -17:-Tn*qa*Uo+.5*Uo;for(let Jn of tn)for(let Ha of Jn.positionedGlyphs)Ha.x+=Bn,Ha.y+=wa})(Ce.positionedLines,On,Fn,kn,ji,Pi,St,ti,dt.length),Ce.top+=-kn*ti,Ce.bottom=Ce.top+ti,Ce.left+=-Fn*ji,Ce.right=Ce.left+ji}(ve,o,l,p,Z,_,x,I,V,E,N,G),!function(Ce){for(let Re of Ce)if(Re.positionedGlyphs.length!==0)return!1;return!0}(pe)&&ve}function O1(c){let o=.5,l=.5;switch(c){case"right":case"top-right":case"bottom-right":o=1;break;case"left":case"top-left":case"bottom-left":o=0}switch(c){case"bottom":case"bottom-right":case"bottom-left":l=1;break;case"top":case"top-right":case"top-left":l=0}return{horizontalAlign:o,verticalAlign:l}}function W6(c,o,l){let p=o.getMaxScale()*Ra,{maxImageWidth:m,maxImageHeight:g}=o.getMaxImageSize(c),_=Math.max(p,g*l);return{verticalLineContentWidth:Math.max(p,m*l),horizontalLineContentHeight:_}}function z2(c){switch(c){case"top":return 0;case"center":return .5;default:return 1}}function Z6(c,o,l){return!(c===n.az.horizontal||!o&&!Dh(l)||o&&(Hf(l)||(p=l,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(p)))));var p}function Q6(c,o,l,p,m,g){let _=g[c.fontStack],x=function(E,O,V,N){if(E&&E.rect)return E;let q=O[V.fontStack],G=q&&q[N];return G?{rect:null,metrics:G.metrics}:null}(_&&_[o],m,c,o);if(x===null)return null;let I;if(l)I=p.verticalLineContentWidth-c.scale*Ra;else{let E=z2(c.verticalAlign);I=(p.horizontalLineContentHeight-c.scale*Ra)*E}return{rect:x.rect,metrics:x.metrics,baselineOffset:I}}function X6(c,o,l,p,m){let g=m[c.imageName];if(!g)return null;let _=g.paddedRect,x=g.displaySize,I={width:x[0],height:x[1],left:1,top:-3,advance:o?x[1]:x[0]},E;if(o)E=p.verticalLineContentWidth-x[1]*c.scale;else{let O=z2(c.verticalAlign);E=(p.horizontalLineContentHeight-x[1]*c.scale)*O}return{rect:_,metrics:I,baselineOffset:E,imageOffset:(o?x[0]:x[1])*c.scale-Ra*l}}function Y6(c,o,l,p){if(p===0)return;let m=c[l],g=(c[l].x+m.metrics.advance*m.scale)*p;for(let _=o;_<=l;_++)c[_].x-=g}function J6(c,o,l){let{horizontalAlign:p,verticalAlign:m}=O1(l),g=o[0]-c.displaySize[0]*p,_=o[1]-c.displaySize[1]*m;return{image:c,top:_,bottom:_+c.displaySize[1],left:g,right:g+c.displaySize[0]}}function R2(c){var o,l;let p=c.left,m=c.top,g=c.right-p,_=c.bottom-m,x=(o=c.image.textFitWidth)!==null&&o!==void 0?o:"stretchOrShrink",I=(l=c.image.textFitHeight)!==null&&l!==void 0?l:"stretchOrShrink",E=(c.image.content[2]-c.image.content[0])/(c.image.content[3]-c.image.content[1]);if(I==="proportional"){if(x==="stretchOnly"&&g/_<E||x==="proportional"){let O=Math.ceil(_*E);p*=O/g,g=O}}else if(x==="proportional"&&I==="stretchOnly"&&E!==0&&g/_>E){let O=Math.ceil(g/E);m*=O/_,_=O}return{x1:p,y1:m,x2:p+g,y2:m+_}}function B2(c,o,l,p,m,g){let _=c.image,x;if(_.content){let Z=_.content,re=_.pixelRatio||1;x=[Z[0]/re,Z[1]/re,_.displaySize[0]-Z[2]/re,_.displaySize[1]-Z[3]/re]}let I=o.left*g,E=o.right*g,O,V,N,q;l==="width"||l==="both"?(q=m[0]+I-p[3],V=m[0]+E+p[1]):(q=m[0]+(I+E-_.displaySize[0])/2,V=q+_.displaySize[0]);let G=o.top*g,K=o.bottom*g;return l==="height"||l==="both"?(O=m[1]+G-p[0],N=m[1]+K+p[2]):(O=m[1]+(G+K-_.displaySize[1])/2,N=O+_.displaySize[1]),{image:_,top:O,right:V,bottom:N,left:q,collisionPadding:x}}Ht("ImagePosition",A1),Ht("ImageAtlas",V2),n.az=void 0,(Xl=n.az||(n.az={}))[Xl.none=0]="none",Xl[Xl.horizontal=1]="horizontal",Xl[Xl.vertical=2]="vertical",Xl[Xl.horizontalOnly=3]="horizontalOnly";let cl=128,Yl=32640;function N2(c,o){let{expression:l}=o;if(l.kind==="constant")return{kind:"constant",layoutSize:l.evaluate(new pn(c+1))};if(l.kind==="source")return{kind:"source"};{let{zoomStops:p,interpolationType:m}=l,g=0;for(;g<p.length&&p[g]<=c;)g++;g=Math.max(0,g-1);let _=g;for(;_<p.length&&p[_]<c+1;)_++;_=Math.min(p.length-1,_);let x=p[g],I=p[_];return l.kind==="composite"?{kind:"composite",minZoom:x,maxZoom:I,interpolationType:m}:{kind:"camera",minZoom:x,maxZoom:I,minSize:l.evaluate(new pn(x)),maxSize:l.evaluate(new pn(I)),interpolationType:m}}}function F1(c,o,l){let p="never",m=c.get(o);return m?p=m:c.get(l)&&(p="always"),p}let eM=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function c0(c,o,l,p,m,g,_,x,I,E,O,V,N){let q=x?Math.min(Yl,Math.round(x[0])):0,G=x?Math.min(Yl,Math.round(x[1])):0;c.emplaceBack(o,l,Math.round(32*p),Math.round(32*m),g,_,(q<<1)+(I?1:0),G,16*E,16*O,256*V,256*N)}function V1(c,o,l){c.emplaceBack(o.x,o.y,l),c.emplaceBack(o.x,o.y,l),c.emplaceBack(o.x,o.y,l),c.emplaceBack(o.x,o.y,l)}function tM(c){for(let o of c.sections)if(Uf(o.text))return!0;return!1}class z1{constructor(o){this.layoutVertexArray=new Ie,this.indexArray=new $e,this.programConfigurations=o,this.segments=new kt,this.dynamicLayoutVertexArray=new Oe,this.opacityVertexArray=new Ye,this.hasVisibleVertices=!1,this.placedSymbolArray=new w}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(o,l,p,m){this.isEmpty()||(p&&(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,k6.members),this.indexBuffer=o.createIndexBuffer(this.indexArray,l),this.dynamicLayoutVertexBuffer=o.createVertexBuffer(this.dynamicLayoutVertexArray,E6.members,!0),this.opacityVertexBuffer=o.createVertexBuffer(this.opacityVertexArray,eM,!0),this.opacityVertexBuffer.itemSize=1),(p||m)&&this.programConfigurations.upload(o))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Ht("SymbolBuffers",z1);class R1{constructor(o,l,p){this.layoutVertexArray=new o,this.layoutAttributes=l,this.indexArray=new p,this.segments=new kt,this.collisionVertexArray=new Ue}upload(o){this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=o.createVertexBuffer(this.collisionVertexArray,P6.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Ht("CollisionBuffers",R1);class Yu{constructor(o){this.collisionBoxArray=o.collisionBoxArray,this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(_=>_.id),this.index=o.index,this.pixelRatio=o.pixelRatio,this.sourceLayerIndex=o.sourceLayerIndex,this.hasDependencies=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];let l=this.layers[0]._unevaluatedLayout._values;this.textSizeData=N2(this.zoom,l["text-size"]),this.iconSizeData=N2(this.zoom,l["icon-size"]);let p=this.layers[0].layout,m=p.get("symbol-sort-key"),g=p.get("symbol-z-order");this.canOverlap=F1(p,"text-overlap","text-allow-overlap")!=="never"||F1(p,"icon-overlap","icon-allow-overlap")!=="never"||p.get("text-ignore-placement")||p.get("icon-ignore-placement"),this.sortFeaturesByKey=g!=="viewport-y"&&!m.isConstant(),this.sortFeaturesByY=(g==="viewport-y"||g==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,p.get("symbol-placement")==="point"&&(this.writingModes=p.get("text-writing-mode").map(_=>n.az[_])),this.stateDependentLayerIds=this.layers.filter(_=>_.isStateDependent()).map(_=>_.id),this.sourceID=o.sourceID}createArrays(){this.text=new z1(new ll(this.layers,this.zoom,o=>/^text/.test(o))),this.icon=new z1(new ll(this.layers,this.zoom,o=>/^icon/.test(o))),this.glyphOffsetArray=new F,this.lineVertexArray=new B,this.symbolInstances=new P,this.textAnchorOffsets=new H}calculateGlyphDependencies(o,l,p,m,g){for(let _ of o)if(l[_.codePointAt(0)]=!0,(p||m)&&g){let x=im[_];x&&(l[x.codePointAt(0)]=!0)}}populate(o,l,p){let m=this.layers[0],g=m.layout,_=g.get("text-font"),x=g.get("text-field"),I=g.get("icon-image"),E=(x.value.kind!=="constant"||x.value.value instanceof To&&!x.value.value.isEmpty()||x.value.value.toString().length>0)&&(_.value.kind!=="constant"||_.value.value.length>0),O=I.value.kind!=="constant"||!!I.value.value||Object.keys(I.parameters).length>0,V=g.get("symbol-sort-key");if(this.features=[],!E&&!O)return;let N=l.iconDependencies,q=l.glyphDependencies,G=l.availableImages,K=new pn(this.zoom);for(let{feature:Z,id:re,index:ge,sourceLayerIndex:ce}of o){let pe=m._featureFilter.needGeometry,ve=Ms(Z,pe);if(!m._featureFilter.filter(K,ve,p))continue;let Ce,Re;if(pe||(ve.geometry=Ss(Z)),E){let tt=m.getValueAndResolveTokens("text-field",ve,p,G),dt=To.factory(tt),St=this.hasRTLText=this.hasRTLText||tM(dt);(!St||Is.getRTLTextPluginStatus()==="unavailable"||St&&Is.isParsed())&&(Ce=L6(dt,m,ve))}if(O){let tt=m.getValueAndResolveTokens("icon-image",ve,p,G);Re=tt instanceof qo?tt:qo.fromString(tt)}if(!Ce&&!Re)continue;let rt=this.sortFeaturesByKey?V.evaluate(ve,{},p):void 0;if(this.features.push({id:re,text:Ce,icon:Re,index:ge,sourceLayerIndex:ce,geometry:ve.geometry,properties:Z.properties,type:Jh.types[Z.type],sortKey:rt}),Re&&(N[Re.name]=!0),Ce){let tt=_.evaluate(ve,{},p).join(","),dt=g.get("text-rotation-alignment")!=="viewport"&&g.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(n.az.vertical)>=0;for(let St of Ce.sections)if(St.image)N[St.image.name]=!0;else{let ht=Zl(Ce.toString()),it=St.fontStack||tt,Qe=q[it]=q[it]||{};this.calculateGlyphDependencies(St.text,Qe,dt,this.allowVerticalPlacement,ht)}}}g.get("symbol-placement")==="line"&&(this.features=function(Z){let re={},ge={},ce=[],pe=0;function ve(tt){ce.push(Z[tt]),pe++}function Ce(tt,dt,St){let ht=ge[tt];return delete ge[tt],ge[dt]=ht,ce[ht].geometry[0].pop(),ce[ht].geometry[0]=ce[ht].geometry[0].concat(St[0]),ht}function Re(tt,dt,St){let ht=re[dt];return delete re[dt],re[tt]=ht,ce[ht].geometry[0].shift(),ce[ht].geometry[0]=St[0].concat(ce[ht].geometry[0]),ht}function rt(tt,dt,St){let ht=St?dt[0][dt[0].length-1]:dt[0][0];return`${tt}:${ht.x}:${ht.y}`}for(let tt=0;tt<Z.length;tt++){let dt=Z[tt],St=dt.geometry,ht=dt.text?dt.text.toString():null;if(!ht){ve(tt);continue}let it=rt(ht,St),Qe=rt(ht,St,!0);if(it in ge&&Qe in re&&ge[it]!==re[Qe]){let Nt=Re(it,Qe,St),Ft=Ce(it,Qe,ce[Nt].geometry);delete re[it],delete ge[Qe],ge[rt(ht,ce[Ft].geometry,!0)]=Ft,ce[Nt].geometry=null}else it in ge?Ce(it,Qe,St):Qe in re?Re(it,Qe,St):(ve(tt),re[it]=pe-1,ge[Qe]=pe-1)}return ce.filter(tt=>tt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Z,re)=>Z.sortKey-re.sortKey)}update(o,l,p){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(o,l,this.layers,{imagePositions:p}),this.icon.programConfigurations.updatePaintArrays(o,l,this.layers,{imagePositions:p}))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(o){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(o),this.iconCollisionBox.upload(o)),this.text.upload(o,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(o,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(o,l){let p=this.lineVertexArray.length;if(o.segment!==void 0){let m=o.dist(l[o.segment+1]),g=o.dist(l[o.segment]),_={};for(let x=o.segment+1;x<l.length;x++)_[x]={x:l[x].x,y:l[x].y,tileUnitDistanceFromAnchor:m},x<l.length-1&&(m+=l[x+1].dist(l[x]));for(let x=o.segment||0;x>=0;x--)_[x]={x:l[x].x,y:l[x].y,tileUnitDistanceFromAnchor:g},x>0&&(g+=l[x-1].dist(l[x]));for(let x=0;x<l.length;x++){let I=_[x];this.lineVertexArray.emplaceBack(I.x,I.y,I.tileUnitDistanceFromAnchor)}}return{lineStartIndex:p,lineLength:this.lineVertexArray.length-p}}addSymbols(o,l,p,m,g,_,x,I,E,O,V,N){let q=o.indexArray,G=o.layoutVertexArray,K=o.segments.prepareSegment(4*l.length,G,q,this.canOverlap?_.sortKey:void 0),Z=this.glyphOffsetArray.length,re=K.vertexLength,ge=this.allowVerticalPlacement&&x===n.az.vertical?Math.PI/2:0,ce=_.text&&_.text.sections;for(let pe=0;pe<l.length;pe++){let{tl:ve,tr:Ce,bl:Re,br:rt,tex:tt,pixelOffsetTL:dt,pixelOffsetBR:St,minFontScaleX:ht,minFontScaleY:it,glyphOffset:Qe,isSDF:Nt,sectionIndex:Ft}=l[pe],jt=K.vertexLength,Pt=Qe[1];c0(G,I.x,I.y,ve.x,Pt+ve.y,tt.x,tt.y,p,Nt,dt.x,dt.y,ht,it),c0(G,I.x,I.y,Ce.x,Pt+Ce.y,tt.x+tt.w,tt.y,p,Nt,St.x,dt.y,ht,it),c0(G,I.x,I.y,Re.x,Pt+Re.y,tt.x,tt.y+tt.h,p,Nt,dt.x,St.y,ht,it),c0(G,I.x,I.y,rt.x,Pt+rt.y,tt.x+tt.w,tt.y+tt.h,p,Nt,St.x,St.y,ht,it),V1(o.dynamicLayoutVertexArray,I,ge),q.emplaceBack(jt,jt+2,jt+1),q.emplaceBack(jt+1,jt+2,jt+3),K.vertexLength+=4,K.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Qe[0]),pe!==l.length-1&&Ft===l[pe+1].sectionIndex||o.programConfigurations.populatePaintArrays(G.length,_,_.index,{imagePositions:{},canonical:N,formattedSection:ce&&ce[Ft]})}o.placedSymbolArray.emplaceBack(I.x,I.y,Z,this.glyphOffsetArray.length-Z,re,E,O,I.segment,p?p[0]:0,p?p[1]:0,m[0],m[1],x,0,!1,0,V)}_addCollisionDebugVertex(o,l,p,m,g,_){return l.emplaceBack(0,0),o.emplaceBack(p.x,p.y,m,g,Math.round(_.x),Math.round(_.y))}addCollisionDebugVertices(o,l,p,m,g,_,x){let I=g.segments.prepareSegment(4,g.layoutVertexArray,g.indexArray),E=I.vertexLength,O=g.layoutVertexArray,V=g.collisionVertexArray,N=x.anchorX,q=x.anchorY;this._addCollisionDebugVertex(O,V,_,N,q,new u(o,l)),this._addCollisionDebugVertex(O,V,_,N,q,new u(p,l)),this._addCollisionDebugVertex(O,V,_,N,q,new u(p,m)),this._addCollisionDebugVertex(O,V,_,N,q,new u(o,m)),I.vertexLength+=4;let G=g.indexArray;G.emplaceBack(E,E+1),G.emplaceBack(E+1,E+2),G.emplaceBack(E+2,E+3),G.emplaceBack(E+3,E),I.primitiveLength+=4}addDebugCollisionBoxes(o,l,p,m){for(let g=o;g<l;g++){let _=this.collisionBoxArray.get(g);this.addCollisionDebugVertices(_.x1,_.y1,_.x2,_.y2,m?this.textCollisionBox:this.iconCollisionBox,_.anchorPoint,p)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new R1(je,M2.members,Tt),this.iconCollisionBox=new R1(je,M2.members,Tt);for(let o=0;o<this.symbolInstances.length;o++){let l=this.symbolInstances.get(o);this.addDebugCollisionBoxes(l.textBoxStartIndex,l.textBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.verticalTextBoxStartIndex,l.verticalTextBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.iconBoxStartIndex,l.iconBoxEndIndex,l,!1),this.addDebugCollisionBoxes(l.verticalIconBoxStartIndex,l.verticalIconBoxEndIndex,l,!1)}}_deserializeCollisionBoxesForSymbol(o,l,p,m,g,_,x,I,E){let O={};for(let V=l;V<p;V++){let N=o.get(V);O.textBox={x1:N.x1,y1:N.y1,x2:N.x2,y2:N.y2,anchorPointX:N.anchorPointX,anchorPointY:N.anchorPointY},O.textFeatureIndex=N.featureIndex;break}for(let V=m;V<g;V++){let N=o.get(V);O.verticalTextBox={x1:N.x1,y1:N.y1,x2:N.x2,y2:N.y2,anchorPointX:N.anchorPointX,anchorPointY:N.anchorPointY},O.verticalTextFeatureIndex=N.featureIndex;break}for(let V=_;V<x;V++){let N=o.get(V);O.iconBox={x1:N.x1,y1:N.y1,x2:N.x2,y2:N.y2,anchorPointX:N.anchorPointX,anchorPointY:N.anchorPointY},O.iconFeatureIndex=N.featureIndex;break}for(let V=I;V<E;V++){let N=o.get(V);O.verticalIconBox={x1:N.x1,y1:N.y1,x2:N.x2,y2:N.y2,anchorPointX:N.anchorPointX,anchorPointY:N.anchorPointY},O.verticalIconFeatureIndex=N.featureIndex;break}return O}deserializeCollisionBoxes(o){this.collisionArrays=[];for(let l=0;l<this.symbolInstances.length;l++){let p=this.symbolInstances.get(l);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(o,p.textBoxStartIndex,p.textBoxEndIndex,p.verticalTextBoxStartIndex,p.verticalTextBoxEndIndex,p.iconBoxStartIndex,p.iconBoxEndIndex,p.verticalIconBoxStartIndex,p.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(o,l){let p=o.placedSymbolArray.get(l),m=p.vertexStartIndex+4*p.numGlyphs;for(let g=p.vertexStartIndex;g<m;g+=4)o.indexArray.emplaceBack(g,g+2,g+1),o.indexArray.emplaceBack(g+1,g+2,g+3)}getSortedSymbolIndexes(o){if(this.sortedAngle===o&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;let l=Math.sin(o),p=Math.cos(o),m=[],g=[],_=[];for(let x=0;x<this.symbolInstances.length;++x){_.push(x);let I=this.symbolInstances.get(x);m.push(0|Math.round(l*I.anchorX+p*I.anchorY)),g.push(I.featureIndex)}return _.sort((x,I)=>m[x]-m[I]||g[I]-g[x]),_}addToSortKeyRanges(o,l){let p=this.sortKeyRanges[this.sortKeyRanges.length-1];p&&p.sortKey===l?p.symbolInstanceEnd=o+1:this.sortKeyRanges.push({sortKey:l,symbolInstanceStart:o,symbolInstanceEnd:o+1})}sortFeatures(o){if(this.sortFeaturesByY&&this.sortedAngle!==o&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(o),this.sortedAngle=o,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(let l of this.symbolInstanceIndexes){let p=this.symbolInstances.get(l);this.featureSortOrder.push(p.featureIndex),[p.rightJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.leftJustifiedTextSymbolIndex].forEach((m,g,_)=>{m>=0&&_.indexOf(m)===g&&this.addIndicesForPlacedSymbol(this.text,m)}),p.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,p.verticalPlacedTextSymbolIndex),p.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,p.placedIconSymbolIndex),p.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,p.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let q2,H2;Ht("SymbolBucket",Yu,{omit:["layers","collisionBoxArray","features","compareText"]}),Yu.MAX_GLYPHS=65535,Yu.addDynamicAttributes=V1;var B1={get paint(){return H2=H2||new go({"icon-opacity":new ai(Ge.paint_symbol["icon-opacity"]),"icon-color":new ai(Ge.paint_symbol["icon-color"]),"icon-halo-color":new ai(Ge.paint_symbol["icon-halo-color"]),"icon-halo-width":new ai(Ge.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ai(Ge.paint_symbol["icon-halo-blur"]),"icon-translate":new Xt(Ge.paint_symbol["icon-translate"]),"icon-translate-anchor":new Xt(Ge.paint_symbol["icon-translate-anchor"]),"text-opacity":new ai(Ge.paint_symbol["text-opacity"]),"text-color":new ai(Ge.paint_symbol["text-color"],{runtimeType:No,getOverride:c=>c.textColor,hasOverride:c=>!!c.textColor}),"text-halo-color":new ai(Ge.paint_symbol["text-halo-color"]),"text-halo-width":new ai(Ge.paint_symbol["text-halo-width"]),"text-halo-blur":new ai(Ge.paint_symbol["text-halo-blur"]),"text-translate":new Xt(Ge.paint_symbol["text-translate"]),"text-translate-anchor":new Xt(Ge.paint_symbol["text-translate-anchor"])})},get layout(){return q2=q2||new go({"symbol-placement":new Xt(Ge.layout_symbol["symbol-placement"]),"symbol-spacing":new Xt(Ge.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Xt(Ge.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ai(Ge.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Xt(Ge.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Xt(Ge.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Xt(Ge.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Xt(Ge.layout_symbol["icon-ignore-placement"]),"icon-optional":new Xt(Ge.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Xt(Ge.layout_symbol["icon-rotation-alignment"]),"icon-size":new ai(Ge.layout_symbol["icon-size"]),"icon-text-fit":new Xt(Ge.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Xt(Ge.layout_symbol["icon-text-fit-padding"]),"icon-image":new ai(Ge.layout_symbol["icon-image"]),"icon-rotate":new ai(Ge.layout_symbol["icon-rotate"]),"icon-padding":new ai(Ge.layout_symbol["icon-padding"]),"icon-keep-upright":new Xt(Ge.layout_symbol["icon-keep-upright"]),"icon-offset":new ai(Ge.layout_symbol["icon-offset"]),"icon-anchor":new ai(Ge.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Xt(Ge.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Xt(Ge.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Xt(Ge.layout_symbol["text-rotation-alignment"]),"text-field":new ai(Ge.layout_symbol["text-field"]),"text-font":new ai(Ge.layout_symbol["text-font"]),"text-size":new ai(Ge.layout_symbol["text-size"]),"text-max-width":new ai(Ge.layout_symbol["text-max-width"]),"text-line-height":new Xt(Ge.layout_symbol["text-line-height"]),"text-letter-spacing":new ai(Ge.layout_symbol["text-letter-spacing"]),"text-justify":new ai(Ge.layout_symbol["text-justify"]),"text-radial-offset":new ai(Ge.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Xt(Ge.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new ai(Ge.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new ai(Ge.layout_symbol["text-anchor"]),"text-max-angle":new Xt(Ge.layout_symbol["text-max-angle"]),"text-writing-mode":new Xt(Ge.layout_symbol["text-writing-mode"]),"text-rotate":new ai(Ge.layout_symbol["text-rotate"]),"text-padding":new Xt(Ge.layout_symbol["text-padding"]),"text-keep-upright":new Xt(Ge.layout_symbol["text-keep-upright"]),"text-transform":new ai(Ge.layout_symbol["text-transform"]),"text-offset":new ai(Ge.layout_symbol["text-offset"]),"text-allow-overlap":new Xt(Ge.layout_symbol["text-allow-overlap"]),"text-overlap":new Xt(Ge.layout_symbol["text-overlap"]),"text-ignore-placement":new Xt(Ge.layout_symbol["text-ignore-placement"]),"text-optional":new Xt(Ge.layout_symbol["text-optional"])})}};class j2{constructor(o){if(o.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=o.property.overrides?o.property.overrides.runtimeType:Qo,this.defaultValue=o}evaluate(o){if(o.formattedSection){let l=this.defaultValue.property.overrides;if(l&&l.hasOverride(o.formattedSection))return l.getOverride(o.formattedSection)}return o.feature&&o.featureState?this.defaultValue.evaluate(o.feature,o.featureState):this.defaultValue.property.specification.default}eachChild(o){this.defaultValue.isConstant()||o(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ht("FormatSectionOverride",j2,{omit:["defaultValue"]});class d0 extends er{constructor(o,l){super(o,B1,l)}recalculate(o,l){if(super.recalculate(o,l),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){let p=this.layout.get("text-writing-mode");if(p){let m=[];for(let g of p)m.indexOf(g)<0&&m.push(g);this.layout._values["text-writing-mode"]=m}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(o,l,p,m){let g=this.layout.get(o).evaluate(l,{},p,m),_=this._unevaluatedLayout._values[o];return _.isDataDriven()||Gl(_.value)||!g?g:function(x,I){return I.replace(/{([^{}]+)}/g,(E,O)=>x&&O in x?String(x[O]):"")}(l.properties,g)}createBucket(o){return new Yu(o)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(let o of B1.paint.overridableProperties){if(!d0.hasPaintOverride(this.layout,o))continue;let l=this.paint.get(o),p=new j2(l),m=new yh(p,l.property.specification),g=null;g=l.value.kind==="constant"||l.value.kind==="source"?new Iu("source",m):new vh("composite",m,l.value.zoomStops),this.paint._values[o]=new Ir(l.property,g,l.parameters)}}_handleOverridablePaintPropertyUpdate(o,l,p){return!(!this.layout||l.isDataDriven()||p.isDataDriven())&&d0.hasPaintOverride(this.layout,o)}static hasPaintOverride(o,l){let p=o.get("text-field"),m=B1.paint.properties[l],g=!1,_=x=>{for(let I of x)if(m.overrides&&m.overrides.hasOverride(I))return void(g=!0)};if(p.value.kind==="constant"&&p.value.value instanceof To)_(p.value.value.sections);else if(p.value.kind==="source"||p.value.kind==="composite"){let x=E=>{g||(E instanceof Vr&&ra(E.value)===$c?_(E.value.sections):E instanceof id?_(E.sections):E.eachChild(x))},I=p.value;I._styleExpression&&x(I._styleExpression.expression)}return g}}let G2;var iM={get paint(){return G2=G2||new go({"background-color":new Xt(Ge.paint_background["background-color"]),"background-pattern":new Fu(Ge.paint_background["background-pattern"]),"background-opacity":new Xt(Ge.paint_background["background-opacity"])})}};class nM extends er{constructor(o,l){super(o,iM,l)}}class aM extends er{constructor(o,l){super(o,{},l),this.onAdd=p=>{this.implementation.onAdd&&this.implementation.onAdd(p,p.painter.context.gl)},this.onRemove=p=>{this.implementation.onRemove&&this.implementation.onRemove(p,p.painter.context.gl)},this.implementation=o}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class oM{constructor(o){this._methodToThrottle=o,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}let rM={once:!0},N1=63710088e-1;class Jl{constructor(o,l){if(isNaN(o)||isNaN(l))throw new Error(`Invalid LngLat object: (${o}, ${l})`);if(this.lng=+o,this.lat=+l,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Jl(lo(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(o){let l=Math.PI/180,p=this.lat*l,m=o.lat*l,g=Math.sin(p)*Math.sin(m)+Math.cos(p)*Math.cos(m)*Math.cos((o.lng-this.lng)*l);return N1*Math.acos(Math.min(g,1))}static convert(o){if(o instanceof Jl)return o;if(Array.isArray(o)&&(o.length===2||o.length===3))return new Jl(Number(o[0]),Number(o[1]));if(!Array.isArray(o)&&typeof o=="object"&&o!==null)return new Jl(Number("lng"in o?o.lng:o.lon),Number(o.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}let U2=2*Math.PI*N1;function $2(c){return U2*Math.cos(c*Math.PI/180)}function K2(c){return(180+c)/360}function W2(c){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c*Math.PI/360)))/360}function Z2(c,o){return c/$2(o)}function Q2(c){return 360*c-180}function u0(c){return 360/Math.PI*Math.atan(Math.exp((180-360*c)*Math.PI/180))-90}function X2(c,o){return c*$2(u0(o))}class nm{constructor(o,l,p=0){this.x=+o,this.y=+l,this.z=+p}static fromLngLat(o,l=0){let p=Jl.convert(o);return new nm(K2(p.lng),W2(p.lat),Z2(l,p.lat))}toLngLat(){return new Jl(Q2(this.x),u0(this.y))}toAltitude(){return X2(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/U2*(o=u0(this.y),1/Math.cos(o*Math.PI/180));var o}}function Y2(c,o,l){var p=2*Math.PI*6378137/256/Math.pow(2,l);return[c*p-2*Math.PI*6378137/2,o*p-2*Math.PI*6378137/2]}class q1{constructor(o,l,p){if(!function(m,g,_){return!(m<0||m>25||_<0||_>=Math.pow(2,m)||g<0||g>=Math.pow(2,m))}(o,l,p))throw new Error(`x=${l}, y=${p}, z=${o} outside of bounds. 0<=x<${Math.pow(2,o)}, 0<=y<${Math.pow(2,o)} 0<=z<=25 `);this.z=o,this.x=l,this.y=p,this.key=Ju(0,o,o,l,p)}equals(o){return this.z===o.z&&this.x===o.x&&this.y===o.y}url(o,l,p){let m=function(_,x,I){var E=Y2(256*_,256*(x=Math.pow(2,I)-x-1),I),O=Y2(256*(_+1),256*(x+1),I);return E[0]+","+E[1]+","+O[0]+","+O[1]}(this.x,this.y,this.z),g=function(_,x,I){let E,O="";for(let V=_;V>0;V--)E=1<<V-1,O+=(x&E?1:0)+(I&E?2:0);return O}(this.z,this.x,this.y);return o[(this.x+this.y)%o.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(p==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,l>1?"@2x":"").replace(/{quadkey}/g,g).replace(/{bbox-epsg-3857}/g,m)}isChildOf(o){let l=this.z-o.z;return l>0&&o.x===this.x>>l&&o.y===this.y>>l}getTilePoint(o){let l=Math.pow(2,this.z);return new u((o.x*l-this.x)*ui,(o.y*l-this.y)*ui)}toString(){return`${this.z}/${this.x}/${this.y}`}}class J2{constructor(o,l){this.wrap=o,this.canonical=l,this.key=Ju(o,l.z,l.z,l.x,l.y)}}class Sr{constructor(o,l,p,m,g){if(this.terrainRttPosMatrix32f=null,o<p)throw new Error(`overscaledZ should be >= z; overscaledZ = ${o}; z = ${p}`);this.overscaledZ=o,this.wrap=l,this.canonical=new q1(p,+m,+g),this.key=Ju(l,o,p,m,g)}clone(){return new Sr(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(o){return this.overscaledZ===o.overscaledZ&&this.wrap===o.wrap&&this.canonical.equals(o.canonical)}scaledTo(o){if(o>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${o}; overscaledZ = ${this.overscaledZ}`);let l=this.canonical.z-o;return o>this.canonical.z?new Sr(o,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Sr(o,this.wrap,o,this.canonical.x>>l,this.canonical.y>>l)}isOverscaled(){return this.overscaledZ>this.canonical.z}calculateScaledKey(o,l){if(o>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${o}; overscaledZ = ${this.overscaledZ}`);let p=this.canonical.z-o;return o>this.canonical.z?Ju(this.wrap*+l,o,this.canonical.z,this.canonical.x,this.canonical.y):Ju(this.wrap*+l,o,o,this.canonical.x>>p,this.canonical.y>>p)}isChildOf(o){if(o.wrap!==this.wrap||this.overscaledZ-o.overscaledZ<=0)return!1;if(o.overscaledZ===0)return this.overscaledZ>0;let l=this.canonical.z-o.canonical.z;return!(l<0)&&o.canonical.x===this.canonical.x>>l&&o.canonical.y===this.canonical.y>>l}children(o){if(this.overscaledZ>=o)return[new Sr(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];let l=this.canonical.z+1,p=2*this.canonical.x,m=2*this.canonical.y;return[new Sr(l,this.wrap,l,p,m),new Sr(l,this.wrap,l,p+1,m),new Sr(l,this.wrap,l,p,m+1),new Sr(l,this.wrap,l,p+1,m+1)]}isLessThan(o){return this.wrap<o.wrap||!(this.wrap>o.wrap)&&(this.overscaledZ<o.overscaledZ||!(this.overscaledZ>o.overscaledZ)&&(this.canonical.x<o.canonical.x||!(this.canonical.x>o.canonical.x)&&this.canonical.y<o.canonical.y))}wrapped(){return new Sr(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(o){return new Sr(this.overscaledZ,o,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new J2(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(o){return this.canonical.getTilePoint(new nm(o.x-this.wrap,o.y))}}function Ju(c,o,l,p,m){(c*=2)<0&&(c=-1*c-1);let g=1<<l;return(g*g*c+g*m+p).toString(36)+l.toString(36)+o.toString(36)}function H1(c,o){return o?c.properties[o]:c.id}function sM(c,o){let l={id:c.id};if(o.removeAllProperties&&(delete c.removeProperties,delete c.addOrUpdateProperties,delete o.removeProperties),o.removeProperties)for(let p of o.removeProperties){let m=c.addOrUpdateProperties.findIndex(g=>g.key===p);m>-1&&c.addOrUpdateProperties.splice(m,1)}return(c.removeAllProperties||o.removeAllProperties)&&(l.removeAllProperties=!0),(c.removeProperties||o.removeProperties)&&(l.removeProperties=[...c.removeProperties||[],...o.removeProperties||[]]),(c.addOrUpdateProperties||o.addOrUpdateProperties)&&(l.addOrUpdateProperties=[...c.addOrUpdateProperties||[],...o.addOrUpdateProperties||[]]),(c.newGeometry||o.newGeometry)&&(l.newGeometry=o.newGeometry||c.newGeometry),l}function ex(c){var o,l;if(!c)return{};let p={};return p.removeAll=c.removeAll,p.remove=new Set(c.remove||[]),p.add=new Map((o=c.add)===null||o===void 0?void 0:o.map(m=>[m.id,m])),p.update=new Map((l=c.update)===null||l===void 0?void 0:l.map(m=>[m.id,m])),p}Ht("CanonicalTileID",q1),Ht("OverscaledTileID",Sr,{omit:["terrainRttPosMatrix32f"]});class Ad{constructor(){this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0}extend(o){return this.minX=Math.min(this.minX,o.x),this.minY=Math.min(this.minY,o.y),this.maxX=Math.max(this.maxX,o.x),this.maxY=Math.max(this.maxY,o.y),this}expandBy(o){return this.minX-=o,this.minY-=o,this.maxX+=o,this.maxY+=o,(this.minX>this.maxX||this.minY>this.maxY)&&(this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0),this}shrinkBy(o){return this.expandBy(-o)}map(o){let l=new Ad;return l.extend(o(new u(this.minX,this.minY))),l.extend(o(new u(this.maxX,this.minY))),l.extend(o(new u(this.minX,this.maxY))),l.extend(o(new u(this.maxX,this.maxY))),l}static fromPoints(o){let l=new Ad;for(let p of o)l.extend(p);return l}contains(o){return o.x>=this.minX&&o.x<=this.maxX&&o.y>=this.minY&&o.y<=this.maxY}empty(){return this.minX>this.maxX}width(){return this.maxX-this.minX}height(){return this.maxY-this.minY}covers(o){return!this.empty()&&!o.empty()&&o.minX>=this.minX&&o.maxX<=this.maxX&&o.minY>=this.minY&&o.maxY<=this.maxY}intersects(o){return!this.empty()&&!o.empty()&&o.minX<=this.maxX&&o.maxX>=this.minX&&o.minY<=this.maxY&&o.maxY>=this.minY}}class tx{constructor(o){this._stringToNumber={},this._numberToString=[];for(let l=0;l<o.length;l++){let p=o[l];this._stringToNumber[p]=l,this._numberToString[l]=p}}encode(o){return this._stringToNumber[o]}decode(o){if(o>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${o} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[o]}}class ix{constructor(o,l,p,m,g){this.type="Feature",this._vectorTileFeature=o,this._x=p,this._y=m,this._z=l,this.properties=o.properties,this.id=g}projectPoint(o,l,p,m){return[360*(o.x+l)/m-180,360/Math.PI*Math.atan(Math.exp((1-2*(o.y+p)/m)*Math.PI))-90]}projectLine(o,l,p,m){return o.map(g=>this.projectPoint(g,l,p,m))}get geometry(){if(this._geometry)return this._geometry;let o=this._vectorTileFeature,l=o.extent*Math.pow(2,this._z),p=o.extent*this._x,m=o.extent*this._y,g=o.loadGeometry();switch(o.type){case 1:{let _=[];for(let I of g)_.push(I[0]);let x=this.projectLine(_,p,m,l);this._geometry=_.length===1?{type:"Point",coordinates:x[0]}:{type:"MultiPoint",coordinates:x};break}case 2:{let _=g.map(x=>this.projectLine(x,p,m,l));this._geometry=_.length===1?{type:"LineString",coordinates:_[0]}:{type:"MultiLineString",coordinates:_};break}case 3:{let _=_2(g),x=[];for(let I of _)x.push(I.map(E=>this.projectLine(E,p,m,l)));this._geometry=x.length===1?{type:"Polygon",coordinates:x[0]}:{type:"MultiPolygon",coordinates:x};break}default:throw new Error(`unknown feature type: ${o.type}`)}return this._geometry}set geometry(o){this._geometry=o}toJSON(){let o={geometry:this.geometry};for(let l in this)l!=="_geometry"&&l!=="_vectorTileFeature"&&l!=="_x"&&l!=="_y"&&l!=="_z"&&(o[l]=this[l]);return o}}class ep{_name;dataBuffer;nullabilityBuffer;_size;constructor(o,l,p){this._name=o,this.dataBuffer=l,typeof p=="number"?this._size=p:(this.nullabilityBuffer=p,this._size=p.size())}getValue(o){return this.nullabilityBuffer&&!this.nullabilityBuffer.get(o)?null:this.getValueFromBuffer(o)}has(o){return this.nullabilityBuffer&&this.nullabilityBuffer.get(o)||!this.nullabilityBuffer}get name(){return this._name}get size(){return this._size}}class p0 extends ep{}class j1 extends p0{getValueFromBuffer(o){return this.dataBuffer[o]}}class G1 extends p0{getValueFromBuffer(o){return this.dataBuffer[o]}}class nx extends ep{delta;constructor(o,l,p,m){super(o,l,m),this.delta=p}}class U1 extends nx{constructor(o,l,p,m){super(o,Int32Array.of(l),p,m)}getValueFromBuffer(o){return this.dataBuffer[0]+o*this.delta}}class $1 extends ep{constructor(o,l,p){super(o,Int32Array.of(l),p)}getValueFromBuffer(o){return this.dataBuffer[0]}}class lM{_name;_geometryVector;_idVector;_propertyVectors;_extent;propertyVectorsMap;constructor(o,l,p,m,g=4096){this._name=o,this._geometryVector=l,this._idVector=p,this._propertyVectors=m,this._extent=g}get name(){return this._name}get idVector(){return this._idVector}get geometryVector(){return this._geometryVector}get propertyVectors(){return this._propertyVectors}getPropertyVector(o){return this.propertyVectorsMap||(this.propertyVectorsMap=new Map(this._propertyVectors.map(l=>[l.name,l]))),this.propertyVectorsMap.get(o)}*[Symbol.iterator](){let o=this.geometryVector[Symbol.iterator](),l=0;for(;l<this.numFeatures;){let p;this.idVector&&(p=this.containsMaxSaveIntegerValues(this.idVector)?Number(this.idVector.getValue(l)):this.idVector.getValue(l));let m=o?.next().value,g={};for(let _ of this.propertyVectors){if(!_)continue;let x=_.name,I=_.getValue(l);I!==null&&(g[x]=I)}l++,yield{id:p,geometry:m,properties:g}}}get numFeatures(){return this.geometryVector.numGeometries}get extent(){return this._extent}getFeatures(){let o=[],l=this.geometryVector.getGeometries();for(let p=0;p<this.numFeatures;p++){let m;this.idVector&&(m=this.containsMaxSaveIntegerValues(this.idVector)?Number(this.idVector.getValue(p)):this.idVector.getValue(p));let g={coordinates:l[p],type:this.geometryVector.geometryType(p)},_={};for(let x of this.propertyVectors){if(!x)continue;let I=x.name,E=x.getValue(p);E!==null&&(_[I]=E)}o.push({id:m,geometry:g,properties:_})}return o}containsMaxSaveIntegerValues(o){return o instanceof j1||o instanceof $1&&o instanceof U1||o instanceof G1}}class cM{value;constructor(o){this.value=o}get(){return this.value}set(o){this.value=o}increment(){return this.value++}add(o){this.value+=o}}var Li,dl,Ja,es,Od,ir,Ba,Na,ax,Mr;function Ka(c,o,l){let p=new Int32Array(l),m=0,g=o.get();for(let _=0;_<p.length;_++){let x=c[g++],I=127&x;x<128||(x=c[g++],I|=(127&x)<<7,x<128||(x=c[g++],I|=(127&x)<<14,x<128||(x=c[g++],I|=(127&x)<<21,x<128||(x=c[g++],I|=(15&x)<<28)))),p[m++]=I}return o.set(g),p}function h0(c,o,l){let p=new BigInt64Array(l);for(let m=0;m<p.length;m++)p[m]=uM(c,o);return p}function dM(c,o){let l,p;return p=c[o.get()],o.increment(),l=127&p,p<128?l:(p=c[o.get()],o.increment(),l|=(127&p)<<7,p<128?l:(p=c[o.get()],o.increment(),l|=(127&p)<<14,p<128?l:(p=c[o.get()],o.increment(),l|=(127&p)<<21,p<128?l:(p=c[o.get()],l|=(15&p)<<28,function(m,g,_){let x,I;if(I=g[_.get()],_.increment(),x=(112&I)>>4,I<128||(I=g[_.get()],_.increment(),x|=(127&I)<<3,I<128)||(I=g[_.get()],_.increment(),x|=(127&I)<<10,I<128)||(I=g[_.get()],_.increment(),x|=(127&I)<<17,I<128)||(I=g[_.get()],_.increment(),x|=(127&I)<<24,I<128)||(I=g[_.get()],_.increment(),x|=(1&I)<<31,I<128))return 4294967296*x+(m>>>0);throw new Error("Expected varint not more than 10 bytes")}(l,c,o)))))}function ox(c,o,l,p){throw new Error("FastPFor is not implemented yet.")}function Fd(c){return c>>>1^-(1&c)}function tp(c){return c>>1n^-(1n&c)}function uM(c,o){let l=0n,p=0,m=o.get();for(;m<c.length;){let g=c[m++];if(l|=BigInt(127&g)<<BigInt(p),!(128&g))break;if(p+=7,p>=64)throw new Error("Varint too long")}return o.set(m),l}function rx(c,o,l){let p=new Int32Array(l),m=0;for(let g=0;g<o;g++){let _=c[g];p.fill(c[g+o],m,m+_),m+=_}return p}function sx(c,o,l){let p=new BigInt64Array(l),m=0;for(let g=0;g<o;g++){let _=Number(c[g]);p.fill(c[g+o],m,m+_),m+=_}return p}function lx(c,o,l){let p=new Float64Array(l),m=0;for(let g=0;g<o;g++){let _=c[g];p.fill(c[g+o],m,m+_),m+=_}return p}function K1(c){let o=c.length/4*4,l=1;if(o>=4)for(let p=c[0];l<o-4;l+=4)p=c[l]+=p,p=c[l+1]+=p,p=c[l+2]+=p,p=c[l+3]+=p;for(;l!=c.length;)c[l]+=c[l-1],++l}function cx(c){c[0]=c[0]>>>1^-(1&c[0]),c[1]=c[1]>>>1^-(1&c[1]);let o=c.length/4*4,l=2;if(o>=4)for(;l<o-4;l+=4){let p=c[l],m=c[l+1],g=c[l+2],_=c[l+3];c[l]=(p>>>1^-(1&p))+c[l-2],c[l+1]=(m>>>1^-(1&m))+c[l-1],c[l+2]=(g>>>1^-(1&g))+c[l],c[l+3]=(_>>>1^-(1&_))+c[l+1]}for(;l!=c.length;l+=2)c[l]=(c[l]>>>1^-(1&c[l]))+c[l-2],c[l+1]=(c[l+1]>>>1^-(1&c[l+1]))+c[l-1]}(function(c){c.NONE="NONE",c.DELTA="DELTA",c.COMPONENTWISE_DELTA="COMPONENTWISE_DELTA",c.RLE="RLE",c.MORTON="MORTON",c.PDE="PDE"})(Li||(Li={})),function(c){c.NONE="NONE",c.FAST_PFOR="FAST_PFOR",c.VARINT="VARINT",c.ALP="ALP"}(dl||(dl={})),function(c){c.PRESENT="PRESENT",c.DATA="DATA",c.OFFSET="OFFSET",c.LENGTH="LENGTH"}(Ja||(Ja={}));class W1{_dictionaryType;_offsetType;_lengthType;constructor(o,l,p){this._dictionaryType=o,this._offsetType=l,this._lengthType=p}get dictionaryType(){return this._dictionaryType}get offsetType(){return this._offsetType}get lengthType(){return this._lengthType}}function Mo(c,o){let l=function(p,m){let g=p[m.get()],_=Object.values(Ja)[g>>4],x=null;switch(_){case Ja.DATA:x=new W1(Object.values(es)[15&g]);break;case Ja.OFFSET:x=new W1(null,Object.values(Od)[15&g]);break;case Ja.LENGTH:x=new W1(null,null,Object.values(ir)[15&g])}m.increment();let I=p[m.get()],E=Object.values(Li)[I>>5],O=Object.values(Li)[I>>2&7],V=Object.values(dl)[3&I];m.increment();let N=Ka(p,m,2),q=N[0];return{physicalStreamType:_,logicalStreamType:x,logicalLevelTechnique1:E,logicalLevelTechnique2:O,physicalLevelTechnique:V,numValues:q,byteLength:N[1],decompressedCount:q}}(c,o);return l.logicalLevelTechnique1===Li.MORTON?function(p,m,g){let _=Ka(m,g,2);return{physicalStreamType:p.physicalStreamType,logicalStreamType:p.logicalStreamType,logicalLevelTechnique1:p.logicalLevelTechnique1,logicalLevelTechnique2:p.logicalLevelTechnique2,physicalLevelTechnique:p.physicalLevelTechnique,numValues:p.numValues,byteLength:p.byteLength,decompressedCount:p.decompressedCount,numBits:_[0],coordinateShift:_[1]}}(l,c,o):Li.RLE!==l.logicalLevelTechnique1&&Li.RLE!==l.logicalLevelTechnique2||dl.NONE===l.physicalLevelTechnique?l:function(p,m,g){let _=Ka(m,g,2);return{physicalStreamType:p.physicalStreamType,logicalStreamType:p.logicalStreamType,logicalLevelTechnique1:p.logicalLevelTechnique1,logicalLevelTechnique2:p.logicalLevelTechnique2,physicalLevelTechnique:p.physicalLevelTechnique,numValues:p.numValues,byteLength:p.byteLength,decompressedCount:_[1],runs:_[0],numRleValues:_[1]}}(l,c,o)}(function(c){c.NONE="NONE",c.SINGLE="SINGLE",c.SHARED="SHARED",c.VERTEX="VERTEX",c.MORTON="MORTON",c.FSST="FSST"})(es||(es={})),function(c){c.VERTEX="VERTEX",c.INDEX="INDEX",c.STRING="STRING",c.KEY="KEY"}(Od||(Od={})),function(c){c.VAR_BINARY="VAR_BINARY",c.GEOMETRIES="GEOMETRIES",c.PARTS="PARTS",c.RINGS="RINGS",c.TRIANGLES="TRIANGLES",c.SYMBOL="SYMBOL",c.DICTIONARY="DICTIONARY"}(ir||(ir={})),function(c){c[c.FLAT=0]="FLAT",c[c.CONST=1]="CONST",c[c.SEQUENCE=2]="SEQUENCE",c[c.DICTIONARY=3]="DICTIONARY",c[c.FSST_DICTIONARY=4]="FSST_DICTIONARY"}(Ba||(Ba={}));class ts{values;_size;constructor(o,l){this.values=o,this._size=l}get(o){let l=Math.floor(o/8);return(this.values[l]>>o%8&1)==1}set(o,l){let p=Math.floor(o/8);this.values[p]=this.values[p]|(l?1:0)<<o%8}getInt(o){let l=Math.floor(o/8);return this.values[l]>>o%8&1}size(){return this._size}getBuffer(){return this.values}}function ko(c,o,l,p,m){return function(g,_,x){switch(_.logicalLevelTechnique1){case Li.DELTA:return _.logicalLevelTechnique2===Li.RLE?function(I,E,O){let V=new Int32Array(O),N=0,q=0;for(let G=0;G<E;G++){let K=I[G],Z=Fd(I[G+E]);for(let re=0;re<K;re++)q+=Z,V[N++]=q}return V}(g,_.runs,_.numRleValues):(function(I){I[0]=I[0]>>>1^-(1&I[0]);let E=I.length/4*4,O=1;if(E>=4)for(;O<E-4;O+=4){let V=I[O],N=I[O+1],q=I[O+2],G=I[O+3];I[O]=(V>>>1^-(1&V))+I[O-1],I[O+1]=(N>>>1^-(1&N))+I[O],I[O+2]=(q>>>1^-(1&q))+I[O+1],I[O+3]=(G>>>1^-(1&G))+I[O+2]}for(;O!=I.length;++O)I[O]=(I[O]>>>1^-(1&I[O]))+I[O-1]}(g),g);case Li.RLE:return function(I,E,O){return O?function(V,N,q){let G=new Int32Array(q),K=0;for(let Z=0;Z<N;Z++){let re=V[Z],ge=V[Z+N];ge=ge>>>1^-(1&ge),G.fill(ge,K,K+re),K+=re}return G}(I,E.runs,E.numRleValues):rx(I,E.runs,E.numRleValues)}(g,_,x);case Li.MORTON:return K1(g),g;case Li.COMPONENTWISE_DELTA:return cx(g),g;case Li.NONE:return x&&function(I){for(let E=0;E<I.length;E++){let O=I[E];I[E]=O>>>1^-(1&O)}}(g),g;default:throw new Error(`The specified Logical level technique is not supported: ${_.logicalLevelTechnique1}`)}}(m0(c,o,l),l,p)}function ec(c,o,l){return function(p,m){if(m.logicalLevelTechnique1===Li.DELTA&&m.logicalLevelTechnique2===Li.NONE)return function(_){let x=new Int32Array(_.length+1);x[0]=0,x[1]=Fd(_[0]);let I=x[1],E=2;for(;E!=x.length;++E){let O=_[E-1];I+=O>>>1^-(1&O),x[E]=x[E-1]+I}return x}(p);if(m.logicalLevelTechnique1===Li.RLE&&m.logicalLevelTechnique2===Li.NONE)return function(_,x,I){let E=new Int32Array(I+1);E[0]=0;let O=1,V=E[0];for(let N=0;N<x;N++){let q=_[N],G=_[N+x];for(let K=O;K<O+q;K++)E[K]=G+V,V=E[K];O+=q}return E}(p,m.runs,m.numRleValues);if(m.logicalLevelTechnique1===Li.NONE&&m.logicalLevelTechnique2===Li.NONE){(function(_){let x=0;for(let I=0;I<_.length;I++)_[I]+=x,x=_[I]})(p);let g=new Int32Array(m.numValues+1);return g[0]=0,g.set(p,1),g}if(m.logicalLevelTechnique1===Li.DELTA&&m.logicalLevelTechnique2===Li.RLE){let g=function(_,x,I){let E=new Int32Array(I+1);E[0]=0;let O=1,V=E[0];for(let N=0;N<x;N++){let q=_[N],G=_[N+x];G=G>>>1^-(1&G);for(let K=O;K<O+q;K++)E[K]=G+V,V=E[K];O+=q}return E}(p,m.runs,m.numRleValues);return K1(g),g}throw new Error("Only delta encoding is supported for transforming length to offset streams yet.")}(m0(c,o,l),l)}function m0(c,o,l){let p=l.physicalLevelTechnique;if(p===dl.FAST_PFOR)return ox();if(p===dl.VARINT)return Ka(c,o,l.numValues);if(p===dl.NONE){let m=o.get();o.add(l.byteLength);let g=c.subarray(m,o.get());return new Int32Array(g)}throw new Error("Specified physicalLevelTechnique is not supported (yet).")}function Z1(c,o,l,p){let m=m0(c,o,l);if(m.length===1){let g=m[0];return p?Fd(g):g}return p?function(g){return Fd(g[1])}(m):function(g){return g[1]}(m)}function dx(c,o,l){return function(p){if(p.length==2){let m=Fd(p[1]);return[m,m]}return[Fd(p[2]),Fd(p[3])]}(m0(c,o,l))}function ux(c,o,l){return function(p){if(p.length==2){let m=tp(p[1]);return[m,m]}return[tp(p[2]),tp(p[3])]}(h0(c,o,l.numValues))}function px(c,o,l,p){return function(m,g,_){switch(g.logicalLevelTechnique1){case Li.DELTA:return g.logicalLevelTechnique2===Li.RLE?function(x,I,E){let O=new BigInt64Array(E),V=0,N=0n;for(let q=0;q<I;q++){let G=Number(x[q]),K=tp(x[q+I]);for(let Z=0;Z<G;Z++)N+=K,O[V++]=N}return O}(m,g.runs,g.numRleValues):(function(x){x[0]=x[0]>>1n^-(1n&x[0]);let I=x.length/4*4,E=1;if(I>=4)for(;E<I-4;E+=4){let O=x[E],V=x[E+1],N=x[E+2],q=x[E+3];x[E]=(O>>1n^-(1n&O))+x[E-1],x[E+1]=(V>>1n^-(1n&V))+x[E],x[E+2]=(N>>1n^-(1n&N))+x[E+1],x[E+3]=(q>>1n^-(1n&q))+x[E+2]}for(;E!=x.length;++E)x[E]=(x[E]>>1n^-(1n&x[E]))+x[E-1]}(m),m);case Li.RLE:return function(x,I,E){return E?function(O,V,N){let q=new BigInt64Array(N),G=0;for(let K=0;K<V;K++){let Z=Number(O[K]),re=O[K+V];re=re>>1n^-(1n&re),q.fill(re,G,G+Z),G+=Z}return q}(x,I.runs,I.numRleValues):sx(x,I.runs,I.numRleValues)}(m,g,_);case Li.NONE:return _&&function(x){for(let I=0;I<x.length;I++){let E=x[I];x[I]=E>>1n^-(1n&E)}}(m),m;default:throw new Error(`The specified Logical level technique is not supported: ${g.logicalLevelTechnique1}`)}}(h0(c,o,l.numValues),l,p)}function hx(c,o,l,p){let m=h0(c,o,l.numValues);if(m.length===1){let g=m[0];return p?tp(g):g}return p?function(g){return tp(g[1])}(m):function(g){return g[1]}(m)}function Q1(c,o,l,p,m){return function(g,_,x,I){switch(_.logicalLevelTechnique1){case Li.DELTA:return _.logicalLevelTechnique2===Li.RLE&&(g=rx(g,_.runs,_.numRleValues)),function(E,O){let V=new Int32Array(E.size()),N=0;E.get(0)?(V[0]=E.get(0)?O[0]>>>1^-(1&O[0]):0,N=1):V[0]=0;let q=1;for(;q!=V.length;++q)V[q]=E.get(q)?V[q-1]+(O[N]>>>1^-(1&O[N++])):V[q-1];return V}(I,g);case Li.RLE:return function(E,O,V,N){let q=O;return V?function(G,K,Z){let re=new Int32Array(G.size()),ge=0;for(let ce=0;ce<Z;ce++){let pe=K[ce],ve=K[ce+Z];ve=ve>>>1^-(1&ve);for(let Ce=ge;Ce<ge+pe;Ce++)G.get(Ce)?re[Ce]=ve:(re[Ce]=0,ge++);ge+=pe}return re}(N,E,q.runs):function(G,K,Z){let re=new Int32Array(G.size()),ge=0;for(let ce=0;ce<Z;ce++){let pe=K[ce],ve=K[ce+Z];for(let Ce=ge;Ce<ge+pe;Ce++)G.get(Ce)?re[Ce]=ve:(re[Ce]=0,ge++);ge+=pe}return re}(N,E,q.runs)}(g,_,x,I);case Li.MORTON:return K1(g),g;case Li.COMPONENTWISE_DELTA:return cx(g),g;case Li.NONE:return g=x?function(E,O){let V=new Int32Array(E.size()),N=0,q=0;for(;q!=V.length;++q)if(E.get(q)){let G=O[N++];V[q]=G>>>1^-(1&G)}else V[q]=0;return V}(I,g):function(E,O){let V=new Int32Array(E.size()),N=0,q=0;for(;q!=V.length;++q)V[q]=E.get(q)?O[N++]:0;return V}(I,g),g;default:throw new Error("The specified Logical level technique is not supported")}}(l.physicalLevelTechnique===dl.FAST_PFOR?ox():Ka(c,o,l.numValues),l,p,m)}function f0(c,o,l,p){let m=c.logicalLevelTechnique1;if(m===Li.RLE)return c.runs===1?Ba.CONST:Ba.FLAT;let g=o instanceof ts?o.size():o;if(m===Li.DELTA&&c.logicalLevelTechnique2===Li.RLE){let _=c.runs,x=2;if(c.numRleValues!==g)return Ba.FLAT;if(_===1)return Ba.SEQUENCE;if(_===2){let I=p.get(),E;if(c.physicalLevelTechnique===dl.VARINT)E=Ka(l,p,4);else{let O=p.get();E=new Int32Array(l.buffer,l.byteOffset+O,4)}if(p.set(I),E[2]===x&&E[3]===x)return Ba.SEQUENCE}}return c.numValues===1?Ba.CONST:Ba.FLAT}class mx extends p0{getValueFromBuffer(o){return this.dataBuffer[o]}}class fx extends nx{constructor(o,l,p,m){super(o,BigInt64Array.of(l),p,m)}getValueFromBuffer(o){return this.dataBuffer[0]+BigInt(o)*this.delta}}class ip{_geometryOffsets;_partOffsets;_ringOffsets;constructor(o,l,p){this._geometryOffsets=o,this._partOffsets=l,this._ringOffsets=p}get geometryOffsets(){return this._geometryOffsets}get partOffsets(){return this._partOffsets}get ringOffsets(){return this._ringOffsets}}function X1(c,o,l){return{x:gx(c,o)-l,y:gx(c>>1,o)-l}}function gx(c,o){let l=0;for(let p=0;p<o;p++)l|=(c&1<<2*p)>>p;return l}(function(c){c[c.POINT=0]="POINT",c[c.LINESTRING=1]="LINESTRING",c[c.POLYGON=2]="POLYGON",c[c.MULTIPOINT=3]="MULTIPOINT",c[c.MULTILINESTRING=4]="MULTILINESTRING",c[c.MULTIPOLYGON=5]="MULTIPOLYGON"})(Na||(Na={})),function(c){c[c.POINT=0]="POINT",c[c.LINESTRING=1]="LINESTRING",c[c.POLYGON=2]="POLYGON"}(ax||(ax={})),function(c){c[c.MORTON=0]="MORTON",c[c.VEC_2=1]="VEC_2",c[c.VEC_3=2]="VEC_3"}(Mr||(Mr={}));class pM{createPoint(o){return[[o]]}createMultiPoint(o){return o.map(l=>[l])}createLineString(o){return[o]}createMultiLineString(o){return o}createPolygon(o,l){return[o].concat(l)}createMultiPolygon(o){return o.flat()}}function _x(c){let o=new Array(c.numGeometries),l=1,p=1,m=1,g=0,_=new pM,x=0,I=0,E=c.mortonSettings,O=c.topologyVector,V=O.geometryOffsets,N=O.partOffsets,q=O.ringOffsets,G=c.vertexOffsets,K=c.containsPolygonGeometry(),Z=c.vertexBuffer;for(let re=0;re<c.numGeometries;re++){let ge=c.geometryType(re);if(ge===Na.POINT){if(G&&G.length!==0)if(c.vertexBufferType===Mr.VEC_2){let ce=2*G[I++],pe=new u(Z[ce],Z[ce+1]);o[g++]=_.createPoint(pe)}else{let ce=X1(Z[G[I++]],E.numBits,E.coordinateShift),pe=new u(ce.x,ce.y);o[g++]=_.createPoint(pe)}else{let ce=new u(Z[x++],Z[x++]);o[g++]=_.createPoint(ce)}V&&m++,N&&l++,q&&p++}else if(ge===Na.MULTIPOINT){let ce=V[m]-V[m-1];m++;let pe=new Array(ce);if(G&&G.length!==0){for(let ve=0;ve<ce;ve++){let Ce=2*G[I++];pe[ve]=new u(Z[Ce],Z[Ce+1])}o[g++]=_.createMultiPoint(pe)}else{for(let ve=0;ve<ce;ve++){let Ce=Z[x++],Re=Z[x++];pe[ve]=new u(Ce,Re)}o[g++]=_.createMultiPoint(pe)}}else if(ge===Na.LINESTRING){let ce,pe=0;K?(pe=q[p]-q[p-1],p++):pe=N[l]-N[l-1],l++,G&&G.length!==0?(ce=c.vertexBufferType===Mr.VEC_2?J1(Z,G,I,pe,!1):eb(Z,G,I,pe,!1,E),I+=pe):(ce=Y1(Z,x,pe,!1),x+=2*pe),o[g++]=_.createLineString(ce),V&&m++}else if(ge===Na.POLYGON){let ce=N[l]-N[l-1];l++;let pe=new Array(ce-1),ve=q[p]-q[p-1];if(p++,G&&G.length!==0){let Ce=c.vertexBufferType===Mr.VEC_2?_0(Z,G,I,ve):b0(Z,G,I,ve,0,E);I+=ve;for(let Re=0;Re<pe.length;Re++)ve=q[p]-q[p-1],p++,pe[Re]=c.vertexBufferType===Mr.VEC_2?_0(Z,G,I,ve):b0(Z,G,I,ve,0,E),I+=ve;o[g++]=_.createPolygon(Ce,pe)}else{let Ce=g0(Z,x,ve);x+=2*ve;for(let Re=0;Re<pe.length;Re++)ve=q[p]-q[p-1],p++,pe[Re]=g0(Z,x,ve),x+=2*ve;o[g++]=_.createPolygon(Ce,pe)}V&&m++}else if(ge===Na.MULTILINESTRING){let ce=V[m]-V[m-1];m++;let pe=new Array(ce);if(G&&G.length!==0){for(let ve=0;ve<ce;ve++){let Ce=0;K?(Ce=q[p]-q[p-1],p++):Ce=N[l]-N[l-1],l++;let Re=c.vertexBufferType===Mr.VEC_2?J1(Z,G,I,Ce,!1):eb(Z,G,I,Ce,!1,E);pe[ve]=Re,I+=Ce}o[g++]=_.createMultiLineString(pe)}else{for(let ve=0;ve<ce;ve++){let Ce=0;K?(Ce=q[p]-q[p-1],p++):Ce=N[l]-N[l-1],l++,pe[ve]=Y1(Z,x,Ce,!1),x+=2*Ce}o[g++]=_.createMultiLineString(pe)}}else{if(ge!==Na.MULTIPOLYGON)throw new Error("The specified geometry type is currently not supported.");{let ce=V[m]-V[m-1];m++;let pe=new Array(ce),ve=0;if(G&&G.length!==0){for(let Ce=0;Ce<ce;Ce++){let Re=N[l]-N[l-1];l++;let rt=new Array(Re-1);ve=q[p]-q[p-1],p++;let tt=c.vertexBufferType===Mr.VEC_2?_0(Z,G,I,ve):b0(Z,G,I,ve,0,E);I+=ve;for(let dt=0;dt<rt.length;dt++)ve=q[p]-q[p-1],p++,rt[dt]=c.vertexBufferType===Mr.VEC_2?_0(Z,G,I,ve):b0(Z,G,I,ve,0,E),I+=ve;pe[Ce]=_.createPolygon(tt,rt)}o[g++]=_.createMultiPolygon(pe)}else{for(let Ce=0;Ce<ce;Ce++){let Re=N[l]-N[l-1];l++;let rt=new Array(Re-1);ve=q[p]-q[p-1],p++;let tt=g0(Z,x,ve);x+=2*ve;for(let dt=0;dt<rt.length;dt++){let St=q[p]-q[p-1];p++,rt[dt]=g0(Z,x,St),x+=2*St}pe[Ce]=_.createPolygon(tt,rt)}o[g++]=_.createMultiPolygon(pe)}}}}return o}function g0(c,o,l){return Y1(c,o,l,!0)}function _0(c,o,l,p){return J1(c,o,l,p,!0)}function b0(c,o,l,p,m,g){return eb(c,o,l,p,!0,g)}function Y1(c,o,l,p){let m=new Array(p?l+1:l);for(let g=0;g<2*l;g+=2)m[g/2]=new u(c[o+g],c[o+g+1]);return p&&(m[m.length-1]=m[0]),m}function J1(c,o,l,p,m){let g=new Array(m?p+1:p);for(let _=0;_<2*p;_+=2){let x=2*o[l+_/2];g[_/2]=new u(c[x],c[x+1])}return m&&(g[g.length-1]=g[0]),g}function eb(c,o,l,p,m,g){let _=new Array(m?p+1:p);for(let x=0;x<p;x++){let I=X1(c[o[l+x]],g.numBits,g.coordinateShift);_[x]=new u(I.x,I.y)}return m&&(_[_.length-1]=_[0]),_}class bx{_vertexBufferType;_topologyVector;_vertexOffsets;_vertexBuffer;_mortonSettings;constructor(o,l,p,m,g){this._vertexBufferType=o,this._topologyVector=l,this._vertexOffsets=p,this._vertexBuffer=m,this._mortonSettings=g}get vertexBufferType(){return this._vertexBufferType}get topologyVector(){return this._topologyVector}get vertexOffsets(){return this._vertexOffsets}get vertexBuffer(){return this._vertexBuffer}*[Symbol.iterator](){let o=_x(this),l=0;for(;l<this.numGeometries;)yield{coordinates:o[l],type:this.geometryType(l)},l++}getSimpleEncodedVertex(o){let l=this.vertexOffsets?2*this.vertexOffsets[o]:2*o;return[this.vertexBuffer[l],this.vertexBuffer[l+1]]}getVertex(o){if(this.vertexOffsets&&this.mortonSettings){let p=X1(this.vertexBuffer[this.vertexOffsets[o]],this.mortonSettings.numBits,this.mortonSettings.coordinateShift);return[p.x,p.y]}let l=this.vertexOffsets?2*this.vertexOffsets[o]:2*o;return[this.vertexBuffer[l],this.vertexBuffer[l+1]]}getGeometries(){return _x(this)}get mortonSettings(){return this._mortonSettings}}class yx extends bx{_numGeometries;_geometryType;constructor(o,l,p,m,g,_,x){super(p,m,g,_,x),this._numGeometries=o,this._geometryType=l}geometryType(o){return this._geometryType}get numGeometries(){return this._numGeometries}containsPolygonGeometry(){return this._geometryType===Na.POLYGON||this._geometryType===Na.MULTIPOLYGON}containsSingleGeometryType(){return!0}}class vx extends bx{_geometryTypes;constructor(o,l,p,m,g,_){super(o,p,m,g,_),this._geometryTypes=l}geometryType(o){return this._geometryTypes[o]}get numGeometries(){return this._geometryTypes.length}containsPolygonGeometry(){for(let o=0;o<this.numGeometries;o++)if(this.geometryType(o)===Na.POLYGON||this.geometryType(o)===Na.MULTIPOLYGON)return!0;return!1}containsSingleGeometryType(){return!1}}class xx{_triangleOffsets;_indexBuffer;_vertexBuffer;_topologyVector;constructor(o,l,p,m){this._triangleOffsets=o,this._indexBuffer=l,this._vertexBuffer=p,this._topologyVector=m}get triangleOffsets(){return this._triangleOffsets}get indexBuffer(){return this._indexBuffer}get vertexBuffer(){return this._vertexBuffer}get topologyVector(){return this._topologyVector}getGeometries(){if(!this._topologyVector)throw new Error("Cannot convert GpuVector to coordinates without topology information");let o=new Array(this.numGeometries),l=this._topologyVector,p=l.partOffsets,m=l.ringOffsets,g=l.geometryOffsets,_=0,x=1,I=1,E=1;for(let O=0;O<this.numGeometries;O++)switch(this.geometryType(O)){case Na.POLYGON:{let V=p[x]-p[x-1];x++;let N=[];for(let q=0;q<V;q++){let G=m[I]-m[I-1];I++;let K=[];for(let Z=0;Z<G;Z++){let re=this._vertexBuffer[_++],ge=this._vertexBuffer[_++];K.push(new u(re,ge))}K.length>0&&K.push(K[0]),N.push(K)}o[O]=N,g&&E++}break;case Na.MULTIPOLYGON:{let V=g[E]-g[E-1];E++;let N=[];for(let q=0;q<V;q++){let G=p[x]-p[x-1];x++;for(let K=0;K<G;K++){let Z=m[I]-m[I-1];I++;let re=[];for(let ge=0;ge<Z;ge++){let ce=this._vertexBuffer[_++],pe=this._vertexBuffer[_++];re.push(new u(ce,pe))}re.length>0&&re.push(re[0]),N.push(re)}}o[O]=N}}return o}[Symbol.iterator](){return null}}function wx(c,o,l,p,m,g){return new hM(c,o,l,p,m,g)}class hM extends xx{_numGeometries;_geometryType;constructor(o,l,p,m,g,_){super(p,m,g,_),this._numGeometries=o,this._geometryType=l}geometryType(o){return this._geometryType}get numGeometries(){return this._numGeometries}containsSingleGeometryType(){return!0}}function Ix(c,o,l,p,m){return new mM(c,o,l,p,m)}class mM extends xx{_geometryTypes;constructor(o,l,p,m,g){super(l,p,m,g),this._geometryTypes=o}geometryType(o){return this._geometryTypes[o]}get numGeometries(){return this._geometryTypes.length}containsSingleGeometryType(){return!1}}function fM(c,o,l,p,m){let g=Mo(c,l),_=null,x=null,I=null,E=null,O=null,V=null,N=null,q=null;if(f0(g,p,c,l)===Ba.CONST){let K=Z1(c,l,g,!1);for(let Z=0;Z<o-1;Z++){let re=Mo(c,l);switch(re.physicalStreamType){case Ja.LENGTH:switch(re.logicalStreamType.lengthType){case ir.GEOMETRIES:_=ec(c,l,re);break;case ir.PARTS:x=ec(c,l,re);break;case ir.RINGS:I=ec(c,l,re);break;case ir.TRIANGLES:N=ec(c,l,re)}break;case Ja.OFFSET:switch(re.logicalStreamType.offsetType){case Od.VERTEX:E=ko(c,l,re,!1);break;case Od.INDEX:q=ko(c,l,re,!1)}break;case Ja.DATA:es.VERTEX===re.logicalStreamType.dictionaryType?O=ko(c,l,re,!0):(V={numBits:re.numBits,coordinateShift:re.coordinateShift},O=ko(c,l,re,!1))}}return q!==null?_!=null||x!=null?wx(p,K,N,q,O,new ip(_,x,I)):wx(p,K,N,q,O):V===null?function(Z,re,ge,ce,pe){return new yx(Z,re,Mr.VEC_2,ge,ce,pe)}(p,K,new ip(_,x,I),E,O):function(Z,re,ge,ce,pe,ve){return new yx(Z,re,Mr.MORTON,ge,ce,pe,ve)}(p,K,new ip(_,x,I),E,O,V)}let G=ko(c,l,g,!1);for(let K=0;K<o-1;K++){let Z=Mo(c,l);switch(Z.physicalStreamType){case Ja.LENGTH:switch(Z.logicalStreamType.lengthType){case ir.GEOMETRIES:_=ko(c,l,Z,!1);break;case ir.PARTS:x=ko(c,l,Z,!1);break;case ir.RINGS:I=ko(c,l,Z,!1);break;case ir.TRIANGLES:N=ec(c,l,Z)}break;case Ja.OFFSET:switch(Z.logicalStreamType.offsetType){case Od.VERTEX:E=ko(c,l,Z,!1);break;case Od.INDEX:q=ko(c,l,Z,!1)}break;case Ja.DATA:es.VERTEX===Z.logicalStreamType.dictionaryType?O=ko(c,l,Z,!0):(V={numBits:Z.numBits,coordinateShift:Z.coordinateShift},O=ko(c,l,Z,!1))}}return q!==null&&x===null?Ix(G,N,q,O):(_!==null?(_=tb(G,_,2),x!==null&&I!==null?(x=Tx(G,_,x,!1),I=function(K,Z,re,ge){let ce=new Int32Array(re[re.length-1]+1),pe=0;ce[0]=pe;let ve=1,Ce=1,Re=0;for(let rt=0;rt<K.length;rt++){let tt=K[rt],dt=Z[rt+1]-Z[rt];if(tt!==0&&tt!==3)for(let St=0;St<dt;St++){let ht=re[ve]-re[ve-1];ve++;for(let it=0;it<ht;it++)pe=ce[Ce++]=pe+ge[Re++]}else for(let St=0;St<dt;St++)ce[Ce++]=++pe,ve++}return ce}(G,_,x,I)):x!==null&&(x=function(K,Z,re){let ge=new Int32Array(Z[Z.length-1]+1),ce=0;ge[0]=ce;let pe=1,ve=0;for(let Ce=0;Ce<K.length;Ce++){let Re=K[Ce],rt=Z[Ce+1]-Z[Ce];if(Re===4||Re===1)for(let tt=0;tt<rt;tt++)ce=ge[pe++]=ce+re[ve++];else for(let tt=0;tt<rt;tt++)ge[pe++]=++ce}return ge}(G,_,x))):x!==null&&I!==null?(x=tb(G,x,1),I=Tx(G,x,I,!0)):x!==null&&(x=tb(G,x,0)),q!==null?Ix(G,N,q,O,new ip(_,x,I)):V===null?function(K,Z,re,ge){return new vx(Mr.VEC_2,K,Z,re,ge)}(G,new ip(_,x,I),E,O):function(K,Z,re,ge,ce){return new vx(Mr.MORTON,K,Z,re,ge,ce)}(G,new ip(_,x,I),E,O,V))}function tb(c,o,l){let p=new Int32Array(c.length+1),m=0;p[0]=m;let g=0;for(let _=0;_<c.length;_++)m=p[_+1]=m+(c[_]>l?o[g++]:1);return p}function Tx(c,o,l,p){let m=new Int32Array(o[o.length-1]+1),g=0;m[0]=g;let _=1,x=0;for(let I=0;I<c.length;I++){let E=c[I],O=o[I+1]-o[I];if(E===5||E===2||p&&(E===4||E===1))for(let V=0;V<O;V++)g=m[_++]=g+l[x++];else for(let V=0;V<O;V++)m[_++]=++g}return m}class gM extends ep{dataVector;constructor(o,l,p){super(o,l.getBuffer(),p),this.dataVector=l}getValueFromBuffer(o){return this.dataVector.get(o)}}class _M extends p0{getValueFromBuffer(o){return this.dataBuffer[o]}}class Cx extends ep{constructor(o,l,p){super(o,BigInt64Array.of(l),p)}getValueFromBuffer(o){return this.dataBuffer[0]}}function am(c,o,l){return Sx(c,Math.ceil(o/8),l)}function Sx(c,o,l){let p=new Uint8Array(o),m=0;for(;m<o;){let g=c[l.increment()];if(g<=127){let _=g+3,x=c[l.increment()],I=m+_;p.fill(x,m,I),m=I}else{let _=256-g;for(let x=0;x<_;x++)p[m++]=c[l.increment()]}}return p}let bM=new TextDecoder;function ib(c,o,l){return l-o>=12?bM.decode(c.subarray(o,l)):function(p,m,g){let _="",x=m;for(;x<g;){let I=p[x],E,O,V,N=null,q=I>239?4:I>223?3:I>191?2:1;if(x+q>g)break;q===1?I<128&&(N=I):q===2?(E=p[x+1],(192&E)==128&&(N=(31&I)<<6|63&E,N<=127&&(N=null))):q===3?(E=p[x+1],O=p[x+2],(192&E)==128&&(192&O)==128&&(N=(15&I)<<12|(63&E)<<6|63&O,(N<=2047||N>=55296&&N<=57343)&&(N=null))):q===4&&(E=p[x+1],O=p[x+2],V=p[x+3],(192&E)==128&&(192&O)==128&&(192&V)==128&&(N=(15&I)<<18|(63&E)<<12|(63&O)<<6|63&V,(N<=65535||N>=1114112)&&(N=null))),N===null?(N=65533,q=1):N>65535&&(N-=65536,_+=String.fromCharCode(N>>>10&1023|55296),N=56320|1023&N),_+=String.fromCharCode(N),x+=q}return _}(c,o,l)}class nb extends ep{offsetBuffer;constructor(o,l,p,m){super(o,p,m),this.offsetBuffer=l}}class Mx extends nb{textEncoder;constructor(o,l,p,m){super(o,l,p,m??l.length-1),this.textEncoder=new TextEncoder}getValueFromBuffer(o){return ib(this.dataBuffer,this.offsetBuffer[o],this.offsetBuffer[o+1])}}class np extends nb{indexBuffer;textEncoder;constructor(o,l,p,m,g){super(o,p,m,g??l.length),this.indexBuffer=l,this.indexBuffer=l,this.textEncoder=new TextEncoder}getValueFromBuffer(o){let l=this.indexBuffer[o];return ib(this.dataBuffer,this.offsetBuffer[l],this.offsetBuffer[l+1])}}class kx extends nb{indexBuffer;symbolOffsetBuffer;symbolTableBuffer;textEncoder;symbolLengthBuffer;lengthBuffer;decodedDictionary;constructor(o,l,p,m,g,_,x){super(o,p,m,x),this.indexBuffer=l,this.symbolOffsetBuffer=g,this.symbolTableBuffer=_,this.textEncoder=new TextEncoder}getValueFromBuffer(o){this.decodedDictionary==null&&(this.symbolLengthBuffer==null&&(this.symbolLengthBuffer=this.offsetToLengthBuffer(this.symbolOffsetBuffer),this.lengthBuffer=this.offsetToLengthBuffer(this.offsetBuffer)),this.decodedDictionary=function(p,m,g){let _=[],x=new Array(m.length).fill(0);for(let I=1;I<m.length;I++)x[I]=x[I-1]+m[I-1];for(let I=0;I<g.length;I++)if(g[I]===255)_.push(g[++I]);else{let E=m[g[I]],O=x[g[I]];for(let V=0;V<E;V++)_.push(p[O+V])}return new Uint8Array(_)}(this.symbolTableBuffer,this.symbolLengthBuffer,this.dataBuffer));let l=this.indexBuffer[o];return ib(this.decodedDictionary,this.offsetBuffer[l],this.offsetBuffer[l+1])}offsetToLengthBuffer(o){let l=new Uint32Array(o.length-1),p=o[0];for(let m=1;m<o.length;m++){let g=o[m];l[m-1]=g-p,p=g}return l}}function yM(c,o,l,p,m,g){return l.type==="scalarType"?function(_,x,I,E,O,V){let N=null,q=0;if(_===0)return null;if(V.nullable){let K=Mo(x,I);q=K.numValues;let Z=I.get(),re=am(x,q,I);I.set(Z+K.byteLength),N=new ts(re,K.numValues)}let G=N??E;switch(O.physicalType){case 4:case 3:return function(K,Z,re,ge,ce){let pe=Mo(K,Z),ve=f0(pe,ce,K,Z),Ce=ge.physicalType===3;if(ve===Ba.FLAT){let Re=om(ce)?Q1(K,Z,pe,Ce,ce):ko(K,Z,pe,Ce);return new j1(re.name,Re,ce)}if(ve===Ba.SEQUENCE){let Re=dx(K,Z,pe);return new U1(re.name,Re[0],Re[1],pe.numRleValues)}{let Re=Z1(K,Z,pe,Ce);return new $1(re.name,Re,ce)}}(x,I,V,O,G);case 9:return function(K,Z,re,ge,ce){let pe=null,ve=null,Ce=null,Re=null,rt=null,tt=null,dt=null,St=null;for(let ht=0;ht<ge;ht++){let it=Mo(Z,re);if(it.byteLength!==0)switch(it.physicalStreamType){case Ja.PRESENT:{let Qe=am(Z,it.numValues,re);tt=new ts(Qe,it.numValues);break}case Ja.OFFSET:ve=ce!=null||tt!=null?Q1(Z,re,it,!1,ce??tt):ko(Z,re,it,!1);break;case Ja.LENGTH:{let Qe=ec(Z,re,it);ir.DICTIONARY===it.logicalStreamType.lengthType?pe=Qe:ir.SYMBOL===it.logicalStreamType.lengthType?Re=Qe:dt=Qe;break}case Ja.DATA:{let Qe=Z.subarray(re.get(),re.get()+it.byteLength);re.add(it.byteLength);let Nt=it.logicalStreamType.dictionaryType;es.FSST===Nt?rt=Qe:es.SINGLE===Nt||es.SHARED===Nt?Ce=Qe:es.NONE===Nt&&(St=Qe);break}}}return function(ht,it,Qe,Nt,Ft,jt,Pt){return it?new kx(ht,Qe,Nt,Ft,jt,it,Pt):null}(K,rt,ve,pe,Ce,Re,ce??tt)??function(ht,it,Qe,Nt,Ft){return it?Ft?new np(ht,Qe,Nt,it,Ft):new np(ht,Qe,Nt,it):null}(K,Ce,ve,pe,ce??tt)??function(ht,it,Qe,Nt,Ft){if(!it||!Qe)return null;if(Nt)return Ft?new np(ht,Nt,it,Qe,Ft):new np(ht,Nt,it,Qe);if(Ft&&Ft.size()!==it.length-1){let jt=new Int32Array(Ft.size()),Pt=0;for(let ti=0;ti<Ft.size();ti++)jt[ti]=Ft.get(ti)?Pt++:0;return new np(ht,jt,it,Qe,Ft)}return Ft?new Mx(ht,it,Qe,Ft):new Mx(ht,it,Qe)}(K,dt,St,ve,ce??tt)}(V.name,x,I,V.nullable?_-1:_,N);case 0:return function(K,Z,re,ge,ce){let pe=Mo(K,Z),ve=pe.numValues,Ce=Z.get(),Re=om(ce)?function(tt,dt,St,ht){let it=Sx(tt,Math.ceil(dt/8),St),Qe=new ts(it,dt),Nt=ht.size(),Ft=new ts(new Uint8Array(Nt),Nt),jt=0;for(let Pt=0;Pt<ht.size();Pt++){let ti=!!ht.get(Pt)&&Qe.get(jt++);Ft.set(Pt,ti)}return Ft.getBuffer()}(K,ve,Z,ce):am(K,ve,Z);Z.set(Ce+pe.byteLength);let rt=new ts(Re,ve);return new gM(re.name,rt,ce)}(x,I,V,0,G);case 6:case 5:return function(K,Z,re,ge,ce){let pe=Mo(K,Z),ve=f0(pe,ge,K,Z),Ce=ce.physicalType===5;if(ve===Ba.FLAT){let Re=om(ge)?function(rt,tt,dt,St,ht){return function(it,Qe,Nt,Ft){switch(Qe.logicalLevelTechnique1){case Li.DELTA:return Qe.logicalLevelTechnique2===Li.RLE&&(it=sx(it,Qe.runs,Qe.numRleValues)),function(jt,Pt){let ti=new BigInt64Array(jt.size()),ji=0;jt.get(0)?(ti[0]=jt.get(0)?Pt[0]>>1n^-(1n&Pt[0]):0n,ji=1):ti[0]=0n;let Pi=1;for(;Pi!=ti.length;++Pi)ti[Pi]=jt.get(Pi)?ti[Pi-1]+(Pt[ji]>>1n^-(1n&Pt[ji++])):ti[Pi-1];return ti}(Ft,it);case Li.RLE:return function(jt,Pt,ti,ji){let Pi=Pt;return ti?function(On,to,xa){let Fn=new BigInt64Array(On.size()),kn=0;for(let tn=0;tn<xa;tn++){let Yn=Number(to[tn]),da=to[tn+xa];da=da>>1n^-(1n&da);for(let Tn=kn;Tn<kn+Yn;Tn++)On.get(Tn)?Fn[Tn]=da:(Fn[Tn]=0n,kn++);kn+=Yn}return Fn}(ji,jt,Pi.runs):function(On,to,xa){let Fn=new BigInt64Array(On.size()),kn=0;for(let tn=0;tn<xa;tn++){let Yn=Number(to[tn]),da=to[tn+xa];for(let Tn=kn;Tn<kn+Yn;Tn++)On.get(Tn)?Fn[Tn]=da:(Fn[Tn]=0n,kn++);kn+=Yn}return Fn}(ji,jt,Pi.runs)}(it,Qe,Nt,Ft);case Li.NONE:return it=Nt?function(jt,Pt){let ti=new BigInt64Array(jt.size()),ji=0,Pi=0;for(;Pi!=ti.length;++Pi)if(jt.get(Pi)){let On=Pt[ji++];ti[Pi]=On>>1n^-(1n&On)}else ti[Pi]=0n;return ti}(Ft,it):function(jt,Pt){let ti=new BigInt64Array(jt.size()),ji=0,Pi=0;for(;Pi!=ti.length;++Pi)ti[Pi]=jt.get(Pi)?Pt[ji++]:0n;return ti}(Ft,it),it;default:throw new Error("The specified Logical level technique is not supported")}}(h0(rt,tt,dt.numValues),dt,St,ht)}(K,Z,pe,Ce,ge):px(K,Z,pe,Ce);return new mx(re.name,Re,ge)}if(ve===Ba.SEQUENCE){let Re=ux(K,Z,pe);return new fx(re.name,Re[0],Re[1],pe.numRleValues)}{let Re=hx(K,Z,pe,Ce);return new Cx(re.name,Re,ge)}}(x,I,V,G,O);case 7:return function(K,Z,re,ge){let ce=Mo(K,Z),pe=om(ge)?function(ve,Ce,Re,rt){let tt=Ce.get(),dt=tt+rt*Float32Array.BYTES_PER_ELEMENT,St=new Uint8Array(ve.subarray(tt,dt)).buffer,ht=new Float32Array(St);Ce.set(dt);let it=Re.size(),Qe=new Float32Array(it),Nt=0;for(let Ft=0;Ft<it;Ft++)Qe[Ft]=Re.get(Ft)?ht[Nt++]:0;return Qe}(K,Z,ge,ce.numValues):function(ve,Ce,Re){let rt=Ce.get(),tt=rt+Re*Float32Array.BYTES_PER_ELEMENT,dt=new Uint8Array(ve.subarray(rt,tt)).buffer,St=new Float32Array(dt);return Ce.set(tt),St}(K,Z,ce.numValues);return new _M(re.name,pe,ge)}(x,I,V,G);case 8:return function(K,Z,re,ge){let ce=Mo(K,Z),pe=om(ge)?function(ve,Ce,Re,rt){let tt=Ce.get(),dt=tt+rt*Float64Array.BYTES_PER_ELEMENT,St=new Uint8Array(ve.subarray(tt,dt)).buffer,ht=new Float64Array(St);Ce.set(dt);let it=Re.size(),Qe=new Float64Array(it),Nt=0;for(let Ft=0;Ft<it;Ft++)Qe[Ft]=Re.get(Ft)?ht[Nt++]:0;return Qe}(K,Z,ge,ce.numValues):function(ve,Ce,Re){let rt=Ce.get(),tt=rt+Re*Float64Array.BYTES_PER_ELEMENT,dt=new Uint8Array(ve.subarray(rt,tt)).buffer,St=new Float64Array(dt);return Ce.set(tt),St}(K,Z,ce.numValues);return new G1(re.name,pe,ge)}(x,I,V,G);default:throw new Error(`The specified data type for the field is currently not supported: ${O}`)}}(p,c,o,m,l.scalarType,l):p!=1?null:function(_,x,I,E){let O=null,V=null,N=null,q=null,G=!1;for(;!G;){let ge=Mo(_,x);switch(ge.physicalStreamType){case Ja.LENGTH:ir.DICTIONARY===ge.logicalStreamType.lengthType?O=ec(_,x,ge):N=ec(_,x,ge);break;case Ja.DATA:es.SINGLE===ge.logicalStreamType.dictionaryType||es.SHARED===ge.logicalStreamType.dictionaryType?(V=_.subarray(x.get(),x.get()+ge.byteLength),G=!0):q=_.subarray(x.get(),x.get()+ge.byteLength),x.add(ge.byteLength)}}let K=I.complexType.children,Z=[],re=0;for(let ge of K){let ce=Ka(_,x,1)[0];if(ce==0)continue;let pe=`${I.name}${ge.name==="default"?"":":"+ge.name}`;if(ce!==2||ge.type!=="scalarField"||ge.scalarField.physicalType!==9)throw new Error("Currently only optional string fields are implemented for a struct.");let ve=Mo(_,x),Ce=am(_,ve.numValues,x),Re=Mo(_,x),rt=Re.decompressedCount!==E?Q1(_,x,Re,!1,new ts(Ce,ve.numValues)):ko(_,x,Re,!1);Z[re++]=q?new kx(pe,rt,O,V,N,q,new ts(Ce,ve.numValues)):new np(pe,rt,O,V,new ts(Ce,ve.numValues))}return Z}(c,o,l,m)}function om(c){return c instanceof ts}function vM(c){if(c.name==="id")return!1;if(c.type==="scalarType"){let o=c.scalarType;if(o.type==="physicalType")switch(o.physicalType){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:default:return!1;case 9:return!0}else if(o.type==="logicalType")return!1}else if(c.type==="complexType"){let o=c.complexType;if(o.type==="physicalType")switch(o.physicalType){case 0:case 1:return!0;default:return!1}}return console.warn("Unexpected column type in hasStreamCount",c),!1}let xM=new TextDecoder;function Ex(c,o){let l=Ka(c,o,1)[0];if(l===0)return"";let p=o.get(),m=c.subarray(p,p+l);return o.add(l),xM.decode(m)}function Px(c,o){let l=Ka(c,o,1)[0]>>>0,p=!!(4&l),m=!!(2&l),g=Ka(c,o,1)[0]>>>0,_={};if(1&l&&(_.nullable=!0),m){let x={};if(p?(x.type="logicalType",x.logicalType=g):(x.type="physicalType",x.physicalType=g),8&l){let I=Ka(c,o,1)[0]>>>0;x.children=new Array(I);for(let E=0;E<I;E++)x.children[E]=Px(c,o)}_.type="complexField",_.complexField=x}else{let x={};p?(x.type="logicalType",x.logicalType=g):(x.type="physicalType",x.physicalType=g),_.type="scalarField",_.scalarField=x}return _}function wM(c,o){let l=Ka(c,o,1)[0]>>>0,p=function(m){switch(m){case 0:case 1:case 2:case 3:{let g={};g.nullable=!!(1&m),g.columnScope=0;let _={};return _.physicalType=m>1?6:4,_.type="physicalType",g.scalarType=_,g.type="scalarType",g}case 4:{let g={nullable:!1,columnScope:0},_={type:"physicalType",physicalType:0};return g.type="complexType",g.complexType=_,g}case 30:{let g={nullable:!1,columnScope:0},_={type:"physicalType",physicalType:1};return g.type="complexType",g.complexType=_,g}default:return function(g){let _=null;switch(g){case 10:case 11:_=0;break;case 12:case 13:_=1;break;case 14:case 15:_=2;break;case 16:case 17:_=3;break;case 18:case 19:_=4;break;case 20:case 21:_=5;break;case 22:case 23:_=6;break;case 24:case 25:_=7;break;case 26:case 27:_=8;break;case 28:case 29:_=9;break;default:return null}let x={};x.nullable=!!(1&g),x.columnScope=0;let I={type:"physicalType"};return I.physicalType=_,x.type="scalarType",x.scalarType=I,x}(m)}}(l);if(!p)throw new Error(`Unsupported column type code: ${l}`);if(function(m){return m>=10}(l)?p.name=Ex(c,o):l>=0&&l<=3?p.name="id":l===4&&(p.name="geometry"),function(m){return m===30}(l)){let m=Ka(c,o,1)[0]>>>0,g=p.complexType;g.children=new Array(m);for(let _=0;_<m;_++)g.children[_]=Px(c,o)}return p}function IM(c,o){let l={featureTables:[]},p={};p.name=Ex(c,o);let m=Ka(c,o,1)[0]>>>0,g=Ka(c,o,1)[0]>>>0;p.columns=new Array(g);for(let _=0;_<g;_++)p.columns[_]=wM(c,o);return l.featureTables.push(p),[l,m]}function TM(c,o,l,p,m,g,_=!1){let x=o.scalarType.physicalType,I=f0(m,g,c,l);if(x===4)switch(I){case Ba.FLAT:{let E=ko(c,l,m,!1);return new j1(p,E,g)}case Ba.SEQUENCE:{let E=dx(c,l,m);return new U1(p,E[0],E[1],m.numRleValues)}case Ba.CONST:{let E=Z1(c,l,m,!1);return new $1(p,E,g)}}else switch(I){case Ba.FLAT:{if(_){let O=function(V,N,q,G){let K=function(Z,re,ge){let ce=new Float64Array(re);for(let pe=0;pe<re;pe++)ce[pe]=dM(Z,ge);return ce}(V,q.numValues,N);return function(Z,re,ge){switch(re.logicalLevelTechnique1){case Li.DELTA:return re.logicalLevelTechnique2===Li.RLE&&(Z=lx(Z,re.runs,re.numRleValues)),function(ce){ce[0]=ce[0]%2==1?(ce[0]+1)/-2:ce[0]/2;let pe=ce.length/4*4,ve=1;if(pe>=4)for(;ve<pe-4;ve+=4){let Ce=ce[ve],Re=ce[ve+1],rt=ce[ve+2],tt=ce[ve+3];ce[ve]=(Ce%2==1?(Ce+1)/-2:Ce/2)+ce[ve-1],ce[ve+1]=(Re%2==1?(Re+1)/-2:Re/2)+ce[ve],ce[ve+2]=(rt%2==1?(rt+1)/-2:rt/2)+ce[ve+1],ce[ve+3]=(tt%2==1?(tt+1)/-2:tt/2)+ce[ve+2]}for(;ve!=ce.length;++ve)ce[ve]=(ce[ve]%2==1?(ce[ve]+1)/-2:ce[ve]/2)+ce[ve-1]}(Z),Z;case Li.RLE:return function(ce,pe,ve){return ve?function(Ce,Re,rt){let tt=new Float64Array(rt),dt=0;for(let St=0;St<Re;St++){let ht=Ce[St],it=Ce[St+Re];it=it%2==1?(it+1)/-2:it/2,tt.fill(it,dt,dt+ht),dt+=ht}return tt}(ce,pe.runs,pe.numRleValues):lx(ce,pe.runs,pe.numRleValues)}(Z,re,ge);case Li.NONE:return Z;default:throw new Error(`The specified Logical level technique is not supported: ${re.logicalLevelTechnique1}`)}}(K,q,G)}(c,l,m,!1);return new G1(p,O,g)}let E=px(c,l,m,!1);return new mx(p,E,g)}case Ba.SEQUENCE:{let E=ux(c,l,m);return new fx(p,E[0],E[1],m.numRleValues)}case Ba.CONST:{let E=hx(c,l,m,!1);return new Cx(p,E,g)}}throw new Error("Vector type not supported for id column.")}class CM{constructor(o,l){var p;switch(this._featureData=o,this.properties=this._featureData.properties||{},(p=this._featureData.geometry)===null||p===void 0?void 0:p.type){case Na.POINT:case Na.MULTIPOINT:this.type=1;break;case Na.LINESTRING:case Na.MULTILINESTRING:this.type=2;break;case Na.POLYGON:case Na.MULTIPOLYGON:this.type=3;break;default:this.type=0}this.extent=l,this.id=Number(this._featureData.id)}loadGeometry(){let o=[];for(let l of this._featureData.geometry.coordinates){let p=[];for(let m of l)p.push(new u(m.x,m.y));o.push(p)}return o}}class SM{constructor(o){this.features=[],this.featureTable=o,this.name=o.name,this.extent=o.extent,this.version=2,this.features=o.getFeatures(),this.length=this.features.length}feature(o){return new CM(this.features[o],this.extent)}}class Dx{constructor(o){this.layers={};let l=function(p,m,g=!0){let _=new cM(0),x=[];for(;_.get()<p.length;){let I=Ka(p,_,1)[0]>>>0,E=_.get()+I;if(E>p.length)throw new Error(`Block overruns tile: ${E} > ${p.length}`);if(Ka(p,_,1)[0]>>>0!=1){_.set(E);continue}let O=IM(p,_),V=O[1],N=O[0].featureTables[0],q=null,G=null,K=[],Z=0;for(let ge of N.columns){let ce=ge.name;if(ce==="id"){let pe=null;if(ge.nullable){let Ce=Mo(p,_),Re=_.get(),rt=am(p,Ce.numValues,_);_.set(Re+Ce.byteLength),pe=new ts(rt,Ce.numValues)}let ve=Mo(p,_);Z=ve.decompressedCount,q=TM(p,ge,_,ce,ve,pe??Z,g)}else if(ce==="geometry"){let pe=Ka(p,_,1)[0];if(Z===0){let ve=_.get();Z=Mo(p,_).decompressedCount,_.set(ve)}G=fM(p,pe,_,Z)}else{let pe=vM(ge)?Ka(p,_,1)[0]:1;if(pe===0&&ge.type==="scalarType")continue;let ve=yM(p,_,ge,pe,Z);if(ve)if(Array.isArray(ve))for(let Ce of ve)K.push(Ce);else K.push(ve)}}let re=new lM(N.name,G,q,K,V);x.push(re),_.set(E)}return x}(new Uint8Array(o));this.layers=l.reduce((p,m)=>Object.assign(Object.assign({},p),{[m.name]:new SM(m)}),{})}}class MM{constructor(o,l){this.feature=o,this.type=o.type,this.properties=o.tags?o.tags:{},this.extent=l,"id"in o&&(typeof o.id=="string"?this.id=parseInt(o.id,10):typeof o.id!="number"||isNaN(o.id)||(this.id=o.id))}loadGeometry(){let o=[],l=this.feature.type===1?[this.feature.geometry]:this.feature.geometry;for(let p of l){let m=[];for(let g of p)m.push(new u(g[0],g[1]));o.push(m)}return o}}let rm="_geojsonTileLayer";function kM(c,o){o.writeVarintField(15,c.version||1),o.writeStringField(1,c.name||""),o.writeVarintField(5,c.extent||4096);let l={keys:[],values:[],keycache:{},valuecache:{}};for(let g=0;g<c.length;g++)l.feature=c.feature(g),o.writeMessage(2,EM,l);let p=l.keys;for(let g of p)o.writeStringField(3,g);let m=l.values;for(let g of m)o.writeMessage(4,LM,g)}function EM(c,o){if(!c.feature)return;let l=c.feature;l.id!==void 0&&o.writeVarintField(1,l.id),o.writeMessage(2,PM,c),o.writeVarintField(3,l.type),o.writeMessage(4,DM,l)}function PM(c,o){for(let l in c.feature?.properties){let p=c.feature.properties[l],m=c.keycache[l];if(p==null)continue;m===void 0&&(c.keys.push(l),m=c.keys.length-1,c.keycache[l]=m),o.writeVarint(m),typeof p!="string"&&typeof p!="boolean"&&typeof p!="number"&&(p=JSON.stringify(p));let g=typeof p+":"+p,_=c.valuecache[g];_===void 0&&(c.values.push(p),_=c.values.length-1,c.valuecache[g]=_),o.writeVarint(_)}}function ab(c,o){return(o<<3)+(7&c)}function Lx(c){return c<<1^c>>31}function DM(c,o){let l=c.loadGeometry(),p=c.type,m=0,g=0;for(let _ of l){let x=1;p===1&&(x=_.length),o.writeVarint(ab(1,x));let I=p===3?_.length-1:_.length;for(let E=0;E<I;E++){E===1&&p!==1&&o.writeVarint(ab(2,I-1));let O=_[E].x-m,V=_[E].y-g;o.writeVarint(Lx(O)),o.writeVarint(Lx(V)),m+=O,g+=V}c.type===3&&o.writeVarint(ab(7,1))}}function LM(c,o){let l=typeof c;l==="string"?o.writeStringField(1,c):l==="boolean"?o.writeBooleanField(7,c):l==="number"&&(c%1!=0?o.writeDoubleField(3,c):c<0?o.writeSVarintField(6,c):o.writeVarintField(5,c))}class Ax{constructor(o,l){this.tileID=o,this.x=o.canonical.x,this.y=o.canonical.y,this.z=o.canonical.z,this.grid=new Kl(ui,16,0),this.grid3D=new Kl(ui,16,0),this.featureIndexArray=new ne,this.promoteId=l}insert(o,l,p,m,g,_){let x=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(p,m,g);let I=_?this.grid3D:this.grid;for(let E=0;E<l.length;E++){let O=l[E],V=[1/0,1/0,-1/0,-1/0];for(let N=0;N<O.length;N++){let q=O[N];V[0]=Math.min(V[0],q.x),V[1]=Math.min(V[1],q.y),V[2]=Math.max(V[2],q.x),V[3]=Math.max(V[3],q.y)}V[0]<ui&&V[1]<ui&&V[2]>=0&&V[3]>=0&&I.insert(x,V[0],V[1],V[2],V[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=this.encoding!=="mlt"?new b2(new s0(this.rawTileData)).layers:new Dx(this.rawTileData).layers,this.sourceLayerCoder=new tx(this.vtLayers?Object.keys(this.vtLayers).sort():[rm])),this.vtLayers}query(o,l,p,m){this.loadVTLayers();let g=o.params,_=ui/o.tileSize/o.scale,x=cd(g.filter,g.globalState),I=o.queryGeometry,E=o.queryPadding*_,O=Ad.fromPoints(I),V=this.grid.query(O.minX-E,O.minY-E,O.maxX+E,O.maxY+E),N=Ad.fromPoints(o.cameraQueryGeometry).expandBy(E),q=this.grid3D.query(N.minX,N.minY,N.maxX,N.maxY,(Z,re,ge,ce)=>function(pe,ve,Ce,Re,rt){for(let dt of pe)if(ve<=dt.x&&Ce<=dt.y&&Re>=dt.x&&rt>=dt.y)return!0;let tt=[new u(ve,Ce),new u(ve,rt),new u(Re,rt),new u(Re,Ce)];if(pe.length>2){for(let dt of tt)if(Uu(pe,dt))return!0}for(let dt=0;dt<pe.length-1;dt++)if(O4(pe[dt],pe[dt+1],tt))return!0;return!1}(o.cameraQueryGeometry,Z-E,re-E,ge+E,ce+E));for(let Z of q)V.push(Z);V.sort(AM);let G={},K;for(let Z=0;Z<V.length;Z++){let re=V[Z];if(re===K)continue;K=re;let ge=this.featureIndexArray.get(re),ce=null;this.loadMatchingFeature(G,ge.bucketIndex,ge.sourceLayerIndex,ge.featureIndex,x,g.layers,g.availableImages,l,p,m,(pe,ve,Ce)=>(ce||(ce=Ss(pe)),ve.queryIntersectsFeature({queryGeometry:I,feature:pe,featureState:Ce,geometry:ce,zoom:this.z,transform:o.transform,pixelsToTileUnits:_,pixelPosMatrix:o.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:o.getElevation})))}return G}loadMatchingFeature(o,l,p,m,g,_,x,I,E,O,V){let N=this.bucketLayerIDs[l];if(_&&!N.some(Z=>_.has(Z)))return;let q=this.sourceLayerCoder.decode(p),G=this.vtLayers[q].feature(m);if(g.needGeometry){let Z=Ms(G,!0);if(!g.filter(new pn(this.tileID.overscaledZ),Z,this.tileID.canonical))return}else if(!g.filter(new pn(this.tileID.overscaledZ),G))return;let K=this.getId(G,q);for(let Z=0;Z<N.length;Z++){let re=N[Z];if(_&&!_.has(re))continue;let ge=I[re];if(!ge)continue;let ce={};K&&O&&(ce=O.getState(ge.sourceLayer||rm,K));let pe=$n({},E[re]);pe.paint=Ox(pe.paint,ge.paint,G,ce,x),pe.layout=Ox(pe.layout,ge.layout,G,ce,x);let ve=!V||V(G,ge,ce);if(!ve)continue;let Ce=new ix(G,this.z,this.x,this.y,K);Ce.layer=pe;let Re=o[re];Re===void 0&&(Re=o[re]=[]),Re.push({featureIndex:m,feature:Ce,intersectionZ:ve})}}lookupSymbolFeatures(o,l,p,m,g,_,x,I){let E={};this.loadVTLayers();let O=cd(g.filterSpec,g.globalState);for(let V of o)this.loadMatchingFeature(E,p,m,V,O,_,x,I,l);return E}hasLayer(o){for(let l of this.bucketLayerIDs)for(let p of l)if(o===p)return!0;return!1}getId(o,l){var p;let m=o.id;return this.promoteId&&(m=o.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[l]],typeof m=="boolean"&&(m=Number(m)),m===void 0&&(!((p=o.properties)===null||p===void 0)&&p.cluster)&&this.promoteId&&(m=Number(o.properties.cluster_id))),m}}function Ox(c,o,l,p,m){return fr(c,(g,_)=>{let x=o instanceof wd?o.get(_):null;return x&&x.evaluate?x.evaluate(l,p,m):x})}function AM(c,o){return o-c}function Fx(c,o,l,p,m){let g=[];for(let _=0;_<c.length;_++){let x=c[_],I;for(let E=0;E<x.length-1;E++){let O=x[E],V=x[E+1];O.x<o&&V.x<o||(O.x<o?O=new u(o,O.y+(o-O.x)/(V.x-O.x)*(V.y-O.y))._round():V.x<o&&(V=new u(o,O.y+(o-O.x)/(V.x-O.x)*(V.y-O.y))._round()),O.y<l&&V.y<l||(O.y<l?O=new u(O.x+(l-O.y)/(V.y-O.y)*(V.x-O.x),l)._round():V.y<l&&(V=new u(O.x+(l-O.y)/(V.y-O.y)*(V.x-O.x),l)._round()),O.x>=p&&V.x>=p||(O.x>=p?O=new u(p,O.y+(p-O.x)/(V.x-O.x)*(V.y-O.y))._round():V.x>=p&&(V=new u(p,O.y+(p-O.x)/(V.x-O.x)*(V.y-O.y))._round()),O.y>=m&&V.y>=m||(O.y>=m?O=new u(O.x+(m-O.y)/(V.y-O.y)*(V.x-O.x),m)._round():V.y>=m&&(V=new u(O.x+(m-O.y)/(V.y-O.y)*(V.x-O.x),m)._round()),I&&O.equals(I[I.length-1])||(I=[O],g.push(I)),I.push(V)))))}}return g}function Vx(c,o,l,p,m){switch(o){case 1:return function(g,_,x,I){let E=[];for(let O of g)for(let V of O){let N=I===0?V.x:V.y;N>=_&&N<=x&&E.push([V])}return E}(c,l,p,m);case 2:return zx(c,l,p,m,!1);case 3:return zx(c,l,p,m,!0)}return[]}function OM(c,o,l,p,m){let g=p===0?FM:VM,_=[],x=[];for(let O=0;O<c.length-1;O++){let V=c[O],N=c[O+1],q=p===0?V.x:V.y,G=p===0?N.x:N.y,K=!1;q<o?G>o&&_.push(g(V,N,o)):q>l?G<l&&_.push(g(V,N,l)):_.push(V),G<o&&q>=o&&(_.push(g(V,N,o)),K=!0),G>l&&q<=l&&(_.push(g(V,N,l)),K=!0),!m&&K&&(x.push(_),_=[])}let I=c.length-1,E=p===0?c[I].x:c[I].y;return E>=o&&E<=l&&_.push(c[I]),m&&_.length>0&&!_[0].equals(_[_.length-1])&&_.push(new u(_[0].x,_[0].y)),_.length>0&&x.push(_),x}function zx(c,o,l,p,m){let g=[];for(let _ of c){let x=OM(_,o,l,p,m);x.length>0&&g.push(...x)}return g}function FM(c,o,l){return new u(l,c.y+(l-c.x)/(o.x-c.x)*(o.y-c.y))}function VM(c,o,l){return new u(c.x+(l-c.y)/(o.y-c.y)*(o.x-c.x),l)}Ht("FeatureIndex",Ax,{omit:["rawTileData","sourceLayerCoder"]});class tc extends u{constructor(o,l,p,m){super(o,l),this.angle=p,m!==void 0&&(this.segment=m)}clone(){return new tc(this.x,this.y,this.angle,this.segment)}}function Rx(c,o,l,p,m){if(o.segment===void 0||l===0)return!0;let g=o,_=o.segment+1,x=0;for(;x>-l/2;){if(_--,_<0)return!1;x-=c[_].dist(g),g=c[_]}x+=c[_].dist(c[_+1]),_++;let I=[],E=0;for(;x<l/2;){let O=c[_],V=c[_+1];if(!V)return!1;let N=c[_-1].angleTo(O)-O.angleTo(V);for(N=Math.abs((N+3*Math.PI)%(2*Math.PI)-Math.PI),I.push({distance:x,angleDelta:N}),E+=N;x-I[0].distance>p;)E-=I.shift().angleDelta;if(E>m)return!1;_++,x+=O.dist(V)}return!0}function Bx(c){let o=0;for(let l=0;l<c.length-1;l++)o+=c[l].dist(c[l+1]);return o}function Nx(c,o,l){return c?.6*o*l:0}function qx(c,o){return Math.max(c?c.right-c.left:0,o?o.right-o.left:0)}function zM(c,o,l,p,m,g){let _=Nx(l,m,g),x=qx(l,p)*g,I=0,E=Bx(c)/2;for(let O=0;O<c.length-1;O++){let V=c[O],N=c[O+1],q=V.dist(N);if(I+q>E){let G=(E-I)/q,K=Dn.number(V.x,N.x,G),Z=Dn.number(V.y,N.y,G),re=new tc(K,Z,N.angleTo(V),O);return re._round(),!_||Rx(c,re,x,_,o)?re:void 0}I+=q}}function RM(c,o,l,p,m,g,_,x,I){let E=Nx(p,g,_),O=qx(p,m),V=O*_,N=c[0].x===0||c[0].x===I||c[0].y===0||c[0].y===I;return o-V<o/4&&(o=V+o/4),Hx(c,N?o/2*x%o:(O/2+2*g)*_*x%o,o,E,l,V,N,!1,I)}function Hx(c,o,l,p,m,g,_,x,I){let E=g/2,O=Bx(c),V=0,N=o-l,q=[];for(let G=0;G<c.length-1;G++){let K=c[G],Z=c[G+1],re=K.dist(Z),ge=Z.angleTo(K);for(;N+l<V+re;){N+=l;let ce=(N-V)/re,pe=Dn.number(K.x,Z.x,ce),ve=Dn.number(K.y,Z.y,ce);if(pe>=0&&pe<I&&ve>=0&&ve<I&&N-E>=0&&N+E<=O){let Ce=new tc(pe,ve,ge,G);Ce._round(),p&&!Rx(c,Ce,g,p,m)||q.push(Ce)}}V+=re}return x||q.length||_||(q=Hx(c,V/2,l,p,m,g,_,!0,I)),q}function jx(c,o,l,p){let m=[],g=c.image,_=g.pixelRatio,x=g.paddedRect.w-2,I=g.paddedRect.h-2,E={x1:c.left,y1:c.top,x2:c.right,y2:c.bottom},O=g.stretchX||[[0,x]],V=g.stretchY||[[0,I]],N=(Qe,Nt)=>Qe+Nt[1]-Nt[0],q=O.reduce(N,0),G=V.reduce(N,0),K=x-q,Z=I-G,re=0,ge=q,ce=0,pe=G,ve=0,Ce=K,Re=0,rt=Z;if(g.content&&p){let Qe=g.content,Nt=Qe[2]-Qe[0],Ft=Qe[3]-Qe[1];(g.textFitWidth||g.textFitHeight)&&(E=R2(c)),re=y0(O,0,Qe[0]),ce=y0(V,0,Qe[1]),ge=y0(O,Qe[0],Qe[2]),pe=y0(V,Qe[1],Qe[3]),ve=Qe[0]-re,Re=Qe[1]-ce,Ce=Nt-ge,rt=Ft-pe}let tt=E.x1,dt=E.y1,St=E.x2-tt,ht=E.y2-dt,it=(Qe,Nt,Ft,jt)=>{let Pt=v0(Qe.stretch-re,ge,St,tt),ti=x0(Qe.fixed-ve,Ce,Qe.stretch,q),ji=v0(Nt.stretch-ce,pe,ht,dt),Pi=x0(Nt.fixed-Re,rt,Nt.stretch,G),On=v0(Ft.stretch-re,ge,St,tt),to=x0(Ft.fixed-ve,Ce,Ft.stretch,q),xa=v0(jt.stretch-ce,pe,ht,dt),Fn=x0(jt.fixed-Re,rt,jt.stretch,G),kn=new u(Pt,ji),tn=new u(On,ji),Yn=new u(On,xa),da=new u(Pt,xa),Tn=new u(ti/_,Pi/_),Go=new u(to/_,Fn/_),io=o*Math.PI/180;if(io){let qa=Math.sin(io),Bn=Math.cos(io),wa=[Bn,-qa,qa,Bn];kn._matMult(wa),tn._matMult(wa),da._matMult(wa),Yn._matMult(wa)}let Uo=Qe.stretch+Qe.fixed,Nr=Nt.stretch+Nt.fixed;return{tl:kn,tr:tn,bl:da,br:Yn,tex:{x:g.paddedRect.x+1+Uo,y:g.paddedRect.y+1+Nr,w:Ft.stretch+Ft.fixed-Uo,h:jt.stretch+jt.fixed-Nr},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Tn,pixelOffsetBR:Go,minFontScaleX:Ce/_/St,minFontScaleY:rt/_/ht,isSDF:l}};if(p&&(g.stretchX||g.stretchY)){let Qe=Gx(O,K,q),Nt=Gx(V,Z,G);for(let Ft=0;Ft<Qe.length-1;Ft++){let jt=Qe[Ft],Pt=Qe[Ft+1];for(let ti=0;ti<Nt.length-1;ti++)m.push(it(jt,Nt[ti],Pt,Nt[ti+1]))}}else m.push(it({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:x+1},{fixed:0,stretch:I+1}));return m}function y0(c,o,l){let p=0;for(let m of c)p+=Math.max(o,Math.min(l,m[1]))-Math.max(o,Math.min(l,m[0]));return p}function Gx(c,o,l){let p=[{fixed:-1,stretch:0}];for(let[m,g]of c){let _=p[p.length-1];p.push({fixed:m-_.stretch,stretch:_.stretch}),p.push({fixed:m-_.stretch,stretch:_.stretch+(g-m)})}return p.push({fixed:o+1,stretch:l}),p}function v0(c,o,l,p){return c/o*l+p}function x0(c,o,l,p){return c-o*l/p}Ht("Anchor",tc);class w0{constructor(o,l,p,m,g,_,x,I,E,O){var V;if(this.boxStartIndex=o.length,E){let N=_.top,q=_.bottom,G=_.collisionPadding;G&&(N-=G[1],q+=G[3]);let K=q-N;K>0&&(K=Math.max(10,K),this.circleDiameter=K)}else{let N=!((V=_.image)===null||V===void 0)&&V.content&&(_.image.textFitWidth||_.image.textFitHeight)?R2(_):{x1:_.left,y1:_.top,x2:_.right,y2:_.bottom};N.y1=N.y1*x-I[0],N.y2=N.y2*x+I[2],N.x1=N.x1*x-I[3],N.x2=N.x2*x+I[1];let q=_.collisionPadding;if(q&&(N.x1-=q[0]*x,N.y1-=q[1]*x,N.x2+=q[2]*x,N.y2+=q[3]*x),O){let G=new u(N.x1,N.y1),K=new u(N.x2,N.y1),Z=new u(N.x1,N.y2),re=new u(N.x2,N.y2),ge=O*Math.PI/180;G._rotate(ge),K._rotate(ge),Z._rotate(ge),re._rotate(ge),N.x1=Math.min(G.x,K.x,Z.x,re.x),N.x2=Math.max(G.x,K.x,Z.x,re.x),N.y1=Math.min(G.y,K.y,Z.y,re.y),N.y2=Math.max(G.y,K.y,Z.y,re.y)}o.emplaceBack(l.x,l.y,N.x1,N.y1,N.x2,N.y2,p,m,g)}this.boxEndIndex=o.length}}class BM{constructor(o=[],l=(p,m)=>p<m?-1:p>m?1:0){if(this.data=o,this.length=this.data.length,this.compare=l,this.length>0)for(let p=(this.length>>1)-1;p>=0;p--)this._down(p)}push(o){this.data.push(o),this._up(this.length++)}pop(){if(this.length===0)return;let o=this.data[0],l=this.data.pop();return--this.length>0&&(this.data[0]=l,this._down(0)),o}peek(){return this.data[0]}_up(o){let{data:l,compare:p}=this,m=l[o];for(;o>0;){let g=o-1>>1,_=l[g];if(p(m,_)>=0)break;l[o]=_,o=g}l[o]=m}_down(o){let{data:l,compare:p}=this,m=this.length>>1,g=l[o];for(;o<m;){let _=1+(o<<1),x=_+1;if(x<this.length&&p(l[x],l[_])<0&&(_=x),p(l[_],g)>=0)break;l[o]=l[_],o=_}l[o]=g}}function NM(c,o=1,l=!1){let p=Ad.fromPoints(c[0]),m=Math.min(p.width(),p.height()),g=m/2,_=new BM([],qM),{minX:x,minY:I,maxX:E,maxY:O}=p;if(m===0)return new u(x,I);for(let q=x;q<E;q+=m)for(let G=I;G<O;G+=m)_.push(new ap(q+g,G+g,g,c));let V=function(q){let G=0,K=0,Z=0,re=q[0];for(let ge=0,ce=re.length,pe=ce-1;ge<ce;pe=ge++){let ve=re[ge],Ce=re[pe],Re=ve.x*Ce.y-Ce.x*ve.y;K+=(ve.x+Ce.x)*Re,Z+=(ve.y+Ce.y)*Re,G+=3*Re}return new ap(K/G,Z/G,0,q)}(c),N=_.length;for(;_.length;){let q=_.pop();(q.d>V.d||!V.d)&&(V=q,l&&console.log("found best %d after %d probes",Math.round(1e4*q.d)/1e4,N)),q.max-V.d<=o||(g=q.h/2,_.push(new ap(q.p.x-g,q.p.y-g,g,c)),_.push(new ap(q.p.x+g,q.p.y-g,g,c)),_.push(new ap(q.p.x-g,q.p.y+g,g,c)),_.push(new ap(q.p.x+g,q.p.y+g,g,c)),N+=4)}return l&&(console.log(`num probes: ${N}`),console.log(`best distance: ${V.d}`)),V.p}function qM(c,o){return o.max-c.max}function ap(c,o,l,p){this.p=new u(c,o),this.h=l,this.d=function(m,g){let _=!1,x=1/0;for(let I=0;I<g.length;I++){let E=g[I];for(let O=0,V=E.length,N=V-1;O<V;N=O++){let q=E[O],G=E[N];q.y>m.y!=G.y>m.y&&m.x<(G.x-q.x)*(m.y-q.y)/(G.y-q.y)+q.x&&(_=!_),x=Math.min(x,Zv(m,q,G))}}return(_?1:-1)*Math.sqrt(x)}(this.p,p),this.max=this.d+this.h*Math.SQRT2}var eo;n.aP=void 0,(eo=n.aP||(n.aP={}))[eo.center=1]="center",eo[eo.left=2]="left",eo[eo.right=3]="right",eo[eo.top=4]="top",eo[eo.bottom=5]="bottom",eo[eo["top-left"]=6]="top-left",eo[eo["top-right"]=7]="top-right",eo[eo["bottom-left"]=8]="bottom-left",eo[eo["bottom-right"]=9]="bottom-right";let ob=Number.POSITIVE_INFINITY;function Ux(c,o){return o[1]!==ob?function(l,p,m){let g=0,_=0;switch(p=Math.abs(p),m=Math.abs(m),l){case"top-right":case"top-left":case"top":_=m-7;break;case"bottom-right":case"bottom-left":case"bottom":_=7-m}switch(l){case"top-right":case"bottom-right":case"right":g=-p;break;case"top-left":case"bottom-left":case"left":g=p}return[g,_]}(c,o[0],o[1]):function(l,p){let m=0,g=0;p<0&&(p=0);let _=p/Math.SQRT2;switch(l){case"top-right":case"top-left":g=_-7;break;case"bottom-right":case"bottom-left":g=7-_;break;case"bottom":g=7-p;break;case"top":g=p-7}switch(l){case"top-right":case"bottom-right":m=-_;break;case"top-left":case"bottom-left":m=_;break;case"left":m=p;break;case"right":m=-p}return[m,g]}(c,o[0])}function $x(c,o,l){var p;let m=c.layout,g=(p=m.get("text-variable-anchor-offset"))===null||p===void 0?void 0:p.evaluate(o,{},l);if(g){let x=g.values,I=[];for(let E=0;E<x.length;E+=2){let O=I[E]=x[E],V=x[E+1].map(N=>N*Ra);O.startsWith("top")?V[1]-=7:O.startsWith("bottom")&&(V[1]+=7),I[E+1]=V}return new ho(I)}let _=m.get("text-variable-anchor");if(_){let x;x=c._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[m.get("text-radial-offset").evaluate(o,{},l)*Ra,ob]:m.get("text-offset").evaluate(o,{},l).map(E=>E*Ra);let I=[];for(let E of _)I.push(E,Ux(E,x));return new ho(I)}return null}function rb(c){switch(c){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function HM(c,o,l,p,m,g,_,x,I,E,O,V){let N=g.textMaxSize.evaluate(o,{});N===void 0&&(N=_);let q=c.layers[0].layout,G=q.get("icon-offset").evaluate(o,{},O),K=Wx(l.horizontal),Z=_/24,re=c.tilePixelRatio*Z,ge=c.tilePixelRatio*N/24,ce=c.tilePixelRatio*x,pe=c.tilePixelRatio*q.get("symbol-spacing"),ve=q.get("text-padding")*c.tilePixelRatio,Ce=function(Ft,jt,Pt,ti=1){let ji=Ft.get("icon-padding").evaluate(jt,{},Pt),Pi=ji&&ji.values;return[Pi[0]*ti,Pi[1]*ti,Pi[2]*ti,Pi[3]*ti]}(q,o,O,c.tilePixelRatio),Re=q.get("text-max-angle")/180*Math.PI,rt=q.get("text-rotation-alignment")!=="viewport"&&q.get("symbol-placement")!=="point",tt=q.get("icon-rotation-alignment")==="map"&&q.get("symbol-placement")!=="point",dt=q.get("symbol-placement"),St=pe/2,ht=q.get("icon-text-fit"),it;p&&ht!=="none"&&(c.allowVerticalPlacement&&l.vertical&&(it=B2(p,l.vertical,ht,q.get("icon-text-fit-padding"),G,Z)),K&&(p=B2(p,K,ht,q.get("icon-text-fit-padding"),G,Z)));let Qe=O?V.line.getGranularityForZoomLevel(O.z):1,Nt=(Ft,jt)=>{jt.x<0||jt.x>=ui||jt.y<0||jt.y>=ui||function(Pt,ti,ji,Pi,On,to,xa,Fn,kn,tn,Yn,da,Tn,Go,io,Uo,Nr,qa,Bn,wa,Jn,Ha,ul,is,cm){let ic=Pt.addToLineVertexArray(ti,ji),Vd,op,rp,sp,Yx=0,Jx=0,ew=0,tw=0,mb=-1,fb=-1,pl={},iw=ca("");if(Pt.allowVerticalPlacement&&Pi.vertical){let _o=Fn.layout.get("text-rotate").evaluate(Jn,{},is)+90;rp=new w0(kn,ti,tn,Yn,da,Pi.vertical,Tn,Go,io,_o),xa&&(sp=new w0(kn,ti,tn,Yn,da,xa,Nr,qa,io,_o))}if(On){let _o=Fn.layout.get("icon-rotate").evaluate(Jn,{}),kr=Fn.layout.get("icon-text-fit")!=="none",zd=jx(On,_o,ul,kr),as=xa?jx(xa,_o,ul,kr):void 0;op=new w0(kn,ti,tn,Yn,da,On,Nr,qa,!1,_o),Yx=4*zd.length;let Rd=Pt.iconSizeData,ks=null;Rd.kind==="source"?(ks=[cl*Fn.layout.get("icon-size").evaluate(Jn,{})],ks[0]>Yl&&Fa(`${Pt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):Rd.kind==="composite"&&(ks=[cl*Ha.compositeIconSizes[0].evaluate(Jn,{},is),cl*Ha.compositeIconSizes[1].evaluate(Jn,{},is)],(ks[0]>Yl||ks[1]>Yl)&&Fa(`${Pt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Pt.addSymbols(Pt.icon,zd,ks,wa,Bn,Jn,n.az.none,ti,ic.lineStartIndex,ic.lineLength,-1,is),mb=Pt.icon.placedSymbolArray.length-1,as&&(Jx=4*as.length,Pt.addSymbols(Pt.icon,as,ks,wa,Bn,Jn,n.az.vertical,ti,ic.lineStartIndex,ic.lineLength,-1,is),fb=Pt.icon.placedSymbolArray.length-1)}let nw=Object.keys(Pi.horizontal);for(let _o of nw){let kr=Pi.horizontal[_o];if(!Vd){iw=ca(kr.text);let as=Fn.layout.get("text-rotate").evaluate(Jn,{},is);Vd=new w0(kn,ti,tn,Yn,da,kr,Tn,Go,io,as)}let zd=kr.positionedLines.length===1;if(ew+=Kx(Pt,ti,kr,to,Fn,io,Jn,Uo,ic,Pi.vertical?n.az.horizontal:n.az.horizontalOnly,zd?nw:[_o],pl,mb,Ha,is),zd)break}Pi.vertical&&(tw+=Kx(Pt,ti,Pi.vertical,to,Fn,io,Jn,Uo,ic,n.az.vertical,["vertical"],pl,fb,Ha,is));let UM=Vd?Vd.boxStartIndex:Pt.collisionBoxArray.length,$M=Vd?Vd.boxEndIndex:Pt.collisionBoxArray.length,KM=rp?rp.boxStartIndex:Pt.collisionBoxArray.length,WM=rp?rp.boxEndIndex:Pt.collisionBoxArray.length,ZM=op?op.boxStartIndex:Pt.collisionBoxArray.length,QM=op?op.boxEndIndex:Pt.collisionBoxArray.length,XM=sp?sp.boxStartIndex:Pt.collisionBoxArray.length,YM=sp?sp.boxEndIndex:Pt.collisionBoxArray.length,ns=-1,T0=(_o,kr)=>_o&&_o.circleDiameter?Math.max(_o.circleDiameter,kr):kr;ns=T0(Vd,ns),ns=T0(rp,ns),ns=T0(op,ns),ns=T0(sp,ns);let aw=ns>-1?1:0;aw&&(ns*=cm/Ra),Pt.glyphOffsetArray.length>=Yu.MAX_GLYPHS&&Fa("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Jn.sortKey!==void 0&&Pt.addToSortKeyRanges(Pt.symbolInstances.length,Jn.sortKey);let JM=$x(Fn,Jn,is),[ek,tk]=function(_o,kr){let zd=_o.length,as=kr?.values;if(as?.length>0)for(let Rd=0;Rd<as.length;Rd+=2){let ks=as[Rd+1];_o.emplaceBack(n.aP[as[Rd]],ks[0],ks[1])}return[zd,_o.length]}(Pt.textAnchorOffsets,JM);Pt.symbolInstances.emplaceBack(ti.x,ti.y,pl.right>=0?pl.right:-1,pl.center>=0?pl.center:-1,pl.left>=0?pl.left:-1,pl.vertical||-1,mb,fb,iw,UM,$M,KM,WM,ZM,QM,XM,YM,tn,ew,tw,Yx,Jx,aw,0,Tn,ns,ek,tk)}(c,jt,Ft,l,p,m,it,c.layers[0],c.collisionBoxArray,o.index,o.sourceLayerIndex,c.index,re,[ve,ve,ve,ve],rt,I,ce,Ce,tt,G,o,g,E,O,_)};if(dt==="line")for(let Ft of Fx(o.geometry,0,0,ui,ui)){let jt=Ld(Ft,Qe),Pt=RM(jt,pe,Re,l.vertical||K,p,24,ge,c.overscaling,ui);for(let ti of Pt)K&&jM(c,K.text,St,ti)||Nt(jt,ti)}else if(dt==="line-center"){for(let Ft of o.geometry)if(Ft.length>1){let jt=Ld(Ft,Qe),Pt=zM(jt,Re,l.vertical||K,p,24,ge);Pt&&Nt(jt,Pt)}}else if(o.type==="Polygon")for(let Ft of pu(o.geometry,0)){let jt=NM(Ft,16);Nt(Ld(Ft[0],Qe,!0),new tc(jt.x,jt.y,0))}else if(o.type==="LineString")for(let Ft of o.geometry){let jt=Ld(Ft,Qe);Nt(jt,new tc(jt[0].x,jt[0].y,0))}else if(o.type==="Point")for(let Ft of o.geometry)for(let jt of Ft)Nt([jt],new tc(jt.x,jt.y,0))}function Kx(c,o,l,p,m,g,_,x,I,E,O,V,N,q,G){let K=function(ge,ce,pe,ve,Ce,Re,rt,tt){let dt=ve.layout.get("text-rotate").evaluate(Re,{})*Math.PI/180,St=[];for(let ht of ce.positionedLines)for(let it of ht.positionedGlyphs){if(!it.rect)continue;let Qe=it.rect||{},Nt=4,Ft=!0,jt=1,Pt=0,ti=(Ce||tt)&&it.vertical,ji=it.metrics.advance*it.scale/2;if(tt&&ce.verticalizable&&(Pt=ht.lineOffset/2-(it.imageName?-(Ra-it.metrics.width*it.scale)/2:(it.scale-1)*Ra)),it.imageName){let qa=rt[it.imageName];Ft=qa.sdf,jt=qa.pixelRatio,Nt=1/jt}let Pi=Ce?[it.x+ji,it.y]:[0,0],On=Ce?[0,0]:[it.x+ji+pe[0],it.y+pe[1]-Pt],to=[0,0];ti&&(to=On,On=[0,0]);let xa=it.metrics.isDoubleResolution?2:1,Fn=(it.metrics.left-Nt)*it.scale-ji+On[0],kn=(-it.metrics.top-Nt)*it.scale+On[1],tn=Fn+Qe.w/xa*it.scale/jt,Yn=kn+Qe.h/xa*it.scale/jt,da=new u(Fn,kn),Tn=new u(tn,kn),Go=new u(Fn,Yn),io=new u(tn,Yn);if(ti){let qa=new u(-ji,ji- -17),Bn=-Math.PI/2,wa=12-ji,Jn=new u(22-wa,-(it.imageName?wa:0)),Ha=new u(...to);da._rotateAround(Bn,qa)._add(Jn)._add(Ha),Tn._rotateAround(Bn,qa)._add(Jn)._add(Ha),Go._rotateAround(Bn,qa)._add(Jn)._add(Ha),io._rotateAround(Bn,qa)._add(Jn)._add(Ha)}if(dt){let qa=Math.sin(dt),Bn=Math.cos(dt),wa=[Bn,-qa,qa,Bn];da._matMult(wa),Tn._matMult(wa),Go._matMult(wa),io._matMult(wa)}let Uo=new u(0,0),Nr=new u(0,0);St.push({tl:da,tr:Tn,bl:Go,br:io,tex:Qe,writingMode:ce.writingMode,glyphOffset:Pi,sectionIndex:it.sectionIndex,isSDF:Ft,pixelOffsetTL:Uo,pixelOffsetBR:Nr,minFontScaleX:0,minFontScaleY:0})}return St}(0,l,x,m,g,_,p,c.allowVerticalPlacement),Z=c.textSizeData,re=null;Z.kind==="source"?(re=[cl*m.layout.get("text-size").evaluate(_,{})],re[0]>Yl&&Fa(`${c.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):Z.kind==="composite"&&(re=[cl*q.compositeTextSizes[0].evaluate(_,{},G),cl*q.compositeTextSizes[1].evaluate(_,{},G)],(re[0]>Yl||re[1]>Yl)&&Fa(`${c.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),c.addSymbols(c.text,K,re,x,g,_,E,o,I.lineStartIndex,I.lineLength,N,G);for(let ge of O)V[ge]=c.text.placedSymbolArray.length-1;return 4*K.length}function Wx(c){for(let o in c)return c[o];return null}function jM(c,o,l,p){let m=c.compareText;if(o in m){let g=m[o];for(let _=g.length-1;_>=0;_--)if(p.dist(g[_])<l)return!0}else m[o]=[];return m[o].push(p),!1}let Zx=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class sb{static from(o){if(!(o instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");let[l,p]=new Uint8Array(o,0,2);if(l!==219)throw new Error("Data does not appear to be in a KDBush format.");let m=p>>4;if(m!==1)throw new Error(`Got v${m} data when expected v1.`);let g=Zx[15&p];if(!g)throw new Error("Unrecognized array type.");let[_]=new Uint16Array(o,2,1),[x]=new Uint32Array(o,4,1);return new sb(x,_,g,o)}constructor(o,l=64,p=Float64Array,m){if(isNaN(o)||o<0)throw new Error(`Unpexpected numItems value: ${o}.`);this.numItems=+o,this.nodeSize=Math.min(Math.max(+l,2),65535),this.ArrayType=p,this.IndexArrayType=o<65536?Uint16Array:Uint32Array;let g=Zx.indexOf(this.ArrayType),_=2*o*this.ArrayType.BYTES_PER_ELEMENT,x=o*this.IndexArrayType.BYTES_PER_ELEMENT,I=(8-x%8)%8;if(g<0)throw new Error(`Unexpected typed array class: ${p}.`);m&&m instanceof ArrayBuffer?(this.data=m,this.ids=new this.IndexArrayType(this.data,8,o),this.coords=new this.ArrayType(this.data,8+x+I,2*o),this._pos=2*o,this._finished=!0):(this.data=new ArrayBuffer(8+_+x+I),this.ids=new this.IndexArrayType(this.data,8,o),this.coords=new this.ArrayType(this.data,8+x+I,2*o),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+g]),new Uint16Array(this.data,2,1)[0]=l,new Uint32Array(this.data,4,1)[0]=o)}add(o,l){let p=this._pos>>1;return this.ids[p]=p,this.coords[this._pos++]=o,this.coords[this._pos++]=l,p}finish(){let o=this._pos>>1;if(o!==this.numItems)throw new Error(`Added ${o} items when expected ${this.numItems}.`);return lb(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(o,l,p,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:g,coords:_,nodeSize:x}=this,I=[0,g.length-1,0],E=[];for(;I.length;){let O=I.pop()||0,V=I.pop()||0,N=I.pop()||0;if(V-N<=x){for(let Z=N;Z<=V;Z++){let re=_[2*Z],ge=_[2*Z+1];re>=o&&re<=p&&ge>=l&&ge<=m&&E.push(g[Z])}continue}let q=N+V>>1,G=_[2*q],K=_[2*q+1];G>=o&&G<=p&&K>=l&&K<=m&&E.push(g[q]),(O===0?o<=G:l<=K)&&(I.push(N),I.push(q-1),I.push(1-O)),(O===0?p>=G:m>=K)&&(I.push(q+1),I.push(V),I.push(1-O))}return E}within(o,l,p){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:m,coords:g,nodeSize:_}=this,x=[0,m.length-1,0],I=[],E=p*p;for(;x.length;){let O=x.pop()||0,V=x.pop()||0,N=x.pop()||0;if(V-N<=_){for(let Z=N;Z<=V;Z++)Xx(g[2*Z],g[2*Z+1],o,l)<=E&&I.push(m[Z]);continue}let q=N+V>>1,G=g[2*q],K=g[2*q+1];Xx(G,K,o,l)<=E&&I.push(m[q]),(O===0?o-p<=G:l-p<=K)&&(x.push(N),x.push(q-1),x.push(1-O)),(O===0?o+p>=G:l+p>=K)&&(x.push(q+1),x.push(V),x.push(1-O))}return I}}function lb(c,o,l,p,m,g){if(m-p<=l)return;let _=p+m>>1;Qx(c,o,_,p,m,g),lb(c,o,l,p,_-1,1-g),lb(c,o,l,_+1,m,1-g)}function Qx(c,o,l,p,m,g){for(;m>p;){if(m-p>600){let E=m-p+1,O=l-p+1,V=Math.log(E),N=.5*Math.exp(2*V/3),q=.5*Math.sqrt(V*N*(E-N)/E)*(O-E/2<0?-1:1);Qx(c,o,l,Math.max(p,Math.floor(l-O*N/E+q)),Math.min(m,Math.floor(l+(E-O)*N/E+q)),g)}let _=o[2*l+g],x=p,I=m;for(sm(c,o,p,l),o[2*m+g]>_&&sm(c,o,p,m);x<I;){for(sm(c,o,x,I),x++,I--;o[2*x+g]<_;)x++;for(;o[2*I+g]>_;)I--}o[2*p+g]===_?sm(c,o,p,I):(I++,sm(c,o,I,m)),I<=l&&(p=I+1),l<=I&&(m=I-1)}}function sm(c,o,l,p){cb(c,l,p),cb(o,2*l,2*p),cb(o,2*l+1,2*p+1)}function cb(c,o,l){let p=c[o];c[o]=c[l],c[l]=p}function Xx(c,o,l,p){let m=c-l,g=o-p;return m*m+g*g}var db;n.cH=void 0,(db=n.cH||(n.cH={})).create="create",db.load="load",db.fullLoad="fullLoad";let I0=null,lm=[],ub=1e3/60,pb="loadTime",hb="fullLoadTime",GM={mark(c){performance.mark(c)},frame(c){let o=c;I0!=null&&lm.push(o-I0),I0=o},clearMetrics(){I0=null,lm=[],performance.clearMeasures(pb),performance.clearMeasures(hb);for(let c in n.cH)performance.clearMarks(n.cH[c])},getPerformanceMetrics(){performance.measure(pb,n.cH.create,n.cH.load),performance.measure(hb,n.cH.create,n.cH.fullLoad);let c=performance.getEntriesByName(pb)[0].duration,o=performance.getEntriesByName(hb)[0].duration,l=lm.length,p=1/(lm.reduce((g,_)=>g+_,0)/l/1e3),m=lm.filter(g=>g>ub).reduce((g,_)=>g+(_-ub)/ub,0);return{loadTime:c,fullLoadTime:o,fps:p,percentDroppedFrames:m/(l+m)*100,totalFrames:l}}};n.$=J,n.A=qe,n.B=$l,n.C=Va,n.D=Xt,n.E=Xi,n.F=function([c,o,l]){return o+=90,o*=Math.PI/180,l*=Math.PI/180,{x:c*Math.cos(o)*Math.sin(l),y:c*Math.sin(o)*Math.sin(l),z:c*Math.cos(l)}},n.G=Dn,n.H=pn,n.I=A1,n.J=qf,n.K=function(c){if(Kn==null){let o=c.navigator?c.navigator.userAgent:null;Kn=!!c.safari||!(!o||!(/\b(iPad|iPhone|iPod)\b/.test(o)||o.match("Safari")&&!o.match("Chrome")))}return Kn},n.L=class{constructor(c,o){this.target=c,this.mapId=o,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new oM(()=>this.process()),this.subscription=Il(this.target,"message",l=>this.receive(l),!1),this.globalScope=Fr(self)?c:window}registerMessageHandler(c,o){this.messageHandlers[c]=o}unregisterMessageHandler(c){delete this.messageHandlers[c]}sendAsync(c,o){return new Promise((l,p)=>{let m=Math.round(1e18*Math.random()).toString(36).substring(0,10),g=o?Il(o.signal,"abort",()=>{g?.unsubscribe(),delete this.resolveRejects[m];let I={id:m,type:"<cancel>",origin:location.origin,targetMapId:c.targetMapId,sourceMapId:this.mapId};this.target.postMessage(I)},rM):null;this.resolveRejects[m]={resolve:I=>{g?.unsubscribe(),l(I)},reject:I=>{g?.unsubscribe(),p(I)}};let _=[],x=Object.assign(Object.assign({},c),{id:m,sourceMapId:this.mapId,origin:location.origin,data:bd(c.data,_)});this.target.postMessage(x,{transfer:_})})}receive(c){let o=c.data,l=o.id;if(!(o.origin!=="file://"&&location.origin!=="file://"&&o.origin!=="resource://android"&&location.origin!=="resource://android"&&o.origin!==location.origin||o.targetMapId&&this.mapId!==o.targetMapId)){if(o.type==="<cancel>"){delete this.tasks[l];let p=this.abortControllers[l];return delete this.abortControllers[l],void(p&&p.abort())}if(Fr(self)||o.mustQueue)return this.tasks[l]=o,this.taskQueue.push(l),void this.invoker.trigger();this.processTask(l,o)}}process(){if(this.taskQueue.length===0)return;let c=this.taskQueue.shift(),o=this.tasks[c];delete this.tasks[c],this.taskQueue.length>0&&this.invoker.trigger(),o&&this.processTask(c,o)}processTask(c,o){return a(this,void 0,void 0,function*(){if(o.type==="<response>"){let m=this.resolveRejects[c];return delete this.resolveRejects[c],m?void(o.error?m.reject(yd(o.error)):m.resolve(yd(o.data))):void 0}if(!this.messageHandlers[o.type])return void this.completeTask(c,new Error(`Could not find a registered handler for ${o.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));let l=yd(o.data),p=new AbortController;this.abortControllers[c]=p;try{let m=yield this.messageHandlers[o.type](o.sourceMapId,l,p);this.completeTask(c,null,m)}catch(m){this.completeTask(c,m)}})}completeTask(c,o,l){let p=[];delete this.abortControllers[c];let m={id:c,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:o?bd(o):null,data:bd(l,p)};this.target.postMessage(m,{transfer:p})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},n.M=Ve,n.N=function(){var c=new qe(16);return qe!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=0,c[12]=0,c[13]=0,c[14]=0),c[0]=1,c[5]=1,c[10]=1,c[15]=1,c},n.O=function(c,o,l){var p,m,g,_,x,I,E,O,V,N,q,G,K=l[0],Z=l[1],re=l[2];return o===c?(c[12]=o[0]*K+o[4]*Z+o[8]*re+o[12],c[13]=o[1]*K+o[5]*Z+o[9]*re+o[13],c[14]=o[2]*K+o[6]*Z+o[10]*re+o[14],c[15]=o[3]*K+o[7]*Z+o[11]*re+o[15]):(m=o[1],g=o[2],_=o[3],x=o[4],I=o[5],E=o[6],O=o[7],V=o[8],N=o[9],q=o[10],G=o[11],c[0]=p=o[0],c[1]=m,c[2]=g,c[3]=_,c[4]=x,c[5]=I,c[6]=E,c[7]=O,c[8]=V,c[9]=N,c[10]=q,c[11]=G,c[12]=p*K+x*Z+V*re+o[12],c[13]=m*K+I*Z+N*re+o[13],c[14]=g*K+E*Z+q*re+o[14],c[15]=_*K+O*Z+G*re+o[15]),c},n.P=u,n.Q=function(c,o,l){var p=l[0],m=l[1],g=l[2];return c[0]=o[0]*p,c[1]=o[1]*p,c[2]=o[2]*p,c[3]=o[3]*p,c[4]=o[4]*m,c[5]=o[5]*m,c[6]=o[6]*m,c[7]=o[7]*m,c[8]=o[8]*g,c[9]=o[9]*g,c[10]=o[10]*g,c[11]=o[11]*g,c[12]=o[12],c[13]=o[13],c[14]=o[14],c[15]=o[15],c},n.R=jo,n.S=function(c,o,l){var p=o[0],m=o[1],g=o[2],_=o[3],x=o[4],I=o[5],E=o[6],O=o[7],V=o[8],N=o[9],q=o[10],G=o[11],K=o[12],Z=o[13],re=o[14],ge=o[15],ce=l[0],pe=l[1],ve=l[2],Ce=l[3];return c[0]=ce*p+pe*x+ve*V+Ce*K,c[1]=ce*m+pe*I+ve*N+Ce*Z,c[2]=ce*g+pe*E+ve*q+Ce*re,c[3]=ce*_+pe*O+ve*G+Ce*ge,c[4]=(ce=l[4])*p+(pe=l[5])*x+(ve=l[6])*V+(Ce=l[7])*K,c[5]=ce*m+pe*I+ve*N+Ce*Z,c[6]=ce*g+pe*E+ve*q+Ce*re,c[7]=ce*_+pe*O+ve*G+Ce*ge,c[8]=(ce=l[8])*p+(pe=l[9])*x+(ve=l[10])*V+(Ce=l[11])*K,c[9]=ce*m+pe*I+ve*N+Ce*Z,c[10]=ce*g+pe*E+ve*q+Ce*re,c[11]=ce*_+pe*O+ve*G+Ce*ge,c[12]=(ce=l[12])*p+(pe=l[13])*x+(ve=l[14])*V+(Ce=l[15])*K,c[13]=ce*m+pe*I+ve*N+Ce*Z,c[14]=ce*g+pe*E+ve*q+Ce*re,c[15]=ce*_+pe*O+ve*G+Ce*ge,c},n.T=T1,n.U=function(c,o){let l={};for(let p=0;p<o.length;p++){let m=o[p];m in c&&(l[m]=c[m])}return l},n.V=Jl,n.W=lo,n.X=W2,n.Y=K2,n.Z=Ee,n._=a,n.a=ue,n.a$=Mt,n.a0=ke,n.a1=wl,n.a2=Sr,n.a3=Q2,n.a4=u0,n.a5=ui,n.a6=function(c,o,l){if(!c)return o||{};if(!o)return c||{};let p=ex(c),m=ex(o);(function(_,x){x.removeAll&&(_.add.clear(),_.update.clear(),_.remove.clear(),x.remove.clear());for(let I of x.remove)_.add.delete(I),_.update.delete(I);for(let[I,E]of x.update){let O=_.update.get(I);O&&(x.update.set(I,sM(O,E)),_.update.delete(I))}})(p,m);let g={};if((p.removeAll||m.removeAll)&&(g.removeAll=!0),g.remove=new Set([...p.remove,...m.remove]),g.add=new Map([...p.add,...m.add]),g.update=new Map([...p.update,...m.update]),g.remove.size&&g.add.size)for(let _ of g.add.keys())g.remove.delete(_);return function(_){let x={};return _.removeAll&&(x.removeAll=_.removeAll),_.remove&&(x.remove=Array.from(_.remove)),_.add&&(x.add=Array.from(_.add.values())),_.update&&(x.update=Array.from(_.update.values())),x}(g)},n.a7=function(c,o){let l=new Map;if(c==null||c.type==null)return l;if(c.type==="Feature"){let p=H1(c,o);return p==null?void 0:(l.set(p,c),l)}if(c.type==="FeatureCollection"){let p=new Set;for(let m of c.features){let g=H1(m,o);if(g==null||p.has(g))return;p.add(g),l.set(g,m)}return l}},n.a8=function(c,o,l){var p,m;let g=[];if(o.removeAll)c.clear();else if(o.remove)for(let _ of o.remove){let x=c.get(_);x&&(g.push(x.geometry),c.delete(_))}if(o.add)for(let _ of o.add){let x=H1(_,l);if(x==null)continue;let I=c.get(x);I&&g.push(I.geometry),g.push(_.geometry),c.set(x,_)}if(o.update)for(let _ of o.update){let x=c.get(_.id);if(!x)continue;let I=!!_.newGeometry,E=_.removeAllProperties||((p=_.removeProperties)===null||p===void 0?void 0:p.length)>0||((m=_.addOrUpdateProperties)===null||m===void 0?void 0:m.length)>0;if(!I&&!E)continue;g.push(x.geometry);let O=Object.assign({},x);if(c.set(_.id,O),I&&(g.push(_.newGeometry),O.geometry=_.newGeometry),E){if(O.properties=_.removeAllProperties?{}:Object.assign({},O.properties||{}),_.removeProperties)for(let V of _.removeProperties)delete O.properties[V];if(_.addOrUpdateProperties)for(let{key:V,value:N}of _.addOrUpdateProperties)O.properties[V]=N}}return g},n.a9=nm,n.aA=function(c,{uSize:o,uSizeT:l},{lowerSize:p,upperSize:m}){return c.kind==="source"?p/cl:c.kind==="composite"?Dn.number(p/cl,m/cl,l):o},n.aB=function(c,o){var l=o[0],p=o[1],m=o[2],g=o[3],_=o[4],x=o[5],I=o[6],E=o[7],O=o[8],V=o[9],N=o[10],q=o[11],G=o[12],K=o[13],Z=o[14],re=o[15],ge=l*x-p*_,ce=l*I-m*_,pe=l*E-g*_,ve=p*I-m*x,Ce=p*E-g*x,Re=m*E-g*I,rt=O*K-V*G,tt=O*Z-N*G,dt=O*re-q*G,St=V*Z-N*K,ht=V*re-q*K,it=N*re-q*Z,Qe=ge*it-ce*ht+pe*St+ve*dt-Ce*tt+Re*rt;return Qe?(c[0]=(x*it-I*ht+E*St)*(Qe=1/Qe),c[1]=(m*ht-p*it-g*St)*Qe,c[2]=(K*Re-Z*Ce+re*ve)*Qe,c[3]=(N*Ce-V*Re-q*ve)*Qe,c[4]=(I*dt-_*it-E*tt)*Qe,c[5]=(l*it-m*dt+g*tt)*Qe,c[6]=(Z*pe-G*Re-re*ce)*Qe,c[7]=(O*Re-N*pe+q*ce)*Qe,c[8]=(_*ht-x*dt+E*rt)*Qe,c[9]=(p*dt-l*ht-g*rt)*Qe,c[10]=(G*Ce-K*pe+re*ge)*Qe,c[11]=(V*pe-O*Ce-q*ge)*Qe,c[12]=(x*tt-_*St-I*rt)*Qe,c[13]=(l*St-p*tt+m*rt)*Qe,c[14]=(K*ce-G*ve-Z*ge)*Qe,c[15]=(O*ve-V*ce+N*ge)*Qe,c):null},n.aC=Mi,n.aD=function(c){var o=c[0],l=c[1];return Math.sqrt(o*o+l*l)},n.aE=function(c){return c[0]=0,c[1]=0,c},n.aF=function(c,o,l){return c[0]=o[0]*l,c[1]=o[1]*l,c},n.aG=V1,n.aH=Si,n.aI=function(c,o,l,p){let m=o.y-c.y,g=o.x-c.x,_=p.y-l.y,x=p.x-l.x,I=_*g-x*m;if(I===0)return null;let E=(x*(c.y-l.y)-_*(c.x-l.x))/I;return new u(c.x+E*g,c.y+E*m)},n.aJ=Fx,n.aK=Gu,n.aL=function(c){let o=1/0,l=1/0,p=-1/0,m=-1/0;for(let g of c)o=Math.min(o,g.x),l=Math.min(l,g.y),p=Math.max(p,g.x),m=Math.max(m,g.y);return[o,l,p,m]},n.aM=Ra,n.aN=Oa,n.aO=function(c,o,l,p,m=!1){if(!l[0]&&!l[1])return[0,0];let g=m?p==="map"?-c.bearingInRadians:0:p==="viewport"?c.bearingInRadians:0;if(g){let _=Math.sin(g),x=Math.cos(g);l=[l[0]*x-l[1]*_,l[0]*_+l[1]*x]}return[m?l[0]:Oa(o,l[0],c.zoom),m?l[1]:Oa(o,l[1],c.zoom)]},n.aQ=F1,n.aR=rb,n.aS=O1,n.aT=sb,n.aU=la,n.aV=o0,n.aW=he,n.aX=kt,n.aY=$e,n.aZ=Io,n.a_=X2,n.aa=Ad,n.ab=25,n.ac=q1,n.ad=c=>{let o=window.document.createElement("video");return o.muted=!0,new Promise(l=>{o.onloadstart=()=>{l(o)};for(let p of c){let m=window.document.createElement("source");ct(p)||(o.crossOrigin="Anonymous"),m.src=p,o.appendChild(m)}})},n.ae=It,n.af=function(){return qs++},n.ag=f,n.ah=Yu,n.ai=rm,n.aj=cd,n.ak=Ms,n.al=ix,n.am=function(c){let o={};if(c.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(l,p,m,g)=>{let _=m||g;return o[p]=!_||_.toLowerCase(),""}),o["max-age"]){let l=parseInt(o["max-age"],10);isNaN(l)?delete o["max-age"]:o["max-age"]=l}return o},n.an=Ta,n.ao=85.051129,n.ap=Tl,n.aq=function(c){return Math.pow(2,c)},n.ar=bt,n.as=Z2,n.at=function(c){return Math.log(c)/Math.LN2},n.au=function(c){var o=c[0],l=c[1];return o*o+l*l},n.av=function(c){if(!c.length)return new Set;let o=Math.max(...c.map(I=>I.canonical.z)),l=1/0,p=-1/0,m=1/0,g=-1/0,_=[];for(let I of c){let{x:E,y:O,z:V}=I.canonical,N=Math.pow(2,o-V),q=E*N,G=O*N;_.push({id:I,x:q,y:G}),q<l&&(l=q),q>p&&(p=q),G<m&&(m=G),G>g&&(g=G)}let x=new Set;for(let I of _)I.x!==l&&I.x!==p&&I.y!==m&&I.y!==g||x.add(I.id);return x},n.aw=function(c,o){let l=Math.abs(2*c.wrap)-+(c.wrap<0),p=Math.abs(2*o.wrap)-+(o.wrap<0);return c.overscaledZ-o.overscaledZ||p-l||o.canonical.y-c.canonical.y||o.canonical.x-c.canonical.x},n.ax=class{constructor(c,o){this.max=c,this.onRemove=o,this.reset()}reset(){for(let c in this.data)for(let o of this.data[c])o.timeout&&clearTimeout(o.timeout),this.onRemove(o.value);return this.data={},this.order=[],this}add(c,o,l){let p=c.wrapped().key;this.data[p]===void 0&&(this.data[p]=[]);let m={value:o,timeout:void 0};if(l!==void 0&&(m.timeout=setTimeout(()=>{this.remove(c,m)},l)),this.data[p].push(m),this.order.push(p),this.order.length>this.max){let g=this._getAndRemoveByKey(this.order[0]);g&&this.onRemove(g)}return this}has(c){return c.wrapped().key in this.data}getAndRemove(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null}_getAndRemoveByKey(c){let o=this.data[c].shift();return o.timeout&&clearTimeout(o.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),o.value}getByKey(c){let o=this.data[c];return o?o[0].value:null}get(c){return this.has(c)?this.data[c.wrapped().key][0].value:null}remove(c,o){if(!this.has(c))return this;let l=c.wrapped().key,p=o===void 0?0:this.data[l].indexOf(o),m=this.data[l][p];return this.data[l].splice(p,1),m.timeout&&clearTimeout(m.timeout),this.data[l].length===0&&delete this.data[l],this.onRemove(m.value),this.order.splice(this.order.indexOf(l),1),this}setMaxSize(c){for(this.max=c;this.order.length>this.max;){let o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this}filter(c){let o=[];for(let l in this.data)for(let p of this.data[l])c(p.value)||o.push(p);for(let l of o)this.remove(l.value.tileID,l)}},n.ay=function(c,o){let l=0,p=0;if(c.kind==="constant")p=c.layoutSize;else if(c.kind!=="source"){let{interpolationType:m,minZoom:g,maxZoom:_}=c,x=m?Ta(fo.interpolationFactor(m,o,g,_),0,1):0;c.kind==="camera"?p=Dn.number(c.minSize,c.maxSize,x):l=x}return{uSizeT:l,uSize:p}},n.b=hs,n.b$=sl,n.b0=qt,n.b1=function(c){var o=new qe(3);return o[0]=c[0],o[1]=c[1],o[2]=c[2],o},n.b2=function(c,o,l){return c[0]=o[0]-l[0],c[1]=o[1]-l[1],c[2]=o[2]-l[2],c},n.b3=function(c,o){var l=o[0],p=o[1],m=o[2],g=l*l+p*p+m*m;return g>0&&(g=1/Math.sqrt(g)),c[0]=o[0]*g,c[1]=o[1]*g,c[2]=o[2]*g,c},n.b4=Jt,n.b5=function(c,o){return c[0]*o[0]+c[1]*o[1]+c[2]*o[2]},n.b6=function(c,o,l){return c[0]=o[0]*l[0],c[1]=o[1]*l[1],c[2]=o[2]*l[2],c[3]=o[3]*l[3],c},n.b7=lt,n.b8=function(c,o,l){let p=o[0]*l[0]+o[1]*l[1]+o[2]*l[2];return p===0?null:(-(c[0]*l[0]+c[1]*l[1]+c[2]*l[2])-l[3])/p},n.b9=hi,n.bA=function(c,o,l,p){return c[0]=o[0]+l[0]*p,c[1]=o[1]+l[1]*p,c[2]=o[2]+l[2]*p,c},n.bB=Aa,n.bC=function(c,o,l){var p=l[0],m=l[1],g=l[2],_=l[3],x=o[0],I=o[1],E=o[2],O=m*E-g*I,V=g*x-p*E,N=p*I-m*x;return c[0]=x+_*(O+=O)+m*(N+=N)-g*(V+=V),c[1]=I+_*V+g*O-p*N,c[2]=E+_*N+p*V-m*O,c},n.bD=function(c,o,l){let p=function(I){var E=I[3],O=I[4],V=I[5],N=I[6],q=I[7],G=I[8];return I[0]*(G*O-V*q)+I[1]*(-G*E+V*N)+I[2]*(q*E-O*N)}([c[0],c[1],c[2],o[0],o[1],o[2],l[0],l[1],l[2]]);if(p===0)return null;let m=Jt([],[o[0],o[1],o[2]],[l[0],l[1],l[2]]),g=Jt([],[l[0],l[1],l[2]],[c[0],c[1],c[2]]),_=Jt([],[c[0],c[1],c[2]],[o[0],o[1],o[2]]),x=Mt([],m,-c[3]);return qt(x,x,Mt([],g,-o[3])),qt(x,x,Mt([],_,-l[3])),Mt(x,x,1/p),x},n.bE=N1,n.bF=function(){return new Float64Array(4)},n.bG=function(c,o,l,p){var m=[],g=[];return m[0]=o[0]-l[0],m[1]=o[1]-l[1],m[2]=o[2]-l[2],g[0]=m[0]*Math.cos(p)-m[1]*Math.sin(p),g[1]=m[0]*Math.sin(p)+m[1]*Math.cos(p),g[2]=m[2],c[0]=g[0]+l[0],c[1]=g[1]+l[1],c[2]=g[2]+l[2],c},n.bH=function(c,o,l,p){var m=[],g=[];return m[0]=o[0]-l[0],m[1]=o[1]-l[1],m[2]=o[2]-l[2],g[0]=m[0],g[1]=m[1]*Math.cos(p)-m[2]*Math.sin(p),g[2]=m[1]*Math.sin(p)+m[2]*Math.cos(p),c[0]=g[0]+l[0],c[1]=g[1]+l[1],c[2]=g[2]+l[2],c},n.bI=function(c,o,l,p){var m=[],g=[];return m[0]=o[0]-l[0],m[1]=o[1]-l[1],m[2]=o[2]-l[2],g[0]=m[2]*Math.sin(p)+m[0]*Math.cos(p),g[1]=m[1],g[2]=m[2]*Math.cos(p)-m[0]*Math.sin(p),c[0]=g[0]+l[0],c[1]=g[1]+l[1],c[2]=g[2]+l[2],c},n.bJ=function(c,o,l){var p=Math.sin(l),m=Math.cos(l),g=o[0],_=o[1],x=o[2],I=o[3],E=o[8],O=o[9],V=o[10],N=o[11];return o!==c&&(c[4]=o[4],c[5]=o[5],c[6]=o[6],c[7]=o[7],c[12]=o[12],c[13]=o[13],c[14]=o[14],c[15]=o[15]),c[0]=g*m-E*p,c[1]=_*m-O*p,c[2]=x*m-V*p,c[3]=I*m-N*p,c[8]=g*p+E*m,c[9]=_*p+O*m,c[10]=x*p+V*m,c[11]=I*p+N*m,c},n.bK=function(c,o){let l=Cn(c,360),p=Cn(o,360),m=p-l,g=p>l?m-360:m+360;return Math.abs(m)<Math.abs(g)?m:g},n.bL=function(c){return c[0]=0,c[1]=0,c[2]=0,c},n.bM=function(c,o,l,p){let m=Math.sqrt(c*c+o*o),g=Math.sqrt(l*l+p*p);c/=m,o/=m,l/=g,p/=g;let _=Math.acos(c*l+o*p);return-o*l+c*p>0?_:-_},n.bN=function(c,o){let l=Cn(c,2*Math.PI),p=Cn(o,2*Math.PI);return Math.min(Math.abs(l-p),Math.abs(l-p+2*Math.PI),Math.abs(l-p-2*Math.PI))},n.bO=function(){let c={},o=Ge.$version;for(let l in Ge.$root){let p=Ge.$root[l];if(p.required){let m=null;m=l==="version"?o:p.type==="array"?[]:{},m!=null&&(c[l]=m)}}return c},n.bP=Xe,n.bQ=Ph,n.bR=function c(o,l){if(Array.isArray(o)){if(!Array.isArray(l)||o.length!==l.length)return!1;for(let p=0;p<o.length;p++)if(!c(o[p],l[p]))return!1;return!0}if(typeof o=="object"&&o!==null&&l!==null){if(typeof l!="object"||Object.keys(o).length!==Object.keys(l).length)return!1;for(let p in o)if(!c(o[p],l[p]))return!1;return!0}return o===l},n.bS=function(c){c=c.slice();let o=Object.create(null);for(let l=0;l<c.length;l++)o[c[l].id]=c[l];for(let l=0;l<c.length;l++)"ref"in c[l]&&(c[l]=Ga(c[l],o[c[l].ref]));return c},n.bT=function(c,o){if(c.type==="custom")return new aM(c,o);switch(c.type){case"background":return new nM(c,o);case"circle":return new q4(c,o);case"color-relief":return new K4(c,o);case"fill":return new l6(c,o);case"fill-extrusion":return new v6(c,o);case"heatmap":return new j4(c,o);case"hillshade":return new U4(c,o);case"line":return new M6(c,o);case"raster":return new f1(c,o);case"symbol":return new d0(c,o)}},n.bU=c=>c.type==="raster",n.bV=gr,n.bW=function(c,o){if(!c)return[{command:"setStyle",args:[o]}];let l=[];try{if(!bi(c.version,o.version))return[{command:"setStyle",args:[o]}];bi(c.center,o.center)||l.push({command:"setCenter",args:[o.center]}),bi(c.state,o.state)||l.push({command:"setGlobalState",args:[o.state]}),bi(c.centerAltitude,o.centerAltitude)||l.push({command:"setCenterAltitude",args:[o.centerAltitude]}),bi(c.zoom,o.zoom)||l.push({command:"setZoom",args:[o.zoom]}),bi(c.bearing,o.bearing)||l.push({command:"setBearing",args:[o.bearing]}),bi(c.pitch,o.pitch)||l.push({command:"setPitch",args:[o.pitch]}),bi(c.roll,o.roll)||l.push({command:"setRoll",args:[o.roll]}),bi(c.sprite,o.sprite)||l.push({command:"setSprite",args:[o.sprite]}),bi(c.glyphs,o.glyphs)||l.push({command:"setGlyphs",args:[o.glyphs]}),bi(c.transition,o.transition)||l.push({command:"setTransition",args:[o.transition]}),bi(c.light,o.light)||l.push({command:"setLight",args:[o.light]}),bi(c.terrain,o.terrain)||l.push({command:"setTerrain",args:[o.terrain]}),bi(c.sky,o.sky)||l.push({command:"setSky",args:[o.sky]}),bi(c.projection,o.projection)||l.push({command:"setProjection",args:[o.projection]});let p={},m=[];(function(_,x,I,E){let O;for(O in x=x||{},_=_||{})Object.prototype.hasOwnProperty.call(_,O)&&(Object.prototype.hasOwnProperty.call(x,O)||Sn(O,I,E));for(O in x)Object.prototype.hasOwnProperty.call(x,O)&&(Object.prototype.hasOwnProperty.call(_,O)?bi(_[O],x[O])||(_[O].type==="geojson"&&x[O].type==="geojson"&&fn(_,x,O)?ln(I,{command:"setGeoJSONSourceData",args:[O,x[O].data]}):Wn(O,x,I,E)):Ua(O,x,I))})(c.sources,o.sources,m,p);let g=[];c.layers&&c.layers.forEach(_=>{"source"in _&&p[_.source]?l.push({command:"removeLayer",args:[_.id]}):g.push(_)}),l=l.concat(m),function(_,x,I){x=x||[];let E=(_=_||[]).map(jc),O=x.map(jc),V=_.reduce(Gc,{}),N=x.reduce(Gc,{}),q=E.slice(),G=Object.create(null),K,Z,re,ge,ce;for(let pe=0,ve=0;pe<E.length;pe++)K=E[pe],Object.prototype.hasOwnProperty.call(N,K)?ve++:(ln(I,{command:"removeLayer",args:[K]}),q.splice(q.indexOf(K,ve),1));for(let pe=0,ve=0;pe<O.length;pe++)K=O[O.length-1-pe],q[q.length-1-pe]!==K&&(Object.prototype.hasOwnProperty.call(V,K)?(ln(I,{command:"removeLayer",args:[K]}),q.splice(q.lastIndexOf(K,q.length-ve),1)):ve++,ge=q[q.length-pe],ln(I,{command:"addLayer",args:[N[K],ge]}),q.splice(q.length-pe,0,K),G[K]=!0);for(let pe=0;pe<O.length;pe++)if(K=O[pe],Z=V[K],re=N[K],!G[K]&&!bi(Z,re))if(bi(Z.source,re.source)&&bi(Z["source-layer"],re["source-layer"])&&bi(Z.type,re.type)){for(ce in ya(Z.layout,re.layout,I,K,null,"setLayoutProperty"),ya(Z.paint,re.paint,I,K,null,"setPaintProperty"),bi(Z.filter,re.filter)||ln(I,{command:"setFilter",args:[K,re.filter]}),bi(Z.minzoom,re.minzoom)&&bi(Z.maxzoom,re.maxzoom)||ln(I,{command:"setLayerZoomRange",args:[K,re.minzoom,re.maxzoom]}),Z)Object.prototype.hasOwnProperty.call(Z,ce)&&ce!=="layout"&&ce!=="paint"&&ce!=="filter"&&ce!=="metadata"&&ce!=="minzoom"&&ce!=="maxzoom"&&(ce.indexOf("paint.")===0?ya(Z[ce],re[ce],I,K,ce.slice(6),"setPaintProperty"):bi(Z[ce],re[ce])||ln(I,{command:"setLayerProperty",args:[K,ce,re[ce]]}));for(ce in re)Object.prototype.hasOwnProperty.call(re,ce)&&!Object.prototype.hasOwnProperty.call(Z,ce)&&ce!=="layout"&&ce!=="paint"&&ce!=="filter"&&ce!=="metadata"&&ce!=="minzoom"&&ce!=="maxzoom"&&(ce.indexOf("paint.")===0?ya(Z[ce],re[ce],I,K,ce.slice(6),"setPaintProperty"):bi(Z[ce],re[ce])||ln(I,{command:"setLayerProperty",args:[K,ce,re[ce]]}))}else ln(I,{command:"removeLayer",args:[K]}),ge=q[q.lastIndexOf(K)+1],ln(I,{command:"addLayer",args:[re,ge]})}(g,o.layers,l)}catch(p){console.warn("Unable to compute style diff:",p),l=[{command:"setStyle",args:[o]}]}return l},n.bX=function(c){let o=[],l=c.id;return l===void 0&&o.push({message:`layers.${l}: missing required property "id"`}),c.render===void 0&&o.push({message:`layers.${l}: missing required method "render"`}),c.renderingMode&&c.renderingMode!=="2d"&&c.renderingMode!=="3d"&&o.push({message:`layers.${l}: property "renderingMode" must be either "2d" or "3d"`}),o},n.bY=fr,n.bZ=qc,n.b_=class extends So{constructor(c,o){super(c,o),this.current=0}set(c){this.current!==c&&(this.current=c,this.gl.uniform1i(this.location,c))}},n.ba=function(c,o,l){return c[0]=o[0]*l,c[1]=o[1]*l,c[2]=o[2]*l,c[3]=o[3]*l,c},n.bb=function(c,o){return c[0]*o[0]+c[1]*o[1]+c[2]*o[2]+c[3]},n.bc=J2,n.bd=Ju,n.be=function(c,o,l,p,m){var g=1/Math.tan(o/2);if(c[0]=g/l,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=g,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=-1,c[12]=0,c[13]=0,c[15]=0,m!=null&&m!==1/0){var _=1/(p-m);c[10]=(m+p)*_,c[14]=2*m*p*_}else c[10]=-1,c[14]=-2*p;return c},n.bf=function(c){var o=new qe(16);return o[0]=c[0],o[1]=c[1],o[2]=c[2],o[3]=c[3],o[4]=c[4],o[5]=c[5],o[6]=c[6],o[7]=c[7],o[8]=c[8],o[9]=c[9],o[10]=c[10],o[11]=c[11],o[12]=c[12],o[13]=c[13],o[14]=c[14],o[15]=c[15],o},n.bg=function(c,o,l){var p=Math.sin(l),m=Math.cos(l),g=o[0],_=o[1],x=o[2],I=o[3],E=o[4],O=o[5],V=o[6],N=o[7];return o!==c&&(c[8]=o[8],c[9]=o[9],c[10]=o[10],c[11]=o[11],c[12]=o[12],c[13]=o[13],c[14]=o[14],c[15]=o[15]),c[0]=g*m+E*p,c[1]=_*m+O*p,c[2]=x*m+V*p,c[3]=I*m+N*p,c[4]=E*m-g*p,c[5]=O*m-_*p,c[6]=V*m-x*p,c[7]=N*m-I*p,c},n.bh=function(c,o,l){var p=Math.sin(l),m=Math.cos(l),g=o[4],_=o[5],x=o[6],I=o[7],E=o[8],O=o[9],V=o[10],N=o[11];return o!==c&&(c[0]=o[0],c[1]=o[1],c[2]=o[2],c[3]=o[3],c[12]=o[12],c[13]=o[13],c[14]=o[14],c[15]=o[15]),c[4]=g*m+E*p,c[5]=_*m+O*p,c[6]=x*m+V*p,c[7]=I*m+N*p,c[8]=E*m-g*p,c[9]=O*m-_*p,c[10]=V*m-x*p,c[11]=N*m-I*p,c},n.bi=function(){let c=new Float32Array(16);return bt(c),c},n.bj=function(){let c=new Float64Array(16);return bt(c),c},n.bk=function(){return new Float64Array(16)},n.bl=function(c,o,l){let p=new Float64Array(4);return Aa(p,c,o-90,l),p},n.bm=function(c,o,l,p){var m,g,_,x,I,E=o[0],O=o[1],V=o[2],N=o[3],q=l[0],G=l[1],K=l[2],Z=l[3];return(g=E*q+O*G+V*K+N*Z)<0&&(g=-g,q=-q,G=-G,K=-K,Z=-Z),1-g>Te?(m=Math.acos(g),_=Math.sin(m),x=Math.sin((1-p)*m)/_,I=Math.sin(p*m)/_):(x=1-p,I=p),c[0]=x*E+I*q,c[1]=x*O+I*G,c[2]=x*V+I*K,c[3]=x*N+I*Z,c},n.bn=function(c){let o=new Float64Array(9);(function(g,_){var x=_[0],I=_[1],E=_[2],O=_[3],V=x+x,N=I+I,q=E+E,G=x*V,K=I*V,Z=I*N,re=E*V,ge=E*N,ce=E*q,pe=O*V,ve=O*N,Ce=O*q;g[0]=1-Z-ce,g[3]=K-Ce,g[6]=re+ve,g[1]=K+Ce,g[4]=1-G-ce,g[7]=ge-pe,g[2]=re-ve,g[5]=ge+pe,g[8]=1-G-Z})(o,c);let l=Io(-Math.asin(Ta(o[2],-1,1))),p,m;return Math.hypot(o[5],o[8])<.001?(p=0,m=-Io(Math.atan2(o[3],o[4]))):(p=Io(o[5]===0&&o[8]===0?0:Math.atan2(o[5],o[8])),m=Io(o[1]===0&&o[0]===0?0:Math.atan2(o[1],o[0]))),{roll:p,pitch:l+90,bearing:m}},n.bo=function(c,o){return c.roll==o.roll&&c.pitch==o.pitch&&c.bearing==o.bearing},n.bp=Ci,n.bq=rl,n.br=Zu,n.bs=Xh,n.bt=Wu,n.bu=Bo,n.bv=Or,n.bw=mo,n.bx=function(c,o,l,p,m){return Bo(p,m,Ta((c-o)/(l-o),0,1))},n.by=Cn,n.bz=function(){return new Float64Array(3)},n.c=De,n.c$=function(c,o,l,p,m){return a(this,void 0,void 0,function*(){if(ke())try{return yield wl(c,o,l,p,m)}catch{}return function(g,_,x,I,E){let O=g.width,V=g.height;ms&&_r||(ms=new OffscreenCanvas(O,V),_r=ms.getContext("2d",{willReadFrequently:!0})),ms.width=O,ms.height=V,_r.drawImage(g,0,0,O,V);let N=_r.getImageData(_,x,I,E);return _r.clearRect(0,0,O,V),N.data}(c,o,l,p,m)})},n.c0=class extends So{constructor(c,o){super(c,o),this.current=tr}set(c){if(c[12]!==this.current[12]||c[0]!==this.current[0])return this.current=c,void this.gl.uniformMatrix4fv(this.location,!1,c);for(let o=1;o<16;o++)if(c[o]!==this.current[o]){this.current=c,this.gl.uniformMatrix4fv(this.location,!1,c);break}}},n.c1=Pd,n.c2=class extends So{constructor(c,o){super(c,o),this.current=[0,0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]||(this.current=c,this.gl.uniform3f(this.location,c[0],c[1],c[2]))}},n.c3=class extends So{constructor(c,o){super(c,o),this.current=[0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]||(this.current=c,this.gl.uniform2f(this.location,c[0],c[1]))}},n.c4=et,n.c5=function(c,o){var l=Math.sin(o),p=Math.cos(o);return c[0]=p,c[1]=l,c[2]=0,c[3]=-l,c[4]=p,c[5]=0,c[6]=0,c[7]=0,c[8]=1,c},n.c6=function(c,o,l){var p=o[0],m=o[1],g=o[2];return c[0]=p*l[0]+m*l[3]+g*l[6],c[1]=p*l[1]+m*l[4]+g*l[7],c[2]=p*l[2]+m*l[5]+g*l[8],c},n.c7=function(c,o,l,p,m,g,_){var x=1/(o-l),I=1/(p-m),E=1/(g-_);return c[0]=-2*x,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*I,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*E,c[11]=0,c[12]=(o+l)*x,c[13]=(m+p)*I,c[14]=(_+g)*E,c[15]=1,c},n.c8=class extends So{constructor(c,o){super(c,o),this.current=new Array}set(c){if(c!=this.current){this.current=c;let o=new Float32Array(4*c.length);for(let l=0;l<c.length;l++)o[4*l]=c[l].r,o[4*l+1]=c[l].g,o[4*l+2]=c[l].b,o[4*l+3]=c[l].a;this.gl.uniform4fv(this.location,o)}}},n.c9=class extends So{constructor(c,o){super(c,o),this.current=new Array}set(c){if(c!=this.current){this.current=c;let o=new Float32Array(c);this.gl.uniform1fv(this.location,o)}}},n.cA=function(c,o){return Ne[o]&&"touches"in c},n.cB=function(c){return Ne[c]||te[c]},n.cC=function(c,o,l){var p=o[0],m=o[1];return c[0]=l[0]*p+l[4]*m+l[12],c[1]=l[1]*p+l[5]*m+l[13],c},n.cD=function(c,o){let{x:l,y:p}=nm.fromLngLat(o);return!(c<0||c>25||p<0||p>=1||l<0||l>=1)},n.cE=function(c,o){return c[0]=o[0],c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=o[1],c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=o[2],c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c},n.cF=class extends zu{},n.cG=GM,n.cI=Ae,n.cJ=function(c,o){De.REGISTERED_PROTOCOLS[c]=o},n.cK=function(c){delete De.REGISTERED_PROTOCOLS[c]},n.cL=function(c,o){let l={};for(let m=0;m<c.length;m++){let g=o&&o[c[m].id]||Pf(c[m]);o&&(o[c[m].id]=g);let _=l[g];_||(_=l[g]=[]),_.push(c[m])}let p=[];for(let m in l)p.push(l[m]);return p},n.cM=Ht,n.cN=tx,n.cO=Ax,n.cP=V2,n.cQ=function(c){c.bucket.createArrays(),c.bucket.tilePixelRatio=ui/(512*c.bucket.overscaling),c.bucket.compareText={},c.bucket.iconsNeedLinear=!1;let o=c.bucket.layers[0],l=o.layout,p=o._unevaluatedLayout._values,m={layoutIconSize:p["icon-size"].possiblyEvaluate(new pn(c.bucket.zoom+1),c.canonical),layoutTextSize:p["text-size"].possiblyEvaluate(new pn(c.bucket.zoom+1),c.canonical),textMaxSize:p["text-size"].possiblyEvaluate(new pn(18))};if(c.bucket.textSizeData.kind==="composite"){let{minZoom:E,maxZoom:O}=c.bucket.textSizeData;m.compositeTextSizes=[p["text-size"].possiblyEvaluate(new pn(E),c.canonical),p["text-size"].possiblyEvaluate(new pn(O),c.canonical)]}if(c.bucket.iconSizeData.kind==="composite"){let{minZoom:E,maxZoom:O}=c.bucket.iconSizeData;m.compositeIconSizes=[p["icon-size"].possiblyEvaluate(new pn(E),c.canonical),p["icon-size"].possiblyEvaluate(new pn(O),c.canonical)]}let g=l.get("text-line-height")*Ra,_=l.get("text-rotation-alignment")!=="viewport"&&l.get("symbol-placement")!=="point",x=l.get("text-keep-upright"),I=l.get("text-size");for(let E of c.bucket.features){let O=l.get("text-font").evaluate(E,{},c.canonical).join(","),V=I.evaluate(E,{},c.canonical),N=m.layoutTextSize.evaluate(E,{},c.canonical),q=m.layoutIconSize.evaluate(E,{},c.canonical),G={horizontal:{},vertical:void 0},K=E.text,Z,re=[0,0];if(K){let pe=K.toString(),ve=l.get("text-letter-spacing").evaluate(E,{},c.canonical)*Ra,Ce=h1(pe)?ve:0,Re=l.get("text-anchor").evaluate(E,{},c.canonical),rt=$x(o,E,c.canonical);if(!rt){let ht=l.get("text-radial-offset").evaluate(E,{},c.canonical);re=ht?Ux(Re,[ht*Ra,ob]):l.get("text-offset").evaluate(E,{},c.canonical).map(it=>it*Ra)}let tt=_?"center":l.get("text-justify").evaluate(E,{},c.canonical),dt=l.get("symbol-placement")==="point"?l.get("text-max-width").evaluate(E,{},c.canonical)*Ra:1/0,St=()=>{c.bucket.allowVerticalPlacement&&Zl(pe)&&(G.vertical=l0(K,c.glyphMap,c.glyphPositions,c.imagePositions,O,dt,g,Re,"left",Ce,re,n.az.vertical,!0,N,V))};if(!_&&rt){let ht=new Set;if(tt==="auto")for(let Qe=0;Qe<rt.values.length;Qe+=2)ht.add(rb(rt.values[Qe]));else ht.add(tt);let it=!1;for(let Qe of ht)if(!G.horizontal[Qe])if(it)G.horizontal[Qe]=G.horizontal[0];else{let Nt=l0(K,c.glyphMap,c.glyphPositions,c.imagePositions,O,dt,g,"center",Qe,Ce,re,n.az.horizontal,!1,N,V);Nt&&(G.horizontal[Qe]=Nt,it=Nt.positionedLines.length===1)}St()}else{tt==="auto"&&(tt=rb(Re));let ht=l0(K,c.glyphMap,c.glyphPositions,c.imagePositions,O,dt,g,Re,tt,Ce,re,n.az.horizontal,!1,N,V);ht&&(G.horizontal[tt]=ht),St(),Zl(pe)&&_&&x&&(G.vertical=l0(K,c.glyphMap,c.glyphPositions,c.imagePositions,O,dt,g,Re,tt,Ce,re,n.az.vertical,!1,N,V))}}let ge=!1;if(E.icon&&E.icon.name){let pe=c.imageMap[E.icon.name];pe&&(Z=J6(c.imagePositions[E.icon.name],l.get("icon-offset").evaluate(E,{},c.canonical),l.get("icon-anchor").evaluate(E,{},c.canonical)),ge=!!pe.sdf,c.bucket.sdfIcons===void 0?c.bucket.sdfIcons=ge:c.bucket.sdfIcons!==ge&&Fa("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(pe.pixelRatio!==c.bucket.pixelRatio||l.get("icon-rotate").constantOr(1)!==0)&&(c.bucket.iconsNeedLinear=!0))}let ce=Wx(G.horizontal)||G.vertical;c.bucket.iconsInText=!!ce&&ce.iconsInText,(ce||Z)&&HM(c.bucket,E,G,Z,c.imageMap,m,N,q,re,ge,c.canonical,c.subdivisionGranularity)}c.showCollisionBoxes&&c.bucket.generateCollisionDebugBuffers()},n.cR=k1,n.cS=P1,n.cT=D1,n.cU=function(c){let o=new s0;return function(l,p){for(let m in l.layers)p.writeMessage(3,kM,l.layers[m])}(c,o),o.finish()},n.cV=function(c,o,l,p,m,g){let _=Vx(c,o,l,m,0);return _=Vx(_,o,p,g,1),_},n.cW=class{constructor(c){this.maxEntries=c,this.map=new Map}get(c){let o=this.map.get(c);return o!==void 0&&(this.map.delete(c),this.map.set(c,o)),o}set(c,o){if(this.map.has(c))this.map.delete(c);else if(this.map.size>=this.maxEntries){let l=this.map.keys().next().value;this.map.delete(l)}this.map.set(c,o)}clear(){this.map.clear()}},n.cX=b2,n.cY=s0,n.cZ=Dx,n.c_=class{constructor(c){this._marks={start:[c.url,"start"].join("#"),end:[c.url,"end"].join("#"),measure:c.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let c=performance.getEntriesByName(this._marks.measure);return c.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),c=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),c}},n.ca=class extends al{},n.cb=D6,n.cc=class extends Ed{},n.cd=I1,n.ce=function(c){return c<=1?1:Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))},n.cf=n2,n.cg=function(c,o,l){var p=o[0],m=o[1],g=o[2],_=l[3]*p+l[7]*m+l[11]*g+l[15];return c[0]=(l[0]*p+l[4]*m+l[8]*g+l[12])/(_=_||1),c[1]=(l[1]*p+l[5]*m+l[9]*g+l[13])/_,c[2]=(l[2]*p+l[6]*m+l[10]*g+l[14])/_,c},n.ch=class extends zh{},n.ci=class extends r{},n.cj=function(c,o){return c[0]===o[0]&&c[1]===o[1]&&c[2]===o[2]&&c[3]===o[3]&&c[4]===o[4]&&c[5]===o[5]&&c[6]===o[6]&&c[7]===o[7]&&c[8]===o[8]&&c[9]===o[9]&&c[10]===o[10]&&c[11]===o[11]&&c[12]===o[12]&&c[13]===o[13]&&c[14]===o[14]&&c[15]===o[15]},n.ck=function(c,o){var l=c[0],p=c[1],m=c[2],g=c[3],_=c[4],x=c[5],I=c[6],E=c[7],O=c[8],V=c[9],N=c[10],q=c[11],G=c[12],K=c[13],Z=c[14],re=c[15],ge=o[0],ce=o[1],pe=o[2],ve=o[3],Ce=o[4],Re=o[5],rt=o[6],tt=o[7],dt=o[8],St=o[9],ht=o[10],it=o[11],Qe=o[12],Nt=o[13],Ft=o[14],jt=o[15];return Math.abs(l-ge)<=Te*Math.max(1,Math.abs(l),Math.abs(ge))&&Math.abs(p-ce)<=Te*Math.max(1,Math.abs(p),Math.abs(ce))&&Math.abs(m-pe)<=Te*Math.max(1,Math.abs(m),Math.abs(pe))&&Math.abs(g-ve)<=Te*Math.max(1,Math.abs(g),Math.abs(ve))&&Math.abs(_-Ce)<=Te*Math.max(1,Math.abs(_),Math.abs(Ce))&&Math.abs(x-Re)<=Te*Math.max(1,Math.abs(x),Math.abs(Re))&&Math.abs(I-rt)<=Te*Math.max(1,Math.abs(I),Math.abs(rt))&&Math.abs(E-tt)<=Te*Math.max(1,Math.abs(E),Math.abs(tt))&&Math.abs(O-dt)<=Te*Math.max(1,Math.abs(O),Math.abs(dt))&&Math.abs(V-St)<=Te*Math.max(1,Math.abs(V),Math.abs(St))&&Math.abs(N-ht)<=Te*Math.max(1,Math.abs(N),Math.abs(ht))&&Math.abs(q-it)<=Te*Math.max(1,Math.abs(q),Math.abs(it))&&Math.abs(G-Qe)<=Te*Math.max(1,Math.abs(G),Math.abs(Qe))&&Math.abs(K-Nt)<=Te*Math.max(1,Math.abs(K),Math.abs(Nt))&&Math.abs(Z-Ft)<=Te*Math.max(1,Math.abs(Z),Math.abs(Ft))&&Math.abs(re-jt)<=Te*Math.max(1,Math.abs(re),Math.abs(jt))},n.cl=function(c,o){return c[0]=o[0],c[1]=o[1],c[2]=o[2],c[3]=o[3],c[4]=o[4],c[5]=o[5],c[6]=o[6],c[7]=o[7],c[8]=o[8],c[9]=o[9],c[10]=o[10],c[11]=o[11],c[12]=o[12],c[13]=o[13],c[14]=o[14],c[15]=o[15],c},n.cm=c=>c.type==="symbol",n.cn=c=>c.type==="circle",n.co=c=>c.type==="heatmap",n.cp=c=>c.type==="line",n.cq=c=>c.type==="fill",n.cr=c=>c.type==="fill-extrusion",n.cs=c=>c.type==="hillshade",n.ct=c=>c.type==="color-relief",n.cu=c=>c.type==="background",n.cv=c=>c.type==="custom",n.cw=wo,n.cx=function(c,o,l){let p=en(o.x-l.x,o.y-l.y),m=en(c.x-l.x,c.y-l.y),g=Math.atan2(p[0]*m[1]-p[1]*m[0],function(_,x){return _[0]*x[0]+_[1]*x[1]}(p,m));return Io(g)},n.cy=oa,n.cz=function(c,o){return te[o]&&(c instanceof MouseEvent||c instanceof WheelEvent)},n.d=ct,n.d0=r2,n.d1=b,n.d2=class{constructor(c,o){this.layers={[rm]:this},this.name=rm,this.version=o?o.version:1,this.extent=o?o.extent:4096,this.length=c.length,this.features=c}feature(c){return new MM(this.features[c],this.extent)}},n.d3=ld,n.d4=Is,n.e=$n,n.f=c=>a(void 0,void 0,void 0,function*(){if(c.byteLength===0)return createImageBitmap(new ImageData(1,1));let o=new Blob([new Uint8Array(c)],{type:"image/png"});try{return createImageBitmap(o)}catch(l){throw new Error(`Could not load image because of ${l.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),n.g=He,n.h=c=>new Promise((o,l)=>{let p=new Image;p.onload=()=>{o(p),URL.revokeObjectURL(p.src),p.onload=null,window.requestAnimationFrame(()=>{p.src=Hs})},p.onerror=()=>l(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));let m=new Blob([new Uint8Array(c)],{type:"image/png"});p.src=c.byteLength?URL.createObjectURL(m):Hs}),n.i=Fr,n.j=(c,o)=>gt($n(c,{type:"json"}),o),n.k=un,n.l=_i,n.m=gt,n.n=(c,o)=>gt($n(c,{type:"arrayBuffer"}),o),n.o=function(c){return new s0(c).readFields(U6,[])},n.p=F2,n.q=function(c){return/[\u02EA\u02EB\u1100-\u11FF\u2E80-\u2FDF\u3000-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE4F\uFF00-\uFFEF]|\uD81B[\uDFE0-\uDFFF]|[\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFFF]|\uD82C[\uDC00-\uDEFB]|\uD83C[\uDE00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(c))},n.r=$h,n.s=Il,n.t=go,n.u=Ge,n.v=gd,n.w=Fa,n.x=Fh,n.y=_d,n.z=xd}),e("worker",["./shared"],function(n){"use strict";class a{constructor(te,ee){this.keyCache={},te&&this.replace(te,ee)}replace(te,ee){this._layerConfigs={},this._layers={},this.update(te,[],ee)}update(te,ee,ue){for(let De of te){this._layerConfigs[De.id]=De;let He=this._layers[De.id]=n.bT(De,ue);He._featureFilter=n.aj(He.filter,ue),this.keyCache[De.id]&&delete this.keyCache[De.id]}for(let De of ee)delete this.keyCache[De],delete this._layerConfigs[De],delete this._layers[De];this.familiesBySource={};let Ee=n.cL(Object.values(this._layerConfigs),this.keyCache);for(let De of Ee){let He=De.map(Bt=>this._layers[Bt.id]),Ve=He[0];if(Ve.isHidden())continue;let Ae=Ve.source||"",Xe=this.familiesBySource[Ae];Xe||(Xe=this.familiesBySource[Ae]={});let gt=Ve.sourceLayer||n.ai,ct=Xe[gt];ct||(ct=Xe[gt]=[]),ct.push(He)}}}class u{constructor(te){let ee={},ue=[];for(let Ve in te){let Ae=te[Ve],Xe=ee[Ve]={};for(let gt in Ae){let ct=Ae[+gt];if(!ct||ct.bitmap.width===0||ct.bitmap.height===0)continue;let Bt={x:0,y:0,w:ct.bitmap.width+2,h:ct.bitmap.height+2};ue.push(Bt),Xe[gt]={rect:Bt,metrics:ct.metrics}}}let{w:Ee,h:De}=n.p(ue),He=new n.r({width:Ee||1,height:De||1});for(let Ve in te){let Ae=te[Ve];for(let Xe in Ae){let gt=Ae[+Xe];if(!gt||gt.bitmap.width===0||gt.bitmap.height===0)continue;let ct=ee[Ve][Xe].rect;n.r.copy(gt.bitmap,He,{x:0,y:0},{x:ct.x+1,y:ct.y+1},gt.bitmap)}}this.image=He,this.positions=ee}}n.cM("GlyphAtlas",u);class b{constructor(te){this.tileID=new n.a2(te.tileID.overscaledZ,te.tileID.wrap,te.tileID.canonical.z,te.tileID.canonical.x,te.tileID.canonical.y),this.uid=te.uid,this.zoom=te.zoom,this.pixelRatio=te.pixelRatio,this.tileSize=te.tileSize,this.source=te.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=te.showCollisionBoxes,this.collectResourceTiming=!!te.collectResourceTiming,this.returnDependencies=!!te.returnDependencies,this.promoteId=te.promoteId,this.inFlightDependencies=[]}parse(te,ee,ue,Ee,De){return n._(this,void 0,void 0,function*(){this.status="parsing",this.data=te,this.collisionBoxArray=new n.ag;let He=new n.cN(Object.keys(te.layers).sort()),Ve=new n.cO(this.tileID,this.promoteId);Ve.bucketLayerIDs=[];let Ae={},Xe={featureIndex:Ve,iconDependencies:{},patternDependencies:{},glyphDependencies:{},dashDependencies:{},availableImages:ue,subdivisionGranularity:De},gt=ee.familiesBySource[this.source];for(let fn in gt){let ya=te.layers[fn];if(!ya)continue;ya.version===1&&n.w(`Vector tile source "${this.source}" layer "${fn}" does not use vector tile spec v2 and therefore may have some rendering errors.`);let jc=He.encode(fn),Gc=[];for(let It=0;It<ya.length;It++){let co=ya.feature(It),uo=Ve.getId(co,fn);Gc.push({feature:co,id:uo,index:It,sourceLayerIndex:jc})}for(let It of gt[fn]){let co=It[0];co.source!==this.source&&n.w(`layer.source = ${co.source} does not equal this.source = ${this.source}`),co.isHidden(this.zoom,!0)||(T(It,this.zoom,ue),(Ae[co.id]=co.createBucket({index:Ve.bucketLayerIDs.length,layers:It,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:jc,sourceID:this.source})).populate(Gc,Xe,this.tileID.canonical),Ve.bucketLayerIDs.push(It.map(uo=>uo.id)))}}let ct=n.bY(Xe.glyphDependencies,fn=>Object.keys(fn).map(Number));this.inFlightDependencies.forEach(fn=>fn?.abort()),this.inFlightDependencies=[];let Bt=Promise.resolve({});if(Object.keys(ct).length){let fn=new AbortController;this.inFlightDependencies.push(fn),Bt=Ee.sendAsync({type:"GG",data:{stacks:ct,source:this.source,tileID:this.tileID,type:"glyphs"}},fn)}let Qt=Object.keys(Xe.iconDependencies),_i=Promise.resolve({});if(Qt.length){let fn=new AbortController;this.inFlightDependencies.push(fn),_i=Ee.sendAsync({type:"GI",data:{icons:Qt,source:this.source,tileID:this.tileID,type:"icons"}},fn)}let un=Object.keys(Xe.patternDependencies),Xi=Promise.resolve({});if(un.length){let fn=new AbortController;this.inFlightDependencies.push(fn),Xi=Ee.sendAsync({type:"GI",data:{icons:un,source:this.source,tileID:this.tileID,type:"patterns"}},fn)}let Ge=Xe.dashDependencies,mn=Promise.resolve({});if(Object.keys(Ge).length){let fn=new AbortController;this.inFlightDependencies.push(fn),mn=Ee.sendAsync({type:"GDA",data:{dashes:Ge}},fn)}let[Ga,bi,ln,Ua]=yield Promise.all([Bt,_i,Xi,mn]),Sn=new u(Ga),Wn=new n.cP(bi,ln);for(let fn in Ae){let ya=Ae[fn];ya instanceof n.ah?(T(ya.layers,this.zoom,ue),n.cQ({bucket:ya,glyphMap:Ga,glyphPositions:Sn.positions,imageMap:bi,imagePositions:Wn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:Xe.subdivisionGranularity})):ya.hasDependencies&&(ya instanceof n.cR||ya instanceof n.cS||ya instanceof n.cT)&&(T(ya.layers,this.zoom,ue),ya.addFeatures(Xe,this.tileID.canonical,Wn.patternPositions,Ua))}return this.status="done",{buckets:Object.values(Ae).filter(fn=>!fn.isEmpty()),featureIndex:Ve,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Sn.image,imageAtlas:Wn,dashPositions:Ua,glyphMap:this.returnDependencies?Ga:null,iconMap:this.returnDependencies?bi:null,glyphPositions:this.returnDependencies?Sn.positions:null}})}}function T(Ne,te,ee){let ue=new n.H(te);for(let Ee of Ne)Ee.recalculate(ue,ee)}class D{constructor(te,ee,ue,Ee,De){this.type=te,this.properties=ue||{},this.extent=De,this.pointsArray=ee,this.id=Ee}loadGeometry(){return this.pointsArray.map(te=>te.map(ee=>new n.P(ee.x,ee.y)))}}class R{constructor(te,ee,ue){this.version=2,this._myFeatures=te,this.name=ee,this.length=te.length,this.extent=ue}feature(te){return this._myFeatures[te]}}class U{constructor(){this.layers={}}addLayer(te){this.layers[te.name]=te}}function Y(Ne){let te=n.cU(Ne);return te.byteOffset===0&&te.byteLength===te.buffer.byteLength||(te=new Uint8Array(te)),{vectorTile:Ne,rawData:te.buffer}}function oe(Ne,te,ee){let{extent:ue}=Ne,Ee=Math.pow(2,ee.z-te.z),De=(ee.x-te.x*Ee)*ue,He=(ee.y-te.y*Ee)*ue,Ve=[];for(let Ae=0;Ae<Ne.length;Ae++){let Xe=Ne.feature(Ae),gt=Xe.loadGeometry();for(let Bt of gt)for(let Qt of Bt)Qt.x=Qt.x*Ee-De,Qt.y=Qt.y*Ee-He;let ct=128;gt=n.cV(gt,Xe.type,-ct,-ct,ue+ct,ue+ct),gt.length!==0&&Ve.push(new D(Xe.type,gt,Xe.properties,Xe.id,ue))}return new R(Ve,Ne.name,ue)}class J{constructor(te,ee,ue){this.actor=te,this.layerIndex=ee,this.availableImages=ue,this.fetching={},this.loading={},this.loaded={},this.overzoomedTileResultCache=new n.cW(1e3)}loadVectorTile(te,ee){return n._(this,void 0,void 0,function*(){let ue=yield n.n(te.request,ee);try{return{vectorTile:te.encoding!=="mlt"?new n.cX(new n.cY(ue.data)):new n.cZ(ue.data),rawData:ue.data,cacheControl:ue.cacheControl,expires:ue.expires}}catch(Ee){let De=new Uint8Array(ue.data),He=`Unable to parse the tile at ${te.request.url}, `;throw He+=De[0]===31&&De[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Ee.message}`,new Error(He)}})}loadTile(te){return n._(this,void 0,void 0,function*(){let{uid:ee,overzoomParameters:ue}=te;ue&&(te.request=ue.overzoomRequest);let Ee=!!(te&&te.request&&te.request.collectResourceTiming)&&new n.c_(te.request),De=new b(te);this.loading[ee]=De;let He=new AbortController;De.abort=He;try{let Ve=yield this.loadVectorTile(te,He);if(delete this.loading[ee],!Ve)return null;if(ue){let Bt=this._getOverzoomTile(te,Ve.vectorTile);Ve.rawData=Bt.rawData,Ve.vectorTile=Bt.vectorTile}let Ae=Ve.rawData,Xe={};Ve.expires&&(Xe.expires=Ve.expires),Ve.cacheControl&&(Xe.cacheControl=Ve.cacheControl);let gt={};if(Ee){let Bt=Ee.finish();Bt&&(gt.resourceTiming=JSON.parse(JSON.stringify(Bt)))}De.vectorTile=Ve.vectorTile;let ct=De.parse(Ve.vectorTile,this.layerIndex,this.availableImages,this.actor,te.subdivisionGranularity);this.loaded[ee]=De,this.fetching[ee]={rawTileData:Ae,cacheControl:Xe,resourceTiming:gt};try{let Bt=yield ct;return n.e({rawTileData:Ae.slice(0),encoding:te.encoding},Bt,Xe,gt)}finally{delete this.fetching[ee]}}catch(Ve){throw delete this.loading[ee],De.status="done",this.loaded[ee]=De,Ve}})}_getOverzoomTile(te,ee){let{tileID:ue,source:Ee,overzoomParameters:De}=te,{maxZoomTileID:He}=De,Ve=`${He.key}_${ue.key}`,Ae=this.overzoomedTileResultCache.get(Ve);if(Ae)return Ae;let Xe=new U,gt=this.layerIndex.familiesBySource[Ee];for(let Bt in gt){let Qt=ee.layers[Bt];if(!Qt)continue;let _i=oe(Qt,He,ue.canonical);_i.length>0&&Xe.addLayer(_i)}let ct=Y(Xe);return this.overzoomedTileResultCache.set(Ve,ct),ct}reloadTile(te){return n._(this,void 0,void 0,function*(){let ee=te.uid;if(!this.loaded||!this.loaded[ee])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");let ue=this.loaded[ee];if(ue.showCollisionBoxes=te.showCollisionBoxes,ue.status==="parsing"){let Ee=yield ue.parse(ue.vectorTile,this.layerIndex,this.availableImages,this.actor,te.subdivisionGranularity),De;if(this.fetching[ee]){let{rawTileData:He,cacheControl:Ve,resourceTiming:Ae}=this.fetching[ee];delete this.fetching[ee],De=n.e({rawTileData:He.slice(0),encoding:te.encoding},Ee,Ve,Ae)}else De=Ee;return De}if(ue.status==="done"&&ue.vectorTile)return ue.parse(ue.vectorTile,this.layerIndex,this.availableImages,this.actor,te.subdivisionGranularity)})}abortTile(te){return n._(this,void 0,void 0,function*(){let ee=this.loading,ue=te.uid;ee&&ee[ue]&&ee[ue].abort&&(ee[ue].abort.abort(),delete ee[ue])})}removeTile(te){return n._(this,void 0,void 0,function*(){this.loaded&&this.loaded[te.uid]&&delete this.loaded[te.uid]})}}class ke{constructor(){this.loaded={}}loadTile(te){return n._(this,void 0,void 0,function*(){let{uid:ee,encoding:ue,rawImageData:Ee,redFactor:De,greenFactor:He,blueFactor:Ve,baseShift:Ae}=te,Xe=Ee.width+2,gt=Ee.height+2,ct=n.b(Ee)?new n.R({width:Xe,height:gt},yield n.c$(Ee,-1,-1,Xe,gt)):Ee,Bt=new n.d0(ee,ct,ue,De,He,Ve,Ae);return this.loaded=this.loaded||{},this.loaded[ee]=Bt,Bt})}removeTile(te){let ee=this.loaded,ue=te.uid;ee&&ee[ue]&&delete ee[ue]}}var Te,qe,et=function(){if(qe)return Te;function Ne(ee,ue){if(ee.length!==0){te(ee[0],ue);for(var Ee=1;Ee<ee.length;Ee++)te(ee[Ee],!ue)}}function te(ee,ue){for(var Ee=0,De=0,He=0,Ve=ee.length,Ae=Ve-1;He<Ve;Ae=He++){var Xe=(ee[He][0]-ee[Ae][0])*(ee[Ae][1]+ee[He][1]),gt=Ee+Xe;De+=Math.abs(Ee)>=Math.abs(Xe)?Ee-gt+Xe:Xe-gt+Ee,Ee=gt}Ee+De>=0!=!!ue&&ee.reverse()}return qe=1,Te=function ee(ue,Ee){var De,He=ue&&ue.type;if(He==="FeatureCollection")for(De=0;De<ue.features.length;De++)ee(ue.features[De],Ee);else if(He==="GeometryCollection")for(De=0;De<ue.geometries.length;De++)ee(ue.geometries[De],Ee);else if(He==="Feature")ee(ue.geometry,Ee);else if(He==="Polygon")Ne(ue.coordinates,Ee);else if(He==="MultiPolygon")for(De=0;De<ue.coordinates.length;De++)Ne(ue.coordinates[De],Ee);return ue}}(),bt=n.d1(et);let xt={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Ne=>Ne},lt=Math.fround||(vt=new Float32Array(1),Ne=>(vt[0]=+Ne,vt[0]));var vt;class qt{constructor(te){this.options=Object.assign(Object.create(xt),te),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(te){let{log:ee,minZoom:ue,maxZoom:Ee}=this.options;ee&&console.time("total time");let De=`prepare ${te.length} points`;ee&&console.time(De),this.points=te;let He=[];for(let Ae=0;Ae<te.length;Ae++){let Xe=te[Ae];if(!Xe.geometry)continue;let[gt,ct]=Xe.geometry.coordinates,Bt=lt(mi(gt)),Qt=lt(hi(ct));He.push(Bt,Qt,1/0,Ae,-1,1),this.options.reduce&&He.push(0)}let Ve=this.trees[Ee+1]=this._createTree(He);ee&&console.timeEnd(De);for(let Ae=Ee;Ae>=ue;Ae--){let Xe=+Date.now();Ve=this.trees[Ae]=this._createTree(this._cluster(Ve,Ae)),ee&&console.log("z%d: %d clusters in %dms",Ae,Ve.numItems,+Date.now()-Xe)}return ee&&console.timeEnd("total time"),this}getClusters(te,ee){let ue=((te[0]+180)%360+360)%360-180,Ee=Math.max(-90,Math.min(90,te[1])),De=te[2]===180?180:((te[2]+180)%360+360)%360-180,He=Math.max(-90,Math.min(90,te[3]));if(te[2]-te[0]>=360)ue=-180,De=180;else if(ue>De){let ct=this.getClusters([ue,Ee,180,He],ee),Bt=this.getClusters([-180,Ee,De,He],ee);return ct.concat(Bt)}let Ve=this.trees[this._limitZoom(ee)],Ae=Ve.range(mi(ue),hi(He),mi(De),hi(Ee)),Xe=Ve.data,gt=[];for(let ct of Ae){let Bt=this.stride*ct;gt.push(Xe[Bt+5]>1?Mt(Xe,Bt,this.clusterProps):this.points[Xe[Bt+3]])}return gt}getChildren(te){let ee=this._getOriginId(te),ue=this._getOriginZoom(te),Ee="No cluster with the specified id.",De=this.trees[ue];if(!De)throw new Error(Ee);let He=De.data;if(ee*this.stride>=He.length)throw new Error(Ee);let Ve=this.options.radius/(this.options.extent*Math.pow(2,ue-1)),Ae=De.within(He[ee*this.stride],He[ee*this.stride+1],Ve),Xe=[];for(let gt of Ae){let ct=gt*this.stride;He[ct+4]===te&&Xe.push(He[ct+5]>1?Mt(He,ct,this.clusterProps):this.points[He[ct+3]])}if(Xe.length===0)throw new Error(Ee);return Xe}getLeaves(te,ee,ue){let Ee=[];return this._appendLeaves(Ee,te,ee=ee||10,ue=ue||0,0),Ee}getTile(te,ee,ue){let Ee=this.trees[this._limitZoom(te)],De=Math.pow(2,te),{extent:He,radius:Ve}=this.options,Ae=Ve/He,Xe=(ue-Ae)/De,gt=(ue+1+Ae)/De,ct={features:[]};return this._addTileFeatures(Ee.range((ee-Ae)/De,Xe,(ee+1+Ae)/De,gt),Ee.data,ee,ue,De,ct),ee===0&&this._addTileFeatures(Ee.range(1-Ae/De,Xe,1,gt),Ee.data,De,ue,De,ct),ee===De-1&&this._addTileFeatures(Ee.range(0,Xe,Ae/De,gt),Ee.data,-1,ue,De,ct),ct.features.length?ct:null}getClusterExpansionZoom(te){let ee=this._getOriginZoom(te)-1;for(;ee<=this.options.maxZoom;){let ue=this.getChildren(te);if(ee++,ue.length!==1)break;te=ue[0].properties.cluster_id}return ee}_appendLeaves(te,ee,ue,Ee,De){let He=this.getChildren(ee);for(let Ve of He){let Ae=Ve.properties;if(Ae&&Ae.cluster?De+Ae.point_count<=Ee?De+=Ae.point_count:De=this._appendLeaves(te,Ae.cluster_id,ue,Ee,De):De<Ee?De++:te.push(Ve),te.length===ue)break}return De}_createTree(te){let ee=new n.aT(te.length/this.stride|0,this.options.nodeSize,Float32Array);for(let ue=0;ue<te.length;ue+=this.stride)ee.add(te[ue],te[ue+1]);return ee.finish(),ee.data=te,ee}_addTileFeatures(te,ee,ue,Ee,De,He){for(let Ve of te){let Ae=Ve*this.stride,Xe=ee[Ae+5]>1,gt,ct,Bt;if(Xe)gt=Jt(ee,Ae,this.clusterProps),ct=ee[Ae],Bt=ee[Ae+1];else{let un=this.points[ee[Ae+3]];gt=un.properties;let[Xi,Ge]=un.geometry.coordinates;ct=mi(Xi),Bt=hi(Ge)}let Qt={type:1,geometry:[[Math.round(this.options.extent*(ct*De-ue)),Math.round(this.options.extent*(Bt*De-Ee))]],tags:gt},_i;_i=Xe||this.options.generateId?ee[Ae+3]:this.points[ee[Ae+3]].id,_i!==void 0&&(Qt.id=_i),He.features.push(Qt)}}_limitZoom(te){return Math.max(this.options.minZoom,Math.min(Math.floor(+te),this.options.maxZoom+1))}_cluster(te,ee){let{radius:ue,extent:Ee,reduce:De,minPoints:He}=this.options,Ve=ue/(Ee*Math.pow(2,ee)),Ae=te.data,Xe=[],gt=this.stride;for(let ct=0;ct<Ae.length;ct+=gt){if(Ae[ct+2]<=ee)continue;Ae[ct+2]=ee;let Bt=Ae[ct],Qt=Ae[ct+1],_i=te.within(Ae[ct],Ae[ct+1],Ve),un=Ae[ct+5],Xi=un;for(let Ge of _i){let mn=Ge*gt;Ae[mn+2]>ee&&(Xi+=Ae[mn+5])}if(Xi>un&&Xi>=He){let Ge,mn=Bt*un,Ga=Qt*un,bi=-1,ln=(ct/gt<<5)+(ee+1)+this.points.length;for(let Ua of _i){let Sn=Ua*gt;if(Ae[Sn+2]<=ee)continue;Ae[Sn+2]=ee;let Wn=Ae[Sn+5];mn+=Ae[Sn]*Wn,Ga+=Ae[Sn+1]*Wn,Ae[Sn+4]=ln,De&&(Ge||(Ge=this._map(Ae,ct,!0),bi=this.clusterProps.length,this.clusterProps.push(Ge)),De(Ge,this._map(Ae,Sn)))}Ae[ct+4]=ln,Xe.push(mn/Xi,Ga/Xi,1/0,ln,-1,Xi),De&&Xe.push(bi)}else{for(let Ge=0;Ge<gt;Ge++)Xe.push(Ae[ct+Ge]);if(Xi>1)for(let Ge of _i){let mn=Ge*gt;if(!(Ae[mn+2]<=ee)){Ae[mn+2]=ee;for(let Ga=0;Ga<gt;Ga++)Xe.push(Ae[mn+Ga])}}}}return Xe}_getOriginId(te){return te-this.points.length>>5}_getOriginZoom(te){return(te-this.points.length)%32}_map(te,ee,ue){if(te[ee+5]>1){let He=this.clusterProps[te[ee+6]];return ue?Object.assign({},He):He}let Ee=this.points[te[ee+3]].properties,De=this.options.map(Ee);return ue&&De===Ee?Object.assign({},De):De}}function Mt(Ne,te,ee){return{type:"Feature",id:Ne[te+3],properties:Jt(Ne,te,ee),geometry:{type:"Point",coordinates:[(ue=Ne[te],360*(ue-.5)),Si(Ne[te+1])]}};var ue}function Jt(Ne,te,ee){let ue=Ne[te+5],Ee=ue>=1e4?`${Math.round(ue/1e3)}k`:ue>=1e3?Math.round(ue/100)/10+"k":ue,De=Ne[te+6],He=De===-1?{}:Object.assign({},ee[De]);return Object.assign(He,{cluster:!0,cluster_id:Ne[te+3],point_count:ue,point_count_abbreviated:Ee})}function mi(Ne){return Ne/360+.5}function hi(Ne){let te=Math.sin(Ne*Math.PI/180),ee=.5-.25*Math.log((1+te)/(1-te))/Math.PI;return ee<0?0:ee>1?1:ee}function Si(Ne){let te=(180-360*Ne)*Math.PI/180;return 360*Math.atan(Math.exp(te))/Math.PI-90}function Pn(Ne,te,ee,ue){let Ee=ue,De=te+(ee-te>>1),He,Ve=ee-te,Ae=Ne[te],Xe=Ne[te+1],gt=Ne[ee],ct=Ne[ee+1];for(let Bt=te+3;Bt<ee;Bt+=3){let Qt=Aa(Ne[Bt],Ne[Bt+1],Ae,Xe,gt,ct);if(Qt>Ee)He=Bt,Ee=Qt;else if(Qt===Ee){let _i=Math.abs(Bt-De);_i<Ve&&(He=Bt,Ve=_i)}}Ee>ue&&(He-te>3&&Pn(Ne,te,He,ue),Ne[He+2]=Ee,ee-He>3&&Pn(Ne,He,ee,ue))}function Aa(Ne,te,ee,ue,Ee,De){let He=Ee-ee,Ve=De-ue;if(He!==0||Ve!==0){let Ae=((Ne-ee)*He+(te-ue)*Ve)/(He*He+Ve*Ve);Ae>1?(ee=Ee,ue=De):Ae>0&&(ee+=He*Ae,ue+=Ve*Ae)}return He=Ne-ee,Ve=te-ue,He*He+Ve*Ve}function Mi(Ne,te,ee,ue){let Ee={id:Ne??null,type:te,geometry:ee,tags:ue,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(te==="Point"||te==="MultiPoint"||te==="LineString")en(Ee,ee);else if(te==="Polygon")en(Ee,ee[0]);else if(te==="MultiLineString")for(let De of ee)en(Ee,De);else if(te==="MultiPolygon")for(let De of ee)en(Ee,De[0]);return Ee}function en(Ne,te){for(let ee=0;ee<te.length;ee+=3)Ne.minX=Math.min(Ne.minX,te[ee]),Ne.minY=Math.min(Ne.minY,te[ee+1]),Ne.maxX=Math.max(Ne.maxX,te[ee]),Ne.maxY=Math.max(Ne.maxY,te[ee+1])}function ui(Ne,te,ee,ue){if(!te.geometry)return;let Ee=te.geometry.coordinates;if(Ee&&Ee.length===0)return;let De=te.geometry.type,He=Math.pow(ee.tolerance/((1<<ee.maxZoom)*ee.extent),2),Ve=[],Ae=te.id;if(ee.promoteId?Ae=te.properties[ee.promoteId]:ee.generateId&&(Ae=ue||0),De==="Point")Oa(Ee,Ve);else if(De==="MultiPoint")for(let Xe of Ee)Oa(Xe,Ve);else if(De==="LineString")Cn(Ee,Ve,He,!1);else if(De==="MultiLineString"){if(ee.lineMetrics){for(let Xe of Ee)Ve=[],Cn(Xe,Ve,He,!1),Ne.push(Mi(Ae,"LineString",Ve,te.properties));return}Bo(Ee,Ve,He,!1)}else if(De==="Polygon")Bo(Ee,Ve,He,!0);else{if(De!=="MultiPolygon"){if(De==="GeometryCollection"){for(let Xe of te.geometry.geometries)ui(Ne,{id:Ae,geometry:Xe,properties:te.properties},ee,ue);return}throw new Error("Input data is not a valid GeoJSON object.")}for(let Xe of Ee){let gt=[];Bo(Xe,gt,He,!0),Ve.push(gt)}}Ne.push(Mi(Ae,De,Ve,te.properties))}function Oa(Ne,te){te.push(Or(Ne[0]),wo(Ne[1]),0)}function Cn(Ne,te,ee,ue){let Ee,De,He=0;for(let Ae=0;Ae<Ne.length;Ae++){let Xe=Or(Ne[Ae][0]),gt=wo(Ne[Ae][1]);te.push(Xe,gt,0),Ae>0&&(He+=ue?(Ee*gt-Xe*De)/2:Math.sqrt(Math.pow(Xe-Ee,2)+Math.pow(gt-De,2))),Ee=Xe,De=gt}let Ve=te.length-3;te[2]=1,Pn(te,0,Ve,ee),te[Ve+2]=1,te.size=Math.abs(He),te.start=0,te.end=te.size}function Bo(Ne,te,ee,ue){for(let Ee=0;Ee<Ne.length;Ee++){let De=[];Cn(Ne[Ee],De,ee,ue),te.push(De)}}function Or(Ne){return Ne/360+.5}function wo(Ne){let te=Math.sin(Ne*Math.PI/180),ee=.5-.25*Math.log((1+te)/(1-te))/Math.PI;return ee<0?0:ee>1?1:ee}function oa(Ne,te,ee,ue,Ee,De,He,Ve){if(ue/=te,De>=(ee/=te)&&He<ue)return Ne;if(He<ee||De>=ue)return null;let Ae=[];for(let Xe of Ne){let gt=Xe.geometry,ct=Xe.type,Bt=Ee===0?Xe.minX:Xe.minY,Qt=Ee===0?Xe.maxX:Xe.maxY;if(Bt>=ee&&Qt<ue){Ae.push(Xe);continue}if(Qt<ee||Bt>=ue)continue;let _i=[];if(ct==="Point"||ct==="MultiPoint")Ta(gt,_i,ee,ue,Ee);else if(ct==="LineString")lo(gt,_i,ee,ue,Ee,!1,Ve.lineMetrics);else if(ct==="MultiLineString")qs(gt,_i,ee,ue,Ee,!1);else if(ct==="Polygon")qs(gt,_i,ee,ue,Ee,!0);else if(ct==="MultiPolygon")for(let un of gt){let Xi=[];qs(un,Xi,ee,ue,Ee,!0),Xi.length&&_i.push(Xi)}if(_i.length){if(Ve.lineMetrics&&ct==="LineString"){for(let un of _i)Ae.push(Mi(Xe.id,ct,un,Xe.tags));continue}ct!=="LineString"&&ct!=="MultiLineString"||(_i.length===1?(ct="LineString",_i=_i[0]):ct="MultiLineString"),ct!=="Point"&&ct!=="MultiPoint"||(ct=_i.length===3?"Point":"MultiPoint"),Ae.push(Mi(Xe.id,ct,_i,Xe.tags))}}return Ae.length?Ae:null}function Ta(Ne,te,ee,ue,Ee){for(let De=0;De<Ne.length;De+=3){let He=Ne[De+Ee];He>=ee&&He<=ue&&fr(te,Ne[De],Ne[De+1],Ne[De+2])}}function lo(Ne,te,ee,ue,Ee,De,He){let Ve=$n(Ne),Ae=Ee===0?qc:gr,Xe,gt,ct=Ne.start;for(let Xi=0;Xi<Ne.length-3;Xi+=3){let Ge=Ne[Xi],mn=Ne[Xi+1],Ga=Ne[Xi+2],bi=Ne[Xi+3],ln=Ne[Xi+4],Ua=Ee===0?Ge:mn,Sn=Ee===0?bi:ln,Wn=!1;He&&(Xe=Math.sqrt(Math.pow(Ge-bi,2)+Math.pow(mn-ln,2))),Ua<ee?Sn>ee&&(gt=Ae(Ve,Ge,mn,bi,ln,ee),He&&(Ve.start=ct+Xe*gt)):Ua>ue?Sn<ue&&(gt=Ae(Ve,Ge,mn,bi,ln,ue),He&&(Ve.start=ct+Xe*gt)):fr(Ve,Ge,mn,Ga),Sn<ee&&Ua>=ee&&(gt=Ae(Ve,Ge,mn,bi,ln,ee),Wn=!0),Sn>ue&&Ua<=ue&&(gt=Ae(Ve,Ge,mn,bi,ln,ue),Wn=!0),!De&&Wn&&(He&&(Ve.end=ct+Xe*gt),te.push(Ve),Ve=$n(Ne)),He&&(ct+=Xe)}let Bt=Ne.length-3,Qt=Ne[Bt],_i=Ne[Bt+1],un=Ee===0?Qt:_i;un>=ee&&un<=ue&&fr(Ve,Qt,_i,Ne[Bt+2]),Bt=Ve.length-3,De&&Bt>=3&&(Ve[Bt]!==Ve[0]||Ve[Bt+1]!==Ve[1])&&fr(Ve,Ve[0],Ve[1],Ve[2]),Ve.length&&te.push(Ve)}function $n(Ne){let te=[];return te.size=Ne.size,te.start=Ne.start,te.end=Ne.end,te}function qs(Ne,te,ee,ue,Ee,De){for(let He of Ne)lo(He,te,ee,ue,Ee,De,!1)}function fr(Ne,te,ee,ue){Ne.push(te,ee,ue)}function qc(Ne,te,ee,ue,Ee,De){let He=(De-te)/(ue-te);return fr(Ne,De,ee+(Ee-ee)*He,1),He}function gr(Ne,te,ee,ue,Ee,De){let He=(De-ee)/(Ee-ee);return fr(Ne,te+(ue-te)*He,De,1),He}function Hc(Ne,te){let ee=[];for(let ue=0;ue<Ne.length;ue++){let Ee=Ne[ue],De=Ee.type,He;if(De==="Point"||De==="MultiPoint"||De==="LineString")He=Fa(Ee.geometry,te);else if(De==="MultiLineString"||De==="Polygon"){He=[];for(let Ve of Ee.geometry)He.push(Fa(Ve,te))}else if(De==="MultiPolygon"){He=[];for(let Ve of Ee.geometry){let Ae=[];for(let Xe of Ve)Ae.push(Fa(Xe,te));He.push(Ae)}}ee.push(Mi(Ee.id,De,He,Ee.tags))}return ee}function Fa(Ne,te){let ee=[];ee.size=Ne.size,Ne.start!==void 0&&(ee.start=Ne.start,ee.end=Ne.end);for(let ue=0;ue<Ne.length;ue+=3)ee.push(Ne[ue]+te,Ne[ue+1],Ne[ue+2]);return ee}function Zo(Ne,te){if(Ne.transformed)return Ne;let ee=1<<Ne.z,ue=Ne.x,Ee=Ne.y;for(let De of Ne.features){let He=De.geometry,Ve=De.type;if(De.geometry=[],Ve===1)for(let Ae=0;Ae<He.length;Ae+=2)De.geometry.push(Fr(He[Ae],He[Ae+1],te,ee,ue,Ee));else for(let Ae=0;Ae<He.length;Ae++){let Xe=[];for(let gt=0;gt<He[Ae].length;gt+=2)Xe.push(Fr(He[Ae][gt],He[Ae][gt+1],te,ee,ue,Ee));De.geometry.push(Xe)}}return Ne.transformed=!0,Ne}function Fr(Ne,te,ee,ue,Ee,De){return[Math.round(ee*(Ne*ue-Ee)),Math.round(ee*(te*ue-De))]}function Kn(Ne,te,ee,ue,Ee){let De=te===Ee.maxZoom?0:Ee.tolerance/((1<<te)*Ee.extent),He={features:[],numPoints:0,numSimplified:0,numFeatures:Ne.length,source:null,x:ee,y:ue,z:te,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(let Ve of Ne)hs(He,Ve,De,Ee);return He}function hs(Ne,te,ee,ue){let Ee=te.geometry,De=te.type,He=[];if(Ne.minX=Math.min(Ne.minX,te.minX),Ne.minY=Math.min(Ne.minY,te.minY),Ne.maxX=Math.max(Ne.maxX,te.maxX),Ne.maxY=Math.max(Ne.maxY,te.maxY),De==="Point"||De==="MultiPoint")for(let Ve=0;Ve<Ee.length;Ve+=3)He.push(Ee[Ve],Ee[Ve+1]),Ne.numPoints++,Ne.numSimplified++;else if(De==="LineString")Hs(He,Ee,Ne,ee,!1,!1);else if(De==="MultiLineString"||De==="Polygon")for(let Ve=0;Ve<Ee.length;Ve++)Hs(He,Ee[Ve],Ne,ee,De==="Polygon",Ve===0);else if(De==="MultiPolygon")for(let Ve=0;Ve<Ee.length;Ve++){let Ae=Ee[Ve];for(let Xe=0;Xe<Ae.length;Xe++)Hs(He,Ae[Xe],Ne,ee,!0,Xe===0)}if(He.length){let Ve=te.tags||null;if(De==="LineString"&&ue.lineMetrics){Ve={};for(let Xe in te.tags)Ve[Xe]=te.tags[Xe];Ve.mapbox_clip_start=Ee.start/Ee.size,Ve.mapbox_clip_end=Ee.end/Ee.size}let Ae={geometry:He,type:De==="Polygon"||De==="MultiPolygon"?3:De==="LineString"||De==="MultiLineString"?2:1,tags:Ve};te.id!==null&&(Ae.id=te.id),Ne.features.push(Ae)}}function Hs(Ne,te,ee,ue,Ee,De){let He=ue*ue;if(ue>0&&te.size<(Ee?He:ue))return void(ee.numPoints+=te.length/3);let Ve=[];for(let Ae=0;Ae<te.length;Ae+=3)(ue===0||te[Ae+2]>He)&&(ee.numSimplified++,Ve.push(te[Ae],te[Ae+1])),ee.numPoints++;Ee&&function(Ae,Xe){let gt=0;for(let ct=0,Bt=Ae.length,Qt=Bt-2;ct<Bt;Qt=ct,ct+=2)gt+=(Ae[ct]-Ae[Qt])*(Ae[ct+1]+Ae[Qt+1]);if(gt>0===Xe)for(let ct=0,Bt=Ae.length;ct<Bt/2;ct+=2){let Qt=Ae[ct],_i=Ae[ct+1];Ae[ct]=Ae[Bt-2-ct],Ae[ct+1]=Ae[Bt-1-ct],Ae[Bt-2-ct]=Qt,Ae[Bt-1-ct]=_i}}(Ve,De),Ne.push(Ve)}let wl={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class ms{constructor(te,ee){let ue=(ee=this.options=function(De,He){for(let Ve in He)De[Ve]=He[Ve];return De}(Object.create(wl),ee)).debug;if(ue&&console.time("preprocess data"),ee.maxZoom<0||ee.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ee.promoteId&&ee.generateId)throw new Error("promoteId and generateId cannot be used together.");let Ee=function(De,He){let Ve=[];if(De.type==="FeatureCollection")for(let Ae=0;Ae<De.features.length;Ae++)ui(Ve,De.features[Ae],He,Ae);else ui(Ve,De.type==="Feature"?De:{geometry:De},He);return Ve}(te,ee);this.tiles={},this.tileCoords=[],ue&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ee.indexMaxZoom,ee.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ee=function(De,He){let Ve=He.buffer/He.extent,Ae=De,Xe=oa(De,1,-1-Ve,Ve,0,-1,2,He),gt=oa(De,1,1-Ve,2+Ve,0,-1,2,He);return(Xe||gt)&&(Ae=oa(De,1,-Ve,1+Ve,0,-1,2,He)||[],Xe&&(Ae=Hc(Xe,1).concat(Ae)),gt&&(Ae=Ae.concat(Hc(gt,-1)))),Ae}(Ee,ee),Ee.length&&this.splitTile(Ee,0,0,0),ue&&(Ee.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(te,ee,ue,Ee,De,He,Ve){let Ae=[te,ee,ue,Ee],Xe=this.options,gt=Xe.debug;for(;Ae.length;){Ee=Ae.pop(),ue=Ae.pop(),ee=Ae.pop(),te=Ae.pop();let ct=1<<ee,Bt=_r(ee,ue,Ee),Qt=this.tiles[Bt];if(!Qt&&(gt>1&&console.time("creation"),Qt=this.tiles[Bt]=Kn(te,ee,ue,Ee,Xe),this.tileCoords.push({z:ee,x:ue,y:Ee}),gt)){gt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ee,ue,Ee,Qt.numFeatures,Qt.numPoints,Qt.numSimplified),console.timeEnd("creation"));let Wn=`z${ee}`;this.stats[Wn]=(this.stats[Wn]||0)+1,this.total++}if(Qt.source=te,De==null){if(ee===Xe.indexMaxZoom||Qt.numPoints<=Xe.indexMaxPoints)continue}else{if(ee===Xe.maxZoom||ee===De)continue;if(De!=null){let Wn=De-ee;if(ue!==He>>Wn||Ee!==Ve>>Wn)continue}}if(Qt.source=null,te.length===0)continue;gt>1&&console.time("clipping");let _i=.5*Xe.buffer/Xe.extent,un=.5-_i,Xi=.5+_i,Ge=1+_i,mn=null,Ga=null,bi=null,ln=null,Ua=oa(te,ct,ue-_i,ue+Xi,0,Qt.minX,Qt.maxX,Xe),Sn=oa(te,ct,ue+un,ue+Ge,0,Qt.minX,Qt.maxX,Xe);te=null,Ua&&(mn=oa(Ua,ct,Ee-_i,Ee+Xi,1,Qt.minY,Qt.maxY,Xe),Ga=oa(Ua,ct,Ee+un,Ee+Ge,1,Qt.minY,Qt.maxY,Xe),Ua=null),Sn&&(bi=oa(Sn,ct,Ee-_i,Ee+Xi,1,Qt.minY,Qt.maxY,Xe),ln=oa(Sn,ct,Ee+un,Ee+Ge,1,Qt.minY,Qt.maxY,Xe),Sn=null),gt>1&&console.timeEnd("clipping"),Ae.push(mn||[],ee+1,2*ue,2*Ee),Ae.push(Ga||[],ee+1,2*ue,2*Ee+1),Ae.push(bi||[],ee+1,2*ue+1,2*Ee),Ae.push(ln||[],ee+1,2*ue+1,2*Ee+1)}}getTile(te,ee,ue){te=+te,ee=+ee,ue=+ue;let Ee=this.options,{extent:De,debug:He}=Ee;if(te<0||te>24)return null;let Ve=1<<te,Ae=_r(te,ee=ee+Ve&Ve-1,ue);if(this.tiles[Ae])return Zo(this.tiles[Ae],De);He>1&&console.log("drilling down to z%d-%d-%d",te,ee,ue);let Xe,gt=te,ct=ee,Bt=ue;for(;!Xe&&gt>0;)gt--,ct>>=1,Bt>>=1,Xe=this.tiles[_r(gt,ct,Bt)];return Xe&&Xe.source?(He>1&&(console.log("found parent tile z%d-%d-%d",gt,ct,Bt),console.time("drilling down")),this.splitTile(Xe.source,gt,ct,Bt,te,ee,ue),He>1&&console.timeEnd("drilling down"),this.tiles[Ae]?Zo(this.tiles[Ae],De):null):null}}function _r(Ne,te,ee){return 32*((1<<Ne)*ee+te)+Ne}class Il extends J{constructor(te,ee,ue,Ee=Tl){super(te,ee,ue),this._dataUpdateable=new Map,this._createGeoJSONIndex=Ee}loadVectorTile(te,ee){return n._(this,void 0,void 0,function*(){let ue=te.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");let Ee=this._geoJSONIndex.getTile(ue.z,ue.x,ue.y);return Ee?Y(new n.d2(Ee.features,{version:2,extent:n.a5})):null})}loadData(te){return n._(this,void 0,void 0,function*(){var ee;(ee=this._pendingRequest)===null||ee===void 0||ee.abort();let ue=this._startPerformance(te);this._pendingRequest=new AbortController;try{(!this._pendingData||te.request||te.data||te.dataDiff)&&(this._pendingData=this.loadAndProcessGeoJSON(te,this._pendingRequest));let Ee=yield this._pendingData;this._geoJSONIndex=this._createGeoJSONIndex(Ee,te),this.loaded={};let De={};return te.request&&(De.data=Ee),this._finishPerformance(ue,te,De),De}catch(Ee){if(delete this._pendingRequest,n.Z(Ee))return{abandoned:!0};throw Ee}})}_startPerformance(te){var ee;if(!((ee=te?.request)===null||ee===void 0)&&ee.collectResourceTiming)return new n.c_(te.request)}_finishPerformance(te,ee,ue){if(!te)return;let Ee=te.finish();Ee&&(ue.resourceTiming={},ue.resourceTiming[ee.source]=JSON.parse(JSON.stringify(Ee)))}getData(){return n._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(te){let ee=this.loaded;return ee&&ee[te.uid]?super.reloadTile(te):this.loadTile(te)}loadAndProcessGeoJSON(te,ee){return n._(this,void 0,void 0,function*(){let ue;if(te.request?ue=yield this.loadGeoJSONFromUrl(te.request,te.promoteId,ee):te.data?ue=this._loadGeoJSONFromObject(te.data,te.promoteId):te.dataDiff&&(ue=this._loadGeoJSONFromDiff(te.dataDiff,te.promoteId,te.source)),delete this._pendingRequest,typeof ue!="object")throw new Error(`Input data given to '${te.source}' is not a valid GeoJSON object.`);return bt(ue,!0),te.filter&&(ue=this._filterGeoJSON(ue,te.filter)),ue})}loadGeoJSONFromUrl(te,ee,ue){return n._(this,void 0,void 0,function*(){let Ee=yield n.j(te,ue);return this._dataUpdateable=n.a7(Ee.data,ee),Ee.data})}_loadGeoJSONFromObject(te,ee){return this._dataUpdateable=n.a7(te,ee),te}_loadGeoJSONFromDiff(te,ee,ue){if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${ue}`);n.a8(this._dataUpdateable,te,ee);let Ee=Array.from(this._dataUpdateable.values());return this._toFeatureCollection(Ee)}_filterGeoJSON(te,ee){let ue=n.d3(ee,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ue.result==="error")throw new Error(ue.value.map(De=>`${De.key}: ${De.message}`).join(", "));let Ee=te.features.filter(De=>ue.value.evaluate({zoom:0},De));return this._toFeatureCollection(Ee)}_toFeatureCollection(te){return{type:"FeatureCollection",features:te}}removeSource(te){return n._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(te){return this._geoJSONIndex.getClusterExpansionZoom(te.clusterId)}getClusterChildren(te){return this._geoJSONIndex.getChildren(te.clusterId)}getClusterLeaves(te){return this._geoJSONIndex.getLeaves(te.clusterId,te.limit,te.offset)}}function Tl(Ne,te){return te.cluster?new qt(function({superclusterOptions:ee,clusterProperties:ue}){if(!ue||!ee)return ee;let Ee={},De={},He={accumulated:null,zoom:0},Ve={properties:null},Ae=Object.keys(ue);for(let Xe of Ae){let[gt,ct]=ue[Xe],Bt=n.d3(ct),Qt=n.d3(typeof gt=="string"?[gt,["accumulated"],["get",Xe]]:gt);Ee[Xe]=Bt.value,De[Xe]=Qt.value}return ee.map=Xe=>{Ve.properties=Xe;let gt={};for(let ct of Ae)gt[ct]=Ee[ct].evaluate(He,Ve);return gt},ee.reduce=(Xe,gt)=>{Ve.properties=gt;for(let ct of Ae)He.accumulated=Xe[ct],Xe[ct]=De[ct].evaluate(He,Ve)},ee}(te)).load(Ne.features):function(ee,ue){return new ms(ee,ue)}(Ne,te.geojsonVtOptions)}class Io{constructor(te){this.self=te,this.actor=new n.L(te),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.globalStates=new Map,this.self.registerWorkerSource=(ee,ue)=>{if(this.externalWorkerSourceTypes[ee])throw new Error(`Worker source with name "${ee}" already registered.`);this.externalWorkerSourceTypes[ee]=ue},this.self.addProtocol=n.cJ,this.self.removeProtocol=n.cK,this.self.registerRTLTextPlugin=ee=>{n.d4.setMethods(ee)},this.actor.registerMessageHandler("LDT",(ee,ue)=>this._getDEMWorkerSource(ee,ue.source).loadTile(ue)),this.actor.registerMessageHandler("RDT",(ee,ue)=>n._(this,void 0,void 0,function*(){this._getDEMWorkerSource(ee,ue.source).removeTile(ue)})),this.actor.registerMessageHandler("GCEZ",(ee,ue)=>n._(this,void 0,void 0,function*(){return this._getWorkerSource(ee,ue.type,ue.source).getClusterExpansionZoom(ue)})),this.actor.registerMessageHandler("GCC",(ee,ue)=>n._(this,void 0,void 0,function*(){return this._getWorkerSource(ee,ue.type,ue.source).getClusterChildren(ue)})),this.actor.registerMessageHandler("GCL",(ee,ue)=>n._(this,void 0,void 0,function*(){return this._getWorkerSource(ee,ue.type,ue.source).getClusterLeaves(ue)})),this.actor.registerMessageHandler("LD",(ee,ue)=>this._getWorkerSource(ee,ue.type,ue.source).loadData(ue)),this.actor.registerMessageHandler("GD",(ee,ue)=>this._getWorkerSource(ee,ue.type,ue.source).getData()),this.actor.registerMessageHandler("LT",(ee,ue)=>this._getWorkerSource(ee,ue.type,ue.source).loadTile(ue)),this.actor.registerMessageHandler("RT",(ee,ue)=>this._getWorkerSource(ee,ue.type,ue.source).reloadTile(ue)),this.actor.registerMessageHandler("AT",(ee,ue)=>this._getWorkerSource(ee,ue.type,ue.source).abortTile(ue)),this.actor.registerMessageHandler("RMT",(ee,ue)=>this._getWorkerSource(ee,ue.type,ue.source).removeTile(ue)),this.actor.registerMessageHandler("RS",(ee,ue)=>n._(this,void 0,void 0,function*(){if(!this.workerSources[ee]||!this.workerSources[ee][ue.type]||!this.workerSources[ee][ue.type][ue.source])return;let Ee=this.workerSources[ee][ue.type][ue.source];delete this.workerSources[ee][ue.type][ue.source],Ee.removeSource!==void 0&&Ee.removeSource(ue)})),this.actor.registerMessageHandler("RM",ee=>n._(this,void 0,void 0,function*(){delete this.layerIndexes[ee],delete this.availableImages[ee],delete this.workerSources[ee],delete this.demWorkerSources[ee],this.globalStates.delete(ee)})),this.actor.registerMessageHandler("SR",(ee,ue)=>n._(this,void 0,void 0,function*(){this.referrer=ue})),this.actor.registerMessageHandler("SRPS",(ee,ue)=>this._syncRTLPluginState(ee,ue)),this.actor.registerMessageHandler("IS",(ee,ue)=>n._(this,void 0,void 0,function*(){this.self.importScripts(ue)})),this.actor.registerMessageHandler("SI",(ee,ue)=>this._setImages(ee,ue)),this.actor.registerMessageHandler("UL",(ee,ue)=>n._(this,void 0,void 0,function*(){this._getLayerIndex(ee).update(ue.layers,ue.removedIds,this._getGlobalState(ee))})),this.actor.registerMessageHandler("UGS",(ee,ue)=>n._(this,void 0,void 0,function*(){let Ee=this._getGlobalState(ee);for(let De in ue)Ee[De]=ue[De]})),this.actor.registerMessageHandler("SL",(ee,ue)=>n._(this,void 0,void 0,function*(){this._getLayerIndex(ee).replace(ue,this._getGlobalState(ee))}))}_getGlobalState(te){let ee=this.globalStates.get(te);return ee||(ee={},this.globalStates.set(te,ee)),ee}_setImages(te,ee){return n._(this,void 0,void 0,function*(){this.availableImages[te]=ee;for(let ue in this.workerSources[te]){let Ee=this.workerSources[te][ue];for(let De in Ee)Ee[De].availableImages=ee}})}_syncRTLPluginState(te,ee){return n._(this,void 0,void 0,function*(){return yield n.d4.syncState(ee,this.self.importScripts)})}_getAvailableImages(te){let ee=this.availableImages[te];return ee||(ee=[]),ee}_getLayerIndex(te){let ee=this.layerIndexes[te];return ee||(ee=this.layerIndexes[te]=new a),ee}_getWorkerSource(te,ee,ue){if(this.workerSources[te]||(this.workerSources[te]={}),this.workerSources[te][ee]||(this.workerSources[te][ee]={}),!this.workerSources[te][ee][ue]){let Ee={sendAsync:(De,He)=>(De.targetMapId=te,this.actor.sendAsync(De,He))};switch(ee){case"vector":this.workerSources[te][ee][ue]=new J(Ee,this._getLayerIndex(te),this._getAvailableImages(te));break;case"geojson":this.workerSources[te][ee][ue]=new Il(Ee,this._getLayerIndex(te),this._getAvailableImages(te));break;default:this.workerSources[te][ee][ue]=new this.externalWorkerSourceTypes[ee](Ee,this._getLayerIndex(te),this._getAvailableImages(te))}}return this.workerSources[te][ee][ue]}_getDEMWorkerSource(te,ee){return this.demWorkerSources[te]||(this.demWorkerSources[te]={}),this.demWorkerSources[te][ee]||(this.demWorkerSources[te][ee]=new ke),this.demWorkerSources[te][ee]}}return n.i(self)&&(self.worker=new Io(self)),Io}),e("index",["exports","./shared"],function(n,a){"use strict";var u="5.15.0";function b(){var y=new a.A(4);return a.A!=Float32Array&&(y[1]=0,y[2]=0),y[0]=1,y[3]=1,y}let T,D,R,U={frame(y,r,d){let h=requestAnimationFrame(v=>{f(),r(v)}),{unsubscribe:f}=a.s(y.signal,"abort",()=>{f(),cancelAnimationFrame(h),d(new a.a(y.signal.reason))},!1)},frameAsync(y){return new Promise((r,d)=>{this.frame(y,r,d)})},getImageData(y,r=0){return this.getImageCanvasContext(y).getImageData(-r,-r,y.width+2*r,y.height+2*r)},getImageCanvasContext(y){let r=window.document.createElement("canvas"),d=r.getContext("2d",{willReadFrequently:!0});if(!d)throw new Error("failed to create canvas 2d context");return r.width=y.width,r.height=y.height,d.drawImage(y,0,0,y.width,y.height),d},resolveURL:y=>(T||(T=document.createElement("a")),T.href=y,T.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return R!==void 0?R:!!matchMedia&&(D==null&&(D=matchMedia("(prefers-reduced-motion: reduce)")),D.matches)},set prefersReducedMotion(y){R=y}},Y=new class{constructor(){this._realTime=typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),this._frozenAt=null}getCurrentTime(){return this._frozenAt!==null?this._frozenAt:this._realTime()}setNow(y){this._frozenAt=y}restoreNow(){this._frozenAt=null}isFrozen(){return this._frozenAt!==null}};function oe(){return Y.getCurrentTime()}class J{static testProp(r){if(!J.docStyle)return r[0];for(let d=0;d<r.length;d++)if(r[d]in J.docStyle)return r[d];return r[0]}static create(r,d,h){let f=window.document.createElement(r);return d!==void 0&&(f.className=d),h&&h.appendChild(f),f}static createNS(r,d){return window.document.createElementNS(r,d)}static disableDrag(){J.docStyle&&J.selectProp&&(J.userSelect=J.docStyle[J.selectProp],J.docStyle[J.selectProp]="none")}static enableDrag(){J.docStyle&&J.selectProp&&(J.docStyle[J.selectProp]=J.userSelect)}static setTransform(r,d){r.style[J.transformProp]=d}static addEventListener(r,d,h,f={}){r.addEventListener(d,h,"passive"in f?f:f.capture)}static removeEventListener(r,d,h,f={}){r.removeEventListener(d,h,"passive"in f?f:f.capture)}static suppressClickInternal(r){r.preventDefault(),r.stopPropagation(),window.removeEventListener("click",J.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",J.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",J.suppressClickInternal,!0)},0)}static getScale(r){let d=r.getBoundingClientRect();return{x:d.width/r.offsetWidth||1,y:d.height/r.offsetHeight||1,boundingClientRect:d}}static getPoint(r,d,h){let f=d.boundingClientRect;return new a.P((h.clientX-f.left)/d.x-r.clientLeft,(h.clientY-f.top)/d.y-r.clientTop)}static mousePos(r,d){let h=J.getScale(r);return J.getPoint(r,h,d)}static touchPos(r,d){let h=[],f=J.getScale(r);for(let v=0;v<d.length;v++)h.push(J.getPoint(r,f,d[v]));return h}static mouseButton(r){return r.button}static remove(r){r.parentNode&&r.parentNode.removeChild(r)}static sanitize(r){let d=new DOMParser().parseFromString(r,"text/html").body||document.createElement("body"),h=d.querySelectorAll("script");for(let f of h)f.remove();return J.clean(d),d.innerHTML}static isPossiblyDangerous(r,d){let h=d.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(r)||!h.includes("javascript:")&&!h.includes("data:"))||!!r.startsWith("on")||void 0}static clean(r){let d=r.children;for(let h of d)J.removeAttributes(h),J.clean(h)}static removeAttributes(r){for(let{name:d,value:h}of r.attributes)J.isPossiblyDangerous(d,h)&&r.removeAttribute(d)}}J.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,J.selectProp=J.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),J.transformProp=J.testProp(["transform","WebkitTransform"]);let ke={supported:!1,testSupport:function(y){!et&&qe&&(bt?xt(y):Te=y)}},Te,qe,et=!1,bt=!1;function xt(y){let r=y.createTexture();y.bindTexture(y.TEXTURE_2D,r);try{if(y.texImage2D(y.TEXTURE_2D,0,y.RGBA,y.RGBA,y.UNSIGNED_BYTE,qe),y.isContextLost())return;ke.supported=!0}catch{}y.deleteTexture(r),et=!0}var lt;typeof document<"u"&&(qe=document.createElement("img"),qe.onload=()=>{Te&&xt(Te),Te=null,bt=!0},qe.onerror=()=>{et=!0,Te=null},qe.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(y){let r,d,h,f;y.resetRequestQueue=()=>{r=[],d=0,h=0,f={}},y.addThrottleControl=P=>{let F=h++;return f[F]=P,F},y.removeThrottleControl=P=>{delete f[P],w()},y.getImage=(P,F,B=!0)=>new Promise((j,H)=>{ke.supported&&(P.headers||(P.headers={}),P.headers.accept="image/webp,*/*"),a.e(P,{type:"image"}),r.push({abortController:F,requestParameters:P,supportImageRefresh:B,state:"queued",onError:W=>{H(W)},onSuccess:W=>{j(W)}}),w()});let v=P=>a._(this,void 0,void 0,function*(){P.state="running";let{requestParameters:F,supportImageRefresh:B,onError:j,onSuccess:H,abortController:W}=P,ne=B===!1&&!a.i(self)&&!a.g(F.url)&&(!F.headers||Object.keys(F.headers).reduce((me,be)=>me&&be==="accept",!0));d++;let he=ne?k(F,W):a.m(F,W);try{let me=yield he;delete P.abortController,P.state="completed",me.data instanceof HTMLImageElement||a.b(me.data)?H(me):me.data&&H({data:yield(fe=me.data,typeof createImageBitmap=="function"?a.f(fe):a.h(fe)),cacheControl:me.cacheControl,expires:me.expires})}catch(me){delete P.abortController,j(me)}finally{d--,w()}var fe}),w=()=>{let P=(()=>{for(let F of Object.keys(f))if(f[F]())return!0;return!1})()?a.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let F=d;F<P&&r.length>0;F++){let B=r.shift();B.abortController.signal.aborted?F--:v(B)}},k=(P,F)=>new Promise((B,j)=>{let H=new Image,W=P.url,ne=P.credentials;ne&&ne==="include"?H.crossOrigin="use-credentials":(ne&&ne==="same-origin"||!a.d(W))&&(H.crossOrigin="anonymous"),F.signal.addEventListener("abort",()=>{H.src="",j(new a.a(F.signal.reason))}),H.fetchPriority="high",H.onload=()=>{H.onerror=H.onload=null,B({data:H})},H.onerror=()=>{H.onerror=H.onload=null,F.signal.aborted||j(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},H.src=W})}(lt||(lt={})),lt.resetRequestQueue();class vt{constructor(r){this._transformRequestFn=r??null}transformRequest(r,d){return this._transformRequestFn&&this._transformRequestFn(r,d)||{url:r}}setTransformRequest(r){this._transformRequestFn=r}}function qt(y){let r=[];if(typeof y=="string")r.push({id:"default",url:y});else if(y&&y.length>0){let d=[];for(let{id:h,url:f}of y){let v=`${h}${f}`;d.indexOf(v)===-1&&(d.push(v),r.push({id:h,url:f}))}}return r}function Mt(y,r,d){try{let h=new URL(y);return h.pathname+=`${r}${d}`,h.toString()}catch{throw new Error(`Invalid sprite URL "${y}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}function Jt(y){let{userImage:r}=y;return!!(r&&r.render&&r.render())&&(y.data.replace(new Uint8Array(r.data.buffer)),!0)}class mi extends a.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.R({width:1,height:1}),this.dirty=!0}destroy(){this.atlasTexture&&(this.atlasTexture.destroy(),this.atlasTexture=null);for(let r of Object.keys(this.images))this.removeImage(r);this.patterns={},this.atlasImage=new a.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(r){if(this.loaded!==r&&(this.loaded=r,r)){for(let{ids:d,promiseResolve:h}of this.requestors)h(this._getImagesForIds(d));this.requestors=[]}}getImage(r){let d=this.images[r];if(d&&!d.data&&d.spriteData){let h=d.spriteData;d.data=new a.R({width:h.width,height:h.height},h.context.getImageData(h.x,h.y,h.width,h.height).data),d.spriteData=null}return d}addImage(r,d){if(this.images[r])throw new Error(`Image id ${r} already exist, use updateImage instead`);this._validate(r,d)&&(this.images[r]=d)}_validate(r,d){let h=!0,f=d.data||d.spriteData;return this._validateStretch(d.stretchX,f&&f.width)||(this.fire(new a.k(new Error(`Image "${r}" has invalid "stretchX" value`))),h=!1),this._validateStretch(d.stretchY,f&&f.height)||(this.fire(new a.k(new Error(`Image "${r}" has invalid "stretchY" value`))),h=!1),this._validateContent(d.content,d)||(this.fire(new a.k(new Error(`Image "${r}" has invalid "content" value`))),h=!1),h}_validateStretch(r,d){if(!r)return!0;let h=0;for(let f of r){if(f[0]<h||f[1]<f[0]||d<f[1])return!1;h=f[1]}return!0}_validateContent(r,d){if(!r)return!0;if(r.length!==4)return!1;let h=d.spriteData,f=h&&h.width||d.data.width,v=h&&h.height||d.data.height;return!(r[0]<0||f<r[0]||r[1]<0||v<r[1]||r[2]<0||f<r[2]||r[3]<0||v<r[3]||r[2]<r[0]||r[3]<r[1])}updateImage(r,d,h=!0){let f=this.getImage(r);if(h&&(f.data.width!==d.data.width||f.data.height!==d.data.height))throw new Error(`size mismatch between old image (${f.data.width}x${f.data.height}) and new image (${d.data.width}x${d.data.height}).`);d.version=f.version+1,this.images[r]=d,this.updatedImages[r]=!0}removeImage(r){let d=this.images[r];delete this.images[r],delete this.patterns[r],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(r){return new Promise((d,h)=>{let f=!0;if(!this.isLoaded())for(let v of r)this.images[v]||(f=!1);this.isLoaded()||f?d(this._getImagesForIds(r)):this.requestors.push({ids:r,promiseResolve:d})})}_getImagesForIds(r){let d={};for(let h of r){let f=this.getImage(h);f||(this.fire(new a.l("styleimagemissing",{id:h})),f=this.getImage(h)),f?d[h]={data:f.data.clone(),pixelRatio:f.pixelRatio,sdf:f.sdf,version:f.version,stretchX:f.stretchX,stretchY:f.stretchY,content:f.content,textFitWidth:f.textFitWidth,textFitHeight:f.textFitHeight,hasRenderCallback:!!(f.userImage&&f.userImage.render)}:a.w(`Image "${h}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return d}getPixelSize(){let{width:r,height:d}=this.atlasImage;return{width:r,height:d}}getPattern(r){let d=this.patterns[r],h=this.getImage(r);if(!h)return null;if(d&&d.position.version===h.version)return d.position;if(d)d.position.version=h.version;else{let f={w:h.data.width+2,h:h.data.height+2,x:0,y:0},v=new a.I(f,h);this.patterns[r]={bin:f,position:v}}return this._updatePatternAtlas(),this.patterns[r].position}bind(r){let d=r.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.T(r,this.atlasImage,d.RGBA),this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){let r=[];for(let v in this.patterns)r.push(this.patterns[v].bin);let{w:d,h}=a.p(r),f=this.atlasImage;f.resize({width:d||1,height:h||1});for(let v in this.patterns){let{bin:w}=this.patterns[v],k=w.x+1,P=w.y+1,F=this.getImage(v).data,B=F.width,j=F.height;a.R.copy(F,f,{x:0,y:0},{x:k,y:P},{width:B,height:j}),a.R.copy(F,f,{x:0,y:j-1},{x:k,y:P-1},{width:B,height:1}),a.R.copy(F,f,{x:0,y:0},{x:k,y:P+j},{width:B,height:1}),a.R.copy(F,f,{x:B-1,y:0},{x:k-1,y:P},{width:1,height:j}),a.R.copy(F,f,{x:0,y:0},{x:k+B,y:P},{width:1,height:j})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(r){for(let d of r){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;let h=this.getImage(d);h||a.w(`Image with ID: "${d}" was not found`),Jt(h)&&this.updateImage(d,h)}}cloneImages(){let r={};for(let d in this.images){let h=this.images[d];r[d]=Object.assign(Object.assign({},h),{data:h.data?h.data.clone():null})}return r}}let hi=1e20;function Si(y,r,d,h,f,v,w,k,P){for(let F=r;F<r+h;F++)Pn(y,d*v+F,v,f,w,k,P);for(let F=d;F<d+f;F++)Pn(y,F*v+r,1,h,w,k,P)}function Pn(y,r,d,h,f,v,w){v[0]=0,w[0]=-hi,w[1]=hi,f[0]=y[r];for(let k=1,P=0,F=0;k<h;k++){f[k]=y[r+k*d];let B=k*k;do{let j=v[P];F=(f[k]-f[j]+B-j*j)/(k-j)/2}while(F<=w[P]&&--P>-1);P++,v[P]=k,w[P]=F,w[P+1]=hi}for(let k=0,P=0;k<h;k++){for(;w[P+1]<k;)P++;let F=v[P],B=k-F;y[r+k*d]=f[F]+B*B}}let Aa=a.v.layout_symbol["text-font"].default.join(",");class Mi{constructor(r,d,h){this.requestManager=r,this.localIdeographFontFamily=d,this.entries={},this.lang=h}setURL(r){this.url=r}getGlyphs(r){return a._(this,void 0,void 0,function*(){let d=[];for(let v in r)for(let w of r[v])d.push(this._getAndCacheGlyphsPromise(v,w));let h=yield Promise.all(d),f={};for(let{stack:v,id:w,glyph:k}of h)f[v]||(f[v]={}),f[v][w]=k&&{id:k.id,bitmap:k.bitmap.clone(),metrics:k.metrics};return f})}_getAndCacheGlyphsPromise(r,d){return a._(this,void 0,void 0,function*(){let h=this.entries[r];h||(h=this.entries[r]={glyphs:{},requests:{},ranges:{}});let f=h.glyphs[d];return f!==void 0?{stack:r,id:d,glyph:f}:!this.url||this._charUsesLocalIdeographFontFamily(d)?(f=h.glyphs[d]=this._drawGlyph(h,r,d),{stack:r,id:d,glyph:f}):yield this._downloadAndCacheRangePromise(r,d)})}_downloadAndCacheRangePromise(r,d){return a._(this,void 0,void 0,function*(){let h=this.entries[r],f=Math.floor(d/256);if(h.ranges[f])return{stack:r,id:d,glyph:null};if(!h.requests[f]){let v=Mi.loadGlyphRange(r,f,this.url,this.requestManager);h.requests[f]=v}try{let v=yield h.requests[f];for(let w in v)h.glyphs[+w]=v[+w];return h.ranges[f]=!0,{stack:r,id:d,glyph:v[d]||null}}catch(v){let w=h.glyphs[d]=this._drawGlyph(h,r,d);return this._warnOnMissingGlyphRange(w,f,d,v),{stack:r,id:d,glyph:w}}})}_warnOnMissingGlyphRange(r,d,h,f){let v=256*d,w=v+255,k=h.toString(16).padStart(4,"0").toUpperCase();a.w(`Unable to load glyph range ${d}, ${v}-${w}. Rendering codepoint U+${k} locally instead. ${f}`)}_charUsesLocalIdeographFontFamily(r){return!!this.localIdeographFontFamily&&a.q(r)}_drawGlyph(r,d,h){let f=d===Aa&&this.localIdeographFontFamily!==""&&this._charUsesLocalIdeographFontFamily(h),v=f?"ideographTinySDF":"tinySDF";r[v]||(r[v]=this._createTinySDF(f?this.localIdeographFontFamily:d));let w=r[v].draw(String.fromCodePoint(h));return{id:h,bitmap:new a.r({width:w.width||60,height:w.height||60},w.data),metrics:{width:w.glyphWidth/2||24,height:w.glyphHeight/2||24,left:w.glyphLeft/2+.5||0,top:w.glyphTop/2-27.5||-8,advance:w.glyphAdvance/2||24,isDoubleResolution:!0}}}_createTinySDF(r){let d=r?r.split(","):[];d.push("sans-serif");let h=d.map(f=>/[-\w]+/.test(f)?f:`'${CSS.escape(f)}'`).join(",");return new Mi.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:h,fontWeight:this._fontWeight(d[0]),fontStyle:this._fontStyle(d[0]),lang:this.lang})}_fontStyle(r){return/italic/i.test(r)?"italic":/oblique/i.test(r)?"oblique":"normal"}_fontWeight(r){let d={thin:100,hairline:100,"extra light":200,"ultra light":200,light:300,normal:400,regular:400,medium:500,semibold:600,demibold:600,bold:700,"extra bold":800,"ultra bold":800,black:900,heavy:900,"extra black":950,"ultra black":950},h;for(let[f,v]of Object.entries(d))new RegExp(`\\b${f}\\b`,"i").test(r)&&(h=`${v}`);return h}destroy(){for(let r in this.entries){let d=this.entries[r];d.tinySDF&&(d.tinySDF=null),d.ideographTinySDF&&(d.ideographTinySDF=null),d.glyphs={},d.requests={},d.ranges={}}this.entries={}}}Mi.loadGlyphRange=function(y,r,d,h){return a._(this,void 0,void 0,function*(){let f=256*r,v=f+255,w=h.transformRequest(d.replace("{fontstack}",y).replace("{range}",`${f}-${v}`),"Glyphs"),k=yield a.n(w,new AbortController);if(!k||!k.data)throw new Error(`Could not load glyph range. range: ${r}, ${f}-${v}`);let P={};for(let F of a.o(k.data))P[F.id]=F;return P})},Mi.TinySDF=class{constructor({fontSize:y=24,buffer:r=3,radius:d=8,cutoff:h=.25,fontFamily:f="sans-serif",fontWeight:v="normal",fontStyle:w="normal",lang:k=null}={}){this.buffer=r,this.cutoff=h,this.radius=d,this.lang=k;let P=this.size=y+4*r,F=this._createCanvas(P),B=this.ctx=F.getContext("2d",{willReadFrequently:!0});B.font=`${w} ${v} ${y}px ${f}`,B.textBaseline="alphabetic",B.textAlign="left",B.fillStyle="black",this.gridOuter=new Float64Array(P*P),this.gridInner=new Float64Array(P*P),this.f=new Float64Array(P),this.z=new Float64Array(P+1),this.v=new Uint16Array(P)}_createCanvas(y){let r=document.createElement("canvas");return r.width=r.height=y,r}draw(y){let{width:r,actualBoundingBoxAscent:d,actualBoundingBoxDescent:h,actualBoundingBoxLeft:f,actualBoundingBoxRight:v}=this.ctx.measureText(y),w=Math.ceil(d),k=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(v-f))),P=Math.min(this.size-this.buffer,w+Math.ceil(h)),F=k+2*this.buffer,B=P+2*this.buffer,j=Math.max(F*B,0),H=new Uint8ClampedArray(j),W={data:H,width:F,height:B,glyphWidth:k,glyphHeight:P,glyphTop:w,glyphLeft:0,glyphAdvance:r};if(k===0||P===0)return W;let{ctx:ne,buffer:he,gridInner:fe,gridOuter:me}=this;this.lang&&(ne.lang=this.lang),ne.clearRect(he,he,k,P),ne.fillText(y,he,he+w);let be=ne.getImageData(he,he,k,P);me.fill(hi,0,j),fe.fill(0,0,j);for(let Me=0;Me<P;Me++)for(let _e=0;_e<k;_e++){let Se=be.data[4*(Me*k+_e)+3]/255;if(Se===0)continue;let Pe=(Me+he)*F+_e+he;if(Se===1)me[Pe]=0,fe[Pe]=hi;else{let Ie=.5-Se;me[Pe]=Ie>0?Ie*Ie:0,fe[Pe]=Ie<0?Ie*Ie:0}}Si(me,0,0,F,B,F,this.f,this.v,this.z),Si(fe,he,he,k,P,F,this.f,this.v,this.z);for(let Me=0;Me<j;Me++){let _e=Math.sqrt(me[Me])-Math.sqrt(fe[Me]);H[Me]=Math.round(255-255*(_e/this.radius+this.cutoff))}return W}};class en{constructor(){this.specification=a.u.light.position}possiblyEvaluate(r,d){return a.F(r.expression.evaluate(d))}interpolate(r,d,h){return{x:a.G.number(r.x,d.x,h),y:a.G.number(r.y,d.y,h),z:a.G.number(r.z,d.z,h)}}}let ui;class Oa extends a.E{constructor(r){super(),ui=ui||new a.t({anchor:new a.D(a.u.light.anchor),position:new en,color:new a.D(a.u.light.color),intensity:new a.D(a.u.light.intensity)}),this._transitionable=new a.x(ui,void 0),this.setLight(r),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(r,d={}){if(!this._validate(a.y,r,d))for(let h in r){let f=r[h];h.endsWith(a.z)?this._transitionable.setTransition(h.slice(0,-a.z.length),f):this._transitionable.setValue(h,f)}}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,d,h){return(!h||h.validate!==!1)&&a.B(this,r.call(a.C,{value:d,style:{glyphs:!0,sprite:!0},styleSpec:a.u}))}}let Cn=new a.t({"sky-color":new a.D(a.u.sky["sky-color"]),"horizon-color":new a.D(a.u.sky["horizon-color"]),"fog-color":new a.D(a.u.sky["fog-color"]),"fog-ground-blend":new a.D(a.u.sky["fog-ground-blend"]),"horizon-fog-blend":new a.D(a.u.sky["horizon-fog-blend"]),"sky-horizon-blend":new a.D(a.u.sky["sky-horizon-blend"]),"atmosphere-blend":new a.D(a.u.sky["atmosphere-blend"])});class Bo extends a.E{constructor(r){super(),this._transitionable=new a.x(Cn,void 0),this.setSky(r),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new a.H(0))}setSky(r,d={}){if(!this._validate(a.J,r,d)){r||(r={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(let h in r){let f=r[h];h.endsWith(a.z)?this._transitionable.setTransition(h.slice(0,-a.z.length),f):this._transitionable.setValue(h,f)}}}getSky(){return this._transitionable.serialize()}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,d,h={}){return h?.validate!==!1&&a.B(this,r.call(a.C,a.e({value:d,style:{glyphs:!0,sprite:!0},styleSpec:a.u})))}calculateFogBlendOpacity(r){return r<60?0:r<70?(r-60)/10:1}}class Or{constructor(r,d){this.width=r,this.height=d,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(r,d){let h=r.join(",")+String(d);return this.dashEntry[h]||(this.dashEntry[h]=this.addDash(r,d)),this.dashEntry[h]}getDashRanges(r,d,h){let f=[],v=r.length%2==1?-r[r.length-1]*h:0,w=r[0]*h,k=!0;f.push({left:v,right:w,isDash:k,zeroLength:r[0]===0});let P=r[0];for(let F=1;F<r.length;F++){k=!k;let B=r[F];v=P*h,P+=B,w=P*h,f.push({left:v,right:w,isDash:k,zeroLength:B===0})}return f}addRoundDash(r,d,h){let f=d/2;for(let v=-h;v<=h;v++){let w=this.width*(this.nextRow+h+v),k=0,P=r[k];for(let F=0;F<this.width;F++){F/P.right>1&&(P=r[++k]);let B=Math.abs(F-P.left),j=Math.abs(F-P.right),H=Math.min(B,j),W,ne=v/h*(f+1);if(P.isDash){let he=f-Math.abs(ne);W=Math.sqrt(H*H+he*he)}else W=f-Math.sqrt(H*H+ne*ne);this.data[w+F]=Math.max(0,Math.min(255,W+128))}}}addRegularDash(r){for(let k=r.length-1;k>=0;--k){let P=r[k],F=r[k+1];P.zeroLength?r.splice(k,1):F&&F.isDash===P.isDash&&(F.left=P.left,r.splice(k,1))}let d=r[0],h=r[r.length-1];d.isDash===h.isDash&&(d.left=h.left-this.width,h.right=d.right+this.width);let f=this.width*this.nextRow,v=0,w=r[v];for(let k=0;k<this.width;k++){k/w.right>1&&(w=r[++v]);let P=Math.abs(k-w.left),F=Math.abs(k-w.right),B=Math.min(P,F);this.data[f+k]=Math.max(0,Math.min(255,(w.isDash?B:-B)+128))}}addDash(r,d){let h=d?7:0,f=2*h+1;if(this.nextRow+f>this.height)return a.w("LineAtlas out of space"),null;let v=0;for(let k=0;k<r.length;k++)v+=r[k];if(v!==0){let k=this.width/v,P=this.getDashRanges(r,this.width,k);d?this.addRoundDash(P,k,h):this.addRegularDash(P)}let w={y:this.nextRow+h,height:2*h,width:v};return this.nextRow+=f,this.dirty=!0,w}bind(r){let d=r.gl;this.texture?(d.bindTexture(d.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.width,this.height,d.ALPHA,d.UNSIGNED_BYTE,this.data))):(this.texture=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,this.width,this.height,0,d.ALPHA,d.UNSIGNED_BYTE,this.data))}}let wo="maplibre_preloaded_worker_pool";class oa{constructor(){this.active={}}acquire(r){if(!this.workers)for(this.workers=[];this.workers.length<oa.workerCount;)this.workers.push(new Worker(a.c.WORKER_URL));return this.active[r]=!0,this.workers.slice()}release(r){delete this.active[r],this.numActive()===0&&(this.workers.forEach(d=>{d.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[wo]}numActive(){return Object.keys(this.active).length}}let Ta=Math.floor(U.hardwareConcurrency/2),lo,$n;function qs(){return lo||(lo=new oa),lo}oa.workerCount=a.K(globalThis)?Math.max(Math.min(Ta,3),1):1;class fr{constructor(r,d){this.workerPool=r,this.actors=[],this.currentActor=0,this.id=d;let h=this.workerPool.acquire(d);for(let f=0;f<h.length;f++){let v=new a.L(h[f],d);v.name=`Worker ${f}`,this.actors.push(v)}if(!this.actors.length)throw new Error("No actors found")}broadcast(r,d){let h=[];for(let f of this.actors)h.push(f.sendAsync({type:r,data:d}));return Promise.all(h)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(r=!0){this.actors.forEach(d=>{d.remove()}),this.actors=[],r&&this.workerPool.release(this.id)}registerMessageHandler(r,d){for(let h of this.actors)h.registerMessageHandler(r,d)}unregisterMessageHandler(r){for(let d of this.actors)d.unregisterMessageHandler(r)}}function qc(){return $n||($n=new fr(qs(),a.M),$n.registerMessageHandler("GR",(y,r,d)=>a.m(r,d))),$n}function gr(y,r){let d=a.N();return a.O(d,d,[1,1,0]),a.Q(d,d,[.5*y.width,.5*y.height,1]),y.calculatePosMatrix?a.S(d,d,y.calculatePosMatrix(r.toUnwrapped())):d}function Hc(y,r,d,h,f,v,w){var k;let P=function(H,W,ne){if(H)for(let he of H){let fe=W[he];if(fe&&fe.source===ne&&fe.type==="fill-extrusion")return!0}else for(let he in W){let fe=W[he];if(fe.source===ne&&fe.type==="fill-extrusion")return!0}return!1}((k=f?.layers)!==null&&k!==void 0?k:null,r,y.id),F=v.maxPitchScaleFactor(),B=y.tilesIn(h,F,P);B.sort(Fa);let j=[];for(let H of B)j.push({wrappedTileID:H.tileID.wrapped().key,queryResults:H.tile.queryRenderedFeatures(r,d,y.getState(),H.queryGeometry,H.cameraQueryGeometry,H.scale,f,v,F,gr(v,H.tileID),w?(W,ne)=>w(H.tileID,W,ne):void 0)});return function(H,W){for(let ne in H)for(let he of H[ne])Zo(he,W);return H}(function(H){let W={},ne={};for(let he of H){let fe=he.queryResults,me=he.wrappedTileID,be=ne[me]=ne[me]||{};for(let Me in fe){let _e=fe[Me],Se=be[Me]=be[Me]||{},Pe=W[Me]=W[Me]||[];for(let Ie of _e)Se[Ie.featureIndex]||(Se[Ie.featureIndex]=!0,Pe.push(Ie))}}return W}(j),y)}function Fa(y,r){let d=y.tileID,h=r.tileID;return d.overscaledZ-h.overscaledZ||d.canonical.y-h.canonical.y||d.wrap-h.wrap||d.canonical.x-h.canonical.x}function Zo(y,r){let d=y.feature,h=r.getFeatureState(d.layer["source-layer"],d.id);d.source=d.layer.source,d.layer["source-layer"]&&(d.sourceLayer=d.layer["source-layer"]),d.state=h}function Fr(y,r,d){return a._(this,void 0,void 0,function*(){let h=y;if(y.url?h=(yield a.j(r.transformRequest(y.url,"Source"),d)).data:yield U.frameAsync(d),!h)return null;let f=a.U(a.e(h,y),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in h&&h.vector_layers&&(f.vectorLayerIds=h.vector_layers.map(v=>v.id)),f})}class Kn{constructor(r,d){r&&(d?this.setSouthWest(r).setNorthEast(d):Array.isArray(r)&&(r.length===4?this.setSouthWest([r[0],r[1]]).setNorthEast([r[2],r[3]]):this.setSouthWest(r[0]).setNorthEast(r[1])))}setNorthEast(r){return this._ne=r instanceof a.V?new a.V(r.lng,r.lat):a.V.convert(r),this}setSouthWest(r){return this._sw=r instanceof a.V?new a.V(r.lng,r.lat):a.V.convert(r),this}extend(r){let d=this._sw,h=this._ne,f,v;if(r instanceof a.V)f=r,v=r;else{if(!(r instanceof Kn))return Array.isArray(r)?r.length===4||r.every(Array.isArray)?this.extend(Kn.convert(r)):this.extend(a.V.convert(r)):r&&("lng"in r||"lon"in r)&&"lat"in r?this.extend(a.V.convert(r)):this;if(f=r._sw,v=r._ne,!f||!v)return this}return d||h?(d.lng=Math.min(f.lng,d.lng),d.lat=Math.min(f.lat,d.lat),h.lng=Math.max(v.lng,h.lng),h.lat=Math.max(v.lat,h.lat)):(this._sw=new a.V(f.lng,f.lat),this._ne=new a.V(v.lng,v.lat)),this}getCenter(){return new a.V((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.V(this.getWest(),this.getNorth())}getSouthEast(){return new a.V(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(r){let{lng:d,lat:h}=a.V.convert(r),f=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(f=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=h&&h<=this._ne.lat&&f}intersects(r){if(!((r=Kn.convert(r)).getNorth()>=this.getSouth()&&r.getSouth()<=this.getNorth()))return!1;let d=Math.abs(this.getEast()-this.getWest()),h=Math.abs(r.getEast()-r.getWest());if(d>=360||h>=360)return!0;let f=a.W(this.getWest(),-180,180),v=a.W(this.getEast(),-180,180),w=a.W(r.getWest(),-180,180),k=a.W(r.getEast(),-180,180),P=f>=v,F=w>=k;return!(!P||!F)||(P?k>=f||w<=v:F?v>=w||f<=k:w<=v&&k>=f)}static convert(r){return r instanceof Kn?r:r&&new Kn(r)}static fromLngLat(r,d=0){let h=360*d/40075017,f=h/Math.cos(Math.PI/180*r.lat);return new Kn(new a.V(r.lng-f,r.lat-h),new a.V(r.lng+f,r.lat+h))}adjustAntiMeridian(){let r=new a.V(this._sw.lng,this._sw.lat),d=new a.V(this._ne.lng,this._ne.lat);return new Kn(r,r.lng>d.lng?new a.V(d.lng+360,d.lat):d)}}class hs{constructor(r,d,h){this.bounds=Kn.convert(this.validateBounds(r)),this.minzoom=d||0,this.maxzoom=h||24}validateBounds(r){return Array.isArray(r)&&r.length===4?[Math.max(-180,r[0]),Math.max(-90,r[1]),Math.min(180,r[2]),Math.min(90,r[3])]:[-180,-90,180,90]}contains(r){let d=Math.pow(2,r.z),h=Math.floor(a.Y(this.bounds.getWest())*d),f=Math.floor(a.X(this.bounds.getNorth())*d),v=Math.ceil(a.Y(this.bounds.getEast())*d),w=Math.ceil(a.X(this.bounds.getSouth())*d);return r.x>=h&&r.x<v&&r.y>=f&&r.y<w}}class Hs extends a.E{constructor(r,d,h,f){if(super(),this.id=r,this.dispatcher=h,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.e(this,a.U(d,["url","scheme","tileSize","promoteId","encoding"])),this._options=a.e({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(f)}load(){return a._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let r=yield Fr(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.tileManagers[this.id].clearTiles(),r&&(a.e(this,r),r.bounds&&(this.tileBounds=new hs(r.bounds,this.minzoom,this.maxzoom)),this.fire(new a.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.l("data",{dataType:"source",sourceDataType:"content"})))}catch(r){this._tileJSONRequest=null,this._loaded=!0,a.Z(r)||this.fire(new a.k(r))}})}loaded(){return this._loaded}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}onAdd(r){this.map=r,this.load()}setSourceProperty(r){this._tileJSONRequest&&this._tileJSONRequest.abort(),r(),this.load()}setTiles(r){return this.setSourceProperty(()=>{this._options.tiles=r}),this}setUrl(r){return this.setSourceProperty(()=>{this.url=r,this._options.url=r}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return a.e({},this._options)}loadTile(r){return a._(this,void 0,void 0,function*(){let d=r.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),h={request:this.map._requestManager.transformRequest(d,"Tile"),uid:r.uid,tileID:r.tileID,zoom:r.tileID.overscaledZ,tileSize:this.tileSize*r.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,encoding:this.encoding,overzoomParameters:this._getOverzoomParameters(r)};h.request.collectResourceTiming=this._collectResourceTiming;let f="RT";if(r.actor&&r.state!=="expired"){if(r.state==="loading")return new Promise((v,w)=>{r.reloadPromise={resolve:v,reject:w}})}else r.actor=this.dispatcher.getActor(),f="LT";r.abortController=new AbortController;try{let v=yield r.actor.sendAsync({type:f,data:h},r.abortController);if(delete r.abortController,r.aborted)return;this._afterTileLoadWorkerResponse(r,v)}catch(v){if(delete r.abortController,r.aborted)return;if(v&&v.status!==404)throw v;this._afterTileLoadWorkerResponse(r,null)}})}_getOverzoomParameters(r){if(r.tileID.canonical.z<=this.maxzoom||this.map._zoomLevelsToOverscale===void 0)return;let d=r.tileID.scaledTo(this.maxzoom).canonical,h=d.url(this.tiles,this.map.getPixelRatio(),this.scheme);return{maxZoomTileID:d,overzoomRequest:this.map._requestManager.transformRequest(h,"Tile")}}_afterTileLoadWorkerResponse(r,d){if(d&&d.resourceTiming&&(r.resourceTiming=d.resourceTiming),d&&this.map._refreshExpiredTiles&&r.setExpiryData(d),r.loadVectorData(d,this.map.painter),r.reloadPromise){let h=r.reloadPromise;r.reloadPromise=null,this.loadTile(r).then(h.resolve).catch(h.reject)}}abortTile(r){return a._(this,void 0,void 0,function*(){r.abortController&&(r.abortController.abort(),delete r.abortController),r.actor&&(yield r.actor.sendAsync({type:"AT",data:{uid:r.uid,type:this.type,source:this.id}}))})}unloadTile(r){return a._(this,void 0,void 0,function*(){r.unloadVectorData(),r.actor&&(yield r.actor.sendAsync({type:"RMT",data:{uid:r.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class wl extends a.E{constructor(r,d,h,f){super(),this.id=r,this.dispatcher=h,this.setEventedParent(f),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.e({type:"raster"},d),a.e(this,a.U(d,["url","scheme","tileSize"]))}load(){return a._(this,arguments,void 0,function*(r=!1){this._loaded=!1,this.fire(new a.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let d=yield Fr(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,d&&(a.e(this,d),d.bounds&&(this.tileBounds=new hs(d.bounds,this.minzoom,this.maxzoom)),this.fire(new a.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:r})))}catch(d){this._tileJSONRequest=null,this._loaded=!0,a.Z(d)||this.fire(new a.k(d))}})}loaded(){return this._loaded}onAdd(r){this.map=r,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(r){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),r(),this.load(!0)}setTiles(r){return this.setSourceProperty(()=>{this._options.tiles=r}),this}setUrl(r){return this.setSourceProperty(()=>{this.url=r,this._options.url=r}),this}serialize(){return a.e({},this._options)}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}loadTile(r){return a._(this,void 0,void 0,function*(){let d=r.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);r.abortController=new AbortController;try{let h=yield lt.getImage(this.map._requestManager.transformRequest(d,"Tile"),r.abortController,this.map._refreshExpiredTiles);if(delete r.abortController,r.aborted)return void(r.state="unloaded");if(h&&h.data){this.map._refreshExpiredTiles&&(h.cacheControl||h.expires)&&r.setExpiryData({cacheControl:h.cacheControl,expires:h.expires});let f=this.map.painter.context,v=f.gl,w=h.data;r.texture=this.map.painter.getTileTexture(w.width),r.texture?r.texture.update(w,{useMipmap:!0}):(r.texture=new a.T(f,w,v.RGBA,{useMipmap:!0}),r.texture.bind(v.LINEAR,v.CLAMP_TO_EDGE,v.LINEAR_MIPMAP_NEAREST)),r.state="loaded"}}catch(h){if(delete r.abortController,r.aborted)r.state="unloaded";else if(h)throw r.state="errored",h}})}abortTile(r){return a._(this,void 0,void 0,function*(){r.abortController&&(r.abortController.abort(),delete r.abortController)})}unloadTile(r){return a._(this,void 0,void 0,function*(){r.texture&&this.map.painter.saveTileTexture(r.texture)})}hasTransition(){return!1}}class ms extends wl{constructor(r,d,h,f){super(r,d,h,f),this.type="raster-dem",this.maxzoom=22,this._options=a.e({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox",this.redFactor=d.redFactor,this.greenFactor=d.greenFactor,this.blueFactor=d.blueFactor,this.baseShift=d.baseShift}loadTile(r){return a._(this,void 0,void 0,function*(){let d=r.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),h=this.map._requestManager.transformRequest(d,"Tile");r.neighboringTiles=this._getNeighboringTiles(r.tileID),r.abortController=new AbortController;try{let f=yield lt.getImage(h,r.abortController,this.map._refreshExpiredTiles);if(delete r.abortController,r.aborted)return void(r.state="unloaded");if(f&&f.data){let v=f.data;this.map._refreshExpiredTiles&&(f.cacheControl||f.expires)&&r.setExpiryData({cacheControl:f.cacheControl,expires:f.expires});let w=a.b(v)&&a.$()?v:yield this.readImageNow(v),k={type:this.type,uid:r.uid,source:this.id,rawImageData:w,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!r.actor||r.state==="expired"){r.actor=this.dispatcher.getActor();let P=yield r.actor.sendAsync({type:"LDT",data:k});r.dem=P,r.needsHillshadePrepare=!0,r.needsTerrainPrepare=!0,r.state="loaded"}}}catch(f){if(delete r.abortController,r.aborted)r.state="unloaded";else if(f)throw r.state="errored",f}})}readImageNow(r){return a._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&a.a0()){let d=r.width+2,h=r.height+2;try{return new a.R({width:d,height:h},yield a.a1(r,-1,-1,d,h))}catch{}}return U.getImageData(r,1)})}_getNeighboringTiles(r){let d=r.canonical,h=Math.pow(2,d.z),f=(d.x-1+h)%h,v=d.x===0?r.wrap-1:r.wrap,w=(d.x+1+h)%h,k=d.x+1===h?r.wrap+1:r.wrap,P={};return P[new a.a2(r.overscaledZ,v,d.z,f,d.y).key]={backfilled:!1},P[new a.a2(r.overscaledZ,k,d.z,w,d.y).key]={backfilled:!1},d.y>0&&(P[new a.a2(r.overscaledZ,v,d.z,f,d.y-1).key]={backfilled:!1},P[new a.a2(r.overscaledZ,r.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},P[new a.a2(r.overscaledZ,k,d.z,w,d.y-1).key]={backfilled:!1}),d.y+1<h&&(P[new a.a2(r.overscaledZ,v,d.z,f,d.y+1).key]={backfilled:!1},P[new a.a2(r.overscaledZ,r.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},P[new a.a2(r.overscaledZ,k,d.z,w,d.y+1).key]={backfilled:!1}),P}unloadTile(r){return a._(this,void 0,void 0,function*(){r.demTexture&&this.map.painter.saveTileTexture(r.demTexture),r.fbo&&(r.fbo.destroy(),delete r.fbo),r.dem&&delete r.dem,delete r.neighboringTiles,r.state="unloaded",r.actor&&(yield r.actor.sendAsync({type:"RDT",data:{type:this.type,uid:r.uid,source:this.id}}))})}}function _r(y){return y.type==="GeometryCollection"?y.geometries.map(r=>r.coordinates).flat(1/0):y.coordinates.flat(1/0)}function Il(y){let r=new Kn,d;switch(y.type){case"FeatureCollection":d=y.features.map(h=>_r(h.geometry)).flat(1/0);break;case"Feature":d=_r(y.geometry);break;default:d=_r(y)}if(d.length==0)return r;for(let h=0;h<d.length-1;h+=2)r.extend([d[h],d[h+1]]);return r}class Tl extends a.E{constructor(r,d,h,f){super(),this.id=r,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._isUpdatingWorker=!1,this._pendingWorkerUpdate={data:d.data},this.actor=h.getActor(),this.setEventedParent(f),this._data=typeof d.data=="string"?{url:d.data}:{geojson:d.data},this._options=a.e({},d),this._collectResourceTiming=d.collectResourceTiming,d.maxzoom!==void 0&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId,d.clusterMaxZoom!==void 0&&this.maxzoom<=d.clusterMaxZoom&&a.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${d.clusterMaxZoom}".`),this.workerOptions=a.e({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(d.buffer!==void 0?d.buffer:128),tolerance:this._pixelsToTileUnits(d.tolerance!==void 0?d.tolerance:.375),extent:a.a5,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:this._getClusterMaxZoom(d.clusterMaxZoom),minPoints:Math.max(2,d.clusterMinPoints||2),extent:a.a5,radius:this._pixelsToTileUnits(d.clusterRadius||50),log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_hasPendingWorkerUpdate(){return this._pendingWorkerUpdate.data!==void 0||this._pendingWorkerUpdate.diff!==void 0||this._pendingWorkerUpdate.optionsChanged}_pixelsToTileUnits(r){return r*(a.a5/this.tileSize)}_getClusterMaxZoom(r){let d=r?Math.round(r):this.maxzoom-1;return Number.isInteger(r)||r===void 0||a.w(`Integer expected for option 'clusterMaxZoom': provided value "${r}" rounded to "${d}"`),d}load(){return a._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(r){this.map=r,this.load()}setData(r,d){this._data=typeof r=="string"?{url:r}:{geojson:r},this._pendingWorkerUpdate={data:r};let h=this._updateWorkerData();return d?h:this}updateData(r,d){this._pendingWorkerUpdate.diff=a.a6(this._pendingWorkerUpdate.diff,r);let h=this._updateWorkerData();return d?h:this}getData(){return a._(this,void 0,void 0,function*(){let r=a.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:r})})}getBounds(){return a._(this,void 0,void 0,function*(){return Il(yield this.getData())})}setClusterOptions(r){return this.workerOptions.cluster=r.cluster,r.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(r.clusterRadius)),r.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=this._getClusterMaxZoom(r.clusterMaxZoom)),this._pendingWorkerUpdate.optionsChanged=!0,this._updateWorkerData(),this}getClusterExpansionZoom(r){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:r,source:this.id}})}getClusterChildren(r){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:r,source:this.id}})}getClusterLeaves(r,d,h){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:r,limit:d,offset:h}})}_updateWorkerData(){return a._(this,void 0,void 0,function*(){if(this._isUpdatingWorker)return;if(!this._hasPendingWorkerUpdate())return void a.w(`No pending worker updates for GeoJSONSource ${this.id}.`);let{data:r,diff:d}=this._pendingWorkerUpdate,h=a.e({type:this.type},this.workerOptions);r!==void 0?(typeof r=="string"?(h.request=this.map._requestManager.transformRequest(U.resolveURL(r),"Source"),h.request.collectResourceTiming=this._collectResourceTiming):h.data=r,this._pendingWorkerUpdate.data=void 0):d&&(h.dataDiff=d,this._pendingWorkerUpdate.diff=void 0),this._pendingWorkerUpdate.optionsChanged=void 0,this._isUpdatingWorker=!0,this.fire(new a.l("dataloading",{dataType:"source"}));try{let f=yield this.actor.sendAsync({type:"LD",data:h});if(this._isUpdatingWorker=!1,this._removed||f.abandoned)return void this.fire(new a.l("dataabort",{dataType:"source"}));f.data&&(this._data={geojson:f.data});let v=this._applyDiffToSource(d),w=this._getShouldReloadTileOptions(v),k=null;f.resourceTiming&&f.resourceTiming[this.id]&&(k=f.resourceTiming[this.id].slice(0));let P={dataType:"source"};this._collectResourceTiming&&k&&k.length>0&&a.e(P,{resourceTiming:k}),this.fire(new a.l("data",Object.assign(Object.assign({},P),{sourceDataType:"metadata"}))),this.fire(new a.l("data",Object.assign(Object.assign({},P),{sourceDataType:"content",shouldReloadTileOptions:w})))}catch(f){if(this._isUpdatingWorker=!1,this._removed)return void this.fire(new a.l("dataabort",{dataType:"source"}));this.fire(new a.k(f))}finally{this._hasPendingWorkerUpdate()&&this._updateWorkerData()}})}_applyDiffToSource(r){if(!r)return;let d=typeof this.promoteId=="string"?this.promoteId:void 0;if(!this._data.url&&!this._data.updateable){let f=a.a7(this._data.geojson,d);if(!f)throw new Error(`GeoJSONSource "${this.id}": GeoJSON data is not compatible with updateData`);this._data={updateable:f}}if(!this._data.updateable)return;let h=a.a8(this._data.updateable,r,d);return r.removeAll||this._options.cluster?void 0:h}_getShouldReloadTileOptions(r){if(r)return{affectedBounds:r.filter(Boolean).map(d=>Il(d))}}shouldReloadTile(r,{affectedBounds:d}){if(r.state==="loading")return!0;if(r.state==="unloaded")return!1;let{buffer:h,extent:f}=this.workerOptions.geojsonVtOptions,v=function({x:w,y:k,z:P},F=0){let B=a.a3((w-F)/Math.pow(2,P)),j=a.a4((k+1+F)/Math.pow(2,P)),H=a.a3((w+1+F)/Math.pow(2,P)),W=a.a4((k-F)/Math.pow(2,P));return new Kn([B,j],[H,W])}(r.tileID.canonical,h/f);for(let w of d)if(v.intersects(w))return!0;return!1}loaded(){return!this._isUpdatingWorker&&!this._hasPendingWorkerUpdate()}loadTile(r){return a._(this,void 0,void 0,function*(){let d=r.actor?"RT":"LT";r.actor=this.actor;let h={type:this.type,uid:r.uid,tileID:r.tileID,zoom:r.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};r.abortController=new AbortController;let f=yield this.actor.sendAsync({type:d,data:h},r.abortController);delete r.abortController,r.unloadVectorData(),r.aborted||r.loadVectorData(f,this.map.painter,d==="RT")})}abortTile(r){return a._(this,void 0,void 0,function*(){r.abortController&&(r.abortController.abort(),delete r.abortController),r.aborted=!0})}unloadTile(r){return a._(this,void 0,void 0,function*(){r.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:r.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return a.e({},this._options,{type:this.type,data:this._data.updateable?{type:"FeatureCollection",features:Array.from(this._data.updateable.values())}:this._data.url||this._data.geojson})}hasTransition(){return!1}}class Io extends a.E{constructor(r,d,h,f){super(),this.flippedWindingOrder=!1,this.id=r,this.dispatcher=h,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(f),this.options=d}load(r){return a._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{let d=yield lt.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,d&&d.data&&(this.image=d.data,r&&(this.coordinates=r),this._finishLoading())}catch(d){this._request=null,this._loaded=!0,a.Z(d)||this.fire(new a.k(d))}})}loaded(){return this._loaded}updateImage(r){return r.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=r.url,this.load(r.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(r){this.map=r,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(r){this.coordinates=r;let d=r.map(a.a9.fromLngLat);var h;return this.tileID=function(f){let v=a.aa.fromPoints(f),w=v.width(),k=v.height(),P=Math.max(w,k),F=Math.max(0,Math.floor(-Math.log(P)/Math.LN2)),B=Math.pow(2,F);return new a.ac(F,Math.floor((v.minX+v.maxX)/2*B),Math.floor((v.minY+v.maxY)/2*B))}(d),this.terrainTileRanges=this._getOverlappingTileRanges(d),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=d.map(f=>this.tileID.getTilePoint(f)._round()),this.flippedWindingOrder=((h=this.tileCoords)[1].x-h[0].x)*(h[2].y-h[0].y)-(h[1].y-h[0].y)*(h[2].x-h[0].x)<0,this.fire(new a.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;let r=this.map.painter.context,d=r.gl;this.texture||(this.texture=new a.T(r,this.image,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE));let h=!1;for(let f in this.tiles){let v=this.tiles[f];v.state!=="loaded"&&(v.state="loaded",v.texture=this.texture,h=!0)}h&&this.fire(new a.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(r){return a._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(r.tileID.canonical)?(this.tiles[String(r.tileID.wrap)]=r,r.buckets={}):r.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(r){let{minX:d,minY:h,maxX:f,maxY:v}=a.aa.fromPoints(r),w={};for(let k=0;k<=a.ab;k++){let P=Math.pow(2,k),F=Math.floor(d*P),B=Math.floor(h*P),j=Math.floor(f*P),H=Math.floor(v*P);w[k]={minTileX:F,minTileY:B,maxTileX:j,maxTileY:H}}return w}}class Ne extends Io{constructor(r,d,h,f){super(r,d,h,f),this.roundZoom=!0,this.type="video",this.options=d}load(){return a._(this,void 0,void 0,function*(){this._loaded=!1;let r=this.options;this.urls=[];for(let d of r.urls)this.urls.push(this.map._requestManager.transformRequest(d,"Source").url);try{let d=yield a.ad(this.urls);if(this._loaded=!0,!d)return;this.video=d,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(d){this.fire(new a.k(d))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(r){if(this.video){let d=this.video.seekable;r<d.start(0)||r>d.end(0)?this.fire(new a.k(new a.ae(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=r}}getVideo(){return this.video}onAdd(r){this.map||(this.map=r,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;let r=this.map.painter.context,d=r.gl;this.texture?this.video.paused||(this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),d.texSubImage2D(d.TEXTURE_2D,0,0,0,d.RGBA,d.UNSIGNED_BYTE,this.video)):(this.texture=new a.T(r,this.video,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE));let h=!1;for(let f in this.tiles){let v=this.tiles[f];v.state!=="loaded"&&(v.state="loaded",v.texture=this.texture,h=!0)}h&&this.fire(new a.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class te extends Io{constructor(r,d,h,f){super(r,d,h,f),d.coordinates?Array.isArray(d.coordinates)&&d.coordinates.length===4&&!d.coordinates.some(v=>!Array.isArray(v)||v.length!==2||v.some(w=>typeof w!="number"))||this.fire(new a.k(new a.ae(`sources.${r}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.k(new a.ae(`sources.${r}`,null,'missing required property "coordinates"'))),d.animate&&typeof d.animate!="boolean"&&this.fire(new a.k(new a.ae(`sources.${r}`,null,'optional "animate" property must be a boolean value'))),d.canvas?typeof d.canvas=="string"||d.canvas instanceof HTMLCanvasElement||this.fire(new a.k(new a.ae(`sources.${r}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.k(new a.ae(`sources.${r}`,null,'missing required property "canvas"'))),this.options=d,this.animate=d.animate===void 0||d.animate}load(){return a._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(r){this.map=r,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let r=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,r=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,r=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;let d=this.map.painter.context,h=d.gl;this.texture?(r||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):(this.texture=new a.T(d,this.canvas,h.RGBA,{premultiply:!0}),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE));let f=!1;for(let v in this.tiles){let w=this.tiles[v];w.state!=="loaded"&&(w.state="loaded",w.texture=this.texture,f=!0)}f&&this.fire(new a.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",animate:this.animate,canvas:this.options.canvas,coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(let r of[this.canvas.width,this.canvas.height])if(isNaN(r)||r<=0)return!0;return!1}}let ee={},ue=y=>{switch(y){case"geojson":return Tl;case"image":return Io;case"raster":return wl;case"raster-dem":return ms;case"vector":return Hs;case"video":return Ne;case"canvas":return te}return ee[y]},Ee="RTLPluginLoaded";class De extends a.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=qc()}_syncState(r){return this.status=r,this.dispatcher.broadcast("SRPS",{pluginStatus:r,pluginURL:this.url}).catch(d=>{throw this.status="error",d})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(r){return a._(this,arguments,void 0,function*(d,h=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=U.resolveURL(d),!this.url)throw new Error(`requested url ${d} is invalid`);if(this.status==="unavailable"){if(!h)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return a._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new a.l(Ee))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let He=null;function Ve(){return He||(He=new De),He}var Ae,Xe;(function(y){y[y.Base=0]="Base",y[y.Parent=1]="Parent"})(Ae||(Ae={})),function(y){y[y.Departing=0]="Departing",y[y.Incoming=1]="Incoming"}(Xe||(Xe={}));class gt{constructor(r,d){this.timeAdded=0,this.fadeEndTime=0,this.fadeOpacity=1,this.tileID=r,this.uid=a.af(),this.uses=0,this.tileSize=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}isRenderable(r){return this.hasData()&&(!this.fadeEndTime||this.fadeOpacity>0)&&(r||!this.holdingForSymbolFade())}setCrossFadeLogic({fadingRole:r,fadingDirection:d,fadingParentID:h,fadeEndTime:f}){this.resetFadeLogic(),this.fadingRole=r,this.fadingDirection=d,this.fadingParentID=h,this.fadeEndTime=f}setSelfFadeLogic(r){this.resetFadeLogic(),this.selfFading=!0,this.fadeEndTime=r}resetFadeLogic(){this.fadingRole=null,this.fadingDirection=null,this.fadingParentID=null,this.selfFading=!1,this.timeAdded=oe(),this.fadeEndTime=0,this.fadeOpacity=1}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(r){this.demTexture&&r.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(r,d,h){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",r){r.featureIndex&&(this.latestFeatureIndex=r.featureIndex,r.rawTileData?(this.latestRawTileData=r.rawTileData,this.latestFeatureIndex.rawTileData=r.rawTileData,this.latestFeatureIndex.encoding=r.encoding):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData,this.latestFeatureIndex.encoding=this.latestEncoding)),this.collisionBoxArray=r.collisionBoxArray,this.buckets=function(f,v){let w={};if(!v)return w;for(let k of f){let P=k.layerIds.map(F=>v.getLayer(F)).filter(Boolean);if(P.length!==0){k.layers=P,k.stateDependentLayerIds&&(k.stateDependentLayers=k.stateDependentLayerIds.map(F=>P.filter(B=>B.id===F)[0]));for(let F of P)w[F.id]=k}}return w}(r.buckets,d?.style),this.hasSymbolBuckets=!1;for(let f in this.buckets){let v=this.buckets[f];if(v instanceof a.ah){if(this.hasSymbolBuckets=!0,!h)break;v.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(let f in this.buckets){let v=this.buckets[f];if(v instanceof a.ah&&v.hasRTLText){this.hasRTLText=!0,Ve().lazyLoad();break}}this.queryPadding=0;for(let f in this.buckets){let v=this.buckets[f];this.queryPadding=Math.max(this.queryPadding,d.style.getLayer(f).queryRadius(v))}r.imageAtlas&&(this.imageAtlas=r.imageAtlas),r.glyphAtlasImage&&(this.glyphAtlasImage=r.glyphAtlasImage),this.dashPositions=r.dashPositions}else this.collisionBoxArray=new a.ag}unloadVectorData(){for(let r in this.buckets)this.buckets[r].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.dashPositions&&(this.dashPositions=null),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(r){return this.buckets[r.id]}upload(r){for(let h in this.buckets){let f=this.buckets[h];f.uploadPending()&&f.upload(r)}let d=r.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new a.T(r,this.imageAtlas.image,d.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new a.T(r,this.glyphAtlasImage,d.ALPHA),this.glyphAtlasImage=null)}prepare(r){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(r,this.imageAtlasTexture)}queryRenderedFeatures(r,d,h,f,v,w,k,P,F,B,j){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:f,cameraQueryGeometry:v,scale:w,tileSize:this.tileSize,pixelPosMatrix:B,transform:P,params:k,queryPadding:this.queryPadding*F,getElevation:j},r,d,h):{}}querySourceFeatures(r,d){let h=this.latestFeatureIndex;if(!h||!h.rawTileData)return;let f=h.loadVTLayers(),v=d&&d.sourceLayer?d.sourceLayer:"",w=f[a.ai]||f[v];if(!w)return;let k=a.aj(d?.filter,d?.globalState),{z:P,x:F,y:B}=this.tileID.canonical,j={z:P,x:F,y:B};for(let H=0;H<w.length;H++){let W=w.feature(H);if(k.needGeometry){let fe=a.ak(W,!0);if(!k.filter(new a.H(this.tileID.overscaledZ),fe,this.tileID.canonical))continue}else if(!k.filter(new a.H(this.tileID.overscaledZ),W))continue;let ne=h.getId(W,v),he=new a.al(W,P,F,B,ne);he.tile=j,r.push(he)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(r){let d=this.expirationTime;if(r.cacheControl){let h=a.am(r.cacheControl);h["max-age"]&&(this.expirationTime=Date.now()+1e3*h["max-age"])}else r.expires&&(this.expirationTime=new Date(r.expires).getTime());if(this.expirationTime){let h=Date.now(),f=!1;if(this.expirationTime>h)f=!1;else if(d)if(this.expirationTime<d)f=!0;else{let v=this.expirationTime-d;v?this.expirationTime=h+Math.max(v,3e4):f=!0}else f=!0;f?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(r,d){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(r).length===0)return;let h=this.latestFeatureIndex.loadVTLayers();for(let f in this.buckets){if(!d.style.hasLayer(f))continue;let v=this.buckets[f],w=v.layers[0].sourceLayer||a.ai,k=h[w],P=r[w];if(!k||!P||Object.keys(P).length===0)continue;v.update(P,k,this.imageAtlas&&this.imageAtlas.patternPositions||{},this.dashPositions||{});let F=d&&d.style&&d.style.getLayer(f);F&&(this.queryPadding=Math.max(this.queryPadding,F.queryRadius(v)))}}holdingForSymbolFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<oe()}clearSymbolFadeHold(){this.symbolFadeHoldUntil=void 0}setSymbolHoldDuration(r){this.symbolFadeHoldUntil=oe()+r}setDependencies(r,d){let h={};for(let f of d)h[f]=!0;this.dependencies[r]=h}hasDependency(r,d){for(let h of r){let f=this.dependencies[h];if(f){for(let v of d)if(f[v])return!0}}return!1}}class ct{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(r,d,h){let f=String(d);if(this.stateChanges[r]=this.stateChanges[r]||{},this.stateChanges[r][f]=this.stateChanges[r][f]||{},a.e(this.stateChanges[r][f],h),this.deletedStates[r]===null){this.deletedStates[r]={};for(let v in this.state[r])v!==f&&(this.deletedStates[r][v]=null)}else if(this.deletedStates[r]&&this.deletedStates[r][f]===null){this.deletedStates[r][f]={};for(let v in this.state[r][f])h[v]||(this.deletedStates[r][f][v]=null)}else for(let v in h)this.deletedStates[r]&&this.deletedStates[r][f]&&this.deletedStates[r][f][v]===null&&delete this.deletedStates[r][f][v]}removeFeatureState(r,d,h){if(this.deletedStates[r]===null)return;let f=String(d);if(this.deletedStates[r]=this.deletedStates[r]||{},h&&d!==void 0)this.deletedStates[r][f]!==null&&(this.deletedStates[r][f]=this.deletedStates[r][f]||{},this.deletedStates[r][f][h]=null);else if(d!==void 0)if(this.stateChanges[r]&&this.stateChanges[r][f])for(h in this.deletedStates[r][f]={},this.stateChanges[r][f])this.deletedStates[r][f][h]=null;else this.deletedStates[r][f]=null;else this.deletedStates[r]=null}getState(r,d){let h=String(d),f=a.e({},(this.state[r]||{})[h],(this.stateChanges[r]||{})[h]);if(this.deletedStates[r]===null)return{};if(this.deletedStates[r]){let v=this.deletedStates[r][d];if(v===null)return{};for(let w in v)delete f[w]}return f}initializeTileState(r,d){r.setFeatureState(this.state,d)}coalesceChanges(r,d){let h={};for(let f in this.stateChanges){this.state[f]=this.state[f]||{};let v={};for(let w in this.stateChanges[f])this.state[f][w]||(this.state[f][w]={}),a.e(this.state[f][w],this.stateChanges[f][w]),v[w]=this.state[f][w];h[f]=v}for(let f in this.deletedStates){this.state[f]=this.state[f]||{};let v={};if(this.deletedStates[f]===null)for(let w in this.state[f])v[w]={},this.state[f][w]={};else for(let w in this.deletedStates[f]){if(this.deletedStates[f][w]===null)this.state[f][w]={};else for(let k of Object.keys(this.deletedStates[f][w]))delete this.state[f][w][k];v[w]=this.state[f][w]}h[f]=h[f]||{},a.e(h[f],v)}this.stateChanges={},this.deletedStates={},Object.keys(h).length!==0&&r.setFeatureState(h,d)}}let Bt=89.25;function Qt(y,r){let d=a.an(r.lat,-a.ao,a.ao);return new a.P(a.Y(r.lng)*y,a.X(d)*y)}function _i(y,r){return new a.a9(r.x/y,r.y/y).toLngLat()}function un(y){return y.cameraToCenterDistance*Math.min(.85*Math.tan(a.ap(90-y.pitch)),Math.tan(a.ap(Bt-y.pitch)))}function Xi(y,r){let d=y.canonical,h=r/a.aq(d.z),f=d.x+Math.pow(2,d.z)*y.wrap,v=a.ar(new Float64Array(16));return a.O(v,v,[f*h,d.y*h,0]),a.Q(v,v,[h/a.a5,h/a.a5,1]),v}function Ge(y,r,d,h,f){let v=a.a9.fromLngLat(y,r),w=f*a.as(1,y.lat),{x:k,y:P,z:F}=mn(d,h);return new a.a9(v.x+w*-k,v.y+w*-P,v.z+w*-F)}function mn(y,r){let d=a.ap(y),h=a.ap(r),f=Math.cos(-d),v=Math.sin(d);return{x:v*Math.sin(h),y:-v*Math.cos(h),z:f}}function Ga(y,r,d){let h=r.intersectsFrustum(y);if(!d||h===0)return h;let f=r.intersectsPlane(d);return f===0?0:h===2&&f===2?2:1}function bi(y,r,d){let h=0,f=(d-r)/10;for(let v=0;v<10;v++)h+=f*Math.pow(Math.cos(r+(v+.5)/10*(d-r)),y);return h}function ln(y,r){return function(d,h,f,v,w){let k=2*((y-1)/a.at(Math.cos(a.ap(Bt-w))/Math.cos(a.ap(Bt)))-1),P=Math.acos(f/v),F=2*bi(k-1,0,a.ap(w/2)),B=Math.min(a.ap(Bt),P+a.ap(w/2)),j=bi(k-1,Math.min(B,P-a.ap(w/2)),B),H=Math.atan(h/f),W=Math.hypot(h,f),ne=d;return ne+=a.at(v/W/Math.max(.5,Math.cos(a.ap(w/2)))),ne+=k*a.at(Math.cos(H))/2,ne-=a.at(Math.max(1,j/F/r))/2,ne}}let Ua=ln(9.314,3);function Sn(y,r){let d=(r.roundZoom?Math.round:Math.floor)(y.zoom+a.at(y.tileSize/r.tileSize));return Math.max(0,d)}function Wn(y,r){let d=y.getCameraFrustum(),h=y.getClippingPlane(),f=y.screenPointToMercatorCoordinate(y.getCameraPoint()),v=a.a9.fromLngLat(y.center,y.elevation);f.z=v.z+Math.cos(y.pitchInRadians)*y.cameraToCenterDistance/y.worldSize;let w=y.getCoveringTilesDetailsProvider(),k=w.allowVariableZoom(y,r),P=Sn(y,r),F=r.minzoom||0,B=r.maxzoom!==void 0?r.maxzoom:y.maxZoom,j=Math.min(Math.max(0,P),B),H=Math.pow(2,j),W=[H*f.x,H*f.y,0],ne=[H*v.x,H*v.y,0],he=Math.hypot(v.x-f.x,v.y-f.y),fe=Math.abs(v.z-f.z),me=Math.hypot(he,fe),be=Se=>({zoom:0,x:0,y:0,wrap:Se,fullyVisible:!1}),Me=[],_e=[];if(y.renderWorldCopies&&w.allowWorldCopies())for(let Se=1;Se<=3;Se++)Me.push(be(-Se)),Me.push(be(Se));for(Me.push(be(0));Me.length>0;){let Se=Me.pop(),Pe=Se.x,Ie=Se.y,Oe=Se.fullyVisible,Ye={x:Pe,y:Ie,z:Se.zoom},je=w.getTileBoundingVolume(Ye,Se.wrap,y.elevation,r);if(!Oe){let Ct=Ga(d,je,h);if(Ct===0)continue;Oe=Ct===2}let Ue=w.distanceToTile2d(f.x,f.y,Ye,je),$e=P;k&&($e=(r.calculateTileZoom||Ua)(y.zoom+a.at(y.tileSize/r.tileSize),Ue,fe,me,y.fov)),$e=(r.roundZoom?Math.round:Math.floor)($e),$e=Math.max(0,$e);let Tt=Math.min($e,B);if(Se.wrap=w.getWrap(v,Ye,Se.wrap),Se.zoom>=Tt){if(Se.zoom<F)continue;let Ct=j-Se.zoom,pt=W[0]-.5-(Pe<<Ct),kt=W[1]-.5-(Ie<<Ct),yi=r.reparseOverscaled?Math.max(Se.zoom,$e):Se.zoom;_e.push({tileID:new a.a2(Se.zoom===B?yi:Se.zoom,Se.wrap,Se.zoom,Pe,Ie),distanceSq:a.au([ne[0]-.5-Pe,ne[1]-.5-Ie]),tileDistanceToCamera:Math.sqrt(pt*pt+kt*kt)})}else for(let Ct=0;Ct<4;Ct++)Me.push({zoom:Se.zoom+1,x:(Pe<<1)+Ct%2,y:(Ie<<1)+(Ct>>1),wrap:Se.wrap,fullyVisible:Oe})}return _e.sort((Se,Pe)=>Se.distanceSq-Pe.distanceSq).map(Se=>Se.tileID)}let fn=a.aa.fromPoints([new a.P(0,0),new a.P(a.a5,a.a5)]);function ya(y){return y==="raster"||y==="image"||y==="video"}function jc(y,r,d,h,f,v,w){if(!r.hasData())return!1;let{tileID:k,fadingRole:P,fadingDirection:F,fadingParentID:B}=r;if(P===Ae.Base&&F===Xe.Incoming&&B)return d[B.key]=B,!0;let j=Math.max(k.overscaledZ-f,v);for(let H=k.overscaledZ-1;H>=j;H--){let W=k.scaledTo(H),ne=y.getLoadedTile(W);if(ne)return r.setCrossFadeLogic({fadingRole:Ae.Base,fadingDirection:Xe.Incoming,fadingParentID:ne.tileID,fadeEndTime:h+w}),ne.setCrossFadeLogic({fadingRole:Ae.Parent,fadingDirection:Xe.Departing,fadeEndTime:h+w}),d[W.key]=W,!0}return!1}function Gc(y,r,d,h,f,v){if(!r.hasData())return!1;let w=r.tileID.children(f),k=It(y,r,w,d,h,f,v);if(k)return!0;for(let P of w)It(y,r,P.children(f),d,h,f,v)&&(k=!0);return k}function It(y,r,d,h,f,v,w){if(d[0].overscaledZ>=v)return!1;let k=!1;for(let P of d){let F=y.getLoadedTile(P);if(!F)continue;let{fadingRole:B,fadingDirection:j,fadingParentID:H}=F;B===Ae.Base&&j===Xe.Departing&&H||(F.setCrossFadeLogic({fadingRole:Ae.Base,fadingDirection:Xe.Departing,fadingParentID:r.tileID,fadeEndTime:f+w}),r.setCrossFadeLogic({fadingRole:Ae.Parent,fadingDirection:Xe.Incoming,fadeEndTime:f+w})),h[P.key]=P,k=!0}return k}function co(y,r,d,h){let f=y.tileID;return!!y.selfFading||!y.hasData()&&!!r.has(f)&&(y.setSelfFadeLogic(d+h),!0)}function uo(y,r){var d;y.needsHillshadePrepare=!0,y.needsTerrainPrepare=!0;let h=r.tileID.canonical.x-y.tileID.canonical.x,f=r.tileID.canonical.y-y.tileID.canonical.y,v=Math.pow(2,y.tileID.canonical.z),w=r.tileID.key;h===0&&f===0||Math.abs(f)>1||(Math.abs(h)>1&&(Math.abs(h+v)===1?h+=v:Math.abs(h-v)===1&&(h-=v)),r.dem&&y.dem&&(y.dem.backfillBorder(r.dem,h,f),!((d=y.neighboringTiles)===null||d===void 0)&&d[w]&&(y.neighboringTiles[w].backfilled=!0)))}class tu{constructor(){this._tiles={}}handleWrapJump(r){let d={};for(let h in this._tiles){let f=this._tiles[h];f.tileID=f.tileID.unwrapTo(f.tileID.wrap+r),d[f.tileID.key]=f}this._tiles=d}setFeatureState(r,d){for(let h in this._tiles)this._tiles[h].setFeatureState(r,d)}getAllTiles(){return Object.values(this._tiles)}getAllIds(r=!1){return r?Object.values(this._tiles).map(d=>d.tileID).sort(a.aw).map(d=>d.key):Object.keys(this._tiles)}getTileById(r){return this._tiles[r]}setTile(r,d){this._tiles[r]=d}deleteTileById(r){delete this._tiles[r]}getLoadedTile(r){let d=this.getTileById(r.key);return d?.hasData()?d:null}isIdRenderable(r,d=!1){var h;return(h=this.getTileById(r))===null||h===void 0?void 0:h.isRenderable(d)}getRenderableIds(r=0,d){let h=[];for(let f of this.getAllIds())this.isIdRenderable(f,d)&&h.push(this.getTileById(f));return d?h.sort((f,v)=>{let w=f.tileID,k=v.tileID,P=new a.P(w.canonical.x,w.canonical.y)._rotate(-r),F=new a.P(k.canonical.x,k.canonical.y)._rotate(-r);return w.overscaledZ-k.overscaledZ||F.y-P.y||F.x-P.x}).map(f=>f.tileID.key):h.map(f=>f.tileID).sort(a.aw).map(f=>f.key)}}class Qo extends a.E{constructor(r,d,h){super(),this.id=r,this.dispatcher=h,this.on("data",f=>this._dataHandler(f)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((f,v,w,k)=>{let P=new(ue(v.type))(f,v,w,k);if(P.id!==f)throw new Error(`Expected Source id to be ${f} instead of ${P.id}`);return P})(r,d,h,this),this._inViewTiles=new tu,this._outOfViewCache=new a.ax(0,f=>this._unloadTile(f)),this._timers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._rasterFadeDuration=0,this._maxFadingAncestorLevels=5,this._state=new ct,this._didEmitContent=!1,this._updated=!1}onAdd(r){this.map=r,this._maxTileCacheSize=r?r._maxTileCacheSize:null,this._maxTileCacheZoomLevels=r?r._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(r)}onRemove(r){for(let d of this._inViewTiles.getAllTiles())d.unloadVectorData();this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(r),this._inViewTiles=new tu}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(let r of this._inViewTiles.getAllTiles())if(r.state!=="loaded"&&r.state!=="errored")return!1;return!0}getSource(){return this._source}getState(){return this._state}pause(){this._paused=!0}resume(){if(!this._paused)return;let r=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,r&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(r,d,h){return a._(this,void 0,void 0,function*(){try{yield this._source.loadTile(r),this._tileLoaded(r,d,h)}catch(f){r.state="errored",f.status!==404?this._source.fire(new a.k(f,{tile:r})):this.update(this.transform,this.terrain)}})}_unloadTile(r){this._source.unloadTile&&this._source.unloadTile(r)}_abortTile(r){this._source.abortTile&&this._source.abortTile(r),this._source.fire(new a.l("dataabort",{tile:r,coord:r.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(r){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._inViewTiles,this.map?this.map.painter:null);for(let d of this._inViewTiles.getAllTiles())d.upload(r),d.prepare(this.map.style.imageManager)}getIds(){return this._inViewTiles.getAllIds(!0)}getRenderableIds(r){var d;return this._inViewTiles.getRenderableIds((d=this.transform)===null||d===void 0?void 0:d.bearingInRadians,r)}hasRenderableParent(r){let d=r.overscaledZ-1;if(d>=this._source.minzoom){let h=this.getLoadedTile(r.scaledTo(d));if(h)return this._inViewTiles.isIdRenderable(h.tileID.key)}return!1}reload(r,d=void 0){if(this._paused)this._shouldReloadOnResume=!0;else{this._outOfViewCache.reset();for(let h of this._inViewTiles.getAllIds()){let f=this._inViewTiles.getTileById(h);d&&!this._source.shouldReloadTile(f,d)||(r?this._reloadTile(h,"expired"):f.state!=="errored"&&this._reloadTile(h,"reloading"))}}}_reloadTile(r,d){return a._(this,void 0,void 0,function*(){let h=this._inViewTiles.getTileById(r);h&&(h.state!=="loading"&&(h.state=d),yield this._loadTile(h,r,d))})}_tileLoaded(r,d,h){r.timeAdded=oe(),r.selfFading&&(r.fadeEndTime=r.timeAdded+this._rasterFadeDuration),h==="expired"&&(r.refreshedUponExpiration=!0),this._setTileReloadTimer(d,r),this.getSource().type==="raster-dem"&&r.dem&&function(f,v){var w,k;let P=v.getRenderableIds();for(let F of P){if(!f.neighboringTiles||!f.neighboringTiles[F])continue;let B=v.getTileById(F);f.neighboringTiles[F].backfilled||uo(f,B),!((k=(w=B.neighboringTiles)===null||w===void 0?void 0:w[f.tileID.key])===null||k===void 0)&&k.backfilled||uo(B,f)}}(r,this._inViewTiles),this._state.initializeTileState(r,this.map?this.map.painter:null),r.aborted||this._source.fire(new a.l("data",{dataType:"source",tile:r,coord:r.tileID}))}getTile(r){return this.getTileByID(r.key)}getTileByID(r){return this._inViewTiles.getTileById(r)}_retainLoadedChildren(r,d){let h=this._getLoadedDescendents(d),f=new Set;for(let v of d){let w=h[v.key];if(!w?.length){f.add(v);continue}let k=v.overscaledZ+Qo.maxOverzooming,P=w.filter(j=>j.tileID.overscaledZ<=k);if(!P.length){f.add(v);continue}let F=Math.min(...P.map(j=>j.tileID.overscaledZ)),B=P.filter(j=>j.tileID.overscaledZ===F).map(j=>j.tileID);for(let j of B)r[j.key]=j;this._areDescendentsComplete(B,F,v.overscaledZ)||f.add(v)}return f}_getLoadedDescendents(r){var d;let h={};for(let f of this._inViewTiles.getAllTiles().filter(v=>v.hasData()))for(let v of r)f.tileID.isChildOf(v)&&(h[d=v.key]||(h[d]=[])).push(f);return h}_areDescendentsComplete(r,d,h){return r.length===1&&r[0].isOverscaled()?r[0].overscaledZ===d:Math.pow(4,d-h)===r.length}getLoadedTile(r){return this._inViewTiles.getLoadedTile(r)}updateCacheSize(r){let d=Math.ceil(r.width/this._source.tileSize)+1,h=Math.ceil(r.height/this._source.tileSize)+1,f=Math.floor(d*h*(this._maxTileCacheZoomLevels===null?a.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),v=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,f):f;this._outOfViewCache.setMaxSize(v)}handleWrapJump(r){let d=Math.round((r-(this._prevLng===void 0?r:this._prevLng))/360);this._prevLng=r,d&&(this._inViewTiles.handleWrapJump(d),this._resetTileReloadTimers())}update(r,d){if(!this._sourceLoaded||this._paused)return;let h;this.transform=r,this.terrain=d,this.updateCacheSize(r),this.handleWrapJump(this.transform.center.lng),this.used||this.usedForTerrain?this._source.tileID?h=r.getVisibleUnwrappedCoordinates(this._source.tileID).map(P=>new a.a2(P.canonical.z,P.wrap,P.canonical.z,P.canonical.x,P.canonical.y)):(h=Wn(r,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.type==="vector"&&this.map._zoomLevelsToOverscale!==void 0?r.maxZoom-this.map._zoomLevelsToOverscale:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:d,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(h=h.filter(P=>this._source.hasTile(P)))):h=[],this.usedForTerrain&&(h=this._addTerrainIdealTiles(h));let f=h.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,f&&this.fire(new a.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));let v=Sn(r,this._source),w=this._updateRetainedTiles(h,v),k=ya(this._source.type);k&&this._rasterFadeDuration>0&&!d&&function(P,F,B,j,H,W,ne){let he=oe(),fe=a.av(F);for(let me of F){let be=P.getTileById(me.key);be.fadingDirection!==Xe.Departing&&be.fadeOpacity!==0||be.resetFadeLogic(),jc(P,be,B,he,j,H,ne)||Gc(P,be,B,he,W,ne)||co(be,fe,he,ne)||be.resetFadeLogic()}}(this._inViewTiles,h,w,this._maxFadingAncestorLevels,this._source.minzoom,this._source.maxzoom,this._rasterFadeDuration),k?this._cleanUpRasterTiles(w):this._cleanUpVectorTiles(w)}_cleanUpRasterTiles(r){for(let d of this._inViewTiles.getAllIds())r[d]||this._removeTile(d)}_cleanUpVectorTiles(r){for(let d of this._inViewTiles.getAllIds()){let h=this._inViewTiles.getTileById(d);r[d]?h.clearSymbolFadeHold():h.hasSymbolBuckets?h.holdingForSymbolFade()?h.symbolFadeFinished()&&this._removeTile(d):h.setSymbolHoldDuration(this.map._fadeDuration):this._removeTile(d)}}_addTerrainIdealTiles(r){let d=[];for(let h of r)if(h.canonical.z>this._source.minzoom){let f=h.scaledTo(h.canonical.z-1);d.push(f);let v=h.scaledTo(Math.max(this._source.minzoom,Math.min(h.canonical.z,5)));d.push(v)}return r.concat(d)}releaseSymbolFadeTiles(){for(let r of this._inViewTiles.getAllIds())this._inViewTiles.getTileById(r).holdingForSymbolFade()&&this._removeTile(r)}_updateRetainedTiles(r,d){var h;let f=new Set;for(let F of r)this._addTile(F).hasData()||f.add(F);let v=r.reduce((F,B)=>(F[B.key]=B,F),{}),w=this._retainLoadedChildren(v,f),k={},P=Math.max(d-Qo.maxUnderzooming,this._source.minzoom);for(let F of w){let B=this._inViewTiles.getTileById(F.key),j=B?.wasRequested();for(let H=F.overscaledZ-1;H>=P;--H){let W=F.scaledTo(H);if(k[W.key])break;if(k[W.key]=!0,B=this.getTile(W),!B&&j&&(B=this._addTile(W)),B){let ne=B.hasData();if((ne||!(!((h=this.map)===null||h===void 0)&&h.cancelPendingTileRequestsWhileZooming)||j)&&(v[W.key]=W),j=B.wasRequested(),ne)break}}}return v}_addTile(r){let d=this._inViewTiles.getTileById(r.key);if(d)return d;d=this._outOfViewCache.getAndRemove(r),d&&(d.resetFadeLogic(),this._setTileReloadTimer(r.key,d),d.tileID=r,this._state.initializeTileState(d,this.map?this.map.painter:null));let h=d;return d||(d=new gt(r,this._source.tileSize*r.overscaleFactor()),this._loadTile(d,r.key,d.state)),d.uses++,this._inViewTiles.setTile(r.key,d),h||this._source.fire(new a.l("dataloading",{tile:d,coord:d.tileID,dataType:"source"})),d}_setTileReloadTimer(r,d){this._clearTileReloadTimer(r);let h=d.getExpiryTimeout();h&&(this._timers[r]=setTimeout(()=>{this._reloadTile(r,"expired"),delete this._timers[r]},h))}_clearTileReloadTimer(r){let d=this._timers[r];d&&(clearTimeout(d),delete this._timers[r])}_resetTileReloadTimers(){for(let r in this._timers)clearTimeout(this._timers[r]),delete this._timers[r];for(let r of this._inViewTiles.getAllIds()){let d=this._inViewTiles.getTileById(r);this._setTileReloadTimer(r,d)}}refreshTiles(r){for(let d of this._inViewTiles.getAllIds()){let h=this._inViewTiles.getTileById(d);(this._inViewTiles.isIdRenderable(d)||h.state=="errored")&&r.some(f=>f.equals(h.tileID.canonical))&&this._reloadTile(d,"expired")}}_removeTile(r){let d=this._inViewTiles.getTileById(r);d&&(d.uses--,this._inViewTiles.deleteTileById(r),this._clearTileReloadTimer(r),d.uses>0||(d.hasData()&&d.state!=="reloading"?this._outOfViewCache.add(d.tileID,d,d.getExpiryTimeout()):(d.aborted=!0,this._abortTile(d),this._unloadTile(d))))}_dataHandler(r){r.dataType==="source"&&(r.sourceDataType!=="metadata"?r.sourceDataType==="content"&&this._sourceLoaded&&!this._paused&&(this.reload(r.sourceDataChanged,r.shouldReloadTileOptions),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0):this._sourceLoaded=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(let r of this._inViewTiles.getAllIds())this._removeTile(r);this._outOfViewCache.reset()}tilesIn(r,d,h){let f=[],v=this.transform;if(!v)return f;let w=v.getCoveringTilesDetailsProvider().allowWorldCopies(),k=h?v.getCameraQueryGeometry(r):r,P=W=>v.screenPointToMercatorCoordinate(W,this.terrain),F=this.transformBbox(r,P,!w),B=this.transformBbox(k,P,!w),j=this.getIds(),H=a.aa.fromPoints(B);for(let W=0;W<j.length;W++){let ne=this._inViewTiles.getTileById(j[W]);if(ne.holdingForSymbolFade())continue;let he=w?[ne.tileID]:[ne.tileID.unwrapTo(-1),ne.tileID.unwrapTo(0)],fe=Math.pow(2,v.zoom-ne.tileID.overscaledZ),me=d*ne.queryPadding*a.a5/ne.tileSize/fe;for(let be of he){let Me=H.map(_e=>be.getTilePoint(new a.a9(_e.x,_e.y)));if(Me.expandBy(me),Me.intersects(fn)){let _e=F.map(Pe=>be.getTilePoint(Pe)),Se=B.map(Pe=>be.getTilePoint(Pe));f.push({tile:ne,tileID:w?be:be.unwrapTo(0),queryGeometry:_e,cameraQueryGeometry:Se,scale:fe})}}}return f}transformBbox(r,d,h){let f=r.map(d);if(h){let v=a.aa.fromPoints(r);v.shrinkBy(.001*Math.min(v.width(),v.height()));let w=v.map(d);a.aa.fromPoints(f).covers(w)||(f=f.map(k=>k.x>.5?new a.a9(k.x-1,k.y,k.z):k))}return f}getVisibleCoordinates(r){let d=this.getRenderableIds(r).map(h=>this._inViewTiles.getTileById(h).tileID);return this.transform&&this.transform.populateCache(d),d}hasTransition(){return!!this._source.hasTransition()||!(!ya(this._source.type)||!function(r,d){if(d<=0)return!1;let h=oe();for(let f of r.getAllTiles())if(f.fadeEndTime>=h)return!0;return!1}(this._inViewTiles,this._rasterFadeDuration))}setRasterFadeDuration(r){this._rasterFadeDuration=r}setFeatureState(r,d,h){this._state.updateState(r=r||a.ai,d,h)}removeFeatureState(r,d,h){this._state.removeFeatureState(r=r||a.ai,d,h)}getFeatureState(r,d){return this._state.getState(r=r||a.ai,d)}setDependencies(r,d,h){let f=this._inViewTiles.getTileById(r);f&&f.setDependencies(d,h)}reloadTilesForDependencies(r,d){for(let h of this._inViewTiles.getAllIds())this._inViewTiles.getTileById(h).hasDependency(r,d)&&this._reloadTile(h,"reloading");this._outOfViewCache.filter(h=>!h.hasDependency(r,d))}areTilesLoaded(){for(let r of this._inViewTiles.getAllTiles())if(r.state!=="loaded"&&r.state!=="errored")return!1;return!0}}Qo.maxUnderzooming=10,Qo.maxOverzooming=3;class At{constructor(r,d){this.reset(r,d)}reset(r,d){this.points=r||[],this._distances=[0];for(let h=1;h<this.points.length;h++)this._distances[h]=this._distances[h-1]+this.points[h].dist(this.points[h-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(r){if(this.points.length===1)return this.points[0];r=a.an(r,0,1);let d=1,h=this._distances[d],f=r*this.paddedLength+this.padding;for(;h<f&&d<this._distances.length;)h=this._distances[++d];let v=d-1,w=this._distances[v],k=h-w,P=k>0?(f-w)/k:0;return this.points[v].mult(1-P).add(this.points[d].mult(P))}}function Ii(y,r){let d=!0;return y==="always"||y!=="never"&&r!=="never"||(d=!1),d}class Ti{constructor(r,d,h){let f=this.boxCells=[],v=this.circleCells=[];this.xCellCount=Math.ceil(r/h),this.yCellCount=Math.ceil(d/h);for(let w=0;w<this.xCellCount*this.yCellCount;w++)f.push([]),v.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=r,this.height=d,this.xScale=this.xCellCount/r,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(r,d,h,f,v){this._forEachCell(d,h,f,v,this._insertBoxCell,this.boxUid++),this.boxKeys.push(r),this.bboxes.push(d),this.bboxes.push(h),this.bboxes.push(f),this.bboxes.push(v)}insertCircle(r,d,h,f){this._forEachCell(d-f,h-f,d+f,h+f,this._insertCircleCell,this.circleUid++),this.circleKeys.push(r),this.circles.push(d),this.circles.push(h),this.circles.push(f)}_insertBoxCell(r,d,h,f,v,w){this.boxCells[v].push(w)}_insertCircleCell(r,d,h,f,v,w){this.circleCells[v].push(w)}_query(r,d,h,f,v,w,k){if(h<0||r>this.width||f<0||d>this.height)return[];let P=[];if(r<=0&&d<=0&&this.width<=h&&this.height<=f){if(v)return[{key:null,x1:r,y1:d,x2:h,y2:f}];for(let F=0;F<this.boxKeys.length;F++)P.push({key:this.boxKeys[F],x1:this.bboxes[4*F],y1:this.bboxes[4*F+1],x2:this.bboxes[4*F+2],y2:this.bboxes[4*F+3]});for(let F=0;F<this.circleKeys.length;F++){let B=this.circles[3*F],j=this.circles[3*F+1],H=this.circles[3*F+2];P.push({key:this.circleKeys[F],x1:B-H,y1:j-H,x2:B+H,y2:j+H})}}else this._forEachCell(r,d,h,f,this._queryCell,P,{hitTest:v,overlapMode:w,seenUids:{box:{},circle:{}}},k);return P}query(r,d,h,f){return this._query(r,d,h,f,!1,null)}hitTest(r,d,h,f,v,w){return this._query(r,d,h,f,!0,v,w).length>0}hitTestCircle(r,d,h,f,v){let w=r-h,k=r+h,P=d-h,F=d+h;if(k<0||w>this.width||F<0||P>this.height)return!1;let B=[];return this._forEachCell(w,P,k,F,this._queryCellCircle,B,{hitTest:!0,overlapMode:f,circle:{x:r,y:d,radius:h},seenUids:{box:{},circle:{}}},v),B.length>0}_queryCell(r,d,h,f,v,w,k,P){let{seenUids:F,hitTest:B,overlapMode:j}=k,H=this.boxCells[v];if(H!==null){let ne=this.bboxes;for(let he of H)if(!F.box[he]){F.box[he]=!0;let fe=4*he,me=this.boxKeys[he];if(r<=ne[fe+2]&&d<=ne[fe+3]&&h>=ne[fe+0]&&f>=ne[fe+1]&&(!P||P(me))&&(!B||!Ii(j,me.overlapMode))&&(w.push({key:me,x1:ne[fe],y1:ne[fe+1],x2:ne[fe+2],y2:ne[fe+3]}),B))return!0}}let W=this.circleCells[v];if(W!==null){let ne=this.circles;for(let he of W)if(!F.circle[he]){F.circle[he]=!0;let fe=3*he,me=this.circleKeys[he];if(this._circleAndRectCollide(ne[fe],ne[fe+1],ne[fe+2],r,d,h,f)&&(!P||P(me))&&(!B||!Ii(j,me.overlapMode))){let be=ne[fe],Me=ne[fe+1],_e=ne[fe+2];if(w.push({key:me,x1:be-_e,y1:Me-_e,x2:be+_e,y2:Me+_e}),B)return!0}}}return!1}_queryCellCircle(r,d,h,f,v,w,k,P){let{circle:F,seenUids:B,overlapMode:j}=k,H=this.boxCells[v];if(H!==null){let ne=this.bboxes;for(let he of H)if(!B.box[he]){B.box[he]=!0;let fe=4*he,me=this.boxKeys[he];if(this._circleAndRectCollide(F.x,F.y,F.radius,ne[fe+0],ne[fe+1],ne[fe+2],ne[fe+3])&&(!P||P(me))&&!Ii(j,me.overlapMode))return w.push(!0),!0}}let W=this.circleCells[v];if(W!==null){let ne=this.circles;for(let he of W)if(!B.circle[he]){B.circle[he]=!0;let fe=3*he,me=this.circleKeys[he];if(this._circlesCollide(ne[fe],ne[fe+1],ne[fe+2],F.x,F.y,F.radius)&&(!P||P(me))&&!Ii(j,me.overlapMode))return w.push(!0),!0}}}_forEachCell(r,d,h,f,v,w,k,P){let F=this._convertToXCellCoord(r),B=this._convertToYCellCoord(d),j=this._convertToXCellCoord(h),H=this._convertToYCellCoord(f);for(let W=F;W<=j;W++)for(let ne=B;ne<=H;ne++)if(v.call(this,r,d,h,f,this.xCellCount*ne+W,w,k,P))return}_convertToXCellCoord(r){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(r*this.xScale)))}_convertToYCellCoord(r){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(r*this.yScale)))}_circlesCollide(r,d,h,f,v,w){let k=f-r,P=v-d,F=h+w;return F*F>k*k+P*P}_circleAndRectCollide(r,d,h,f,v,w,k){let P=(w-f)/2,F=Math.abs(r-(f+P));if(F>P+h)return!1;let B=(k-v)/2,j=Math.abs(d-(v+B));if(j>B+h)return!1;if(F<=P||j<=B)return!0;let H=F-P,W=j-B;return H*H+W*W<=h*h}}function No(y,r,d){let h=a.N();if(!y){let{vecSouth:j,vecEast:H}=Qr(r),W=b();W[0]=H[0],W[1]=H[1],W[2]=j[0],W[3]=j[1],f=W,(B=(w=(v=W)[0])*(F=v[3])-(P=v[2])*(k=v[1]))&&(f[0]=F*(B=1/B),f[1]=-k*B,f[2]=-P*B,f[3]=w*B),h[0]=W[0],h[1]=W[1],h[4]=W[2],h[5]=W[3]}var f,v,w,k,P,F,B;return a.Q(h,h,[1/d,1/d,1]),h}function iu(y,r,d,h){if(y){let f=a.N();if(!r){let{vecSouth:v,vecEast:w}=Qr(d);f[0]=w[0],f[1]=w[1],f[4]=v[0],f[5]=v[1]}return a.Q(f,f,[h,h,1]),f}return d.pixelsToClipSpaceMatrix}function Qr(y){let r=Math.cos(y.rollInRadians),d=Math.sin(y.rollInRadians),h=Math.cos(y.pitchInRadians),f=Math.cos(y.bearingInRadians),v=Math.sin(y.bearingInRadians),w=a.aC();w[0]=-f*h*d-v*r,w[1]=-v*h*d+f*r;let k=a.aD(w);k<1e-9?a.aE(w):a.aF(w,w,1/k);let P=a.aC();P[0]=f*h*r-v*d,P[1]=v*h*r+f*d;let F=a.aD(P);return F<1e-9?a.aE(P):a.aF(P,P,1/F),{vecEast:P,vecSouth:w}}function xi(y,r,d,h){let f;h?(f=[y,r,h(y,r),1],a.aH(f,f,d)):(f=[y,r,0,1],ou(f,f,d));let v=f[3];return{point:new a.P(f[0]/v,f[1]/v),signedDistanceFromCamera:v,isOccluded:!1}}function Uc(y,r){return .5+y/r*.5}function $c(y,r){return y.x>=-r[0]&&y.x<=r[0]&&y.y>=-r[1]&&y.y<=r[1]}function nu(y,r,d,h,f,v,w,k,P,F,B,j,H){let W=d?y.textSizeData:y.iconSizeData,ne=a.ay(W,r.transform.zoom),he=[256/r.width*2+1,256/r.height*2+1],fe=d?y.text.dynamicLayoutVertexArray:y.icon.dynamicLayoutVertexArray;fe.clear();let me=y.lineVertexArray,be=d?y.text.placedSymbolArray:y.icon.placedSymbolArray,Me=r.transform.width/r.transform.height,_e=!1;for(let Se=0;Se<be.length;Se++){let Pe=be.get(Se);if(Pe.hidden||Pe.writingMode===a.az.vertical&&!_e){Gs(Pe.numGlyphs,fe);continue}_e=!1;let Ie=new a.P(Pe.anchorX,Pe.anchorY),Oe={getElevation:H,pitchedLabelPlaneMatrix:h,lineVertexArray:me,pitchWithMap:v,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:r.transform,tileAnchorPoint:Ie,unwrappedTileID:P,width:F,height:B,translation:j},Ye=Ml(Pe.anchorX,Pe.anchorY,Oe);if(!$c(Ye.point,he)){Gs(Pe.numGlyphs,fe);continue}let je=Uc(r.transform.cameraToCenterDistance,Ye.signedDistanceFromCamera),Ue=a.aA(W,ne,Pe),$e=v?Ue*r.transform.getPitchedTextCorrection(Pe.anchorX,Pe.anchorY,P)/je:Ue*je,Tt=Sl({projectionContext:Oe,pitchedLabelPlaneMatrixInverse:f,symbol:Pe,fontSize:$e,flip:!1,keepUpright:w,glyphOffsetArray:y.glyphOffsetArray,dynamicLayoutVertexArray:fe,aspectRatio:Me,rotateToLine:k});_e=Tt.useVertical,(Tt.notEnoughRoom||_e||Tt.needsFlipping&&Sl({projectionContext:Oe,pitchedLabelPlaneMatrixInverse:f,symbol:Pe,fontSize:$e,flip:!0,keepUpright:w,glyphOffsetArray:y.glyphOffsetArray,dynamicLayoutVertexArray:fe,aspectRatio:Me,rotateToLine:k}).notEnoughRoom)&&Gs(Pe.numGlyphs,fe)}d?y.text.dynamicLayoutVertexBuffer.updateData(fe):y.icon.dynamicLayoutVertexBuffer.updateData(fe)}function Cl(y,r,d,h,f,v,w,k){let P=v.glyphStartIndex+v.numGlyphs,F=v.lineStartIndex,B=v.lineStartIndex+v.lineLength,j=r.getoffsetX(v.glyphStartIndex),H=r.getoffsetX(P-1),W=br(y*j,d,h,f,v.segment,F,B,k,w);if(!W)return null;let ne=br(y*H,d,h,f,v.segment,F,B,k,w);return ne?k.projectionCache.anyProjectionOccluded?null:{first:W,last:ne}:null}function Kc(y,r,d,h){return y===a.az.horizontal&&Math.abs(d.y-r.y)>Math.abs(d.x-r.x)*h?{useVertical:!0}:(y===a.az.vertical?r.y<d.y:r.x>d.x)?{needsFlipping:!0}:null}function Sl(y){let{projectionContext:r,pitchedLabelPlaneMatrixInverse:d,symbol:h,fontSize:f,flip:v,keepUpright:w,glyphOffsetArray:k,dynamicLayoutVertexArray:P,aspectRatio:F,rotateToLine:B}=y,j=f/24,H=h.lineOffsetX*j,W=h.lineOffsetY*j,ne;if(h.numGlyphs>1){let he=h.glyphStartIndex+h.numGlyphs,fe=h.lineStartIndex,me=h.lineStartIndex+h.lineLength,be=Cl(j,k,H,W,v,h,B,r);if(!be)return{notEnoughRoom:!0};let Me=au(be.first.point.x,be.first.point.y,r,d),_e=au(be.last.point.x,be.last.point.y,r,d);if(w&&!v){let Se=Kc(h.writingMode,Me,_e,F);if(Se)return Se}ne=[be.first];for(let Se=h.glyphStartIndex+1;Se<he-1;Se++){let Pe=br(j*k.getoffsetX(Se),H,W,v,h.segment,fe,me,r,B);if(!Pe)return{notEnoughRoom:!0};ne.push(Pe)}ne.push(be.last)}else{if(w&&!v){let fe=cn(r.tileAnchorPoint.x,r.tileAnchorPoint.y,r).point,me=h.lineStartIndex+h.segment+1,be=new a.P(r.lineVertexArray.getx(me),r.lineVertexArray.gety(me)),Me=cn(be.x,be.y,r),_e=Me.signedDistanceFromCamera>0?Me.point:Wc(r.tileAnchorPoint,be,fe,1,r),Se=au(fe.x,fe.y,r,d),Pe=au(_e.x,_e.y,r,d),Ie=Kc(h.writingMode,Se,Pe,F);if(Ie)return Ie}let he=br(j*k.getoffsetX(h.glyphStartIndex),H,W,v,h.segment,h.lineStartIndex,h.lineStartIndex+h.lineLength,r,B);if(!he||r.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};ne=[he]}for(let he of ne)a.aG(P,he.point,he.angle);return{}}function Wc(y,r,d,h,f){let v=y.add(y.sub(r)._unit()),w=cn(v.x,v.y,f).point,k=d.sub(w);return d.add(k._mult(h/k.mag()))}function po(y,r,d){let h=r.projectionCache;if(h.projections[y])return h.projections[y];let f=new a.P(r.lineVertexArray.getx(y),r.lineVertexArray.gety(y)),v=cn(f.x,f.y,r);if(v.signedDistanceFromCamera>0)return h.projections[y]=v.point,h.anyProjectionOccluded=h.anyProjectionOccluded||v.isOccluded,v.point;let w=y-d.direction;return Wc(d.distanceFromAnchor===0?r.tileAnchorPoint:new a.P(r.lineVertexArray.getx(w),r.lineVertexArray.gety(w)),f,d.previousVertex,d.absOffsetX-d.distanceFromAnchor+1,r)}function cn(y,r,d){let h=y+d.translation[0],f=r+d.translation[1],v;return d.pitchWithMap?(v=xi(h,f,d.pitchedLabelPlaneMatrix,d.getElevation),v.isOccluded=!1):(v=d.transform.projectTileCoordinates(h,f,d.unwrappedTileID,d.getElevation),v.point.x=(.5*v.point.x+.5)*d.width,v.point.y=(.5*-v.point.y+.5)*d.height),v}function au(y,r,d,h){if(d.pitchWithMap){let f=[y,r,0,1];return a.aH(f,f,h),d.transform.projectTileCoordinates(f[0]/f[3],f[1]/f[3],d.unwrappedTileID,d.getElevation).point}return{x:y/d.width*2-1,y:1-r/d.height*2}}function Ml(y,r,d){return d.transform.projectTileCoordinates(y,r,d.unwrappedTileID,d.getElevation)}function Zc(y,r,d){return y._unit()._perp()._mult(r*d)}function js(y,r,d,h,f,v,w,k,P){if(k.projectionCache.offsets[y])return k.projectionCache.offsets[y];let F=d.add(r);if(y+P.direction<h||y+P.direction>=f)return k.projectionCache.offsets[y]=F,F;let B=po(y+P.direction,k,P),j=Zc(B.sub(d),w,P.direction),H=d.add(j),W=B.add(j);return k.projectionCache.offsets[y]=a.aI(v,F,H,W)||F,k.projectionCache.offsets[y]}function br(y,r,d,h,f,v,w,k,P){let F=h?y-r:y+r,B=F>0?1:-1,j=0;h&&(B*=-1,j=Math.PI),B<0&&(j+=Math.PI);let H,W=B>0?v+f:v+f+1;k.projectionCache.cachedAnchorPoint?H=k.projectionCache.cachedAnchorPoint:(H=cn(k.tileAnchorPoint.x,k.tileAnchorPoint.y,k).point,k.projectionCache.cachedAnchorPoint=H);let ne,he,fe=H,me=H,be=0,Me=0,_e=Math.abs(F),Se=[],Pe;for(;be+Me<=_e;){if(W+=B,W<v||W>=w)return null;be+=Me,me=fe,he=ne;let Ye={absOffsetX:_e,direction:B,distanceFromAnchor:be,previousVertex:me};if(fe=po(W,k,Ye),d===0)Se.push(me),Pe=fe.sub(me);else{let je,Ue=fe.sub(me);je=Ue.mag()===0?Zc(po(W+B,k,Ye).sub(fe),d,B):Zc(Ue,d,B),he||(he=me.add(je)),ne=js(W,je,fe,v,w,he,d,k,Ye),Se.push(he),Pe=ne.sub(he)}Me=Pe.mag()}let Ie=Pe._mult((_e-be)/Me)._add(he||me),Oe=j+Math.atan2(fe.y-me.y,fe.x-me.x);return Se.push(Ie),{point:Ie,angle:P?Oe:0,path:Se}}let Zm=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Gs(y,r){for(let d=0;d<y;d++){let h=r.length;r.resize(h+4),r.float32.set(Zm,3*h)}}function ou(y,r,d){let h=r[0],f=r[1];return y[0]=d[0]*h+d[4]*f+d[12],y[1]=d[1]*h+d[5]*f+d[13],y[3]=d[3]*h+d[7]*f+d[15],y}let Zn=100;class Qm{constructor(r,d=new Ti(r.width+200,r.height+200,25),h=new Ti(r.width+200,r.height+200,25)){this.transform=r,this.grid=d,this.ignoredGrid=h,this.pitchFactor=Math.cos(r.pitch*Math.PI/180)*r.cameraToCenterDistance,this.screenRightBoundary=r.width+Zn,this.screenBottomBoundary=r.height+Zn,this.gridRightBoundary=r.width+200,this.gridBottomBoundary=r.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(r,d,h,f,v,w,k,P,F,B,j,H){let W=this.projectAndGetPerspectiveRatio(r.anchorPointX+P[0],r.anchorPointY+P[1],v,B,H),ne=h*W.perspectiveRatio,he;if(w||k)he=this._projectCollisionBox(r,ne,f,v,w,k,P,W,B,j,H);else{let Pe=W.x+(j?j.x*ne:0),Ie=W.y+(j?j.y*ne:0);he={allPointsOccluded:!1,box:[Pe+r.x1*ne,Ie+r.y1*ne,Pe+r.x2*ne,Ie+r.y2*ne]}}let[fe,me,be,Me]=he.box,_e=w?he.allPointsOccluded:W.isOccluded,Se=_e;return Se||(Se=W.perspectiveRatio<this.perspectiveRatioCutoff),Se||(Se=!this.isInsideGrid(fe,me,be,Me)),Se||d!=="always"&&this.grid.hitTest(fe,me,be,Me,d,F)?{box:[fe,me,be,Me],placeable:!1,offscreen:!1,occluded:_e}:{box:[fe,me,be,Me],placeable:!0,offscreen:this.isOffscreen(fe,me,be,Me),occluded:_e}}placeCollisionCircles(r,d,h,f,v,w,k,P,F,B,j,H,W,ne){let he=[],fe=new a.P(d.anchorX,d.anchorY),me=this.getPerspectiveRatio(fe.x,fe.y,w,ne),be=(F?v*this.transform.getPitchedTextCorrection(d.anchorX,d.anchorY,w)/me:v*me)/a.aM,Me={getElevation:ne,pitchedLabelPlaneMatrix:k,lineVertexArray:h,pitchWithMap:F,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:fe,unwrappedTileID:w,width:this.transform.width,height:this.transform.height,translation:W},_e=Cl(be,f,d.lineOffsetX*be,d.lineOffsetY*be,!1,d,!1,Me),Se=!1,Pe=!1,Ie=!0;if(_e){let Oe=.5*j*me+H,Ye=new a.P(-100,-100),je=new a.P(this.screenRightBoundary,this.screenBottomBoundary),Ue=new At,$e=_e.first,Tt=_e.last,Ct=[];for(let yi=$e.path.length-1;yi>=1;yi--)Ct.push($e.path[yi]);for(let yi=1;yi<Tt.path.length;yi++)Ct.push(Tt.path[yi]);let pt=2.5*Oe;if(F){let yi=this.projectPathToScreenSpace(Ct,Me);Ct=yi.some(on=>on.signedDistanceFromCamera<=0)?[]:yi.map(on=>on.point)}let kt=[];if(Ct.length>0){let yi=Ct[0].clone(),on=Ct[0].clone();for(let Mn=1;Mn<Ct.length;Mn++)yi.x=Math.min(yi.x,Ct[Mn].x),yi.y=Math.min(yi.y,Ct[Mn].y),on.x=Math.max(on.x,Ct[Mn].x),on.y=Math.max(on.y,Ct[Mn].y);kt=yi.x>=Ye.x&&on.x<=je.x&&yi.y>=Ye.y&&on.y<=je.y?[Ct]:on.x<Ye.x||yi.x>je.x||on.y<Ye.y||yi.y>je.y?[]:a.aJ([Ct],Ye.x,Ye.y,je.x,je.y)}for(let yi of kt){Ue.reset(yi,.25*Oe);let on=0;on=Ue.length<=.5*Oe?1:Math.ceil(Ue.paddedLength/pt)+1;for(let Mn=0;Mn<on;Mn++){let bn=Mn/Math.max(on-1,1),Ln=Ue.lerp(bn),yn=Ln.x+Zn,Xn=Ln.y+Zn;he.push(yn,Xn,Oe,0);let An=yn-Oe,za=Xn-Oe,fa=yn+Oe,ca=Xn+Oe;if(Ie=Ie&&this.isOffscreen(An,za,fa,ca),Pe=Pe||this.isInsideGrid(An,za,fa,ca),r!=="always"&&this.grid.hitTestCircle(yn,Xn,Oe,r,B)&&(Se=!0,!P))return{circles:[],offscreen:!1,collisionDetected:Se}}}}return{circles:!P&&Se||!Pe||me<this.perspectiveRatioCutoff?[]:he,offscreen:Ie,collisionDetected:Se}}projectPathToScreenSpace(r,d){let h=function(f,v){let w=a.N();return a.aB(w,v.pitchedLabelPlaneMatrix),f.map(k=>{let P=xi(k.x,k.y,w,v.getElevation),F=v.transform.projectTileCoordinates(P.point.x,P.point.y,v.unwrappedTileID,v.getElevation);return F.point.x=(.5*F.point.x+.5)*v.width,F.point.y=(.5*-F.point.y+.5)*v.height,F})}(r,d);return function(f){let v=0,w=0,k=0,P=0;for(let F=0;F<f.length;F++)f[F].isOccluded?(k=F+1,P=0):(P++,P>w&&(w=P,v=k));return f.slice(v,v+w)}(h)}queryRenderedSymbols(r){if(r.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};let d=[],h=new a.aa;for(let j of r){let H=new a.P(j.x+Zn,j.y+Zn);h.extend(H),d.push(H)}let{minX:f,minY:v,maxX:w,maxY:k}=h,P=this.grid.query(f,v,w,k).concat(this.ignoredGrid.query(f,v,w,k)),F={},B={};for(let j of P){let H=j.key;if(F[H.bucketInstanceId]===void 0&&(F[H.bucketInstanceId]={}),F[H.bucketInstanceId][H.featureIndex])continue;let W=[new a.P(j.x1,j.y1),new a.P(j.x2,j.y1),new a.P(j.x2,j.y2),new a.P(j.x1,j.y2)];a.aK(d,W)&&(F[H.bucketInstanceId][H.featureIndex]=!0,B[H.bucketInstanceId]===void 0&&(B[H.bucketInstanceId]=[]),B[H.bucketInstanceId].push(H.featureIndex))}return B}insertCollisionBox(r,d,h,f,v,w){(h?this.ignoredGrid:this.grid).insert({bucketInstanceId:f,featureIndex:v,collisionGroupID:w,overlapMode:d},r[0],r[1],r[2],r[3])}insertCollisionCircles(r,d,h,f,v,w){let k=h?this.ignoredGrid:this.grid,P={bucketInstanceId:f,featureIndex:v,collisionGroupID:w,overlapMode:d};for(let F=0;F<r.length;F+=4)k.insertCircle(P,r[F],r[F+1],r[F+2])}projectAndGetPerspectiveRatio(r,d,h,f,v){if(v){let w;f?(w=[r,d,f(r,d),1],a.aH(w,w,v)):(w=[r,d,0,1],ou(w,w,v));let k=w[3];return{x:(w[0]/k+1)/2*this.transform.width+Zn,y:(-w[1]/k+1)/2*this.transform.height+Zn,perspectiveRatio:.5+this.transform.cameraToCenterDistance/k*.5,isOccluded:!1,signedDistanceFromCamera:k}}{let w=this.transform.projectTileCoordinates(r,d,h,f);return{x:(w.point.x+1)/2*this.transform.width+Zn,y:(1-w.point.y)/2*this.transform.height+Zn,perspectiveRatio:.5+this.transform.cameraToCenterDistance/w.signedDistanceFromCamera*.5,isOccluded:w.isOccluded,signedDistanceFromCamera:w.signedDistanceFromCamera}}}getPerspectiveRatio(r,d,h,f){let v=this.transform.projectTileCoordinates(r,d,h,f);return .5+this.transform.cameraToCenterDistance/v.signedDistanceFromCamera*.5}isOffscreen(r,d,h,f){return h<Zn||r>=this.screenRightBoundary||f<Zn||d>this.screenBottomBoundary}isInsideGrid(r,d,h,f){return h>=0&&r<this.gridRightBoundary&&f>=0&&d<this.gridBottomBoundary}getViewportMatrix(){let r=a.ar([]);return a.O(r,r,[-100,-100,0]),r}_projectCollisionBox(r,d,h,f,v,w,k,P,F,B,j){let H=1,W=0,ne=0,he=1,fe=r.anchorPointX+k[0],me=r.anchorPointY+k[1];if(w&&!v){let Ct=this.projectAndGetPerspectiveRatio(fe+1,me,f,F,j),pt=Ct.x-P.x,kt=Math.atan((Ct.y-P.y)/pt)+(pt<0?Math.PI:0),yi=Math.sin(kt),on=Math.cos(kt);H=on,W=yi,ne=-yi,he=on}else if(!w&&v){let Ct=Qr(this.transform);H=Ct.vecEast[0],W=Ct.vecEast[1],ne=Ct.vecSouth[0],he=Ct.vecSouth[1]}let be=P.x,Me=P.y,_e=d;v&&(be=fe,Me=me,_e=Math.pow(2,-(this.transform.zoom-h.overscaledZ)),_e*=this.transform.getPitchedTextCorrection(fe,me,f),B||(_e*=a.an(.5+P.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),B&&(be+=H*B.x*_e+ne*B.y*_e,Me+=W*B.x*_e+he*B.y*_e);let Se=r.x1*_e,Pe=r.x2*_e,Ie=(Se+Pe)/2,Oe=r.y1*_e,Ye=r.y2*_e,je=(Oe+Ye)/2,Ue=[{offsetX:Se,offsetY:Oe},{offsetX:Ie,offsetY:Oe},{offsetX:Pe,offsetY:Oe},{offsetX:Pe,offsetY:je},{offsetX:Pe,offsetY:Ye},{offsetX:Ie,offsetY:Ye},{offsetX:Se,offsetY:Ye},{offsetX:Se,offsetY:je}],$e=[];for(let{offsetX:Ct,offsetY:pt}of Ue)$e.push(new a.P(be+H*Ct+ne*pt,Me+W*Ct+he*pt));let Tt=!1;if(v){let Ct=$e.map(pt=>this.projectAndGetPerspectiveRatio(pt.x,pt.y,f,F,j));Tt=Ct.some(pt=>!pt.isOccluded),$e=Ct.map(pt=>new a.P(pt.x,pt.y))}else Tt=!0;return{box:a.aL($e),allPointsOccluded:!Tt}}}class Xm{constructor(r,d,h,f){this.opacity=r?Math.max(0,Math.min(1,r.opacity+(r.placed?d:-d))):f&&h?1:0,this.placed=h}isHidden(){return this.opacity===0&&!this.placed}}class Qc{constructor(r,d,h,f,v){this.text=new Xm(r?r.text:null,d,h,v),this.icon=new Xm(r?r.icon:null,d,f,v)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ym{constructor(r,d,h){this.text=r,this.icon=d,this.skipFade=h}}class Jm{constructor(r,d,h,f,v){this.bucketInstanceId=r,this.featureIndex=d,this.sourceLayerIndex=h,this.bucketIndex=f,this.tileID=v}}class ef{constructor(r){this.crossSourceCollisions=r,this.maxGroupID=0,this.collisionGroups={}}get(r){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[r]){let d=++this.maxGroupID;this.collisionGroups[r]={ID:d,predicate:h=>h.collisionGroupID===d}}return this.collisionGroups[r]}}function ru(y,r,d,h,f){let{horizontalAlign:v,verticalAlign:w}=a.aS(y);return new a.P(-(v-.5)*r+h[0]*f,-(w-.5)*d+h[1]*f)}class Zp{constructor(r,d,h,f,v){this.transform=r.clone(),this.terrain=d,this.collisionIndex=new Qm(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=h,this.retainedQueryData={},this.collisionGroups=new ef(f),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=v,v&&(v.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(r){let d=this.terrain;return d?(h,f)=>d.getElevation(r,h,f):null}getBucketParts(r,d,h,f){let v=h.getBucket(d),w=h.latestFeatureIndex;if(!v||!w||d.id!==v.layerIds[0])return;let k=h.collisionBoxArray,P=v.layers[0].layout,F=v.layers[0].paint,B=Math.pow(2,this.transform.zoom-h.tileID.overscaledZ),j=h.tileSize/a.a5,H=h.tileID.toUnwrapped(),W=P.get("text-rotation-alignment")==="map",ne=a.aN(h,1,this.transform.zoom),he=a.aO(this.collisionIndex.transform,h,F.get("text-translate"),F.get("text-translate-anchor")),fe=a.aO(this.collisionIndex.transform,h,F.get("icon-translate"),F.get("icon-translate-anchor")),me=No(W,this.transform,ne);this.retainedQueryData[v.bucketInstanceId]=new Jm(v.bucketInstanceId,w,v.sourceLayerIndex,v.index,h.tileID);let be={bucket:v,layout:P,translationText:he,translationIcon:fe,unwrappedTileID:H,pitchedLabelPlaneMatrix:me,scale:B,textPixelRatio:j,holdingForFade:h.holdingForSymbolFade(),collisionBoxArray:k,partiallyEvaluatedTextSize:a.ay(v.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(v.sourceID)};if(f)for(let Me of v.sortKeyRanges){let{sortKey:_e,symbolInstanceStart:Se,symbolInstanceEnd:Pe}=Me;r.push({sortKey:_e,symbolInstanceStart:Se,symbolInstanceEnd:Pe,parameters:be})}else r.push({symbolInstanceStart:0,symbolInstanceEnd:v.symbolInstances.length,parameters:be})}attemptAnchorPlacement(r,d,h,f,v,w,k,P,F,B,j,H,W,ne,he,fe,me,be,Me,_e){let Se=a.aP[r.textAnchor],Pe=[r.textOffset0,r.textOffset1],Ie=ru(Se,h,f,Pe,v),Oe=this.collisionIndex.placeCollisionBox(d,H,P,F,B,k,w,fe,j.predicate,Me,Ie,_e);if((!be||this.collisionIndex.placeCollisionBox(be,H,P,F,B,k,w,me,j.predicate,Me,Ie,_e).placeable)&&Oe.placeable){let Ye;if(this.prevPlacement&&this.prevPlacement.variableOffsets[W.crossTileID]&&this.prevPlacement.placements[W.crossTileID]&&this.prevPlacement.placements[W.crossTileID].text&&(Ye=this.prevPlacement.variableOffsets[W.crossTileID].anchor),W.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[W.crossTileID]={textOffset:Pe,width:h,height:f,anchor:Se,textBoxScale:v,prevAnchor:Ye},this.markUsedJustification(ne,Se,W,he),ne.allowVerticalPlacement&&(this.markUsedOrientation(ne,he,W),this.placedOrientations[W.crossTileID]=he),{shift:Ie,placedGlyphBoxes:Oe}}}placeLayerBucketPart(r,d,h){let{bucket:f,layout:v,translationText:w,translationIcon:k,unwrappedTileID:P,pitchedLabelPlaneMatrix:F,textPixelRatio:B,holdingForFade:j,collisionBoxArray:H,partiallyEvaluatedTextSize:W,collisionGroup:ne}=r.parameters,he=v.get("text-optional"),fe=v.get("icon-optional"),me=a.aQ(v,"text-overlap","text-allow-overlap"),be=me==="always",Me=a.aQ(v,"icon-overlap","icon-allow-overlap"),_e=Me==="always",Se=v.get("text-rotation-alignment")==="map",Pe=v.get("text-pitch-alignment")==="map",Ie=v.get("icon-text-fit")!=="none",Oe=v.get("symbol-z-order")==="viewport-y",Ye=be&&(_e||!f.hasIconData()||fe),je=_e&&(be||!f.hasTextData()||he);!f.collisionArrays&&H&&f.deserializeCollisionBoxes(H);let Ue=this.retainedQueryData[f.bucketInstanceId].tileID,$e=this._getTerrainElevationFunc(Ue),Tt=this.transform.getFastPathSimpleProjectionMatrix(Ue),Ct=(pt,kt,yi)=>{var on,Mn;if(d[pt.crossTileID])return;if(j)return void(this.placements[pt.crossTileID]=new Ym(!1,!1,!1));let bn=!1,Ln=!1,yn=!0,Xn=null,An={box:null,placeable:!1,offscreen:null,occluded:!1},za={placeable:!1},fa=null,ca=null,$a=null,Ts=0,Jr=0,Rr=0;kt.textFeatureIndex?Ts=kt.textFeatureIndex:pt.useRuntimeCollisionCircles&&(Ts=pt.featureIndex),kt.verticalTextFeatureIndex&&(Jr=kt.verticalTextFeatureIndex);let So=kt.textBox;if(So){let tr=In=>{let vn=a.az.horizontal;if(f.allowVerticalPlacement&&!In&&this.prevPlacement){let Ca=this.prevPlacement.placedOrientations[pt.crossTileID];Ca&&(this.placedOrientations[pt.crossTileID]=Ca,vn=Ca,this.markUsedOrientation(f,vn,pt))}return vn},Br=(In,vn)=>{if(f.allowVerticalPlacement&&pt.numVerticalGlyphVertices>0&&kt.verticalTextBox){for(let Ca of f.writingModes)if(Ca===a.az.vertical?(An=vn(),za=An):An=In(),An&&An.placeable)break}else An=In()},Tr=pt.textAnchorOffsetStartIndex,Cr=pt.textAnchorOffsetEndIndex;if(Cr===Tr){let In=(vn,Ca)=>{let Sa=this.collisionIndex.placeCollisionBox(vn,me,B,Ue,P,Pe,Se,w,ne.predicate,$e,void 0,Tt);return Sa&&Sa.placeable&&(this.markUsedOrientation(f,Ca,pt),this.placedOrientations[pt.crossTileID]=Ca),Sa};Br(()=>In(So,a.az.horizontal),()=>{let vn=kt.verticalTextBox;return f.allowVerticalPlacement&&pt.numVerticalGlyphVertices>0&&vn?In(vn,a.az.vertical):{box:null,offscreen:null}}),tr(An&&An.placeable)}else{let In=a.aP[(Mn=(on=this.prevPlacement)===null||on===void 0?void 0:on.variableOffsets[pt.crossTileID])===null||Mn===void 0?void 0:Mn.anchor],vn=(Sa,Qf,Xf)=>{let ll=Sa.x2-Sa.x1,_1=Sa.y2-Sa.y1,Yf=pt.textBoxScale,jh=Ie&&Me==="never"?Qf:null,Cs=null,Ss=me==="never"?1:2,Ms="never";In&&Ss++;for(let Gh=0;Gh<Ss;Gh++){for(let Uh=Tr;Uh<Cr;Uh++){let ju=f.textAnchorOffsets.get(Uh);if(In&&ju.textAnchor!==In)continue;let Gu=this.attemptAnchorPlacement(ju,Sa,ll,_1,Yf,Se,Pe,B,Ue,P,ne,Ms,pt,f,Xf,w,k,jh,$e);if(Gu&&(Cs=Gu.placedGlyphBoxes,Cs&&Cs.placeable))return bn=!0,Xn=Gu.shift,Cs}In?In=null:Ms=me}return h&&!Cs&&(Cs={box:this.collisionIndex.placeCollisionBox(So,"always",B,Ue,P,Pe,Se,w,ne.predicate,$e,void 0,Tt).box,offscreen:!1,placeable:!1,occluded:!1}),Cs};Br(()=>vn(So,kt.iconBox,a.az.horizontal),()=>{let Sa=kt.verticalTextBox;return f.allowVerticalPlacement&&(!An||!An.placeable)&&pt.numVerticalGlyphVertices>0&&Sa?vn(Sa,kt.verticalIconBox,a.az.vertical):{box:null,occluded:!0,offscreen:null}}),An&&(bn=An.placeable,yn=An.offscreen);let Ca=tr(An&&An.placeable);if(!bn&&this.prevPlacement){let Sa=this.prevPlacement.variableOffsets[pt.crossTileID];Sa&&(this.variableOffsets[pt.crossTileID]=Sa,this.markUsedJustification(f,Sa.anchor,pt,Ca))}}}if(fa=An,bn=fa&&fa.placeable,yn=fa&&fa.offscreen,pt.useRuntimeCollisionCircles&&pt.centerJustifiedTextSymbolIndex>=0){let tr=f.text.placedSymbolArray.get(pt.centerJustifiedTextSymbolIndex),Br=a.aA(f.textSizeData,W,tr),Tr=v.get("text-padding");ca=this.collisionIndex.placeCollisionCircles(me,tr,f.lineVertexArray,f.glyphOffsetArray,Br,P,F,h,Pe,ne.predicate,pt.collisionCircleDiameter,Tr,w,$e),ca.circles.length&&ca.collisionDetected&&!h&&a.w("Collisions detected, but collision boxes are not shown"),bn=be||ca.circles.length>0&&!ca.collisionDetected,yn=yn&&ca.offscreen}if(kt.iconFeatureIndex&&(Rr=kt.iconFeatureIndex),kt.iconBox){let tr=Br=>this.collisionIndex.placeCollisionBox(Br,Me,B,Ue,P,Pe,Se,k,ne.predicate,$e,Ie&&Xn?Xn:void 0,Tt);za&&za.placeable&&kt.verticalIconBox?($a=tr(kt.verticalIconBox),Ln=$a.placeable):($a=tr(kt.iconBox),Ln=$a.placeable),yn=yn&&$a.offscreen}let rl=he||pt.numHorizontalGlyphVertices===0&&pt.numVerticalGlyphVertices===0,Pd=fe||pt.numIconVertices===0;rl||Pd?Pd?rl||(Ln=Ln&&bn):bn=Ln&&bn:Ln=bn=Ln&&bn;let sl=Ln&&$a.placeable;if(bn&&fa.placeable&&this.collisionIndex.insertCollisionBox(fa.box,me,v.get("text-ignore-placement"),f.bucketInstanceId,za&&za.placeable&&Jr?Jr:Ts,ne.ID),sl&&this.collisionIndex.insertCollisionBox($a.box,Me,v.get("icon-ignore-placement"),f.bucketInstanceId,Rr,ne.ID),ca&&bn&&this.collisionIndex.insertCollisionCircles(ca.circles,me,v.get("text-ignore-placement"),f.bucketInstanceId,Ts,ne.ID),h&&this.storeCollisionData(f.bucketInstanceId,yi,kt,fa,$a,ca),pt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(f.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[pt.crossTileID]=new Ym((bn||Ye)&&!fa?.occluded,(Ln||je)&&!$a?.occluded,yn||f.justReloaded),d[pt.crossTileID]=!0};if(Oe){if(r.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");let pt=f.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let kt=pt.length-1;kt>=0;--kt){let yi=pt[kt];Ct(f.symbolInstances.get(yi),f.collisionArrays[yi],yi)}}else for(let pt=r.symbolInstanceStart;pt<r.symbolInstanceEnd;pt++)Ct(f.symbolInstances.get(pt),f.collisionArrays[pt],pt);f.justReloaded=!1}storeCollisionData(r,d,h,f,v,w){if(h.textBox||h.iconBox){let k,P;this.collisionBoxArrays.has(r)?k=this.collisionBoxArrays.get(r):(k=new Map,this.collisionBoxArrays.set(r,k)),k.has(d)?P=k.get(d):(P={text:null,icon:null},k.set(d,P)),h.textBox&&(P.text=f.box),h.iconBox&&(P.icon=v.box)}if(w){let k=this.collisionCircleArrays[r];k===void 0&&(k=this.collisionCircleArrays[r]=[]);for(let P=0;P<w.circles.length;P+=4)k.push(w.circles[P+0]-Zn),k.push(w.circles[P+1]-Zn),k.push(w.circles[P+2]),k.push(w.collisionDetected?1:0)}}markUsedJustification(r,d,h,f){let v;v=f===a.az.vertical?h.verticalPlacedTextSymbolIndex:{left:h.leftJustifiedTextSymbolIndex,center:h.centerJustifiedTextSymbolIndex,right:h.rightJustifiedTextSymbolIndex}[a.aR(d)];let w=[h.leftJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.rightJustifiedTextSymbolIndex,h.verticalPlacedTextSymbolIndex];for(let k of w)k>=0&&(r.text.placedSymbolArray.get(k).crossTileID=v>=0&&k!==v?0:h.crossTileID)}markUsedOrientation(r,d,h){let f=d===a.az.horizontal||d===a.az.horizontalOnly?d:0,v=d===a.az.vertical?d:0,w=[h.leftJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.rightJustifiedTextSymbolIndex];for(let k of w)r.text.placedSymbolArray.get(k).placedOrientation=f;h.verticalPlacedTextSymbolIndex&&(r.text.placedSymbolArray.get(h.verticalPlacedTextSymbolIndex).placedOrientation=v)}commit(r){this.commitTime=r,this.zoomAtLastRecencyCheck=this.transform.zoom;let d=this.prevPlacement,h=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;let f=d?d.symbolFadeChange(r):1,v=d?d.opacities:{},w=d?d.variableOffsets:{},k=d?d.placedOrientations:{};for(let P in this.placements){let F=this.placements[P],B=v[P];B?(this.opacities[P]=new Qc(B,f,F.text,F.icon),h=h||F.text!==B.text.placed||F.icon!==B.icon.placed):(this.opacities[P]=new Qc(null,f,F.text,F.icon,F.skipFade),h=h||F.text||F.icon)}for(let P in v){let F=v[P];if(!this.opacities[P]){let B=new Qc(F,f,!1,!1);B.isHidden()||(this.opacities[P]=B,h=h||F.text.placed||F.icon.placed)}}for(let P in w)this.variableOffsets[P]||!this.opacities[P]||this.opacities[P].isHidden()||(this.variableOffsets[P]=w[P]);for(let P in k)this.placedOrientations[P]||!this.opacities[P]||this.opacities[P].isHidden()||(this.placedOrientations[P]=k[P]);if(d&&d.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");h?this.lastPlacementChangeTime=r:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:r)}updateLayerOpacities(r,d){let h={};for(let f of d){let v=f.getBucket(r);v&&f.latestFeatureIndex&&r.id===v.layerIds[0]&&this.updateBucketOpacities(v,f.tileID,h,f.collisionBoxArray)}}updateBucketOpacities(r,d,h,f){r.hasTextData()&&(r.text.opacityVertexArray.clear(),r.text.hasVisibleVertices=!1),r.hasIconData()&&(r.icon.opacityVertexArray.clear(),r.icon.hasVisibleVertices=!1),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexArray.clear(),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexArray.clear();let v=r.layers[0],w=v.layout,k=new Qc(null,0,!1,!1,!0),P=w.get("text-allow-overlap"),F=w.get("icon-allow-overlap"),B=v._unevaluatedLayout.hasValue("text-variable-anchor")||v._unevaluatedLayout.hasValue("text-variable-anchor-offset"),j=w.get("text-rotation-alignment")==="map",H=w.get("text-pitch-alignment")==="map",W=w.get("icon-text-fit")!=="none",ne=new Qc(null,0,P&&(F||!r.hasIconData()||w.get("icon-optional")),F&&(P||!r.hasTextData()||w.get("text-optional")),!0);!r.collisionArrays&&f&&(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData())&&r.deserializeCollisionBoxes(f);let he=(me,be,Me)=>{for(let _e=0;_e<be/4;_e++)me.opacityVertexArray.emplaceBack(Me);me.hasVisibleVertices=me.hasVisibleVertices||Me!==Yc},fe=this.collisionBoxArrays.get(r.bucketInstanceId);for(let me=0;me<r.symbolInstances.length;me++){let be=r.symbolInstances.get(me),{numHorizontalGlyphVertices:Me,numVerticalGlyphVertices:_e,crossTileID:Se}=be,Pe=this.opacities[Se];h[Se]?Pe=k:Pe||(Pe=ne,this.opacities[Se]=Pe),h[Se]=!0;let Ie=be.numIconVertices>0,Oe=this.placedOrientations[be.crossTileID],Ye=Oe===a.az.vertical,je=Oe===a.az.horizontal||Oe===a.az.horizontalOnly;if(Me>0||_e>0){let $e=Jp(Pe.text);he(r.text,Me,Ye?Yc:$e),he(r.text,_e,je?Yc:$e);let Tt=Pe.text.isHidden();[be.rightJustifiedTextSymbolIndex,be.centerJustifiedTextSymbolIndex,be.leftJustifiedTextSymbolIndex].forEach(kt=>{kt>=0&&(r.text.placedSymbolArray.get(kt).hidden=Tt||Ye?1:0)}),be.verticalPlacedTextSymbolIndex>=0&&(r.text.placedSymbolArray.get(be.verticalPlacedTextSymbolIndex).hidden=Tt||je?1:0);let Ct=this.variableOffsets[be.crossTileID];Ct&&this.markUsedJustification(r,Ct.anchor,be,Oe);let pt=this.placedOrientations[be.crossTileID];pt&&(this.markUsedJustification(r,"left",be,pt),this.markUsedOrientation(r,pt,be))}if(Ie){let $e=Jp(Pe.icon),Tt=!(W&&be.verticalPlacedIconSymbolIndex&&Ye);be.placedIconSymbolIndex>=0&&(he(r.icon,be.numIconVertices,Tt?$e:Yc),r.icon.placedSymbolArray.get(be.placedIconSymbolIndex).hidden=Pe.icon.isHidden()),be.verticalPlacedIconSymbolIndex>=0&&(he(r.icon,be.numVerticalIconVertices,Tt?Yc:$e),r.icon.placedSymbolArray.get(be.verticalPlacedIconSymbolIndex).hidden=Pe.icon.isHidden())}let Ue=fe&&fe.has(me)?fe.get(me):{text:null,icon:null};if(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData()){let $e=r.collisionArrays[me];if($e){let Tt=new a.P(0,0);if($e.textBox||$e.verticalTextBox){let Ct=!0;if(B){let pt=this.variableOffsets[Se];pt?(Tt=ru(pt.anchor,pt.width,pt.height,pt.textOffset,pt.textBoxScale),j&&Tt._rotate(H?-this.transform.bearingInRadians:this.transform.bearingInRadians)):Ct=!1}if($e.textBox||$e.verticalTextBox){let pt;$e.textBox&&(pt=Ye),$e.verticalTextBox&&(pt=je),Qp(r.textCollisionBox.collisionVertexArray,Pe.text.placed,!Ct||pt,Ue.text,Tt.x,Tt.y)}}if($e.iconBox||$e.verticalIconBox){let Ct=!!(!je&&$e.verticalIconBox),pt;$e.iconBox&&(pt=Ct),$e.verticalIconBox&&(pt=!Ct),Qp(r.iconCollisionBox.collisionVertexArray,Pe.icon.placed,pt,Ue.icon,W?Tt.x:0,W?Tt.y:0)}}}}if(r.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[r.bucketInstanceId]&&(this.retainedQueryData[r.bucketInstanceId].featureSortOrder=r.featureSortOrder),r.hasTextData()&&r.text.opacityVertexBuffer&&r.text.opacityVertexBuffer.updateData(r.text.opacityVertexArray),r.hasIconData()&&r.icon.opacityVertexBuffer&&r.icon.opacityVertexBuffer.updateData(r.icon.opacityVertexArray),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexBuffer&&r.iconCollisionBox.collisionVertexBuffer.updateData(r.iconCollisionBox.collisionVertexArray),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexBuffer&&r.textCollisionBox.collisionVertexBuffer.updateData(r.textCollisionBox.collisionVertexArray),r.text.opacityVertexArray.length!==r.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${r.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${r.text.layoutVertexArray.length}) / 4`);if(r.icon.opacityVertexArray.length!==r.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${r.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${r.icon.layoutVertexArray.length}) / 4`);r.bucketInstanceId in this.collisionCircleArrays&&(r.collisionCircleArray=this.collisionCircleArrays[r.bucketInstanceId],delete this.collisionCircleArrays[r.bucketInstanceId])}symbolFadeChange(r){return this.fadeDuration===0?1:(r-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(r){return Math.max(0,(this.transform.zoom-r)/1.5)}hasTransitions(r){return this.stale||r-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(r,d){let h=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*h>r}setStale(){this.stale=!0}}function Qp(y,r,d,h,f,v){h&&h.length!==0||(h=[0,0,0,0]);let w=h[0]-Zn,k=h[1]-Zn,P=h[2]-Zn,F=h[3]-Zn;y.emplaceBack(r?1:0,d?1:0,f||0,v||0,w,k),y.emplaceBack(r?1:0,d?1:0,f||0,v||0,P,k),y.emplaceBack(r?1:0,d?1:0,f||0,v||0,P,F),y.emplaceBack(r?1:0,d?1:0,f||0,v||0,w,F)}let Xp=Math.pow(2,25),Yp=Math.pow(2,24),$_=Math.pow(2,17),Xc=Math.pow(2,16),su=Math.pow(2,9),tf=Math.pow(2,8),kl=Math.pow(2,1);function Jp(y){if(y.opacity===0&&!y.placed)return 0;if(y.opacity===1&&y.placed)return 4294967295;let r=y.placed?1:0,d=Math.floor(127*y.opacity);return d*Xp+r*Yp+d*$_+r*Xc+d*su+r*tf+d*kl+r}let Yc=0;class fs{constructor(r){this._sortAcrossTiles=r.layout.get("symbol-z-order")!=="viewport-y"&&!r.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(r,d,h,f,v){let w=this._bucketParts;for(;this._currentTileIndex<r.length;)if(d.getBucketParts(w,f,r[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,v())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,w.sort((k,P)=>k.sortKey-P.sortKey));this._currentPartIndex<w.length;)if(d.placeLayerBucketPart(w[this._currentPartIndex],this._seenCrossTileIDs,h),this._currentPartIndex++,v())return!0;return!1}}class El{constructor(r,d,h,f,v,w,k,P){this.placement=new Zp(r,d,w,k,P),this._currentPlacementIndex=h.length-1,this._forceFullPlacement=f,this._showCollisionBoxes=v,this._done=!1}isDone(){return this._done}continuePlacement(r,d,h){let f=oe(),v=()=>!this._forceFullPlacement&&oe()-f>2;for(;this._currentPlacementIndex>=0;){let w=d[r[this._currentPlacementIndex]],k=this.placement.collisionIndex.transform.zoom;if(w.type==="symbol"&&(!w.minzoom||w.minzoom<=k)&&(!w.maxzoom||w.maxzoom>k)){if(this._inProgressLayer||(this._inProgressLayer=new fs(w)),this._inProgressLayer.continuePlacement(h[w.source],this.placement,this._showCollisionBoxes,w,v))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(r){return this.placement.commit(r),this.placement}}let Ci=512/a.a5/2;class eh{constructor(r,d,h){this.tileID=r,this.bucketInstanceId=h,this._symbolsByKey={};let f=new Map;for(let v=0;v<d.length;v++){let w=d.get(v),k=w.key,P=f.get(k);P?P.push(w):f.set(k,[w])}for(let[v,w]of f){let k={positions:w.map(P=>({x:Math.floor(P.anchorX*Ci),y:Math.floor(P.anchorY*Ci)})),crossTileIDs:w.map(P=>P.crossTileID)};if(k.positions.length>128){let P=new a.aT(k.positions.length,16,Uint16Array);for(let{x:F,y:B}of k.positions)P.add(F,B);P.finish(),delete k.positions,k.index=P}this._symbolsByKey[v]=k}}getScaledCoordinates(r,d){let{x:h,y:f,z:v}=this.tileID.canonical,{x:w,y:k,z:P}=d.canonical,F=Ci/Math.pow(2,P-v),B=(k*a.a5+r.anchorY)*F,j=f*a.a5*Ci;return{x:Math.floor((w*a.a5+r.anchorX)*F-h*a.a5*Ci),y:Math.floor(B-j)}}findMatches(r,d,h){let f=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z);for(let v=0;v<r.length;v++){let w=r.get(v);if(w.crossTileID)continue;let k=this._symbolsByKey[w.key];if(!k)continue;let P=this.getScaledCoordinates(w,d);if(k.index){let F=k.index.range(P.x-f,P.y-f,P.x+f,P.y+f).sort();for(let B of F){let j=k.crossTileIDs[B];if(!h[j]){h[j]=!0,w.crossTileID=j;break}}}else if(k.positions)for(let F=0;F<k.positions.length;F++){let B=k.positions[F],j=k.crossTileIDs[F];if(Math.abs(B.x-P.x)<=f&&Math.abs(B.y-P.y)<=f&&!h[j]){h[j]=!0,w.crossTileID=j;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:r})=>r)}}class K_{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class th{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(r){let d=Math.round((r-this.lng)/360);if(d!==0)for(let h in this.indexes){let f=this.indexes[h],v={};for(let w in f){let k=f[w];k.tileID=k.tileID.unwrapTo(k.tileID.wrap+d),v[k.tileID.key]=k}this.indexes[h]=v}this.lng=r}addBucket(r,d,h){if(this.indexes[r.overscaledZ]&&this.indexes[r.overscaledZ][r.key]){if(this.indexes[r.overscaledZ][r.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(r.overscaledZ,this.indexes[r.overscaledZ][r.key])}for(let v=0;v<d.symbolInstances.length;v++)d.symbolInstances.get(v).crossTileID=0;this.usedCrossTileIDs[r.overscaledZ]||(this.usedCrossTileIDs[r.overscaledZ]={});let f=this.usedCrossTileIDs[r.overscaledZ];for(let v in this.indexes){let w=this.indexes[v];if(Number(v)>r.overscaledZ)for(let k in w){let P=w[k];P.tileID.isChildOf(r)&&P.findMatches(d.symbolInstances,r,f)}else{let k=w[r.scaledTo(Number(v)).key];k&&k.findMatches(d.symbolInstances,r,f)}}for(let v=0;v<d.symbolInstances.length;v++){let w=d.symbolInstances.get(v);w.crossTileID||(w.crossTileID=h.generate(),f[w.crossTileID]=!0)}return this.indexes[r.overscaledZ]===void 0&&(this.indexes[r.overscaledZ]={}),this.indexes[r.overscaledZ][r.key]=new eh(r,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(r,d){for(let h of d.getCrossTileIDsLists())for(let f of h)delete this.usedCrossTileIDs[r][f]}removeStaleBuckets(r){let d=!1;for(let h in this.indexes){let f=this.indexes[h];for(let v in f)r[f[v].bucketInstanceId]||(this.removeBucketCrossTileIDs(h,f[v]),delete f[v],d=!0)}return d}}class To{constructor(){this.layerIndexes={},this.crossTileIDs=new K_,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(r,d,h){let f=this.layerIndexes[r.id];f===void 0&&(f=this.layerIndexes[r.id]=new th);let v=!1,w={};f.handleWrapJump(h);for(let k of d){let P=k.getBucket(r);P&&r.id===P.layerIds[0]&&(P.bucketInstanceId||(P.bucketInstanceId=++this.maxBucketInstanceId),f.addBucket(k.tileID,P,this.crossTileIDs)&&(v=!0),w[P.bucketInstanceId]=!0)}return f.removeStaleBuckets(w)&&(v=!0),v}pruneUnusedLayers(r){let d={};r.forEach(h=>{d[h]=!0});for(let h in this.layerIndexes)d[h]||delete this.layerIndexes[h]}}var Ya="void main() {fragColor=vec4(1.0);}";let zn={prelude:pi(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:pi("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:pi("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:pi(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:pi(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:pi(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:pi(Ya,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:pi(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:pi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:pi("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:pi("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),colorRelief:pi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;uniform vec4 u_unpack;uniform sampler2D u_elevation_stops;uniform sampler2D u_color_stops;uniform int u_color_ramp_size;uniform float u_opacity;in vec2 v_pos;float getElevation(vec2 coord) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}float getElevationStop(int stop) {float x=(float(stop)+0.5)/float(u_color_ramp_size);vec4 data=texture(u_elevation_stops,vec2(x,0))*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {float el=getElevation(v_pos);int r=(u_color_ramp_size-1);int l=0;float el_l=getElevationStop(l);float el_r=getElevationStop(r);while(r-l > 1){int m=(r+l)/2;float el_m=getElevationStop(m);if(el < el_m){r=m;el_r=el_m;}else
{l=m;el_l=el_m;}}float x=(float(l)+(el-el_l)/(el_r-el_l)+0.5)/float(u_color_ramp_size);fragColor=u_opacity*texture(u_color_stops,vec2(x,0));
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_dimension;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_pos/8192.0)*scale+epsilon;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),debug:pi("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:pi(Ya,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:pi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:pi(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:pi(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:pi(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:pi(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:pi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:pi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:pi(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;if (u_method==BASIC) {basic_hillshade(deriv);} else if (u_method==COMBINED) {combined_hillshade(deriv);} else if (u_method==IGOR) {igor_hillshade(deriv);} else if (u_method==MULTIDIRECTIONAL) {multidirectional_hillshade(deriv);} else if (u_method==STANDARD) {standard_hillshade(deriv);} else {standard_hillshade(deriv);}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:pi(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:pi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:pi(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:pi(`uniform lowp float u_device_pixel_ratio;uniform lowp float u_lineatlas_width;uniform sampler2D u_image;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfgamma=(u_lineatlas_width/256.0/u_device_pixel_ratio)/min(dasharray_from.w,dasharray_to.w);alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_tileratio;uniform float u_crossfade_from;uniform float u_crossfade_to;uniform float u_lineatlas_height;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
float u_patternscale_a_x=u_tileratio/dasharray_from.w/u_crossfade_from;float u_patternscale_a_y=-dasharray_from.z/2.0/u_lineatlas_height;float u_patternscale_b_x=u_tileratio/dasharray_to.w/u_crossfade_to;float u_patternscale_b_y=-dasharray_to.z/2.0/u_lineatlas_height;v_tex_a=vec2(a_linesofar*u_patternscale_a_x/floorwidth,normal.y*u_patternscale_a_y+(float(dasharray_from.y)+0.5)/u_lineatlas_height);v_tex_b=vec2(a_linesofar*u_patternscale_b_x/floorwidth,normal.y*u_patternscale_b_y+(float(dasharray_to.y)+0.5)/u_lineatlas_height);v_width2=vec2(outset,inset);}`),lineGradientSDF:pi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform sampler2D u_image_dash;uniform float u_mix;uniform lowp float u_lineatlas_width;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);float sdfdist_a=texture(u_image_dash,v_tex_a).a;float sdfdist_b=texture(u_image_dash,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfgamma=(u_lineatlas_width/256.0)/min(dasharray_from.w,dasharray_to.w);float dash_alpha=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*dash_alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;uniform float u_tileratio;uniform float u_crossfade_from;uniform float u_crossfade_to;uniform float u_lineatlas_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;out vec2 v_tex_a;out vec2 v_tex_b;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;float texel_height=1.0/u_image_height;float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
float u_patternscale_a_x=u_tileratio/dasharray_from.w/u_crossfade_from;float u_patternscale_a_y=-dasharray_from.z/2.0/u_lineatlas_height;float u_patternscale_b_x=u_tileratio/dasharray_to.w/u_crossfade_to;float u_patternscale_b_y=-dasharray_to.z/2.0/u_lineatlas_height;v_tex_a=vec2(a_linesofar*u_patternscale_a_x/floorwidth,normal.y*u_patternscale_a_y+(float(dasharray_from.y)+0.5)/u_lineatlas_height);v_tex_b=vec2(a_linesofar*u_patternscale_b_x/floorwidth,normal.y*u_patternscale_b_y+(float(dasharray_to.y)+0.5)/u_lineatlas_height);v_width2=vec2(outset,inset);}`),raster:pi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:pi(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:pi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:pi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:pi("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:pi("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:pi("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:pi("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:pi(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:pi("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function pi(y,r){let d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,h=r.match(/in ([\w]+) ([\w]+)/g),f=y.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),v=r.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),w=v?v.concat(f):f,k={};return{fragmentSource:y=y.replace(d,(P,F,B,j,H)=>(k[H]=!0,F==="define"?`
#ifndef HAS_UNIFORM_u_${H}
in ${B} ${j} ${H};
#else
uniform ${B} ${j} u_${H};
#endif
`:`
#ifdef HAS_UNIFORM_u_${H}
    ${B} ${j} ${H} = u_${H};
#endif
`)),vertexSource:r=r.replace(d,(P,F,B,j,H)=>{let W=j==="float"?"vec2":"vec4",ne=H.match(/color/)?"color":W;return k[H]?F==="define"?`
#ifndef HAS_UNIFORM_u_${H}
uniform lowp float u_${H}_t;
in ${B} ${W} a_${H};
out ${B} ${j} ${H};
#else
uniform ${B} ${j} u_${H};
#endif
`:ne==="vec4"?`
#ifndef HAS_UNIFORM_u_${H}
    ${H} = a_${H};
#else
    ${B} ${j} ${H} = u_${H};
#endif
`:`
#ifndef HAS_UNIFORM_u_${H}
    ${H} = unpack_mix_${ne}(a_${H}, u_${H}_t);
#else
    ${B} ${j} ${H} = u_${H};
#endif
`:F==="define"?`
#ifndef HAS_UNIFORM_u_${H}
uniform lowp float u_${H}_t;
in ${B} ${W} a_${H};
#else
uniform ${B} ${j} u_${H};
#endif
`:ne==="vec4"?`
#ifndef HAS_UNIFORM_u_${H}
    ${B} ${j} ${H} = a_${H};
#else
    ${B} ${j} ${H} = u_${H};
#endif
`:`
#ifndef HAS_UNIFORM_u_${H}
    ${B} ${j} ${H} = unpack_mix_${ne}(a_${H}, u_${H}_t);
#else
    ${B} ${j} ${H} = u_${H};
#endif
`}),staticAttributes:h,staticUniforms:w}}class gn{constructor(r,d,h){this.vertexBuffer=r,this.indexBuffer=d,this.segments=h}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var gs=a.aU([{name:"a_pos",type:"Int16",components:2}]);let ho="#define PROJECTION_MERCATOR",qo="mercator";class mo{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return qo}get shaderDefine(){return ho}get shaderPreludeCode(){return zn.projectionMercator}get vertexShaderPreludeCode(){return zn.projectionMercator.vertexSource}get subdivisionGranularity(){return a.aV.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(r){}getMeshFromTileID(r,d,h,f,v){if(this._cachedMesh)return this._cachedMesh;let w=new a.aW;w.emplaceBack(0,0),w.emplaceBack(a.a5,0),w.emplaceBack(0,a.a5),w.emplaceBack(a.a5,a.a5);let k=r.createVertexBuffer(w,gs.members),P=a.aX.simpleSegment(0,0,4,2),F=new a.aY;F.emplaceBack(1,0,2),F.emplaceBack(1,2,3);let B=r.createIndexBuffer(F);return this._cachedMesh=new gn(k,B,P),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(r){}}class Pl{constructor(r=0,d=0,h=0,f=0){if(isNaN(r)||r<0||isNaN(d)||d<0||isNaN(h)||h<0||isNaN(f)||f<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=r,this.bottom=d,this.left=h,this.right=f}interpolate(r,d,h){return d.top!=null&&r.top!=null&&(this.top=a.G.number(r.top,d.top,h)),d.bottom!=null&&r.bottom!=null&&(this.bottom=a.G.number(r.bottom,d.bottom,h)),d.left!=null&&r.left!=null&&(this.left=a.G.number(r.left,d.left,h)),d.right!=null&&r.right!=null&&(this.right=a.G.number(r.right,d.right,h)),this}getCenter(r,d){let h=a.an((this.left+r-this.right)/2,0,r),f=a.an((this.top+d-this.bottom)/2,0,d);return new a.P(h,f)}equals(r){return this.top===r.top&&this.bottom===r.bottom&&this.left===r.left&&this.right===r.right}clone(){return new Pl(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function _s(y,r){if(!y.renderWorldCopies||y.lngRange)return;let d=r.lng-y.center.lng;r.lng+=d>180?-360:d<-180?360:0}function ra(y){return Math.max(0,Math.floor(y))}class Us{constructor(r,d){var h;this.applyConstrain=(f,v)=>this._constrainOverride!==null?this._constrainOverride(f,v):this._callbacks.defaultConstrain(f,v),this._callbacks=r,this._tileSize=512,this._renderWorldCopies=d?.renderWorldCopies===void 0||!!d?.renderWorldCopies,this._minZoom=d?.minZoom||0,this._maxZoom=d?.maxZoom||22,this._minPitch=d?.minPitch==null?0:d?.minPitch,this._maxPitch=d?.maxPitch==null?60:d?.maxPitch,this._constrainOverride=(h=d?.constrainOverride)!==null&&h!==void 0?h:null,this.setMaxBounds(),this._width=0,this._height=0,this._center=new a.V(0,0),this._elevation=0,this._zoom=0,this._tileZoom=ra(this._zoom),this._scale=a.aq(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new Pl,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(r,d,h){this._constrainOverride=r.constrainOverride,this._latRange=r.latRange,this._lngRange=r.lngRange,this._width=r.width,this._height=r.height,this._center=r.center,this._elevation=r.elevation,this._minElevationForCurrentTile=r.minElevationForCurrentTile,this._zoom=r.zoom,this._tileZoom=ra(this._zoom),this._scale=a.aq(this._zoom),this._bearingInRadians=r.bearingInRadians,this._fovInRadians=r.fovInRadians,this._pitchInRadians=r.pitchInRadians,this._rollInRadians=r.rollInRadians,this._unmodified=r.unmodified,this._edgeInsets=new Pl(r.padding.top,r.padding.bottom,r.padding.left,r.padding.right),this._minZoom=r.minZoom,this._maxZoom=r.maxZoom,this._minPitch=r.minPitch,this._maxPitch=r.maxPitch,this._renderWorldCopies=r.renderWorldCopies,this._cameraToCenterDistance=r.cameraToCenterDistance,this._nearZ=r.nearZ,this._farZ=r.farZ,this._autoCalculateNearFarZ=!h&&r.autoCalculateNearFarZ,d&&this.constrainInternal(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(r){this._minElevationForCurrentTile=r}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(r){this._minZoom!==r&&(this._minZoom=r,this.setZoom(this.applyConstrain(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(r){this._maxZoom!==r&&(this._maxZoom=r,this.setZoom(this.applyConstrain(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(r){this._minPitch!==r&&(this._minPitch=r,this.setPitch(Math.max(this.pitch,r)))}get maxPitch(){return this._maxPitch}setMaxPitch(r){this._maxPitch!==r&&(this._maxPitch=r,this.setPitch(Math.min(this.pitch,r)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(r){r===void 0?r=!0:r===null&&(r=!1),this._renderWorldCopies=r}get constrainOverride(){return this._constrainOverride}setConstrainOverride(r){r===void 0&&(r=null),this._constrainOverride!==r&&(this._constrainOverride=r,this.constrainInternal(),this._calcMatrices())}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(r){let d=a.W(r,-180,180)*Math.PI/180;var h,f,v,w,k,P,F,B,j;this._bearingInRadians!==d&&(this._unmodified=!1,this._bearingInRadians=d,this._calcMatrices(),this._rotationMatrix=b(),h=this._rotationMatrix,v=-this._bearingInRadians,w=(f=this._rotationMatrix)[0],k=f[1],P=f[2],F=f[3],B=Math.sin(v),j=Math.cos(v),h[0]=w*j+P*B,h[1]=k*j+F*B,h[2]=w*-B+P*j,h[3]=k*-B+F*j)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(r){let d=a.an(r,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==d&&(this._unmodified=!1,this._pitchInRadians=d,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(r){let d=r/180*Math.PI;this._rollInRadians!==d&&(this._unmodified=!1,this._rollInRadians=d,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return a.aZ(this._fovInRadians)}setFov(r){r=a.an(r,.1,150),this.fov!==r&&(this._unmodified=!1,this._fovInRadians=a.ap(r),this._calcMatrices())}get zoom(){return this._zoom}setZoom(r){let d=this.applyConstrain(this._center,r).zoom;this._zoom!==d&&(this._unmodified=!1,this._zoom=d,this._tileZoom=Math.max(0,Math.floor(d)),this._scale=a.aq(d),this.constrainInternal(),this._calcMatrices())}get center(){return this._center}setCenter(r){r.lat===this._center.lat&&r.lng===this._center.lng||(this._unmodified=!1,this._center=r,this.constrainInternal(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(r){r!==this._elevation&&(this._elevation=r,this.constrainInternal(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(r){this._edgeInsets.equals(r)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,r,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(r,d){this._autoCalculateNearFarZ=!1,this._nearZ=r,this._farZ=d,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(r){return this._edgeInsets.equals(r)}interpolatePadding(r,d,h){this._unmodified=!1,this._edgeInsets.interpolate(r,d,h),this.constrainInternal(),this._calcMatrices()}resize(r,d,h=!0){this._width=r,this._height=d,h&&this.constrainInternal(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new Kn([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(r){r?(this._lngRange=[r.getWest(),r.getEast()],this._latRange=[r.getSouth(),r.getNorth()],this.constrainInternal()):(this._lngRange=null,this._latRange=[-a.ao,a.ao])}getCameraQueryGeometry(r,d){if(d.length===1)return[d[0],r];{let{minX:h,minY:f,maxX:v,maxY:w}=a.aa.fromPoints(d).extend(r);return[new a.P(h,f),new a.P(v,f),new a.P(v,w),new a.P(h,w),new a.P(h,f)]}}constrainInternal(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;let r=this._unmodified,{center:d,zoom:h}=this.applyConstrain(this.center,this.zoom);this.setCenter(d),this.setZoom(h),this._unmodified=r,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let r=a.ar(new Float64Array(16));a.Q(r,r,[this._width/2,-this._height/2,1]),a.O(r,r,[1,-1,0]),this._clipSpaceToPixelsMatrix=r,r=a.ar(new Float64Array(16)),a.Q(r,r,[1,-1,1]),a.O(r,r,[-1,-1,0]),a.Q(r,r,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=r,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(r,d,h,f){let v=h!==void 0?h:this.bearing,w=f=f!==void 0?f:this.pitch,{distanceToCenter:k,clampedElevation:P}=this._distanceToCenterFromAltElevationPitch(d,this.elevation,w),{x:F,y:B}=mn(w,v),j=a.a9.fromLngLat(r,d),H,W,ne=a.a_(1,j.y),he=0;do{if(he+=1,he>10)break;W=k/ne,H=new a.a9(j.x+F*W,j.y+B*W),ne=1/H.meterInMercatorCoordinateUnits()}while(Math.abs(k-W*ne)>1e-12);return{center:H.toLngLat(),elevation:P,zoom:a.at(this.height/2/Math.tan(this.fovInRadians/2)/W/this.tileSize)}}recalculateZoomAndCenter(r){if(this.elevation-r==0)return;let d=1/this.worldSize,h=a.as(1,this.center.lat)*this.worldSize,f=a.a9.fromLngLat(this.center,this.elevation),v=f.x/d,w=f.y/d,k=f.z/d,P=this.pitch,F=this.bearing,{x:B,y:j,z:H}=mn(P,F),W=this.cameraToCenterDistance,ne=v+W*-B,he=w+W*-j,fe=k+W*H,{distanceToCenter:me,clampedElevation:be}=this._distanceToCenterFromAltElevationPitch(fe/h,r,P),Me=me*h,_e=new a.a9((ne+B*Me)*d,(he+j*Me)*d,0).toLngLat(),Se=a.as(1,_e.lat),Pe=a.at(this.height/2/Math.tan(this.fovInRadians/2)/me/Se/this.tileSize);this._elevation=be,this._center=_e,this.setZoom(Pe)}_distanceToCenterFromAltElevationPitch(r,d,h){let f=-Math.cos(a.ap(h)),v=r-d,w,k=d;return f*v>=0||Math.abs(f)<.1?(w=1e4,k=r+w*f):w=-v/f,{distanceToCenter:w,clampedElevation:k}}getCameraPoint(){let r=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.P(r*Math.sin(this.rollInRadians),r*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){let r=a.as(1,this.center.lat)*this.worldSize;return Ge(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/r).toLngLat()}getMercatorTileCoordinates(r){if(!r)return[0,0,1,1];let d=r.canonical.z>=0?1<<r.canonical.z:Math.pow(2,r.canonical.z);return[r.canonical.x/d,r.canonical.y/d,1/d/a.a5,1/d/a.a5]}}class Vr{constructor(r,d){this.min=r,this.max=d,this.center=a.a$([],a.b0([],this.min,this.max),.5)}quadrant(r){let d=[r%2==0,r<2],h=a.b1(this.min),f=a.b1(this.max);for(let v=0;v<d.length;v++)h[v]=d[v]?this.min[v]:this.center[v],f[v]=d[v]?this.center[v]:this.max[v];return f[2]=this.max[2],new Vr(h,f)}distanceX(r){return Math.max(Math.min(this.max[0],r[0]),this.min[0])-r[0]}distanceY(r){return Math.max(Math.min(this.max[1],r[1]),this.min[1])-r[1]}intersectsFrustum(r){let d=!0;for(let h=0;h<r.planes.length;h++){let f=this.intersectsPlane(r.planes[h]);if(f===0)return 0;f===1&&(d=!1)}return d?2:r.aabb.min[0]>this.max[0]||r.aabb.min[1]>this.max[1]||r.aabb.min[2]>this.max[2]||r.aabb.max[0]<this.min[0]||r.aabb.max[1]<this.min[1]||r.aabb.max[2]<this.min[2]?0:1}intersectsPlane(r){let d=r[3],h=r[3];for(let f=0;f<3;f++)r[f]>0?(d+=r[f]*this.min[f],h+=r[f]*this.max[f]):(h+=r[f]*this.min[f],d+=r[f]*this.max[f]);return d>=0?2:h<0?0:1}}class lu{distanceToTile2d(r,d,h,f){let v=f.distanceX([r,d]),w=f.distanceY([r,d]);return Math.hypot(v,w)}getWrap(r,d,h){return h}getTileBoundingVolume(r,d,h,f){var v,w;let k=0,P=0;if(f?.terrain){let B=new a.a2(r.z,d,r.z,r.x,r.y),j=f.terrain.getMinMaxElevation(B);k=(v=j.minElevation)!==null&&v!==void 0?v:Math.min(0,h),P=(w=j.maxElevation)!==null&&w!==void 0?w:Math.max(0,h)}let F=1<<r.z;return new Vr([d+r.x/F,r.y/F,k],[d+(r.x+1)/F,(r.y+1)/F,P])}allowVariableZoom(r,d){let h=r.fov*(Math.abs(Math.cos(r.rollInRadians))*r.height+Math.abs(Math.sin(r.rollInRadians))*r.width)/r.height,f=a.an(78.5-h/2,0,60);return!!d.terrain||r.pitch>f}allowWorldCopies(){return!0}prepareNextFrame(){}}class Co{constructor(r,d,h){this.points=r,this.planes=d,this.aabb=h}static fromInvProjectionMatrix(r,d=1,h=0,f,v){let w=v?[[6,5,4],[0,1,2],[0,3,7],[2,1,5],[3,2,6],[0,4,5]]:[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],k=Math.pow(2,h),P=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(H=>function(W,ne,he,fe){let me=a.aH([],W,ne),be=1/me[3]/he*fe;return a.b6(me,me,[be,be,1/me[3],be])}(H,r,d,k));f&&function(H,W,ne,he){let fe=he?4:0,me=he?0:4,be=0,Me=[],_e=[];for(let Ie=0;Ie<4;Ie++){let Oe=a.b2([],H[Ie+me],H[Ie+fe]),Ye=a.b7(Oe);a.a$(Oe,Oe,1/Ye),Me.push(Ye),_e.push(Oe)}for(let Ie=0;Ie<4;Ie++){let Oe=a.b8(H[Ie+fe],_e[Ie],ne);be=Oe!==null&&Oe>=0?Math.max(be,Oe):Math.max(be,Me[Ie])}let Se=function(Ie,Oe){let Ye=a.b2([],Ie[Oe[0]],Ie[Oe[1]]),je=a.b2([],Ie[Oe[2]],Ie[Oe[1]]),Ue=[0,0,0,0];return a.b3(Ue,a.b4([],Ye,je)),Ue[3]=-a.b5(Ue,Ie[Oe[0]]),Ue}(H,W),Pe=function(Ie,Oe){let Ye=a.b9(Ie),je=a.ba([],Ie,1/Ye),Ue=a.b2([],Oe,a.a$([],je,a.b5(Oe,je))),$e=a.b9(Ue);if($e>0){let Tt=Math.sqrt(1-je[3]*je[3]),Ct=a.a$([],je,-je[3]),pt=a.b0([],Ct,a.a$([],Ue,Tt/$e));return a.bb(Oe,pt)}return null}(ne,Se);if(Pe!==null){let Ie=Pe/a.b5(_e[0],Se);be=Math.min(be,Ie)}for(let Ie=0;Ie<4;Ie++){let Oe=Math.min(be,Me[Ie]);H[Ie+me]=[H[Ie+fe][0]+_e[Ie][0]*Oe,H[Ie+fe][1]+_e[Ie][1]*Oe,H[Ie+fe][2]+_e[Ie][2]*Oe,1]}}(P,w[0],f,v);let F=w.map(H=>{let W=a.b2([],P[H[0]],P[H[1]]),ne=a.b2([],P[H[2]],P[H[1]]),he=a.b3([],a.b4([],W,ne)),fe=-a.b5(he,P[H[1]]);return he.concat(fe)}),B=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],j=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(let H of P)for(let W=0;W<3;W++)B[W]=Math.min(B[W],H[W]),j[W]=Math.max(j[W],H[W]);return new Co(P,F,new Vr(B,j))}}class $s{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(r){this._helper.setMinZoom(r)}setMaxZoom(r){this._helper.setMaxZoom(r)}setMinPitch(r){this._helper.setMinPitch(r)}setMaxPitch(r){this._helper.setMaxPitch(r)}setRenderWorldCopies(r){this._helper.setRenderWorldCopies(r)}setBearing(r){this._helper.setBearing(r)}setPitch(r){this._helper.setPitch(r)}setRoll(r){this._helper.setRoll(r)}setFov(r){this._helper.setFov(r)}setZoom(r){this._helper.setZoom(r)}setCenter(r){this._helper.setCenter(r)}setElevation(r){this._helper.setElevation(r)}setMinElevationForCurrentTile(r){this._helper.setMinElevationForCurrentTile(r)}setPadding(r){this._helper.setPadding(r)}interpolatePadding(r,d,h){return this._helper.interpolatePadding(r,d,h)}isPaddingEqual(r){return this._helper.isPaddingEqual(r)}resize(r,d,h=!0){this._helper.resize(r,d,h)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(r){this._helper.setMaxBounds(r)}setConstrainOverride(r){this._helper.setConstrainOverride(r)}overrideNearFarZ(r,d){this._helper.overrideNearFarZ(r,d)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(r){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),r)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(r,d){}constructor(r){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this.defaultConstrain=(d,h)=>{h=a.an(+h,this.minZoom,this.maxZoom);let f={center:new a.V(d.lng,d.lat),zoom:h},v=this._helper._lngRange;if(!this._helper._renderWorldCopies&&v===null){let _e=179.9999999999;v=[-_e,_e]}let w=this.tileSize*a.aq(f.zoom),k=0,P=w,F=0,B=w,j=0,H=0,{x:W,y:ne}=this.size;if(this._helper._latRange){let _e=this._helper._latRange;k=a.X(_e[1])*w,P=a.X(_e[0])*w,P-k<ne&&(j=ne/(P-k))}v&&(F=a.W(a.Y(v[0])*w,0,w),B=a.W(a.Y(v[1])*w,0,w),B<F&&(B+=w),B-F<W&&(H=W/(B-F)));let{x:he,y:fe}=Qt(w,d),me,be,Me=Math.max(H||0,j||0);if(Me){let _e=new a.P(H?(B+F)/2:he,j?(P+k)/2:fe);return f.center=_i(w,_e).wrap(),f.zoom+=a.at(Me),f}if(this._helper._latRange){let _e=ne/2;fe-_e<k&&(be=k+_e),fe+_e>P&&(be=P-_e)}if(v){let _e=(F+B)/2,Se=he;this._helper._renderWorldCopies&&(Se=a.W(he,_e-w/2,_e+w/2));let Pe=W/2;Se-Pe<F&&(me=F+Pe),Se+Pe>B&&(me=B-Pe)}if(me!==void 0||be!==void 0){let _e=new a.P(me??he,be??fe);f.center=_i(w,_e).wrap()}return f},this.applyConstrain=(d,h)=>this._helper.applyConstrain(d,h),this._helper=new Us({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(d,h)=>this.defaultConstrain(d,h)},r),this._coveringTilesDetailsProvider=new lu}clone(){let r=new $s;return r.apply(this),r}apply(r,d,h){this._helper.apply(r,d,h)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(r){let d=[new a.bc(0,r)];if(this._helper._renderWorldCopies){let h=this.screenPointToMercatorCoordinate(new a.P(0,0)),f=this.screenPointToMercatorCoordinate(new a.P(this._helper._width,0)),v=this.screenPointToMercatorCoordinate(new a.P(this._helper._width,this._helper._height)),w=this.screenPointToMercatorCoordinate(new a.P(0,this._helper._height)),k=Math.floor(Math.min(h.x,f.x,v.x,w.x)),P=Math.floor(Math.max(h.x,f.x,v.x,w.x)),F=1;for(let B=k-F;B<=P+F;B++)B!==0&&d.push(new a.bc(B,r))}return d}getCameraFrustum(){return Co.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(r){let d=this.screenPointToLocation(this.centerPoint,r),h=r?r.getElevationForLngLatZoom(d,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(h)}setLocationAtPoint(r,d){let h=a.as(this.elevation,this.center.lat),f=this.screenPointToMercatorCoordinateAtZ(d,h),v=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,h),w=a.a9.fromLngLat(r),k=new a.a9(w.x-(f.x-v.x),w.y-(f.y-v.y));this.setCenter(k?.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(r,d){return d?this.coordinatePoint(a.a9.fromLngLat(r),d.getElevationForLngLat(r,this),this._pixelMatrix3D):this.coordinatePoint(a.a9.fromLngLat(r))}screenPointToLocation(r,d){var h;return(h=this.screenPointToMercatorCoordinate(r,d))===null||h===void 0?void 0:h.toLngLat()}screenPointToMercatorCoordinate(r,d){if(d){let h=d.pointCoordinate(r);if(h!=null)return h}return this.screenPointToMercatorCoordinateAtZ(r)}screenPointToMercatorCoordinateAtZ(r,d){let h=d||0,f=[r.x,r.y,0,1],v=[r.x,r.y,1,1];a.aH(f,f,this._pixelMatrixInverse),a.aH(v,v,this._pixelMatrixInverse);let w=f[3],k=v[3],P=f[1]/w,F=v[1]/k,B=f[2]/w,j=v[2]/k,H=B===j?0:(h-B)/(j-B);return new a.a9(a.G.number(f[0]/w,v[0]/k,H)/this.worldSize,a.G.number(P,F,H)/this.worldSize,h)}coordinatePoint(r,d=0,h=this._pixelMatrix){let f=[r.x*this.worldSize,r.y*this.worldSize,d,1];return a.aH(f,f,h),new a.P(f[0]/f[3],f[1]/f[3])}getBounds(){let r=Math.max(0,this._helper._height/2-un(this));return new Kn().extend(this.screenPointToLocation(new a.P(0,r))).extend(this.screenPointToLocation(new a.P(this._helper._width,r))).extend(this.screenPointToLocation(new a.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new a.P(0,this._helper._height)))}isPointOnMapSurface(r,d){return d?d.pointCoordinate(r)!=null:r.y>this.height/2-un(this)}calculatePosMatrix(r,d=!1,h){var f;let v=(f=r.key)!==null&&f!==void 0?f:a.bd(r.wrap,r.canonical.z,r.canonical.z,r.canonical.x,r.canonical.y),w=d?this._alignedPosMatrixCache:this._posMatrixCache;if(w.has(v)){let F=w.get(v);return h?F.f32:F.f64}let k=Xi(r,this.worldSize);a.S(k,d?this._alignedProjMatrix:this._viewProjMatrix,k);let P={f64:k,f32:new Float32Array(k)};return w.set(v,P),h?P.f32:P.f64}calculateFogMatrix(r){let d=r.key,h=this._fogMatrixCacheF32;if(h.has(d))return h.get(d);let f=Xi(r,this.worldSize);return a.S(f,this._fogMatrix,f),h.set(d,new Float32Array(f)),h.get(d)}calculateCenterFromCameraLngLatAlt(r,d,h,f){return this._helper.calculateCenterFromCameraLngLatAlt(r,d,h,f)}_calculateNearFarZIfNeeded(r,d,h){if(!this._helper.autoCalculateNearFarZ)return;let f=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),v=r-f*this._helper._pixelPerMeter/Math.cos(d),w=f<0?v:r,k=Math.PI/2+this.pitchInRadians,P=a.ap(this.fov)*(Math.abs(Math.cos(a.ap(this.roll)))*this.height+Math.abs(Math.sin(a.ap(this.roll)))*this.width)/this.height*(.5+h.y/this.height),F=Math.sin(P)*w/Math.sin(a.an(Math.PI-k-P,.01,Math.PI-.01)),B=un(this),j=Math.atan(B/this._helper.cameraToCenterDistance),H=a.ap(.75),W=j>H?2*j*(.5+h.y/(2*B)):H,ne=Math.sin(W)*w/Math.sin(a.an(Math.PI-k-W,.01,Math.PI-.01)),he=Math.min(F,ne);this._helper._farZ=1.01*(Math.cos(Math.PI/2-d)*he+w),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;let r=this.centerOffset,d=Qt(this.worldSize,this.center),h=d.x,f=d.y;this._helper._pixelPerMeter=a.as(1,this.center.lat)*this.worldSize;let v=a.ap(Math.min(this.pitch,Bt)),w=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(v)),k;this._calculateNearFarZIfNeeded(w,v,r),k=new Float64Array(16),a.be(k,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),a.aB(this._invProjMatrix,k),k[8]=2*-r.x/this._helper._width,k[9]=2*r.y/this._helper._height,this._projectionMatrix=a.bf(k),a.Q(k,k,[1,-1,1]),a.O(k,k,[0,0,-this._helper.cameraToCenterDistance]),a.bg(k,k,-this.rollInRadians),a.bh(k,k,this.pitchInRadians),a.bg(k,k,-this.bearingInRadians),a.O(k,k,[-h,-f,0]),this._mercatorMatrix=a.Q([],k,[this.worldSize,this.worldSize,this.worldSize]),a.Q(k,k,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=a.S(new Float64Array(16),this.clipSpaceToPixelsMatrix,k),a.O(k,k,[0,0,-this.elevation]),this._viewProjMatrix=k,this._invViewProjMatrix=a.aB([],k);let P=[0,0,-1,1];a.aH(P,P,this._invViewProjMatrix),this._cameraPosition=[P[0]/P[3],P[1]/P[3],P[2]/P[3]],this._fogMatrix=new Float64Array(16),a.be(this._fogMatrix,this.fovInRadians,this.width/this.height,w,this._helper._farZ),this._fogMatrix[8]=2*-r.x/this.width,this._fogMatrix[9]=2*r.y/this.height,a.Q(this._fogMatrix,this._fogMatrix,[1,-1,1]),a.O(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),a.bg(this._fogMatrix,this._fogMatrix,-this.rollInRadians),a.bh(this._fogMatrix,this._fogMatrix,this.pitchInRadians),a.bg(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),a.O(this._fogMatrix,this._fogMatrix,[-h,-f,0]),a.Q(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),a.O(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=a.S(new Float64Array(16),this.clipSpaceToPixelsMatrix,k);let F=this._helper._width%2/2,B=this._helper._height%2/2,j=Math.cos(this.bearingInRadians),H=Math.sin(-this.bearingInRadians),W=h-Math.round(h)+j*F+H*B,ne=f-Math.round(f)+j*B+H*F,he=new Float64Array(k);if(a.O(he,he,[W>.5?W-1:W,ne>.5?ne-1:ne,0]),this._alignedProjMatrix=he,k=a.aB(new Float64Array(16),this._pixelMatrix),!k)throw new Error("failed to invert matrix");this._pixelMatrixInverse=k,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;let r=this.screenPointToMercatorCoordinate(new a.P(0,0)),d=[r.x*this.worldSize,r.y*this.worldSize,0,1];return a.aH(d,d,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){let r=a.as(1,this.center.lat)*this.worldSize;return Ge(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/r).toLngLat()}lngLatToCameraDepth(r,d){let h=a.a9.fromLngLat(r),f=[h.x*this.worldSize,h.y*this.worldSize,d,1];return a.aH(f,f,this._viewProjMatrix),f[2]/f[3]}getProjectionData(r){let{overscaledTileID:d,aligned:h,applyTerrainMatrix:f}=r,v=this._helper.getMercatorTileCoordinates(d),w=d?this.calculatePosMatrix(d,h,!0):null,k;return k=d&&d.terrainRttPosMatrix32f&&f?d.terrainRttPosMatrix32f:w||a.bi(),{mainMatrix:k,tileMercatorCoords:v,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:k}}isLocationOccluded(r){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(r,d,h){return 1}transformLightDirection(r){return a.b1(r)}getRayDirectionFromPixel(r){throw new Error("Not implemented.")}projectTileCoordinates(r,d,h,f){let v=this.calculatePosMatrix(h),w;f?(w=[r,d,f(r,d),1],a.aH(w,w,v)):(w=[r,d,0,1],ou(w,w,v));let k=w[3];return{point:new a.P(w[0]/k,w[1]/k),signedDistanceFromCamera:k,isOccluded:!1}}populateCache(r){for(let d of r)this.calculatePosMatrix(d)}getMatrixForModel(r,d){let h=a.a9.fromLngLat(r,d),f=h.meterInMercatorCoordinateUnits(),v=a.bj();return a.O(v,v,[h.x,h.y,h.z]),a.bg(v,v,Math.PI),a.bh(v,v,Math.PI/2),a.Q(v,v,[-f,f,f]),v}getProjectionDataForCustomLayer(r=!0){let d=new a.a2(0,0,0,0,0),h=this.getProjectionData({overscaledTileID:d,applyGlobeMatrix:r}),f=Xi(d,this.worldSize);a.S(f,this._viewProjMatrix,f),h.tileMercatorCoords=[0,0,1,1];let v=[a.a5,a.a5,this.worldSize/this._helper.pixelsPerMeter],w=a.bk();return a.Q(w,f,v),h.fallbackMatrix=w,h.mainMatrix=w,h}getFastPathSimpleProjectionMatrix(r){return this.calculatePosMatrix(r)}}function Xr(){a.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function nf(y){if(y.useSlerp)if(y.k<1){let r=a.bl(y.startEulerAngles.roll,y.startEulerAngles.pitch,y.startEulerAngles.bearing),d=a.bl(y.endEulerAngles.roll,y.endEulerAngles.pitch,y.endEulerAngles.bearing),h=new Float64Array(4);a.bm(h,r,d,y.k);let f=a.bn(h);y.tr.setRoll(f.roll),y.tr.setPitch(f.pitch),y.tr.setBearing(f.bearing)}else y.tr.setRoll(y.endEulerAngles.roll),y.tr.setPitch(y.endEulerAngles.pitch),y.tr.setBearing(y.endEulerAngles.bearing);else y.tr.setRoll(a.G.number(y.startEulerAngles.roll,y.endEulerAngles.roll,y.k)),y.tr.setPitch(a.G.number(y.startEulerAngles.pitch,y.endEulerAngles.pitch,y.k)),y.tr.setBearing(a.G.number(y.startEulerAngles.bearing,y.endEulerAngles.bearing,y.k))}function ih(y,r,d,h,f){let v=f.padding,w=Qt(f.worldSize,d.getNorthWest()),k=Qt(f.worldSize,d.getNorthEast()),P=Qt(f.worldSize,d.getSouthEast()),F=Qt(f.worldSize,d.getSouthWest()),B=a.ap(-h),j=w.rotate(B),H=k.rotate(B),W=P.rotate(B),ne=F.rotate(B),he=new a.P(Math.max(j.x,H.x,ne.x,W.x),Math.max(j.y,H.y,ne.y,W.y)),fe=new a.P(Math.min(j.x,H.x,ne.x,W.x),Math.min(j.y,H.y,ne.y,W.y)),me=he.sub(fe),be=(f.width-(v.left+v.right+r.left+r.right))/me.x,Me=(f.height-(v.top+v.bottom+r.top+r.bottom))/me.y;if(Me<0||be<0)return void Xr();let _e=Math.min(a.at(f.scale*Math.min(be,Me)),y.maxZoom),Se=a.P.convert(y.offset),Pe=new a.P((r.left-r.right)/2,(r.top-r.bottom)/2).rotate(a.ap(h)),Ie=Se.add(Pe).mult(f.scale/a.aq(_e));return{center:_i(f.worldSize,w.add(P).div(2).sub(Ie)),zoom:_e,bearing:h}}class Ks{get useGlobeControls(){return!1}handlePanInertia(r,d){let h=r.mag(),f=Math.abs(un(d));return{easingOffset:r.mult(Math.min(.75*f/h,1)),easingCenter:d.center}}handleMapControlsRollPitchBearingZoom(r,d){r.bearingDelta&&d.setBearing(d.bearing+r.bearingDelta),r.pitchDelta&&d.setPitch(d.pitch+r.pitchDelta),r.rollDelta&&d.setRoll(d.roll+r.rollDelta),r.zoomDelta&&d.setZoom(d.zoom+r.zoomDelta)}handleMapControlsPan(r,d,h){r.around.distSqr(d.centerPoint)<.01||d.setLocationAtPoint(h,r.around)}cameraForBoxAndBearing(r,d,h,f,v){return ih(r,d,h,f,v)}handleJumpToCenterZoom(r,d){r.zoom!==(d.zoom!==void 0?+d.zoom:r.zoom)&&r.setZoom(+d.zoom),d.center!==void 0&&r.setCenter(a.V.convert(d.center))}handleEaseTo(r,d){let h=r.zoom,f=r.padding,v={roll:r.roll,pitch:r.pitch,bearing:r.bearing},w={roll:d.roll===void 0?r.roll:d.roll,pitch:d.pitch===void 0?r.pitch:d.pitch,bearing:d.bearing===void 0?r.bearing:d.bearing},k=d.zoom!==void 0,P=!r.isPaddingEqual(d.padding),F=!1,B=k?+d.zoom:r.zoom,j=r.centerPoint.add(d.offsetAsPoint),H=r.screenPointToLocation(j),{center:W,zoom:ne}=r.applyConstrain(a.V.convert(d.center||H),B??h);_s(r,W);let he=Qt(r.worldSize,H),fe=Qt(r.worldSize,W).sub(he),me=a.aq(ne-h);return F=ne!==h,{easeFunc:be=>{if(F&&r.setZoom(a.G.number(h,ne,be)),a.bo(v,w)||nf({startEulerAngles:v,endEulerAngles:w,tr:r,k:be,useSlerp:v.roll!=w.roll}),P&&(r.interpolatePadding(f,d.padding,be),j=r.centerPoint.add(d.offsetAsPoint)),d.around)r.setLocationAtPoint(d.around,d.aroundPoint);else{let Me=a.aq(r.zoom-h),_e=ne>h?Math.min(2,me):Math.max(.5,me),Se=Math.pow(_e,1-be),Pe=_i(r.worldSize,he.add(fe.mult(be*Se)).mult(Me));r.setLocationAtPoint(r.renderWorldCopies?Pe.wrap():Pe,j)}},isZooming:F,elevationCenter:W}}handleFlyTo(r,d){let h=d.zoom!==void 0,f=r.zoom,v=r.applyConstrain(a.V.convert(d.center||d.locationAtOffset),h?+d.zoom:f),w=v.center,k=v.zoom;_s(r,w);let P=Qt(r.worldSize,d.locationAtOffset),F=Qt(r.worldSize,w).sub(P),B=F.mag(),j=a.aq(k-f),H;if(d.minZoom!==void 0){let W=Math.min(+d.minZoom,f,k),ne=r.applyConstrain(w,W).zoom;H=a.aq(ne-f)}return{easeFunc:(W,ne,he,fe)=>{r.setZoom(W===1?k:f+a.at(ne));let me=W===1?w:_i(r.worldSize,P.add(F.mult(he)).mult(ne));r.setLocationAtPoint(r.renderWorldCopies?me.wrap():me,fe)},scaleOfZoom:j,targetCenter:w,scaleOfMinZoom:H,pixelPathLength:B}}}class _n{constructor(r,d,h){this.blendFunction=r,this.blendColor=d,this.mask=h}}_n.Replace=[1,0],_n.disabled=new _n(_n.Replace,a.bp.transparent,[!1,!1,!1,!1]),_n.unblended=new _n(_n.Replace,a.bp.transparent,[!0,!0,!0,!0]),_n.alphaBlended=new _n([1,771],a.bp.transparent,[!0,!0,!0,!0]);let Dl=2305;class Ri{constructor(r,d,h){this.enable=r,this.mode=d,this.frontFace=h}}Ri.disabled=new Ri(!1,1029,Dl),Ri.backCCW=new Ri(!0,1029,Dl),Ri.frontCCW=new Ri(!0,1028,Dl);class wi{constructor(r,d,h){this.func=r,this.mask=d,this.range=h}}wi.ReadOnly=!1,wi.ReadWrite=!0,wi.disabled=new wi(519,wi.ReadOnly,[0,1]);let Ll=7680;class Hi{constructor(r,d,h,f,v,w){this.test=r,this.ref=d,this.mask=h,this.fail=f,this.depthFail=v,this.pass=w}}Hi.disabled=new Hi({func:519,mask:0},0,0,Ll,Ll,Ll);let Jc=new WeakMap;function Xo(y){var r;if(Jc.has(y))return Jc.get(y);{let d=(r=y.getParameter(y.VERSION))===null||r===void 0?void 0:r.startsWith("WebGL 2.0");return Jc.set(y,d),d}}class Al{get awaitingQuery(){return!!this._readbackQueue}constructor(r){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=r;let d=r.context,h=d.gl;this._texFormat=h.RGBA,this._texType=h.UNSIGNED_BYTE;let f=new a.aW;f.emplaceBack(-1,-1),f.emplaceBack(2,-1),f.emplaceBack(-1,2);let v=new a.aY;v.emplaceBack(0,1,2),this._fullscreenTriangle=new gn(d.createVertexBuffer(f,gs.members),d.createIndexBuffer(v),a.aX.simpleSegment(0,0,f.length,v.length)),this._resultBuffer=new Uint8Array(4),d.activeTexture.set(h.TEXTURE1);let w=h.createTexture();h.bindTexture(h.TEXTURE_2D,w),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texImage2D(h.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=d.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(w),Xo(h)&&(this._pbo=h.createBuffer(),h.bindBuffer(h.PIXEL_PACK_BUFFER,this._pbo),h.bufferData(h.PIXEL_PACK_BUFFER,4,h.STREAM_READ),h.bindBuffer(h.PIXEL_PACK_BUFFER,null))}destroy(){let r=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),r.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(r,d){let h=this._updateCount;return this._readbackQueue?h>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():h>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(r,d),this._updateCount++,this._measuredError}_bindFramebuffer(){let r=this._cachedRenderContext.context,d=r.gl;r.activeTexture.set(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this._fbo.colorAttachment.get()),r.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(r,d){let h=this._cachedRenderContext.context,f=h.gl;if(this._bindFramebuffer(),h.viewport.set([0,0,this._texWidth,this._texHeight]),h.clear({color:a.bp.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(h,f.TRIANGLES,wi.disabled,Hi.disabled,_n.unblended,Ri.disabled,((v,w)=>({u_input:v,u_output_expected:w}))(r,d),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&Xo(f)){f.bindBuffer(f.PIXEL_PACK_BUFFER,this._pbo),f.readBuffer(f.COLOR_ATTACHMENT0),f.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),f.bindBuffer(f.PIXEL_PACK_BUFFER,null);let v=f.fenceSync(f.SYNC_GPU_COMMANDS_COMPLETE,0);f.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:v}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){let r=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&Xo(r)){let d=r.clientWaitSync(this._readbackQueue.sync,0,0);if(d===r.WAIT_FAILED)return a.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(d===r.TIMEOUT_EXPIRED)return;r.bindBuffer(r.PIXEL_PACK_BUFFER,this._pbo),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),r.bindBuffer(r.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),r.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=Al._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(r){let d=0;return d+=r[0]/256,d+=r[1]/65536,d+=r[2]/16777216,r[3]<127&&(d=-d),d/128}}let bs=a.a5/128;function af(y,r){let d=y.granularity!==void 0?Math.max(y.granularity,1):1,h=d+(y.generateBorders?2:0),f=d+(y.extendToNorthPole||y.generateBorders?1:0)+(y.extendToSouthPole||y.generateBorders?1:0),v=h+1,w=f+1,k=y.generateBorders?-1:0,P=y.generateBorders||y.extendToNorthPole?-1:0,F=d+(y.generateBorders?1:0),B=d+(y.generateBorders||y.extendToSouthPole?1:0),j=v*w,H=h*f*6,W=v*w>65536;if(W&&r==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");let ne=W||r==="32bit",he=new Int16Array(2*j),fe=0;for(let Me=P;Me<=B;Me++)for(let _e=k;_e<=F;_e++){let Se=_e/d*a.a5;_e===-1&&(Se=-bs),_e===d+1&&(Se=a.a5+bs);let Pe=Me/d*a.a5;Me===-1&&(Pe=y.extendToNorthPole?a.br:-bs),Me===d+1&&(Pe=y.extendToSouthPole?a.bs:a.a5+bs),he[fe++]=Se,he[fe++]=Pe}let me=ne?new Uint32Array(H):new Uint16Array(H),be=0;for(let Me=0;Me<f;Me++)for(let _e=0;_e<h;_e++){let Se=_e+1+Me*v,Pe=_e+(Me+1)*v,Ie=_e+1+(Me+1)*v;me[be++]=_e+Me*v,me[be++]=Pe,me[be++]=Se,me[be++]=Se,me[be++]=Pe,me[be++]=Ie}return{vertices:he.buffer.slice(0),indices:me.buffer.slice(0),uses32bitIndices:ne}}let ed=new a.aV({fill:new a.bt(128,2),line:new a.bt(512,0),tile:new a.bt(128,32),stencil:new a.bt(128,1),circle:3});class nh{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return zn.projectionGlobe}get vertexShaderPreludeCode(){return zn.projectionMercator.vertexSource}get subdivisionGranularity(){return ed}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(r){this._errorMeasurement||(this._errorMeasurement=new Al(r));let d=a.X(this._errorQueryLatitudeDegrees),h=2*Math.atan(Math.exp(Math.PI-d*Math.PI*2))-.5*Math.PI,f=this._errorMeasurement.updateErrorLoop(d,h),v=oe();f!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=f,this._errorMeasurementLastChangeTime=v);let w=Math.min(Math.max((v-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=a.bu(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,a.bv(w))}_getMeshKey(r){return`${r.granularity.toString(36)}_${r.generateBorders?"b":""}${r.extendToNorthPole?"n":""}${r.extendToSouthPole?"s":""}`}getMeshFromTileID(r,d,h,f,v){let w=(v==="stencil"?ed.stencil:ed.tile).getGranularityForZoomLevel(d.z);return this._getMesh(r,{granularity:w,generateBorders:h,extendToNorthPole:d.y===0&&f,extendToSouthPole:d.y===(1<<d.z)-1&&f})}_getMesh(r,d){let h=this._getMeshKey(d);if(h in this._tileMeshCache)return this._tileMeshCache[h];let f=function(v,w){let k=af(w,"16bit"),P=a.aW.deserialize({arrayBuffer:k.vertices,length:k.vertices.byteLength/2/2}),F=a.aY.deserialize({arrayBuffer:k.indices,length:k.indices.byteLength/2/3});return new gn(v.createVertexBuffer(P,gs.members),v.createIndexBuffer(F),a.aX.simpleSegment(0,0,P.length,F.length))}(r,d);return this._tileMeshCache[h]=f,f}recalculate(r){}hasTransition(){let r=oe(),d=!1;return d=d||(r-this._errorMeasurementLastChangeTime)/1e3<.7,d=d||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,d}setErrorQueryLatitudeDegrees(r){this._errorQueryLatitudeDegrees=r}}let W_=new a.t({type:new a.D(a.u.projection.type)});class of extends a.E{constructor(r){super(),this._transitionable=new a.x(W_,void 0),this.setProjection(r),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new a.H(0)),this._mercatorProjection=new mo,this._verticalPerspectiveProjection=new nh}get transitionState(){let r=this.properties.get("type");if(typeof r=="string"&&r==="mercator")return 0;if(typeof r=="string"&&r==="vertical-perspective")return 1;if(r instanceof a.bw){if(r.from==="vertical-perspective"&&r.to==="mercator")return 1-r.transition;if(r.from==="mercator"&&r.to==="vertical-perspective")return r.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(r){this._mercatorProjection.updateGPUdependent(r),this._verticalPerspectiveProjection.updateGPUdependent(r)}getMeshFromTileID(r,d,h,f,v){return this.currentProjection.getMeshFromTileID(r,d,h,f,v)}setProjection(r){this._transitionable.setValue("type",r?.type||"mercator")}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}setErrorQueryLatitudeDegrees(r){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(r),this._mercatorProjection.setErrorQueryLatitudeDegrees(r)}}function fo(y){let r=Ws(y.worldSize,y.center.lat);return 2*Math.PI*r}function zr(y,r,d,h,f){let v=1/(1<<f),w=r/a.a5*v+h*v,k=a.by((y/a.a5*v+d*v)*Math.PI*2+Math.PI,2*Math.PI),P=2*Math.atan(Math.exp(Math.PI-w*Math.PI*2))-.5*Math.PI,F=Math.cos(P),B=new Float64Array(3);return B[0]=Math.sin(k)*F,B[1]=Math.sin(P),B[2]=Math.cos(k)*F,B}function Dn(y){return function(r,d){let h=Math.cos(d),f=new Float64Array(3);return f[0]=Math.sin(r)*h,f[1]=Math.sin(d),f[2]=Math.cos(r)*h,f}(y.lng*Math.PI/180,y.lat*Math.PI/180)}function Ws(y,r){return y/(2*Math.PI)/Math.cos(r*Math.PI/180)}function ah(y){let r=Math.asin(y[1])/Math.PI*180,d=Math.sqrt(y[0]*y[0]+y[2]*y[2]);if(d>1e-6){let h=y[0]/d,f=Math.acos(y[2]/d),v=(h>0?f:-f)/Math.PI*180;return new a.V(a.W(v,-180,180),r)}return new a.V(0,r)}function td(y){return Math.cos(y*Math.PI/180)}function Qn(y,r){let d=td(y),h=td(r);return a.at(h/d)}function rf(y,r){let d=y.rotate(r.bearingInRadians),h=r.zoom+Qn(r.center.lat,0),f=a.bu(1/td(r.center.lat),1/td(Math.min(Math.abs(r.center.lat),60)),a.bx(h,7,3,0,1)),v=360/fo({worldSize:r.worldSize,center:{lat:r.center.lat}});return new a.V(r.center.lng-d.x*v*f,a.an(r.center.lat+d.y*v,-a.ao,a.ao))}function oh(y){let r=.5*y,d=Math.sin(r),h=Math.cos(r);return Math.log(d+h)-Math.log(h-d)}function sf(y,r,d,h){let f=y.lat+d*h;if(Math.abs(d)>1){let v=(Math.sign(y.lat+d)!==Math.sign(y.lat)?-Math.abs(y.lat):Math.abs(y.lat))*Math.PI/180,w=Math.abs(y.lat+d)*Math.PI/180,k=oh(v+h*(w-v)),P=oh(v),F=oh(w);return new a.V(y.lng+r*((k-P)/(F-P)),f)}return new a.V(y.lng+r*h,f)}class Z_{constructor(r){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._boundingVolumeFactory=r}swapBuffers(){if(!this._hadAnyChanges)return;let r=this._cachePrevious;this._cachePrevious=this._cache,this._cache=r,this._cache.clear(),this._hadAnyChanges=!1}getTileBoundingVolume(r,d,h,f){let v=`${r.z}_${r.x}_${r.y}_${f?.terrain?"t":""}`,w=this._cache.get(v);if(w)return w;let k=this._cachePrevious.get(v);if(k)return this._cache.set(v,k),k;let P=this._boundingVolumeFactory(r,d,h,f);return this._cache.set(v,P),this._hadAnyChanges=!0,P}}class Ol{constructor(r,d,h,f){this.min=h,this.max=f,this.points=r,this.planes=d}static fromAabb(r,d){let h=[];for(let f=0;f<8;f++)h.push([1&~f?r[0]:d[0],(f>>1&1)==1?d[1]:r[1],(f>>2&1)==1?d[2]:r[2]]);return new Ol(h,[[-1,0,0,d[0]],[1,0,0,-r[0]],[0,-1,0,d[1]],[0,1,0,-r[1]],[0,0,-1,d[2]],[0,0,1,-r[2]]],r,d)}static fromCenterSizeAngles(r,d,h){let f=a.bB([],h[0],h[1],h[2]),v=a.bC([],[d[0],0,0],f),w=a.bC([],[0,d[1],0],f),k=a.bC([],[0,0,d[2]],f),P=[...r],F=[...r];for(let j=0;j<8;j++)for(let H=0;H<3;H++){let W=r[H]+v[H]*(1&~j?-1:1)+w[H]*((j>>1&1)==1?1:-1)+k[H]*((j>>2&1)==1?1:-1);P[H]=Math.min(P[H],W),F[H]=Math.max(F[H],W)}let B=[];for(let j=0;j<8;j++){let H=[...r];a.b0(H,H,a.a$([],v,1&~j?-1:1)),a.b0(H,H,a.a$([],w,(j>>1&1)==1?1:-1)),a.b0(H,H,a.a$([],k,(j>>2&1)==1?1:-1)),B.push(H)}return new Ol(B,[[...v,-a.b5(v,B[0])],[...w,-a.b5(w,B[0])],[...k,-a.b5(k,B[0])],[-v[0],-v[1],-v[2],-a.b5(v,B[7])],[-w[0],-w[1],-w[2],-a.b5(w,B[7])],[-k[0],-k[1],-k[2],-a.b5(k,B[7])]],P,F)}intersectsFrustum(r){let d=!0,h=this.points.length,f=this.planes.length,v=r.planes.length,w=r.points.length;for(let k=0;k<v;k++){let P=r.planes[k],F=0;for(let B=0;B<h;B++){let j=this.points[B];P[0]*j[0]+P[1]*j[1]+P[2]*j[2]+P[3]>=0&&F++}if(F===0)return 0;F<h&&(d=!1)}if(d)return 2;for(let k=0;k<f;k++){let P=this.planes[k],F=0;for(let B=0;B<w;B++){let j=r.points[B];P[0]*j[0]+P[1]*j[1]+P[2]*j[2]+P[3]>=0&&F++}if(F===0)return 0}return 1}intersectsPlane(r){let d=this.points.length,h=0;for(let f=0;f<d;f++){let v=this.points[f];r[0]*v[0]+r[1]*v[1]+r[2]*v[2]+r[3]>=0&&h++}return h===d?2:h===0?0:1}}function cu(y,r,d){let h=y-r;return h<0?-h:Math.max(0,h-d)}function Fl(y,r,d,h,f){let v=y-d,w;return w=v<0?Math.min(-v,1+v-f):v>1?Math.min(Math.max(v-f,0),1-v):0,Math.max(w,cu(r,h,f))}class rh{constructor(){this._boundingVolumeCache=new Z_(this._computeTileBoundingVolume)}prepareNextFrame(){this._boundingVolumeCache.swapBuffers()}distanceToTile2d(r,d,h,f){let v=1<<h.z,w=1/v,k=h.x/v,P=h.y/v,F=2;return F=Math.min(F,Fl(r,d,k,P,w)),F=Math.min(F,Fl(r,d,k+.5,-P-w,w)),F=Math.min(F,Fl(r,d,k+.5,2-P-w,w)),F}getWrap(r,d,h){let f=1<<d.z,v=1/f,w=d.x/f,k=cu(r.x,w,v),P=cu(r.x,w-1,v),F=cu(r.x,w+1,v),B=Math.min(k,P,F);return B===F?1:B===P?-1:0}allowVariableZoom(r,d){return Sn(r,d)>4}allowWorldCopies(){return!1}getTileBoundingVolume(r,d,h,f){return this._boundingVolumeCache.getTileBoundingVolume(r,d,h,f)}_computeTileBoundingVolume(r,d,h,f){var v,w;let k=0,P=0;if(f?.terrain){let F=new a.a2(r.z,d,r.z,r.x,r.y),B=f.terrain.getMinMaxElevation(F);k=(v=B.minElevation)!==null&&v!==void 0?v:Math.min(0,h),P=(w=B.maxElevation)!==null&&w!==void 0?w:Math.max(0,h)}if(k/=a.bE,P/=a.bE,k+=1,P+=1,r.z<=0)return Ol.fromAabb([-P,-P,-P],[P,P,P]);if(r.z===1)return Ol.fromAabb([r.x===0?-P:0,r.y===0?0:-P,-P],[r.x===0?0:P,r.y===0?P:0,P]);{let F=[zr(0,0,r.x,r.y,r.z),zr(a.a5,0,r.x,r.y,r.z),zr(a.a5,a.a5,r.x,r.y,r.z),zr(0,a.a5,r.x,r.y,r.z)],B=[];for(let Ue of F)B.push(a.a$([],Ue,P));if(P!==k)for(let Ue of F)B.push(a.a$([],Ue,k));r.y===0&&B.push([0,1,0]),r.y===(1<<r.z)-1&&B.push([0,-1,0]);let j=[1,1,1],H=[-1,-1,-1];for(let Ue of B)for(let $e=0;$e<3;$e++)j[$e]=Math.min(j[$e],Ue[$e]),H[$e]=Math.max(H[$e],Ue[$e]);let W=zr(a.a5/2,a.a5/2,r.x,r.y,r.z),ne=a.b4([],[0,1,0],W);a.b3(ne,ne);let he=a.b4([],W,ne);a.b3(he,he);let fe=a.b4([],F[2],F[1]);a.b3(fe,fe);let me=a.b4([],F[0],F[3]);a.b3(me,me),B.push(a.a$([],W,P)),r.y>=(1<<r.z)/2&&B.push(a.a$([],zr(a.a5/2,0,r.x,r.y,r.z),P)),r.y<(1<<r.z)/2&&B.push(a.a$([],zr(a.a5/2,a.a5,r.x,r.y,r.z),P));let be=id(W,B),Me=id(he,B),_e=[-W[0],-W[1],-W[2],be.max],Se=[W[0],W[1],W[2],-be.min],Pe=[-he[0],-he[1],-he[2],Me.max],Ie=[he[0],he[1],he[2],-Me.min],Oe=[...fe,0],Ye=[...me,0],je=[];return r.y===0?je.push(a.bD(Ye,Oe,_e),a.bD(Ye,Oe,Se)):je.push(a.bD(Pe,Oe,_e),a.bD(Pe,Oe,Se),a.bD(Pe,Ye,_e),a.bD(Pe,Ye,Se)),r.y===(1<<r.z)-1?je.push(a.bD(Ye,Oe,_e),a.bD(Ye,Oe,Se)):je.push(a.bD(Ie,Oe,_e),a.bD(Ie,Oe,Se),a.bD(Ie,Ye,_e),a.bD(Ie,Ye,Se)),new Ol(je,[_e,Se,Pe,Ie,Oe,Ye],j,H)}}}function id(y,r){let d=1/0,h=-1/0;for(let f of r){let v=a.b5(y,f);d=Math.min(d,v),h=Math.max(h,v)}return{min:d,max:h}}class Vl{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(r){this._helper.setMinZoom(r)}setMaxZoom(r){this._helper.setMaxZoom(r)}setMinPitch(r){this._helper.setMinPitch(r)}setMaxPitch(r){this._helper.setMaxPitch(r)}setRenderWorldCopies(r){this._helper.setRenderWorldCopies(r)}setBearing(r){this._helper.setBearing(r)}setPitch(r){this._helper.setPitch(r)}setRoll(r){this._helper.setRoll(r)}setFov(r){this._helper.setFov(r)}setZoom(r){this._helper.setZoom(r)}setCenter(r){this._helper.setCenter(r)}setElevation(r){this._helper.setElevation(r)}setMinElevationForCurrentTile(r){this._helper.setMinElevationForCurrentTile(r)}setPadding(r){this._helper.setPadding(r)}interpolatePadding(r,d,h){return this._helper.interpolatePadding(r,d,h)}isPaddingEqual(r){return this._helper.isPaddingEqual(r)}resize(r,d){this._helper.resize(r,d)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(r){this._helper.setMaxBounds(r)}setConstrainOverride(r){this._helper.setConstrainOverride(r)}overrideNearFarZ(r,d){this._helper.overrideNearFarZ(r,d)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(r){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),r)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(r){}constructor(r){this._cachedClippingPlane=a.bF(),this._projectionMatrix=a.bj(),this._globeViewProjMatrix32f=a.bi(),this._globeViewProjMatrixNoCorrection=a.bj(),this._globeViewProjMatrixNoCorrectionInverted=a.bj(),this._globeProjMatrixInverted=a.bj(),this._cameraPosition=a.bz(),this._globeLatitudeErrorCorrectionRadians=0,this.defaultConstrain=(d,h)=>{let f=a.an(d.lat,-a.ao,a.ao),v=a.an(+h,this.minZoom+Qn(0,f),this.maxZoom);return{center:new a.V(d.lng,f),zoom:v}},this.applyConstrain=(d,h)=>this._helper.applyConstrain(d,h),this._helper=new Us({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(d,h)=>this.defaultConstrain(d,h)},r),this._coveringTilesDetailsProvider=new rh}clone(){let r=new Vl;return r.apply(this),r}apply(r,d){this._globeLatitudeErrorCorrectionRadians=d||0,this._helper.apply(r)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){let r=a.bz();return r[0]=this._cameraPosition[0],r[1]=this._cameraPosition[1],r[2]=this._cameraPosition[2],r}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(r){let{overscaledTileID:d,applyGlobeMatrix:h}=r,f=this._helper.getMercatorTileCoordinates(d);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:f,clippingPlane:this._cachedClippingPlane,projectionTransition:h?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(r){let d=this.pitchInRadians,h=this.cameraToCenterDistance/r,f=Math.sin(d)*h,v=Math.cos(d)*h+1,w=1/Math.sqrt(f*f+v*v)*1,k=-f,P=v,F=Math.sqrt(k*k+P*P);k/=F,P/=F;let B=[0,k,P];a.bG(B,B,[0,0,0],-this.bearingInRadians),a.bH(B,B,[0,0,0],-1*this.center.lat*Math.PI/180),a.bI(B,B,[0,0,0],this.center.lng*Math.PI/180);let j=1/a.b7(B);return a.a$(B,B,j),[...B,-w*j]}isLocationOccluded(r){return!this.isSurfacePointVisible(Dn(r))}transformLightDirection(r){let d=this._helper._center.lng*Math.PI/180,h=this._helper._center.lat*Math.PI/180,f=Math.cos(h),v=[Math.sin(d)*f,Math.sin(h),Math.cos(d)*f],w=[v[2],0,-v[0]],k=[0,0,0];a.b4(k,w,v),a.b3(w,w),a.b3(k,k);let P=[0,0,0];return a.b3(P,[w[0]*r[0]+k[0]*r[1]+v[0]*r[2],w[1]*r[0]+k[1]*r[1]+v[1]*r[2],w[2]*r[0]+k[2]*r[1]+v[2]*r[2]]),P}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(r,d,h){let f=function(k,P,F){let B=1/(1<<F.z);return new a.a9(k/a.a5*B+F.x*B,P/a.a5*B+F.y*B)}(r,d,h.canonical),v=(w=f.y,[a.by(f.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-w*Math.PI*2))-.5*Math.PI]);var w;return this.getCircleRadiusCorrection()/Math.cos(v[1])}projectTileCoordinates(r,d,h,f){let v=h.canonical,w=zr(r,d,v.x,v.y,v.z),k=1+(f?f(r,d):0)/a.bE,P=[w[0]*k,w[1]*k,w[2]*k,1];a.aH(P,P,this._globeViewProjMatrixNoCorrection);let F=this._cachedClippingPlane,B=F[0]*w[0]+F[1]*w[1]+F[2]*w[2]+F[3]<0;return{point:new a.P(P[0]/P[3],P[1]/P[3]),signedDistanceFromCamera:P[3],isOccluded:B}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;let r=Ws(this.worldSize,this.center.lat),d=a.bk(),h=a.bk();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*r),a.be(d,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);let f=this.centerOffset;d[8]=2*-f.x/this._helper._width,d[9]=2*f.y/this._helper._height,this._projectionMatrix=a.bf(d),this._globeProjMatrixInverted=a.bk(),a.aB(this._globeProjMatrixInverted,d),a.O(d,d,[0,0,-this.cameraToCenterDistance]),a.bg(d,d,this.rollInRadians),a.bh(d,d,-this.pitchInRadians),a.bg(d,d,this.bearingInRadians),a.O(d,d,[0,0,-r]);let v=a.bz();v[0]=r,v[1]=r,v[2]=r,a.bh(h,d,this.center.lat*Math.PI/180),a.bJ(h,h,-this.center.lng*Math.PI/180),a.Q(h,h,v),this._globeViewProjMatrixNoCorrection=h,a.bh(d,d,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),a.bJ(d,d,-this.center.lng*Math.PI/180),a.Q(d,d,v),this._globeViewProjMatrix32f=new Float32Array(d),this._globeViewProjMatrixNoCorrectionInverted=a.bk(),a.aB(this._globeViewProjMatrixNoCorrectionInverted,h);let w=a.bz();this._cameraPosition=a.bz(),this._cameraPosition[2]=this.cameraToCenterDistance/r,a.bG(this._cameraPosition,this._cameraPosition,w,-this.rollInRadians),a.bH(this._cameraPosition,this._cameraPosition,w,this.pitchInRadians),a.bG(this._cameraPosition,this._cameraPosition,w,-this.bearingInRadians),a.b0(this._cameraPosition,this._cameraPosition,[0,0,1]),a.bH(this._cameraPosition,this._cameraPosition,w,-this.center.lat*Math.PI/180),a.bI(this._cameraPosition,this._cameraPosition,w,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(r);let k=a.bf(this._globeViewProjMatrixNoCorrectionInverted);a.Q(k,k,[1,1,-1]),this._cachedFrustum=Co.fromInvProjectionMatrix(k,1,0,this._cachedClippingPlane,!0)}calculateFogMatrix(r){a.w("calculateFogMatrix is not supported on globe projection.");let d=a.bk();return a.ar(d),d}getVisibleUnwrappedCoordinates(r){return[new a.bc(0,r)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(r){r&&a.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(r,d){if(!this._globeViewProjMatrixNoCorrection)return 1;let h=Dn(r);a.a$(h,h,1+d/a.bE);let f=a.bF();return a.aH(f,[h[0],h[1],h[2],1],this._globeViewProjMatrixNoCorrection),f[2]/f[3]}populateCache(r){}getBounds(){let r=.5*this.width,d=.5*this.height,h=[new a.P(0,0),new a.P(r,0),new a.P(this.width,0),new a.P(this.width,d),new a.P(this.width,this.height),new a.P(r,this.height),new a.P(0,this.height),new a.P(0,d)],f=[];for(let j of h)f.push(this.unprojectScreenPoint(j));let v=0,w=0,k=0,P=0,F=this.center;for(let j of f){let H=a.bK(F.lng,j.lng),W=a.bK(F.lat,j.lat);H<w&&(w=H),H>v&&(v=H),W<P&&(P=W),W>k&&(k=W)}let B=[F.lng+w,F.lat+P,F.lng+v,F.lat+k];return this.isSurfacePointOnScreen([0,1,0])&&(B[3]=90,B[0]=-180,B[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(B[1]=-90,B[0]=-180,B[2]=180),new Kn(B)}calculateCenterFromCameraLngLatAlt(r,d,h,f){return this._helper.calculateCenterFromCameraLngLatAlt(r,d,h,f)}setLocationAtPoint(r,d){let h=Dn(this.unprojectScreenPoint(d)),f=Dn(r),v=a.bz();a.bL(v);let w=a.bz();a.bI(w,h,v,-this.center.lng*Math.PI/180),a.bH(w,w,v,this.center.lat*Math.PI/180);let k=f[0]*f[0]+f[2]*f[2],P=w[0]*w[0];if(k<P)return;let F=Math.sqrt(k-P),B=-F,j=a.bM(f[0],f[2],w[0],F),H=a.bM(f[0],f[2],w[0],B),W=a.bz();a.bI(W,f,v,-j);let ne=a.bM(W[1],W[2],w[1],w[2]),he=a.bz();a.bI(he,f,v,-H);let fe=a.bM(he[1],he[2],w[1],w[2]),me=.5*Math.PI,be=ne>=-me&&ne<=me,Me=fe>=-me&&fe<=me,_e,Se;if(be&&Me){let Ye=this.center.lng*Math.PI/180,je=this.center.lat*Math.PI/180;a.bN(j,Ye)+a.bN(ne,je)<a.bN(H,Ye)+a.bN(fe,je)?(_e=j,Se=ne):(_e=H,Se=fe)}else if(be)_e=j,Se=ne;else{if(!Me)return;_e=H,Se=fe}let Pe=_e/Math.PI*180,Ie=Se/Math.PI*180,Oe=this.center.lat;this.setCenter(new a.V(Pe,a.an(Ie,-90,90))),this.setZoom(this.zoom+Qn(Oe,this.center.lat))}locationToScreenPoint(r,d){let h=Dn(r);if(d){let f=d.getElevationForLngLatZoom(r,this._helper._tileZoom);a.a$(h,h,1+f/a.bE)}return this._projectSurfacePointToScreen(h)}_projectSurfacePointToScreen(r){let d=a.bF();return a.aH(d,[...r,1],this._globeViewProjMatrixNoCorrection),d[0]/=d[3],d[1]/=d[3],new a.P((.5*d[0]+.5)*this.width,(.5*-d[1]+.5)*this.height)}screenPointToMercatorCoordinate(r,d){if(d){let h=d.pointCoordinate(r);if(h)return h}return a.a9.fromLngLat(this.unprojectScreenPoint(r))}screenPointToLocation(r,d){var h;return(h=this.screenPointToMercatorCoordinate(r,d))===null||h===void 0?void 0:h.toLngLat()}isPointOnMapSurface(r,d){let h=this._cameraPosition,f=this.getRayDirectionFromPixel(r);return!!this.rayPlanetIntersection(h,f)}getRayDirectionFromPixel(r){let d=a.bF();d[0]=r.x/this.width*2-1,d[1]=-1*(r.y/this.height*2-1),d[2]=1,d[3]=1,a.aH(d,d,this._globeViewProjMatrixNoCorrectionInverted),d[0]/=d[3],d[1]/=d[3],d[2]/=d[3];let h=a.bz();h[0]=d[0]-this._cameraPosition[0],h[1]=d[1]-this._cameraPosition[1],h[2]=d[2]-this._cameraPosition[2];let f=a.bz();return a.b3(f,h),f}isSurfacePointVisible(r){let d=this._cachedClippingPlane;return d[0]*r[0]+d[1]*r[1]+d[2]*r[2]+d[3]>=0}isSurfacePointOnScreen(r){if(!this.isSurfacePointVisible(r))return!1;let d=a.bF();return a.aH(d,[...r,1],this._globeViewProjMatrixNoCorrection),d[0]/=d[3],d[1]/=d[3],d[2]/=d[3],d[0]>-1&&d[0]<1&&d[1]>-1&&d[1]<1&&d[2]>-1&&d[2]<1}rayPlanetIntersection(r,d){let h=a.b5(r,d),f=a.bz(),v=a.bz();a.a$(v,d,h),a.b2(f,r,v);let w=1-a.b5(f,f);if(w<0)return null;let k=a.b5(r,r)-1,P=-h+(h<0?1:-1)*Math.sqrt(w),F=k/P,B=P;return{tMin:Math.min(F,B),tMax:Math.max(F,B)}}unprojectScreenPoint(r){let d=this._cameraPosition,h=this.getRayDirectionFromPixel(r),f=this.rayPlanetIntersection(d,h);if(f){let B=a.bz();a.b0(B,d,[h[0]*f.tMin,h[1]*f.tMin,h[2]*f.tMin]);let j=a.bz();return a.b3(j,B),ah(j)}let v=this._cachedClippingPlane,w=v[0]*h[0]+v[1]*h[1]+v[2]*h[2],k=-a.bb(v,d)/w,P=a.bz();if(k>0)a.b0(P,d,[h[0]*k,h[1]*k,h[2]*k]);else{let B=a.bz();a.b0(B,d,[2*h[0],2*h[1],2*h[2]]);let j=a.bb(this._cachedClippingPlane,B);a.b2(P,B,[this._cachedClippingPlane[0]*j,this._cachedClippingPlane[1]*j,this._cachedClippingPlane[2]*j])}let F=function(B){let j=a.bz();return j[0]=B[0]*-B[3],j[1]=B[1]*-B[3],j[2]=B[2]*-B[3],{center:j,radius:Math.sqrt(1-B[3]*B[3])}}(v);return ah(function(B,j,H){let W=a.bz();a.b2(W,H,B);let ne=a.bz();return a.bA(ne,B,W,j/a.b9(W)),ne}(F.center,F.radius,P))}getMatrixForModel(r,d){let h=a.V.convert(r),f=1/a.bE,v=a.bj();return a.bJ(v,v,h.lng/180*Math.PI),a.bh(v,v,-h.lat/180*Math.PI),a.O(v,v,[0,0,1+d/a.bE]),a.bh(v,v,.5*Math.PI),a.Q(v,v,[f,f,f]),v}getProjectionDataForCustomLayer(r=!0){let d=this.getProjectionData({overscaledTileID:new a.a2(0,0,0,0,0),applyGlobeMatrix:r});return d.tileMercatorCoords=[0,0,1,1],d}getFastPathSimpleProjectionMatrix(r){}}class zl{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(r){this._helper.setMinZoom(r)}setMaxZoom(r){this._helper.setMaxZoom(r)}setMinPitch(r){this._helper.setMinPitch(r)}setMaxPitch(r){this._helper.setMaxPitch(r)}setRenderWorldCopies(r){this._helper.setRenderWorldCopies(r)}setBearing(r){this._helper.setBearing(r)}setPitch(r){this._helper.setPitch(r)}setRoll(r){this._helper.setRoll(r)}setFov(r){this._helper.setFov(r)}setZoom(r){this._helper.setZoom(r)}setCenter(r){this._helper.setCenter(r)}setElevation(r){this._helper.setElevation(r)}setMinElevationForCurrentTile(r){this._helper.setMinElevationForCurrentTile(r)}setPadding(r){this._helper.setPadding(r)}interpolatePadding(r,d,h){return this._helper.interpolatePadding(r,d,h)}isPaddingEqual(r){return this._helper.isPaddingEqual(r)}resize(r,d,h=!0){this._helper.resize(r,d,h)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(r){this._helper.setMaxBounds(r)}setConstrainOverride(r){this._helper.setConstrainOverride(r)}overrideNearFarZ(r,d){this._helper.overrideNearFarZ(r,d)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(r){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),r)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(r,d){this._globeness=r,this._globeLatitudeErrorCorrectionRadians=d,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().prepareNextFrame(),this._mercatorTransform.getCoveringTilesDetailsProvider().prepareNextFrame()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(r){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this.defaultConstrain=(d,h)=>this.currentTransform.defaultConstrain(d,h),this.applyConstrain=(d,h)=>this._helper.applyConstrain(d,h),this._helper=new Us({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(d,h)=>this.defaultConstrain(d,h)},r),this._globeness=1,this._mercatorTransform=new $s,this._verticalPerspectiveTransform=new Vl}clone(){let r=new zl;return r._globeness=this._globeness,r._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,r.apply(this),r}apply(r){this._helper.apply(r),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(r){let d=this._mercatorTransform.getProjectionData(r),h=this._verticalPerspectiveTransform.getProjectionData(r);return{mainMatrix:this.isGlobeRendering?h.mainMatrix:d.mainMatrix,clippingPlane:h.clippingPlane,tileMercatorCoords:h.tileMercatorCoords,projectionTransition:r.applyGlobeMatrix?this._globeness:0,fallbackMatrix:d.fallbackMatrix}}isLocationOccluded(r){return this.currentTransform.isLocationOccluded(r)}transformLightDirection(r){return this.currentTransform.transformLightDirection(r)}getPixelScale(){return a.bu(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return a.bu(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(r,d,h){let f=this._mercatorTransform.getPitchedTextCorrection(r,d,h),v=this._verticalPerspectiveTransform.getPitchedTextCorrection(r,d,h);return a.bu(f,v,this._globeness)}projectTileCoordinates(r,d,h,f){return this.currentTransform.projectTileCoordinates(r,d,h,f)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(r){return this.currentTransform.calculateFogMatrix(r)}getVisibleUnwrappedCoordinates(r){return this.currentTransform.getVisibleUnwrappedCoordinates(r)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(r){this._mercatorTransform.recalculateZoomAndCenter(r),this._verticalPerspectiveTransform.recalculateZoomAndCenter(r)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(r,d){return this.currentTransform.lngLatToCameraDepth(r,d)}populateCache(r){this._mercatorTransform.populateCache(r),this._verticalPerspectiveTransform.populateCache(r)}getBounds(){return this.currentTransform.getBounds()}calculateCenterFromCameraLngLatAlt(r,d,h,f){return this._helper.calculateCenterFromCameraLngLatAlt(r,d,h,f)}setLocationAtPoint(r,d){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(r,d),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(r,d),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(r,d){return this.currentTransform.locationToScreenPoint(r,d)}screenPointToMercatorCoordinate(r,d){return this.currentTransform.screenPointToMercatorCoordinate(r,d)}screenPointToLocation(r,d){return this.currentTransform.screenPointToLocation(r,d)}isPointOnMapSurface(r,d){return this.currentTransform.isPointOnMapSurface(r,d)}getRayDirectionFromPixel(r){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(r)}getMatrixForModel(r,d){return this.currentTransform.getMatrixForModel(r,d)}getProjectionDataForCustomLayer(r=!0){let d=this._mercatorTransform.getProjectionDataForCustomLayer(r);if(!this.isGlobeRendering)return d;let h=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(r);return h.fallbackMatrix=d.mainMatrix,h}getFastPathSimpleProjectionMatrix(r){return this.currentTransform.getFastPathSimpleProjectionMatrix(r)}}class va{get useGlobeControls(){return!0}handlePanInertia(r,d){let h=rf(r,d);return Math.abs(h.lng-d.center.lng)>180&&(h.lng=d.center.lng+179.5*Math.sign(h.lng-d.center.lng)),{easingCenter:h,easingOffset:new a.P(0,0)}}handleMapControlsRollPitchBearingZoom(r,d){let h=r.around,f=d.screenPointToLocation(h);r.bearingDelta&&d.setBearing(d.bearing+r.bearingDelta),r.pitchDelta&&d.setPitch(d.pitch+r.pitchDelta),r.rollDelta&&d.setRoll(d.roll+r.rollDelta);let v=d.zoom;r.zoomDelta&&d.setZoom(d.zoom+r.zoomDelta);let w=d.zoom-v;if(w===0)return;let k=a.bK(d.center.lng,f.lng),P=k/(Math.abs(k/180)+1),F=a.bK(d.center.lat,f.lat),B=d.getRayDirectionFromPixel(h),j=d.cameraPosition,H=-1*a.b5(j,B),W=a.bz();a.b0(W,j,[B[0]*H,B[1]*H,B[2]*H]);let ne=a.b7(W)-1,he=Math.exp(.5*-Math.max(ne-.3,0)),fe=Ws(d.worldSize,d.center.lat)/Math.min(d.width,d.height),me=a.bx(fe,.9,.5,1,.25),be=(1-a.aq(-w))*Math.min(he,me),Me=d.center.lat,_e=d.zoom,Se=new a.V(d.center.lng+P*be,a.an(d.center.lat+F*be,-a.ao,a.ao));d.setLocationAtPoint(f,h);let Pe=d.center,Ie=a.bx(Math.abs(k),45,85,0,1),Oe=a.bx(fe,.75,.35,0,1),Ye=Math.pow(Math.max(Ie,Oe),.25),je=a.bK(Pe.lng,Se.lng),Ue=a.bK(Pe.lat,Se.lat);d.setCenter(new a.V(Pe.lng+je*Ye,Pe.lat+Ue*Ye).wrap()),d.setZoom(_e+Qn(Me,d.center.lat))}handleMapControlsPan(r,d,h){if(!r.panDelta)return;let f=d.center.lat,v=d.zoom;d.setCenter(rf(r.panDelta,d).wrap()),d.setZoom(v+Qn(f,d.center.lat))}cameraForBoxAndBearing(r,d,h,f,v){let w=ih(r,d,h,f,v),k=d.left/v.width*2-1,P=(v.width-d.right)/v.width*2-1,F=d.top/v.height*-2+1,B=(v.height-d.bottom)/v.height*-2+1,j=a.bK(h.getWest(),h.getEast())<0,H=j?h.getEast():h.getWest(),W=j?h.getWest():h.getEast(),ne=Math.max(h.getNorth(),h.getSouth()),he=Math.min(h.getNorth(),h.getSouth()),fe=H+.5*a.bK(H,W),me=ne+.5*a.bK(ne,he),be=v.clone();be.setCenter(w.center),be.setBearing(w.bearing),be.setPitch(0),be.setRoll(0),be.setZoom(w.zoom);let Me=be.modelViewProjectionMatrix,_e=[Dn(h.getNorthWest()),Dn(h.getNorthEast()),Dn(h.getSouthWest()),Dn(h.getSouthEast()),Dn(new a.V(W,me)),Dn(new a.V(H,me)),Dn(new a.V(fe,ne)),Dn(new a.V(fe,he))],Se=Dn(w.center),Pe=Number.POSITIVE_INFINITY;for(let Ie of _e)k<0&&(Pe=va.getLesserNonNegativeNonNull(Pe,va.solveVectorScale(Ie,Se,Me,"x",k))),P>0&&(Pe=va.getLesserNonNegativeNonNull(Pe,va.solveVectorScale(Ie,Se,Me,"x",P))),F>0&&(Pe=va.getLesserNonNegativeNonNull(Pe,va.solveVectorScale(Ie,Se,Me,"y",F))),B<0&&(Pe=va.getLesserNonNegativeNonNull(Pe,va.solveVectorScale(Ie,Se,Me,"y",B)));if(Number.isFinite(Pe)&&Pe!==0)return w.zoom=be.zoom+a.at(Pe),w;Xr()}handleJumpToCenterZoom(r,d){let h=r.center.lat,f=r.applyConstrain(d.center?a.V.convert(d.center):r.center,r.zoom).center;r.setCenter(f.wrap());let v=d.zoom!==void 0?+d.zoom:r.zoom+Qn(h,f.lat);r.zoom!==v&&r.setZoom(v)}handleEaseTo(r,d){let h=r.zoom,f=r.center,v=r.padding,w={roll:r.roll,pitch:r.pitch,bearing:r.bearing},k={roll:d.roll===void 0?r.roll:d.roll,pitch:d.pitch===void 0?r.pitch:d.pitch,bearing:d.bearing===void 0?r.bearing:d.bearing},P=d.zoom!==void 0,F=!r.isPaddingEqual(d.padding),B=!1,j=d.center?a.V.convert(d.center):f,H=r.applyConstrain(j,h).center;_s(r,H);let W=r.clone();W.setCenter(H),W.setZoom(P?+d.zoom:h+Qn(f.lat,j.lat)),W.setBearing(d.bearing);let ne=new a.P(a.an(r.centerPoint.x+d.offsetAsPoint.x,0,r.width),a.an(r.centerPoint.y+d.offsetAsPoint.y,0,r.height));W.setLocationAtPoint(H,ne);let he=(d.offset&&d.offsetAsPoint.mag())>0?W.center:H,fe=P?+d.zoom:h+Qn(f.lat,he.lat),me=h+Qn(f.lat,0),be=fe+Qn(he.lat,0),Me=a.bK(f.lng,he.lng),_e=a.bK(f.lat,he.lat),Se=a.aq(be-me);return B=fe!==h,{easeFunc:Pe=>{if(a.bo(w,k)||nf({startEulerAngles:w,endEulerAngles:k,tr:r,k:Pe,useSlerp:w.roll!=k.roll}),F&&r.interpolatePadding(v,d.padding,Pe),d.around)a.w("Easing around a point is not supported under globe projection."),r.setLocationAtPoint(d.around,d.aroundPoint);else{let Ie=be>me?Math.min(2,Se):Math.max(.5,Se),Oe=Math.pow(Ie,1-Pe),Ye=sf(f,Me,_e,Pe*Oe);r.setCenter(Ye.wrap())}if(B){let Ie=a.G.number(me,be,Pe)+Qn(0,r.center.lat);r.setZoom(Ie)}},isZooming:B,elevationCenter:he}}handleFlyTo(r,d){let h=d.zoom!==void 0,f=r.center,v=r.zoom,w=r.padding,k=!r.isPaddingEqual(d.padding),P=r.applyConstrain(a.V.convert(d.center||d.locationAtOffset),v).center,F=h?+d.zoom:r.zoom+Qn(r.center.lat,P.lat),B=r.clone();B.setCenter(P),B.setZoom(F),B.setBearing(d.bearing);let j=new a.P(a.an(r.centerPoint.x+d.offsetAsPoint.x,0,r.width),a.an(r.centerPoint.y+d.offsetAsPoint.y,0,r.height));B.setLocationAtPoint(P,j);let H=B.center;_s(r,H);let W=function(_e,Se,Pe){let Ie=Dn(Se),Oe=Dn(Pe),Ye=a.b5(Ie,Oe),je=Math.acos(Ye),Ue=fo(_e);return je/(2*Math.PI)*Ue}(r,f,H),ne=v+Qn(f.lat,0),he=F+Qn(H.lat,0),fe=a.aq(he-ne),me;if(typeof d.minZoom=="number"){let _e=+d.minZoom+Qn(H.lat,0),Se=Math.min(_e,ne,he)+Qn(0,H.lat),Pe=r.applyConstrain(H,Se).zoom+Qn(H.lat,0);me=a.aq(Pe-ne)}let be=a.bK(f.lng,H.lng),Me=a.bK(f.lat,H.lat);return{easeFunc:(_e,Se,Pe,Ie)=>{let Oe=sf(f,be,Me,Pe);k&&r.interpolatePadding(w,d.padding,_e);let Ye=_e===1?H:Oe;r.setCenter(Ye.wrap());let je=ne+a.at(Se);r.setZoom(_e===1?F:je+Qn(0,Ye.lat))},scaleOfZoom:fe,targetCenter:H,scaleOfMinZoom:me,pixelPathLength:W}}static solveVectorScale(r,d,h,f,v){let w=f==="x"?[h[0],h[4],h[8],h[12]]:[h[1],h[5],h[9],h[13]],k=[h[3],h[7],h[11],h[15]],P=r[0]*w[0]+r[1]*w[1]+r[2]*w[2],F=r[0]*k[0]+r[1]*k[1]+r[2]*k[2],B=d[0]*w[0]+d[1]*w[1]+d[2]*w[2],j=d[0]*k[0]+d[1]*k[1]+d[2]*k[2];return B+v*F===P+v*j||k[3]*(P-B)+w[3]*(j-F)+P*j==B*F?null:(B+w[3]-v*j-v*k[3])/(B-P-v*j+v*F)}static getLesserNonNegativeNonNull(r,d){return d!==null&&d>=0&&d<r?d:r}}class lf{constructor(r){this._globe=r,this._mercatorCameraHelper=new Ks,this._verticalPerspectiveCameraHelper=new va}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(r,d){return this.currentHelper.handlePanInertia(r,d)}handleMapControlsRollPitchBearingZoom(r,d){return this.currentHelper.handleMapControlsRollPitchBearingZoom(r,d)}handleMapControlsPan(r,d,h){this.currentHelper.handleMapControlsPan(r,d,h)}cameraForBoxAndBearing(r,d,h,f,v){return this.currentHelper.cameraForBoxAndBearing(r,d,h,f,v)}handleJumpToCenterZoom(r,d){this.currentHelper.handleJumpToCenterZoom(r,d)}handleEaseTo(r,d){return this.currentHelper.handleEaseTo(r,d)}handleFlyTo(r,d){return this.currentHelper.handleFlyTo(r,d)}}let Rl=(y,r)=>a.B(y,r&&r.filter(d=>d.identifier!=="source.canvas")),nd=a.bO();class Zs extends a.E{constructor(r,d={}){var h,f;super(),this._rtlPluginLoaded=()=>{for(let w in this.tileManagers){let k=this.tileManagers[w].getSource().type;k!=="vector"&&k!=="geojson"||this.tileManagers[w].reload()}},this.map=r,this.dispatcher=new fr(qs(),r._getMapId()),this.dispatcher.registerMessageHandler("GG",(w,k)=>this.getGlyphs(w,k)),this.dispatcher.registerMessageHandler("GI",(w,k)=>this.getImages(w,k)),this.dispatcher.registerMessageHandler("GDA",(w,k)=>this.getDashes(w,k)),this.imageManager=new mi,this.imageManager.setEventedParent(this);let v=((h=r._container)===null||h===void 0?void 0:h.lang)||typeof document<"u"&&((f=document.documentElement)===null||f===void 0?void 0:f.lang)||void 0;this.glyphManager=new Mi(r._requestManager,d.localIdeographFontFamily,v),this.lineAtlas=new Or(256,512),this.crossTileSymbolIndex=new To,this._setInitialValues(),this._resetUpdates(),this.dispatcher.broadcast("SR",a.bP()),Ve().on(Ee,this._rtlPluginLoaded),this.on("data",w=>{if(w.dataType!=="source"||w.sourceDataType!=="metadata")return;let k=this.tileManagers[w.sourceId];if(!k)return;let P=k.getSource();if(P&&P.vectorLayerIds)for(let F in this._layers){let B=this._layers[F];B.source===P.id&&this._validateLayer(B)}})}_setInitialValues(){var r;this._spritesImagesIds={},this._layers={},this._order=[],this.tileManagers={},this.zoomHistory=new a.bQ,this._availableImages=[],this._globalState={},this._serializedLayers={},this.stylesheet=null,this.light=null,this.sky=null,this.projection&&(this.projection.destroy(),delete this.projection),this._loaded=!1,this._changed=!1,this._updatedLayers={},this._updatedSources={},this._changedImages={},this._glyphsDidChange=!1,this._updatedPaintProps={},this._layerOrderChanged=!1,this.crossTileSymbolIndex=new(((r=this.crossTileSymbolIndex)===null||r===void 0?void 0:r.constructor)||Object),this.pauseablePlacement=void 0,this.placement=void 0,this.z=0}setGlobalStateProperty(r,d){var h,f,v;this._checkLoaded();let w=d===null?(v=(f=(h=this.stylesheet.state)===null||h===void 0?void 0:h[r])===null||f===void 0?void 0:f.default)!==null&&v!==void 0?v:null:d;if(a.bR(w,this._globalState[r]))return this;this._globalState[r]=w,this._applyGlobalStateChanges([r])}getGlobalState(){return this._globalState}setGlobalState(r){this._checkLoaded();let d=[];for(let h in r)!a.bR(this._globalState[h],r[h].default)&&(d.push(h),this._globalState[h]=r[h].default);this._applyGlobalStateChanges(d)}_applyGlobalStateChanges(r){if(r.length===0)return;let d=new Set,h={};for(let f of r){h[f]=this._globalState[f];for(let v in this._layers){let w=this._layers[v],k=w.getLayoutAffectingGlobalStateRefs(),P=w.getPaintAffectingGlobalStateRefs(),F=w.getVisibilityAffectingGlobalStateRefs();if(k.has(f)&&d.add(w.source),P.has(f))for(let{name:B,value:j}of P.get(f))this._updatePaintProperty(w,B,j);F?.has(f)&&(w.recalculateVisibility(),this._updateLayer(w))}}this.dispatcher.broadcast("UGS",h);for(let f in this.tileManagers)d.has(f)&&(this._reloadSource(f),this._changed=!0)}loadURL(r,d={},h){this.fire(new a.l("dataloading",{dataType:"style"})),d.validate=typeof d.validate!="boolean"||d.validate;let f=this.map._requestManager.transformRequest(r,"Style");this._loadStyleRequest=new AbortController;let v=this._loadStyleRequest;a.j(f,this._loadStyleRequest).then(w=>{this._loadStyleRequest=null,this._load(w.data,d,h)}).catch(w=>{this._loadStyleRequest=null,w&&!v.signal.aborted&&this.fire(new a.k(w))})}loadJSON(r,d={},h){this.fire(new a.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,U.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,d.validate=d.validate!==!1,this._load(r,d,h)}).catch(()=>{})}loadEmpty(){this.fire(new a.l("dataloading",{dataType:"style"})),this._load(nd,{validate:!1})}_load(r,d,h){var f,v;let w=d.transformStyle?d.transformStyle(h,r):r;if(!d.validate||!Rl(this,a.C(w))){w=Object.assign({},w),this._loaded=!0,this.stylesheet=w;for(let k in w.sources)this.addSource(k,w.sources[k],{validate:!1});w.sprite?this._loadSprite(w.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(w.glyphs),this._createLayers(),this.light=new Oa(this.stylesheet.light),this._setProjectionInternal(((f=this.stylesheet.projection)===null||f===void 0?void 0:f.type)||"mercator"),this.sky=new Bo(this.stylesheet.sky),this.map.setTerrain((v=this.stylesheet.terrain)!==null&&v!==void 0?v:null),this.fire(new a.l("data",{dataType:"style"})),this.fire(new a.l("style.load"))}}_createLayers(){var r,d,h;let f=a.bS(this.stylesheet.layers);this.setGlobalState((r=this.stylesheet.state)!==null&&r!==void 0?r:null),this.dispatcher.broadcast("SL",f),this._order=f.map(v=>v.id),this._layers={},this._serializedLayers=null;for(let v of f){let w=a.bT(v,this._globalState);if(w.setEventedParent(this,{layer:{id:v.id}}),this._layers[v.id]=w,a.bU(w)&&this.tileManagers[w.source]){let k=(h=(d=v.paint)===null||d===void 0?void 0:d["raster-fade-duration"])!==null&&h!==void 0?h:w.paint.get("raster-fade-duration");this.tileManagers[w.source].setRasterFadeDuration(k)}}}_loadSprite(r,d=!1,h=void 0){this.imageManager.setLoaded(!1);let f=new AbortController,v;this._spriteRequest=f,function(w,k,P,F){return a._(this,void 0,void 0,function*(){let B=qt(w),j=P>1?"@2x":"",H={},W={};for(let{id:ne,url:he}of B){let fe=k.transformRequest(Mt(he,j,".json"),"SpriteJSON");H[ne]=a.j(fe,F);let me=k.transformRequest(Mt(he,j,".png"),"SpriteImage");W[ne]=lt.getImage(me,F)}return yield Promise.all([...Object.values(H),...Object.values(W)]),function(ne,he){return a._(this,void 0,void 0,function*(){let fe={};for(let me in ne){fe[me]={};let be=U.getImageCanvasContext((yield he[me]).data),Me=(yield ne[me]).data;for(let _e in Me){let{width:Se,height:Pe,x:Ie,y:Oe,sdf:Ye,pixelRatio:je,stretchX:Ue,stretchY:$e,content:Tt,textFitWidth:Ct,textFitHeight:pt}=Me[_e];fe[me][_e]={data:null,pixelRatio:je,sdf:Ye,stretchX:Ue,stretchY:$e,content:Tt,textFitWidth:Ct,textFitHeight:pt,spriteData:{width:Se,height:Pe,x:Ie,y:Oe,context:be}}}}return fe})}(H,W)})}(r,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(w=>{if(this._spriteRequest=null,w)for(let k in w){this._spritesImagesIds[k]=[];let P=this._spritesImagesIds[k]?this._spritesImagesIds[k].filter(F=>!(F in w)):[];for(let F of P)this.imageManager.removeImage(F),this._changedImages[F]=!0;for(let F in w[k]){let B=k==="default"?F:`${k}:${F}`;this._spritesImagesIds[k].push(B),B in this.imageManager.images?this.imageManager.updateImage(B,w[k][F],!1):this.imageManager.addImage(B,w[k][F]),d&&(this._changedImages[B]=!0)}}}).catch(w=>{this._spriteRequest=null,v=w,f.signal.aborted||this.fire(new a.k(v))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),d&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"})),h&&h(v)})}_unloadSprite(){for(let r of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(r),this._changedImages[r]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"}))}_validateLayer(r){let d=this.tileManagers[r.source];if(!d)return;let h=r.sourceLayer;if(!h)return;let f=d.getSource();(f.type==="geojson"||f.vectorLayerIds&&f.vectorLayerIds.indexOf(h)===-1)&&this.fire(new a.k(new Error(`Source layer "${h}" does not exist on source "${f.id}" as specified by style layer "${r.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(let r in this.tileManagers)if(!this.tileManagers[r].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(r,d=!1){let h=this._serializedAllLayers();if(!r||r.length===0)return Object.values(d?a.bV(h):h);let f=[];for(let v of r)if(h[v]){let w=d?a.bV(h[v]):h[v];f.push(w)}return f}_serializedAllLayers(){let r=this._serializedLayers;if(r)return r;r=this._serializedLayers={};let d=Object.keys(this._layers);for(let h of d){let f=this._layers[h];f.type!=="custom"&&(r[h]=f.serialize())}return r}hasTransitions(){var r,d,h;if(!((r=this.light)===null||r===void 0)&&r.hasTransition()||!((d=this.sky)===null||d===void 0)&&d.hasTransition()||!((h=this.projection)===null||h===void 0)&&h.hasTransition())return!0;for(let f in this.tileManagers)if(this.tileManagers[f].hasTransition())return!0;for(let f in this._layers)if(this._layers[f].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(r){if(!this._loaded)return;let d=this._changed;if(d){let f=Object.keys(this._updatedLayers),v=Object.keys(this._removedLayers);(f.length||v.length)&&this._updateWorkerLayers(f,v);for(let w in this._updatedSources){let k=this._updatedSources[w];if(k==="reload")this._reloadSource(w);else{if(k!=="clear")throw new Error(`Invalid action ${k}`);this._clearSource(w)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(let w in this._updatedPaintProps)this._layers[w].updateTransitions(r);this.light.updateTransitions(r),this.sky.updateTransitions(r),this._resetUpdates()}let h={};for(let f in this.tileManagers){let v=this.tileManagers[f];h[f]=v.used,v.used=!1}for(let f of this._order){let v=this._layers[f];v.recalculate(r,this._availableImages),!v.isHidden(r.zoom)&&v.source&&(this.tileManagers[v.source].used=!0)}for(let f in h){let v=this.tileManagers[f];!!h[f]!=!!v.used&&v.fire(new a.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:f}))}this.light.recalculate(r),this.sky.recalculate(r),this.projection.recalculate(r),this.z=r.zoom,d&&this.fire(new a.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){let r=Object.keys(this._changedImages);if(r.length){for(let d in this.tileManagers)this.tileManagers[d].reloadTilesForDependencies(["icons","patterns"],r);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(let r in this.tileManagers)this.tileManagers[r].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(r,d){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(r,!1),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(r,d={}){var h;this._checkLoaded();let f=this.serialize();if(r=d.transformStyle?d.transformStyle(f,r):r,((h=d.validate)===null||h===void 0||h)&&Rl(this,a.C(r)))return!1;(r=a.bV(r)).layers=a.bS(r.layers);let v=a.bW(f,r),w=this._getOperationsToPerform(v);if(w.unimplemented.length>0)throw new Error(`Unimplemented: ${w.unimplemented.join(", ")}.`);if(w.operations.length===0)return!1;for(let k of w.operations)k();return this.stylesheet=r,this._serializedLayers=null,!0}_getOperationsToPerform(r){let d=[],h=[];for(let f of r)switch(f.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":d.push(()=>this.addLayer.apply(this,f.args));break;case"removeLayer":d.push(()=>this.removeLayer.apply(this,f.args));break;case"setPaintProperty":d.push(()=>this.setPaintProperty.apply(this,f.args));break;case"setLayoutProperty":d.push(()=>this.setLayoutProperty.apply(this,f.args));break;case"setFilter":d.push(()=>this.setFilter.apply(this,f.args));break;case"addSource":d.push(()=>this.addSource.apply(this,f.args));break;case"removeSource":d.push(()=>this.removeSource.apply(this,f.args));break;case"setLayerZoomRange":d.push(()=>this.setLayerZoomRange.apply(this,f.args));break;case"setLight":d.push(()=>this.setLight.apply(this,f.args));break;case"setGeoJSONSourceData":d.push(()=>this.setGeoJSONSourceData.apply(this,f.args));break;case"setGlyphs":d.push(()=>this.setGlyphs.apply(this,f.args));break;case"setSprite":d.push(()=>this.setSprite.apply(this,f.args));break;case"setTerrain":d.push(()=>this.map.setTerrain.apply(this,f.args));break;case"setSky":d.push(()=>this.setSky.apply(this,f.args));break;case"setProjection":this.setProjection.apply(this,f.args);break;case"setGlobalState":d.push(()=>this.setGlobalState.apply(this,f.args));break;case"setTransition":d.push(()=>{});break;default:h.push(f.command)}return{operations:d,unimplemented:h}}addImage(r,d){if(this.getImage(r))return this.fire(new a.k(new Error(`An image named "${r}" already exists.`)));this.imageManager.addImage(r,d),this._afterImageUpdated(r)}updateImage(r,d){this.imageManager.updateImage(r,d)}getImage(r){return this.imageManager.getImage(r)}removeImage(r){if(!this.getImage(r))return this.fire(new a.k(new Error(`An image named "${r}" does not exist.`)));this.imageManager.removeImage(r),this._afterImageUpdated(r)}_afterImageUpdated(r){this._availableImages=this.imageManager.listImages(),this._changedImages[r]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(r,d,h={}){if(this._checkLoaded(),this.tileManagers[r]!==void 0)throw new Error(`Source "${r}" already exists.`);if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(a.C.source,`sources.${r}`,d,null,h))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);let f=this.tileManagers[r]=new Qo(r,d,this.dispatcher);f.style=this,f.setEventedParent(this,()=>({isSourceLoaded:f.loaded(),source:f.serialize(),sourceId:r})),f.onAdd(this.map),this._changed=!0}removeSource(r){if(this._checkLoaded(),this.tileManagers[r]===void 0)throw new Error("There is no source with this ID");for(let h in this._layers)if(this._layers[h].source===r)return this.fire(new a.k(new Error(`Source "${r}" cannot be removed while layer "${h}" is using it.`)));let d=this.tileManagers[r];delete this.tileManagers[r],delete this._updatedSources[r],d.fire(new a.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:r})),d.setEventedParent(null),d.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(r,d){if(this._checkLoaded(),this.tileManagers[r]===void 0)throw new Error(`There is no source with this ID=${r}`);let h=this.tileManagers[r].getSource();if(h.type!=="geojson")throw new Error(`geojsonSource.type is ${h.type}, which is !== 'geojson`);h.setData(d),this._changed=!0}getSource(r){return this.tileManagers[r]&&this.tileManagers[r].getSource()}addLayer(r,d,h={}){this._checkLoaded();let f=r.id;if(this.getLayer(f))return void this.fire(new a.k(new Error(`Layer "${f}" already exists on this map.`)));let v;if(r.type==="custom"){if(Rl(this,a.bX(r)))return;v=a.bT(r,this._globalState)}else{if("source"in r&&typeof r.source=="object"&&(this.addSource(f,r.source),r=a.bV(r),r=a.e(r,{source:f})),this._validate(a.C.layer,`layers.${f}`,r,{arrayIndex:-1},h))return;v=a.bT(r,this._globalState),this._validateLayer(v),v.setEventedParent(this,{layer:{id:f}})}let w=d?this._order.indexOf(d):this._order.length;if(d&&w===-1)this.fire(new a.k(new Error(`Cannot add layer "${f}" before non-existing layer "${d}".`)));else{if(this._order.splice(w,0,f),this._layerOrderChanged=!0,this._layers[f]=v,this._removedLayers[f]&&v.source&&v.type!=="custom"){let k=this._removedLayers[f];delete this._removedLayers[f],k.type!==v.type?this._updatedSources[v.source]="clear":(this._updatedSources[v.source]="reload",this.tileManagers[v.source].pause())}this._updateLayer(v),v.onAdd&&v.onAdd(this.map)}}moveLayer(r,d){if(this._checkLoaded(),this._changed=!0,!this._layers[r])return void this.fire(new a.k(new Error(`The layer '${r}' does not exist in the map's style and cannot be moved.`)));if(r===d)return;let h=this._order.indexOf(r);this._order.splice(h,1);let f=d?this._order.indexOf(d):this._order.length;d&&f===-1?this.fire(new a.k(new Error(`Cannot move layer "${r}" before non-existing layer "${d}".`))):(this._order.splice(f,0,r),this._layerOrderChanged=!0)}removeLayer(r){this._checkLoaded();let d=this._layers[r];if(!d)return void this.fire(new a.k(new Error(`Cannot remove non-existing layer "${r}".`)));d.setEventedParent(null);let h=this._order.indexOf(r);this._order.splice(h,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[r]=d,delete this._layers[r],this._serializedLayers&&delete this._serializedLayers[r],delete this._updatedLayers[r],delete this._updatedPaintProps[r],d.onRemove&&d.onRemove(this.map)}getLayer(r){return this._layers[r]}getLayersOrder(){return[...this._order]}hasLayer(r){return r in this._layers}setLayerZoomRange(r,d,h){this._checkLoaded();let f=this.getLayer(r);f?f.minzoom===d&&f.maxzoom===h||(d!=null&&(f.minzoom=d),h!=null&&(f.maxzoom=h),this._updateLayer(f)):this.fire(new a.k(new Error(`Cannot set the zoom range of non-existing layer "${r}".`)))}setFilter(r,d,h={}){this._checkLoaded();let f=this.getLayer(r);if(f){if(!a.bR(f.filter,d))return d==null?(f.setFilter(void 0),void this._updateLayer(f)):void(this._validate(a.C.filter,`layers.${f.id}.filter`,d,null,h)||(f.setFilter(a.bV(d)),this._updateLayer(f)))}else this.fire(new a.k(new Error(`Cannot filter non-existing layer "${r}".`)))}getFilter(r){return a.bV(this.getLayer(r).filter)}setLayoutProperty(r,d,h,f={}){this._checkLoaded();let v=this.getLayer(r);v?a.bR(v.getLayoutProperty(d),h)||(v.setLayoutProperty(d,h,f),this._updateLayer(v)):this.fire(new a.k(new Error(`Cannot style non-existing layer "${r}".`)))}getLayoutProperty(r,d){let h=this.getLayer(r);if(h)return h.getLayoutProperty(d);this.fire(new a.k(new Error(`Cannot get style of non-existing layer "${r}".`)))}setPaintProperty(r,d,h,f={}){this._checkLoaded();let v=this.getLayer(r);v?a.bR(v.getPaintProperty(d),h)||this._updatePaintProperty(v,d,h,f):this.fire(new a.k(new Error(`Cannot style non-existing layer "${r}".`)))}_updatePaintProperty(r,d,h,f={}){r.setPaintProperty(d,h,f)&&this._updateLayer(r),a.bU(r)&&d==="raster-fade-duration"&&this.tileManagers[r.source].setRasterFadeDuration(h),this._changed=!0,this._updatedPaintProps[r.id]=!0,this._serializedLayers=null}getPaintProperty(r,d){return this.getLayer(r).getPaintProperty(d)}setFeatureState(r,d){this._checkLoaded();let h=r.source,f=r.sourceLayer,v=this.tileManagers[h];if(v===void 0)return void this.fire(new a.k(new Error(`The source '${h}' does not exist in the map's style.`)));let w=v.getSource().type;w==="geojson"&&f?this.fire(new a.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):w!=="vector"||f?(r.id===void 0&&this.fire(new a.k(new Error("The feature id parameter must be provided."))),v.setFeatureState(f,r.id,d)):this.fire(new a.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(r,d){this._checkLoaded();let h=r.source,f=this.tileManagers[h];if(f===void 0)return void this.fire(new a.k(new Error(`The source '${h}' does not exist in the map's style.`)));let v=f.getSource().type,w=v==="vector"?r.sourceLayer:void 0;v!=="vector"||w?d&&typeof r.id!="string"&&typeof r.id!="number"?this.fire(new a.k(new Error("A feature id is required to remove its specific state property."))):f.removeFeatureState(w,r.id,d):this.fire(new a.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(r){this._checkLoaded();let d=r.source,h=r.sourceLayer,f=this.tileManagers[d];if(f!==void 0)return f.getSource().type!=="vector"||h?(r.id===void 0&&this.fire(new a.k(new Error("The feature id parameter must be provided."))),f.getFeatureState(h,r.id)):void this.fire(new a.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.k(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return a.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;let r=a.bY(this.tileManagers,v=>v.serialize()),d=this._serializeByIds(this._order,!0),h=this.map.getTerrain()||void 0,f=this.stylesheet;return a.bZ({version:f.version,name:f.name,metadata:f.metadata,light:f.light,sky:f.sky,center:f.center,zoom:f.zoom,bearing:f.bearing,pitch:f.pitch,sprite:f.sprite,glyphs:f.glyphs,transition:f.transition,projection:f.projection,sources:r,layers:d,terrain:h},v=>v!==void 0)}_updateLayer(r){this._updatedLayers[r.id]=!0,r.source&&!this._updatedSources[r.source]&&this.tileManagers[r.source].getSource().type!=="raster"&&(this._updatedSources[r.source]="reload",this.tileManagers[r.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(r){let d=w=>this._layers[w].type==="fill-extrusion",h={},f=[];for(let w=this._order.length-1;w>=0;w--){let k=this._order[w];if(d(k)){h[k]=w;for(let P of r){let F=P[k];if(F)for(let B of F)f.push(B)}}}f.sort((w,k)=>k.intersectionZ-w.intersectionZ);let v=[];for(let w=this._order.length-1;w>=0;w--){let k=this._order[w];if(d(k))for(let P=f.length-1;P>=0;P--){let F=f[P].feature;if(h[F.layer.id]<w)break;v.push(F),f.pop()}else for(let P of r){let F=P[k];if(F)for(let B of F)v.push(B.feature)}}return v}queryRenderedFeatures(r,d,h){d&&d.filter&&this._validate(a.C.filter,"queryRenderedFeatures.filter",d.filter,null,d);let f={};if(d&&d.layers){if(!(Array.isArray(d.layers)||d.layers instanceof Set))return this.fire(new a.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(let F of d.layers){let B=this._layers[F];if(!B)return this.fire(new a.k(new Error(`The layer '${F}' does not exist in the map's style and cannot be queried for features.`))),[];f[B.source]=!0}}let v=[];d.availableImages=this._availableImages;let w=this._serializedAllLayers(),k=d.layers instanceof Set?d.layers:Array.isArray(d.layers)?new Set(d.layers):null,P=Object.assign(Object.assign({},d),{layers:k,globalState:this._globalState});for(let F in this.tileManagers)d.layers&&!f[F]||v.push(Hc(this.tileManagers[F],this._layers,w,r,P,h,this.map.terrain?(B,j,H)=>this.map.terrain.getElevation(B,j,H):void 0));return this.placement&&v.push(function(F,B,j,H,W,ne,he){let fe={},me=ne.queryRenderedSymbols(H),be=[];for(let Me of Object.keys(me).map(Number))be.push(he[Me]);be.sort(Fa);for(let Me of be){let _e=Me.featureIndex.lookupSymbolFeatures(me[Me.bucketInstanceId],B,Me.bucketIndex,Me.sourceLayerIndex,{filterSpec:W.filter,globalState:W.globalState},W.layers,W.availableImages,F);for(let Se in _e){let Pe=fe[Se]=fe[Se]||[],Ie=_e[Se];Ie.sort((Oe,Ye)=>{let je=Me.featureSortOrder;if(je){let Ue=je.indexOf(Oe.featureIndex);return je.indexOf(Ye.featureIndex)-Ue}return Ye.featureIndex-Oe.featureIndex});for(let Oe of Ie)Pe.push(Oe)}}return function(Me,_e,Se){for(let Pe in Me)for(let Ie of Me[Pe])Zo(Ie,Se[_e[Pe].source]);return Me}(fe,F,j)}(this._layers,w,this.tileManagers,r,P,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(v)}querySourceFeatures(r,d){d?.filter&&this._validate(a.C.filter,"querySourceFeatures.filter",d.filter,null,d);let h=this.tileManagers[r];return h?function(f,v){let w=f.getRenderableIds().map(F=>f.getTileByID(F)),k=[],P={};for(let F=0;F<w.length;F++){let B=w[F],j=B.tileID.canonical.key;P[j]||(P[j]=!0,B.querySourceFeatures(k,v))}return k}(h,d?Object.assign(Object.assign({},d),{globalState:this._globalState}):{globalState:this._globalState}):[]}getLight(){return this.light.getLight()}setLight(r,d={}){this._checkLoaded();let h=this.light.getLight(),f=!1;for(let w in r)if(!a.bR(r[w],h[w])){f=!0;break}if(!f)return;let v={now:oe(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(r,d),this.light.updateTransitions(v)}getProjection(){var r;return(r=this.stylesheet)===null||r===void 0?void 0:r.projection}setProjection(r){if(this._checkLoaded(),this.projection){if(this.projection.name===r.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=r,this._setProjectionInternal(r.type)}getSky(){var r;return(r=this.stylesheet)===null||r===void 0?void 0:r.sky}setSky(r,d={}){this._checkLoaded();let h=this.getSky(),f=!1;if(!r&&!h)return;if(r&&!h)f=!0;else if(!r&&h)f=!0;else for(let w in r)if(!a.bR(r[w],h[w])){f=!0;break}if(!f)return;let v={now:oe(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=r,this.sky.setSky(r,d),this.sky.updateTransitions(v)}_setProjectionInternal(r){let d=function(h,f){let v={constrainOverride:f};if(Array.isArray(h)){let w=new of({type:h});return{projection:w,transform:new zl(v),cameraHelper:new lf(w)}}switch(h){case"mercator":return{projection:new mo,transform:new $s(v),cameraHelper:new Ks};case"globe":{let w=new of({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:w,transform:new zl(v),cameraHelper:new lf(w)}}case"vertical-perspective":return{projection:new nh,transform:new Vl(v),cameraHelper:new va};default:return a.w(`Unknown projection name: ${h}. Falling back to mercator projection.`),{projection:new mo,transform:new $s(v),cameraHelper:new Ks}}}(r,this.map.transformConstrain);this.projection=d.projection,this.map.migrateProjection(d.transform,d.cameraHelper);for(let h in this.tileManagers)this.tileManagers[h].reload()}_validate(r,d,h,f,v={}){return(!v||v.validate!==!1)&&Rl(this,r.call(a.C,a.e({key:d,style:this.serialize(),value:h,styleSpec:a.u},f)))}_remove(r=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Ve().off(Ee,this._rtlPluginLoaded);for(let d in this._layers)this._layers[d].setEventedParent(null);for(let d in this.tileManagers){let h=this.tileManagers[d];h.setEventedParent(null),h.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),r&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(r)}_clearSource(r){this.tileManagers[r].clearTiles()}_reloadSource(r){this.tileManagers[r].resume(),this.tileManagers[r].reload()}_updateSources(r){for(let d in this.tileManagers)this.tileManagers[d].update(r,this.map.terrain)}_generateCollisionBoxes(){for(let r in this.tileManagers)this._reloadSource(r)}_updatePlacement(r,d,h,f,v=!1){let w=!1,k=!1,P={};for(let F of this._order){let B=this._layers[F];if(B.type!=="symbol")continue;if(!P[B.source]){let H=this.tileManagers[B.source];P[B.source]=H.getRenderableIds(!0).map(W=>H.getTileByID(W)).sort((W,ne)=>ne.tileID.overscaledZ-W.tileID.overscaledZ||(W.tileID.isLessThan(ne.tileID)?-1:1))}let j=this.crossTileSymbolIndex.addLayer(B,P[B.source],r.center.lng);w=w||j}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((v=v||this._layerOrderChanged||h===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(oe(),r.zoom))&&(this.pauseablePlacement=new El(r,this.map.terrain,this._order,v,d,h,f,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,P),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(oe()),k=!0),w&&this.pauseablePlacement.placement.setStale()),k||w)for(let F of this._order){let B=this._layers[F];B.type==="symbol"&&this.placement.updateLayerOpacities(B,P[B.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(oe())}_releaseSymbolFadeTiles(){for(let r in this.tileManagers)this.tileManagers[r].releaseSymbolFadeTiles()}getImages(r,d){return a._(this,void 0,void 0,function*(){let h=yield this.imageManager.getImages(d.icons);this._updateTilesForChangedImages();let f=this.tileManagers[d.source];return f&&f.setDependencies(d.tileID.key,d.type,d.icons),h})}getGlyphs(r,d){return a._(this,void 0,void 0,function*(){let h=yield this.glyphManager.getGlyphs(d.stacks),f=this.tileManagers[d.source];return f&&f.setDependencies(d.tileID.key,d.type,[""]),h})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(r,d={}){this._checkLoaded(),r&&this._validate(a.C.glyphs,"glyphs",r,null,d)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=r,this.glyphManager.entries={},this.glyphManager.setURL(r))}getDashes(r,d){return a._(this,void 0,void 0,function*(){let h={};for(let[f,v]of Object.entries(d.dashes))h[f]=this.lineAtlas.getDash(v.dasharray,v.round);return h})}addSprite(r,d,h={},f){this._checkLoaded();let v=[{id:r,url:d}],w=[...qt(this.stylesheet.sprite),...v];this._validate(a.C.sprite,"sprite",w,null,h)||(this.stylesheet.sprite=w,this._loadSprite(v,!0,f))}removeSprite(r){this._checkLoaded();let d=qt(this.stylesheet.sprite);if(d.find(h=>h.id===r)){if(this._spritesImagesIds[r])for(let h of this._spritesImagesIds[r])this.imageManager.removeImage(h),this._changedImages[h]=!0;d.splice(d.findIndex(h=>h.id===r),1),this.stylesheet.sprite=d.length>0?d:void 0,delete this._spritesImagesIds[r],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"}))}else this.fire(new a.k(new Error(`Sprite "${r}" doesn't exists on this map.`)))}getSprite(){return qt(this.stylesheet.sprite)}setSprite(r,d={},h){this._checkLoaded(),r&&this._validate(a.C.sprite,"sprite",r,null,d)||(this.stylesheet.sprite=r,r?this._loadSprite(r,!0,h):(this._unloadSprite(),h&&h(null)))}destroy(){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null);for(let r in this.tileManagers){let d=this.tileManagers[r];d.setEventedParent(null),d.onRemove(this.map)}this.tileManagers={},this.imageManager&&(this.imageManager.setEventedParent(null),this.imageManager.destroy(),this._availableImages=[],this._spritesImagesIds={}),this.glyphManager&&this.glyphManager.destroy();for(let r in this._layers){let d=this._layers[r];d.setEventedParent(null),d.onRemove&&d.onRemove(this.map)}this._setInitialValues(),this.setEventedParent(null),this.dispatcher.unregisterMessageHandler("GG"),this.dispatcher.unregisterMessageHandler("GI"),this.dispatcher.unregisterMessageHandler("GDA"),this.dispatcher.remove(!0),this._listeners={},this._oneTimeListeners={}}}var Q_=a.aU([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class du{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(r,d,h,f,v,w,k,P,F){this.context=r;let B=this.boundPaintVertexBuffers.length!==f.length;for(let j=0;!B&&j<f.length;j++)this.boundPaintVertexBuffers[j]!==f[j]&&(B=!0);!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==h||B||this.boundIndexBuffer!==v||this.boundVertexOffset!==w||this.boundDynamicVertexBuffer!==k||this.boundDynamicVertexBuffer2!==P||this.boundDynamicVertexBuffer3!==F?this.freshBind(d,h,f,v,w,k,P,F):(r.bindVertexArray.set(this.vao),k&&k.bind(),v&&v.dynamicDraw&&v.bind(),P&&P.bind(),F&&F.bind())}freshBind(r,d,h,f,v,w,k,P){let F=r.numAttributes,B=this.context,j=B.gl;this.vao&&this.destroy(),this.vao=B.createVertexArray(),B.bindVertexArray.set(this.vao),this.boundProgram=r,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=h,this.boundIndexBuffer=f,this.boundVertexOffset=v,this.boundDynamicVertexBuffer=w,this.boundDynamicVertexBuffer2=k,this.boundDynamicVertexBuffer3=P,d.enableAttributes(j,r);for(let H of h)H.enableAttributes(j,r);w&&w.enableAttributes(j,r),k&&k.enableAttributes(j,r),P&&P.enableAttributes(j,r),d.bind(),d.setVertexAttribPointers(j,r,v);for(let H of h)H.bind(),H.setVertexAttribPointers(j,r,v);w&&(w.bind(),w.setVertexAttribPointers(j,r,v)),f&&f.bind(),k&&(k.bind(),k.setVertexAttribPointers(j,r,v)),P&&(P.bind(),P.setVertexAttribPointers(j,r,v)),B.currentNumAttributes=F}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}let X_=(y,r,d,h,f)=>({u_texture:0,u_ele_delta:y,u_fog_matrix:r,u_fog_color:d?d.properties.get("fog-color"):a.bp.white,u_fog_ground_blend:d?d.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:f?0:d?d.calculateFogBlendOpacity(h):0,u_horizon_color:d?d.properties.get("horizon-color"):a.bp.white,u_horizon_fog_blend:d?d.properties.get("horizon-fog-blend"):1,u_is_globe_mode:f?1:0}),Bl={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function uu(y){let r=[];for(let d=0;d<y.length;d++){if(y[d]===null)continue;let h=y[d].split(" ");r.push(h.pop())}return r}class cf{constructor(r,d,h,f,v,w,k,P,F=[]){let B=r.gl;this.program=B.createProgram();let j=uu(d.staticAttributes),H=h?h.getBinderAttributes():[],W=j.concat(H),ne=zn.prelude.staticUniforms?uu(zn.prelude.staticUniforms):[],he=k.staticUniforms?uu(k.staticUniforms):[],fe=d.staticUniforms?uu(d.staticUniforms):[],me=h?h.getBinderUniforms():[],be=ne.concat(he).concat(fe).concat(me),Me=[];for(let je of be)Me.indexOf(je)<0&&Me.push(je);let _e=h?h.defines():[];Xo(B)&&_e.unshift("#version 300 es"),v&&_e.push("#define OVERDRAW_INSPECTOR;"),w&&_e.push("#define TERRAIN3D;"),P&&_e.push(P),F&&_e.push(...F);let Se=_e.concat(zn.prelude.fragmentSource,k.fragmentSource,d.fragmentSource).join(`
`),Pe=_e.concat(zn.prelude.vertexSource,k.vertexSource,d.vertexSource).join(`
`);Xo(B)||(Se=function(je){return je.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}(Se),Pe=function(je){return je.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}(Pe));let Ie=B.createShader(B.FRAGMENT_SHADER);if(B.isContextLost())return void(this.failedToCreate=!0);if(B.shaderSource(Ie,Se),B.compileShader(Ie),!B.getShaderParameter(Ie,B.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${B.getShaderInfoLog(Ie)}`);B.attachShader(this.program,Ie);let Oe=B.createShader(B.VERTEX_SHADER);if(B.isContextLost())return void(this.failedToCreate=!0);if(B.shaderSource(Oe,Pe),B.compileShader(Oe),!B.getShaderParameter(Oe,B.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${B.getShaderInfoLog(Oe)}`);B.attachShader(this.program,Oe),this.attributes={};let Ye={};this.numAttributes=W.length;for(let je=0;je<this.numAttributes;je++)W[je]&&(B.bindAttribLocation(this.program,je,W[je]),this.attributes[W[je]]=je);if(B.linkProgram(this.program),!B.getProgramParameter(this.program,B.LINK_STATUS))throw new Error(`Program failed to link: ${B.getProgramInfoLog(this.program)}`);B.deleteShader(Oe),B.deleteShader(Ie);for(let je=0;je<Me.length;je++){let Ue=Me[je];if(Ue&&!Ye[Ue]){let $e=B.getUniformLocation(this.program,Ue);$e&&(Ye[Ue]=$e)}}this.fixedUniforms=f(r,Ye),this.terrainUniforms=((je,Ue)=>({u_depth:new a.b_(je,Ue.u_depth),u_terrain:new a.b_(je,Ue.u_terrain),u_terrain_dim:new a.bq(je,Ue.u_terrain_dim),u_terrain_matrix:new a.c0(je,Ue.u_terrain_matrix),u_terrain_unpack:new a.c1(je,Ue.u_terrain_unpack),u_terrain_exaggeration:new a.bq(je,Ue.u_terrain_exaggeration)}))(r,Ye),this.projectionUniforms=((je,Ue)=>({u_projection_matrix:new a.c0(je,Ue.u_projection_matrix),u_projection_tile_mercator_coords:new a.c1(je,Ue.u_projection_tile_mercator_coords),u_projection_clipping_plane:new a.c1(je,Ue.u_projection_clipping_plane),u_projection_transition:new a.bq(je,Ue.u_projection_transition),u_projection_fallback_matrix:new a.c0(je,Ue.u_projection_fallback_matrix)}))(r,Ye),this.binderUniforms=h?h.getUniforms(r,Ye):[]}draw(r,d,h,f,v,w,k,P,F,B,j,H,W,ne,he,fe,me,be,Me){let _e=r.gl;if(this.failedToCreate)return;if(r.program.set(this.program),r.setDepthMode(h),r.setStencilMode(f),r.setColorMode(v),r.setCullFace(w),P){r.activeTexture.set(_e.TEXTURE2),_e.bindTexture(_e.TEXTURE_2D,P.depthTexture),r.activeTexture.set(_e.TEXTURE3),_e.bindTexture(_e.TEXTURE_2D,P.texture);for(let Pe in this.terrainUniforms)this.terrainUniforms[Pe].set(P[Pe])}if(F)for(let Pe in F)this.projectionUniforms[Bl[Pe]].set(F[Pe]);if(k)for(let Pe in this.fixedUniforms)this.fixedUniforms[Pe].set(k[Pe]);fe&&fe.setUniforms(r,this.binderUniforms,ne,{zoom:he});let Se=0;switch(d){case _e.LINES:Se=2;break;case _e.TRIANGLES:Se=3;break;case _e.LINE_STRIP:Se=1}for(let Pe of W.get()){let Ie=Pe.vaos||(Pe.vaos={});(Ie[B]||(Ie[B]=new du)).bind(r,this,j,fe?fe.getPaintVertexBuffers():[],H,Pe.vertexOffset,me,be,Me),_e.drawElements(d,Pe.primitiveLength*Se,_e.UNSIGNED_SHORT,Pe.primitiveOffset*Se*2)}}}function df(y,r,d){let h=1/a.aN(d,1,r.transform.tileZoom),f=Math.pow(2,d.tileID.overscaledZ),v=d.tileSize*Math.pow(2,r.transform.tileZoom)/f,w=v*(d.tileID.canonical.x+d.tileID.wrap*f),k=v*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture.size,u_scale:[h,y.fromScale,y.toScale],u_fade:y.t,u_pixel_coord_upper:[w>>16,k>>16],u_pixel_coord_lower:[65535&w,65535&k]}}let sh=(y,r,d,h)=>{let f=y.style.light,v=f.properties.get("position"),w=[v.x,v.y,v.z],k=a.c4();f.properties.get("anchor")==="viewport"&&a.c5(k,y.transform.bearingInRadians),a.c6(w,w,k);let P=y.transform.transformLightDirection(w),F=f.properties.get("color");return{u_lightpos:w,u_lightpos_globe:P,u_lightintensity:f.properties.get("intensity"),u_lightcolor:[F.r,F.g,F.b],u_vertical_gradient:+r,u_opacity:d,u_fill_translate:h}},lh=(y,r,d,h,f,v,w)=>a.e(sh(y,r,d,h),df(v,y,w),{u_height_factor:-Math.pow(2,f.overscaledZ)/w.tileSize/8}),ch=(y,r,d,h)=>a.e(df(r,y,d),{u_fill_translate:h}),uf=(y,r)=>({u_world:y,u_fill_translate:r}),pf=(y,r,d,h,f)=>a.e(ch(y,r,d,f),{u_world:h}),hf=(y,r,d,h,f)=>{let v=y.transform,w,k,P=0;if(d.paint.get("circle-pitch-alignment")==="map"){let F=a.aN(r,1,v.zoom);w=!0,k=[F,F],P=F/(a.a5*Math.pow(2,r.tileID.overscaledZ))*2*Math.PI*f}else w=!1,k=v.pixelsToGLUnits;return{u_camera_to_center_distance:v.cameraToCenterDistance,u_scale_with_map:+(d.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+w,u_device_pixel_ratio:y.pixelRatio,u_extrude_scale:k,u_globe_extrude_scale:P,u_translate:h}},Qs=y=>({u_pixel_extrude_scale:[1/y.width,1/y.height]}),mf=y=>({u_viewport_size:[y.width,y.height]}),dh=(y,r=1)=>({u_color:y,u_overlay:0,u_overlay_scale:r}),Nl=(y,r,d,h)=>{let f=a.aN(y,1,r)/(a.a5*Math.pow(2,y.tileID.overscaledZ))*2*Math.PI*h;return{u_extrude_scale:a.aN(y,1,r),u_intensity:d,u_globe_extrude_scale:f}},ff=(y,r,d,h)=>{let f=a.N();a.c7(f,0,y.width,y.height,0,0,1);let v=y.context.gl;return{u_matrix:f,u_world:[v.drawingBufferWidth,v.drawingBufferHeight],u_image:d,u_color_ramp:h,u_opacity:r.paint.get("heatmap-opacity")}},pu=(y,r,d)=>{let h=d.paint.get("hillshade-accent-color"),f;switch(d.paint.get("hillshade-method")){case"basic":f=4;break;case"combined":f=1;break;case"igor":f=2;break;case"multidirectional":f=3;break;default:f=0}let v=d.getIlluminationProperties();for(let w=0;w<v.directionRadians.length;w++)d.paint.get("hillshade-illumination-anchor")==="viewport"&&(v.directionRadians[w]+=y.transform.bearingInRadians);return{u_image:0,u_latrange:J_(0,r.tileID),u_exaggeration:d.paint.get("hillshade-exaggeration"),u_altitudes:v.altitudeRadians,u_azimuths:v.directionRadians,u_accent:h,u_method:f,u_highlights:v.highlightColor,u_shadows:v.shadowColor}},Y_=(y,r)=>{let d=r.stride,h=a.N();return a.c7(h,0,a.a5,-a.a5,0,0,1),a.O(h,h,[0,-a.a5,0]),{u_matrix:h,u_image:1,u_dimension:[d,d],u_zoom:y.overscaledZ,u_unpack:r.getUnpackVector()}};function J_(y,r){let d=Math.pow(2,r.canonical.z),h=r.canonical.y;return[new a.a9(0,h/d).toLngLat().lat,new a.a9(0,(h+1)/d).toLngLat().lat]}let gf=(y,r,d=0)=>({u_image:0,u_unpack:r.getUnpackVector(),u_dimension:[r.stride,r.stride],u_elevation_stops:1,u_color_stops:4,u_color_ramp_size:d,u_opacity:y.paint.get("color-relief-opacity")}),ad=(y,r,d,h)=>{let f=y.transform;return{u_translation:mu(y,r,d),u_ratio:h/a.aN(r,1,f.zoom),u_device_pixel_ratio:y.pixelRatio,u_units_to_pixels:[1/f.pixelsToGLUnits[0],1/f.pixelsToGLUnits[1]]}},_f=(y,r,d,h,f)=>a.e(ad(y,r,d,h),{u_image:0,u_image_height:f}),uh=(y,r,d,h,f)=>{let v=y.transform,w=yr(r,v);return{u_translation:mu(y,r,d),u_texsize:r.imageAtlasTexture.size,u_ratio:h/a.aN(r,1,v.zoom),u_device_pixel_ratio:y.pixelRatio,u_image:0,u_scale:[w,f.fromScale,f.toScale],u_fade:f.t,u_units_to_pixels:[1/v.pixelsToGLUnits[0],1/v.pixelsToGLUnits[1]]}},bf=(y,r,d,h,f)=>{let v=yr(r,y.transform);return a.e(ad(y,r,d,h),{u_tileratio:v,u_crossfade_from:f.fromScale,u_crossfade_to:f.toScale,u_image:0,u_mix:f.t,u_lineatlas_width:y.lineAtlas.width,u_lineatlas_height:y.lineAtlas.height})},hu=(y,r,d,h,f,v)=>{let w=yr(r,y.transform);return a.e(ad(y,r,d,h),{u_image:0,u_image_height:v,u_tileratio:w,u_crossfade_from:f.fromScale,u_crossfade_to:f.toScale,u_image_dash:1,u_mix:f.t,u_lineatlas_width:y.lineAtlas.width,u_lineatlas_height:y.lineAtlas.height})};function yr(y,r){return 1/a.aN(y,1,r.tileZoom)}function mu(y,r,d){return a.aO(y.transform,r,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}let ph=(y,r,d,h,f)=>{return{u_tl_parent:y,u_scale_parent:r,u_buffer_scale:1,u_fade_t:d.mix,u_opacity:d.opacity*h.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:h.paint.get("raster-brightness-min"),u_brightness_high:h.paint.get("raster-brightness-max"),u_saturation_factor:(w=h.paint.get("raster-saturation"),w>0?1-1/(1.001-w):-w),u_contrast_factor:(v=h.paint.get("raster-contrast"),v>0?1/(1-v):1+v),u_spin_weights:hh(h.paint.get("raster-hue-rotate")),u_coords_top:[f[0].x,f[0].y,f[1].x,f[1].y],u_coords_bottom:[f[3].x,f[3].y,f[2].x,f[2].y]};var v,w};function hh(y){y*=Math.PI/180;let r=Math.sin(y),d=Math.cos(y);return[(2*d+1)/3,(-Math.sqrt(3)*r-d+1)/3,(Math.sqrt(3)*r-d+1)/3]}let mh=(y,r,d,h,f,v,w,k,P,F,B,j,H)=>{let W=w.transform;return{u_is_size_zoom_constant:+(y==="constant"||y==="source"),u_is_size_feature_constant:+(y==="constant"||y==="camera"),u_size_t:r?r.uSizeT:0,u_size:r?r.uSize:0,u_camera_to_center_distance:W.cameraToCenterDistance,u_pitch:W.pitch/360*2*Math.PI,u_rotate_symbol:+d,u_aspect_ratio:W.width/W.height,u_fade_change:w.options.fadeDuration?w.symbolFadeChange:1,u_label_plane_matrix:k,u_coord_matrix:P,u_is_text:+B,u_pitch_with_map:+h,u_is_along_line:f,u_is_variable_anchor:v,u_texsize:j,u_texture:0,u_translation:F,u_pitched_scale:H}},fu=(y,r,d,h,f,v,w,k,P,F,B,j,H,W)=>{let ne=w.transform;return a.e(mh(y,r,d,h,f,v,w,k,P,F,B,j,W),{u_gamma_scale:h?Math.cos(ne.pitch*Math.PI/180)*ne.cameraToCenterDistance:1,u_device_pixel_ratio:w.pixelRatio,u_is_halo:1})},Xs=(y,r,d,h,f,v,w,k,P,F,B,j,H)=>a.e(fu(y,r,d,h,f,v,w,k,P,F,!0,B,0,H),{u_texsize_icon:j,u_texture_icon:1}),fh=(y,r)=>({u_opacity:y,u_color:r}),e1=(y,r,d,h,f)=>a.e(function(v,w,k,P){let F=k.imageManager.getPattern(v.from.toString()),B=k.imageManager.getPattern(v.to.toString()),{width:j,height:H}=k.imageManager.getPixelSize(),W=Math.pow(2,P.tileID.overscaledZ),ne=P.tileSize*Math.pow(2,k.transform.tileZoom)/W,he=ne*(P.tileID.canonical.x+P.tileID.wrap*W),fe=ne*P.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:F.tl,u_pattern_br_a:F.br,u_pattern_tl_b:B.tl,u_pattern_br_b:B.br,u_texsize:[j,H],u_mix:w.t,u_pattern_size_a:F.displaySize,u_pattern_size_b:B.displaySize,u_scale_a:w.fromScale,u_scale_b:w.toScale,u_tile_units_to_pixels:1/a.aN(P,1,k.transform.tileZoom),u_pixel_coord_upper:[he>>16,fe>>16],u_pixel_coord_lower:[65535&he,65535&fe]}}(d,f,r,h),{u_opacity:y}),yf=(y,r)=>{},t1={fillExtrusion:(y,r)=>({u_lightpos:new a.c2(y,r.u_lightpos),u_lightpos_globe:new a.c2(y,r.u_lightpos_globe),u_lightintensity:new a.bq(y,r.u_lightintensity),u_lightcolor:new a.c2(y,r.u_lightcolor),u_vertical_gradient:new a.bq(y,r.u_vertical_gradient),u_opacity:new a.bq(y,r.u_opacity),u_fill_translate:new a.c3(y,r.u_fill_translate)}),fillExtrusionPattern:(y,r)=>({u_lightpos:new a.c2(y,r.u_lightpos),u_lightpos_globe:new a.c2(y,r.u_lightpos_globe),u_lightintensity:new a.bq(y,r.u_lightintensity),u_lightcolor:new a.c2(y,r.u_lightcolor),u_vertical_gradient:new a.bq(y,r.u_vertical_gradient),u_height_factor:new a.bq(y,r.u_height_factor),u_opacity:new a.bq(y,r.u_opacity),u_fill_translate:new a.c3(y,r.u_fill_translate),u_image:new a.b_(y,r.u_image),u_texsize:new a.c3(y,r.u_texsize),u_pixel_coord_upper:new a.c3(y,r.u_pixel_coord_upper),u_pixel_coord_lower:new a.c3(y,r.u_pixel_coord_lower),u_scale:new a.c2(y,r.u_scale),u_fade:new a.bq(y,r.u_fade)}),fill:(y,r)=>({u_fill_translate:new a.c3(y,r.u_fill_translate)}),fillPattern:(y,r)=>({u_image:new a.b_(y,r.u_image),u_texsize:new a.c3(y,r.u_texsize),u_pixel_coord_upper:new a.c3(y,r.u_pixel_coord_upper),u_pixel_coord_lower:new a.c3(y,r.u_pixel_coord_lower),u_scale:new a.c2(y,r.u_scale),u_fade:new a.bq(y,r.u_fade),u_fill_translate:new a.c3(y,r.u_fill_translate)}),fillOutline:(y,r)=>({u_world:new a.c3(y,r.u_world),u_fill_translate:new a.c3(y,r.u_fill_translate)}),fillOutlinePattern:(y,r)=>({u_world:new a.c3(y,r.u_world),u_image:new a.b_(y,r.u_image),u_texsize:new a.c3(y,r.u_texsize),u_pixel_coord_upper:new a.c3(y,r.u_pixel_coord_upper),u_pixel_coord_lower:new a.c3(y,r.u_pixel_coord_lower),u_scale:new a.c2(y,r.u_scale),u_fade:new a.bq(y,r.u_fade),u_fill_translate:new a.c3(y,r.u_fill_translate)}),circle:(y,r)=>({u_camera_to_center_distance:new a.bq(y,r.u_camera_to_center_distance),u_scale_with_map:new a.b_(y,r.u_scale_with_map),u_pitch_with_map:new a.b_(y,r.u_pitch_with_map),u_extrude_scale:new a.c3(y,r.u_extrude_scale),u_device_pixel_ratio:new a.bq(y,r.u_device_pixel_ratio),u_globe_extrude_scale:new a.bq(y,r.u_globe_extrude_scale),u_translate:new a.c3(y,r.u_translate)}),collisionBox:(y,r)=>({u_pixel_extrude_scale:new a.c3(y,r.u_pixel_extrude_scale)}),collisionCircle:(y,r)=>({u_viewport_size:new a.c3(y,r.u_viewport_size)}),debug:(y,r)=>({u_color:new a.b$(y,r.u_color),u_overlay:new a.b_(y,r.u_overlay),u_overlay_scale:new a.bq(y,r.u_overlay_scale)}),depth:yf,clippingMask:yf,heatmap:(y,r)=>({u_extrude_scale:new a.bq(y,r.u_extrude_scale),u_intensity:new a.bq(y,r.u_intensity),u_globe_extrude_scale:new a.bq(y,r.u_globe_extrude_scale)}),heatmapTexture:(y,r)=>({u_matrix:new a.c0(y,r.u_matrix),u_world:new a.c3(y,r.u_world),u_image:new a.b_(y,r.u_image),u_color_ramp:new a.b_(y,r.u_color_ramp),u_opacity:new a.bq(y,r.u_opacity)}),hillshade:(y,r)=>({u_image:new a.b_(y,r.u_image),u_latrange:new a.c3(y,r.u_latrange),u_exaggeration:new a.bq(y,r.u_exaggeration),u_altitudes:new a.c9(y,r.u_altitudes),u_azimuths:new a.c9(y,r.u_azimuths),u_accent:new a.b$(y,r.u_accent),u_method:new a.b_(y,r.u_method),u_shadows:new a.c8(y,r.u_shadows),u_highlights:new a.c8(y,r.u_highlights)}),hillshadePrepare:(y,r)=>({u_matrix:new a.c0(y,r.u_matrix),u_image:new a.b_(y,r.u_image),u_dimension:new a.c3(y,r.u_dimension),u_zoom:new a.bq(y,r.u_zoom),u_unpack:new a.c1(y,r.u_unpack)}),colorRelief:(y,r)=>({u_image:new a.b_(y,r.u_image),u_unpack:new a.c1(y,r.u_unpack),u_dimension:new a.c3(y,r.u_dimension),u_elevation_stops:new a.b_(y,r.u_elevation_stops),u_color_stops:new a.b_(y,r.u_color_stops),u_color_ramp_size:new a.b_(y,r.u_color_ramp_size),u_opacity:new a.bq(y,r.u_opacity)}),line:(y,r)=>({u_translation:new a.c3(y,r.u_translation),u_ratio:new a.bq(y,r.u_ratio),u_device_pixel_ratio:new a.bq(y,r.u_device_pixel_ratio),u_units_to_pixels:new a.c3(y,r.u_units_to_pixels)}),lineGradient:(y,r)=>({u_translation:new a.c3(y,r.u_translation),u_ratio:new a.bq(y,r.u_ratio),u_device_pixel_ratio:new a.bq(y,r.u_device_pixel_ratio),u_units_to_pixels:new a.c3(y,r.u_units_to_pixels),u_image:new a.b_(y,r.u_image),u_image_height:new a.bq(y,r.u_image_height)}),linePattern:(y,r)=>({u_translation:new a.c3(y,r.u_translation),u_texsize:new a.c3(y,r.u_texsize),u_ratio:new a.bq(y,r.u_ratio),u_device_pixel_ratio:new a.bq(y,r.u_device_pixel_ratio),u_image:new a.b_(y,r.u_image),u_units_to_pixels:new a.c3(y,r.u_units_to_pixels),u_scale:new a.c2(y,r.u_scale),u_fade:new a.bq(y,r.u_fade)}),lineSDF:(y,r)=>({u_translation:new a.c3(y,r.u_translation),u_ratio:new a.bq(y,r.u_ratio),u_device_pixel_ratio:new a.bq(y,r.u_device_pixel_ratio),u_units_to_pixels:new a.c3(y,r.u_units_to_pixels),u_image:new a.b_(y,r.u_image),u_mix:new a.bq(y,r.u_mix),u_tileratio:new a.bq(y,r.u_tileratio),u_crossfade_from:new a.bq(y,r.u_crossfade_from),u_crossfade_to:new a.bq(y,r.u_crossfade_to),u_lineatlas_width:new a.bq(y,r.u_lineatlas_width),u_lineatlas_height:new a.bq(y,r.u_lineatlas_height)}),lineGradientSDF:(y,r)=>({u_translation:new a.c3(y,r.u_translation),u_ratio:new a.bq(y,r.u_ratio),u_device_pixel_ratio:new a.bq(y,r.u_device_pixel_ratio),u_units_to_pixels:new a.c3(y,r.u_units_to_pixels),u_image:new a.b_(y,r.u_image),u_image_height:new a.bq(y,r.u_image_height),u_tileratio:new a.bq(y,r.u_tileratio),u_crossfade_from:new a.bq(y,r.u_crossfade_from),u_crossfade_to:new a.bq(y,r.u_crossfade_to),u_image_dash:new a.b_(y,r.u_image_dash),u_mix:new a.bq(y,r.u_mix),u_lineatlas_width:new a.bq(y,r.u_lineatlas_width),u_lineatlas_height:new a.bq(y,r.u_lineatlas_height)}),raster:(y,r)=>({u_tl_parent:new a.c3(y,r.u_tl_parent),u_scale_parent:new a.bq(y,r.u_scale_parent),u_buffer_scale:new a.bq(y,r.u_buffer_scale),u_fade_t:new a.bq(y,r.u_fade_t),u_opacity:new a.bq(y,r.u_opacity),u_image0:new a.b_(y,r.u_image0),u_image1:new a.b_(y,r.u_image1),u_brightness_low:new a.bq(y,r.u_brightness_low),u_brightness_high:new a.bq(y,r.u_brightness_high),u_saturation_factor:new a.bq(y,r.u_saturation_factor),u_contrast_factor:new a.bq(y,r.u_contrast_factor),u_spin_weights:new a.c2(y,r.u_spin_weights),u_coords_top:new a.c1(y,r.u_coords_top),u_coords_bottom:new a.c1(y,r.u_coords_bottom)}),symbolIcon:(y,r)=>({u_is_size_zoom_constant:new a.b_(y,r.u_is_size_zoom_constant),u_is_size_feature_constant:new a.b_(y,r.u_is_size_feature_constant),u_size_t:new a.bq(y,r.u_size_t),u_size:new a.bq(y,r.u_size),u_camera_to_center_distance:new a.bq(y,r.u_camera_to_center_distance),u_pitch:new a.bq(y,r.u_pitch),u_rotate_symbol:new a.b_(y,r.u_rotate_symbol),u_aspect_ratio:new a.bq(y,r.u_aspect_ratio),u_fade_change:new a.bq(y,r.u_fade_change),u_label_plane_matrix:new a.c0(y,r.u_label_plane_matrix),u_coord_matrix:new a.c0(y,r.u_coord_matrix),u_is_text:new a.b_(y,r.u_is_text),u_pitch_with_map:new a.b_(y,r.u_pitch_with_map),u_is_along_line:new a.b_(y,r.u_is_along_line),u_is_variable_anchor:new a.b_(y,r.u_is_variable_anchor),u_texsize:new a.c3(y,r.u_texsize),u_texture:new a.b_(y,r.u_texture),u_translation:new a.c3(y,r.u_translation),u_pitched_scale:new a.bq(y,r.u_pitched_scale)}),symbolSDF:(y,r)=>({u_is_size_zoom_constant:new a.b_(y,r.u_is_size_zoom_constant),u_is_size_feature_constant:new a.b_(y,r.u_is_size_feature_constant),u_size_t:new a.bq(y,r.u_size_t),u_size:new a.bq(y,r.u_size),u_camera_to_center_distance:new a.bq(y,r.u_camera_to_center_distance),u_pitch:new a.bq(y,r.u_pitch),u_rotate_symbol:new a.b_(y,r.u_rotate_symbol),u_aspect_ratio:new a.bq(y,r.u_aspect_ratio),u_fade_change:new a.bq(y,r.u_fade_change),u_label_plane_matrix:new a.c0(y,r.u_label_plane_matrix),u_coord_matrix:new a.c0(y,r.u_coord_matrix),u_is_text:new a.b_(y,r.u_is_text),u_pitch_with_map:new a.b_(y,r.u_pitch_with_map),u_is_along_line:new a.b_(y,r.u_is_along_line),u_is_variable_anchor:new a.b_(y,r.u_is_variable_anchor),u_texsize:new a.c3(y,r.u_texsize),u_texture:new a.b_(y,r.u_texture),u_gamma_scale:new a.bq(y,r.u_gamma_scale),u_device_pixel_ratio:new a.bq(y,r.u_device_pixel_ratio),u_is_halo:new a.b_(y,r.u_is_halo),u_translation:new a.c3(y,r.u_translation),u_pitched_scale:new a.bq(y,r.u_pitched_scale)}),symbolTextAndIcon:(y,r)=>({u_is_size_zoom_constant:new a.b_(y,r.u_is_size_zoom_constant),u_is_size_feature_constant:new a.b_(y,r.u_is_size_feature_constant),u_size_t:new a.bq(y,r.u_size_t),u_size:new a.bq(y,r.u_size),u_camera_to_center_distance:new a.bq(y,r.u_camera_to_center_distance),u_pitch:new a.bq(y,r.u_pitch),u_rotate_symbol:new a.b_(y,r.u_rotate_symbol),u_aspect_ratio:new a.bq(y,r.u_aspect_ratio),u_fade_change:new a.bq(y,r.u_fade_change),u_label_plane_matrix:new a.c0(y,r.u_label_plane_matrix),u_coord_matrix:new a.c0(y,r.u_coord_matrix),u_is_text:new a.b_(y,r.u_is_text),u_pitch_with_map:new a.b_(y,r.u_pitch_with_map),u_is_along_line:new a.b_(y,r.u_is_along_line),u_is_variable_anchor:new a.b_(y,r.u_is_variable_anchor),u_texsize:new a.c3(y,r.u_texsize),u_texsize_icon:new a.c3(y,r.u_texsize_icon),u_texture:new a.b_(y,r.u_texture),u_texture_icon:new a.b_(y,r.u_texture_icon),u_gamma_scale:new a.bq(y,r.u_gamma_scale),u_device_pixel_ratio:new a.bq(y,r.u_device_pixel_ratio),u_is_halo:new a.b_(y,r.u_is_halo),u_translation:new a.c3(y,r.u_translation),u_pitched_scale:new a.bq(y,r.u_pitched_scale)}),background:(y,r)=>({u_opacity:new a.bq(y,r.u_opacity),u_color:new a.b$(y,r.u_color)}),backgroundPattern:(y,r)=>({u_opacity:new a.bq(y,r.u_opacity),u_image:new a.b_(y,r.u_image),u_pattern_tl_a:new a.c3(y,r.u_pattern_tl_a),u_pattern_br_a:new a.c3(y,r.u_pattern_br_a),u_pattern_tl_b:new a.c3(y,r.u_pattern_tl_b),u_pattern_br_b:new a.c3(y,r.u_pattern_br_b),u_texsize:new a.c3(y,r.u_texsize),u_mix:new a.bq(y,r.u_mix),u_pattern_size_a:new a.c3(y,r.u_pattern_size_a),u_pattern_size_b:new a.c3(y,r.u_pattern_size_b),u_scale_a:new a.bq(y,r.u_scale_a),u_scale_b:new a.bq(y,r.u_scale_b),u_pixel_coord_upper:new a.c3(y,r.u_pixel_coord_upper),u_pixel_coord_lower:new a.c3(y,r.u_pixel_coord_lower),u_tile_units_to_pixels:new a.bq(y,r.u_tile_units_to_pixels)}),terrain:(y,r)=>({u_texture:new a.b_(y,r.u_texture),u_ele_delta:new a.bq(y,r.u_ele_delta),u_fog_matrix:new a.c0(y,r.u_fog_matrix),u_fog_color:new a.b$(y,r.u_fog_color),u_fog_ground_blend:new a.bq(y,r.u_fog_ground_blend),u_fog_ground_blend_opacity:new a.bq(y,r.u_fog_ground_blend_opacity),u_horizon_color:new a.b$(y,r.u_horizon_color),u_horizon_fog_blend:new a.bq(y,r.u_horizon_fog_blend),u_is_globe_mode:new a.bq(y,r.u_is_globe_mode)}),terrainDepth:(y,r)=>({u_ele_delta:new a.bq(y,r.u_ele_delta)}),terrainCoords:(y,r)=>({u_texture:new a.b_(y,r.u_texture),u_terrain_coords_id:new a.bq(y,r.u_terrain_coords_id),u_ele_delta:new a.bq(y,r.u_ele_delta)}),projectionErrorMeasurement:(y,r)=>({u_input:new a.bq(y,r.u_input),u_output_expected:new a.bq(y,r.u_output_expected)}),atmosphere:(y,r)=>({u_sun_pos:new a.c2(y,r.u_sun_pos),u_atmosphere_blend:new a.bq(y,r.u_atmosphere_blend),u_globe_position:new a.c2(y,r.u_globe_position),u_globe_radius:new a.bq(y,r.u_globe_radius),u_inv_proj_matrix:new a.c0(y,r.u_inv_proj_matrix)}),sky:(y,r)=>({u_sky_color:new a.b$(y,r.u_sky_color),u_horizon_color:new a.b$(y,r.u_horizon_color),u_horizon:new a.c3(y,r.u_horizon),u_horizon_normal:new a.c3(y,r.u_horizon_normal),u_sky_horizon_blend:new a.bq(y,r.u_sky_horizon_blend),u_sky_blend:new a.bq(y,r.u_sky_blend)})};class i1{constructor(r,d,h){this.context=r;let f=r.gl;this.buffer=f.createBuffer(),this.dynamicDraw=!!h,this.context.unbindVAO(),r.bindElementBuffer.set(this.buffer),f.bufferData(f.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?f.DYNAMIC_DRAW:f.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(r){let d=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,r.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}let vf={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class n1{constructor(r,d,h,f){this.length=d.length,this.attributes=h,this.itemSize=d.bytesPerElement,this.dynamicDraw=f,this.context=r;let v=r.gl;this.buffer=v.createBuffer(),r.bindVertexBuffer.set(this.buffer),v.bufferData(v.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?v.DYNAMIC_DRAW:v.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(r){if(r.length!==this.length)throw new Error(`Length of new data is ${r.length}, which doesn't match current length of ${this.length}`);let d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,r.arrayBuffer)}enableAttributes(r,d){for(let h=0;h<this.attributes.length;h++){let f=d.attributes[this.attributes[h].name];f!==void 0&&r.enableVertexAttribArray(f)}}setVertexAttribPointers(r,d,h){for(let f=0;f<this.attributes.length;f++){let v=this.attributes[f],w=d.attributes[v.name];w!==void 0&&r.vertexAttribPointer(w,v.components,r[vf[v.type]],!1,this.itemSize,v.offset+this.itemSize*(h||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Yi{constructor(r){this.gl=r.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(r){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class gu extends Yi{getDefault(){return a.bp.transparent}set(r){let d=this.current;(r.r!==d.r||r.g!==d.g||r.b!==d.b||r.a!==d.a||this.dirty)&&(this.gl.clearColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class _u extends Yi{getDefault(){return 1}set(r){(r!==this.current||this.dirty)&&(this.gl.clearDepth(r),this.current=r,this.dirty=!1)}}class bu extends Yi{getDefault(){return 0}set(r){(r!==this.current||this.dirty)&&(this.gl.clearStencil(r),this.current=r,this.dirty=!1)}}class gh extends Yi{getDefault(){return[!0,!0,!0,!0]}set(r){let d=this.current;(r[0]!==d[0]||r[1]!==d[1]||r[2]!==d[2]||r[3]!==d[3]||this.dirty)&&(this.gl.colorMask(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class Ys extends Yi{getDefault(){return!0}set(r){(r!==this.current||this.dirty)&&(this.gl.depthMask(r),this.current=r,this.dirty=!1)}}class od extends Yi{getDefault(){return 255}set(r){(r!==this.current||this.dirty)&&(this.gl.stencilMask(r),this.current=r,this.dirty=!1)}}class ql extends Yi{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(r){let d=this.current;(r.func!==d.func||r.ref!==d.ref||r.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(r.func,r.ref,r.mask),this.current=r,this.dirty=!1)}}class Yo extends Yi{getDefault(){let r=this.gl;return[r.KEEP,r.KEEP,r.KEEP]}set(r){let d=this.current;(r[0]!==d[0]||r[1]!==d[1]||r[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(r[0],r[1],r[2]),this.current=r,this.dirty=!1)}}class xf extends Yi{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;let d=this.gl;r?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=r,this.dirty=!1}}class wf extends Yi{getDefault(){return[0,1]}set(r){let d=this.current;(r[0]!==d[0]||r[1]!==d[1]||this.dirty)&&(this.gl.depthRange(r[0],r[1]),this.current=r,this.dirty=!1)}}class _h extends Yi{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;let d=this.gl;r?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=r,this.dirty=!1}}class Js extends Yi{getDefault(){return this.gl.LESS}set(r){(r!==this.current||this.dirty)&&(this.gl.depthFunc(r),this.current=r,this.dirty=!1)}}class yu extends Yi{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;let d=this.gl;r?d.enable(d.BLEND):d.disable(d.BLEND),this.current=r,this.dirty=!1}}class vu extends Yi{getDefault(){let r=this.gl;return[r.ONE,r.ZERO]}set(r){let d=this.current;(r[0]!==d[0]||r[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(r[0],r[1]),this.current=r,this.dirty=!1)}}class rd extends Yi{getDefault(){return a.bp.transparent}set(r){let d=this.current;(r.r!==d.r||r.g!==d.g||r.b!==d.b||r.a!==d.a||this.dirty)&&(this.gl.blendColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class xu extends Yi{getDefault(){return this.gl.FUNC_ADD}set(r){(r!==this.current||this.dirty)&&(this.gl.blendEquation(r),this.current=r,this.dirty=!1)}}class If extends Yi{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;let d=this.gl;r?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=r,this.dirty=!1}}class Hl extends Yi{getDefault(){return this.gl.BACK}set(r){(r!==this.current||this.dirty)&&(this.gl.cullFace(r),this.current=r,this.dirty=!1)}}class jl extends Yi{getDefault(){return this.gl.CCW}set(r){(r!==this.current||this.dirty)&&(this.gl.frontFace(r),this.current=r,this.dirty=!1)}}class Tf extends Yi{getDefault(){return null}set(r){(r!==this.current||this.dirty)&&(this.gl.useProgram(r),this.current=r,this.dirty=!1)}}class bh extends Yi{getDefault(){return this.gl.TEXTURE0}set(r){(r!==this.current||this.dirty)&&(this.gl.activeTexture(r),this.current=r,this.dirty=!1)}}class ki extends Yi{getDefault(){let r=this.gl;return[0,0,r.drawingBufferWidth,r.drawingBufferHeight]}set(r){let d=this.current;(r[0]!==d[0]||r[1]!==d[1]||r[2]!==d[2]||r[3]!==d[3]||this.dirty)&&(this.gl.viewport(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class wu extends Yi{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;let d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,r),this.current=r,this.dirty=!1}}class a1 extends Yi{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;let d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class Cf extends Yi{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;let d=this.gl;d.bindTexture(d.TEXTURE_2D,r),this.current=r,this.dirty=!1}}class sd extends Yi{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;let d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class o1 extends Yi{getDefault(){return null}set(r){let d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class r1 extends Yi{getDefault(){return null}set(r){var d;if(r===this.current&&!this.dirty)return;let h=this.gl;Xo(h)?h.bindVertexArray(r):(d=h.getExtension("OES_vertex_array_object"))===null||d===void 0||d.bindVertexArrayOES(r),this.current=r,this.dirty=!1}}class Sf extends Yi{getDefault(){return 4}set(r){if(r===this.current&&!this.dirty)return;let d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,r),this.current=r,this.dirty=!1}}class s1 extends Yi{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;let d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r),this.current=r,this.dirty=!1}}class yh extends Yi{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;let d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,r),this.current=r,this.dirty=!1}}class Gl extends Yi{constructor(r,d){super(r),this.context=r,this.parent=d}getDefault(){return null}}class ld extends Gl{setDirty(){this.dirty=!0}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,r,0),this.current=r,this.dirty=!1}}class Iu extends Gl{set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class vh extends Gl{set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,r),this.current=r,this.dirty=!1}}let xh="Framebuffer is not complete";class Tu{constructor(r,d,h,f,v){this.context=r,this.width=d,this.height=h;let w=r.gl,k=this.framebuffer=w.createFramebuffer();if(this.colorAttachment=new ld(r,k),f)this.depthAttachment=v?new vh(r,k):new Iu(r,k);else if(v)throw new Error("Stencil cannot be set without depth");if(w.checkFramebufferStatus(w.FRAMEBUFFER)!==w.FRAMEBUFFER_COMPLETE)throw new Error(xh)}destroy(){let r=this.context.gl,d=this.colorAttachment.get();if(d&&r.deleteTexture(d),this.depthAttachment){let h=this.depthAttachment.get();h&&r.deleteRenderbuffer(h)}r.deleteFramebuffer(this.framebuffer)}}class Cu{constructor(r){var d,h;if(this.gl=r,this.clearColor=new gu(this),this.clearDepth=new _u(this),this.clearStencil=new bu(this),this.colorMask=new gh(this),this.depthMask=new Ys(this),this.stencilMask=new od(this),this.stencilFunc=new ql(this),this.stencilOp=new Yo(this),this.stencilTest=new xf(this),this.depthRange=new wf(this),this.depthTest=new _h(this),this.depthFunc=new Js(this),this.blend=new yu(this),this.blendFunc=new vu(this),this.blendColor=new rd(this),this.blendEquation=new xu(this),this.cullFace=new If(this),this.cullFaceSide=new Hl(this),this.frontFace=new jl(this),this.program=new Tf(this),this.activeTexture=new bh(this),this.viewport=new ki(this),this.bindFramebuffer=new wu(this),this.bindRenderbuffer=new a1(this),this.bindTexture=new Cf(this),this.bindVertexBuffer=new sd(this),this.bindElementBuffer=new o1(this),this.bindVertexArray=new r1(this),this.pixelStoreUnpack=new Sf(this),this.pixelStoreUnpackPremultiplyAlpha=new s1(this),this.pixelStoreUnpackFlipY=new yh(this),this.extTextureFilterAnisotropic=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=r.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),Xo(r)){this.HALF_FLOAT=r.HALF_FLOAT;let f=r.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(d=r.RGBA16F)!==null&&d!==void 0?d:f?.RGBA16F_EXT,this.RGB16F=(h=r.RGB16F)!==null&&h!==void 0?h:f?.RGB16F_EXT,r.getExtension("EXT_color_buffer_float")}else{r.getExtension("EXT_color_buffer_half_float"),r.getExtension("OES_texture_half_float_linear");let f=r.getExtension("OES_texture_half_float");this.HALF_FLOAT=f?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(r,d){return new i1(this,r,d)}createVertexBuffer(r,d,h){return new n1(this,r,d,h)}createRenderbuffer(r,d,h){let f=this.gl,v=f.createRenderbuffer();return this.bindRenderbuffer.set(v),f.renderbufferStorage(f.RENDERBUFFER,r,d,h),this.bindRenderbuffer.set(null),v}createFramebuffer(r,d,h,f){return new Tu(this,r,d,h,f)}clear({color:r,depth:d,stencil:h}){let f=this.gl,v=0;r&&(v|=f.COLOR_BUFFER_BIT,this.clearColor.set(r),this.colorMask.set([!0,!0,!0,!0])),d!==void 0&&(v|=f.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),h!==void 0&&(v|=f.STENCIL_BUFFER_BIT,this.clearStencil.set(h),this.stencilMask.set(255)),f.clear(v)}setCullFace(r){r.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(r.mode),this.frontFace.set(r.frontFace))}setDepthMode(r){r.func!==this.gl.ALWAYS||r.mask?(this.depthTest.set(!0),this.depthFunc.set(r.func),this.depthMask.set(r.mask),this.depthRange.set(r.range)):this.depthTest.set(!1)}setStencilMode(r){r.test.func!==this.gl.ALWAYS||r.mask?(this.stencilTest.set(!0),this.stencilMask.set(r.mask),this.stencilOp.set([r.fail,r.depthFail,r.pass]),this.stencilFunc.set({func:r.test.func,ref:r.ref,mask:r.test.mask})):this.stencilTest.set(!1)}setColorMode(r){a.bR(r.blendFunction,_n.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(r.blendFunction),this.blendColor.set(r.blendColor)),this.colorMask.set(r.mask)}createVertexArray(){var r;return Xo(this.gl)?this.gl.createVertexArray():(r=this.gl.getExtension("OES_vertex_array_object"))===null||r===void 0?void 0:r.createVertexArrayOES()}deleteVertexArray(r){var d;return Xo(this.gl)?this.gl.deleteVertexArray(r):(d=this.gl.getExtension("OES_vertex_array_object"))===null||d===void 0?void 0:d.deleteVertexArrayOES(r)}unbindVAO(){this.bindVertexArray.set(null)}}let ys;function el(y,r,d,h,f){let v=y.context,w=y.transform,k=v.gl,P=y.useProgram("collisionBox"),F=[],B=0,j=0;for(let me=0;me<h.length;me++){let be=h[me],Me=r.getTile(be).getBucket(d);if(!Me)continue;let _e=f?Me.textCollisionBox:Me.iconCollisionBox,Se=Me.collisionCircleArray;Se.length>0&&(F.push({circleArray:Se,circleOffset:j,coord:be}),B+=Se.length/4,j=B),_e&&P.draw(v,k.LINES,wi.disabled,Hi.disabled,y.colorModeForRenderPass(),Ri.disabled,Qs(y.transform),y.style.map.terrain&&y.style.map.terrain.getTerrainData(be),w.getProjectionData({overscaledTileID:be,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),d.id,_e.layoutVertexBuffer,_e.indexBuffer,_e.segments,null,y.transform.zoom,null,null,_e.collisionVertexBuffer)}if(!f||!F.length)return;let H=y.useProgram("collisionCircle"),W=new a.ca;W.resize(4*B),W._trim();let ne=0;for(let me of F)for(let be=0;be<me.circleArray.length/4;be++){let Me=4*be,_e=me.circleArray[Me+0],Se=me.circleArray[Me+1],Pe=me.circleArray[Me+2],Ie=me.circleArray[Me+3];W.emplace(ne++,_e,Se,Pe,Ie,0),W.emplace(ne++,_e,Se,Pe,Ie,1),W.emplace(ne++,_e,Se,Pe,Ie,2),W.emplace(ne++,_e,Se,Pe,Ie,3)}(!ys||ys.length<2*B)&&(ys=function(me){let be=2*me,Me=new a.cc;Me.resize(be),Me._trim();for(let _e=0;_e<be;_e++){let Se=6*_e;Me.uint16[Se+0]=4*_e+0,Me.uint16[Se+1]=4*_e+1,Me.uint16[Se+2]=4*_e+2,Me.uint16[Se+3]=4*_e+2,Me.uint16[Se+4]=4*_e+3,Me.uint16[Se+5]=4*_e+0}return Me}(B));let he=v.createIndexBuffer(ys,!0),fe=v.createVertexBuffer(W,a.cb.members,!0);for(let me of F){let be=mf(y.transform);H.draw(v,k.TRIANGLES,wi.disabled,Hi.disabled,y.colorModeForRenderPass(),Ri.disabled,be,y.style.map.terrain&&y.style.map.terrain.getTerrainData(me.coord),null,d.id,fe,he,a.aX.simpleSegment(0,2*me.circleOffset,me.circleArray.length,me.circleArray.length/2),null,y.transform.zoom,null,null,null)}fe.destroy(),he.destroy()}let wh=a.ar(new Float32Array(16));function l1(y,r,d,h,f,v){let{horizontalAlign:w,verticalAlign:k}=a.aS(y);return new a.P((-(w-.5)*r/f+h[0])*v,(-(k-.5)*d/f+h[1])*v)}function cd(y,r,d,h,f,v){let w=r.tileAnchorPoint.add(new a.P(r.translation[0],r.translation[1]));if(r.pitchWithMap){let k=h.mult(v);d||(k=k.rotate(-f));let P=w.add(k);return xi(P.x,P.y,r.pitchedLabelPlaneMatrix,r.getElevation).point}if(d){let k=cn(r.tileAnchorPoint.x+1,r.tileAnchorPoint.y,r).point.sub(y),P=Math.atan(k.y/k.x)+(k.x<0?Math.PI:0);return y.add(h.rotate(P))}return y.add(h)}function c1(y,r,d,h,f,v,w,k,P,F,B,j){let H=y.text.placedSymbolArray,W=y.text.dynamicLayoutVertexArray,ne=y.icon.dynamicLayoutVertexArray,he={};W.clear();for(let fe=0;fe<H.length;fe++){let me=H.get(fe),be=me.hidden||!me.crossTileID||y.allowVerticalPlacement&&!me.placedOrientation?null:h[me.crossTileID];if(be){let Me=new a.P(me.anchorX,me.anchorY),_e={getElevation:j,width:f.width,height:f.height,pitchedLabelPlaneMatrix:v,pitchWithMap:d,transform:f,tileAnchorPoint:Me,translation:F,unwrappedTileID:B},Se=d?Ml(Me.x,Me.y,_e):cn(Me.x,Me.y,_e),Pe=Uc(f.cameraToCenterDistance,Se.signedDistanceFromCamera),Ie=a.aA(y.textSizeData,k,me)*Pe/a.aM;d&&(Ie*=y.tilePixelRatio/w);let{width:Oe,height:Ye,anchor:je,textOffset:Ue,textBoxScale:$e}=be,Tt=l1(je,Oe,Ye,Ue,$e,Ie),Ct=f.getPitchedTextCorrection(Me.x+F[0],Me.y+F[1],B),pt=cd(Se.point,_e,r,Tt,-f.bearingInRadians,Ct),kt=y.allowVerticalPlacement&&me.placedOrientation===a.az.vertical?Math.PI/2:0;for(let yi=0;yi<me.numGlyphs;yi++)a.aG(W,pt,kt);P&&me.associatedIconIndex>=0&&(he[me.associatedIconIndex]={shiftedAnchor:pt,angle:kt})}else Gs(me.numGlyphs,W)}if(P){ne.clear();let fe=y.icon.placedSymbolArray;for(let me=0;me<fe.length;me++){let be=fe.get(me);if(be.hidden)Gs(be.numGlyphs,ne);else{let Me=he[me];if(Me)for(let _e=0;_e<be.numGlyphs;_e++)a.aG(ne,Me.shiftedAnchor,Me.angle);else Gs(be.numGlyphs,ne)}}y.icon.dynamicLayoutVertexBuffer.updateData(ne)}y.text.dynamicLayoutVertexBuffer.updateData(W)}function Mf(y,r,d){return d.iconsInText&&r?"symbolTextAndIcon":y?"symbolSDF":"symbolIcon"}function dd(y,r,d,h,f,v,w,k,P,F,B,j,H){let W=y.context,ne=W.gl,he=y.transform,fe=k==="map",me=P==="map",be=k!=="viewport"&&d.layout.get("symbol-placement")!=="point",Me=fe&&!me&&!be,_e=!d.layout.get("symbol-sort-key").isConstant(),Se=!1,Pe=y.getDepthModeForSublayer(0,wi.ReadOnly),Ie=d._unevaluatedLayout.hasValue("text-variable-anchor")||d._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Oe=[],Ye=he.getCircleRadiusCorrection();for(let je of h){let Ue=r.getTile(je),$e=Ue.getBucket(d);if(!$e)continue;let Tt=f?$e.text:$e.icon;if(!Tt||!Tt.segments.get().length||!Tt.hasVisibleVertices)continue;let Ct=Tt.programConfigurations.get(d.id),pt=f||$e.sdfIcons,kt=f?$e.textSizeData:$e.iconSizeData,yi=me||he.pitch!==0,on=y.useProgram(Mf(pt,f,$e),Ct),Mn=a.ay(kt,he.zoom),bn=y.style.map.terrain&&y.style.map.terrain.getTerrainData(je),Ln,yn,Xn,An,za=[0,0],fa=null;if(f)yn=Ue.glyphAtlasTexture,Xn=ne.LINEAR,Ln=Ue.glyphAtlasTexture.size,$e.iconsInText&&(za=Ue.imageAtlasTexture.size,fa=Ue.imageAtlasTexture,An=yi||y.options.rotating||y.options.zooming||kt.kind==="composite"||kt.kind==="camera"?ne.LINEAR:ne.NEAREST);else{let In=d.layout.get("icon-size").constantOr(0)!==1||$e.iconsNeedLinear;yn=Ue.imageAtlasTexture,Xn=pt||y.options.rotating||y.options.zooming||In||yi?ne.LINEAR:ne.NEAREST,Ln=Ue.imageAtlasTexture.size}let ca=a.aN(Ue,1,y.transform.zoom),$a=No(fe,y.transform,ca),Ts=a.N();a.aB(Ts,$a);let Jr=iu(me,fe,y.transform,ca),Rr=a.aO(he,Ue,v,w),So=he.getProjectionData({overscaledTileID:je,applyGlobeMatrix:!H,applyTerrainMatrix:!0}),rl=Ie&&$e.hasTextData(),Pd=d.layout.get("icon-text-fit")!=="none"&&rl&&$e.hasIconData();if(be){let In=y.style.map.terrain?(Ca,Sa)=>y.style.map.terrain.getElevation(je,Ca,Sa):null,vn=d.layout.get("text-rotation-alignment")==="map";nu($e,y,f,$a,Ts,me,F,vn,je.toUnwrapped(),he.width,he.height,Rr,In)}let sl=f&&Ie||Pd,tr=be||sl?wh:me?$a:y.transform.clipSpaceToPixelsMatrix,Br=pt&&d.paint.get(f?"text-halo-width":"icon-halo-width").constantOr(1)!==0,Tr;Tr=pt?$e.iconsInText?Xs(kt.kind,Mn,Me,me,be,sl,y,tr,Jr,Rr,Ln,za,Ye):fu(kt.kind,Mn,Me,me,be,sl,y,tr,Jr,Rr,f,Ln,0,Ye):mh(kt.kind,Mn,Me,me,be,sl,y,tr,Jr,Rr,f,Ln,Ye);let Cr={program:on,buffers:Tt,uniformValues:Tr,projectionData:So,atlasTexture:yn,atlasTextureIcon:fa,atlasInterpolation:Xn,atlasInterpolationIcon:An,isSDF:pt,hasHalo:Br};if(_e&&$e.canOverlap){Se=!0;let In=Tt.segments.get();for(let vn of In)Oe.push({segments:new a.aX([vn]),sortKey:vn.sortKey,state:Cr,terrainData:bn})}else Oe.push({segments:Tt.segments,sortKey:0,state:Cr,terrainData:bn})}Se&&Oe.sort((je,Ue)=>je.sortKey-Ue.sortKey);for(let je of Oe){let Ue=je.state;if(W.activeTexture.set(ne.TEXTURE0),Ue.atlasTexture.bind(Ue.atlasInterpolation,ne.CLAMP_TO_EDGE),Ue.atlasTextureIcon&&(W.activeTexture.set(ne.TEXTURE1),Ue.atlasTextureIcon&&Ue.atlasTextureIcon.bind(Ue.atlasInterpolationIcon,ne.CLAMP_TO_EDGE)),Ue.isSDF){let $e=Ue.uniformValues;Ue.hasHalo&&($e.u_is_halo=1,Su(Ue.buffers,je.segments,d,y,Ue.program,Pe,B,j,$e,Ue.projectionData,je.terrainData)),$e.u_is_halo=0}Su(Ue.buffers,je.segments,d,y,Ue.program,Pe,B,j,Ue.uniformValues,Ue.projectionData,je.terrainData)}}function Su(y,r,d,h,f,v,w,k,P,F,B){let j=h.context;f.draw(j,j.gl.TRIANGLES,v,w,k,Ri.backCCW,P,B,F,d.id,y.layoutVertexBuffer,y.indexBuffer,r,d.paint,h.transform.zoom,y.programConfigurations.get(d.id),y.dynamicLayoutVertexBuffer,y.opacityVertexBuffer)}function kf(y,r,d,h,f){let v=y.context,w=v.gl,k=Hi.disabled,P=new _n([w.ONE,w.ONE],a.bp.transparent,[!0,!0,!0,!0]),F=r.getBucket(d);if(!F)return;let B=h.key,j=d.heatmapFbos.get(B);j||(j=ud(v,r.tileSize,r.tileSize),d.heatmapFbos.set(B,j)),v.bindFramebuffer.set(j.framebuffer),v.viewport.set([0,0,r.tileSize,r.tileSize]),v.clear({color:a.bp.transparent});let H=F.programConfigurations.get(d.id),W=y.useProgram("heatmap",H,!f),ne=y.transform.getProjectionData({overscaledTileID:r.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),he=y.style.map.terrain.getTerrainData(h);W.draw(v,w.TRIANGLES,wi.disabled,k,P,Ri.disabled,Nl(r,y.transform.zoom,d.paint.get("heatmap-intensity"),1),he,ne,d.id,F.layoutVertexBuffer,F.indexBuffer,F.segments,d.paint,y.transform.zoom,H)}function Ef(y,r,d,h,f){let v=y.context,w=v.gl,k=y.transform;v.setColorMode(y.colorModeForRenderPass());let P=Mu(v,r),F=d.key,B=r.heatmapFbos.get(F);if(!B)return;v.activeTexture.set(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,B.colorAttachment.get()),v.activeTexture.set(w.TEXTURE1),P.bind(w.LINEAR,w.CLAMP_TO_EDGE);let j=k.getProjectionData({overscaledTileID:d,applyTerrainMatrix:f,applyGlobeMatrix:!h});y.useProgram("heatmapTexture").draw(v,w.TRIANGLES,wi.disabled,Hi.disabled,y.colorModeForRenderPass(),Ri.disabled,ff(y,r,0,1),null,j,r.id,y.rasterBoundsBuffer,y.quadTriangleIndexBuffer,y.rasterBoundsSegments,r.paint,k.zoom),B.destroy(),r.heatmapFbos.delete(F)}function ud(y,r,d){var h,f;let v=y.gl,w=v.createTexture();v.bindTexture(v.TEXTURE_2D,w),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.LINEAR),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,v.LINEAR);let k=(h=y.HALF_FLOAT)!==null&&h!==void 0?h:v.UNSIGNED_BYTE,P=(f=y.RGBA16F)!==null&&f!==void 0?f:v.RGBA;v.texImage2D(v.TEXTURE_2D,0,P,r,d,0,v.RGBA,k,null);let F=y.createFramebuffer(r,d,!1,!1);return F.colorAttachment.set(w),F}function Mu(y,r){return r.colorRampTexture||(r.colorRampTexture=new a.T(y,r.colorRamp,y.gl.RGBA)),r.colorRampTexture}function Pf(y,r,d,h,f,v,w,k){let P=256;if(f.stepInterpolant){let F=r.getSource().maxzoom,B=w.canonical.z===F?Math.ceil(1<<y.transform.maxZoom-w.canonical.z):1;P=a.an(a.ce(v.maxLineLength/a.a5*1024*B),256,d.maxTextureSize)}return k.gradient=a.cf({expression:f.gradientExpression(),evaluationKey:"lineProgress",resolution:P,image:k.gradient||void 0,clips:v.lineClipsArray}),k.texture?k.texture.update(k.gradient):k.texture=new a.T(d,k.gradient,h.RGBA),k.version=f.gradientVersion,k.texture}function Df(y,r,d,h,f){y.activeTexture.set(r.TEXTURE0),d.imageAtlasTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE),h.updatePaintBuffers(f)}function sa(y,r,d,h,f,v){(f||y.lineAtlas.dirty)&&(r.activeTexture.set(d.TEXTURE0),y.lineAtlas.bind(r)),h.updatePaintBuffers(v)}function tl(y,r,d,h,f,v,w){let k=v.gradients[f.id],P=k.texture;f.gradientVersion!==k.version&&(P=Pf(y,r,d,h,f,v,w,k)),d.activeTexture.set(h.TEXTURE0),P.bind(f.stepInterpolant?h.NEAREST:h.LINEAR,h.CLAMP_TO_EDGE)}function Ho(y,r,d,h,f,v,w,k,P){let F=v.gradients[f.id],B=F.texture;f.gradientVersion!==F.version&&(B=Pf(y,r,d,h,f,v,w,F)),d.activeTexture.set(h.TEXTURE0),B.bind(f.stepInterpolant?h.NEAREST:h.LINEAR,h.CLAMP_TO_EDGE),d.activeTexture.set(h.TEXTURE1),y.lineAtlas.bind(d),k.updatePaintBuffers(P)}function ku(y,r,d,h,f){if(!d||!h||!h.imageAtlas)return;let v=h.imageAtlas.patternPositions,w=v[d.to.toString()],k=v[d.from.toString()];if(!w&&k&&(w=k),!k&&w&&(k=w),!w||!k){let P=f.getPaintProperty(r);w=v[P],k=v[P]}w&&k&&y.setConstantPatternPositions(w,k)}function pd(y,r,d,h,f,v,w,k){let P=y.context.gl,F="fill-pattern",B=d.paint.get(F),j=B&&B.constantOr(1),H=d.getCrossfadeParameters(),W,ne,he,fe,me,be=y.transform,Me=d.paint.get("fill-translate"),_e=d.paint.get("fill-translate-anchor");w?(ne=j&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",W=P.LINES):(ne=j?"fillPattern":"fill",W=P.TRIANGLES);let Se=B.constantOr(null);for(let Pe of h){let Ie=r.getTile(Pe);if(j&&!Ie.patternsLoaded())continue;let Oe=Ie.getBucket(d);if(!Oe)continue;let Ye=Oe.programConfigurations.get(d.id),je=y.useProgram(ne,Ye),Ue=y.style.map.terrain&&y.style.map.terrain.getTerrainData(Pe);j&&(y.context.activeTexture.set(P.TEXTURE0),Ie.imageAtlasTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE),Ye.updatePaintBuffers(H)),ku(Ye,F,Se,Ie,d);let $e=be.getProjectionData({overscaledTileID:Pe,applyGlobeMatrix:!k,applyTerrainMatrix:!0}),Tt=a.aO(be,Ie,Me,_e);if(w){fe=Oe.indexBuffer2,me=Oe.segments2;let pt=[P.drawingBufferWidth,P.drawingBufferHeight];he=ne==="fillOutlinePattern"&&j?pf(y,H,Ie,pt,Tt):uf(pt,Tt)}else fe=Oe.indexBuffer,me=Oe.segments,he=j?ch(y,H,Ie,Tt):{u_fill_translate:Tt};let Ct=y.stencilModeForClipping(Pe);je.draw(y.context,W,f,Ct,v,Ri.backCCW,he,Ue,$e,d.id,Oe.layoutVertexBuffer,fe,me,d.paint,y.transform.zoom,Ye)}}function Eu(y,r,d,h,f,v,w,k){let P=y.context,F=P.gl,B="fill-extrusion-pattern",j=d.paint.get(B),H=j.constantOr(1),W=d.getCrossfadeParameters(),ne=d.paint.get("fill-extrusion-opacity"),he=j.constantOr(null),fe=y.transform;for(let me of h){let be=r.getTile(me),Me=be.getBucket(d);if(!Me)continue;let _e=y.style.map.terrain&&y.style.map.terrain.getTerrainData(me),Se=Me.programConfigurations.get(d.id),Pe=y.useProgram(H?"fillExtrusionPattern":"fillExtrusion",Se);H&&(y.context.activeTexture.set(F.TEXTURE0),be.imageAtlasTexture.bind(F.LINEAR,F.CLAMP_TO_EDGE),Se.updatePaintBuffers(W));let Ie=fe.getProjectionData({overscaledTileID:me,applyGlobeMatrix:!k,applyTerrainMatrix:!0});ku(Se,B,he,be,d);let Oe=a.aO(fe,be,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),Ye=d.paint.get("fill-extrusion-vertical-gradient"),je=H?lh(y,Ye,ne,Oe,me,W,be):sh(y,Ye,ne,Oe);Pe.draw(P,P.gl.TRIANGLES,f,v,w,Ri.backCCW,je,_e,Ie,d.id,Me.layoutVertexBuffer,Me.indexBuffer,Me.segments,d.paint,y.transform.zoom,Se,y.style.map.terrain&&Me.centroidVertexBuffer)}}function vs(y,r,d,h,f,v,w,k,P){var F;let B=y.style.projection,j=y.context,H=y.transform,W=j.gl,ne=[`#define NUM_ILLUMINATION_SOURCES ${d.paint.get("hillshade-highlight-color").values.length}`],he=y.useProgram("hillshade",null,!1,ne),fe=!y.options.moving;for(let me of h){let be=r.getTile(me),Me=be.fbo;if(!Me)continue;let _e=B.getMeshFromTileID(j,me.canonical,k,!0,"raster"),Se=(F=y.style.map.terrain)===null||F===void 0?void 0:F.getTerrainData(me);j.activeTexture.set(W.TEXTURE0),W.bindTexture(W.TEXTURE_2D,Me.colorAttachment.get());let Pe=H.getProjectionData({overscaledTileID:me,aligned:fe,applyGlobeMatrix:!P,applyTerrainMatrix:!0});he.draw(j,W.TRIANGLES,v,f[me.overscaledZ],w,Ri.backCCW,pu(y,be,d),Se,Pe,d.id,_e.vertexBuffer,_e.indexBuffer,_e.segments)}}function hd(y,r,d,h,f,v,w,k,P){var F;let B=y.style.projection,j=y.context,H=y.transform,W=j.gl,ne=y.useProgram("colorRelief"),he=!y.options.moving,fe=!0,me=0;for(let be of h){let Me=r.getTile(be),_e=Me.dem;if(fe){let je=W.getParameter(W.MAX_TEXTURE_SIZE),{elevationTexture:Ue,colorTexture:$e}=d.getColorRampTextures(j,je,_e.getUnpackVector());j.activeTexture.set(W.TEXTURE1),Ue.bind(W.NEAREST,W.CLAMP_TO_EDGE),j.activeTexture.set(W.TEXTURE4),$e.bind(W.LINEAR,W.CLAMP_TO_EDGE),fe=!1,me=Ue.size[0]}if(!_e||!_e.data)continue;let Se=_e.stride,Pe=_e.getPixels();if(j.activeTexture.set(W.TEXTURE0),j.pixelStoreUnpackPremultiplyAlpha.set(!1),Me.demTexture=Me.demTexture||y.getTileTexture(Se),Me.demTexture){let je=Me.demTexture;je.update(Pe,{premultiply:!1}),je.bind(W.LINEAR,W.CLAMP_TO_EDGE)}else Me.demTexture=new a.T(j,Pe,W.RGBA,{premultiply:!1}),Me.demTexture.bind(W.LINEAR,W.CLAMP_TO_EDGE);let Ie=B.getMeshFromTileID(j,be.canonical,k,!0,"raster"),Oe=(F=y.style.map.terrain)===null||F===void 0?void 0:F.getTerrainData(be),Ye=H.getProjectionData({overscaledTileID:be,aligned:he,applyGlobeMatrix:!P,applyTerrainMatrix:!0});ne.draw(j,W.TRIANGLES,v,f[be.overscaledZ],w,Ri.backCCW,gf(d,Me.dem,me),Oe,Ye,d.id,Ie.vertexBuffer,Ie.indexBuffer,Ie.segments)}}let il=[new a.P(0,0),new a.P(a.a5,0),new a.P(a.a5,a.a5),new a.P(0,a.a5)];function Ul(y,r,d,h,f,v,w,k,P=!1,F=!1){let B=h[h.length-1].overscaledZ,j=y.context,H=j.gl,W=y.useProgram("raster"),ne=y.transform,he=y.style.projection,fe=y.colorModeForRenderPass(),me=!y.options.moving,be=d.paint.get("raster-opacity"),Me=d.paint.get("raster-resampling"),_e=d.paint.get("raster-fade-duration"),Se=!!y.style.map.terrain;for(let Pe of h){let Ie=y.getDepthModeForSublayer(Pe.overscaledZ-B,be===1?wi.ReadWrite:wi.ReadOnly,H.LESS),Oe=r.getTile(Pe),Ye=Me==="nearest"?H.NEAREST:H.LINEAR;j.activeTexture.set(H.TEXTURE0),Oe.texture.bind(Ye,H.CLAMP_TO_EDGE,H.LINEAR_MIPMAP_NEAREST),j.activeTexture.set(H.TEXTURE1);let{parentTile:je,parentScaleBy:Ue,parentTopLeft:$e,fadeValues:Tt}=Lf(Oe,r,_e,Se);Oe.fadeOpacity=Tt.tileOpacity,je?(je.fadeOpacity=Tt.parentTileOpacity,je.texture.bind(Ye,H.CLAMP_TO_EDGE,H.LINEAR_MIPMAP_NEAREST)):Oe.texture.bind(Ye,H.CLAMP_TO_EDGE,H.LINEAR_MIPMAP_NEAREST),Oe.texture.useMipmap&&j.extTextureFilterAnisotropic&&y.transform.pitch>20&&H.texParameterf(H.TEXTURE_2D,j.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,j.extTextureFilterAnisotropicMax);let Ct=y.style.map.terrain&&y.style.map.terrain.getTerrainData(Pe),pt=ne.getProjectionData({overscaledTileID:Pe,aligned:me,applyGlobeMatrix:!F,applyTerrainMatrix:!0}),kt=ph($e,Ue,Tt.fadeMix,d,k),yi=he.getMeshFromTileID(j,Pe.canonical,v,w,"raster");W.draw(j,H.TRIANGLES,Ie,f?f[Pe.overscaledZ]:Hi.disabled,fe,P?Ri.frontCCW:Ri.backCCW,kt,Ct,pt,d.id,yi.vertexBuffer,yi.indexBuffer,yi.segments)}}function Lf(y,r,d,h){let f={parentTile:null,parentScaleBy:1,parentTopLeft:[0,0],fadeValues:{tileOpacity:1,parentTileOpacity:1,fadeMix:{opacity:1,mix:0}}};if(d===0||h)return f;if(y.fadingParentID){let v=r.getLoadedTile(y.fadingParentID);if(!v)return f;let w=Math.pow(2,v.tileID.overscaledZ-y.tileID.overscaledZ),k=[y.tileID.canonical.x*w%1,y.tileID.canonical.y*w%1],P=function(F,B,j){let H=oe(),W=(H-B.timeAdded)/j,ne=F.fadingDirection===Xe.Incoming,he=a.an((H-F.timeAdded)/j,0,1),fe=a.an(1-W,0,1),me=ne?he:fe;return{tileOpacity:me,parentTileOpacity:ne?fe:he,fadeMix:{opacity:1,mix:1-me}}}(y,v,d);return{parentTile:v,parentScaleBy:w,parentTopLeft:k,fadeValues:P}}if(y.selfFading){let v=function(w,k){let P=(oe()-w.timeAdded)/k,F=a.an(P,0,1);return{tileOpacity:F,fadeMix:{opacity:F,mix:0}}}(y,d);return{parentTile:null,parentScaleBy:1,parentTopLeft:[0,0],fadeValues:v}}return f}let Af=new a.bp(1,0,0,1),Of=new a.bp(0,1,0,1),Ff=new a.bp(0,0,1,1),Vf=new a.bp(1,0,1,1),xs=new a.bp(0,1,1,1);function Ih(y,r,d,h){md(y,0,r+d/2,y.transform.width,d,h)}function Th(y,r,d,h){md(y,r-d/2,0,d,y.transform.height,h)}function md(y,r,d,h,f,v){let w=y.context,k=w.gl;k.enable(k.SCISSOR_TEST),k.scissor(r*y.pixelRatio,d*y.pixelRatio,h*y.pixelRatio,f*y.pixelRatio),w.clear({color:v}),k.disable(k.SCISSOR_TEST)}function zf(y,r,d){let h=y.context,f=h.gl,v=y.useProgram("debug"),w=wi.disabled,k=Hi.disabled,P=y.colorModeForRenderPass(),F="$debug",B=y.style.map.terrain&&y.style.map.terrain.getTerrainData(d);h.activeTexture.set(f.TEXTURE0);let j=r.getTileByID(d.key).latestRawTileData,H=Math.floor((j&&j.byteLength||0)/1024),W=r.getTile(d).tileSize,ne=512/Math.min(W,512)*(d.overscaledZ/y.transform.zoom)*.5,he=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(he+=` => ${d.overscaledZ}`),function(me,be){me.initDebugOverlayCanvas();let Me=me.debugOverlayCanvas,_e=me.context.gl,Se=me.debugOverlayCanvas.getContext("2d");Se.clearRect(0,0,Me.width,Me.height),Se.shadowColor="white",Se.shadowBlur=2,Se.lineWidth=1.5,Se.strokeStyle="white",Se.textBaseline="top",Se.font="bold 36px Open Sans, sans-serif",Se.fillText(be,5,5),Se.strokeText(be,5,5),me.debugOverlayTexture.update(Me),me.debugOverlayTexture.bind(_e.LINEAR,_e.CLAMP_TO_EDGE)}(y,`${he} ${H}kB`);let fe=y.transform.getProjectionData({overscaledTileID:d,applyGlobeMatrix:!0,applyTerrainMatrix:!0});v.draw(h,f.TRIANGLES,w,k,_n.alphaBlended,Ri.disabled,dh(a.bp.transparent,ne),null,fe,F,y.debugBuffer,y.quadTriangleIndexBuffer,y.debugSegments),v.draw(h,f.LINE_STRIP,w,k,P,Ri.disabled,dh(a.bp.red),B,fe,F,y.debugBuffer,y.tileBorderIndexBuffer,y.debugSegments)}function Ch(y,r,d,h){let{isRenderingGlobe:f}=h,v=y.context,w=v.gl,k=y.transform,P=y.colorModeForRenderPass(),F=y.getDepthModeFor3D(),B=y.useProgram("terrain");v.bindFramebuffer.set(null),v.viewport.set([0,0,y.width,y.height]);for(let j of d){let H=r.getTerrainMesh(j.tileID),W=y.renderToTexture.getTexture(j),ne=r.getTerrainData(j.tileID);v.activeTexture.set(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,W.texture);let he=r.getMeshFrameDelta(k.zoom),fe=k.calculateFogMatrix(j.tileID.toUnwrapped()),me=X_(he,fe,y.style.sky,k.pitch,f),be=k.getProjectionData({overscaledTileID:j.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});B.draw(v,w.TRIANGLES,F,Hi.disabled,P,Ri.backCCW,me,ne,be,"terrain",H.vertexBuffer,H.indexBuffer,H.segments)}}function Sh(y,r){if(!r.mesh){let d=new a.aW;d.emplaceBack(-1,-1),d.emplaceBack(1,-1),d.emplaceBack(1,1),d.emplaceBack(-1,1);let h=new a.aY;h.emplaceBack(0,1,2),h.emplaceBack(0,2,3),r.mesh=new gn(y.createVertexBuffer(d,gs.members),y.createIndexBuffer(h),a.aX.simpleSegment(0,0,d.length,h.length))}return r.mesh}class Rf{constructor(r,d){this.context=new Cu(r),this.transform=d,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.ar(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=Qo.maxOverzooming+Qo.maxUnderzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new To}resize(r,d,h){if(this.width=Math.floor(r*h),this.height=Math.floor(d*h),this.pixelRatio=h,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(let f of this.style._order)this.style._layers[f].resize()}setup(){let r=this.context,d=new a.aW;d.emplaceBack(0,0),d.emplaceBack(a.a5,0),d.emplaceBack(0,a.a5),d.emplaceBack(a.a5,a.a5),this.tileExtentBuffer=r.createVertexBuffer(d,gs.members),this.tileExtentSegments=a.aX.simpleSegment(0,0,4,2);let h=new a.aW;h.emplaceBack(0,0),h.emplaceBack(a.a5,0),h.emplaceBack(0,a.a5),h.emplaceBack(a.a5,a.a5),this.debugBuffer=r.createVertexBuffer(h,gs.members),this.debugSegments=a.aX.simpleSegment(0,0,4,5);let f=new a.ch;f.emplaceBack(0,0,0,0),f.emplaceBack(a.a5,0,a.a5,0),f.emplaceBack(0,a.a5,0,a.a5),f.emplaceBack(a.a5,a.a5,a.a5,a.a5),this.rasterBoundsBuffer=r.createVertexBuffer(f,Q_.members),this.rasterBoundsSegments=a.aX.simpleSegment(0,0,4,2);let v=new a.aW;v.emplaceBack(0,0),v.emplaceBack(a.a5,0),v.emplaceBack(0,a.a5),v.emplaceBack(a.a5,a.a5),this.rasterBoundsBufferPosOnly=r.createVertexBuffer(v,gs.members),this.rasterBoundsSegmentsPosOnly=a.aX.simpleSegment(0,0,4,5);let w=new a.aW;w.emplaceBack(0,0),w.emplaceBack(1,0),w.emplaceBack(0,1),w.emplaceBack(1,1),this.viewportBuffer=r.createVertexBuffer(w,gs.members),this.viewportSegments=a.aX.simpleSegment(0,0,4,2);let k=new a.ci;k.emplaceBack(0),k.emplaceBack(1),k.emplaceBack(3),k.emplaceBack(2),k.emplaceBack(0),this.tileBorderIndexBuffer=r.createIndexBuffer(k);let P=new a.aY;P.emplaceBack(1,0,2),P.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=r.createIndexBuffer(P);let F=this.context.gl;this.stencilClearMode=new Hi({func:F.ALWAYS,mask:0},0,255,F.ZERO,F.ZERO,F.ZERO),this.tileExtentMesh=new gn(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){let r=this.context,d=r.gl;this.nextStencilID=1,this.currentStencilSource=void 0;let h=a.N();a.c7(h,0,this.width,this.height,0,0,1),a.Q(h,h,[d.drawingBufferWidth,d.drawingBufferHeight,0]);let f={mainMatrix:h,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:h};this.useProgram("clippingMask",null,!0).draw(r,d.TRIANGLES,wi.disabled,this.stencilClearMode,_n.disabled,Ri.disabled,null,null,f,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(r,d,h){if(this.currentStencilSource===r.source||!r.isTileClipped()||!d||!d.length)return;this.currentStencilSource=r.source,this.nextStencilID+d.length>256&&this.clearStencil();let f=this.context;f.setColorMode(_n.disabled),f.setDepthMode(wi.disabled);let v={};for(let w of d)v[w.key]=this.nextStencilID++;this._renderTileMasks(v,d,h,!0),this._renderTileMasks(v,d,h,!1),this._tileClippingMaskIDs=v}_renderTileMasks(r,d,h,f){let v=this.context,w=v.gl,k=this.style.projection,P=this.transform,F=this.useProgram("clippingMask");for(let B of d){let j=r[B.key],H=this.style.map.terrain&&this.style.map.terrain.getTerrainData(B),W=k.getMeshFromTileID(this.context,B.canonical,f,!0,"stencil"),ne=P.getProjectionData({overscaledTileID:B,applyGlobeMatrix:!h,applyTerrainMatrix:!0});F.draw(v,w.TRIANGLES,wi.disabled,new Hi({func:w.ALWAYS,mask:0},j,255,w.KEEP,w.KEEP,w.REPLACE),_n.disabled,h?Ri.disabled:Ri.backCCW,null,H,ne,"$clipping",W.vertexBuffer,W.indexBuffer,W.segments)}}_renderTilesDepthBuffer(){let r=this.context,d=r.gl,h=this.style.projection,f=this.transform,v=this.useProgram("depth"),w=this.getDepthModeFor3D(),k=Wn(f,{tileSize:f.tileSize});for(let P of k){let F=this.style.map.terrain&&this.style.map.terrain.getTerrainData(P),B=h.getMeshFromTileID(this.context,P.canonical,!0,!0,"raster"),j=f.getProjectionData({overscaledTileID:P,applyGlobeMatrix:!0,applyTerrainMatrix:!0});v.draw(r,d.TRIANGLES,w,Hi.disabled,_n.disabled,Ri.backCCW,null,F,j,"$clipping",B.vertexBuffer,B.indexBuffer,B.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();let r=this.nextStencilID++,d=this.context.gl;return new Hi({func:d.NOTEQUAL,mask:255},r,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(r){let d=this.context.gl;return new Hi({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[r.key],0,d.KEEP,d.KEEP,d.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(r){let d=this.context.gl,h=r.sort((w,k)=>k.overscaledZ-w.overscaledZ),f=h[h.length-1].overscaledZ,v=h[0].overscaledZ-f+1;if(v>1){this.currentStencilSource=void 0,this.nextStencilID+v>256&&this.clearStencil();let w={};for(let k=0;k<v;k++)w[k+f]=new Hi({func:d.GEQUAL,mask:255},k+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=v,[w,h]}return[{[f]:Hi.disabled},h]}stencilConfigForOverlapTwoPass(r){let d=this.context.gl,h=r.sort((w,k)=>k.overscaledZ-w.overscaledZ),f=h[h.length-1].overscaledZ,v=h[0].overscaledZ-f+1;if(this.clearStencil(),v>1){let w={},k={};for(let P=0;P<v;P++)w[P+f]=new Hi({func:d.GREATER,mask:255},v+1+P,255,d.KEEP,d.KEEP,d.REPLACE),k[P+f]=new Hi({func:d.GREATER,mask:255},1+P,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID=2*v+1,[w,k,h]}return this.nextStencilID=3,[{[f]:new Hi({func:d.GREATER,mask:255},2,255,d.KEEP,d.KEEP,d.REPLACE)},{[f]:new Hi({func:d.GREATER,mask:255},1,255,d.KEEP,d.KEEP,d.REPLACE)},h]}colorModeForRenderPass(){let r=this.context.gl;return this._showOverdrawInspector?new _n([r.CONSTANT_COLOR,r.ONE],new a.bp(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?_n.unblended:_n.alphaBlended}getDepthModeForSublayer(r,d,h){if(!this.opaquePassEnabledForLayer())return wi.disabled;let f=1-((1+this.currentLayer)*this.numSublayers+r)*this.depthEpsilon;return new wi(h||this.context.gl.LEQUAL,d,[f,f])}getDepthModeFor3D(){return new wi(this.context.gl.LEQUAL,wi.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(r,d){var h,f;this.style=r,this.options=d,this.lineAtlas=r.lineAtlas,this.imageManager=r.imageManager,this.glyphManager=r.glyphManager,this.symbolFadeChange=r.placement.symbolFadeChange(oe()),this.imageManager.beginFrame();let v=this.style._order,w=this.style.tileManagers,k={},P={},F={},B={isRenderingToTexture:!1,isRenderingGlobe:((h=r.projection)===null||h===void 0?void 0:h.transitionState)>0};for(let H in w){let W=w[H];W.used&&W.prepare(this.context),k[H]=W.getVisibleCoordinates(!1),P[H]=k[H].slice().reverse(),F[H]=W.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let H=0;H<v.length;H++)if(this.style._layers[v[H]].is3D()){this.opaquePassCutoff=H;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(let H of v){let W=this.style._layers[H];if(!W.hasOffscreenPass()||W.isHidden(this.transform.zoom))continue;let ne=P[W.source];(W.type==="custom"||ne.length)&&this.renderLayer(this,w[W.source],W,ne,B)}if((f=this.style.projection)===null||f===void 0||f.updateGPUdependent({context:this.context,useProgram:H=>this.useProgram(H)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:d.showOverdrawInspector?a.bp.black:a.bp.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(H,W){let ne=H.context,he=ne.gl,fe=((Pe,Ie,Oe)=>{let Ye=Math.cos(Ie.rollInRadians),je=Math.sin(Ie.rollInRadians),Ue=un(Ie),$e=Ie.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:Pe.properties.get("sky-color"),u_horizon_color:Pe.properties.get("horizon-color"),u_horizon:[(Ie.width/2-Ue*je)*Oe,(Ie.height/2+Ue*Ye)*Oe],u_horizon_normal:[-je,Ye],u_sky_horizon_blend:Pe.properties.get("sky-horizon-blend")*Ie.height/2*Oe,u_sky_blend:$e}})(W,H.style.map.transform,H.pixelRatio),me=new wi(he.LEQUAL,wi.ReadWrite,[0,1]),be=Hi.disabled,Me=H.colorModeForRenderPass(),_e=H.useProgram("sky"),Se=Sh(ne,W);_e.draw(ne,he.TRIANGLES,me,be,Me,Ri.disabled,fe,null,void 0,"sky",Se.vertexBuffer,Se.indexBuffer,Se.segments)}(this,this.style.sky),this._showOverdrawInspector=d.showOverdrawInspector,this.depthRangeFor3D=[0,1-(r._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=v.length-1;this.currentLayer>=0;this.currentLayer--){let H=this.style._layers[v[this.currentLayer]],W=w[H.source],ne=k[H.source];this._renderTileClippingMasks(H,ne,!1),this.renderLayer(this,W,H,ne,B)}this.renderPass="translucent";let j=!1;for(this.currentLayer=0;this.currentLayer<v.length;this.currentLayer++){let H=this.style._layers[v[this.currentLayer]],W=w[H.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(H,B))continue;this.opaquePassEnabledForLayer()||j||(j=!0,B.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());let ne=(H.type==="symbol"?F:P)[H.source];this._renderTileClippingMasks(H,k[H.source],!!this.renderToTexture),this.renderLayer(this,W,H,ne,B)}if(B.isRenderingGlobe&&function(H,W,ne){let he=H.context,fe=he.gl,me=H.useProgram("atmosphere"),be=new wi(fe.LEQUAL,wi.ReadOnly,[0,1]),Me=H.transform,_e=function($e,Tt){let Ct=$e.properties.get("position"),pt=[-Ct.x,-Ct.y,-Ct.z],kt=a.ar(new Float64Array(16));return $e.properties.get("anchor")==="map"&&(a.bg(kt,kt,Tt.rollInRadians),a.bh(kt,kt,-Tt.pitchInRadians),a.bg(kt,kt,Tt.bearingInRadians),a.bh(kt,kt,Tt.center.lat*Math.PI/180),a.bJ(kt,kt,-Tt.center.lng*Math.PI/180)),a.cg(pt,pt,kt),pt}(ne,H.transform),Se=Me.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),Pe=W.properties.get("atmosphere-blend")*Se.projectionTransition;if(Pe===0)return;let Ie=Ws(Me.worldSize,Me.center.lat),Oe=Me.inverseProjectionMatrix,Ye=new Float64Array(4);Ye[3]=1,a.aH(Ye,Ye,Me.modelViewProjectionMatrix),Ye[0]/=Ye[3],Ye[1]/=Ye[3],Ye[2]/=Ye[3],Ye[3]=1,a.aH(Ye,Ye,Oe),Ye[0]/=Ye[3],Ye[1]/=Ye[3],Ye[2]/=Ye[3],Ye[3]=1;let je=(($e,Tt,Ct,pt,kt)=>({u_sun_pos:$e,u_atmosphere_blend:Tt,u_globe_position:Ct,u_globe_radius:pt,u_inv_proj_matrix:kt}))(_e,Pe,[Ye[0],Ye[1],Ye[2]],Ie,Oe),Ue=Sh(he,W);me.draw(he,fe.TRIANGLES,be,Hi.disabled,_n.alphaBlended,Ri.disabled,je,null,null,"atmosphere",Ue.vertexBuffer,Ue.indexBuffer,Ue.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){let H=function(W,ne){let he=null,fe=Object.values(W._layers).flatMap(_e=>_e.source&&!_e.isHidden(ne)?[W.tileManagers[_e.source]]:[]),me=fe.filter(_e=>_e.getSource().type==="vector"),be=fe.filter(_e=>_e.getSource().type!=="vector"),Me=_e=>{(!he||he.getSource().maxzoom<_e.getSource().maxzoom)&&(he=_e)};return me.forEach(_e=>Me(_e)),he||be.forEach(_e=>Me(_e)),he}(this.style,this.transform.zoom);H&&function(W,ne,he){for(let fe=0;fe<he.length;fe++)zf(W,ne,he[fe])}(this,H,H.getVisibleCoordinates())}this.options.showPadding&&function(H){let W=H.transform.padding;Ih(H,H.transform.height-(W.top||0),3,Af),Ih(H,W.bottom||0,3,Of),Th(H,W.left||0,3,Ff),Th(H,H.transform.width-(W.right||0),3,Vf);let ne=H.transform.centerPoint;(function(he,fe,me,be){md(he,fe-1,me-10,2,20,be),md(he,fe-10,me-1,20,2,be)})(H,ne.x,H.transform.height-ne.y,xs)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(r){if(!this.style||!this.style.map||!this.style.map.terrain)return;let d=this.terrainFacilitator.matrix,h=this.transform.modelViewProjectionMatrix,f=this.terrainFacilitator.dirty;f||(f=r?!a.cj(d,h):!a.ck(d,h)),f||(f=this.style.map.terrain.tileManager.anyTilesAfterTime(this.terrainFacilitator.renderTime)),f&&(a.cl(d,h),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(v,w){let k=v.context,P=k.gl,F=v.transform,B=_n.unblended,j=new wi(P.LEQUAL,wi.ReadWrite,[0,1]),H=w.tileManager.getRenderableTiles(),W=v.useProgram("terrainDepth");k.bindFramebuffer.set(w.getFramebuffer("depth").framebuffer),k.viewport.set([0,0,v.width/devicePixelRatio,v.height/devicePixelRatio]),k.clear({color:a.bp.transparent,depth:1});for(let ne of H){let he=w.getTerrainMesh(ne.tileID),fe=w.getTerrainData(ne.tileID),me=F.getProjectionData({overscaledTileID:ne.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),be={u_ele_delta:w.getMeshFrameDelta(F.zoom)};W.draw(k,P.TRIANGLES,j,Hi.disabled,B,Ri.backCCW,be,fe,me,"terrain",he.vertexBuffer,he.indexBuffer,he.segments)}k.bindFramebuffer.set(null),k.viewport.set([0,0,v.width,v.height])}(this,this.style.map.terrain),function(v,w){let k=v.context,P=k.gl,F=v.transform,B=_n.unblended,j=new wi(P.LEQUAL,wi.ReadWrite,[0,1]),H=w.getCoordsTexture(),W=w.tileManager.getRenderableTiles(),ne=v.useProgram("terrainCoords");k.bindFramebuffer.set(w.getFramebuffer("coords").framebuffer),k.viewport.set([0,0,v.width/devicePixelRatio,v.height/devicePixelRatio]),k.clear({color:a.bp.transparent,depth:1}),w.coordsIndex=[];for(let he of W){let fe=w.getTerrainMesh(he.tileID),me=w.getTerrainData(he.tileID);k.activeTexture.set(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,H.texture);let be={u_terrain_coords_id:(255-w.coordsIndex.length)/255,u_texture:0,u_ele_delta:w.getMeshFrameDelta(F.zoom)},Me=F.getProjectionData({overscaledTileID:he.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});ne.draw(k,P.TRIANGLES,j,Hi.disabled,B,Ri.backCCW,be,me,Me,"terrain",fe.vertexBuffer,fe.indexBuffer,fe.segments),w.coordsIndex.push(he.tileID.key)}k.bindFramebuffer.set(null),k.viewport.set([0,0,v.width,v.height])}(this,this.style.map.terrain))}renderLayer(r,d,h,f,v){h.isHidden(this.transform.zoom)||(h.type==="background"||h.type==="custom"||(f||[]).length)&&(this.id=h.id,a.cm(h)?function(w,k,P,F,B,j){if(w.renderPass!=="translucent")return;let{isRenderingToTexture:H}=j,W=Hi.disabled,ne=w.colorModeForRenderPass();(P._unevaluatedLayout.hasValue("text-variable-anchor")||P._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(he,fe,me,be,Me,_e,Se,Pe,Ie){let Oe=fe.transform,Ye=fe.style.map.terrain,je=Me==="map",Ue=_e==="map";for(let $e of he){let Tt=be.getTile($e),Ct=Tt.getBucket(me);if(!Ct||!Ct.text||!Ct.text.segments.get().length)continue;let pt=a.ay(Ct.textSizeData,Oe.zoom),kt=a.aN(Tt,1,fe.transform.zoom),yi=No(je,fe.transform,kt),on=me.layout.get("icon-text-fit")!=="none"&&Ct.hasIconData();if(pt){let Mn=Math.pow(2,Oe.zoom-Tt.tileID.overscaledZ),bn=Ye?(Ln,yn)=>Ye.getElevation($e,Ln,yn):null;c1(Ct,je,Ue,Ie,Oe,yi,Mn,pt,on,a.aO(Oe,Tt,Se,Pe),$e.toUnwrapped(),bn)}}}(F,w,P,k,P.layout.get("text-rotation-alignment"),P.layout.get("text-pitch-alignment"),P.paint.get("text-translate"),P.paint.get("text-translate-anchor"),B),P.paint.get("icon-opacity").constantOr(1)!==0&&dd(w,k,P,F,!1,P.paint.get("icon-translate"),P.paint.get("icon-translate-anchor"),P.layout.get("icon-rotation-alignment"),P.layout.get("icon-pitch-alignment"),P.layout.get("icon-keep-upright"),W,ne,H),P.paint.get("text-opacity").constantOr(1)!==0&&dd(w,k,P,F,!0,P.paint.get("text-translate"),P.paint.get("text-translate-anchor"),P.layout.get("text-rotation-alignment"),P.layout.get("text-pitch-alignment"),P.layout.get("text-keep-upright"),W,ne,H),k.map.showCollisionBoxes&&(el(w,k,P,F,!0),el(w,k,P,F,!1))}(r,d,h,f,this.style.placement.variableOffsets,v):a.cn(h)?function(w,k,P,F,B){if(w.renderPass!=="translucent")return;let{isRenderingToTexture:j}=B,H=P.paint.get("circle-opacity"),W=P.paint.get("circle-stroke-width"),ne=P.paint.get("circle-stroke-opacity"),he=!P.layout.get("circle-sort-key").isConstant();if(H.constantOr(1)===0&&(W.constantOr(1)===0||ne.constantOr(1)===0))return;let fe=w.context,me=fe.gl,be=w.transform,Me=w.getDepthModeForSublayer(0,wi.ReadOnly),_e=Hi.disabled,Se=w.colorModeForRenderPass(),Pe=[],Ie=be.getCircleRadiusCorrection();for(let Oe=0;Oe<F.length;Oe++){let Ye=F[Oe],je=k.getTile(Ye),Ue=je.getBucket(P);if(!Ue)continue;let $e=P.paint.get("circle-translate"),Tt=P.paint.get("circle-translate-anchor"),Ct=a.aO(be,je,$e,Tt),pt=Ue.programConfigurations.get(P.id),kt=w.useProgram("circle",pt),yi=Ue.layoutVertexBuffer,on=Ue.indexBuffer,Mn=w.style.map.terrain&&w.style.map.terrain.getTerrainData(Ye),bn={programConfiguration:pt,program:kt,layoutVertexBuffer:yi,indexBuffer:on,uniformValues:hf(w,je,P,Ct,Ie),terrainData:Mn,projectionData:be.getProjectionData({overscaledTileID:Ye,applyGlobeMatrix:!j,applyTerrainMatrix:!0})};if(he){let Ln=Ue.segments.get();for(let yn of Ln)Pe.push({segments:new a.aX([yn]),sortKey:yn.sortKey,state:bn})}else Pe.push({segments:Ue.segments,sortKey:0,state:bn})}he&&Pe.sort((Oe,Ye)=>Oe.sortKey-Ye.sortKey);for(let Oe of Pe){let{programConfiguration:Ye,program:je,layoutVertexBuffer:Ue,indexBuffer:$e,uniformValues:Tt,terrainData:Ct,projectionData:pt}=Oe.state;je.draw(fe,me.TRIANGLES,Me,_e,Se,Ri.backCCW,Tt,Ct,pt,P.id,Ue,$e,Oe.segments,P.paint,w.transform.zoom,Ye)}}(r,d,h,f,v):a.co(h)?function(w,k,P,F,B){if(P.paint.get("heatmap-opacity")===0)return;let j=w.context,{isRenderingToTexture:H,isRenderingGlobe:W}=B;if(w.style.map.terrain){for(let ne of F){let he=k.getTile(ne);k.hasRenderableParent(ne)||(w.renderPass==="offscreen"?kf(w,he,P,ne,W):w.renderPass==="translucent"&&Ef(w,P,ne,H,W))}j.viewport.set([0,0,w.width,w.height])}else w.renderPass==="offscreen"?function(ne,he,fe,me){let be=ne.context,Me=be.gl,_e=ne.transform,Se=Hi.disabled,Pe=new _n([Me.ONE,Me.ONE],a.bp.transparent,[!0,!0,!0,!0]);(function(Ie,Oe,Ye){let je=Ie.gl;Ie.activeTexture.set(je.TEXTURE1),Ie.viewport.set([0,0,Oe.width/4,Oe.height/4]);let Ue=Ye.heatmapFbos.get(a.cd);Ue?(je.bindTexture(je.TEXTURE_2D,Ue.colorAttachment.get()),Ie.bindFramebuffer.set(Ue.framebuffer)):(Ue=ud(Ie,Oe.width/4,Oe.height/4),Ye.heatmapFbos.set(a.cd,Ue))})(be,ne,fe),be.clear({color:a.bp.transparent});for(let Ie=0;Ie<me.length;Ie++){let Oe=me[Ie];if(he.hasRenderableParent(Oe))continue;let Ye=he.getTile(Oe),je=Ye.getBucket(fe);if(!je)continue;let Ue=je.programConfigurations.get(fe.id),$e=ne.useProgram("heatmap",Ue),Tt=_e.getProjectionData({overscaledTileID:Oe,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),Ct=_e.getCircleRadiusCorrection();$e.draw(be,Me.TRIANGLES,wi.disabled,Se,Pe,Ri.backCCW,Nl(Ye,_e.zoom,fe.paint.get("heatmap-intensity"),Ct),null,Tt,fe.id,je.layoutVertexBuffer,je.indexBuffer,je.segments,fe.paint,_e.zoom,Ue)}be.viewport.set([0,0,ne.width,ne.height])}(w,k,P,F):w.renderPass==="translucent"&&function(ne,he){let fe=ne.context,me=fe.gl;fe.setColorMode(ne.colorModeForRenderPass());let be=he.heatmapFbos.get(a.cd);be&&(fe.activeTexture.set(me.TEXTURE0),me.bindTexture(me.TEXTURE_2D,be.colorAttachment.get()),fe.activeTexture.set(me.TEXTURE1),Mu(fe,he).bind(me.LINEAR,me.CLAMP_TO_EDGE),ne.useProgram("heatmapTexture").draw(fe,me.TRIANGLES,wi.disabled,Hi.disabled,ne.colorModeForRenderPass(),Ri.disabled,ff(ne,he,0,1),null,null,he.id,ne.viewportBuffer,ne.quadTriangleIndexBuffer,ne.viewportSegments,he.paint,ne.transform.zoom))}(w,P)}(r,d,h,f,v):a.cp(h)?function(w,k,P,F,B){if(w.renderPass!=="translucent")return;let{isRenderingToTexture:j}=B,H=P.paint.get("line-opacity"),W=P.paint.get("line-width");if(H.constantOr(1)===0||W.constantOr(1)===0)return;let ne=w.getDepthModeForSublayer(0,wi.ReadOnly),he=w.colorModeForRenderPass(),fe=P.paint.get("line-dasharray"),me=fe.constantOr(1),be=P.paint.get("line-pattern"),Me=be.constantOr(1),_e=P.paint.get("line-gradient"),Se=P.getCrossfadeParameters(),Pe;Pe=Me?"linePattern":me&&_e?"lineGradientSDF":me?"lineSDF":_e?"lineGradient":"line";let Ie=w.context,Oe=Ie.gl,Ye=w.transform,je=!0;for(let Ue of F){let $e=k.getTile(Ue);if(Me&&!$e.patternsLoaded())continue;let Tt=$e.getBucket(P);if(!Tt)continue;let Ct=Tt.programConfigurations.get(P.id),pt=w.context.program.get(),kt=w.useProgram(Pe,Ct),yi=je||kt.program!==pt,on=w.style.map.terrain&&w.style.map.terrain.getTerrainData(Ue),Mn=be.constantOr(null),bn=fe&&fe.constantOr(null);if(Mn&&$e.imageAtlas){let za=$e.imageAtlas,fa=za.patternPositions[Mn.to.toString()],ca=za.patternPositions[Mn.from.toString()];fa&&ca&&Ct.setConstantPatternPositions(fa,ca)}else if(bn){let za=P.layout.get("line-cap")==="round",fa=w.lineAtlas.getDash(bn.to,za),ca=w.lineAtlas.getDash(bn.from,za);Ct.setConstantDashPositions(fa,ca)}let Ln=Ye.getProjectionData({overscaledTileID:Ue,applyGlobeMatrix:!j,applyTerrainMatrix:!0}),yn=Ye.getPixelScale(),Xn;Me?(Xn=uh(w,$e,P,yn,Se),Df(Ie,Oe,$e,Ct,Se)):me&&_e?(Xn=hu(w,$e,P,yn,Se,Tt.lineClipsArray.length),Ho(w,k,Ie,Oe,P,Tt,Ue,Ct,Se)):me?(Xn=bf(w,$e,P,yn,Se),sa(w,Ie,Oe,Ct,yi,Se)):_e?(Xn=_f(w,$e,P,yn,Tt.lineClipsArray.length),tl(w,k,Ie,Oe,P,Tt,Ue)):Xn=ad(w,$e,P,yn);let An=w.stencilModeForClipping(Ue);kt.draw(Ie,Oe.TRIANGLES,ne,An,he,Ri.disabled,Xn,on,Ln,P.id,Tt.layoutVertexBuffer,Tt.indexBuffer,Tt.segments,P.paint,w.transform.zoom,Ct,Tt.layoutVertexBuffer2),je=!1}}(r,d,h,f,v):a.cq(h)?function(w,k,P,F,B){let j=P.paint.get("fill-color"),H=P.paint.get("fill-opacity");if(H.constantOr(1)===0)return;let{isRenderingToTexture:W}=B,ne=w.colorModeForRenderPass(),he=P.paint.get("fill-pattern"),fe=w.opaquePassEnabledForLayer()&&!he.constantOr(1)&&j.constantOr(a.bp.transparent).a===1&&H.constantOr(0)===1?"opaque":"translucent";if(w.renderPass===fe){let me=w.getDepthModeForSublayer(1,w.renderPass==="opaque"?wi.ReadWrite:wi.ReadOnly);pd(w,k,P,F,me,ne,!1,W)}if(w.renderPass==="translucent"&&P.paint.get("fill-antialias")){let me=w.getDepthModeForSublayer(P.getPaintProperty("fill-outline-color")?2:0,wi.ReadOnly);pd(w,k,P,F,me,ne,!0,W)}}(r,d,h,f,v):a.cr(h)?function(w,k,P,F,B){let j=P.paint.get("fill-extrusion-opacity");if(j===0)return;let{isRenderingToTexture:H}=B;if(w.renderPass==="translucent"){let W=new wi(w.context.gl.LEQUAL,wi.ReadWrite,w.depthRangeFor3D);if(j!==1||P.paint.get("fill-extrusion-pattern").constantOr(1))Eu(w,k,P,F,W,Hi.disabled,_n.disabled,H),Eu(w,k,P,F,W,w.stencilModeFor3D(),w.colorModeForRenderPass(),H);else{let ne=w.colorModeForRenderPass();Eu(w,k,P,F,W,Hi.disabled,ne,H)}}}(r,d,h,f,v):a.cs(h)?function(w,k,P,F,B){if(w.renderPass!=="offscreen"&&w.renderPass!=="translucent")return;let{isRenderingToTexture:j}=B,H=w.context,W=w.style.projection.useSubdivision,ne=w.getDepthModeForSublayer(0,wi.ReadOnly),he=w.colorModeForRenderPass();if(w.renderPass==="offscreen")(function(fe,me,be,Me,_e,Se,Pe){let Ie=fe.context,Oe=Ie.gl;for(let Ye of be){let je=me.getTile(Ye),Ue=je.dem;if(!Ue||!Ue.data||!je.needsHillshadePrepare)continue;let $e=Ue.dim,Tt=Ue.stride,Ct=Ue.getPixels();if(Ie.activeTexture.set(Oe.TEXTURE1),Ie.pixelStoreUnpackPremultiplyAlpha.set(!1),je.demTexture=je.demTexture||fe.getTileTexture(Tt),je.demTexture){let kt=je.demTexture;kt.update(Ct,{premultiply:!1}),kt.bind(Oe.NEAREST,Oe.CLAMP_TO_EDGE)}else je.demTexture=new a.T(Ie,Ct,Oe.RGBA,{premultiply:!1}),je.demTexture.bind(Oe.NEAREST,Oe.CLAMP_TO_EDGE);Ie.activeTexture.set(Oe.TEXTURE0);let pt=je.fbo;if(!pt){let kt=new a.T(Ie,{width:$e,height:$e,data:null},Oe.RGBA);kt.bind(Oe.LINEAR,Oe.CLAMP_TO_EDGE),pt=je.fbo=Ie.createFramebuffer($e,$e,!0,!1),pt.colorAttachment.set(kt.texture)}Ie.bindFramebuffer.set(pt.framebuffer),Ie.viewport.set([0,0,$e,$e]),fe.useProgram("hillshadePrepare").draw(Ie,Oe.TRIANGLES,_e,Se,Pe,Ri.disabled,Y_(je.tileID,Ue),null,null,Me.id,fe.rasterBoundsBuffer,fe.quadTriangleIndexBuffer,fe.rasterBoundsSegments),je.needsHillshadePrepare=!1}})(w,k,F,P,ne,Hi.disabled,he),H.viewport.set([0,0,w.width,w.height]);else if(w.renderPass==="translucent")if(W){let[fe,me,be]=w.stencilConfigForOverlapTwoPass(F);vs(w,k,P,be,fe,ne,he,!1,j),vs(w,k,P,be,me,ne,he,!0,j)}else{let[fe,me]=w.getStencilConfigForOverlapAndUpdateStencilID(F);vs(w,k,P,me,fe,ne,he,!1,j)}}(r,d,h,f,v):a.ct(h)?function(w,k,P,F,B){if(w.renderPass!=="translucent"||!F.length)return;let{isRenderingToTexture:j}=B,H=w.style.projection.useSubdivision,W=w.getDepthModeForSublayer(0,wi.ReadOnly),ne=w.colorModeForRenderPass();if(H){let[he,fe,me]=w.stencilConfigForOverlapTwoPass(F);hd(w,k,P,me,he,W,ne,!1,j),hd(w,k,P,me,fe,W,ne,!0,j)}else{let[he,fe]=w.getStencilConfigForOverlapAndUpdateStencilID(F);hd(w,k,P,fe,he,W,ne,!1,j)}}(r,d,h,f,v):a.bU(h)?function(w,k,P,F,B){if(w.renderPass!=="translucent"||P.paint.get("raster-opacity")===0||!F.length)return;let{isRenderingToTexture:j}=B,H=k.getSource(),W=w.style.projection.useSubdivision;if(H instanceof Io)Ul(w,k,P,F,null,!1,!1,H.tileCoords,H.flippedWindingOrder,j);else if(W){let[ne,he,fe]=w.stencilConfigForOverlapTwoPass(F);Ul(w,k,P,fe,ne,!1,!0,il,!1,j),Ul(w,k,P,fe,he,!0,!0,il,!1,j)}else{let[ne,he]=w.getStencilConfigForOverlapAndUpdateStencilID(F);Ul(w,k,P,he,ne,!1,!0,il,!1,j)}}(r,d,h,f,v):a.cu(h)?function(w,k,P,F,B){let j=P.paint.get("background-color"),H=P.paint.get("background-opacity");if(H===0)return;let{isRenderingToTexture:W}=B,ne=w.context,he=ne.gl,fe=w.style.projection,me=w.transform,be=me.tileSize,Me=P.paint.get("background-pattern");if(w.isPatternMissing(Me))return;let _e=!Me&&j.a===1&&H===1&&w.opaquePassEnabledForLayer()?"opaque":"translucent";if(w.renderPass!==_e)return;let Se=Hi.disabled,Pe=w.getDepthModeForSublayer(0,_e==="opaque"?wi.ReadWrite:wi.ReadOnly),Ie=w.colorModeForRenderPass(),Oe=w.useProgram(Me?"backgroundPattern":"background"),Ye=F||Wn(me,{tileSize:be,terrain:w.style.map.terrain});Me&&(ne.activeTexture.set(he.TEXTURE0),w.imageManager.bind(w.context));let je=P.getCrossfadeParameters();for(let Ue of Ye){let $e=me.getProjectionData({overscaledTileID:Ue,applyGlobeMatrix:!W,applyTerrainMatrix:!0}),Tt=Me?e1(H,w,Me,{tileID:Ue,tileSize:be},je):fh(H,j),Ct=w.style.map.terrain&&w.style.map.terrain.getTerrainData(Ue),pt=fe.getMeshFromTileID(ne,Ue.canonical,!1,!0,"raster");Oe.draw(ne,he.TRIANGLES,Pe,Se,Ie,Ri.backCCW,Tt,Ct,$e,P.id,pt.vertexBuffer,pt.indexBuffer,pt.segments)}}(r,0,h,f,v):a.cv(h)&&function(w,k,P,F){let{isRenderingGlobe:B}=F,j=w.context,H=P.implementation,W=w.style.projection,ne=w.transform,he=ne.getProjectionDataForCustomLayer(B),fe={farZ:ne.farZ,nearZ:ne.nearZ,fov:ne.fov*Math.PI/180,modelViewProjectionMatrix:ne.modelViewProjectionMatrix,projectionMatrix:ne.projectionMatrix,shaderData:{variantName:W.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${W.shaderPreludeCode.vertexSource}`,define:W.shaderDefine},defaultProjectionData:he},me=H.renderingMode?H.renderingMode:"2d";if(w.renderPass==="offscreen"){let be=H.prerender;be&&(w.setCustomLayerDefaults(),j.setColorMode(w.colorModeForRenderPass()),be.call(H,j.gl,fe),j.setDirty(),w.setBaseState())}else if(w.renderPass==="translucent"){w.setCustomLayerDefaults(),j.setColorMode(w.colorModeForRenderPass()),j.setStencilMode(Hi.disabled);let be=me==="3d"?w.getDepthModeFor3D():w.getDepthModeForSublayer(0,wi.ReadOnly);j.setDepthMode(be),H.render(j.gl,fe),j.setDirty(),w.setBaseState(),j.bindFramebuffer.set(null)}}(r,0,h,v))}saveTileTexture(r){let d=this._tileTextures[r.size[0]];d?d.push(r):this._tileTextures[r.size[0]]=[r]}getTileTexture(r){let d=this._tileTextures[r];return d&&d.length>0?d.pop():null}isPatternMissing(r){if(!r)return!1;if(!r.from||!r.to)return!0;let d=this.imageManager.getPattern(r.from.toString()),h=this.imageManager.getPattern(r.to.toString());return!d||!h}useProgram(r,d,h=!1,f=[]){this.cache=this.cache||{};let v=!!this.style.map.terrain,w=this.style.projection,k=h?zn.projectionMercator:w.shaderPreludeCode,P=h?ho:w.shaderDefine,F=r+(d?d.cacheKey:"")+`/${h?qo:w.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(v?"/terrain":"")+(f?`/${f.join("/")}`:"");return this.cache[F]||(this.cache[F]=new cf(this.context,zn[r],d,t1[r],this._showOverdrawInspector,v,k,P,f)),this.cache[F]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){let r=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(r.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new a.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){var r,d;if(this._tileTextures){for(let h in this._tileTextures){let f=this._tileTextures[h];if(f)for(let v of f)v.destroy()}this._tileTextures={}}if(this.tileExtentBuffer&&this.tileExtentBuffer.destroy(),this.debugBuffer&&this.debugBuffer.destroy(),this.rasterBoundsBuffer&&this.rasterBoundsBuffer.destroy(),this.rasterBoundsBufferPosOnly&&this.rasterBoundsBufferPosOnly.destroy(),this.viewportBuffer&&this.viewportBuffer.destroy(),this.tileBorderIndexBuffer&&this.tileBorderIndexBuffer.destroy(),this.quadTriangleIndexBuffer&&this.quadTriangleIndexBuffer.destroy(),this.tileExtentMesh&&((r=this.tileExtentMesh.vertexBuffer)===null||r===void 0||r.destroy()),this.tileExtentMesh&&((d=this.tileExtentMesh.indexBuffer)===null||d===void 0||d.destroy()),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.cache){for(let h in this.cache){let f=this.cache[h];f&&f.program&&this.context.gl.deleteProgram(f.program)}this.cache={}}this.context&&this.context.setDefault()}overLimit(){let{drawingBufferWidth:r,drawingBufferHeight:d}=this.context.gl;return this.width!==r||this.height!==d}}function Mh(y,r){let d,h=!1,f=null,v=null,w=()=>{f=null,h&&(y.apply(v,d),f=setTimeout(w,r),h=!1)};return(...k)=>(h=!0,v=this,d=k,f||w(),f)}class kh{constructor(r){this._getCurrentHash=()=>{let d=window.location.hash.replace("#","");if(this._hashName){let h;return d.split("&").map(f=>f.split("=")).forEach(f=>{f[0]===this._hashName&&(h=f)}),(h&&h[1]||"").split("/")}return d.split("/")},this._onHashChange=()=>{let d=this._getCurrentHash();if(!this._isValidHash(d))return!1;let h=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(d[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:h,pitch:+(d[4]||0)}),!0},this._updateHashUnthrottled=()=>{let d=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,d)},this._removeHash=()=>{let d=this._getCurrentHash();if(d.length===0)return;let h=d.join("/"),f=h;f.split("&").length>0&&(f=f.split("&")[0]),this._hashName&&(f=`${this._hashName}=${h}`);let v=window.location.hash.replace(f,"");v.startsWith("#&")?v=v.slice(0,1)+v.slice(2):v==="#"&&(v="");let w=window.location.href.replace(/(#.+)?$/,v);w=w.replace("&&","&"),window.history.replaceState(window.history.state,null,w)},this._updateHash=Mh(this._updateHashUnthrottled,300),this._hashName=r&&encodeURIComponent(r)}addTo(r){return this._map=r,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(r){let d=this._map.getCenter(),h=Math.round(100*this._map.getZoom())/100,f=Math.ceil((h*Math.LN2+Math.log(512/360/.5))/Math.LN10),v=Math.pow(10,f),w=Math.round(d.lng*v)/v,k=Math.round(d.lat*v)/v,P=this._map.getBearing(),F=this._map.getPitch(),B="";if(B+=r?`/${w}/${k}/${h}`:`${h}/${k}/${w}`,(P||F)&&(B+="/"+Math.round(10*P)/10),F&&(B+=`/${Math.round(F)}`),this._hashName){let j=this._hashName,H=!1,W=window.location.hash.slice(1).split("&").map(ne=>{let he=ne.split("=")[0];return he===j?(H=!0,`${he}=${B}`):ne}).filter(ne=>ne);return H||W.push(`${j}=${B}`),`#${W.join("&")}`}return`#${B}`}_isValidHash(r){if(r.length<3||r.some(isNaN))return!1;try{new a.V(+r[2],+r[1])}catch{return!1}let d=+r[0],h=+(r[3]||0),f=+(r[4]||0);return d>=this._map.getMinZoom()&&d<=this._map.getMaxZoom()&&h>=-180&&h<=180&&f>=this._map.getMinPitch()&&f<=this._map.getMaxPitch()}}let ws={linearity:.3,easing:a.cw(0,0,.3,1)},Bf=a.e({deceleration:2500,maxSpeed:1400},ws),Jo=a.e({deceleration:20,maxSpeed:1400},ws),vr=a.e({deceleration:1e3,maxSpeed:360},ws),Nf=a.e({deceleration:1e3,maxSpeed:90},ws),xr=a.e({deceleration:1e3,maxSpeed:360},ws);class d1{constructor(r){this._map=r,this.clear()}clear(){this._inertiaBuffer=[]}record(r){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:oe(),settings:r})}_drainInertiaBuffer(){let r=this._inertiaBuffer,d=oe();for(;r.length>0&&d-r[0].time>160;)r.shift()}_onMoveEnd(r){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;let d={zoom:0,bearing:0,pitch:0,roll:0,pan:new a.P(0,0),pinchAround:void 0,around:void 0};for(let{settings:v}of this._inertiaBuffer)d.zoom+=v.zoomDelta||0,d.bearing+=v.bearingDelta||0,d.pitch+=v.pitchDelta||0,d.roll+=v.rollDelta||0,v.panDelta&&d.pan._add(v.panDelta),v.around&&(d.around=v.around),v.pinchAround&&(d.pinchAround=v.pinchAround);let h=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,f={};if(d.pan.mag()){let v=gd(d.pan.mag(),h,a.e({},Bf,r||{})),w=d.pan.mult(v.amount/d.pan.mag()),k=this._map.cameraHelper.handlePanInertia(w,this._map.transform);f.center=k.easingCenter,f.offset=k.easingOffset,fd(f,v)}if(d.zoom){let v=gd(d.zoom,h,Jo);f.zoom=this._map.transform.zoom+v.amount,fd(f,v)}if(d.bearing){let v=gd(d.bearing,h,vr);f.bearing=this._map.transform.bearing+a.an(v.amount,-179,179),fd(f,v)}if(d.pitch){let v=gd(d.pitch,h,Nf);f.pitch=this._map.transform.pitch+v.amount,fd(f,v)}if(d.roll){let v=gd(d.roll,h,xr);f.roll=this._map.transform.roll+a.an(v.amount,-179,179),fd(f,v)}if(f.zoom||f.bearing){let v=d.pinchAround===void 0?d.around:d.pinchAround;f.around=v?this._map.unproject(v):this._map.getCenter()}return this.clear(),a.e(f,{noMoveStart:!0})}}function fd(y,r){(!y.duration||y.duration<r.duration)&&(y.duration=r.duration,y.easing=r.easing)}function gd(y,r,d){let{maxSpeed:h,linearity:f,deceleration:v}=d,w=a.an(y*f/(r/1e3),-h,h),k=Math.abs(w)/(v*f);return{easing:d.easing,duration:1e3*k,amount:w*(k/2)}}class Va extends a.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,d,h,f={}){h=h instanceof MouseEvent?h:new MouseEvent(r,h);let v=J.mousePos(d.getCanvas(),h),w=d.unproject(v);super(r,a.e({point:v,lngLat:w,originalEvent:h},f)),this._defaultPrevented=!1,this.target=d}}class _d extends a.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,d,h){let f=r==="touchend"?h.changedTouches:h.touches,v=J.touchPos(d.getCanvasContainer(),f),w=v.map(P=>d.unproject(P)),k=v.reduce((P,F,B,j)=>P.add(F.div(j.length)),new a.P(0,0));super(r,{points:v,point:k,lngLats:w,lngLat:d.unproject(k),originalEvent:h}),this._defaultPrevented=!1}}class qf extends a.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,d,h){super(r,{originalEvent:h}),this._defaultPrevented=!1}}class u1{constructor(r,d){this._map=r,this._clickTolerance=d.clickTolerance}reset(){delete this._mousedownPos}wheel(r){return this._firePreventable(new qf(r.type,this._map,r))}mousedown(r,d){return this._mousedownPos=d,this._firePreventable(new Va(r.type,this._map,r))}mouseup(r){this._map.fire(new Va(r.type,this._map,r))}click(r,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||this._map.fire(new Va(r.type,this._map,r))}dblclick(r){return this._firePreventable(new Va(r.type,this._map,r))}mouseover(r){this._map.fire(new Va(r.type,this._map,r))}mouseout(r){this._map.fire(new Va(r.type,this._map,r))}touchstart(r){return this._firePreventable(new _d(r.type,this._map,r))}touchmove(r){this._map.fire(new _d(r.type,this._map,r))}touchend(r){this._map.fire(new _d(r.type,this._map,r))}touchcancel(r){this._map.fire(new _d(r.type,this._map,r))}_firePreventable(r){if(this._map.fire(r),r.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class p1{constructor(r){this._map=r}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(r){this._map.fire(new Va(r.type,this._map,r))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Va("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(r){this._delayContextMenu?this._contextMenuEvent=r:this._ignoreContextMenu||this._map.fire(new Va(r.type,this._map,r)),this._map.listens("contextmenu")&&r.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class $l{constructor(r){this._map=r}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(r){return this.transform.screenPointToLocation(a.P.convert(r),this._map.terrain)}}class Kl{constructor(r,d){this._map=r,this._tr=new $l(r),this._el=r.getCanvasContainer(),this._container=r.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(r,d){this.isEnabled()&&r.shiftKey&&r.button===0&&(J.disableDrag(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(r,d){if(!this._active)return;let h=d;if(this._lastPos.equals(h)||!this._box&&h.dist(this._startPos)<this._clickTolerance)return;let f=this._startPos;this._lastPos=h,this._box||(this._box=J.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",r));let v=Math.min(f.x,h.x),w=Math.max(f.x,h.x),k=Math.min(f.y,h.y),P=Math.max(f.y,h.y);J.setTransform(this._box,`translate(${v}px,${k}px)`),this._box.style.width=w-v+"px",this._box.style.height=P-k+"px"}mouseupWindow(r,d){if(!this._active||r.button!==0)return;let h=this._startPos,f=d;if(this.reset(),J.suppressClick(),h.x!==f.x||h.y!==f.y)return this._map.fire(new a.l("boxzoomend",{originalEvent:r})),{cameraAnimation:v=>v.fitScreenCoordinates(h,f,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",r)}keydown(r){this._active&&r.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",r))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(J.remove(this._box),this._box=null),J.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(r,d){return this._map.fire(new a.l(r,{originalEvent:d}))}}function wr(y,r){if(y.length!==r.length)throw new Error(`The number of touches and points are not equal - touches ${y.length}, points ${r.length}`);let d={};for(let h=0;h<y.length;h++)d[y[h].identifier]=r[h];return d}class Ht{constructor(r){this.reset(),this.numTouches=r.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(r,d,h){(this.centroid||h.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=r.timeStamp),h.length===this.numTouches&&(this.centroid=function(f){let v=new a.P(0,0);for(let w of f)v._add(w);return v.div(f.length)}(d),this.touches=wr(h,d)))}touchmove(r,d,h){if(this.aborted||!this.centroid)return;let f=wr(h,d);for(let v in this.touches){let w=f[v];(!w||w.dist(this.touches[v])>30)&&(this.aborted=!0)}}touchend(r,d,h){if((!this.centroid||r.timeStamp-this.startTime>500)&&(this.aborted=!0),h.length===0){let f=!this.aborted&&this.centroid;if(this.reset(),f)return f}}}class Pu{constructor(r){this.singleTap=new Ht(r),this.numTaps=r.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(r,d,h){this.singleTap.touchstart(r,d,h)}touchmove(r,d,h){this.singleTap.touchmove(r,d,h)}touchend(r,d,h){let f=this.singleTap.touchend(r,d,h);if(f){let v=r.timeStamp-this.lastTime<500,w=!this.lastTap||this.lastTap.dist(f)<30;if(v&&w||this.reset(),this.count++,this.lastTime=r.timeStamp,this.lastTap=f,this.count===this.numTaps)return this.reset(),f}}}class Eh{constructor(r){this._tr=new $l(r),this._zoomIn=new Pu({numTouches:1,numTaps:2}),this._zoomOut=new Pu({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(r,d,h){this._zoomIn.touchstart(r,d,h),this._zoomOut.touchstart(r,d,h)}touchmove(r,d,h){this._zoomIn.touchmove(r,d,h),this._zoomOut.touchmove(r,d,h)}touchend(r,d,h){let f=this._zoomIn.touchend(r,d,h),v=this._zoomOut.touchend(r,d,h),w=this._tr;return f?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:k=>k.easeTo({duration:300,zoom:w.zoom+1,around:w.unproject(f)},{originalEvent:r})}):v?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:k=>k.easeTo({duration:300,zoom:w.zoom-1,around:w.unproject(v)},{originalEvent:r})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Wl{constructor(r){this._enabled=!!r.enable,this._moveStateManager=r.moveStateManager,this._clickTolerance=r.clickTolerance||1,this._moveFunction=r.move,this._activateOnStart=!!r.activateOnStart,r.assignEvents(this),this.reset()}reset(r){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(r)}_move(...r){let d=this._moveFunction(...r);if(d.bearingDelta||d.pitchDelta||d.rollDelta||d.around||d.panDelta)return this._active=!0,d}dragStart(r,d){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(r)&&(this._moveStateManager.startMove(r),this._lastPoint=Array.isArray(d)?d[0]:d,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(r,d){if(!this.isEnabled())return;let h=this._lastPoint;if(!h)return;if(r.preventDefault(),!this._moveStateManager.isValidMoveEvent(r))return void this.reset(r);let f=Array.isArray(d)?d[0]:d;return!this._moved&&f.dist(h)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=f,this._move(h,f))}dragEnd(r){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(r)&&(this._moved&&J.suppressClick(),this.reset(r))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}let bd=0,yd=2,Ph={[bd]:1,[yd]:2};class vd{constructor(r){this._correctEvent=r.checkCorrectEvent}startMove(r){let d=J.mouseButton(r);this._eventButton=d}endMove(r){delete this._eventButton}isValidStartEvent(r){return this._correctEvent(r)}isValidMoveEvent(r){return!function(d,h){let f=Ph[h];return d.buttons===void 0||(d.buttons&f)!==f}(r,this._eventButton)}isValidEndEvent(r){return J.mouseButton(r)===this._eventButton}}class Dh{constructor(){this._firstTouch=void 0}_isOneFingerTouch(r){return r.targetTouches.length===1}_isSameTouchEvent(r){return r.targetTouches[0].identifier===this._firstTouch}startMove(r){this._firstTouch=r.targetTouches[0].identifier}endMove(r){delete this._firstTouch}isValidStartEvent(r){return this._isOneFingerTouch(r)}isValidMoveEvent(r){return this._isOneFingerTouch(r)&&this._isSameTouchEvent(r)}isValidEndEvent(r){return this._isOneFingerTouch(r)&&this._isSameTouchEvent(r)}}class Hf{constructor(r=new vd({checkCorrectEvent:()=>!0}),d=new Dh){this.mouseMoveStateManager=r,this.oneFingerTouchMoveStateManager=d}_executeRelevantHandler(r,d,h){return r instanceof MouseEvent?d(r):typeof TouchEvent<"u"&&r instanceof TouchEvent?h(r):void 0}startMove(r){this._executeRelevantHandler(r,d=>this.mouseMoveStateManager.startMove(d),d=>this.oneFingerTouchMoveStateManager.startMove(d))}endMove(r){this._executeRelevantHandler(r,d=>this.mouseMoveStateManager.endMove(d),d=>this.oneFingerTouchMoveStateManager.endMove(d))}isValidStartEvent(r){return this._executeRelevantHandler(r,d=>this.mouseMoveStateManager.isValidStartEvent(d),d=>this.oneFingerTouchMoveStateManager.isValidStartEvent(d))}isValidMoveEvent(r){return this._executeRelevantHandler(r,d=>this.mouseMoveStateManager.isValidMoveEvent(d),d=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(d))}isValidEndEvent(r){return this._executeRelevantHandler(r,d=>this.mouseMoveStateManager.isValidEndEvent(d),d=>this.oneFingerTouchMoveStateManager.isValidEndEvent(d))}}let Zl=y=>{y.mousedown=y.dragStart,y.mousemoveWindow=y.dragMove,y.mouseup=y.dragEnd,y.contextmenu=r=>{r.preventDefault()}};class h1{constructor(r,d){this._clickTolerance=r.clickTolerance||1,this._map=d,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.P(0,0)}_shouldBePrevented(r){return r<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(r,d,h){return this._calculateTransform(r,d,h)}touchmove(r,d,h){if(this._active){if(!this._shouldBePrevented(h.length))return r.preventDefault(),this._calculateTransform(r,d,h);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",r)}}touchend(r,d,h){this._calculateTransform(r,d,h),this._active&&this._shouldBePrevented(h.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(r,d,h){h.length>0&&(this._active=!0);let f=wr(h,d),v=new a.P(0,0),w=new a.P(0,0),k=0;for(let F in f){let B=f[F],j=this._touches[F];j&&(v._add(B),w._add(B.sub(j)),k++,f[F]=B)}if(this._touches=f,this._shouldBePrevented(k)||!w.mag())return;let P=w.div(k);return this._sum._add(P),this._sum.mag()<this._clickTolerance?void 0:{around:v.div(k),panDelta:P}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Du{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(r,d,h){this._firstTwoTouches||h.length<2||(this._firstTwoTouches=[h[0].identifier,h[1].identifier],this._start([d[0],d[1]]))}touchmove(r,d,h){if(!this._firstTwoTouches)return;r.preventDefault();let[f,v]=this._firstTwoTouches,w=Lu(h,d,f),k=Lu(h,d,v);if(!w||!k)return;let P=this._aroundCenter?null:w.add(k).div(2);return this._move([w,k],P,r)}touchend(r,d,h){if(!this._firstTwoTouches)return;let[f,v]=this._firstTwoTouches,w=Lu(h,d,f),k=Lu(h,d,v);w&&k||(this._active&&J.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(r){this._enabled=!0,this._aroundCenter=!!r&&r.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function Lu(y,r,d){for(let h=0;h<y.length;h++)if(y[h].identifier===d)return r[h]}function jf(y,r){return Math.log(y/r)/Math.LN2}class Lh extends Du{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(r){this._startDistance=this._distance=r[0].dist(r[1])}_move(r,d){let h=this._distance;if(this._distance=r[0].dist(r[1]),this._active||!(Math.abs(jf(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:jf(this._distance,h),pinchAround:d}}}function Gf(y,r){return 180*y.angleWith(r)/Math.PI}class Ah extends Du{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(r){this._startVector=this._vector=r[0].sub(r[1]),this._minDiameter=r[0].dist(r[1])}_move(r,d,h){let f=this._vector;if(this._vector=r[0].sub(r[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Gf(this._vector,f),pinchAround:d}}_isBelowThreshold(r){this._minDiameter=Math.min(this._minDiameter,r.mag());let d=25/(Math.PI*this._minDiameter)*360,h=Gf(r,this._startVector);return Math.abs(h)<d}}function Oh(y){return Math.abs(y.y)>Math.abs(y.x)}class Uf extends Du{constructor(r){super(),this._currentTouchCount=0,this._map=r}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(r,d,h){super.touchstart(r,d,h),this._currentTouchCount=h.length}_start(r){this._lastPoints=r,Oh(r[0].sub(r[1]))&&(this._valid=!1)}_move(r,d,h){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;let f=r[0].sub(this._lastPoints[0]),v=r[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(f,v,h.timeStamp),this._valid?(this._lastPoints=r,this._active=!0,{pitchDelta:(f.y+v.y)/2*-.5}):void 0}gestureBeginsVertically(r,d,h){if(this._valid!==void 0)return this._valid;let f=r.mag()>=2,v=d.mag()>=2;if(!f&&!v)return;if(!f||!v)return this._firstMove===void 0&&(this._firstMove=h),h-this._firstMove<100&&void 0;let w=r.y>0==d.y>0;return Oh(r)&&Oh(d)&&w}}let Is={panStep:100,bearingStep:15,pitchStep:10};class pn{constructor(r){this._tr=new $l(r);let d=Is;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(r){if(r.altKey||r.ctrlKey||r.metaKey)return;let d=0,h=0,f=0,v=0,w=0;switch(r.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:r.shiftKey?h=-1:(r.preventDefault(),v=-1);break;case 39:r.shiftKey?h=1:(r.preventDefault(),v=1);break;case 38:r.shiftKey?f=1:(r.preventDefault(),w=-1);break;case 40:r.shiftKey?f=-1:(r.preventDefault(),w=1);break;default:return}return this._rotationDisabled&&(h=0,f=0),{cameraAnimation:k=>{let P=this._tr;k.easeTo({duration:300,easeId:"keyboardHandler",easing:m1,zoom:d?Math.round(P.zoom)+d*(r.shiftKey?2:1):P.zoom,bearing:P.bearing+h*this._bearingStep,pitch:P.pitch+f*this._pitchStep,offset:[-v*this._panStep,-w*this._panStep],center:P.center},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function m1(y){return y*(2-y)}let xd=4.000244140625,Au=1/450;class Ou{constructor(r,d){this._onTimeout=h=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(h)},this._map=r,this._tr=new $l(r),this._triggerRenderFrame=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=Au}setZoomRate(r){this._defaultZoomRate=r}setWheelZoomRate(r){this._wheelZoomRate=r}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(r){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!r&&r.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(r){return!!this._map.cooperativeGestures.isEnabled()&&!(r.ctrlKey||this._map.cooperativeGestures.isBypassed(r))}wheel(r){if(!this.isEnabled())return;if(this._shouldBePrevented(r))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",r);let d=r.deltaMode===WheelEvent.DOM_DELTA_LINE?40*r.deltaY:r.deltaY,h=oe(),f=h-(this._lastWheelEventTime||0);this._lastWheelEventTime=h,d!==0&&d%xd==0?this._type="wheel":d!==0&&Math.abs(d)<4?this._type="trackpad":f>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,r)):this._type||(this._type=Math.abs(f*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),r.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=r,this._delta-=d,this._active||this._start(r)),r.preventDefault()}_start(r){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);let d=J.mousePos(this._map.getCanvas(),r),h=this._tr;this._aroundPoint=this._aroundCenter?h.transform.locationToScreenPoint(a.V.convert(h.center)):d,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;let r=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){let k=r.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=k),typeof this._targetZoom=="number"&&(this._targetZoom+=k)}if(this._delta!==0){let k=this._type==="wheel"&&Math.abs(this._delta)>xd?this._wheelZoomRate:this._defaultZoomRate,P=2/(1+Math.exp(-Math.abs(this._delta*k)));this._delta<0&&P!==0&&(P=1/P);let F=typeof this._targetZoom!="number"?r.scale:a.aq(this._targetZoom);this._targetZoom=r.applyConstrain(r.getCameraLngLat(),a.at(F*P)).zoom,this._type==="wheel"&&(this._startZoom=r.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}let d=typeof this._targetZoom!="number"?r.zoom:this._targetZoom,h=this._startZoom,f=this._easing,v,w=!1;if(this._type==="wheel"&&h&&f){let k=oe()-this._lastWheelEventTime,P=Math.min((k+5)/200,1),F=f(P);v=a.G.number(h,d,F),P<1?this._frameId||(this._frameId=!0):w=!0}else v=d,w=!0;return this._active=!0,w&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=v,{noInertia:!0,needsRenderFrame:!w,zoomDelta:v-r.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(r){let d=a.cy;if(this._prevEase){let h=this._prevEase,f=(oe()-h.start)/h.duration,v=h.easing(f+.01)-h.easing(f),w=.27/Math.sqrt(v*v+1e-4)*.01,k=Math.sqrt(.0729-w*w);d=a.cw(w,k,.25,1)}return this._prevEase={start:oe(),duration:r,easing:d},d}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Fh{constructor(r,d){this._clickZoom=r,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class $f{constructor(r){this._tr=new $l(r),this.reset()}reset(){this._active=!1}dblclick(r,d){return r.preventDefault(),{cameraAnimation:h=>{h.easeTo({duration:300,zoom:this._tr.zoom+(r.shiftKey?-1:1),around:this._tr.unproject(d)},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Kf{constructor(){this._tap=new Pu({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(r,d,h){if(!this._swipePoint)if(this._tapTime){let f=d[0],v=r.timeStamp-this._tapTime<500,w=this._tapPoint.dist(f)<30;v&&w?h.length>0&&(this._swipePoint=f,this._swipeTouch=h[0].identifier):this.reset()}else this._tap.touchstart(r,d,h)}touchmove(r,d,h){if(this._tapTime){if(this._swipePoint){if(h[0].identifier!==this._swipeTouch)return;let f=d[0],v=f.y-this._swipePoint.y;return this._swipePoint=f,r.preventDefault(),this._active=!0,{zoomDelta:v/128}}}else this._tap.touchmove(r,d,h)}touchend(r,d,h){if(this._tapTime)this._swipePoint&&h.length===0&&this.reset();else{let f=this._tap.touchend(r,d,h);f&&(this._tapTime=r.timeStamp,this._tapPoint=f)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Wf{constructor(r,d,h){this._el=r,this._mousePan=d,this._touchPan=h}enable(r){this._inertiaOptions=r||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Ir{constructor(r,d,h,f){this._pitchWithRotate=r.pitchWithRotate,this._rollEnabled=r.rollEnabled,this._mouseRotate=d,this._mousePitch=h,this._mouseRoll=f}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class wd{constructor(r,d,h,f){this._el=r,this._touchZoom=d,this._touchRotate=h,this._tapDragZoom=f,this._rotationDisabled=!1,this._enabled=!0}enable(r){this._touchZoom.enable(r),this._rotationDisabled||this._touchRotate.enable(r),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Xt{constructor(r,d){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=r,this._options=d,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;let r=this._map.getCanvasContainer();r.classList.add("maplibregl-cooperative-gestures"),this._container=J.create("div","maplibregl-cooperative-gesture-screen",r);let d=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(d=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));let h=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),f=document.createElement("div");f.className="maplibregl-desktop-message",f.textContent=d,this._container.appendChild(f);let v=document.createElement("div");v.className="maplibregl-mobile-message",v.textContent=h,this._container.appendChild(v),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(J.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(r){return r[this._bypassKey]}notifyGestureBlocked(r,d){this._enabled&&(this._map.fire(new a.l("cooperativegestureprevented",{gestureType:r,originalEvent:d})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}let ai=y=>y.zoom||y.drag||y.roll||y.pitch||y.rotate;class Id extends a.l{}function Fu(y){return y.panDelta&&y.panDelta.mag()||y.zoomDelta||y.bearingDelta||y.pitchDelta||y.rollDelta}class Vu{constructor(r,d){this.handleWindowEvent=f=>{this.handleEvent(f,`${f.type}Window`)},this.handleEvent=(f,v)=>{if(f.type==="blur")return void this.stop(!0);this._updatingCamera=!0;let w=f.type==="renderFrame"?void 0:f,k={needsRenderFrame:!1},P={},F={};for(let{handlerName:H,handler:W,allowed:ne}of this._handlers){if(!W.isEnabled())continue;let he;if(this._blockedByActive(F,ne,H))W.reset();else if(W[v||f.type]){if(a.cz(f,v||f.type)){let fe=J.mousePos(this._map.getCanvas(),f);he=W[v||f.type](f,fe)}else if(a.cA(f,v||f.type)){let fe=this._getMapTouches(f.touches),me=J.touchPos(this._map.getCanvas(),fe);he=W[v||f.type](f,me,fe)}else a.cB(v||f.type)||(he=W[v||f.type](f));this.mergeHandlerResult(k,P,he,H,w),he&&he.needsRenderFrame&&this._triggerRenderFrame()}(he||W.isActive())&&(F[H]=W)}let B={};for(let H in this._previousActiveHandlers)F[H]||(B[H]=w);this._previousActiveHandlers=F,(Object.keys(B).length||Fu(k))&&(this._changes.push([k,P,B]),this._triggerRenderFrame()),(Object.keys(F).length||Fu(k))&&this._map._stop(!0),this._updatingCamera=!1;let{cameraAnimation:j}=k;j&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],j(this._map))},this._map=r,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new d1(r),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(d);let h=this._el;this._listeners=[[h,"touchstart",{passive:!0}],[h,"touchmove",{passive:!1}],[h,"touchend",void 0],[h,"touchcancel",void 0],[h,"mousedown",void 0],[h,"mousemove",void 0],[h,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[h,"mouseover",void 0],[h,"mouseout",void 0],[h,"dblclick",void 0],[h,"click",void 0],[h,"keydown",{capture:!1}],[h,"keyup",void 0],[h,"wheel",{passive:!1}],[h,"contextmenu",void 0],[window,"blur",void 0]];for(let[f,v,w]of this._listeners)J.addEventListener(f,v,f===document?this.handleWindowEvent:this.handleEvent,w)}destroy(){for(let[r,d,h]of this._listeners)J.removeEventListener(r,d,r===document?this.handleWindowEvent:this.handleEvent,h)}_addDefaultHandlers(r){let d=this._map,h=d.getCanvasContainer();this._add("mapEvent",new u1(d,r));let f=d.boxZoom=new Kl(d,r);this._add("boxZoom",f),r.interactive&&r.boxZoom&&f.enable();let v=d.cooperativeGestures=new Xt(d,r.cooperativeGestures);this._add("cooperativeGestures",v),r.cooperativeGestures&&v.enable();let w=new Eh(d),k=new $f(d);d.doubleClickZoom=new Fh(k,w),this._add("tapZoom",w),this._add("clickZoom",k),r.interactive&&r.doubleClickZoom&&d.doubleClickZoom.enable();let P=new Kf;this._add("tapDragZoom",P);let F=d.touchPitch=new Uf(d);this._add("touchPitch",F),r.interactive&&r.touchPitch&&d.touchPitch.enable(r.touchPitch);let B=()=>d.project(d.getCenter()),j=function({enable:_e,clickTolerance:Se,aroundCenter:Pe=!0,minPixelCenterThreshold:Ie=100,rotateDegreesPerPixelMoved:Oe=.8},Ye){let je=new vd({checkCorrectEvent:Ue=>J.mouseButton(Ue)===0&&Ue.ctrlKey||J.mouseButton(Ue)===2&&!Ue.ctrlKey});return new Wl({clickTolerance:Se,move:(Ue,$e)=>{let Tt=Ye();if(Pe&&Math.abs(Tt.y-Ue.y)>Ie)return{bearingDelta:a.cx(new a.P(Ue.x,$e.y),$e,Tt)};let Ct=($e.x-Ue.x)*Oe;return Pe&&$e.y<Tt.y&&(Ct=-Ct),{bearingDelta:Ct}},moveStateManager:je,enable:_e,assignEvents:Zl})}(r,B),H=function({enable:_e,clickTolerance:Se,pitchDegreesPerPixelMoved:Pe=-.5}){let Ie=new vd({checkCorrectEvent:Oe=>J.mouseButton(Oe)===0&&Oe.ctrlKey||J.mouseButton(Oe)===2});return new Wl({clickTolerance:Se,move:(Oe,Ye)=>({pitchDelta:(Ye.y-Oe.y)*Pe}),moveStateManager:Ie,enable:_e,assignEvents:Zl})}(r),W=function({enable:_e,clickTolerance:Se,rollDegreesPerPixelMoved:Pe=.3},Ie){let Oe=new vd({checkCorrectEvent:Ye=>J.mouseButton(Ye)===2&&Ye.ctrlKey});return new Wl({clickTolerance:Se,move:(Ye,je)=>{let Ue=Ie(),$e=(je.x-Ye.x)*Pe;return je.y<Ue.y&&($e=-$e),{rollDelta:$e}},moveStateManager:Oe,enable:_e,assignEvents:Zl})}(r,B);d.dragRotate=new Ir(r,j,H,W),this._add("mouseRotate",j,["mousePitch"]),this._add("mousePitch",H,["mouseRotate","mouseRoll"]),this._add("mouseRoll",W,["mousePitch"]),r.interactive&&r.dragRotate&&d.dragRotate.enable();let ne=function({enable:_e,clickTolerance:Se}){let Pe=new vd({checkCorrectEvent:Ie=>J.mouseButton(Ie)===0&&!Ie.ctrlKey});return new Wl({clickTolerance:Se,move:(Ie,Oe)=>({around:Oe,panDelta:Oe.sub(Ie)}),activateOnStart:!0,moveStateManager:Pe,enable:_e,assignEvents:Zl})}(r),he=new h1(r,d);d.dragPan=new Wf(h,ne,he),this._add("mousePan",ne),this._add("touchPan",he,["touchZoom","touchRotate"]),r.interactive&&r.dragPan&&d.dragPan.enable(r.dragPan);let fe=new Ah,me=new Lh;d.touchZoomRotate=new wd(h,me,fe,P),this._add("touchRotate",fe,["touchPan","touchZoom"]),this._add("touchZoom",me,["touchPan","touchRotate"]),r.interactive&&r.touchZoomRotate&&d.touchZoomRotate.enable(r.touchZoomRotate),this._add("blockableMapEvent",new p1(d));let be=d.scrollZoom=new Ou(d,()=>this._triggerRenderFrame());this._add("scrollZoom",be,["mousePan"]),r.interactive&&r.scrollZoom&&d.scrollZoom.enable(r.scrollZoom);let Me=d.keyboard=new pn(d);this._add("keyboard",Me),r.interactive&&r.keyboard&&d.keyboard.enable()}_add(r,d,h){this._handlers.push({handlerName:r,handler:d,allowed:h}),this._handlersById[r]=d}stop(r){if(!this._updatingCamera){for(let{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},r),this._changes=[]}}isActive(){for(let{handler:r}of this._handlers)if(r.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!ai(this._eventsInProgress)||this.isZooming()}_blockedByActive(r,d,h){for(let f in r)if(f!==h&&(!d||d.indexOf(f)<0))return!0;return!1}_getMapTouches(r){let d=[];for(let h of r)this._el.contains(h.target)&&d.push(h);return d}mergeHandlerResult(r,d,h,f,v){if(!h)return;a.e(r,h);let w={handlerName:f,originalEvent:h.originalEvent||v};h.zoomDelta!==void 0&&(d.zoom=w),h.panDelta!==void 0&&(d.drag=w),h.rollDelta!==void 0&&(d.roll=w),h.pitchDelta!==void 0&&(d.pitch=w),h.bearingDelta!==void 0&&(d.rotate=w)}_applyChanges(){let r={},d={},h={};for(let[f,v,w]of this._changes)f.panDelta&&(r.panDelta=(r.panDelta||new a.P(0,0))._add(f.panDelta)),f.zoomDelta&&(r.zoomDelta=(r.zoomDelta||0)+f.zoomDelta),f.bearingDelta&&(r.bearingDelta=(r.bearingDelta||0)+f.bearingDelta),f.pitchDelta&&(r.pitchDelta=(r.pitchDelta||0)+f.pitchDelta),f.rollDelta&&(r.rollDelta=(r.rollDelta||0)+f.rollDelta),f.around!==void 0&&(r.around=f.around),f.pinchAround!==void 0&&(r.pinchAround=f.pinchAround),f.noInertia&&(r.noInertia=f.noInertia),a.e(d,v),a.e(h,w);this._updateMapTransform(r,d,h),this._changes=[]}_updateMapTransform(r,d,h){let f=this._map,v=f._getTransformForUpdate(),w=f.terrain;if(!(Fu(r)||w&&this._terrainMovement))return this._fireEvents(d,h,!0);f._stop(!0);let{panDelta:k,zoomDelta:P,bearingDelta:F,pitchDelta:B,rollDelta:j,around:H,pinchAround:W}=r;W!==void 0&&(H=W),H=H||f.transform.centerPoint,w&&!v.isPointOnMapSurface(H)&&(H=v.centerPoint);let ne={panDelta:k,zoomDelta:P,rollDelta:j,pitchDelta:B,bearingDelta:F,around:H};this._map.cameraHelper.useGlobeControls&&!v.isPointOnMapSurface(H)&&(H=v.centerPoint);let he=H.distSqr(v.centerPoint)<.01?v.center:v.screenPointToLocation(k?H.sub(k):H);this._handleMapControls({terrain:w,tr:v,deltasForHelper:ne,preZoomAroundLoc:he,combinedEventsInProgress:d,panDelta:k}),f._applyUpdatedTransform(v),this._map._update(),r.noInertia||this._inertia.record(r),this._fireEvents(d,h,!0)}_handleMapControls({terrain:r,tr:d,deltasForHelper:h,preZoomAroundLoc:f,combinedEventsInProgress:v,panDelta:w}){let k=this._map.cameraHelper;if(k.handleMapControlsRollPitchBearingZoom(h,d),r)return k.useGlobeControls?(this._terrainMovement||!v.drag&&!v.zoom||(this._terrainMovement=!0,this._map._elevationFreeze=!0),void k.handleMapControlsPan(h,d,f)):this._terrainMovement||!v.drag&&!v.zoom?void(v.drag&&this._terrainMovement&&w?d.setCenter(d.screenPointToLocation(d.centerPoint.sub(w))):k.handleMapControlsPan(h,d,f)):(this._terrainMovement=!0,this._map._elevationFreeze=!0,void k.handleMapControlsPan(h,d,f));k.handleMapControlsPan(h,d,f)}_fireEvents(r,d,h){let f=ai(this._eventsInProgress),v=ai(r),w={};for(let j in r){let{originalEvent:H}=r[j];this._eventsInProgress[j]||(w[`${j}start`]=H),this._eventsInProgress[j]=r[j]}!f&&v&&this._fireEvent("movestart",v.originalEvent);for(let j in w)this._fireEvent(j,w[j]);v&&this._fireEvent("move",v.originalEvent);for(let j in r){let{originalEvent:H}=r[j];this._fireEvent(j,H)}let k={},P;for(let j in this._eventsInProgress){let{handlerName:H,originalEvent:W}=this._eventsInProgress[j];this._handlersById[H].isActive()||(delete this._eventsInProgress[j],P=d[H]||W,k[`${j}end`]=P)}for(let j in k)this._fireEvent(j,k[j]);let F=ai(this._eventsInProgress),B=(f||v)&&!F;if(B&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;let j=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&j.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(j)}if(h&&B){this._updatingCamera=!0;let j=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),H=W=>W!==0&&-this._bearingSnap<W&&W<this._bearingSnap;!j||!j.essential&&U.prefersReducedMotion?(this._map.fire(new a.l("moveend",{originalEvent:P})),H(this._map.getBearing())&&this._map.resetNorth()):(H(j.bearing||this._map.getBearing())&&(j.bearing=0),j.freezeElevation=!0,this._map.easeTo(j,{originalEvent:P})),this._updatingCamera=!1}}_fireEvent(r,d){this._map.fire(new a.l(r,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(r=>{delete this._frameId,this.handleEvent(new Id("renderFrame",{timeStamp:r})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class go extends a.E{constructor(r,d,h){super(),this._renderFrameCallback=()=>{let f=Math.min((oe()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(f)),f<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=h.bearingSnap,this.cameraHelper=d,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(r,d){r.apply(this.transform),this.transform=r,this.cameraHelper=d}getCenter(){return new a.V(this.transform.center.lng,this.transform.center.lat)}setCenter(r,d){return this.jumpTo({center:r},d)}getCenterElevation(){return this.transform.elevation}setCenterElevation(r,d){return this.jumpTo({elevation:r},d),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(r){this._centerClampedToGround=r}panBy(r,d,h){return r=a.P.convert(r).mult(-1),this.panTo(this.transform.center,a.e({offset:r},d),h)}panTo(r,d,h){return this.easeTo(a.e({center:r},d),h)}getZoom(){return this.transform.zoom}setZoom(r,d){return this.jumpTo({zoom:r},d),this}zoomTo(r,d,h){return this.easeTo(a.e({zoom:r},d),h)}zoomIn(r,d){return this.zoomTo(this.getZoom()+1,r,d),this}zoomOut(r,d){return this.zoomTo(this.getZoom()-1,r,d),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(r,d){return r!=this.transform.fov&&(this.transform.setFov(r),this.fire(new a.l("movestart",d)).fire(new a.l("move",d)).fire(new a.l("moveend",d))),this}getBearing(){return this.transform.bearing}setBearing(r,d){return this.jumpTo({bearing:r},d),this}getPadding(){return this.transform.padding}setPadding(r,d){return this.jumpTo({padding:r},d),this}rotateTo(r,d,h){return this.easeTo(a.e({bearing:r},d),h)}resetNorth(r,d){return this.rotateTo(0,a.e({duration:1e3},r),d),this}resetNorthPitch(r,d){return this.easeTo(a.e({bearing:0,pitch:0,roll:0,duration:1e3},r),d),this}snapToNorth(r,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(r,d):this}getPitch(){return this.transform.pitch}setPitch(r,d){return this.jumpTo({pitch:r},d),this}getRoll(){return this.transform.roll}setRoll(r,d){return this.jumpTo({roll:r},d),this}cameraForBounds(r,d){r=Kn.convert(r).adjustAntiMeridian();let h=d&&d.bearing||0;return this._cameraForBoxAndBearing(r.getNorthWest(),r.getSouthEast(),h,d)}_cameraForBoxAndBearing(r,d,h,f){let v={top:0,bottom:0,right:0,left:0};if(typeof(f=a.e({padding:v,offset:[0,0],maxZoom:this.transform.maxZoom},f)).padding=="number"){let F=f.padding;f.padding={top:F,bottom:F,right:F,left:F}}let w=a.e(v,f.padding);f.padding=w;let k=this.transform,P=new Kn(r,d);return this.cameraHelper.cameraForBoxAndBearing(f,w,P,h,k)}fitBounds(r,d,h){return this._fitInternal(this.cameraForBounds(r,d),d,h)}fitScreenCoordinates(r,d,h,f,v){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(a.P.convert(r)),this.transform.screenPointToLocation(a.P.convert(d)),h,f),f,v)}_fitInternal(r,d,h){return r?(delete(d=a.e(r,d)).padding,d.linear?this.easeTo(d,h):this.flyTo(d,h)):this}jumpTo(r,d){this.stop();let h=this._getTransformForUpdate(),f=!1,v=!1,w=!1,k=h.zoom;this.cameraHelper.handleJumpToCenterZoom(h,r);let P=h.zoom!==k;return"elevation"in r&&h.elevation!==+r.elevation&&h.setElevation(+r.elevation),"bearing"in r&&h.bearing!==+r.bearing&&(f=!0,h.setBearing(+r.bearing)),"pitch"in r&&h.pitch!==+r.pitch&&(v=!0,h.setPitch(+r.pitch)),"roll"in r&&h.roll!==+r.roll&&(w=!0,h.setRoll(+r.roll)),r.padding==null||h.isPaddingEqual(r.padding)||h.setPadding(r.padding),this._applyUpdatedTransform(h),this.fire(new a.l("movestart",d)).fire(new a.l("move",d)),P&&this.fire(new a.l("zoomstart",d)).fire(new a.l("zoom",d)).fire(new a.l("zoomend",d)),f&&this.fire(new a.l("rotatestart",d)).fire(new a.l("rotate",d)).fire(new a.l("rotateend",d)),v&&this.fire(new a.l("pitchstart",d)).fire(new a.l("pitch",d)).fire(new a.l("pitchend",d)),w&&this.fire(new a.l("rollstart",d)).fire(new a.l("roll",d)).fire(new a.l("rollend",d)),this.fire(new a.l("moveend",d))}calculateCameraOptionsFromTo(r,d,h,f=0){let v=a.a9.fromLngLat(r,d),w=a.a9.fromLngLat(h,f),k=w.x-v.x,P=w.y-v.y,F=w.z-v.z,B=Math.hypot(k,P,F);if(B===0)throw new Error("Can't calculate camera options with same From and To");let j=Math.hypot(k,P),H=a.at(this.transform.cameraToCenterDistance/B/this.transform.tileSize),W=180*Math.atan2(k,-P)/Math.PI,ne=180*Math.acos(j/B)/Math.PI;return ne=F<0?90-ne:90+ne,{center:w.toLngLat(),elevation:f,zoom:H,pitch:ne,bearing:W}}calculateCameraOptionsFromCameraLngLatAltRotation(r,d,h,f,v){let w=this.transform.calculateCenterFromCameraLngLatAlt(r,d,h,f);return{center:w.center,elevation:w.elevation,zoom:w.zoom,bearing:h,pitch:f,roll:v}}easeTo(r,d){this._stop(!1,r.easeId),((r=a.e({offset:[0,0],duration:500,easing:a.cy},r)).animate===!1||!r.essential&&U.prefersReducedMotion)&&(r.duration=0);let h=this._getTransformForUpdate(),f=this.getBearing(),v=h.pitch,w=h.roll,k="bearing"in r?this._normalizeBearing(r.bearing,f):f,P="pitch"in r?+r.pitch:v,F="roll"in r?this._normalizeBearing(r.roll,w):w,B="padding"in r?r.padding:h.padding,j=a.P.convert(r.offset),H,W;r.around&&(H=a.V.convert(r.around),W=h.locationToScreenPoint(H));let ne={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},he=this.cameraHelper.handleEaseTo(h,{bearing:k,pitch:P,roll:F,padding:B,around:H,aroundPoint:W,offsetAsPoint:j,offset:r.offset,zoom:r.zoom,center:r.center});return this._rotating=this._rotating||f!==k,this._pitching=this._pitching||P!==v,this._rolling=this._rolling||F!==w,this._padding=!h.isPaddingEqual(B),this._zooming=this._zooming||he.isZooming,this._easeId=r.easeId,this._prepareEase(d,r.noMoveStart,ne),this.terrain&&this._prepareElevation(he.elevationCenter),this._ease(fe=>{he.easeFunc(fe),this.terrain&&!r.freezeElevation&&this._updateElevation(fe),this._applyUpdatedTransform(h),this._fireMoveEvents(d)},fe=>{this.terrain&&r.freezeElevation&&this._finalizeElevation(),this._afterEase(d,fe)},r),this}_prepareEase(r,d,h={}){this._moving=!0,d||h.moving||this.fire(new a.l("movestart",r)),this._zooming&&!h.zooming&&this.fire(new a.l("zoomstart",r)),this._rotating&&!h.rotating&&this.fire(new a.l("rotatestart",r)),this._pitching&&!h.pitching&&this.fire(new a.l("pitchstart",r)),this._rolling&&!h.rolling&&this.fire(new a.l("rollstart",r))}_prepareElevation(r){this._elevationCenter=r,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(r,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(r){this._elevationStart!==void 0&&this._elevationCenter!==void 0||this._prepareElevation(this.transform.center),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));let d=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(r<1&&d!==this._elevationTarget){let h=this._elevationTarget-this._elevationStart;this._elevationStart+=r*(h-(d-(h*r+this._elevationStart))/(1-r)),this._elevationTarget=d}this.transform.setElevation(a.G.number(this._elevationStart,this._elevationTarget,r))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(r){if(!this.terrain&&r.elevation>=0&&r.pitch<=90)return{};let d=r.getCameraLngLat(),h=r.getCameraAltitude(),f=this.terrain?this.terrain.getElevationForLngLatZoom(d,r.zoom):0;if(h<f){let v=this.calculateCameraOptionsFromTo(d,f,r.center,r.elevation);return{pitch:v.pitch,zoom:v.zoom}}return{}}_applyUpdatedTransform(r){let d=[];if(d.push(f=>this._elevateCameraIfInsideTerrain(f)),this.transformCameraUpdate&&d.push(f=>this.transformCameraUpdate(f)),!d.length)return;let h=r.clone();for(let f of d){let v=h.clone(),{center:w,zoom:k,roll:P,pitch:F,bearing:B,elevation:j}=f(v);w&&v.setCenter(w),j!==void 0&&v.setElevation(j),k!==void 0&&v.setZoom(k),P!==void 0&&v.setRoll(P),F!==void 0&&v.setPitch(F),B!==void 0&&v.setBearing(B),h.apply(v)}this.transform.apply(h)}_fireMoveEvents(r){this.fire(new a.l("move",r)),this._zooming&&this.fire(new a.l("zoom",r)),this._rotating&&this.fire(new a.l("rotate",r)),this._pitching&&this.fire(new a.l("pitch",r)),this._rolling&&this.fire(new a.l("roll",r))}_afterEase(r,d){if(this._easeId&&d&&this._easeId===d)return;delete this._easeId;let h=this._zooming,f=this._rotating,v=this._pitching,w=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,h&&this.fire(new a.l("zoomend",r)),f&&this.fire(new a.l("rotateend",r)),v&&this.fire(new a.l("pitchend",r)),w&&this.fire(new a.l("rollend",r)),this.fire(new a.l("moveend",r))}flyTo(r,d){if(!r.essential&&U.prefersReducedMotion){let $e=a.U(r,["center","zoom","bearing","pitch","roll","elevation","padding"]);return this.jumpTo($e,d)}this.stop(),r=a.e({offset:[0,0],speed:1.2,curve:1.42,easing:a.cy},r);let h=this._getTransformForUpdate(),f=h.bearing,v=h.pitch,w=h.roll,k=h.padding,P="bearing"in r?this._normalizeBearing(r.bearing,f):f,F="pitch"in r?+r.pitch:v,B="roll"in r?this._normalizeBearing(r.roll,w):w,j="padding"in r?r.padding:h.padding,H=a.P.convert(r.offset),W=h.centerPoint.add(H),ne=h.screenPointToLocation(W),he=this.cameraHelper.handleFlyTo(h,{bearing:P,pitch:F,roll:B,padding:j,locationAtOffset:ne,offsetAsPoint:H,center:r.center,minZoom:r.minZoom,zoom:r.zoom}),fe=r.curve,me=Math.max(h.width,h.height),be=me/he.scaleOfZoom,Me=he.pixelPathLength;typeof he.scaleOfMinZoom=="number"&&(fe=Math.sqrt(me/he.scaleOfMinZoom/Me*2));let _e=fe*fe;function Se($e){let Tt=(be*be-me*me+($e?-1:1)*_e*_e*Me*Me)/(2*($e?be:me)*_e*Me);return Math.log(Math.sqrt(Tt*Tt+1)-Tt)}function Pe($e){return(Math.exp($e)-Math.exp(-$e))/2}function Ie($e){return(Math.exp($e)+Math.exp(-$e))/2}let Oe=Se(!1),Ye=function($e){return Ie(Oe)/Ie(Oe+fe*$e)},je=function($e){return me*((Ie(Oe)*(Pe(Tt=Oe+fe*$e)/Ie(Tt))-Pe(Oe))/_e)/Me;var Tt},Ue=(Se(!0)-Oe)/fe;if(Math.abs(Me)<2e-6||!isFinite(Ue)){if(Math.abs(me-be)<1e-6)return this.easeTo(r,d);let $e=be<me?-1:1;Ue=Math.abs(Math.log(be/me))/fe,je=()=>0,Ye=Tt=>Math.exp($e*fe*Tt)}return r.duration="duration"in r?+r.duration:1e3*Ue/("screenSpeed"in r?+r.screenSpeed/fe:+r.speed),r.maxDuration&&r.duration>r.maxDuration&&(r.duration=0),this._zooming=!0,this._rotating=f!==P,this._pitching=F!==v,this._rolling=B!==w,this._padding=!h.isPaddingEqual(j),this._prepareEase(d,!1),this.terrain&&this._prepareElevation(he.targetCenter),this._ease($e=>{let Tt=$e*Ue,Ct=1/Ye(Tt),pt=je(Tt);this._rotating&&h.setBearing(a.G.number(f,P,$e)),this._pitching&&h.setPitch(a.G.number(v,F,$e)),this._rolling&&h.setRoll(a.G.number(w,B,$e)),this._padding&&(h.interpolatePadding(k,j,$e),W=h.centerPoint.add(H)),he.easeFunc($e,Ct,pt,W),this.terrain&&!r.freezeElevation&&this._updateElevation($e),this._applyUpdatedTransform(h),this._fireMoveEvents(d)},()=>{this.terrain&&r.freezeElevation&&this._finalizeElevation(),this._afterEase(d)},r),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(r,d){var h;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){let f=this._onEaseEnd;delete this._onEaseEnd,f.call(this,d)}return r||(h=this.handlers)===null||h===void 0||h.stop(!1),this}_ease(r,d,h){h.animate===!1||h.duration===0?(r(1),d()):(this._easeStart=oe(),this._easeOptions=h,this._onEaseFrame=r,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(r,d){r=a.W(r,-180,180);let h=Math.abs(r-d);return Math.abs(r-360-d)<h&&(r-=360),Math.abs(r+360-d)<h&&(r+=360),r}queryTerrainElevation(r){return this.terrain?this.terrain.getElevationForLngLat(a.V.convert(r),this.transform):null}}let er={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class Vh{constructor(r=er){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=d=>{!d||d.sourceDataType!=="metadata"&&d.sourceDataType!=="visibility"&&d.dataType!=="style"&&d.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=r}getDefaultPosition(){return"bottom-right"}onAdd(r){return this._map=r,this._compact=this.options.compact,this._container=J.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=J.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=J.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){J.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(r,d){let h=this._map._getUIString(`AttributionControl.${d}`);r.title=h,r.setAttribute("aria-label",h)}_updateAttributions(){if(!this._map.style)return;let r=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?r=r.concat(this.options.customAttribution.map(f=>typeof f!="string"?"":f)):typeof this.options.customAttribution=="string"&&r.push(this.options.customAttribution)),this._map.style.stylesheet){let f=this._map.style.stylesheet;this.styleOwner=f.owner,this.styleId=f.id}let d=this._map.style.tileManagers;for(let f in d){let v=d[f];if(v.used||v.usedForTerrain){let w=v.getSource();w.attribution&&r.indexOf(w.attribution)<0&&r.push(w.attribution)}}r=r.filter(f=>String(f).trim()),r.sort((f,v)=>f.length-v.length),r=r.filter((f,v)=>{for(let w=v+1;w<r.length;w++)if(r[w].indexOf(f)>=0)return!1;return!0});let h=r.join(" | ");h!==this._attribHTML&&(this._attribHTML=h,r.length?(this._innerContainer.innerHTML=J.sanitize(h),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Zf{constructor(r={}){this._updateCompact=()=>{let d=this._container.children;if(d.length){let h=d[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&h.classList.add("maplibregl-compact"):h.classList.remove("maplibregl-compact")}},this.options=r}getDefaultPosition(){return"bottom-left"}onAdd(r){this._map=r,this._compact=this.options&&this.options.compact,this._container=J.create("div","maplibregl-ctrl");let d=J.create("a","maplibregl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://maplibre.org/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){J.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class f1{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(r){let d=++this._id;return this._queue.push({callback:r,id:d,cancelled:!1}),d}remove(r){let d=this._currentlyRunning,h=d?this._queue.concat(d):this._queue;for(let f of h)if(f.id===r)return void(f.cancelled=!0)}run(r=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");let d=this._currentlyRunning=this._queue;this._queue=[];for(let h of d)if(!h.cancelled&&(h.callback(r),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var g1=a.aU([{name:"a_pos3d",type:"Int16",components:3}]);class Td extends a.E{constructor(r){super(),this._lastTilesetChange=oe(),this.tileManager=r,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=r._source.tileSize*2**this.deltaZoom,r.usedForTerrain=!0,r.tileSize=this.tileSize}destruct(){this.tileManager.usedForTerrain=!1,this.tileManager.tileSize=null}getSource(){return this.tileManager._source}update(r,d){this.tileManager.update(r,d),this._renderableTilesKeys=[];let h={};for(let f of Wn(r,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:d,calculateTileZoom:this.tileManager._source.calculateTileZoom}))h[f.key]=!0,this._renderableTilesKeys.push(f.key),this._tiles[f.key]||(f.terrainRttPosMatrix32f=new Float64Array(16),a.c7(f.terrainRttPosMatrix32f,0,a.a5,a.a5,0,0,1),this._tiles[f.key]=new gt(f,this.tileSize),this._lastTilesetChange=oe());for(let f in this._tiles)h[f]||delete this._tiles[f]}freeRtt(r){for(let d in this._tiles){let h=this._tiles[d];(!r||h.tileID.equals(r)||h.tileID.isChildOf(r)||r.isChildOf(h.tileID))&&(h.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(r=>this.getTileByID(r))}getTileByID(r){return this._tiles[r]}getTerrainCoords(r,d){return d?this._getTerrainCoordsForTileRanges(r,d):this._getTerrainCoordsForRegularTile(r)}_getTerrainCoordsForRegularTile(r){let d={};for(let h of this._renderableTilesKeys){let f=this._tiles[h].tileID,v=r.clone(),w=a.bk();if(f.canonical.equals(r.canonical))a.c7(w,0,a.a5,a.a5,0,0,1);else if(f.canonical.isChildOf(r.canonical)){let k=f.canonical.z-r.canonical.z,P=f.canonical.x-(f.canonical.x>>k<<k),F=f.canonical.y-(f.canonical.y>>k<<k),B=a.a5>>k;a.c7(w,0,B,B,0,0,1),a.O(w,w,[-P*B,-F*B,0])}else{if(!r.canonical.isChildOf(f.canonical))continue;{let k=r.canonical.z-f.canonical.z,P=r.canonical.x-(r.canonical.x>>k<<k),F=r.canonical.y-(r.canonical.y>>k<<k),B=a.a5>>k;a.c7(w,0,a.a5,a.a5,0,0,1),a.O(w,w,[P*B,F*B,0]),a.Q(w,w,[1/2**k,1/2**k,0])}}v.terrainRttPosMatrix32f=new Float32Array(w),d[h]=v}return d}_getTerrainCoordsForTileRanges(r,d){let h={};for(let f of this._renderableTilesKeys){let v=this._tiles[f].tileID;if(!this._isWithinTileRanges(v,d))continue;let w=r.clone(),k=a.bk();if(v.canonical.z===r.canonical.z){let P=r.canonical.x-v.canonical.x,F=r.canonical.y-v.canonical.y;a.c7(k,0,a.a5,a.a5,0,0,1),a.O(k,k,[P*a.a5,F*a.a5,0])}else if(v.canonical.z>r.canonical.z){let P=v.canonical.z-r.canonical.z,F=v.canonical.x-(v.canonical.x>>P<<P),B=v.canonical.y-(v.canonical.y>>P<<P),j=r.canonical.x-(v.canonical.x>>P),H=r.canonical.y-(v.canonical.y>>P),W=a.a5>>P;a.c7(k,0,W,W,0,0,1),a.O(k,k,[-F*W+j*a.a5,-B*W+H*a.a5,0])}else{let P=r.canonical.z-v.canonical.z,F=r.canonical.x-(r.canonical.x>>P<<P),B=r.canonical.y-(r.canonical.y>>P<<P),j=(r.canonical.x>>P)-v.canonical.x,H=(r.canonical.y>>P)-v.canonical.y,W=a.a5<<P;a.c7(k,0,W,W,0,0,1),a.O(k,k,[F*a.a5+j*W,B*a.a5+H*W,0])}w.terrainRttPosMatrix32f=new Float32Array(k),h[f]=w}return h}getSourceTile(r,d){let h=this.tileManager._source,f=r.overscaledZ-this.deltaZoom;if(f>h.maxzoom&&(f=h.maxzoom),f<h.minzoom)return;this._sourceTileCache[r.key]||(this._sourceTileCache[r.key]=r.scaledTo(f).key);let v=this.findTileInCaches(this._sourceTileCache[r.key]);if(!v?.dem&&d)for(;f>=h.minzoom&&!v?.dem;)v=this.findTileInCaches(r.scaledTo(f--).key);return v}findTileInCaches(r){let d=this.tileManager.getTileByID(r);return d||(d=this.tileManager._outOfViewCache.getByKey(r),d)}anyTilesAfterTime(r=Date.now()){return this._lastTilesetChange>=r}_isWithinTileRanges(r,d){return d[r.canonical.z]&&r.canonical.x>=d[r.canonical.z].minTileX&&r.canonical.x<=d[r.canonical.z].maxTileX&&r.canonical.y>=d[r.canonical.z].minTileY&&r.canonical.y<=d[r.canonical.z].maxTileY}}class Rn{constructor(r,d,h){this._meshCache={},this.painter=r,this.tileManager=new Td(d),this.options=h,this.exaggeration=typeof h.exaggeration=="number"?h.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(r,d,h,f=a.a5){var v;if(!(d>=0&&d<f&&h>=0&&h<f))return 0;let w=this.getTerrainData(r),k=(v=w.tile)===null||v===void 0?void 0:v.dem;if(!k)return 0;let P=a.cC([],[d/f*a.a5,h/f*a.a5],w.u_terrain_matrix),F=[P[0]*k.dim,P[1]*k.dim],B=Math.floor(F[0]),j=Math.floor(F[1]),H=F[0]-B,W=F[1]-j;return k.get(B,j)*(1-H)*(1-W)+k.get(B+1,j)*H*(1-W)+k.get(B,j+1)*(1-H)*W+k.get(B+1,j+1)*H*W}getElevationForLngLatZoom(r,d){if(!a.cD(d,r.wrap()))return 0;let{tileID:h,mercatorX:f,mercatorY:v}=this._getOverscaledTileIDFromLngLatZoom(r,d);return this.getElevation(h,f%a.a5,v%a.a5,a.a5)}getElevationForLngLat(r,d){let h=Wn(d,{maxzoom:this.tileManager.maxzoom,minzoom:this.tileManager.minzoom,tileSize:512,terrain:this}),f=0;for(let v of h)v.canonical.z>f&&(f=Math.min(v.canonical.z,this.tileManager.maxzoom));return this.getElevationForLngLatZoom(r,f)}getElevation(r,d,h,f=a.a5){return this.getDEMElevation(r,d,h,f)*this.exaggeration}getTerrainData(r){if(!this._emptyDemTexture){let f=this.painter.context,v=new a.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new a.T(f,v,f.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new a.T(f,new a.R({width:1,height:1}),f.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(f.gl.NEAREST,f.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.ar([])}let d=this.tileManager.getSourceTile(r,!0);if(d&&d.dem&&(!d.demTexture||d.needsTerrainPrepare)){let f=this.painter.context;d.demTexture=this.painter.getTileTexture(d.dem.stride),d.demTexture?d.demTexture.update(d.dem.getPixels(),{premultiply:!1}):d.demTexture=new a.T(f,d.dem.getPixels(),f.gl.RGBA,{premultiply:!1}),d.demTexture.bind(f.gl.NEAREST,f.gl.CLAMP_TO_EDGE),d.needsTerrainPrepare=!1}let h=d&&d.toString()+d.tileID.key+r.key;if(h&&!this._demMatrixCache[h]){let f=this.tileManager.getSource().maxzoom,v=r.canonical.z-d.tileID.canonical.z;r.overscaledZ>r.canonical.z&&(r.canonical.z>=f?v=r.canonical.z-f:a.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));let w=r.canonical.x-(r.canonical.x>>v<<v),k=r.canonical.y-(r.canonical.y>>v<<v),P=a.cE(new Float64Array(16),[1/(a.a5<<v),1/(a.a5<<v),0]);a.O(P,P,[w*a.a5,k*a.a5,0]),this._demMatrixCache[r.key]={matrix:P,coord:r}}return{u_depth:2,u_terrain:3,u_terrain_dim:d&&d.dem&&d.dem.dim||1,u_terrain_matrix:h?this._demMatrixCache[r.key].matrix:this._emptyDemMatrix,u_terrain_unpack:d&&d.dem&&d.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(d&&d.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:d}}getFramebuffer(r){let d=this.painter,h=d.width/devicePixelRatio,f=d.height/devicePixelRatio;return!this._fbo||this._fbo.width===h&&this._fbo.height===f||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new a.T(d.context,{width:h,height:f,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new a.T(d.context,{width:h,height:f,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=d.context.createFramebuffer(h,f,!0,!1),this._fbo.depthAttachment.set(d.context.createRenderbuffer(d.context.gl.DEPTH_COMPONENT16,h,f))),this._fbo.colorAttachment.set(r==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){let r=this.painter.context;if(this._coordsTexture)return this._coordsTexture;let d=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let v=0,w=0;v<this._coordsTextureSize;v++)for(let k=0;k<this._coordsTextureSize;k++,w+=4)d[w+0]=255&k,d[w+1]=255&v,d[w+2]=k>>8<<4|v>>8,d[w+3]=0;let h=new a.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(d.buffer)),f=new a.T(r,h,r.gl.RGBA,{premultiply:!1});return f.bind(r.gl.NEAREST,r.gl.CLAMP_TO_EDGE),this._coordsTexture=f,f}pointCoordinate(r){this.painter.maybeDrawDepthAndCoords(!0);let d=new Uint8Array(4),h=this.painter.context,f=h.gl,v=Math.round(r.x*this.painter.pixelRatio/devicePixelRatio),w=Math.round(r.y*this.painter.pixelRatio/devicePixelRatio),k=Math.round(this.painter.height/devicePixelRatio);h.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),f.readPixels(v,k-w-1,1,1,f.RGBA,f.UNSIGNED_BYTE,d),h.bindFramebuffer.set(null);let P=d[0]+(d[2]>>4<<8),F=d[1]+((15&d[2])<<8),B=this.coordsIndex[255-d[3]],j=B&&this.tileManager.getTileByID(B);if(!j)return null;let H=this._coordsTextureSize,W=(1<<j.tileID.canonical.z)*H;return new a.a9((j.tileID.canonical.x*H+P)/W+j.tileID.wrap,(j.tileID.canonical.y*H+F)/W,this.getElevation(j.tileID,P,F,H))}depthAtPoint(r){let d=new Uint8Array(4),h=this.painter.context,f=h.gl;return h.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),f.readPixels(r.x,this.painter.height/devicePixelRatio-r.y-1,1,1,f.RGBA,f.UNSIGNED_BYTE,d),h.bindFramebuffer.set(null),(d[0]/16777216+d[1]/65536+d[2]/256+d[3])/256}getTerrainMesh(r){var d;let h=((d=this.painter.style.projection)===null||d===void 0?void 0:d.transitionState)>0,f=h&&r.canonical.y===0,v=h&&r.canonical.y===(1<<r.canonical.z)-1,w=`m_${f?"n":""}_${v?"s":""}`;if(this._meshCache[w])return this._meshCache[w];let k=this.painter.context,P=new a.cF,F=new a.aY,B=this.meshSize,j=a.a5/B,H=B*B;for(let Ie=0;Ie<=B;Ie++)for(let Oe=0;Oe<=B;Oe++)P.emplaceBack(Oe*j,Ie*j,0);for(let Ie=0;Ie<H;Ie+=B+1)for(let Oe=0;Oe<B;Oe++)F.emplaceBack(Oe+Ie,B+Oe+Ie+1,B+Oe+Ie+2),F.emplaceBack(Oe+Ie,B+Oe+Ie+2,Oe+Ie+1);let W=P.length,ne=W+(B+1),he=(B+1)*B,fe=f?a.br:0,me=f?0:1,be=v?a.bs:a.a5,Me=v?0:1;for(let Ie=0;Ie<=B;Ie++)P.emplaceBack(Ie*j,fe,me);for(let Ie=0;Ie<=B;Ie++)P.emplaceBack(Ie*j,be,Me);for(let Ie=0;Ie<B;Ie++)F.emplaceBack(he+Ie,ne+Ie,ne+Ie+1),F.emplaceBack(he+Ie,ne+Ie+1,he+Ie+1),F.emplaceBack(0+Ie,W+Ie+1,W+Ie),F.emplaceBack(0+Ie,0+Ie+1,W+Ie+1);let _e=P.length,Se=_e+2*(B+1);for(let Ie of[0,1])for(let Oe=0;Oe<=B;Oe++)for(let Ye of[0,1])P.emplaceBack(Ie*a.a5,Oe*j,Ye);for(let Ie=0;Ie<2*B;Ie+=2)F.emplaceBack(_e+Ie,_e+Ie+1,_e+Ie+3),F.emplaceBack(_e+Ie,_e+Ie+3,_e+Ie+2),F.emplaceBack(Se+Ie,Se+Ie+3,Se+Ie+1),F.emplaceBack(Se+Ie,Se+Ie+2,Se+Ie+3);let Pe=new gn(k.createVertexBuffer(P,g1.members),k.createIndexBuffer(F),a.aX.simpleSegment(0,0,P.length,F.length));return this._meshCache[w]=Pe,Pe}getMeshFrameDelta(r){return 2*Math.PI*a.bE/Math.pow(2,Math.max(r,0))/5}getMinTileElevationForLngLatZoom(r,d){var h;if(!a.cD(d,r.wrap()))return 0;let{tileID:f}=this._getOverscaledTileIDFromLngLatZoom(r,d);return(h=this.getMinMaxElevation(f).minElevation)!==null&&h!==void 0?h:0}getMinMaxElevation(r){let d=this.getTerrainData(r).tile,h={minElevation:null,maxElevation:null};return d&&d.dem&&(h.minElevation=d.dem.min*this.exaggeration,h.maxElevation=d.dem.max*this.exaggeration),h}_getOverscaledTileIDFromLngLatZoom(r,d){let h=a.a9.fromLngLat(r.wrap()),f=(1<<d)*a.a5,v=h.x*f,w=h.y*f,k=Math.floor(v/a.a5),P=Math.floor(w/a.a5);return{tileID:new a.a2(d,0,d,k,P),mercatorX:v,mercatorY:w}}}class la{constructor(r,d,h){this._context=r,this._size=d,this._tileSize=h,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(let r of this._objects)r.texture.destroy(),r.fbo.destroy()}_createObject(r){let d=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),h=new a.T(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return h.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),d.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),d.colorAttachment.set(h.texture),{id:r,fbo:d,texture:h,stamp:-1,inUse:!1}}getObjectForId(r){return this._objects[r]}useObject(r){r.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(d=>r.id!==d),this._recentlyUsed.push(r.id)}stampObject(r){r.stamp=++this._stamp}getOrCreateFreeObject(){for(let d of this._recentlyUsed)if(!this._objects[d].inUse)return this._objects[d];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");let r=this._createObject(this._objects.length);return this._objects.push(r),r}freeObject(r){r.inUse=!1}freeAllObjects(){for(let r of this._objects)this.freeObject(r)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(r=>!r.inUse)===!1}}let nl={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0,"color-relief":!0};class Cd{constructor(r,d){this.painter=r,this.terrain=d,this.pool=new la(r.context,30,d.tileManager.tileSize*d.qualityFactor)}destruct(){this.pool.destruct()}getTexture(r){return this.pool.getObjectForId(r.rtt[this._stacks.length-1].id).texture}prepareForRender(r,d){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.tileManager.getRenderableTiles(),this._renderableLayerIds=r._order.filter(h=>!r._layers[h].isHidden(d)),this._coordsAscending={};for(let h in r.tileManagers){this._coordsAscending[h]={};let f=r.tileManagers[h].getVisibleCoordinates(),v=r.tileManagers[h].getSource(),w=v instanceof Io?v.terrainTileRanges:null;for(let k of f){let P=this.terrain.tileManager.getTerrainCoords(k,w);for(let F in P)this._coordsAscending[h][F]||(this._coordsAscending[h][F]=[]),this._coordsAscending[h][F].push(P[F])}}this._coordsAscendingStr={};for(let h of r._order){let f=r._layers[h],v=f.source;if(nl[f.type]&&!this._coordsAscendingStr[v]){this._coordsAscendingStr[v]={};for(let w in this._coordsAscending[v])this._coordsAscendingStr[v][w]=this._coordsAscending[v][w].map(k=>k.key).sort().join()}}for(let h of this._renderableTiles)for(let f in this._coordsAscendingStr){let v=this._coordsAscendingStr[f][h.tileID.key];v&&v!==h.rttCoords[f]&&(h.rtt=[])}}renderLayer(r,d){if(r.isHidden(this.painter.transform.zoom))return!1;let h=Object.assign(Object.assign({},d),{isRenderingToTexture:!0}),f=r.type,v=this.painter,w=this._renderableLayerIds[this._renderableLayerIds.length-1]===r.id;if(nl[f]&&(this._prevType&&nl[this._prevType]||this._stacks.push([]),this._prevType=f,this._stacks[this._stacks.length-1].push(r.id),!w))return!0;if(nl[this._prevType]||nl[f]&&w){this._prevType=f;let k=this._stacks.length-1,P=this._stacks[k]||[];for(let F of this._renderableTiles){if(this.pool.isFull()&&(Ch(this.painter,this.terrain,this._rttTiles,h),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(F),F.rtt[k]){let j=this.pool.getObjectForId(F.rtt[k].id);if(j.stamp===F.rtt[k].stamp){this.pool.useObject(j);continue}}let B=this.pool.getOrCreateFreeObject();this.pool.useObject(B),this.pool.stampObject(B),F.rtt[k]={id:B.id,stamp:B.stamp},v.context.bindFramebuffer.set(B.fbo.framebuffer),v.context.clear({color:a.bp.transparent,stencil:0}),v.currentStencilSource=void 0;for(let j=0;j<P.length;j++){let H=v.style._layers[P[j]],W=H.source?this._coordsAscending[H.source][F.tileID.key]:[F.tileID];v.context.viewport.set([0,0,B.fbo.width,B.fbo.height]),v._renderTileClippingMasks(H,W,!0),v.renderLayer(v,v.style.tileManagers[H.source],H,W,h),H.source&&(F.rttCoords[H.source]=this._coordsAscendingStr[H.source][F.tileID.key])}}return Ch(this.painter,this.terrain,this._rttTiles,h),this._rttTiles=[],this.pool.freeAllObjects(),nl[f]}return!1}}let zu={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use \u2318 + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},zh=u,Ru={hash:!1,interactive:!0,bearingSnap:7,attributionControl:er,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.c.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,transformConstrain:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,reduceMotion:void 0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0,experimentalZoomLevelsToOverscale:void 0},Rh={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class Sd{constructor(r,d,h=!1){this.mousedown=v=>{this.startMove(v,J.mousePos(this.element,v)),J.addEventListener(window,"mousemove",this.mousemove),J.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=v=>{this.move(v,J.mousePos(this.element,v))},this.mouseup=v=>{this._rotatePitchHandler.dragEnd(v),this.offTemp()},this.touchstart=v=>{v.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=J.touchPos(this.element,v.targetTouches)[0],this.startMove(v,this._startPos),J.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),J.addEventListener(window,"touchend",this.touchend))},this.touchmove=v=>{v.targetTouches.length!==1?this.reset():(this._lastPos=J.touchPos(this.element,v.targetTouches)[0],this.move(v,this._lastPos))},this.touchend=v=>{v.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHandler.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=d;let f=new Hf;this._rotatePitchHandler=new Wl({clickTolerance:3,move:(v,w)=>{let k=d.getBoundingClientRect(),P=new a.P((k.bottom-k.top)/2,(k.right-k.left)/2);return{bearingDelta:a.cx(new a.P(v.x,w.y),w,P),pitchDelta:h?-.5*(w.y-v.y):void 0}},moveStateManager:f,enable:!0,assignEvents:()=>{}}),this.map=r,J.addEventListener(d,"mousedown",this.mousedown),J.addEventListener(d,"touchstart",this.touchstart,{passive:!1}),J.addEventListener(d,"touchcancel",this.reset)}startMove(r,d){this._rotatePitchHandler.dragStart(r,d),J.disableDrag()}move(r,d){let h=this.map,{bearingDelta:f,pitchDelta:v}=this._rotatePitchHandler.dragMove(r,d)||{};f&&h.setBearing(h.getBearing()+f),v&&h.setPitch(h.getPitch()+v)}off(){let r=this.element;J.removeEventListener(r,"mousedown",this.mousedown),J.removeEventListener(r,"touchstart",this.touchstart,{passive:!1}),J.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),J.removeEventListener(window,"touchend",this.touchend),J.removeEventListener(r,"touchcancel",this.reset),this.offTemp()}offTemp(){J.enableDrag(),J.removeEventListener(window,"mousemove",this.mousemove),J.removeEventListener(window,"mouseup",this.mouseup),J.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),J.removeEventListener(window,"touchend",this.touchend)}}let Yr;function Bu(y,r,d,h=!1){if(h||!d.getCoveringTilesDetailsProvider().allowWorldCopies())return y?.wrap();let f=new a.V(y.lng,y.lat);if(y=new a.V(y.lng,y.lat),r){let v=new a.V(y.lng-360,y.lat),w=new a.V(y.lng+360,y.lat),k=d.locationToScreenPoint(y).distSqr(r);d.locationToScreenPoint(v).distSqr(r)<k?y=v:d.locationToScreenPoint(w).distSqr(r)<k&&(y=w)}for(;Math.abs(y.lng-d.center.lng)>180;){let v=d.locationToScreenPoint(y);if(v.x>=0&&v.y>=0&&v.x<=d.width&&v.y<=d.height)break;y.lng>d.center.lng?y.lng-=360:y.lng+=360}return y.lng!==f.lng&&d.isPointOnMapSurface(d.locationToScreenPoint(y))?y:f}let Md={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Nu(y,r,d){let h=y.classList;for(let f in Md)h.remove(`maplibregl-${d}-anchor-${f}`);h.add(`maplibregl-${d}-anchor-${r}`)}class kd extends a.E{constructor(r){if(super(),this._onKeyPress=d=>{let h=d.code,f=d.charCode||d.keyCode;h!=="Space"&&h!=="Enter"&&f!==32&&f!==13||this.togglePopup()},this._onMapClick=d=>{let h=d.originalEvent.target,f=this._element;this._popup&&(h===f||f.contains(h))&&this.togglePopup()},this._update=d=>{if(!this._map)return;let h=this._map.loaded()&&!this._map.isMoving();(d?.type==="terrain"||d?.type==="render"&&!h)&&this._map.once("render",this._update),this._lngLat=Bu(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let f="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?f=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(f=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let v="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?v="rotateX(0deg)":this._pitchAlignment==="map"&&(v=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||d&&d.type!=="moveend"||(this._pos=this._pos.round()),J.setTransform(this._element,`${Md[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${v} ${f}`),U.frameAsync(new AbortController).then(()=>{this._updateOpacity(d&&d.type==="moveend")}).catch(()=>{})},this._onMove=d=>{if(!this._isDragging){let h=this._clickTolerance||this._map._clickTolerance;this._isDragging=d.point.dist(this._pointerdownPos)>=h}this._isDragging&&(this._pos=d.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.l("dragstart"))),this.fire(new a.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.l("dragend")),this._state="inactive"},this._addDragHandler=d=>{this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(this._pos).add(this._offset),this._pointerdownPos=d.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._subpixelPositioning=r&&r.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&r.pitchAlignment!=="auto"?r.pitchAlignment:this._rotationAlignment,this.setOpacity(r?.opacity,r?.opacityWhenCovered),r&&r.element)this._element=r.element,this._offset=a.P.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=J.create("div");let d=J.createNS("http://www.w3.org/2000/svg","svg"),h=41,f=27;d.setAttributeNS(null,"display","block"),d.setAttributeNS(null,"height",`${h}px`),d.setAttributeNS(null,"width",`${f}px`),d.setAttributeNS(null,"viewBox",`0 0 ${f} ${h}`);let v=J.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"stroke","none"),v.setAttributeNS(null,"stroke-width","1"),v.setAttributeNS(null,"fill","none"),v.setAttributeNS(null,"fill-rule","evenodd");let w=J.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"fill-rule","nonzero");let k=J.createNS("http://www.w3.org/2000/svg","g");k.setAttributeNS(null,"transform","translate(3.0, 29.0)"),k.setAttributeNS(null,"fill","#000000");let P=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(let me of P){let be=J.createNS("http://www.w3.org/2000/svg","ellipse");be.setAttributeNS(null,"opacity","0.04"),be.setAttributeNS(null,"cx","10.5"),be.setAttributeNS(null,"cy","5.80029008"),be.setAttributeNS(null,"rx",me.rx),be.setAttributeNS(null,"ry",me.ry),k.appendChild(be)}let F=J.createNS("http://www.w3.org/2000/svg","g");F.setAttributeNS(null,"fill",this._color);let B=J.createNS("http://www.w3.org/2000/svg","path");B.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),F.appendChild(B);let j=J.createNS("http://www.w3.org/2000/svg","g");j.setAttributeNS(null,"opacity","0.25"),j.setAttributeNS(null,"fill","#000000");let H=J.createNS("http://www.w3.org/2000/svg","path");H.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),j.appendChild(H);let W=J.createNS("http://www.w3.org/2000/svg","g");W.setAttributeNS(null,"transform","translate(6.0, 7.0)"),W.setAttributeNS(null,"fill","#FFFFFF");let ne=J.createNS("http://www.w3.org/2000/svg","g");ne.setAttributeNS(null,"transform","translate(8.0, 8.0)");let he=J.createNS("http://www.w3.org/2000/svg","circle");he.setAttributeNS(null,"fill","#000000"),he.setAttributeNS(null,"opacity","0.25"),he.setAttributeNS(null,"cx","5.5"),he.setAttributeNS(null,"cy","5.5"),he.setAttributeNS(null,"r","5.4999962");let fe=J.createNS("http://www.w3.org/2000/svg","circle");fe.setAttributeNS(null,"fill","#FFFFFF"),fe.setAttributeNS(null,"cx","5.5"),fe.setAttributeNS(null,"cy","5.5"),fe.setAttributeNS(null,"r","5.4999962"),ne.appendChild(he),ne.appendChild(fe),w.appendChild(k),w.appendChild(F),w.appendChild(j),w.appendChild(W),w.appendChild(ne),d.appendChild(w),d.setAttributeNS(null,"height",h*this._scale+"px"),d.setAttributeNS(null,"width",f*this._scale+"px"),this._element.appendChild(d),this._offset=a.P.convert(r&&r.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",d=>{d.preventDefault()}),this._element.addEventListener("mousedown",d=>{d.preventDefault()}),Nu(this._element,this._anchor,"marker"),r&&r.className)for(let d of r.className.split(" "))this._element.classList.add(d);this._popup=null}addTo(r){return this.remove(),this._map=r,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",r._getUIString("Marker.Title")),this._element.hasAttribute("role")||this._element.setAttribute("role","button"),r.getCanvasContainer().appendChild(this._element),r.on("move",this._update),r.on("moveend",this._update),r.on("terrain",this._update),r.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),J.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(r){return this._lngLat=a.V.convert(r),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(r){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),r){if(!("offset"in r.options)){let f=Math.abs(13.5)/Math.SQRT2;r.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[f,-1*(38.1-13.5+f)],"bottom-right":[-f,-1*(38.1-13.5+f)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=r,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(r){return this._subpixelPositioning=r,this}getPopup(){return this._popup}togglePopup(){let r=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:r?(r.isOpen()?r.remove():(r.setLngLat(this._lngLat),r.addTo(this._map)),this):this}_updateOpacity(r=!1){var d,h;let f=(d=this._map)===null||d===void 0?void 0:d.terrain,v=this._map.transform.isLocationOccluded(this._lngLat);if(!f||v){let W=v?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==W&&(this._element.style.opacity=W))}if(r)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}let w=this._map,k=w.terrain.depthAtPoint(this._pos),P=w.terrain.getElevationForLngLat(this._lngLat,w.transform);if(w.transform.lngLatToCameraDepth(this._lngLat,P)-k<.006)return void(this._element.style.opacity=this._opacity);let F=-this._offset.y/w.transform.pixelsPerMeter,B=Math.sin(w.getPitch()*Math.PI/180)*F,j=w.terrain.depthAtPoint(new a.P(this._pos.x,this._pos.y-this._offset.y)),H=w.transform.lngLatToCameraDepth(this._lngLat,P+B)-j>.006;!((h=this._popup)===null||h===void 0)&&h.isOpen()&&H&&this._popup.remove(),this._element.style.opacity=H?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(r){return this._offset=a.P.convert(r),this._update(),this}addClassName(r){this._element.classList.add(r)}removeClassName(r){this._element.classList.remove(r)}toggleClassName(r){return this._element.classList.toggle(r)}setDraggable(r){return this._draggable=!!r,this._map&&(r?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(r){return this._rotation=r||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(r){return this._rotationAlignment=r||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(r){return this._pitchAlignment=r&&r!=="auto"?r:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(r,d){return(this._opacity===void 0||r===void 0&&d===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),r!==void 0&&(this._opacity=r),d!==void 0&&(this._opacityWhenCovered=d),this._map&&this._updateOpacity(!0),this}}let Bh={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ql=0,al=!1,Nh={maxWidth:100,unit:"metric"};function Ed(y,r,d){let h=d&&d.maxWidth||100,f=y._container.clientHeight/2,v=y._container.clientWidth/2,w=y.unproject([v-h/2,f]),k=y.unproject([v+h/2,f]),P=Math.round(y.project(k).x-y.project(w).x),F=Math.min(h,P,y._container.clientWidth),B=w.distanceTo(k);if(d&&d.unit==="imperial"){let j=3.2808*B;j>5280?ol(r,F,j/5280,y._getUIString("ScaleControl.Miles")):ol(r,F,j,y._getUIString("ScaleControl.Feet"))}else d&&d.unit==="nautical"?ol(r,F,B/1852,y._getUIString("ScaleControl.NauticalMiles")):B>=1e3?ol(r,F,B/1e3,y._getUIString("ScaleControl.Kilometers")):ol(r,F,B,y._getUIString("ScaleControl.Meters"))}function ol(y,r,d,h){let f=function(v){let w=Math.pow(10,`${Math.floor(v)}`.length-1),k=v/w;return k=k>=10?10:k>=5?5:k>=3?3:k>=2?2:k>=1?1:function(P){let F=Math.pow(10,Math.ceil(-Math.log(P)/Math.LN10));return Math.round(P*F)/F}(k),w*k}(d);y.style.width=r*(f/d)+"px",y.innerHTML=`${f}&nbsp;${h}`}let qh={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},qu=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Hu(y){if(y){if(typeof y=="number"){let r=Math.round(Math.abs(y)/Math.SQRT2);return{center:new a.P(0,0),top:new a.P(0,y),"top-left":new a.P(r,r),"top-right":new a.P(-r,r),bottom:new a.P(0,-y),"bottom-left":new a.P(r,-r),"bottom-right":new a.P(-r,-r),left:new a.P(y,0),right:new a.P(-y,0)}}if(y instanceof a.P||Array.isArray(y)){let r=a.P.convert(y);return{center:r,top:r,"top-left":r,"top-right":r,bottom:r,"bottom-left":r,"bottom-right":r,left:r,right:r}}return{center:a.P.convert(y.center||[0,0]),top:a.P.convert(y.top||[0,0]),"top-left":a.P.convert(y["top-left"]||[0,0]),"top-right":a.P.convert(y["top-right"]||[0,0]),bottom:a.P.convert(y.bottom||[0,0]),"bottom-left":a.P.convert(y["bottom-left"]||[0,0]),"bottom-right":a.P.convert(y["bottom-right"]||[0,0]),left:a.P.convert(y.left||[0,0]),right:a.P.convert(y.right||[0,0])}}return Hu(new a.P(0,0))}let Hh=u;n.AJAXError=a.cI,n.Event=a.l,n.Evented=a.E,n.LngLat=a.V,n.MercatorCoordinate=a.a9,n.Point=a.P,n.addProtocol=a.cJ,n.config=a.c,n.removeProtocol=a.cK,n.AttributionControl=Vh,n.BoxZoomHandler=Kl,n.CanvasSource=te,n.CooperativeGesturesHandler=Xt,n.DoubleClickZoomHandler=Fh,n.DragPanHandler=Wf,n.DragRotateHandler=Ir,n.EdgeInsets=Pl,n.FullscreenControl=class extends a.E{constructor(y={}){super(),this._onFullscreenChange=()=>{var r;let d=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((r=d?.shadowRoot)===null||r===void 0)&&r.fullscreenElement;)d=d.shadowRoot.fullscreenElement;d===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,y&&y.container&&(y.container instanceof HTMLElement?this._container=y.container:a.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(y){return this._map=y,this._container||(this._container=this._map.getContainer()),this._controlContainer=J.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){J.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){let y=this._fullscreenButton=J.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);J.create("span","maplibregl-ctrl-icon",y).setAttribute("aria-hidden","true"),y.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){let y=this._getTitle();this._fullscreenButton.setAttribute("aria-label",y),this._fullscreenButton.title=y}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new a.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},n.GeoJSONSource=Tl,n.GeolocateControl=class extends a.E{constructor(y){super(),this._onSuccess=r=>{if(this._map){if(this._isOutOfMapMaxBounds(r))return this._setErrorState(),this.fire(new a.l("outofmaxbounds",r)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=r,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(r),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(r),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.l("geolocate",r)),this._finish()}},this._updateCamera=r=>{let d=new a.V(r.coords.longitude,r.coords.latitude),h=r.coords.accuracy,f=this._map.getBearing(),v=a.e({bearing:f},this.options.fitBoundsOptions),w=Kn.fromLngLat(d,h);this._map.fitBounds(w,v,{geolocateSource:!0})},this._updateMarker=r=>{if(r){let d=new a.V(r.coords.longitude,r.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=r.coords.accuracy,this._updateCircleRadiusIfNeeded()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onUpdate=()=>{this._updateCircleRadiusIfNeeded()},this._onError=r=>{if(this._map){if(r.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;let d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(r.code===3&&al)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.l("error",r)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",r=>r.preventDefault()),this._geolocateButton=J.create("button","maplibregl-ctrl-geolocate",this._container),J.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=r=>{if(this._map){if(r===!1){a.w("Geolocation support is not available so the GeolocateControl will be disabled.");let d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}else{let d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=J.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new kd({element:this._dotElement}),this._circleElement=J.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new kd({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onUpdate),this._map.on("move",this._onUpdate),this._map.on("rotate",this._onUpdate),this._map.on("pitch",this._onUpdate)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",d=>{let h=d?.[0]instanceof ResizeObserverEntry;d.geolocateSource||this._watchState!=="ACTIVE_LOCK"||h||this._map.isZooming()||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.l("trackuserlocationend")),this.fire(new a.l("userlocationlostfocus")))})}},this.options=a.e({},Bh,y)}onAdd(y){return this._map=y,this._container=J.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return a._(this,arguments,void 0,function*(r=!1){if(Yr!==void 0&&!r)return Yr;if(window.navigator.permissions===void 0)return Yr=!!window.navigator.geolocation,Yr;try{Yr=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{Yr=!!window.navigator.geolocation}return Yr})}().then(r=>this._finishSetupUI(r)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),J.remove(this._container),this._map.off("zoom",this._onUpdate),this._map.off("move",this._onUpdate),this._map.off("rotate",this._onUpdate),this._map.off("pitch",this._onUpdate),this._map=void 0,Ql=0,al=!1}_isOutOfMapMaxBounds(y){let r=this._map.getMaxBounds(),d=y.coords;return r&&(d.longitude<r.getWest()||d.longitude>r.getEast()||d.latitude<r.getSouth()||d.latitude>r.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":case"BACKGROUND_ERROR":case"OFF":case void 0:break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadiusIfNeeded(){let y=this._userLocationDotMarker.getLngLat();if(!(this.options.showUserLocation&&this.options.showAccuracyCircle&&this._accuracy&&y))return;let r=this._map.project(y),d=this._map.unproject([r.x+100,r.y]),h=y.distanceTo(d)/100,f=2*this._accuracy/h;this._circleElement.style.width=`${f.toFixed(2)}px`,this._circleElement.style.height=`${f.toFixed(2)}px`}trigger(){if(!this._setup)return a.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ql--,al=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.l("trackuserlocationstart")),this.fire(new a.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let y;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Ql++,Ql>1?(y={maximumAge:6e5,timeout:0},al=!0):(y=this.options.positionOptions,al=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,y)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},n.GlobeControl=class{constructor(){this._toggleProjection=()=>{var y;let r=(y=this._map.getProjection())===null||y===void 0?void 0:y.type;this._map.setProjection(r!=="mercator"&&r?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var y;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((y=this._map.getProjection())===null||y===void 0?void 0:y.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(y){return this._map=y,this._container=J.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=J.create("button","maplibregl-ctrl-globe",this._container),J.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){J.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},n.Hash=kh,n.ImageSource=Io,n.KeyboardHandler=pn,n.LngLatBounds=Kn,n.LogoControl=Zf,n.Map=class extends go{constructor(y){var r,d;a.cG.mark(a.cH.create);let h=Object.assign(Object.assign(Object.assign({},Ru),y),{canvasContextAttributes:Object.assign(Object.assign({},Ru.canvasContextAttributes),y.canvasContextAttributes)});if(h.minZoom!=null&&h.maxZoom!=null&&h.minZoom>h.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(h.minPitch!=null&&h.maxPitch!=null&&h.minPitch>h.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(h.minPitch!=null&&h.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(h.maxPitch!=null&&h.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");let f=new $s,v=new Ks;if(h.minZoom!==void 0&&f.setMinZoom(h.minZoom),h.maxZoom!==void 0&&f.setMaxZoom(h.maxZoom),h.minPitch!==void 0&&f.setMinPitch(h.minPitch),h.maxPitch!==void 0&&f.setMaxPitch(h.maxPitch),h.renderWorldCopies!==void 0&&f.setRenderWorldCopies(h.renderWorldCopies),h.transformConstrain!==null&&f.setConstrainOverride(h.transformConstrain),super(f,v,{bearingSnap:h.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new f1,this._controls=[],this._mapId=a.af(),this._lostContextStyle={style:null,images:null},this._contextLost=k=>{k.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.painter.destroy();for(let P of Object.values(this.style._layers))if(P.type==="custom"&&console.warn(`Custom layer with id '${P.id}' cannot be restored after WebGL context loss. You will need to re-add it manually after context restoration.`),P._listeners)for(let[F]of Object.entries(P._listeners))console.warn(`Custom layer with id '${P.id}' had event listeners for event '${F}' which cannot be restored after WebGL context loss. You will need to re-add them manually after context restoration.`);this._lostContextStyle=this._getStyleAndImages(),this.style.destroy(),this.style=null,this.fire(new a.l("webglcontextlost",{originalEvent:k}))},this._contextRestored=k=>{this._lostContextStyle.style&&this.setStyle(this._lostContextStyle.style,{diff:!1}),this._lostContextStyle.images&&(this.style.imageManager.images=this._lostContextStyle.images),this._setupPainter(),this.resize(),this._update(),this.fire(new a.l("webglcontextrestored",{originalEvent:k}))},this._onMapScroll=k=>{if(k.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=h.interactive,this._maxTileCacheSize=h.maxTileCacheSize,this._maxTileCacheZoomLevels=h.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},h.canvasContextAttributes),this._trackResize=h.trackResize===!0,this._bearingSnap=h.bearingSnap,this._centerClampedToGround=h.centerClampedToGround,this._refreshExpiredTiles=h.refreshExpiredTiles===!0,this._fadeDuration=h.fadeDuration,this._crossSourceCollisions=h.crossSourceCollisions===!0,this._collectResourceTiming=h.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},zu),h.locale),this._clickTolerance=h.clickTolerance,this._overridePixelRatio=h.pixelRatio,this._maxCanvasSize=h.maxCanvasSize,this._zoomLevelsToOverscale=h.experimentalZoomLevelsToOverscale,this.transformCameraUpdate=h.transformCameraUpdate,this.transformConstrain=h.transformConstrain,this.cancelPendingTileRequestsWhileZooming=h.cancelPendingTileRequestsWhileZooming===!0,h.reduceMotion!==void 0&&(U.prefersReducedMotion=h.reduceMotion),this._imageQueueHandle=lt.addThrottleControl(()=>this.isMoving()),this._requestManager=new vt(h.transformRequest),typeof h.container=="string"){if(this._container=document.getElementById(h.container),!this._container)throw new Error(`Container '${h.container}' not found.`)}else{if(!(h.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=h.container}if(h.maxBounds&&this.setMaxBounds(h.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let k=!1,P=Mh(F=>{this._trackResize&&!this._removed&&(this.resize(F),this.redraw())},50);this._resizeObserver=new ResizeObserver(F=>{k?P(F):k=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Vu(this,h),this._hash=h.hash&&new kh(typeof h.hash=="string"&&h.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:h.center,elevation:h.elevation,zoom:h.zoom,bearing:h.bearing,pitch:h.pitch,roll:h.roll}),h.bounds&&(this.resize(),this.fitBounds(h.bounds,a.e({},h.fitBoundsOptions,{duration:0}))));let w=typeof h.style=="string"||((d=(r=h.style)===null||r===void 0?void 0:r.projection)===null||d===void 0?void 0:d.type)!=="globe";this.resize(null,w),this._localIdeographFontFamily=h.localIdeographFontFamily,this._validateStyle=h.validateStyle,h.style&&this.setStyle(h.style,{localIdeographFontFamily:h.localIdeographFontFamily}),h.attributionControl&&this.addControl(new Vh(typeof h.attributionControl=="boolean"?void 0:h.attributionControl)),h.maplibreLogo&&this.addControl(new Zf,h.logoPosition),this.on("style.load",()=>{if(w||this._resizeTransform(),this.transform.unmodified){let k=a.U(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(k)}}),this.on("data",k=>{this._update(k.dataType==="style"),this.fire(new a.l(`${k.dataType}data`,k))}),this.on("dataloading",k=>{this.fire(new a.l(`${k.dataType}dataloading`,k))}),this.on("dataabort",k=>{this.fire(new a.l("sourcedataabort",k))})}_getMapId(){return this._mapId}setGlobalStateProperty(y,r){return this.style.setGlobalStateProperty(y,r),this._update(!0)}getGlobalState(){return this.style.getGlobalState()}addControl(y,r){if(r===void 0&&(r=y.getDefaultPosition?y.getDefaultPosition():"top-right"),!y||!y.onAdd)return this.fire(new a.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));let d=y.onAdd(this);this._controls.push(y);let h=this._controlPositions[r];return r.indexOf("bottom")!==-1?h.insertBefore(d,h.firstChild):h.appendChild(d),this}removeControl(y){if(!y||!y.onRemove)return this.fire(new a.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));let r=this._controls.indexOf(y);return r>-1&&this._controls.splice(r,1),y.onRemove(this),this}hasControl(y){return this._controls.indexOf(y)>-1}coveringTiles(y){return Wn(this.transform,y)}calculateCameraOptionsFromTo(y,r,d,h){return h==null&&this.terrain&&(h=this.terrain.getElevationForLngLat(d,this.transform)),super.calculateCameraOptionsFromTo(y,r,d,h)}resize(y,r=!0){let[d,h]=this._containerDimensions(),f=this._getClampedPixelRatio(d,h);if(this._resizeCanvas(d,h,f),this.painter.resize(d,h,f),this.painter.overLimit()){let w=this.painter.context.gl;this._maxCanvasSize=[w.drawingBufferWidth,w.drawingBufferHeight];let k=this._getClampedPixelRatio(d,h);this._resizeCanvas(d,h,k),this.painter.resize(d,h,k)}this._resizeTransform(r);let v=!this._moving;return v&&(this.stop(),this.fire(new a.l("movestart",y)).fire(new a.l("move",y))),this.fire(new a.l("resize",y)),v&&this.fire(new a.l("moveend",y)),this}_resizeTransform(y=!0){var r;let[d,h]=this._containerDimensions();this.transform.resize(d,h,y),(r=this._requestedCameraState)===null||r===void 0||r.resize(d,h,y)}_getClampedPixelRatio(y,r){let{0:d,1:h}=this._maxCanvasSize,f=this.getPixelRatio(),v=y*f,w=r*f;return Math.min(v>d?d/v:1,w>h?h/w:1)*f}getPixelRatio(){var y;return(y=this._overridePixelRatio)!==null&&y!==void 0?y:devicePixelRatio}setPixelRatio(y){this._overridePixelRatio=y,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(y){return this.transform.setMaxBounds(Kn.convert(y)),this._update()}setMinZoom(y){if((y=y??-2)>=-2&&y<=this.transform.maxZoom){let r=this._getTransformForUpdate();return r.setMinZoom(y),this._applyUpdatedTransform(r),this._update(),this}throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(y){if((y=y??22)>=this.transform.minZoom){let r=this._getTransformForUpdate();return r.setMaxZoom(y),this._applyUpdatedTransform(r),this._update(),this}throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(y){if((y=y??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(y>=0&&y<=this.transform.maxPitch)return this.transform.setMinPitch(y),this._update(),this.getPitch()<y&&this.setPitch(y),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(y){if((y=y??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(y>=this.transform.minPitch)return this.transform.setMaxPitch(y),this._update(),this.getPitch()>y&&this.setPitch(y),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(y){return this.transform.setRenderWorldCopies(y),this._update()}setTransformConstrain(y){return this.transform.setConstrainOverride(y),this._update()}project(y){return this.transform.locationToScreenPoint(a.V.convert(y),this.style&&this.terrain)}unproject(y){return this.transform.screenPointToLocation(a.P.convert(y),this.terrain)}isMoving(){var y;return this._moving||((y=this.handlers)===null||y===void 0?void 0:y.isMoving())}isZooming(){var y;return this._zooming||((y=this.handlers)===null||y===void 0?void 0:y.isZooming())}isRotating(){var y;return this._rotating||((y=this.handlers)===null||y===void 0?void 0:y.isRotating())}_createDelegatedListener(y,r,d){if(y==="mouseenter"||y==="mouseover"){let h=!1;return{layers:r,listener:d,delegates:{mousemove:v=>{let w=r.filter(P=>this.getLayer(P)),k=w.length!==0?this.queryRenderedFeatures(v.point,{layers:w}):[];k.length?h||(h=!0,d.call(this,new Va(y,this,v.originalEvent,{features:k}))):h=!1},mouseout:()=>{h=!1}}}}if(y==="mouseleave"||y==="mouseout"){let h=!1;return{layers:r,listener:d,delegates:{mousemove:w=>{let k=r.filter(P=>this.getLayer(P));(k.length!==0?this.queryRenderedFeatures(w.point,{layers:k}):[]).length?h=!0:h&&(h=!1,d.call(this,new Va(y,this,w.originalEvent)))},mouseout:w=>{h&&(h=!1,d.call(this,new Va(y,this,w.originalEvent)))}}}}{let h=f=>{let v=r.filter(k=>this.getLayer(k)),w=v.length!==0?this.queryRenderedFeatures(f.point,{layers:v}):[];w.length&&(f.features=w,d.call(this,f),delete f.features)};return{layers:r,listener:d,delegates:{[y]:h}}}}_saveDelegatedListener(y,r){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[y]=this._delegatedListeners[y]||[],this._delegatedListeners[y].push(r)}_removeDelegatedListener(y,r,d){if(!this._delegatedListeners||!this._delegatedListeners[y])return;let h=this._delegatedListeners[y];for(let f=0;f<h.length;f++){let v=h[f];if(v.listener===d&&v.layers.length===r.length&&v.layers.every(w=>r.includes(w))){for(let w in v.delegates)this.off(w,v.delegates[w]);return void h.splice(f,1)}}}on(y,r,d){if(d===void 0)return super.on(y,r);let h=typeof r=="string"?[r]:r,f=this._createDelegatedListener(y,h,d);this._saveDelegatedListener(y,f);for(let v in f.delegates)this.on(v,f.delegates[v]);return{unsubscribe:()=>{this._removeDelegatedListener(y,h,d)}}}once(y,r,d){if(d===void 0)return super.once(y,r);let h=typeof r=="string"?[r]:r,f=this._createDelegatedListener(y,h,d);for(let v in f.delegates){let w=f.delegates[v];f.delegates[v]=(...k)=>{this._removeDelegatedListener(y,h,d),w(...k)}}this._saveDelegatedListener(y,f);for(let v in f.delegates)this.once(v,f.delegates[v]);return this}off(y,r,d){return d===void 0?super.off(y,r):(this._removeDelegatedListener(y,typeof r=="string"?[r]:r,d),this)}queryRenderedFeatures(y,r){if(!this.style)return[];let d,h=y instanceof a.P||Array.isArray(y),f=h?y:[[0,0],[this.transform.width,this.transform.height]];if(r=r||(h?{}:y)||{},f instanceof a.P||typeof f[0]=="number")d=[a.P.convert(f)];else{let v=a.P.convert(f[0]),w=a.P.convert(f[1]);d=[v,new a.P(w.x,v.y),w,new a.P(v.x,w.y),v]}return this.style.queryRenderedFeatures(d,r,this.transform)}querySourceFeatures(y,r){return this.style.querySourceFeatures(y,r)}setStyle(y,r){return(r=a.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},r)).diff!==!1&&r.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&y?(this._diffStyle(y,r),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._updateStyle(y,r))}setTransformRequest(y){return this._requestManager.setTransformRequest(y),this}_getUIString(y){let r=this._locale[y];if(r==null)throw new Error(`Missing UI string '${y}'`);return r}_updateStyle(y,r){var d,h;if(r.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(y,r));let f=this.style&&r.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!y)),y?(this.style=new Zs(this,r||{}),this.style.setEventedParent(this,{style:this.style}),typeof y=="string"?this.style.loadURL(y,r,f):this.style.loadJSON(y,r,f),this):((h=(d=this.style)===null||d===void 0?void 0:d.projection)===null||h===void 0||h.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Zs(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(y,r){if(typeof y=="string"){let d=this._requestManager.transformRequest(y,"Style");a.j(d,new AbortController).then(h=>{this._updateDiff(h.data,r)}).catch(h=>{h&&this.fire(new a.k(h))})}else typeof y=="object"&&this._updateDiff(y,r)}_updateDiff(y,r){try{this.style.setState(y,r)&&this._update(!0)}catch(d){a.w(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(y,r)}}getStyle(){if(this.style)return this.style.serialize()}_getStyleAndImages(){return this.style?{style:this.style.serialize(),images:this.style.imageManager.cloneImages()}:{style:null,images:{}}}isStyleLoaded(){return this.style?this.style.loaded():a.w("There is no style added to the map.")}addSource(y,r){return this._lazyInitEmptyStyle(),this.style.addSource(y,r),this._update(!0)}isSourceLoaded(y){let r=this.style&&this.style.tileManagers[y];if(r!==void 0)return r.loaded();this.fire(new a.k(new Error(`There is no tile manager with ID '${y}'`)))}setTerrain(y){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),y){let r=this.style.tileManagers[y.source];if(!r)throw new Error(`cannot load terrain, because there exists no source with ID: ${y.source}`);this.terrain===null&&r.reload();for(let d in this.style._layers){let h=this.style._layers[d];h.type==="hillshade"&&h.source===y.source&&a.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality."),h.type==="color-relief"&&h.source===y.source&&a.w("You are using the same source for a color-relief layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Rn(this.painter,r,y),this.painter.renderToTexture=new Cd(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=d=>{var h;d.dataType==="style"?this.terrain.tileManager.freeRtt():d.dataType==="source"&&d.tile&&(d.sourceId!==y.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((h=d.source)===null||h===void 0?void 0:h.type)==="image"?this.terrain.tileManager.freeRtt():this.terrain.tileManager.freeRtt(d.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.tileManager.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new a.l("terrain",{terrain:y})),this}getTerrain(){var y,r;return(r=(y=this.terrain)===null||y===void 0?void 0:y.options)!==null&&r!==void 0?r:null}areTilesLoaded(){let y=this.style&&this.style.tileManagers;for(let r of Object.values(y))if(!r.areTilesLoaded())return!1;return!0}removeSource(y){return this.style.removeSource(y),this._update(!0)}getSource(y){return this.style.getSource(y)}setSourceTileLodParams(y,r,d){if(d){let h=this.getSource(d);if(!h)throw new Error(`There is no source with ID "${d}", cannot set LOD parameters`);h.calculateTileZoom=ln(Math.max(1,y),Math.max(1,r))}else for(let h in this.style.tileManagers)this.style.tileManagers[h].getSource().calculateTileZoom=ln(Math.max(1,y),Math.max(1,r));return this._update(!0),this}refreshTiles(y,r){let d=this.style.tileManagers[y];if(!d)throw new Error(`There is no tile manager with ID "${y}", cannot refresh tile`);r===void 0?d.reload(!0):d.refreshTiles(r.map(h=>new a.ac(h.z,h.x,h.y)))}addImage(y,r,d={}){let{pixelRatio:h=1,sdf:f=!1,stretchX:v,stretchY:w,content:k,textFitWidth:P,textFitHeight:F}=d;if(this._lazyInitEmptyStyle(),!(r instanceof HTMLImageElement||a.b(r))){if(r.width===void 0||r.height===void 0)return this.fire(new a.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{let{width:B,height:j,data:H}=r,W=r;return this.style.addImage(y,{data:new a.R({width:B,height:j},new Uint8Array(H)),pixelRatio:h,stretchX:v,stretchY:w,content:k,textFitWidth:P,textFitHeight:F,sdf:f,version:0,userImage:W}),W.onAdd&&W.onAdd(this,y),this}}{let{width:B,height:j,data:H}=U.getImageData(r);this.style.addImage(y,{data:new a.R({width:B,height:j},H),pixelRatio:h,stretchX:v,stretchY:w,content:k,textFitWidth:P,textFitHeight:F,sdf:f,version:0})}}updateImage(y,r){let d=this.style.getImage(y);if(!d)return this.fire(new a.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));let h=r instanceof HTMLImageElement||a.b(r)?U.getImageData(r):r,{width:f,height:v,data:w}=h;if(f===void 0||v===void 0)return this.fire(new a.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(f!==d.data.width||v!==d.data.height)return this.fire(new a.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));let k=!(r instanceof HTMLImageElement||a.b(r));return d.data.replace(w,k),this.style.updateImage(y,d),this}getImage(y){return this.style.getImage(y)}hasImage(y){return y?!!this.style.getImage(y):(this.fire(new a.k(new Error("Missing required image id"))),!1)}removeImage(y){this.style.removeImage(y)}loadImage(y){return lt.getImage(this._requestManager.transformRequest(y,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(y,r){return this._lazyInitEmptyStyle(),this.style.addLayer(y,r),this._update(!0)}moveLayer(y,r){return this.style.moveLayer(y,r),this._update(!0)}removeLayer(y){return this.style.removeLayer(y),this._update(!0)}getLayer(y){return this.style.getLayer(y)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(y,r,d){return this.style.setLayerZoomRange(y,r,d),this._update(!0)}setFilter(y,r,d={}){return this.style.setFilter(y,r,d),this._update(!0)}getFilter(y){return this.style.getFilter(y)}setPaintProperty(y,r,d,h={}){return this.style.setPaintProperty(y,r,d,h),this._update(!0)}getPaintProperty(y,r){return this.style.getPaintProperty(y,r)}setLayoutProperty(y,r,d,h={}){return this.style.setLayoutProperty(y,r,d,h),this._update(!0)}getLayoutProperty(y,r){return this.style.getLayoutProperty(y,r)}setGlyphs(y,r={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(y,r),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(y,r,d={}){return this._lazyInitEmptyStyle(),this.style.addSprite(y,r,d,h=>{h||this._update(!0)}),this}removeSprite(y){return this._lazyInitEmptyStyle(),this.style.removeSprite(y),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(y,r={}){return this._lazyInitEmptyStyle(),this.style.setSprite(y,r,d=>{d||this._update(!0)}),this}setLight(y,r={}){return this._lazyInitEmptyStyle(),this.style.setLight(y,r),this._update(!0)}getLight(){return this.style.getLight()}setSky(y,r={}){return this._lazyInitEmptyStyle(),this.style.setSky(y,r),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(y,r){return this.style.setFeatureState(y,r),this._update()}removeFeatureState(y,r){return this.style.removeFeatureState(y,r),this._update()}getFeatureState(y){return this.style.getFeatureState(y)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let y=0,r=0;return this._container&&(y=this._container.clientWidth||400,r=this._container.clientHeight||300),[y,r]}_setupContainer(){let y=this._container;y.classList.add("maplibregl-map");let r=this._canvasContainer=J.create("div","maplibregl-canvas-container",y);this._interactive&&r.classList.add("maplibregl-interactive"),this._canvas=J.create("canvas","maplibregl-canvas",r),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");let d=this._containerDimensions(),h=this._getClampedPixelRatio(d[0],d[1]);this._resizeCanvas(d[0],d[1],h);let f=this._controlContainer=J.create("div","maplibregl-control-container",y),v=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(w=>{v[w]=J.create("div",`maplibregl-ctrl-${w} `,f)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(y,r,d){this._canvas.width=Math.floor(d*y),this._canvas.height=Math.floor(d*r),this._canvas.style.width=`${y}px`,this._canvas.style.height=`${r}px`}_setupPainter(){let y=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0}),r=null;this._canvas.addEventListener("webglcontextcreationerror",h=>{r={requestedAttributes:y},h&&(r.statusMessage=h.statusMessage,r.type=h.type)},{once:!0});let d=null;if(d=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,y):this._canvas.getContext("webgl2",y)||this._canvas.getContext("webgl",y),!d){let h="Failed to initialize WebGL";throw r?(r.message=h,new Error(JSON.stringify(r))):new Error(h)}this.painter=new Rf(d,this.transform),ke.testSupport(d)}migrateProjection(y,r){super.migrateProjection(y,r),this.painter.transform=y,this.fire(new a.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(y){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||y,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(y){return this._update(),this._renderTaskQueue.add(y)}_cancelRenderFrame(y){this._renderTaskQueue.remove(y)}_render(y){var r,d,h,f,v;let w=this._idleTriggered?this._fadeDuration:0,k=((r=this.style.projection)===null||r===void 0?void 0:r.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(y),this._removed)return;let P=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;let j=this.transform.zoom,H=oe();this.style.zoomHistory.update(j,H);let W=new a.H(j,{now:H,fadeDuration:w,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),ne=W.crossFadingFactor();ne===1&&ne===this._crossFadingFactor||(P=!0,this._crossFadingFactor=ne),this.style.update(W)}let F=((d=this.style.projection)===null||d===void 0?void 0:d.transitionState)>0!==k;(h=this.style.projection)===null||h===void 0||h.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((f=this.style.projection)===null||f===void 0?void 0:f.transitionState,(v=this.style.projection)===null||v===void 0?void 0:v.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||F)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.tileManager.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,w,this._crossSourceCollisions,F),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:w,showPadding:this.showPadding}),this.fire(new a.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.cG.mark(a.cH.load),this.fire(new a.l("load"))),this.style&&(this.style.hasTransitions()||P)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();let B=this._sourcesDirty||this._styleDirty||this._placementDirty;return B||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.l("idle")),!this._loaded||this._fullyLoaded||B||(this._fullyLoaded=!0,a.cG.mark(a.cH.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var y;this._hash&&this._hash.remove();for(let d of this._controls)d.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),lt.removeThrottleControl(this._imageQueueHandle),(y=this._resizeObserver)===null||y===void 0||y.disconnect();let r=this.painter.context.gl.getExtension("WEBGL_lose_context");r?.loseContext&&r.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),J.remove(this._canvasContainer),J.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),a.cG.clearMetrics(),this._removed=!0,this.fire(new a.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,U.frame(this._frameRequest,y=>{a.cG.frame(y),this._frameRequest=null;try{this._render(y)}catch(r){if(!a.Z(r)&&!function(d){return d.message===xh}(r))throw r}},()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(y){this._showTileBoundaries!==y&&(this._showTileBoundaries=y,this._update())}get showPadding(){return!!this._showPadding}set showPadding(y){this._showPadding!==y&&(this._showPadding=y,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(y){this._showCollisionBoxes!==y&&(this._showCollisionBoxes=y,y?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(y){this._showOverdrawInspector!==y&&(this._showOverdrawInspector=y,this._update())}get repaint(){return!!this._repaint}set repaint(y){this._repaint!==y&&(this._repaint=y,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(y){this._vertices=y,this._update()}get version(){return zh}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(y){return this._lazyInitEmptyStyle(),this.style.setProjection(y),this._update(!0)}},n.MapMouseEvent=Va,n.MapTouchEvent=_d,n.MapWheelEvent=qf,n.Marker=kd,n.NavigationControl=class{constructor(y){this._updateZoomButtons=()=>{let r=this._map.getZoom(),d=r===this._map.getMaxZoom(),h=r===this._map.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=h,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",h.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(r,d)=>{let h=this._map._getUIString(`NavigationControl.${d}`);r.title=h,r.setAttribute("aria-label",h)},this.options=a.e({},Rh,y),this._container=J.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",r=>r.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",r=>this._map.zoomIn({},{originalEvent:r})),J.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",r=>this._map.zoomOut({},{originalEvent:r})),J.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",r=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:r}):this._map.resetNorth({},{originalEvent:r})}),this._compassIcon=J.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(y){return this._map=y,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Sd(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){J.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(y,r){let d=J.create("button",y,this._container);return d.type="button",d.addEventListener("click",r),d}},n.Popup=class extends a.E{constructor(y){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:"")},this.remove=()=>(this._content&&J.remove(this._content),this._container&&(J.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new a.l("close"))),this),this._onMouseUp=r=>{this._update(r.point)},this._onMouseMove=r=>{this._update(r.point)},this._onDrag=r=>{this._update(r.point)},this._update=r=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=J.create("div","maplibregl-popup",this._map.getContainer()),this._tip=J.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(let w of this.options.className.split(" "))this._container.classList.add(w);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=Bu(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!r)return;let d=this._flatPos=this._pos=this._trackPointer&&r?r:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&r?r:this._map.transform.locationToScreenPoint(this._lngLat));let h=this.options.anchor,f=Hu(this.options.offset);if(!h){let w=this._container.offsetWidth,k=this._container.offsetHeight,P;P=d.y+f.bottom.y<k?["top"]:d.y>this._map.transform.height-k?["bottom"]:[],d.x<w/2?P.push("left"):d.x>this._map.transform.width-w/2&&P.push("right"),h=P.length===0?"bottom":P.join("-")}let v=d.add(f[h]);this.options.subpixelPositioning||(v=v.round()),J.setTransform(this._container,`${Md[h]} translate(${v.x}px,${v.y}px)`),Nu(this._container,h,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=a.e(Object.create(qh),y)}addTo(y){return this._map&&this.remove(),this._map=y,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(y){return this._lngLat=a.V.convert(y),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(y){return this.setDOMContent(document.createTextNode(y))}setHTML(y){let r=document.createDocumentFragment(),d=document.createElement("body"),h;for(d.innerHTML=y;h=d.firstChild,h;)r.appendChild(h);return this.setDOMContent(r)}getMaxWidth(){var y;return(y=this._container)===null||y===void 0?void 0:y.style.maxWidth}setMaxWidth(y){return this.options.maxWidth=y,this._update(),this}setDOMContent(y){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=J.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(y),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(y){return this._container&&this._container.classList.add(y),this}removeClassName(y){return this._container&&this._container.classList.remove(y),this}setOffset(y){return this.options.offset=y,this._update(),this}toggleClassName(y){if(this._container)return this._container.classList.toggle(y)}setSubpixelPositioning(y){this.options.subpixelPositioning=y}_createCloseButton(){this.options.closeButton&&(this._closeButton=J.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;let y=this._container.querySelector(qu);y&&y.focus()}},n.RasterDEMTileSource=ms,n.RasterTileSource=wl,n.ScaleControl=class{constructor(y){this._onMove=()=>{Ed(this._map,this._container,this.options)},this.setUnit=r=>{this.options.unit=r,Ed(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},Nh),y)}getDefaultPosition(){return"bottom-left"}onAdd(y){return this._map=y,this._container=J.create("div","maplibregl-ctrl maplibregl-ctrl-scale",y.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){J.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},n.ScrollZoomHandler=Ou,n.Style=Zs,n.TerrainControl=class{constructor(y){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=y}onAdd(y){return this._map=y,this._container=J.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=J.create("button","maplibregl-ctrl-terrain",this._container),J.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){J.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},n.TwoFingersTouchPitchHandler=Uf,n.TwoFingersTouchRotateHandler=Ah,n.TwoFingersTouchZoomHandler=Lh,n.TwoFingersTouchZoomRotateHandler=wd,n.VectorTileSource=Hs,n.VideoSource=Ne,n.addSourceType=(y,r)=>a._(void 0,void 0,void 0,function*(){if(ue(y))throw new Error(`A source type called "${y}" already exists.`);((d,h)=>{ee[d]=h})(y,r)}),n.clearPrewarmedResources=function(){let y=lo;y&&(y.isPreloaded()&&y.numActive()===1?(y.release(wo),lo=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},n.createTileMesh=af,n.getMaxParallelImageRequests=function(){return a.c.MAX_PARALLEL_IMAGE_REQUESTS},n.getRTLTextPluginStatus=function(){return Ve().getRTLTextPluginStatus()},n.getVersion=function(){return Hh},n.getWorkerCount=function(){return oa.workerCount},n.getWorkerUrl=function(){return a.c.WORKER_URL},n.importScriptInWorkers=function(y){return qc().broadcast("IS",y)},n.isTimeFrozen=function(){return Y.isFrozen()},n.now=oe,n.prewarm=function(){qs().acquire(wo)},n.restoreNow=function(){Y.restoreNow()},n.setMaxParallelImageRequests=function(y){a.c.MAX_PARALLEL_IMAGE_REQUESTS=y},n.setNow=function(y){Y.setNow(y)},n.setRTLTextPlugin=function(y,r){return Ve().setRTLTextPlugin(y,r)},n.setWorkerCount=function(y){oa.workerCount=y},n.setWorkerUrl=function(y){a.c.WORKER_URL=y}});var i=t;return i})});var nk=["data-p-icon","angle-double-down"],rg=(()=>{class t extends ro{static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["","data-p-icon","angle-double-down"]],features:[ft],attrs:nk,decls:1,vars:0,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M6.70786 6.59831C6.80043 6.63674 6.89974 6.65629 6.99997 6.65581C7.19621 6.64081 7.37877 6.54953 7.50853 6.40153L11.0685 2.8416C11.1364 2.69925 11.1586 2.53932 11.132 2.38384C11.1053 2.22837 11.0311 2.08498 10.9195 1.97343C10.808 1.86188 10.6646 1.78766 10.5091 1.76099C10.3536 1.73431 10.1937 1.75649 10.0513 1.82448L6.99997 4.87585L3.9486 1.82448C3.80625 1.75649 3.64632 1.73431 3.49084 1.76099C3.33536 1.78766 3.19197 1.86188 3.08043 1.97343C2.96888 2.08498 2.89466 2.22837 2.86798 2.38384C2.84131 2.53932 2.86349 2.69925 2.93147 2.8416L6.46089 6.43205C6.53132 6.50336 6.61528 6.55989 6.70786 6.59831ZM6.70786 12.1925C6.80043 12.2309 6.89974 12.2505 6.99997 12.25C7.10241 12.2465 7.20306 12.2222 7.29575 12.1785C7.38845 12.1348 7.47124 12.0726 7.53905 11.9957L11.0685 8.46629C11.1614 8.32292 11.2036 8.15249 11.1881 7.98233C11.1727 7.81216 11.1005 7.6521 10.9833 7.52781C10.866 7.40353 10.7104 7.3222 10.5415 7.29688C10.3725 7.27155 10.1999 7.30369 10.0513 7.38814L6.99997 10.4395L3.9486 7.38814C3.80006 7.30369 3.62747 7.27155 3.45849 7.29688C3.28951 7.3222 3.13393 7.40353 3.01667 7.52781C2.89942 7.6521 2.82729 7.81216 2.81184 7.98233C2.79639 8.15249 2.83852 8.32292 2.93148 8.46629L6.4609 12.0262C6.53133 12.0975 6.61529 12.1541 6.70786 12.1925Z","fill","currentColor"]],template:function(i,n){i&1&&(at(),ha(0,"path",0))},encapsulation:2})}return t})();var ak=["data-p-icon","angle-double-up"],sg=(()=>{class t extends ro{static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["","data-p-icon","angle-double-up"]],features:[ft],attrs:ak,decls:1,vars:0,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M10.1504 6.67719C10.2417 6.71508 10.3396 6.73436 10.4385 6.73389C10.6338 6.74289 10.8249 6.67441 10.97 6.54334C11.1109 6.4023 11.19 6.21112 11.19 6.01178C11.19 5.81245 11.1109 5.62127 10.97 5.48023L7.45977 1.96998C7.31873 1.82912 7.12755 1.75 6.92821 1.75C6.72888 1.75 6.5377 1.82912 6.39666 1.96998L2.9165 5.45014C2.83353 5.58905 2.79755 5.751 2.81392 5.91196C2.83028 6.07293 2.89811 6.22433 3.00734 6.34369C3.11656 6.46306 3.26137 6.54402 3.42025 6.57456C3.57914 6.60511 3.74364 6.5836 3.88934 6.51325L6.89813 3.50446L9.90691 6.51325C9.97636 6.58357 10.0592 6.6393 10.1504 6.67719ZM9.93702 11.9993C10.065 12.1452 10.245 12.2352 10.4385 12.25C10.632 12.2352 10.812 12.1452 10.9399 11.9993C11.0633 11.8614 11.1315 11.6828 11.1315 11.4978C11.1315 11.3128 11.0633 11.1342 10.9399 10.9963L7.48987 7.48609C7.34883 7.34523 7.15765 7.26611 6.95832 7.26611C6.75899 7.26611 6.5678 7.34523 6.42677 7.48609L2.91652 10.9963C2.84948 11.1367 2.82761 11.2944 2.85391 11.4477C2.88022 11.601 2.9534 11.7424 3.06339 11.8524C3.17338 11.9624 3.31477 12.0356 3.46808 12.0619C3.62139 12.0882 3.77908 12.0663 3.91945 11.9993L6.92823 8.99048L9.93702 11.9993Z","fill","currentColor"]],template:function(i,n){i&1&&(at(),ha(0,"path",0))},encapsulation:2})}return t})();var ok=["data-p-icon","bars"],lg=(()=>{class t extends ro{static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["","data-p-icon","bars"]],features:[ft],attrs:ok,decls:1,vars:0,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function(i,n){i&1&&(at(),ha(0,"path",0))},encapsulation:2})}return t})();var rk=["data-p-icon","home"],B3=(()=>{class t extends ro{pathId;ngOnInit(){super.ngOnInit(),this.pathId="url(#"+vi()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["","data-p-icon","home"]],features:[ft],attrs:rk,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M13.4175 6.79971C13.2874 6.80029 13.1608 6.75807 13.057 6.67955L12.4162 6.19913V12.6073C12.4141 12.7659 12.3502 12.9176 12.2379 13.0298C12.1257 13.142 11.9741 13.206 11.8154 13.208H8.61206C8.61179 13.208 8.61151 13.208 8.61123 13.2081C8.61095 13.208 8.61068 13.208 8.6104 13.208H5.41076C5.40952 13.208 5.40829 13.2081 5.40705 13.2081C5.40581 13.2081 5.40458 13.208 5.40334 13.208H2.20287C2.04418 13.206 1.89257 13.142 1.78035 13.0298C1.66813 12.9176 1.60416 12.7659 1.60209 12.6073V6.19914L0.961256 6.67955C0.833786 6.77515 0.673559 6.8162 0.515823 6.79367C0.358086 6.77114 0.215762 6.68686 0.120159 6.55939C0.0245566 6.43192 -0.0164931 6.2717 0.00604063 6.11396C0.0285744 5.95622 0.112846 5.8139 0.240316 5.7183L1.83796 4.52007L1.84689 4.51337L6.64868 0.912027C6.75267 0.834032 6.87915 0.79187 7.00915 0.79187C7.13914 0.79187 7.26562 0.834032 7.36962 0.912027L12.1719 4.51372L12.1799 4.51971L13.778 5.7183C13.8943 5.81278 13.9711 5.94732 13.9934 6.09553C14.0156 6.24373 13.9816 6.39489 13.8981 6.51934C13.8471 6.60184 13.7766 6.67054 13.6928 6.71942C13.609 6.76831 13.5144 6.79587 13.4175 6.79971ZM6.00783 12.0065H8.01045V7.60074H6.00783V12.0065ZM9.21201 12.0065V6.99995C9.20994 6.84126 9.14598 6.68965 9.03375 6.57743C8.92153 6.46521 8.76992 6.40124 8.61123 6.39917H5.40705C5.24836 6.40124 5.09675 6.46521 4.98453 6.57743C4.8723 6.68965 4.80834 6.84126 4.80627 6.99995V12.0065H2.80366V5.29836L7.00915 2.14564L11.2146 5.29836V12.0065H9.21201Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(at(),Po(0,"g"),ha(1,"path",0),Do(),Po(2,"defs")(3,"clipPath",1),ha(4,"rect",2),Do()()),i&2&&(de("clip-path",n.pathId),S(3),no("id",n.pathId))},encapsulation:2})}return t})();var sk=["data-p-icon","minus"],cg=(()=>{class t extends ro{static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["","data-p-icon","minus"]],features:[ft],attrs:sk,decls:1,vars:0,consts:[["d","M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z","fill","currentColor"]],template:function(i,n){i&1&&(at(),ha(0,"path",0))},encapsulation:2})}return t})();var lk=["data-p-icon","refresh"],N3=(()=>{class t extends ro{pathId;ngOnInit(){super.ngOnInit(),this.pathId="url(#"+vi()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["","data-p-icon","refresh"]],features:[ft],attrs:lk,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M6.77051 5.96336C6.84324 5.99355 6.92127 6.00891 7.00002 6.00854C7.07877 6.00891 7.1568 5.99355 7.22953 5.96336C7.30226 5.93317 7.36823 5.88876 7.42357 5.83273L9.82101 3.43529C9.93325 3.32291 9.99629 3.17058 9.99629 3.01175C9.99629 2.85292 9.93325 2.70058 9.82101 2.5882L7.42357 0.190763C7.3687 0.131876 7.30253 0.0846451 7.22901 0.0518865C7.15549 0.019128 7.07612 0.00151319 6.99564 9.32772e-05C6.91517 -0.00132663 6.83523 0.0134773 6.7606 0.0436218C6.68597 0.0737664 6.61817 0.118634 6.56126 0.175548C6.50435 0.232462 6.45948 0.300257 6.42933 0.374888C6.39919 0.449519 6.38439 0.529456 6.38581 0.609933C6.38722 0.690409 6.40484 0.769775 6.4376 0.843296C6.47036 0.916817 6.51759 0.982986 6.57647 1.03786L7.95103 2.41241H6.99998C5.46337 2.41241 3.98969 3.02283 2.90314 4.10938C1.81659 5.19593 1.20618 6.66961 1.20618 8.20622C1.20618 9.74283 1.81659 11.2165 2.90314 12.3031C3.98969 13.3896 5.46337 14 6.99998 14C8.53595 13.9979 10.0084 13.3868 11.0945 12.3007C12.1806 11.2146 12.7917 9.74218 12.7938 8.20622C12.7938 8.04726 12.7306 7.89481 12.6182 7.78241C12.5058 7.67001 12.3534 7.60686 12.1944 7.60686C12.0355 7.60686 11.883 7.67001 11.7706 7.78241C11.6582 7.89481 11.5951 8.04726 11.5951 8.20622C11.5951 9.11504 11.3256 10.0035 10.8207 10.7591C10.3157 11.5148 9.59809 12.1037 8.75845 12.4515C7.9188 12.7993 6.99489 12.8903 6.10353 12.713C5.21217 12.5357 4.3934 12.0981 3.75077 11.4554C3.10813 10.8128 2.67049 9.99404 2.49319 9.10268C2.31589 8.21132 2.40688 7.2874 2.75468 6.44776C3.10247 5.60811 3.69143 4.89046 4.44709 4.38554C5.20275 3.88063 6.09116 3.61113 6.99998 3.61113H7.95098L6.57647 4.98564C6.46423 5.09802 6.40119 5.25035 6.40119 5.40918C6.40119 5.56801 6.46423 5.72035 6.57647 5.83273C6.63181 5.88876 6.69778 5.93317 6.77051 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(at(),Po(0,"g"),ha(1,"path",0),Do(),Po(2,"defs")(3,"clipPath",1),ha(4,"rect",2),Do()()),i&2&&(de("clip-path",n.pathId),S(3),no("id",n.pathId))},encapsulation:2})}return t})();var ck=["data-p-icon","search-minus"],q3=(()=>{class t extends ro{pathId;ngOnInit(){super.ngOnInit(),this.pathId="url(#"+vi()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["","data-p-icon","search-minus"]],features:[ft],attrs:ck,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M6.0208 12.0411C4.83005 12.0411 3.66604 11.688 2.67596 11.0265C1.68589 10.3649 0.914216 9.42464 0.458534 8.32452C0.00285271 7.22441 -0.116374 6.01388 0.11593 4.84601C0.348235 3.67813 0.921637 2.60537 1.76363 1.76338C2.60562 0.921393 3.67838 0.34799 4.84625 0.115686C6.01412 -0.116618 7.22466 0.00260857 8.32477 0.45829C9.42488 0.913972 10.3652 1.68564 11.0267 2.67572C11.6883 3.66579 12.0414 4.8298 12.0414 6.02056C12.0395 7.41563 11.5542 8.76029 10.6783 9.8305L13.8244 12.9765C13.9367 13.089 13.9997 13.2414 13.9997 13.4003C13.9997 13.5592 13.9367 13.7116 13.8244 13.8241C13.769 13.8801 13.703 13.9245 13.6302 13.9548C13.5575 13.985 13.4794 14.0003 13.4006 14C13.3218 14.0003 13.2437 13.985 13.171 13.9548C13.0982 13.9245 13.0322 13.8801 12.9768 13.8241L9.83082 10.678C8.76059 11.5539 7.4159 12.0393 6.0208 12.0411ZM6.0208 1.20731C5.07199 1.20731 4.14449 1.48867 3.35559 2.0158C2.56669 2.54292 1.95181 3.29215 1.58872 4.16874C1.22562 5.04532 1.13062 6.00989 1.31572 6.94046C1.50083 7.87104 1.95772 8.72583 2.62863 9.39674C3.29954 10.0676 4.15433 10.5245 5.0849 10.7096C6.01548 10.8947 6.98005 10.7997 7.85663 10.4367C8.73322 10.0736 9.48244 9.45868 10.0096 8.66978C10.5367 7.88088 10.8181 6.95337 10.8181 6.00457C10.8181 4.73226 10.3126 3.51206 9.41297 2.6124C8.51331 1.71274 7.29311 1.20731 6.0208 1.20731ZM4.00591 6.60422H8.00362C8.16266 6.60422 8.31518 6.54104 8.42764 6.42859C8.5401 6.31613 8.60328 6.1636 8.60328 6.00456C8.60328 5.84553 8.5401 5.693 8.42764 5.58054C8.31518 5.46809 8.16266 5.40491 8.00362 5.40491H4.00591C3.84687 5.40491 3.69434 5.46809 3.58189 5.58054C3.46943 5.693 3.40625 5.84553 3.40625 6.00456C3.40625 6.1636 3.46943 6.31613 3.58189 6.42859C3.69434 6.54104 3.84687 6.60422 4.00591 6.60422Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(at(),Po(0,"g"),ha(1,"path",0),Do(),Po(2,"defs")(3,"clipPath",1),ha(4,"rect",2),Do()()),i&2&&(de("clip-path",n.pathId),S(3),no("id",n.pathId))},encapsulation:2})}return t})();var dk=["data-p-icon","search-plus"],H3=(()=>{class t extends ro{pathId;ngOnInit(){super.ngOnInit(),this.pathId="url(#"+vi()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["","data-p-icon","search-plus"]],features:[ft],attrs:dk,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M2.67596 11.0265C3.66604 11.688 4.83005 12.0411 6.0208 12.0411C6.81143 12.0411 7.59432 11.8854 8.32477 11.5828C8.86999 11.357 9.37802 11.0526 9.83311 10.6803L12.9768 13.8241C13.0322 13.8801 13.0982 13.9245 13.171 13.9548C13.2437 13.985 13.3218 14.0003 13.4006 14C13.4794 14.0003 13.5575 13.985 13.6302 13.9548C13.703 13.9245 13.769 13.8801 13.8244 13.8241C13.9367 13.7116 13.9997 13.5592 13.9997 13.4003C13.9997 13.2414 13.9367 13.089 13.8244 12.9765L10.6806 9.8328C11.0529 9.37773 11.3572 8.86972 11.5831 8.32452C11.8856 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0267 2.67572C10.3652 1.68564 9.42488 0.913972 8.32477 0.45829C7.22466 0.00260857 6.01412 -0.116618 4.84625 0.115686C3.67838 0.34799 2.60562 0.921393 1.76363 1.76338C0.921637 2.60537 0.348235 3.67813 0.11593 4.84601C-0.116374 6.01388 0.00285271 7.22441 0.458534 8.32452C0.914216 9.42464 1.68589 10.3649 2.67596 11.0265ZM3.35559 2.0158C4.14449 1.48867 5.07199 1.20731 6.0208 1.20731C7.29311 1.20731 8.51331 1.71274 9.41297 2.6124C10.3126 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5367 7.88088 10.0096 8.66978C9.48244 9.45868 8.73322 10.0736 7.85663 10.4367C6.98005 10.7997 6.01548 10.8947 5.0849 10.7096C4.15433 10.5245 3.29954 10.0676 2.62863 9.39674C1.95772 8.72583 1.50083 7.87104 1.31572 6.94046C1.13062 6.00989 1.22562 5.04532 1.58872 4.16874C1.95181 3.29215 2.56669 2.54292 3.35559 2.0158ZM6.00481 8.60309C5.84641 8.60102 5.69509 8.53718 5.58308 8.42517C5.47107 8.31316 5.40722 8.16183 5.40515 8.00344V6.60422H4.00591C3.84687 6.60422 3.69434 6.54104 3.58189 6.42859C3.46943 6.31613 3.40625 6.1636 3.40625 6.00456C3.40625 5.84553 3.46943 5.693 3.58189 5.58054C3.69434 5.46809 3.84687 5.40491 4.00591 5.40491H5.40515V4.00572C5.40515 3.84668 5.46833 3.69416 5.58079 3.5817C5.69324 3.46924 5.84577 3.40607 6.00481 3.40607C6.16385 3.40607 6.31637 3.46924 6.42883 3.5817C6.54129 3.69416 6.60447 3.84668 6.60447 4.00572V5.40491H8.00362C8.16266 5.40491 8.31518 5.46809 8.42764 5.58054C8.5401 5.693 8.60328 5.84553 8.60328 6.00456C8.60328 6.1636 8.5401 6.31613 8.42764 6.42859C8.31518 6.54104 8.16266 6.60422 8.00362 6.60422H6.60447V8.00344C6.60239 8.16183 6.53855 8.31316 6.42654 8.42517C6.31453 8.53718 6.1632 8.60102 6.00481 8.60309Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(at(),Po(0,"g"),ha(1,"path",0),Do(),Po(2,"defs")(3,"clipPath",1),ha(4,"rect",2),Do()()),i&2&&(de("clip-path",n.pathId),S(3),no("id",n.pathId))},encapsulation:2})}return t})();var uk=["data-p-icon","undo"],j3=(()=>{class t extends ro{pathId;ngOnInit(){super.ngOnInit(),this.pathId="url(#"+vi()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["","data-p-icon","undo"]],features:[ft],attrs:uk,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M6.77042 5.96336C6.84315 5.99355 6.92118 6.00891 6.99993 6.00854C7.07868 6.00891 7.15671 5.99355 7.22944 5.96336C7.30217 5.93317 7.36814 5.88876 7.42348 5.83273C7.53572 5.72035 7.59876 5.56801 7.59876 5.40918C7.59876 5.25035 7.53572 5.09802 7.42348 4.98564L6.04897 3.61113H6.99998C7.9088 3.61113 8.79722 3.88063 9.55288 4.38554C10.3085 4.89046 10.8975 5.60811 11.2453 6.44776C11.5931 7.2874 11.6841 8.21132 11.5068 9.10268C11.3295 9.99404 10.8918 10.8128 10.2492 11.4554C9.60657 12.0981 8.7878 12.5357 7.89644 12.713C7.00508 12.8903 6.08116 12.7993 5.24152 12.4515C4.40188 12.1037 3.68422 11.5148 3.17931 10.7591C2.67439 10.0035 2.4049 9.11504 2.4049 8.20622C2.4049 8.04726 2.34175 7.89481 2.22935 7.78241C2.11695 7.67001 1.9645 7.60686 1.80554 7.60686C1.64658 7.60686 1.49413 7.67001 1.38172 7.78241C1.26932 7.89481 1.20618 8.04726 1.20618 8.20622C1.20829 9.74218 1.81939 11.2146 2.90548 12.3007C3.99157 13.3868 5.46402 13.9979 6.99998 14C8.5366 14 10.0103 13.3896 11.0968 12.3031C12.1834 11.2165 12.7938 9.74283 12.7938 8.20622C12.7938 6.66961 12.1834 5.19593 11.0968 4.10938C10.0103 3.02283 8.5366 2.41241 6.99998 2.41241H6.04892L7.42348 1.03786C7.48236 0.982986 7.5296 0.916817 7.56235 0.843296C7.59511 0.769775 7.61273 0.690409 7.61415 0.609933C7.61557 0.529456 7.60076 0.449519 7.57062 0.374888C7.54047 0.300257 7.49561 0.232462 7.43869 0.175548C7.38178 0.118634 7.31398 0.0737664 7.23935 0.0436218C7.16472 0.0134773 7.08478 -0.00132663 7.00431 9.32772e-05C6.92383 0.00151319 6.84447 0.019128 6.77095 0.0518865C6.69742 0.0846451 6.63126 0.131876 6.57638 0.190763L4.17895 2.5882C4.06671 2.70058 4.00366 2.85292 4.00366 3.01175C4.00366 3.17058 4.06671 3.32291 4.17895 3.43529L6.57638 5.83273C6.63172 5.88876 6.69769 5.93317 6.77042 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(at(),Po(0,"g"),ha(1,"path",0),Do(),Po(2,"defs")(3,"clipPath",1),ha(4,"rect",2),Do()()),i&2&&(de("clip-path",n.pathId),S(3),no("id",n.pathId))},encapsulation:2})}return t})();var G3=`
    .p-buttongroup {
        display: inline-flex;
    }

    .p-buttongroup .p-button {
        margin: 0;
    }

    .p-buttongroup .p-button:not(:last-child),
    .p-buttongroup .p-button:not(:last-child):hover {
        border-inline-end: 0 none;
    }

    .p-buttongroup .p-button:not(:first-of-type):not(:last-of-type) {
        border-radius: 0;
    }

    .p-buttongroup .p-button:first-of-type:not(:only-of-type) {
        border-start-end-radius: 0;
        border-end-end-radius: 0;
    }

    .p-buttongroup .p-button:last-of-type:not(:only-of-type) {
        border-start-start-radius: 0;
        border-end-start-radius: 0;
    }

    .p-buttongroup .p-button:focus {
        position: relative;
        z-index: 1;
    }
`;var pk=["*"],hk=`
    ${G3}

    /* For PrimeNG */
    .p-buttongroup p-button:focus .p-button {
        position: relative;
        z-index: 1;
    }

    .p-buttongroup p-button:not(:last-child) .p-button,
    .p-buttongroup p-button:not(:last-child) .p-button:hover {
        border-right: 0 none;
    }

    .p-buttongroup p-button:not(:first-of-type):not(:last-of-type) .p-button {
        border-radius: 0;
    }

    .p-buttongroup p-button:first-of-type:not(:only-of-type) .p-button {
        border-start-end-radius: 0;
        border-end-end-radius: 0;
    }

    .p-buttongroup p-button:last-of-type:not(:only-of-type) .p-button {
        border-start-start-radius: 0;
        border-end-start-radius: 0;
    }
`,mk={root:"p-buttongroup p-component"},U3=(()=>{class t extends Rt{name="buttongroup";theme=hk;classes=mk;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var Eb=(()=>{class t extends Ot{_componentStyle=Fe(U3);static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-buttonGroup"],["p-buttongroup"],["p-button-group"]],features:[_t([U3]),ft],ngContentSelectors:pk,decls:2,vars:0,consts:[["role","group",1,"p-buttongroup","p-component"]],template:function(i,n){i&1&&(Ui(),A(0,"span",0),Ei(1),L())},dependencies:[mt],encapsulation:2,changeDetection:0})}return t})(),$3=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[Eb]})}return t})();var K3=`
    .p-tieredmenu {
        background: dt('tieredmenu.background');
        color: dt('tieredmenu.color');
        border: 1px solid dt('tieredmenu.border.color');
        border-radius: dt('tieredmenu.border.radius');
        min-width: 12.5rem;
    }

    .p-tieredmenu-root-list,
    .p-tieredmenu-submenu {
        margin: 0;
        padding: dt('tieredmenu.list.padding');
        list-style: none;
        outline: 0 none;
        display: flex;
        flex-direction: column;
        gap: dt('tieredmenu.list.gap');
    }

    .p-tieredmenu-submenu {
        position: absolute;
        min-width: 100%;
        z-index: 1;
        background: dt('tieredmenu.background');
        color: dt('tieredmenu.color');
        border: 1px solid dt('tieredmenu.border.color');
        border-radius: dt('tieredmenu.border.radius');
        box-shadow: dt('tieredmenu.shadow');
    }

    .p-tieredmenu-item {
        position: relative;
    }

    .p-tieredmenu-item-content {
        transition:
            background dt('tieredmenu.transition.duration'),
            color dt('tieredmenu.transition.duration');
        border-radius: dt('tieredmenu.item.border.radius');
        color: dt('tieredmenu.item.color');
    }

    .p-tieredmenu-item-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
        color: inherit;
        padding: dt('tieredmenu.item.padding');
        gap: dt('tieredmenu.item.gap');
        user-select: none;
        outline: 0 none;
    }

    .p-tieredmenu-item-label {
        line-height: 1;
    }

    .p-tieredmenu-item-icon {
        color: dt('tieredmenu.item.icon.color');
    }

    .p-tieredmenu-submenu-icon {
        color: dt('tieredmenu.submenu.icon.color');
        margin-left: auto;
        font-size: dt('tieredmenu.submenu.icon.size');
        width: dt('tieredmenu.submenu.icon.size');
        height: dt('tieredmenu.submenu.icon.size');
    }

    .p-tieredmenu-submenu-icon:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
    }

    .p-tieredmenu-item.p-focus > .p-tieredmenu-item-content {
        color: dt('tieredmenu.item.focus.color');
        background: dt('tieredmenu.item.focus.background');
    }

    .p-tieredmenu-item.p-focus > .p-tieredmenu-item-content .p-tieredmenu-item-icon {
        color: dt('tieredmenu.item.icon.focus.color');
    }

    .p-tieredmenu-item.p-focus > .p-tieredmenu-item-content .p-tieredmenu-submenu-icon {
        color: dt('tieredmenu.submenu.icon.focus.color');
    }

    .p-tieredmenu-item:not(.p-disabled) > .p-tieredmenu-item-content:hover {
        color: dt('tieredmenu.item.focus.color');
        background: dt('tieredmenu.item.focus.background');
    }

    .p-tieredmenu-item:not(.p-disabled) > .p-tieredmenu-item-content:hover .p-tieredmenu-item-icon {
        color: dt('tieredmenu.item.icon.focus.color');
    }

    .p-tieredmenu-item:not(.p-disabled) > .p-tieredmenu-item-content:hover .p-tieredmenu-submenu-icon {
        color: dt('tieredmenu.submenu.icon.focus.color');
    }

    .p-tieredmenu-item-active > .p-tieredmenu-item-content {
        color: dt('tieredmenu.item.active.color');
        background: dt('tieredmenu.item.active.background');
    }

    .p-tieredmenu-item-active > .p-tieredmenu-item-content .p-tieredmenu-item-icon {
        color: dt('tieredmenu.item.icon.active.color');
    }

    .p-tieredmenu-item-active > .p-tieredmenu-item-content .p-tieredmenu-submenu-icon {
        color: dt('tieredmenu.submenu.icon.active.color');
    }

    .p-tieredmenu-separator {
        border-block-start: 1px solid dt('tieredmenu.separator.border.color');
    }

    .p-tieredmenu-overlay {
        box-shadow: dt('tieredmenu.shadow');
    }

    .p-tieredmenu-enter-from,
    .p-tieredmenu-leave-active {
        opacity: 0;
    }

    .p-tieredmenu-enter-active {
        transition: opacity 250ms;
    }

    .p-tieredmenu-mobile .p-tieredmenu-submenu {
        position: static;
        box-shadow: none;
        border: 0 none;
        padding-inline-start: dt('tieredmenu.submenu.mobile.indent');
        padding-inline-end: 0;
    }

    .p-tieredmenu-mobile .p-tieredmenu-submenu:dir(rtl) {
        padding-inline-start: 0;
        padding-inline-end: dt('tieredmenu.submenu.mobile.indent');
    }

    .p-tieredmenu-mobile .p-tieredmenu-submenu-icon {
        transition: transform 0.2s;
        transform: rotate(90deg);
    }

    .p-tieredmenu-mobile .p-tieredmenu-item-active > .p-tieredmenu-item-content .p-tieredmenu-submenu-icon {
        transform: rotate(-90deg);
    }
`;var gk=["sublist"],_k=t=>({processedItem:t}),bk=()=>({exact:!1}),yk=(t,s)=>({$implicit:t,hasSubmenu:s}),vk=t=>({display:t});function xk(t,s){if(t&1&&ae(0,"li",7),t&2){let e=M().$implicit,i=M();Lt(i.getItemProp(e,"style")),$(i.cn(i.cx("separator"),i.getItemProp(e,"class"),i.getItemProp(e,"styleClass"))),de("id",i.getItemId(e))("data-pc-section","separator")}}function wk(t,s){if(t&1&&ae(0,"span",18),t&2){let e=M(4).$implicit,i=M();$(i.cn(i.cx("itemIcon"),i.getItemProp(e,"icon"))),C("ngStyle",i.getItemProp(e,"iconStyle")),de("data-pc-section","icon")("tabindex",-1)}}function Ik(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(4).$implicit,i=M();$(i.cx("itemLabel")),de("data-pc-section","label"),S(),oi(" ",i.getItemLabel(e)," ")}}function Tk(t,s){if(t&1&&ae(0,"span",19),t&2){let e=M(4).$implicit,i=M();$(i.cx("itemLabel")),C("innerHTML",i.getItemLabel(e),ea),de("data-pc-section","label")}}function Ck(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(4).$implicit,i=M();$(i.cn(i.cx("itemBadge"),i.getItemProp(e,"badgeStyleClass"))),S(),Et(i.getItemProp(e,"badge"))}}function Sk(t,s){if(t&1&&(at(),ae(0,"svg",22)),t&2){let e=M(6);$(e.cx("submenuIcon")),de("data-pc-section","submenuicon")("aria-hidden",!0)}}function Mk(t,s){}function kk(t,s){t&1&&z(0,Mk,0,0,"ng-template",23),t&2&&C("data-pc-section","submenuicon")("aria-hidden",!0)}function Ek(t,s){if(t&1&&(Ke(0),z(1,Sk,1,4,"svg",20)(2,kk,1,2,null,21),We()),t&2){let e=M(5);S(),C("ngIf",!e.tieredMenu.submenuIconTemplate&&!e.tieredMenu._submenuIconTemplate),S(),C("ngTemplateOutlet",e.tieredMenu.submenuIconTemplate||e.tieredMenu._submenuIconTemplate)}}function Pk(t,s){if(t&1&&(A(0,"a",14),z(1,wk,1,5,"span",15)(2,Ik,2,4,"span",16)(3,Tk,1,4,"ng-template",null,2,ze)(5,Ck,2,3,"span",17)(6,Ek,3,2,"ng-container",10),L()),t&2){let e=Gt(4),i=M(3).$implicit,n=M();$(n.cx("itemLink")),C("target",n.getItemProp(i,"target")),de("href",n.getItemProp(i,"url"),Ji)("data-automationid",n.getItemProp(i,"automationId"))("data-pc-section","action")("tabindex",-1),S(),C("ngIf",n.getItemProp(i,"icon")),S(),C("ngIf",n.getItemProp(i,"escape"))("ngIfElse",e),S(3),C("ngIf",n.getItemProp(i,"badge")),S(),C("ngIf",n.isItemGroup(i))}}function Dk(t,s){if(t&1&&ae(0,"span",18),t&2){let e=M(4).$implicit,i=M();$(i.cn(i.cx("itemIcon"),i.getItemProp(e,"icon"))),C("ngStyle",i.getItemProp(e,"iconStyle")),de("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function Lk(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(4).$implicit,i=M();$(i.cx("itemLabel")),de("data-pc-section","label"),S(),oi(" ",i.getItemLabel(e)," ")}}function Ak(t,s){if(t&1&&ae(0,"span",19),t&2){let e=M(4).$implicit,i=M();$(i.cx("itemLabel")),C("innerHTML",i.getItemLabel(e),ea),de("data-pc-section","label")}}function Ok(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(4).$implicit,i=M();$(i.cn(i.cx("itemBadge"),i.getItemProp(e,"badgeStyleClass"))),S(),Et(i.getItemProp(e,"badge"))}}function Fk(t,s){if(t&1&&(at(),ae(0,"svg",22)),t&2){let e=M(6);$(e.cx("submenuIcon")),de("data-pc-section","submenuicon")("aria-hidden",!0)}}function Vk(t,s){}function zk(t,s){t&1&&z(0,Vk,0,0,"ng-template",23),t&2&&C("data-pc-section","submenuicon")("aria-hidden",!0)}function Rk(t,s){if(t&1&&(Ke(0),z(1,Fk,1,4,"svg",20)(2,zk,1,2,null,21),We()),t&2){let e=M(5);S(),C("ngIf",!e.tieredMenu.submenuIconTemplate&&!e.tieredMenu._submenuIconTemplate),S(),C("ngTemplateOutlet",e.tieredMenu.submenuIconTemplate||e.tieredMenu._submenuIconTemplate)}}function Bk(t,s){if(t&1&&(A(0,"a",24),z(1,Dk,1,6,"span",15)(2,Lk,2,4,"span",16)(3,Ak,1,4,"ng-template",null,2,ze)(5,Ok,2,3,"span",17)(6,Rk,3,2,"ng-container",10),L()),t&2){let e=Gt(4),i=M(3).$implicit,n=M();$(n.cx("itemLink")),C("routerLink",n.getItemProp(i,"routerLink"))("queryParams",n.getItemProp(i,"queryParams"))("routerLinkActive","p-tieredmenu-item-link-active")("routerLinkActiveOptions",n.getItemProp(i,"routerLinkActiveOptions")||Zt(21,bk))("target",n.getItemProp(i,"target"))("fragment",n.getItemProp(i,"fragment"))("queryParamsHandling",n.getItemProp(i,"queryParamsHandling"))("preserveFragment",n.getItemProp(i,"preserveFragment"))("skipLocationChange",n.getItemProp(i,"skipLocationChange"))("replaceUrl",n.getItemProp(i,"replaceUrl"))("state",n.getItemProp(i,"state")),de("data-automationid",n.getItemProp(i,"automationId"))("tabindex",-1)("data-pc-section","action"),S(),C("ngIf",n.getItemProp(i,"icon")),S(),C("ngIf",n.getItemProp(i,"escape"))("ngIfElse",e),S(3),C("ngIf",n.getItemProp(i,"badge")),S(),C("ngIf",n.isItemGroup(i))}}function Nk(t,s){if(t&1&&(Ke(0),z(1,Pk,7,12,"a",12)(2,Bk,7,22,"a",13),We()),t&2){let e=M(2).$implicit,i=M();S(),C("ngIf",!i.getItemProp(e,"routerLink")),S(),C("ngIf",i.getItemProp(e,"routerLink"))}}function qk(t,s){}function Hk(t,s){t&1&&z(0,qk,0,0,"ng-template")}function jk(t,s){if(t&1&&(Ke(0),z(1,Hk,1,0,null,25),We()),t&2){let e=M(2).$implicit,i=M();S(),C("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",ni(2,yk,e.item,i.getItemProp(e,"items")))}}function Gk(t,s){if(t&1){let e=Be();A(0,"p-tieredmenusub",26),we("itemClick",function(n){Q(e);let a=M(3);return X(a.itemClick.emit(n))})("itemMouseEnter",function(n){Q(e);let a=M(3);return X(a.onItemMouseEnter(n))}),L()}if(t&2){let e=M(2).$implicit,i=M();C("items",e.items)("itemTemplate",i.itemTemplate)("autoDisplay",i.autoDisplay)("menuId",i.menuId)("activeItemPath",i.activeItemPath())("focusedItemId",i.focusedItemId)("ariaLabelledBy",i.getItemId(e))("level",i.level+1)("inlineStyles",ot(9,vk,i.isItemActive(e)?"flex":"none"))}}function Uk(t,s){if(t&1){let e=Be();A(0,"li",8,1)(2,"div",9),we("click",function(n){Q(e);let a=M().$implicit,u=M();return X(u.onItemClick(n,a))})("mouseenter",function(n){Q(e);let a=M().$implicit,u=M();return X(u.onItemMouseEnter({$event:n,processedItem:a}))}),z(3,Nk,3,2,"ng-container",10)(4,jk,2,5,"ng-container",10),L(),z(5,Gk,1,11,"p-tieredmenusub",11),L()}if(t&2){let e=M(),i=e.$implicit,n=e.index,a=M();$(a.cn(a.cx("item",ot(21,_k,i)),a.getItemProp(i,"styleClass"))),C("ngStyle",a.getItemProp(i,"style"))("tooltipOptions",a.getItemProp(i,"tooltipOptions")),de("id",a.getItemId(i))("data-pc-section","menuitem")("data-p-highlight",a.isItemActive(i))("data-p-focused",a.isItemFocused(i))("data-p-disabled",a.isItemDisabled(i))("aria-label",a.getItemLabel(i))("aria-disabled",a.isItemDisabled(i)||void 0)("aria-haspopup",a.isItemGroup(i)&&!a.getItemProp(i,"to")?"menu":void 0)("aria-expanded",a.isItemGroup(i)?a.isItemActive(i):void 0)("aria-setsize",a.getAriaSetSize())("aria-posinset",a.getAriaPosInset(n)),S(2),$(a.cx("itemContent")),de("data-pc-section","content"),S(),C("ngIf",!a.itemTemplate),S(),C("ngIf",a.itemTemplate),S(),C("ngIf",a.isItemVisible(i)&&a.isItemGroup(i))}}function $k(t,s){if(t&1&&z(0,xk,1,6,"li",5)(1,Uk,6,23,"li",6),t&2){let e=s.$implicit,i=M();C("ngIf",i.isItemVisible(e)&&i.getItemProp(e,"separator")),S(),C("ngIf",i.isItemVisible(e)&&!i.getItemProp(e,"separator"))}}var Kk=["submenuicon"],Wk=["item"],Zk=["rootmenu"],Qk=["container"],Xk=(t,s)=>({showTransitionParams:t,hideTransitionParams:s}),Yk=t=>({value:"visible",params:t});function Jk(t,s){if(t&1){let e=Be();A(0,"div",3,0),we("click",function(n){Q(e);let a=M();return X(a.onOverlayClick(n))})("@overlayAnimation.start",function(n){Q(e);let a=M();return X(a.onOverlayAnimationStart(n))})("@overlayAnimation.done",function(n){Q(e);let a=M();return X(a.onOverlayAnimationEnd(n))}),A(2,"p-tieredMenuSub",4,1),we("itemClick",function(n){Q(e);let a=M();return X(a.onItemClick(n))})("menuFocus",function(n){Q(e);let a=M();return X(a.onMenuFocus(n))})("menuBlur",function(n){Q(e);let a=M();return X(a.onMenuBlur(n))})("menuKeydown",function(n){Q(e);let a=M();return X(a.onKeyDown(n))})("itemMouseEnter",function(n){Q(e);let a=M();return X(a.onItemMouseEnter(n))}),L()()}if(t&2){let e=M();$(e.cn(e.cx("root"),e.styleClass)),C("id",e.id)("ngStyle",e.style)("@overlayAnimation",ot(24,Yk,ni(21,Xk,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.popup!==!0),de("data-pc-section","root")("data-pc-name","tieredmenu"),S(2),C("root",!0)("items",e.processedItems)("itemTemplate",e.itemTemplate||e._itemTemplate)("menuId",e.id)("tabindex",e.disabled?-1:e.tabindex)("ariaLabel",e.ariaLabel)("ariaLabelledBy",e.ariaLabelledBy)("baseZIndex",e.baseZIndex)("autoZIndex",e.autoZIndex)("autoDisplay",e.autoDisplay)("popup",e.popup)("focusedItemId",e.focused?e.focusedItemId:void 0)("activeItemPath",e.activeItemPath())}}var eE={submenu:({instance:t,processedItem:s})=>({display:t.isItemActive(s)?"flex":"none"})},tE={root:({instance:t})=>["p-tieredmenu p-component",{"p-tieredmenu-overlay":t.popup,"p-tieredmenu-mobile":t.queryMatches}],start:"p-tieredmenu-start",rootList:"p-tieredmenu-root-list",item:({instance:t,processedItem:s})=>["p-tieredmenu-item",{"p-tieredmenu-item-active":t.isItemActive(s),"p-focus":t.isItemFocused(s),"p-disabled":t.isItemDisabled(s)}],itemContent:"p-tieredmenu-item-content",itemLink:"p-tieredmenu-item-link",itemIcon:"p-tieredmenu-item-icon",itemLabel:"p-tieredmenu-item-label",itemBadge:"p-menuitem-badge",submenuIcon:"p-tieredmenu-submenu-icon",submenu:"p-tieredmenu-submenu",separator:"p-tieredmenu-separator",end:"p-tieredmenu-end"},Pb=(()=>{class t extends Rt{name="tieredmenu";theme=K3;classes=tE;inlineStyles=eE;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var iE=(()=>{class t extends Ot{el;renderer;tieredMenu;items;itemTemplate;root=!1;autoDisplay;autoZIndex=!0;baseZIndex=0;popup;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath=nn([]);tabindex=0;inlineStyles;itemClick=new Le;itemMouseEnter=new Le;menuFocus=new Le;menuBlur=new Le;menuKeydown=new Le;sublistViewChild;_componentStyle=Fe(Pb);constructor(e,i,n){super(),this.el=e,this.renderer=i,this.tieredMenu=n}positionSubmenu(){if(ii(this.tieredMenu.platformId)){let e=this.sublistViewChild&&this.sublistViewChild.nativeElement;e&&Vw(e,this.level)}}getItemProp(e,i,n=null){return e&&e.item?Lo(e.item[i],n):void 0}getItemId(e){return e.item?.id??`${this.menuId}_${e.key}`}getItemKey(e){return this.getItemId(e)}getItemClass(e){return Ma(ri({},this.getItemProp(e,"class")),{"p-tieredmenu-item":!0,"p-tieredmenu-item-active":this.isItemActive(e),"p-focus":this.isItemFocused(e),"p-disabled":this.isItemDisabled(e)})}getItemLabel(e){return this.getItemProp(e,"label")}getSeparatorItemClass(e){return Ma(ri({},this.getItemProp(e,"class")),{"p-tieredmenu-separator":!0})}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(i=>{let n=this.isItemVisible(i),a=n&&this.getItemProp(i,"separator");return!n||a}).length+1}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemActive(e){if(this.activeItemPath())return this.positionSubmenu(),this.activeItemPath().some(i=>i.key===e.key)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return Wt(e.items)}onItemMouseEnter(e){if(this.autoDisplay){let{event:i,processedItem:n}=e;this.itemMouseEnter.emit({originalEvent:i,processedItem:n})}}onItemClick(e,i){this.getItemProp(i,"command",{originalEvent:e,item:i.item}),this.itemClick.emit({originalEvent:e,processedItem:i,isFocus:!0})}static \u0275fac=function(i){return new(i||t)(Dt(ua),Dt(ac),Dt(Ki(()=>Cp)))};static \u0275cmp=Je({type:t,selectors:[["p-tieredMenuSub"],["p-tieredmenusub"]],viewQuery:function(i,n){if(i&1&&ut(gk,7),i&2){let a;se(a=le())&&(n.sublistViewChild=a.first)}},inputs:{items:"items",itemTemplate:"itemTemplate",root:[2,"root","root",ye],autoDisplay:[2,"autoDisplay","autoDisplay",ye],autoZIndex:[2,"autoZIndex","autoZIndex",ye],baseZIndex:[2,"baseZIndex","baseZIndex",wt],popup:[2,"popup","popup",ye],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[2,"level","level",wt],focusedItemId:"focusedItemId",activeItemPath:[1,"activeItemPath"],tabindex:[2,"tabindex","tabindex",wt],inlineStyles:"inlineStyles"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[ft],decls:3,vars:12,consts:[["sublist",""],["listItem",""],["htmlLabel",""],["role","menu",3,"keydown","focus","blur","id","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"style","class",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","class","tooltipOptions",4,"ngIf"],["role","separator"],["role","menuitem","pTooltip","",3,"ngStyle","tooltipOptions"],[3,"click","mouseenter"],[4,"ngIf"],[3,"items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level","inlineStyles","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","class",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","class","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target"],[3,"class","ngStyle",4,"ngIf"],[3,"class",4,"ngIf","ngIfElse"],[3,"class",4,"ngIf"],[3,"ngStyle"],[3,"innerHTML"],["data-p-icon","angle-right",3,"class",4,"ngIf"],[4,"ngTemplateOutlet"],["data-p-icon","angle-right"],[3,"data-pc-section","aria-hidden"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemClick","itemMouseEnter","items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level","inlineStyles"]],template:function(i,n){if(i&1){let a=Be();A(0,"ul",3,0),we("keydown",function(b){return Q(a),X(n.menuKeydown.emit(b))})("focus",function(b){return Q(a),X(n.menuFocus.emit(b))})("blur",function(b){return Q(a),X(n.menuBlur.emit(b))}),z(2,$k,2,2,"ng-template",4),L()}i&2&&(Lt(n.inlineStyles),$(n.root?n.cx("rootList"):n.cx("submenu")),C("id",n.menuId+"_list")("tabindex",n.tabindex),de("aria-label",n.ariaLabel)("aria-labelledBy",n.ariaLabelledBy)("aria-activedescendant",n.focusedItemId)("aria-orientation","vertical")("data-pc-section","menu"),S(2),C("ngForOf",n.items))},dependencies:[t,mt,Bi,Ut,Yt,fi,Ea,$o,os,sn,aa,La,Ls,Ze],encapsulation:2})}return t})(),Cp=(()=>{class t extends Ot{overlayService;set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}popup;style;styleClass;breakpoint="960px";autoZIndex=!0;baseZIndex=0;autoDisplay=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";id;ariaLabel;ariaLabelledBy;disabled=!1;tabindex=0;appendTo=nn(void 0);onShow=new Le;onHide=new Le;rootmenu;containerViewChild;submenuIconTemplate;itemTemplate;templates;$appendTo=Ai(()=>this.appendTo()||this.config.overlayAppendTo());container;outsideClickListener;resizeListener;scrollHandler;target;relatedTarget;visible;relativeAlign;dirty=!1;focused=!1;activeItemPath=gi([]);number=gi(0);focusedItemInfo=gi({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;_componentStyle=Fe(Pb);matchMediaListener;query;queryMatches;_submenuIconTemplate;_itemTemplate;get visibleItems(){let e=this.activeItemPath().find(i=>i.key===this.focusedItemInfo().parentKey);return e?e.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let e=this.focusedItemInfo();return e.item?.id?e.item.id:e.index!==-1?`${this.id}${Wt(e.parentKey)?"_"+e.parentKey:""}_${e.index}`:null}constructor(e){super(),this.overlayService=e,Pr(()=>{let i=this.activeItemPath();Wt(i)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){super.ngOnInit(),this.bindMatchMediaListener(),this.id=this.id||vi("pn_id_")}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"submenuicon":this._submenuIconTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}bindMatchMediaListener(){if(ii(this.platformId)&&!this.matchMediaListener){let e=window.matchMedia(`(max-width: ${this.breakpoint})`);this.query=e,this.queryMatches=e.matches,this.matchMediaListener=()=>{this.queryMatches=e.matches},e.addEventListener("change",this.matchMediaListener)}}unbindMatchMediaListener(){this.matchMediaListener&&(this.query.removeEventListener("change",this.matchMediaListener),this.matchMediaListener=null)}createProcessedItems(e,i=0,n={},a=""){let u=[];return e&&e.forEach((b,T)=>{let D=(a!==""?a+"_":"")+T,R={item:b,index:T,level:i,key:D,parent:n,parentKey:a};R.items=this.createProcessedItems(b.items,i+1,R,D),u.push(R)}),u}getItemProp(e,i){return e?Lo(e[i]):void 0}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isProcessedItemGroup(e){return e&&Wt(e.items)}isSelected(e){return this.activeItemPath().some(i=>i.key===e.key)}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)&&this.isItemVisible(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&Wt(e.items)}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}onItemClick(e){let{originalEvent:i,processedItem:n}=e,a=this.isProcessedItemGroup(n),u=hn(n.parent);if(this.isSelected(n)){let{index:T,key:D,level:R,parentKey:U,item:Y}=n;this.activeItemPath.set(this.activeItemPath().filter(oe=>D!==oe.key&&D.startsWith(oe.key))),this.focusedItemInfo.set({index:T,level:R,parentKey:U,item:Y}),this.dirty=!0,$t(this.rootmenu.sublistViewChild.nativeElement)}else if(a)this.onItemChange(e);else{let T=u?n:this.activeItemPath().find(D=>D.parentKey==="");this.hide(i),this.changeFocusedItemIndex(i,T?T.index:-1),$t(this.rootmenu.sublistViewChild.nativeElement)}}onItemMouseEnter(e){ar()?this.onItemChange({event:e,processedItem:e.processedItem,focus:this.autoDisplay},"hover"):this.dirty&&this.onItemChange(e,"hover")}onKeyDown(e){let i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!i&&or(e.key)&&this.searchItems(e,e.key);break}}onArrowDownKey(e){let i=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}onArrowRightKey(e){let i=this.visibleItems[this.focusedItemInfo().index],n=this.isProccessedItemGroup(i),a=i?.item;n&&(this.onItemChange({originalEvent:e,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:a}),this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()}onArrowUpKey(e){if(e.altKey){if(this.focusedItemInfo().index!==-1){let i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:e,processedItem:i})}this.popup&&this.hide(e,!0),e.preventDefault()}else{let i=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}}onArrowLeftKey(e){let i=this.visibleItems[this.focusedItemInfo().index],n=this.activeItemPath().find(b=>b.key===i.parentKey);hn(i.parent)||(this.focusedItemInfo.set({index:-1,parentKey:n?n.parentKey:"",item:i.item}),this.searchValue="",this.onArrowDownKey(e));let u=this.activeItemPath().filter(b=>b.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(u),e.preventDefault()}onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){this.hide(e,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),e.preventDefault()}onTabKey(e){if(this.focusedItemInfo().index!==-1){let i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:e,processedItem:i})}this.hide()}onEnterKey(e){if(this.focusedItemInfo().index!==-1){let i=ei(this.rootmenu.el.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),n=i&&ei(i,'a[data-pc-section="action"]');if(n?n.click():i&&i.click(),!this.popup){let a=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(a)&&(this.focusedItemInfo().index=this.findFirstFocusedItemIndex())}}e.preventDefault()}onItemChange(e,i){let{processedItem:n,isFocus:a}=e;if(hn(n))return;let{index:u,key:b,level:T,parentKey:D,items:R,item:U}=n,Y=Wt(R),oe=this.activeItemPath().filter(J=>J.parentKey!==D&&J.parentKey!==b);Y&&oe.push(n),this.focusedItemInfo.set({index:u,level:T,parentKey:D,item:U}),Y&&(this.dirty=!0),a&&$t(this.rootmenu.sublistViewChild.nativeElement),!(i==="hover"&&this.queryMatches)&&this.activeItemPath.set(oe)}onMenuFocus(e){this.focused=!0,this.focusedItemInfo().index===-1&&this.popup}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),Lw(this.containerViewChild.nativeElement,{position:"absolute",top:0}),this.attrSelector&&this.container.setAttribute(this.attrSelector,""),this.appendOverlay(),this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),$t(this.rootmenu.sublistViewChild.nativeElement),this.scrollInView());break;case"void":this.onOverlayHide(),this.onHide.emit({});break}}alignOverlay(){this.relativeAlign?up(this.container,this.target):lc(this.container,this.target),Dr(this.target)>Dr(this.container)&&(this.container.style.minWidth=Dr(this.target)+"px")}onOverlayAnimationEnd(e){switch(e.toState){case"void":qi.clear(e.element);break}}appendOverlay(){this.$appendTo()&&this.$appendTo()!=="self"&&(this.$appendTo()==="body"?this.renderer.appendChild(this.document.body,this.container):pp(this.$appendTo(),this.container))}restoreOverlayAppend(){this.container&&this.$appendTo()!=="self"&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&qi.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(e,i){this.popup&&(this.onHide.emit({}),this.visible=!1),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),i&&$t(this.relatedTarget||this.target||this.rootmenu.sublistViewChild.nativeElement),this.dirty=!1}toggle(e){this.visible?this.hide(e,!0):this.show(e)}show(e,i){this.popup&&(this.visible=!0,this.target=this.target||e.currentTarget,this.relatedTarget=e.relatedTarget||null,this.relativeAlign=e?.relativeAlign||null),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),i&&$t(this.rootmenu.sublistViewChild.nativeElement),this.cd.markForCheck()}searchItems(e,i){this.searchValue=(this.searchValue||"")+i;let n=-1,a=!1;return this.focusedItemInfo().index!==-1?(n=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(u=>this.isItemMatched(u)),n=n===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(u=>this.isItemMatched(u)):n+this.focusedItemInfo().index):n=this.visibleItems.findIndex(u=>this.isItemMatched(u)),n!==-1&&(a=!0),n===-1&&this.focusedItemInfo().index===-1&&(n=this.findFirstFocusedItemIndex()),n!==-1&&this.changeFocusedItemIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),a}findLastFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return ta(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){let i=e>0?ta(this.visibleItems.slice(0,e),n=>this.isValidItem(n)):-1;return i>-1?i:e}findNextItemIndex(e){let i=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(n=>this.isValidItem(n)):-1;return i>-1?i+e+1:e}findFirstFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}changeFocusedItemIndex(e,i){if(this.focusedItemInfo().index!==i){let n=this.focusedItemInfo();this.focusedItemInfo.set(Ma(ri({},n),{item:this.visibleItems[i].item,index:i})),this.scrollInView()}}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedItemId,n=ei(this.rootmenu.el.nativeElement,`li[id="${i}"]`);n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"})}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new pc(this.target,e=>{this.visible&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&(this.scrollHandler.unbindScrollListener(),this.scrollHandler=null)}bindResizeListener(){ii(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{ar()||this.hide(e,!0)})))}bindOutsideClickListener(){ii(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",e=>{let i=this.containerViewChild&&!this.containerViewChild.nativeElement.contains(e.target),n=this.popup?!(this.target&&(this.target===e.target||this.target.contains(e.target))):!0;i&&n&&this.hide()})))}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}onOverlayHide(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&qi.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide()),this.unbindMatchMediaListener(),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||t)(Dt(sr))};static \u0275cmp=Je({type:t,selectors:[["p-tieredMenu"],["p-tieredmenu"],["p-tiered-menu"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,Kk,4),xe(a,Wk,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.submenuIconTemplate=u.first),se(u=le())&&(n.itemTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&(ut(Zk,5),ut(Qk,5)),i&2){let a;se(a=le())&&(n.rootmenu=a.first),se(a=le())&&(n.containerViewChild=a.first)}},inputs:{model:"model",popup:[2,"popup","popup",ye],style:"style",styleClass:"styleClass",breakpoint:"breakpoint",autoZIndex:[2,"autoZIndex","autoZIndex",ye],baseZIndex:[2,"baseZIndex","baseZIndex",wt],autoDisplay:[2,"autoDisplay","autoDisplay",ye],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",ye],tabindex:[2,"tabindex","tabindex",wt],appendTo:[1,"appendTo"]},outputs:{onShow:"onShow",onHide:"onHide"},features:[_t([Pb]),ft],decls:1,vars:1,consts:[["container",""],["rootmenu",""],[3,"id","class","ngStyle","click",4,"ngIf"],[3,"click","id","ngStyle"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","root","items","itemTemplate","menuId","tabindex","ariaLabel","ariaLabelledBy","baseZIndex","autoZIndex","autoDisplay","popup","focusedItemId","activeItemPath"]],template:function(i,n){i&1&&z(0,Jk,4,26,"div",2),i&2&&C("ngIf",!n.popup||n.visible)},dependencies:[mt,Ut,fi,iE,Ea,aa,Ze],encapsulation:2,data:{animation:[qn("overlayAnimation",[Fi(":enter",[Oi({opacity:0,transform:"scaleY(0.8)"}),Ni("{{showTransitionParams}}")]),Fi(":leave",[Ni("{{hideTransitionParams}}",Oi({opacity:0}))])])]},changeDetection:0})}return t})(),W3=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[Cp,Ze,Ze]})}return t})();var Z3=`
    .p-splitbutton {
        display: inline-flex;
        position: relative;
        border-radius: dt('splitbutton.border.radius');
    }

    .p-splitbutton-button.p-button {
        border-start-end-radius: 0;
        border-end-end-radius: 0;
        border-inline-end: 0 none;
    }

    .p-splitbutton-button.p-button:focus-visible,
    .p-splitbutton-dropdown.p-button:focus-visible {
        z-index: 1;
    }

    .p-splitbutton-button.p-button:not(:disabled):hover,
    .p-splitbutton-button.p-button:not(:disabled):active {
        border-inline-end: 0 none;
    }

    .p-splitbutton-dropdown.p-button {
        border-start-start-radius: 0;
        border-end-start-radius: 0;
    }

    .p-splitbutton .p-menu {
        min-width: 100%;
    }

    .p-splitbutton-fluid {
        display: flex;
    }

    .p-splitbutton-rounded .p-splitbutton-dropdown.p-button {
        border-start-end-radius: dt('splitbutton.rounded.border.radius');
        border-end-end-radius: dt('splitbutton.rounded.border.radius');
    }

    .p-splitbutton-rounded .p-splitbutton-button.p-button {
        border-start-start-radius: dt('splitbutton.rounded.border.radius');
        border-end-start-radius: dt('splitbutton.rounded.border.radius');
    }

    .p-splitbutton-raised {
        box-shadow: dt('splitbutton.raised.shadow');
    }
`;var aE=["content"],oE=["dropdownicon"],rE=["defaultbtn"],sE=["menu"];function lE(t,s){t&1&&nt(0)}function cE(t,s){if(t&1){let e=Be();Ke(0),A(1,"button",8),we("click",function(n){Q(e);let a=M();return X(a.onDefaultButtonClick(n))}),z(2,lE,1,0,"ng-container",9),L(),We()}if(t&2){let e=M();S(),$(e.cx("pcButton")),C("severity",e.severity)("text",e.text)("outlined",e.outlined)("size",e.size)("icon",e.icon)("iconPos",e.iconPos)("disabled",e.disabled)("pAutoFocus",e.autofocus)("pTooltip",e.tooltip)("tooltipOptions",e.tooltipOptions),de("tabindex",e.tabindex)("aria-label",(e.buttonProps==null?null:e.buttonProps.ariaLabel)||e.label),S(),C("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)}}function dE(t,s){if(t&1){let e=Be();A(0,"button",10,2),we("click",function(n){Q(e);let a=M();return X(a.onDefaultButtonClick(n))}),L()}if(t&2){let e=M();$(e.cx("pcButton")),C("severity",e.severity)("text",e.text)("outlined",e.outlined)("size",e.size)("icon",e.icon)("iconPos",e.iconPos)("label",e.label)("disabled",e.buttonDisabled)("pAutoFocus",e.autofocus)("pTooltip",e.tooltip)("tooltipOptions",e.tooltipOptions),de("tabindex",e.tabindex)("aria-label",e.buttonProps==null?null:e.buttonProps.ariaLabel)}}function uE(t,s){if(t&1&&ae(0,"span"),t&2){let e=M();$(e.dropdownIcon)}}function pE(t,s){t&1&&(at(),ae(0,"svg",12))}function hE(t,s){}function mE(t,s){t&1&&z(0,hE,0,0,"ng-template")}function fE(t,s){if(t&1&&(Ke(0),z(1,pE,1,0,"svg",11)(2,mE,1,0,null,9),We()),t&2){let e=M();S(),C("ngIf",!e.dropdownIconTemplate&&!e._dropdownIconTemplate),S(),C("ngTemplateOutlet",e.dropdownIconTemplate||e._dropdownIconTemplate)}}var gE={root:({instance:t})=>["p-splitbutton p-component",{"p-splitbutton-raised":t.raised,"p-splitbutton-rounded":t.rounded,"p-splitbutton-outlined":t.outlined,"p-splitbutton-text":t.text,[`p-splitbutton-${t.size==="small"?"sm":"lg"}`]:t.size}],pcButton:"p-splitbutton-button",pcDropdown:"p-splitbutton-dropdown p-button-icon-only"},Q3=(()=>{class t extends Rt{name="splitbutton";theme=Z3;classes=gE;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var _m=(()=>{class t extends Ot{model;severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;icon;iconPos="left";label;tooltip;tooltipOptions;styleClass;menuStyle;menuStyleClass;dropdownIcon;appendTo="body";dir;expandAriaLabel;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";buttonProps;menuButtonProps;autofocus;set disabled(e){this._disabled=e,this.buttonDisabled=e,this.menuButtonDisabled=e}get disabled(){return this._disabled}tabindex;menuButtonDisabled=!1;buttonDisabled=!1;onClick=new Le;onMenuHide=new Le;onMenuShow=new Le;onDropdownClick=new Le;buttonViewChild;menu;contentTemplate;dropdownIconTemplate;templates;ariaId;isExpanded=gi(!1);_disabled;_componentStyle=Fe(Q3);_contentTemplate;_dropdownIconTemplate;ngOnInit(){super.ngOnInit(),this.ariaId=vi("pn_id_")}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;case"dropdownicon":this._dropdownIconTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}onDefaultButtonClick(e){this.onClick.emit(e),this.menu.hide()}onDropdownButtonClick(e){this.onDropdownClick.emit(e),this.menu?.toggle({currentTarget:this.el?.nativeElement,relativeAlign:this.appendTo==null})}onDropdownButtonKeydown(e){(e.code==="ArrowDown"||e.code==="ArrowUp")&&(this.onDropdownButtonClick(),e.preventDefault())}onHide(){this.isExpanded.set(!1),this.onMenuHide.emit()}onShow(){this.isExpanded.set(!0),this.onMenuShow.emit()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-splitbutton"],["p-splitButton"],["p-split-button"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,aE,4),xe(a,oE,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.contentTemplate=u.first),se(u=le())&&(n.dropdownIconTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&(ut(rE,5),ut(sE,5)),i&2){let a;se(a=le())&&(n.buttonViewChild=a.first),se(a=le())&&(n.menu=a.first)}},hostVars:2,hostBindings:function(i,n){i&2&&$(n.cn(n.cx("root"),n.styleClass))},inputs:{model:"model",severity:"severity",raised:[2,"raised","raised",ye],rounded:[2,"rounded","rounded",ye],text:[2,"text","text",ye],outlined:[2,"outlined","outlined",ye],size:"size",plain:[2,"plain","plain",ye],icon:"icon",iconPos:"iconPos",label:"label",tooltip:"tooltip",tooltipOptions:"tooltipOptions",styleClass:"styleClass",menuStyle:"menuStyle",menuStyleClass:"menuStyleClass",dropdownIcon:"dropdownIcon",appendTo:"appendTo",dir:"dir",expandAriaLabel:"expandAriaLabel",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",buttonProps:"buttonProps",menuButtonProps:"menuButtonProps",autofocus:[2,"autofocus","autofocus",ye],disabled:[2,"disabled","disabled",ye],tabindex:[2,"tabindex","tabindex",wt],menuButtonDisabled:[2,"menuButtonDisabled","menuButtonDisabled",ye],buttonDisabled:[2,"buttonDisabled","buttonDisabled",ye]},outputs:{onClick:"onClick",onMenuHide:"onMenuHide",onMenuShow:"onMenuShow",onDropdownClick:"onDropdownClick"},features:[_t([Q3]),ft],decls:8,vars:24,consts:[["defaultButton",""],["menu",""],["defaultbtn",""],[4,"ngIf","ngIfElse"],["type","button","pButton","","pRipple","",3,"click","keydown","size","severity","text","outlined","disabled"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"onHide","onShow","id","popup","model","styleClass","appendTo","showTransitionOptions","hideTransitionOptions"],["type","button","pButton","","pRipple","",3,"click","severity","text","outlined","size","icon","iconPos","disabled","pAutoFocus","pTooltip","tooltipOptions"],[4,"ngTemplateOutlet"],["type","button","pButton","","pRipple","",3,"click","severity","text","outlined","size","icon","iconPos","label","disabled","pAutoFocus","pTooltip","tooltipOptions"],["data-p-icon","chevron-down",4,"ngIf"],["data-p-icon","chevron-down"]],template:function(i,n){if(i&1){let a=Be();z(0,cE,3,15,"ng-container",3)(1,dE,2,15,"ng-template",null,0,ze),A(3,"button",4),we("click",function(b){return Q(a),X(n.onDropdownButtonClick(b))})("keydown",function(b){return Q(a),X(n.onDropdownButtonKeydown(b))}),z(4,uE,1,2,"span",5)(5,fE,3,2,"ng-container",6),L(),A(6,"p-tieredmenu",7,1),we("onHide",function(){return Q(a),X(n.onHide())})("onShow",function(){return Q(a),X(n.onShow())}),L()}if(i&2){let a=Gt(2);C("ngIf",n.contentTemplate||n._contentTemplate)("ngIfElse",a),S(3),$(n.cx("pcDropdown")),C("size",n.size)("severity",n.severity)("text",n.text)("outlined",n.outlined)("disabled",n.menuButtonDisabled),de("aria-label",(n.menuButtonProps==null?null:n.menuButtonProps.ariaLabel)||n.expandAriaLabel)("aria-haspopup",(n.menuButtonProps==null?null:n.menuButtonProps.ariaHasPopup)||!0)("aria-expanded",(n.menuButtonProps==null?null:n.menuButtonProps.ariaExpanded)||n.isExpanded())("aria-controls",(n.menuButtonProps==null?null:n.menuButtonProps.ariaControls)||n.ariaId),S(),C("ngIf",n.dropdownIcon),S(),C("ngIf",!n.dropdownIcon),S(),Lt(n.menuStyle),C("id",n.ariaId)("popup",!0)("model",n.model)("styleClass",n.menuStyleClass)("appendTo",n.appendTo)("showTransitionOptions",n.showTransitionOptions)("hideTransitionOptions",n.hideTransitionOptions)}},dependencies:[mt,Ut,Yt,Os,Cp,Ao,Da,sn,aa,La,Ze],encapsulation:2,changeDetection:0})}return t})(),dg=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[_m,Ze,Ze]})}return t})();var ug=class t{items=[];loading=[!1,!1,!1,!1];ngOnInit(){this.items=[{label:"Update",icon:"pi pi-refresh"},{label:"Delete",icon:"pi pi-times"},{label:"Angular.io",icon:"pi pi-info",url:"http://angular.io"},{separator:!0},{label:"Setup",icon:"pi pi-cog"}]}load(s){this.loading[s]=!0,setTimeout(()=>this.loading[s]=!1,1e3)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Je({type:t,selectors:[["app-button-demo"]],decls:148,vars:13,consts:[[1,"flex","flex-col","md:flex-row","gap-8"],[1,"md:w-1/2"],[1,"card","flex","flex-col","gap-4"],[1,"font-semibold","text-xl"],[1,"flex","flex-wrap","gap-2"],["label","Submit"],["label","Disabled",3,"disabled"],["label","Link",1,"p-button-link"],["label","Primary"],["label","Secondary","severity","secondary"],["label","Success","severity","success"],["label","Info","severity","info"],["label","Warn","severity","warn"],["label","Help","severity","help"],["label","Danger","severity","danger"],["label","Contrast","severity","contrast"],["label","Primary","text",""],["label","Secondary","severity","secondary","text",""],["label","Success","severity","success","text",""],["label","Info","severity","info","text",""],["label","Warn","severity","warn","text",""],["label","Help","severity","help","text",""],["label","Danger","severity","danger","text",""],["label","Plain","text",""],["label","Primary","outlined",""],["label","Secondary","severity","secondary","outlined",""],["label","Success","severity","success","outlined",""],["label","Info","severity","info","outlined",""],["label","warn","severity","warn","outlined",""],["label","Help","severity","help","outlined",""],["label","Danger","severity","danger","outlined",""],["label","Contrast","severity","contrast","outlined",""],["label","Save","icon","pi pi-check"],["label","Delete","icon","pi pi-trash"],["label","Cancel","icon","pi pi-times"],["label","Save",3,"model"],["label","Save","severity","secondary",3,"model"],["label","Save","severity","success",3,"model"],["label","Save","severity","info",3,"model"],["label","Save","severity","warn",3,"model"],["label","Save","severity","help",3,"model"],["label","Save","severity","danger",3,"model"],["label","Save","severity","contrast",3,"model"],["type","button"],["alt","logo","src","https://primefaces.org/cdn/primeng/images/logo.svg",2,"width","1.5rem"],["type","button","outlined","","severity","success"],[1,"text-bold"],["icon","pi pi-bookmark"],["label","Bookmark","icon","pi pi-bookmark"],["label","Bookmark","icon","pi pi-bookmark","iconPos","right"],["label","Primary","raised",""],["label","Secondary","severity","secondary","raised",""],["label","Success","severity","success","raised",""],["label","Info","severity","info","raised",""],["label","Warn","severity","warn","raised",""],["label","Help","severity","help","raised",""],["label","Danger","severity","danger","raised",""],["label","Contrast","severity","contrast","raised",""],["label","Primary","rounded",""],["label","Secondary","severity","secondary","rounded",""],["label","Success","severity","success","rounded",""],["label","Info","severity","info","rounded",""],["label","Warn","severity","warn","rounded",""],["label","Help","severity","help","rounded",""],["label","Danger","severity","danger","rounded",""],["label","Contrast","severity","contrast","rounded",""],["icon","pi pi-check","rounded",""],["icon","pi pi-bookmark","severity","secondary","rounded",""],["icon","pi pi-search","severity","success","rounded",""],["icon","pi pi-user","severity","info","rounded",""],["icon","pi pi-bell","severity","warn","rounded",""],["icon","pi pi-heart","severity","help","rounded",""],["icon","pi pi-times","severity","danger","rounded",""],["icon","pi pi-check","text","","raised","","rounded",""],["icon","pi pi-bookmark","severity","secondary","text","","raised","","rounded",""],["icon","pi pi-search","severity","success","text","","raised","","rounded",""],["icon","pi pi-user","severity","info","text","","raised","","rounded",""],["icon","pi pi-bell","severity","warn","text","","raised","","rounded",""],["icon","pi pi-heart","severity","help","text","","raised","","rounded",""],["icon","pi pi-times","severity","danger","text","","raised","","rounded",""],["icon","pi pi-check","rounded","","outlined",""],["icon","pi pi-bookmark","severity","secondary","rounded","","outlined",""],["icon","pi pi-search","severity","success","rounded","","outlined",""],["icon","pi pi-user","severity","info","rounded","","outlined",""],["icon","pi pi-bell","severity","warn","rounded","","outlined",""],["icon","pi pi-heart","severity","help","rounded","","outlined",""],["icon","pi pi-times","severity","danger","rounded","","outlined",""],["type","button","label","Search","icon","pi pi-search",3,"click","loading"],["type","button","label","Search","icon","pi pi-search","iconPos","right",3,"click","loading"],["type","button","styleClass","h-full","icon","pi pi-search",3,"click","loading"],["type","button","label","Search",3,"click","loading"]],template:function(e,i){e&1&&(A(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),ie(4,"Default"),L(),A(5,"div",4),ae(6,"p-button",5)(7,"p-button",6)(8,"p-button",7),L()(),A(9,"div",2)(10,"div",3),ie(11,"Severities"),L(),A(12,"div",4),ae(13,"p-button",8)(14,"p-button",9)(15,"p-button",10)(16,"p-button",11)(17,"p-button",12)(18,"p-button",13)(19,"p-button",14)(20,"p-button",15),L()(),A(21,"div",2)(22,"div",3),ie(23,"Text"),L(),A(24,"div",4),ae(25,"p-button",16)(26,"p-button",17)(27,"p-button",18)(28,"p-button",19)(29,"p-button",20)(30,"p-button",21)(31,"p-button",22)(32,"p-button",23),L()(),A(33,"div",2)(34,"div",3),ie(35,"Outlined"),L(),A(36,"div",4),ae(37,"p-button",24)(38,"p-button",25)(39,"p-button",26)(40,"p-button",27)(41,"p-button",28)(42,"p-button",29)(43,"p-button",30)(44,"p-button",31),L()(),A(45,"div",2)(46,"div",3),ie(47,"Group"),L(),A(48,"div",4)(49,"p-buttongroup"),ae(50,"p-button",32)(51,"p-button",33)(52,"p-button",34),L()()(),A(53,"div",2)(54,"div",3),ie(55,"SplitButton"),L(),A(56,"div",4),ae(57,"p-splitbutton",35)(58,"p-splitbutton",36)(59,"p-splitbutton",37)(60,"p-splitbutton",38)(61,"p-splitbutton",39)(62,"p-splitbutton",40)(63,"p-splitbutton",41)(64,"p-splitbutton",42),L()(),A(65,"div",2)(66,"div",3),ie(67,"Templating"),L(),A(68,"div",4)(69,"p-button",43),ae(70,"img",44),L(),A(71,"p-button",45),ae(72,"img",44),A(73,"span",46),ie(74,"PrimeNG"),L()()()()(),A(75,"div",1)(76,"div",2)(77,"div",3),ie(78,"Icons"),L(),A(79,"div",4),ae(80,"p-button",47)(81,"p-button",48)(82,"p-button",49),L()(),A(83,"div",2)(84,"div",3),ie(85,"Raised"),L(),A(86,"div",4),ae(87,"p-button",50)(88,"p-button",51)(89,"p-button",52)(90,"p-button",53)(91,"p-button",54)(92,"p-button",55)(93,"p-button",56)(94,"p-button",57),L()(),A(95,"div",2)(96,"div",3),ie(97,"Rounded"),L(),A(98,"div",4),ae(99,"p-button",58)(100,"p-button",59)(101,"p-button",60)(102,"p-button",61)(103,"p-button",62)(104,"p-button",63)(105,"p-button",64)(106,"p-button",65),L()(),A(107,"div",2)(108,"div",3),ie(109,"Rounded Icons"),L(),A(110,"div",4),ae(111,"p-button",66)(112,"p-button",67)(113,"p-button",68)(114,"p-button",69)(115,"p-button",70)(116,"p-button",71)(117,"p-button",72),L()(),A(118,"div",2)(119,"div",3),ie(120,"Rounded Text"),L(),A(121,"div",4),ae(122,"p-button",73)(123,"p-button",74)(124,"p-button",75)(125,"p-button",76)(126,"p-button",77)(127,"p-button",78)(128,"p-button",79),L()(),A(129,"div",2)(130,"div",3),ie(131,"Rounded Outlined"),L(),A(132,"div",4),ae(133,"p-button",80)(134,"p-button",81)(135,"p-button",82)(136,"p-button",83)(137,"p-button",84)(138,"p-button",85)(139,"p-button",86),L()(),A(140,"div",2)(141,"div",3),ie(142,"Loading"),L(),A(143,"div",4)(144,"p-button",87),we("click",function(){return i.load(0)}),L(),A(145,"p-button",88),we("click",function(){return i.load(1)}),L(),A(146,"p-button",89),we("click",function(){return i.load(2)}),L(),A(147,"p-button",90),we("click",function(){return i.load(3)}),L()()()()()),e&2&&(S(7),C("disabled",!0),S(50),C("model",i.items),S(),C("model",i.items),S(),C("model",i.items),S(),C("model",i.items),S(),C("model",i.items),S(),C("model",i.items),S(),C("model",i.items),S(),C("model",i.items),S(80),C("loading",i.loading[0]),S(),C("loading",i.loading[1]),S(),C("loading",i.loading[2]),S(),C("loading",i.loading[3]))},dependencies:[zi,Gi,$3,Eb,dg,_m],encapsulation:2})};function vm(t){return t+.5|0}var Tc=(t,s,e)=>Math.max(Math.min(t,e),s);function bm(t){return Tc(vm(t*2.55),0,255)}function Cc(t){return Tc(vm(t*255),0,255)}function ml(t){return Tc(vm(t/2.55)/100,0,1)}function Y3(t){return Tc(vm(t*100),0,100)}var $r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Lb=[..."0123456789ABCDEF"],_E=t=>Lb[t&15],bE=t=>Lb[(t&240)>>4]+Lb[t&15],pg=t=>(t&240)>>4===(t&15),yE=t=>pg(t.r)&&pg(t.g)&&pg(t.b)&&pg(t.a);function vE(t){var s=t.length,e;return t[0]==="#"&&(s===4||s===5?e={r:255&$r[t[1]]*17,g:255&$r[t[2]]*17,b:255&$r[t[3]]*17,a:s===5?$r[t[4]]*17:255}:(s===7||s===9)&&(e={r:$r[t[1]]<<4|$r[t[2]],g:$r[t[3]]<<4|$r[t[4]],b:$r[t[5]]<<4|$r[t[6]],a:s===9?$r[t[7]]<<4|$r[t[8]]:255})),e}var xE=(t,s)=>t<255?s(t):"";function wE(t){var s=yE(t)?_E:bE;return t?"#"+s(t.r)+s(t.g)+s(t.b)+xE(t.a,s):void 0}var IE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function iI(t,s,e){let i=s*Math.min(e,1-e),n=(a,u=(a+t/30)%12)=>e-i*Math.max(Math.min(u-3,9-u,1),-1);return[n(0),n(8),n(4)]}function TE(t,s,e){let i=(n,a=(n+t/60)%6)=>e-e*s*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function CE(t,s,e){let i=iI(t,1,.5),n;for(s+e>1&&(n=1/(s+e),s*=n,e*=n),n=0;n<3;n++)i[n]*=1-s-e,i[n]+=s;return i}function SE(t,s,e,i,n){return t===n?(s-e)/i+(s<e?6:0):s===n?(e-t)/i+2:(t-s)/i+4}function Ab(t){let e=t.r/255,i=t.g/255,n=t.b/255,a=Math.max(e,i,n),u=Math.min(e,i,n),b=(a+u)/2,T,D,R;return a!==u&&(R=a-u,D=b>.5?R/(2-a-u):R/(a+u),T=SE(e,i,n,R,a),T=T*60+.5),[T|0,D||0,b]}function Ob(t,s,e,i){return(Array.isArray(s)?t(s[0],s[1],s[2]):t(s,e,i)).map(Cc)}function Fb(t,s,e){return Ob(iI,t,s,e)}function ME(t,s,e){return Ob(CE,t,s,e)}function kE(t,s,e){return Ob(TE,t,s,e)}function nI(t){return(t%360+360)%360}function EE(t){let s=IE.exec(t),e=255,i;if(!s)return;s[5]!==i&&(e=s[6]?bm(+s[5]):Cc(+s[5]));let n=nI(+s[2]),a=+s[3]/100,u=+s[4]/100;return s[1]==="hwb"?i=ME(n,a,u):s[1]==="hsv"?i=kE(n,a,u):i=Fb(n,a,u),{r:i[0],g:i[1],b:i[2],a:e}}function PE(t,s){var e=Ab(t);e[0]=nI(e[0]+s),e=Fb(e),t.r=e[0],t.g=e[1],t.b=e[2]}function DE(t){if(!t)return;let s=Ab(t),e=s[0],i=Y3(s[1]),n=Y3(s[2]);return t.a<255?`hsla(${e}, ${i}%, ${n}%, ${ml(t.a)})`:`hsl(${e}, ${i}%, ${n}%)`}var J3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},eI={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function LE(){let t={},s=Object.keys(eI),e=Object.keys(J3),i,n,a,u,b;for(i=0;i<s.length;i++){for(u=b=s[i],n=0;n<e.length;n++)a=e[n],b=b.replace(a,J3[a]);a=parseInt(eI[u],16),t[b]=[a>>16&255,a>>8&255,a&255]}return t}var hg;function AE(t){hg||(hg=LE(),hg.transparent=[0,0,0,0]);let s=hg[t.toLowerCase()];return s&&{r:s[0],g:s[1],b:s[2],a:s.length===4?s[3]:255}}var OE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function FE(t){let s=OE.exec(t),e=255,i,n,a;if(s){if(s[7]!==i){let u=+s[7];e=s[8]?bm(u):Tc(u*255,0,255)}return i=+s[1],n=+s[3],a=+s[5],i=255&(s[2]?bm(i):Tc(i,0,255)),n=255&(s[4]?bm(n):Tc(n,0,255)),a=255&(s[6]?bm(a):Tc(a,0,255)),{r:i,g:n,b:a,a:e}}}function VE(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ml(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var Db=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Sp=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function zE(t,s,e){let i=Sp(ml(t.r)),n=Sp(ml(t.g)),a=Sp(ml(t.b));return{r:Cc(Db(i+e*(Sp(ml(s.r))-i))),g:Cc(Db(n+e*(Sp(ml(s.g))-n))),b:Cc(Db(a+e*(Sp(ml(s.b))-a))),a:t.a+e*(s.a-t.a)}}function mg(t,s,e){if(t){let i=Ab(t);i[s]=Math.max(0,Math.min(i[s]+i[s]*e,s===0?360:1)),i=Fb(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function aI(t,s){return t&&Object.assign(s||{},t)}function tI(t){var s={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(s={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(s.a=Cc(t[3]))):(s=aI(t,{r:0,g:0,b:0,a:1}),s.a=Cc(s.a)),s}function RE(t){return t.charAt(0)==="r"?FE(t):EE(t)}var ym=class t{constructor(s){if(s instanceof t)return s;let e=typeof s,i;e==="object"?i=tI(s):e==="string"&&(i=vE(s)||AE(s)||RE(s)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var s=aI(this._rgb);return s&&(s.a=ml(s.a)),s}set rgb(s){this._rgb=tI(s)}rgbString(){return this._valid?VE(this._rgb):void 0}hexString(){return this._valid?wE(this._rgb):void 0}hslString(){return this._valid?DE(this._rgb):void 0}mix(s,e){if(s){let i=this.rgb,n=s.rgb,a,u=e===a?.5:e,b=2*u-1,T=i.a-n.a,D=((b*T===-1?b:(b+T)/(1+b*T))+1)/2;a=1-D,i.r=255&D*i.r+a*n.r+.5,i.g=255&D*i.g+a*n.g+.5,i.b=255&D*i.b+a*n.b+.5,i.a=u*i.a+(1-u)*n.a,this.rgb=i}return this}interpolate(s,e){return s&&(this._rgb=zE(this._rgb,s._rgb,e)),this}clone(){return new t(this.rgb)}alpha(s){return this._rgb.a=Cc(s),this}clearer(s){let e=this._rgb;return e.a*=1-s,this}greyscale(){let s=this._rgb,e=vm(s.r*.3+s.g*.59+s.b*.11);return s.r=s.g=s.b=e,this}opaquer(s){let e=this._rgb;return e.a*=1+s,this}negate(){let s=this._rgb;return s.r=255-s.r,s.g=255-s.g,s.b=255-s.b,this}lighten(s){return mg(this._rgb,2,s),this}darken(s){return mg(this._rgb,2,-s),this}saturate(s){return mg(this._rgb,1,s),this}desaturate(s){return mg(this._rgb,1,-s),this}rotate(s){return PE(this._rgb,s),this}};function zs(){}var fI=(()=>{let t=0;return()=>t++})();function an(t){return t===null||typeof t>"u"}function jn(t){if(Array.isArray&&Array.isArray(t))return!0;let s=Object.prototype.toString.call(t);return s.slice(0,7)==="[object"&&s.slice(-6)==="Array]"}function $i(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function _a(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function pr(t,s){return _a(t)?t:s}function Di(t,s){return typeof t>"u"?s:t}var gI=(t,s)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/s,Bb=(t,s)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*s:+t;function Vn(t,s,e){if(t&&typeof t.call=="function")return t.apply(e,s)}function wn(t,s,e,i){let n,a,u;if(jn(t))if(a=t.length,i)for(n=a-1;n>=0;n--)s.call(e,t[n],n);else for(n=0;n<a;n++)s.call(e,t[n],n);else if($i(t))for(u=Object.keys(t),a=u.length,n=0;n<a;n++)s.call(e,t[u[n]],u[n])}function Im(t,s){let e,i,n,a;if(!t||!s||t.length!==s.length)return!1;for(e=0,i=t.length;e<i;++e)if(n=t[e],a=s[e],n.datasetIndex!==a.datasetIndex||n.index!==a.index)return!1;return!0}function bg(t){if(jn(t))return t.map(bg);if($i(t)){let s=Object.create(null),e=Object.keys(t),i=e.length,n=0;for(;n<i;++n)s[e[n]]=bg(t[e[n]]);return s}return t}function _I(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function BE(t,s,e,i){if(!_I(t))return;let n=s[t],a=e[t];$i(n)&&$i(a)?kp(n,a,i):s[t]=bg(a)}function kp(t,s,e){let i=jn(s)?s:[s],n=i.length;if(!$i(t))return t;e=e||{};let a=e.merger||BE,u;for(let b=0;b<n;++b){if(u=i[b],!$i(u))continue;let T=Object.keys(u);for(let D=0,R=T.length;D<R;++D)a(T[D],t,u,e)}return t}function Pp(t,s){return kp(t,s,{merger:NE})}function NE(t,s,e){if(!_I(t))return;let i=s[t],n=e[t];$i(i)&&$i(n)?Pp(i,n):Object.prototype.hasOwnProperty.call(s,t)||(s[t]=bg(n))}var oI={"":t=>t,x:t=>t.x,y:t=>t.y};function qE(t){let s=t.split("."),e=[],i="";for(let n of s)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function HE(t){let s=qE(t);return e=>{for(let i of s){if(i==="")break;e=e&&e[i]}return e}}function _l(t,s){return(oI[s]||(oI[s]=HE(s)))(t)}function wg(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Dp=t=>typeof t<"u",fl=t=>typeof t=="function",Nb=(t,s)=>{if(t.size!==s.size)return!1;for(let e of t)if(!s.has(e))return!1;return!0};function bI(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var Gn=Math.PI,Un=2*Gn,jE=Un+Gn,yg=Number.POSITIVE_INFINITY,GE=Gn/180,Ia=Gn/2,$d=Gn/4,rI=Gn*2/3,gl=Math.log10,cs=Math.sign;function Lp(t,s,e){return Math.abs(t-s)<e}function qb(t){let s=Math.round(t);t=Lp(t,s,t/1e3)?s:t;let e=Math.pow(10,Math.floor(gl(t))),i=t/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function yI(t){let s=[],e=Math.sqrt(t),i;for(i=1;i<e;i++)t%i===0&&(s.push(i),s.push(t/i));return e===(e|0)&&s.push(e),s.sort((n,a)=>n-a).pop(),s}function Zd(t){return!isNaN(parseFloat(t))&&isFinite(t)}function vI(t,s){let e=Math.round(t);return e-s<=t&&e+s>=t}function Hb(t,s,e){let i,n,a;for(i=0,n=t.length;i<n;i++)a=t[i][e],isNaN(a)||(s.min=Math.min(s.min,a),s.max=Math.max(s.max,a))}function Kr(t){return t*(Gn/180)}function Ig(t){return t*(180/Gn)}function jb(t){if(!_a(t))return;let s=1,e=0;for(;Math.round(t*s)/s!==t;)s*=10,e++;return e}function Gb(t,s){let e=s.x-t.x,i=s.y-t.y,n=Math.sqrt(e*e+i*i),a=Math.atan2(i,e);return a<-.5*Gn&&(a+=Un),{angle:a,distance:n}}function vg(t,s){return Math.sqrt(Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2))}function UE(t,s){return(t-s+jE)%Un-Gn}function ur(t){return(t%Un+Un)%Un}function Ap(t,s,e,i){let n=ur(t),a=ur(s),u=ur(e),b=ur(a-n),T=ur(u-n),D=ur(n-a),R=ur(n-u);return n===a||n===u||i&&a===u||b>T&&D<R}function Qa(t,s,e){return Math.max(s,Math.min(e,t))}function xI(t){return Qa(t,-32768,32767)}function Rs(t,s,e,i=1e-6){return t>=Math.min(s,e)-i&&t<=Math.max(s,e)+i}function Tg(t,s,e){e=e||(u=>t[u]<s);let i=t.length-1,n=0,a;for(;i-n>1;)a=n+i>>1,e(a)?n=a:i=a;return{lo:n,hi:i}}var Fs=(t,s,e,i)=>Tg(t,e,i?n=>{let a=t[n][s];return a<e||a===e&&t[n+1][s]===e}:n=>t[n][s]<e),wI=(t,s,e)=>Tg(t,e,i=>t[i][s]>=e);function II(t,s,e){let i=0,n=t.length;for(;i<n&&t[i]<s;)i++;for(;n>i&&t[n-1]>e;)n--;return i>0||n<t.length?t.slice(i,n):t}var TI=["push","pop","shift","splice","unshift"];function CI(t,s){if(t._chartjs){t._chartjs.listeners.push(s);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),TI.forEach(e=>{let i="_onData"+wg(e),n=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...a){let u=n.apply(this,a);return t._chartjs.listeners.forEach(b=>{typeof b[i]=="function"&&b[i](...a)}),u}})})}function Ub(t,s){let e=t._chartjs;if(!e)return;let i=e.listeners,n=i.indexOf(s);n!==-1&&i.splice(n,1),!(i.length>0)&&(TI.forEach(a=>{delete t[a]}),delete t._chartjs)}function $b(t){let s=new Set(t);return s.size===t.length?t:Array.from(s)}var Kb=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Wb(t,s){let e=[],i=!1;return function(...n){e=n,i||(i=!0,Kb.call(window,()=>{i=!1,t.apply(s,e)}))}}function SI(t,s){let e;return function(...i){return s?(clearTimeout(e),e=setTimeout(t,s,i)):t.apply(this,i),s}}var Cg=t=>t==="start"?"left":t==="end"?"right":"center",vo=(t,s,e)=>t==="start"?s:t==="end"?e:(s+e)/2,MI=(t,s,e,i)=>t===(i?"left":"right")?e:t==="center"?(s+e)/2:s;function Zb(t,s,e){let i=s.length,n=0,a=i;if(t._sorted){let{iScale:u,_parsed:b}=t,T=u.axis,{min:D,max:R,minDefined:U,maxDefined:Y}=u.getUserBounds();U&&(n=Qa(Math.min(Fs(b,T,D).lo,e?i:Fs(s,T,u.getPixelForValue(D)).lo),0,i-1)),Y?a=Qa(Math.max(Fs(b,u.axis,R,!0).hi+1,e?0:Fs(s,T,u.getPixelForValue(R),!0).hi+1),n,i)-n:a=i-n}return{start:n,count:a}}function Qb(t){let{xScale:s,yScale:e,_scaleRanges:i}=t,n={xmin:s.min,xmax:s.max,ymin:e.min,ymax:e.max};if(!i)return t._scaleRanges=n,!0;let a=i.xmin!==s.min||i.xmax!==s.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,n),a}var fg=t=>t===0||t===1,sI=(t,s,e)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-s)*Un/e)),lI=(t,s,e)=>Math.pow(2,-10*t)*Math.sin((t-s)*Un/e)+1,Mp={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ia)+1,easeOutSine:t=>Math.sin(t*Ia),easeInOutSine:t=>-.5*(Math.cos(Gn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>fg(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>fg(t)?t:sI(t,.075,.3),easeOutElastic:t=>fg(t)?t:lI(t,.075,.3),easeInOutElastic(t){return fg(t)?t:t<.5?.5*sI(t*2,.1125,.45):.5+.5*lI(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let s=1.70158;return(t/=.5)<1?.5*(t*t*(((s*=1.525)+1)*t-s)):.5*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)},easeInBounce:t=>1-Mp.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Mp.easeInBounce(t*2)*.5:Mp.easeOutBounce(t*2-1)*.5+.5};function Xb(t){if(t&&typeof t=="object"){let s=t.toString();return s==="[object CanvasPattern]"||s==="[object CanvasGradient]"}return!1}function Yb(t){return Xb(t)?t:new ym(t)}function Vb(t){return Xb(t)?t:new ym(t).saturate(.5).darken(.1).hexString()}var $E=["x","y","borderWidth","radius","tension"],KE=["color","borderColor","backgroundColor"];function WE(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:s=>s!=="onProgress"&&s!=="onComplete"&&s!=="fn"}),t.set("animations",{colors:{type:"color",properties:KE},numbers:{type:"number",properties:$E}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:s=>s|0}}}})}function ZE(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var cI=new Map;function QE(t,s){s=s||{};let e=t+JSON.stringify(s),i=cI.get(e);return i||(i=new Intl.NumberFormat(t,s),cI.set(e,i)),i}function Op(t,s,e){return QE(s,e).format(t)}var kI={values(t){return jn(t)?t:""+t},numeric(t,s,e){if(t===0)return"0";let i=this.chart.options.locale,n,a=t;if(e.length>1){let D=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(D<1e-4||D>1e15)&&(n="scientific"),a=XE(t,e)}let u=gl(Math.abs(a)),b=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),T={notation:n,minimumFractionDigits:b,maximumFractionDigits:b};return Object.assign(T,this.options.ticks.format),Op(t,i,T)},logarithmic(t,s,e){if(t===0)return"0";let i=e[s].significand||t/Math.pow(10,Math.floor(gl(t)));return[1,2,3,5,10,15].includes(i)||s>.8*e.length?kI.numeric.call(this,t,s,e):""}};function XE(t,s){let e=s.length>3?s[2].value-s[1].value:s[1].value-s[0].value;return Math.abs(e)>=1&&t!==Math.floor(t)&&(e=t-Math.floor(t)),e}var Tm={formatters:kI};function YE(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(s,e)=>e.lineWidth,tickColor:(s,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Tm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:s=>!s.startsWith("before")&&!s.startsWith("after")&&s!=="callback"&&s!=="parser",_indexable:s=>s!=="borderDash"&&s!=="tickBorderDash"&&s!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:s=>s!=="backdropPadding"&&s!=="callback",_indexable:s=>s!=="backdropPadding"})}var Mc=Object.create(null),Sg=Object.create(null);function xm(t,s){if(!s)return t;let e=s.split(".");for(let i=0,n=e.length;i<n;++i){let a=e[i];t=t[a]||(t[a]=Object.create(null))}return t}function zb(t,s,e){return typeof s=="string"?kp(xm(t,s),e):kp(xm(t,""),s)}var Rb=class{constructor(s,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,n)=>Vb(n.backgroundColor),this.hoverBorderColor=(i,n)=>Vb(n.borderColor),this.hoverColor=(i,n)=>Vb(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(s),this.apply(e)}set(s,e){return zb(this,s,e)}get(s){return xm(this,s)}describe(s,e){return zb(Sg,s,e)}override(s,e){return zb(Mc,s,e)}route(s,e,i,n){let a=xm(this,s),u=xm(this,i),b="_"+e;Object.defineProperties(a,{[b]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){let T=this[b],D=u[n];return $i(T)?Object.assign({},D,T):Di(T,D)},set(T){this[b]=T}}})}apply(s){s.forEach(e=>e(this))}},ba=new Rb({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[WE,ZE,YE]);function JE(t){return!t||an(t.size)||an(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function wm(t,s,e,i,n){let a=s[n];return a||(a=s[n]=t.measureText(n).width,e.push(n)),a>i&&(i=a),i}function EI(t,s,e,i){i=i||{};let n=i.data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==s&&(n=i.data={},a=i.garbageCollect=[],i.font=s),t.save(),t.font=s;let u=0,b=e.length,T,D,R,U,Y;for(T=0;T<b;T++)if(U=e[T],U!=null&&!jn(U))u=wm(t,n,a,u,U);else if(jn(U))for(D=0,R=U.length;D<R;D++)Y=U[D],Y!=null&&!jn(Y)&&(u=wm(t,n,a,u,Y));t.restore();let oe=a.length/2;if(oe>e.length){for(T=0;T<oe;T++)delete n[a[T]];a.splice(0,oe)}return u}function kc(t,s,e){let i=t.currentDevicePixelRatio,n=e!==0?Math.max(e/2,.5):0;return Math.round((s-n)*i)/i+n}function Jb(t,s){s=s||t.getContext("2d"),s.save(),s.resetTransform(),s.clearRect(0,0,t.width,t.height),s.restore()}function Mg(t,s,e,i){ey(t,s,e,i,null)}function ey(t,s,e,i,n){let a,u,b,T,D,R,U,Y,oe=s.pointStyle,J=s.rotation,ke=s.radius,Te=(J||0)*GE;if(oe&&typeof oe=="object"&&(a=oe.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(e,i),t.rotate(Te),t.drawImage(oe,-oe.width/2,-oe.height/2,oe.width,oe.height),t.restore();return}if(!(isNaN(ke)||ke<=0)){switch(t.beginPath(),oe){default:n?t.ellipse(e,i,n/2,ke,0,0,Un):t.arc(e,i,ke,0,Un),t.closePath();break;case"triangle":R=n?n/2:ke,t.moveTo(e+Math.sin(Te)*R,i-Math.cos(Te)*ke),Te+=rI,t.lineTo(e+Math.sin(Te)*R,i-Math.cos(Te)*ke),Te+=rI,t.lineTo(e+Math.sin(Te)*R,i-Math.cos(Te)*ke),t.closePath();break;case"rectRounded":D=ke*.516,T=ke-D,u=Math.cos(Te+$d)*T,U=Math.cos(Te+$d)*(n?n/2-D:T),b=Math.sin(Te+$d)*T,Y=Math.sin(Te+$d)*(n?n/2-D:T),t.arc(e-U,i-b,D,Te-Gn,Te-Ia),t.arc(e+Y,i-u,D,Te-Ia,Te),t.arc(e+U,i+b,D,Te,Te+Ia),t.arc(e-Y,i+u,D,Te+Ia,Te+Gn),t.closePath();break;case"rect":if(!J){T=Math.SQRT1_2*ke,R=n?n/2:T,t.rect(e-R,i-T,2*R,2*T);break}Te+=$d;case"rectRot":U=Math.cos(Te)*(n?n/2:ke),u=Math.cos(Te)*ke,b=Math.sin(Te)*ke,Y=Math.sin(Te)*(n?n/2:ke),t.moveTo(e-U,i-b),t.lineTo(e+Y,i-u),t.lineTo(e+U,i+b),t.lineTo(e-Y,i+u),t.closePath();break;case"crossRot":Te+=$d;case"cross":U=Math.cos(Te)*(n?n/2:ke),u=Math.cos(Te)*ke,b=Math.sin(Te)*ke,Y=Math.sin(Te)*(n?n/2:ke),t.moveTo(e-U,i-b),t.lineTo(e+U,i+b),t.moveTo(e+Y,i-u),t.lineTo(e-Y,i+u);break;case"star":U=Math.cos(Te)*(n?n/2:ke),u=Math.cos(Te)*ke,b=Math.sin(Te)*ke,Y=Math.sin(Te)*(n?n/2:ke),t.moveTo(e-U,i-b),t.lineTo(e+U,i+b),t.moveTo(e+Y,i-u),t.lineTo(e-Y,i+u),Te+=$d,U=Math.cos(Te)*(n?n/2:ke),u=Math.cos(Te)*ke,b=Math.sin(Te)*ke,Y=Math.sin(Te)*(n?n/2:ke),t.moveTo(e-U,i-b),t.lineTo(e+U,i+b),t.moveTo(e+Y,i-u),t.lineTo(e-Y,i+u);break;case"line":u=n?n/2:Math.cos(Te)*ke,b=Math.sin(Te)*ke,t.moveTo(e-u,i-b),t.lineTo(e+u,i+b);break;case"dash":t.moveTo(e,i),t.lineTo(e+Math.cos(Te)*(n?n/2:ke),i+Math.sin(Te)*ke);break;case!1:t.closePath();break}t.fill(),s.borderWidth>0&&t.stroke()}}function Vs(t,s,e){return e=e||.5,!s||t&&t.x>s.left-e&&t.x<s.right+e&&t.y>s.top-e&&t.y<s.bottom+e}function Cm(t,s){t.save(),t.beginPath(),t.rect(s.left,s.top,s.right-s.left,s.bottom-s.top),t.clip()}function Sm(t){t.restore()}function PI(t,s,e,i,n){if(!s)return t.lineTo(e.x,e.y);if(n==="middle"){let a=(s.x+e.x)/2;t.lineTo(a,s.y),t.lineTo(a,e.y)}else n==="after"!=!!i?t.lineTo(s.x,e.y):t.lineTo(e.x,s.y);t.lineTo(e.x,e.y)}function DI(t,s,e,i){if(!s)return t.lineTo(e.x,e.y);t.bezierCurveTo(i?s.cp1x:s.cp2x,i?s.cp1y:s.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function e7(t,s){s.translation&&t.translate(s.translation[0],s.translation[1]),an(s.rotation)||t.rotate(s.rotation),s.color&&(t.fillStyle=s.color),s.textAlign&&(t.textAlign=s.textAlign),s.textBaseline&&(t.textBaseline=s.textBaseline)}function t7(t,s,e,i,n){if(n.strikethrough||n.underline){let a=t.measureText(i),u=s-a.actualBoundingBoxLeft,b=s+a.actualBoundingBoxRight,T=e-a.actualBoundingBoxAscent,D=e+a.actualBoundingBoxDescent,R=n.strikethrough?(T+D)/2:D;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(u,R),t.lineTo(b,R),t.stroke()}}function i7(t,s){let e=t.fillStyle;t.fillStyle=s.color,t.fillRect(s.left,s.top,s.width,s.height),t.fillStyle=e}function Ec(t,s,e,i,n,a={}){let u=jn(s)?s:[s],b=a.strokeWidth>0&&a.strokeColor!=="",T,D;for(t.save(),t.font=n.string,e7(t,a),T=0;T<u.length;++T)D=u[T],a.backdrop&&i7(t,a.backdrop),b&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),an(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(D,e,i,a.maxWidth)),t.fillText(D,e,i,a.maxWidth),t7(t,e,i,D,a),i+=Number(n.lineHeight);t.restore()}function Fp(t,s){let{x:e,y:i,w:n,h:a,radius:u}=s;t.arc(e+u.topLeft,i+u.topLeft,u.topLeft,1.5*Gn,Gn,!0),t.lineTo(e,i+a-u.bottomLeft),t.arc(e+u.bottomLeft,i+a-u.bottomLeft,u.bottomLeft,Gn,Ia,!0),t.lineTo(e+n-u.bottomRight,i+a),t.arc(e+n-u.bottomRight,i+a-u.bottomRight,u.bottomRight,Ia,0,!0),t.lineTo(e+n,i+u.topRight),t.arc(e+n-u.topRight,i+u.topRight,u.topRight,0,-Ia,!0),t.lineTo(e+u.topLeft,i)}var n7=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,a7=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function o7(t,s){let e=(""+t).match(n7);if(!e||e[1]==="normal")return s*1.2;switch(t=+e[2],e[3]){case"px":return t;case"%":t/=100;break}return s*t}var r7=t=>+t||0;function kg(t,s){let e={},i=$i(s),n=i?Object.keys(s):s,a=$i(t)?i?u=>Di(t[u],t[s[u]]):u=>t[u]:()=>t;for(let u of n)e[u]=r7(a(u));return e}function ty(t){return kg(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Pc(t){return kg(t,["topLeft","topRight","bottomLeft","bottomRight"])}function xo(t){let s=ty(t);return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function ja(t,s){t=t||{},s=s||ba.font;let e=Di(t.size,s.size);typeof e=="string"&&(e=parseInt(e,10));let i=Di(t.style,s.style);i&&!(""+i).match(a7)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let n={family:Di(t.family,s.family),lineHeight:o7(Di(t.lineHeight,s.lineHeight),e),size:e,style:i,weight:Di(t.weight,s.weight),string:""};return n.string=JE(n),n}function Vp(t,s,e,i){let n=!0,a,u,b;for(a=0,u=t.length;a<u;++a)if(b=t[a],b!==void 0&&(s!==void 0&&typeof b=="function"&&(b=b(s),n=!1),e!==void 0&&jn(b)&&(b=b[e%b.length],n=!1),b!==void 0))return i&&!n&&(i.cacheable=!1),b}function LI(t,s,e){let{min:i,max:n}=t,a=Bb(s,(n-i)/2),u=(b,T)=>e&&b===0?0:b+T;return{min:u(i,-Math.abs(a)),max:u(n,a)}}function bl(t,s){return Object.assign(Object.create(t),s)}function Eg(t,s=[""],e,i,n=()=>t[0]){let a=e||t;typeof i>"u"&&(i=FI("_fallback",t));let u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:i,_getTarget:n,override:b=>Eg([b,...t],s,a,i)};return new Proxy(u,{deleteProperty(b,T){return delete b[T],delete b._keys,delete t[0][T],!0},get(b,T){return AI(b,T,()=>m7(T,s,t,b))},getOwnPropertyDescriptor(b,T){return Reflect.getOwnPropertyDescriptor(b._scopes[0],T)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(b,T){return uI(b).includes(T)},ownKeys(b){return uI(b)},set(b,T,D){let R=b._storage||(b._storage=n());return b[T]=R[T]=D,delete b._keys,!0}})}function Wd(t,s,e,i){let n={_cacheable:!1,_proxy:t,_context:s,_subProxy:e,_stack:new Set,_descriptors:iy(t,i),setContext:a=>Wd(t,a,e,i),override:a=>Wd(t.override(a),s,e,i)};return new Proxy(n,{deleteProperty(a,u){return delete a[u],delete t[u],!0},get(a,u,b){return AI(a,u,()=>l7(a,u,b))},getOwnPropertyDescriptor(a,u){return a._descriptors.allKeys?Reflect.has(t,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,u)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,u){return Reflect.has(t,u)},ownKeys(){return Reflect.ownKeys(t)},set(a,u,b){return t[u]=b,delete a[u],!0}})}function iy(t,s={scriptable:!0,indexable:!0}){let{_scriptable:e=s.scriptable,_indexable:i=s.indexable,_allKeys:n=s.allKeys}=t;return{allKeys:n,scriptable:e,indexable:i,isScriptable:fl(e)?e:()=>e,isIndexable:fl(i)?i:()=>i}}var s7=(t,s)=>t?t+wg(s):s,ny=(t,s)=>$i(s)&&t!=="adapters"&&(Object.getPrototypeOf(s)===null||s.constructor===Object);function AI(t,s,e){if(Object.prototype.hasOwnProperty.call(t,s))return t[s];let i=e();return t[s]=i,i}function l7(t,s,e){let{_proxy:i,_context:n,_subProxy:a,_descriptors:u}=t,b=i[s];return fl(b)&&u.isScriptable(s)&&(b=c7(s,b,t,e)),jn(b)&&b.length&&(b=d7(s,b,t,u.isIndexable)),ny(s,b)&&(b=Wd(b,n,a&&a[s],u)),b}function c7(t,s,e,i){let{_proxy:n,_context:a,_subProxy:u,_stack:b}=e;if(b.has(t))throw new Error("Recursion detected: "+Array.from(b).join("->")+"->"+t);b.add(t);let T=s(a,u||i);return b.delete(t),ny(t,T)&&(T=ay(n._scopes,n,t,T)),T}function d7(t,s,e,i){let{_proxy:n,_context:a,_subProxy:u,_descriptors:b}=e;if(typeof a.index<"u"&&i(t))return s[a.index%s.length];if($i(s[0])){let T=s,D=n._scopes.filter(R=>R!==T);s=[];for(let R of T){let U=ay(D,n,t,R);s.push(Wd(U,a,u&&u[t],b))}}return s}function OI(t,s,e){return fl(t)?t(s,e):t}var u7=(t,s)=>t===!0?s:typeof t=="string"?_l(s,t):void 0;function p7(t,s,e,i,n){for(let a of s){let u=u7(e,a);if(u){t.add(u);let b=OI(u._fallback,e,n);if(typeof b<"u"&&b!==e&&b!==i)return b}else if(u===!1&&typeof i<"u"&&e!==i)return null}return!1}function ay(t,s,e,i){let n=s._rootScopes,a=OI(s._fallback,e,i),u=[...t,...n],b=new Set;b.add(i);let T=dI(b,u,e,a||e,i);return T===null||typeof a<"u"&&a!==e&&(T=dI(b,u,a,T,i),T===null)?!1:Eg(Array.from(b),[""],n,a,()=>h7(s,e,i))}function dI(t,s,e,i,n){for(;e;)e=p7(t,s,e,i,n);return e}function h7(t,s,e){let i=t._getTarget();s in i||(i[s]={});let n=i[s];return jn(n)&&$i(e)?e:n||{}}function m7(t,s,e,i){let n;for(let a of s)if(n=FI(s7(a,t),e),typeof n<"u")return ny(t,n)?ay(e,i,t,n):n}function FI(t,s){for(let e of s){if(!e)continue;let i=e[t];if(typeof i<"u")return i}}function uI(t){let s=t._keys;return s||(s=t._keys=f7(t._scopes)),s}function f7(t){let s=new Set;for(let e of t)for(let i of Object.keys(e).filter(n=>!n.startsWith("_")))s.add(i);return Array.from(s)}function oy(t,s,e,i){let{iScale:n}=t,{key:a="r"}=this._parsing,u=new Array(i),b,T,D,R;for(b=0,T=i;b<T;++b)D=b+e,R=s[D],u[b]={r:n.parse(_l(R,a),D)};return u}var g7=Number.EPSILON||1e-14,Ep=(t,s)=>s<t.length&&!t[s].skip&&t[s],VI=t=>t==="x"?"y":"x";function _7(t,s,e,i){let n=t.skip?s:t,a=s,u=e.skip?s:e,b=vg(a,n),T=vg(u,a),D=b/(b+T),R=T/(b+T);D=isNaN(D)?0:D,R=isNaN(R)?0:R;let U=i*D,Y=i*R;return{previous:{x:a.x-U*(u.x-n.x),y:a.y-U*(u.y-n.y)},next:{x:a.x+Y*(u.x-n.x),y:a.y+Y*(u.y-n.y)}}}function b7(t,s,e){let i=t.length,n,a,u,b,T,D=Ep(t,0);for(let R=0;R<i-1;++R)if(T=D,D=Ep(t,R+1),!(!T||!D)){if(Lp(s[R],0,g7)){e[R]=e[R+1]=0;continue}n=e[R]/s[R],a=e[R+1]/s[R],b=Math.pow(n,2)+Math.pow(a,2),!(b<=9)&&(u=3/Math.sqrt(b),e[R]=n*u*s[R],e[R+1]=a*u*s[R])}}function y7(t,s,e="x"){let i=VI(e),n=t.length,a,u,b,T=Ep(t,0);for(let D=0;D<n;++D){if(u=b,b=T,T=Ep(t,D+1),!b)continue;let R=b[e],U=b[i];u&&(a=(R-u[e])/3,b[`cp1${e}`]=R-a,b[`cp1${i}`]=U-a*s[D]),T&&(a=(T[e]-R)/3,b[`cp2${e}`]=R+a,b[`cp2${i}`]=U+a*s[D])}}function v7(t,s="x"){let e=VI(s),i=t.length,n=Array(i).fill(0),a=Array(i),u,b,T,D=Ep(t,0);for(u=0;u<i;++u)if(b=T,T=D,D=Ep(t,u+1),!!T){if(D){let R=D[s]-T[s];n[u]=R!==0?(D[e]-T[e])/R:0}a[u]=b?D?cs(n[u-1])!==cs(n[u])?0:(n[u-1]+n[u])/2:n[u-1]:n[u]}b7(t,n,a),y7(t,a,s)}function gg(t,s,e){return Math.max(Math.min(t,e),s)}function x7(t,s){let e,i,n,a,u,b=Vs(t[0],s);for(e=0,i=t.length;e<i;++e)u=a,a=b,b=e<i-1&&Vs(t[e+1],s),a&&(n=t[e],u&&(n.cp1x=gg(n.cp1x,s.left,s.right),n.cp1y=gg(n.cp1y,s.top,s.bottom)),b&&(n.cp2x=gg(n.cp2x,s.left,s.right),n.cp2y=gg(n.cp2y,s.top,s.bottom)))}function zI(t,s,e,i,n){let a,u,b,T;if(s.spanGaps&&(t=t.filter(D=>!D.skip)),s.cubicInterpolationMode==="monotone")v7(t,n);else{let D=i?t[t.length-1]:t[0];for(a=0,u=t.length;a<u;++a)b=t[a],T=_7(D,b,t[Math.min(a+1,u-(i?0:1))%u],s.tension),b.cp1x=T.previous.x,b.cp1y=T.previous.y,b.cp2x=T.next.x,b.cp2y=T.next.y,D=b}s.capBezierPoints&&x7(t,e)}function Pg(){return typeof window<"u"&&typeof document<"u"}function Dg(t){let s=t.parentNode;return s&&s.toString()==="[object ShadowRoot]"&&(s=s.host),s}function xg(t,s,e){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*s.parentNode[e])):i=t,i}var Lg=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function w7(t,s){return Lg(t).getPropertyValue(s)}var I7=["top","right","bottom","left"];function Kd(t,s,e){let i={};e=e?"-"+e:"";for(let n=0;n<4;n++){let a=I7[n];i[a]=parseFloat(t[s+"-"+a+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var T7=(t,s,e)=>(t>0||s>0)&&(!e||!e.shadowRoot);function C7(t,s){let e=t.touches,i=e&&e.length?e[0]:t,{offsetX:n,offsetY:a}=i,u=!1,b,T;if(T7(n,a,t.target))b=n,T=a;else{let D=s.getBoundingClientRect();b=i.clientX-D.left,T=i.clientY-D.top,u=!0}return{x:b,y:T,box:u}}function Dc(t,s){if("native"in t)return t;let{canvas:e,currentDevicePixelRatio:i}=s,n=Lg(e),a=n.boxSizing==="border-box",u=Kd(n,"padding"),b=Kd(n,"border","width"),{x:T,y:D,box:R}=C7(t,e),U=u.left+(R&&b.left),Y=u.top+(R&&b.top),{width:oe,height:J}=s;return a&&(oe-=u.width+b.width,J-=u.height+b.height),{x:Math.round((T-U)/oe*e.width/i),y:Math.round((D-Y)/J*e.height/i)}}function S7(t,s,e){let i,n;if(s===void 0||e===void 0){let a=Dg(t);if(!a)s=t.clientWidth,e=t.clientHeight;else{let u=a.getBoundingClientRect(),b=Lg(a),T=Kd(b,"border","width"),D=Kd(b,"padding");s=u.width-D.width-T.width,e=u.height-D.height-T.height,i=xg(b.maxWidth,a,"clientWidth"),n=xg(b.maxHeight,a,"clientHeight")}}return{width:s,height:e,maxWidth:i||yg,maxHeight:n||yg}}var _g=t=>Math.round(t*10)/10;function RI(t,s,e,i){let n=Lg(t),a=Kd(n,"margin"),u=xg(n.maxWidth,t,"clientWidth")||yg,b=xg(n.maxHeight,t,"clientHeight")||yg,T=S7(t,s,e),{width:D,height:R}=T;if(n.boxSizing==="content-box"){let Y=Kd(n,"border","width"),oe=Kd(n,"padding");D-=oe.width+Y.width,R-=oe.height+Y.height}return D=Math.max(0,D-a.width),R=Math.max(0,i?D/i:R-a.height),D=_g(Math.min(D,u,T.maxWidth)),R=_g(Math.min(R,b,T.maxHeight)),D&&!R&&(R=_g(D/2)),(s!==void 0||e!==void 0)&&i&&T.height&&R>T.height&&(R=T.height,D=_g(Math.floor(R*i))),{width:D,height:R}}function ry(t,s,e){let i=s||1,n=Math.floor(t.height*i),a=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);let u=t.canvas;return u.style&&(e||!u.style.height&&!u.style.width)&&(u.style.height=`${t.height}px`,u.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||u.height!==n||u.width!==a?(t.currentDevicePixelRatio=i,u.height=n,u.width=a,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}var BI=function(){let t=!1;try{let s={get passive(){return t=!0,!1}};Pg()&&(window.addEventListener("test",null,s),window.removeEventListener("test",null,s))}catch{}return t}();function sy(t,s){let e=w7(t,s),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Sc(t,s,e,i){return{x:t.x+e*(s.x-t.x),y:t.y+e*(s.y-t.y)}}function NI(t,s,e,i){return{x:t.x+e*(s.x-t.x),y:i==="middle"?e<.5?t.y:s.y:i==="after"?e<1?t.y:s.y:e>0?s.y:t.y}}function qI(t,s,e,i){let n={x:t.cp2x,y:t.cp2y},a={x:s.cp1x,y:s.cp1y},u=Sc(t,n,e),b=Sc(n,a,e),T=Sc(a,s,e),D=Sc(u,b,e),R=Sc(b,T,e);return Sc(D,R,e)}var M7=function(t,s){return{x(e){return t+t+s-e},setWidth(e){s=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},k7=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,s){return t+s},leftForLtr(t,s){return t}}};function Qd(t,s,e){return t?M7(s,e):k7()}function ly(t,s){let e,i;(s==="ltr"||s==="rtl")&&(e=t.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",s,"important"),t.prevTextDirection=i)}function cy(t,s){s!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",s[0],s[1]))}function HI(t){return t==="angle"?{between:Ap,compare:UE,normalize:ur}:{between:Rs,compare:(s,e)=>s-e,normalize:s=>s}}function pI({start:t,end:s,count:e,loop:i,style:n}){return{start:t%e,end:s%e,loop:i&&(s-t+1)%e===0,style:n}}function E7(t,s,e){let{property:i,start:n,end:a}=e,{between:u,normalize:b}=HI(i),T=s.length,{start:D,end:R,loop:U}=t,Y,oe;if(U){for(D+=T,R+=T,Y=0,oe=T;Y<oe&&u(b(s[D%T][i]),n,a);++Y)D--,R--;D%=T,R%=T}return R<D&&(R+=T),{start:D,end:R,loop:U,style:t.style}}function dy(t,s,e){if(!e)return[t];let{property:i,start:n,end:a}=e,u=s.length,{compare:b,between:T,normalize:D}=HI(i),{start:R,end:U,loop:Y,style:oe}=E7(t,s,e),J=[],ke=!1,Te=null,qe,et,bt,xt=()=>T(n,bt,qe)&&b(n,bt)!==0,lt=()=>b(a,qe)===0||T(a,bt,qe),vt=()=>ke||xt(),qt=()=>!ke||lt();for(let Mt=R,Jt=R;Mt<=U;++Mt)et=s[Mt%u],!et.skip&&(qe=D(et[i]),qe!==bt&&(ke=T(qe,n,a),Te===null&&vt()&&(Te=b(qe,n)===0?Mt:Jt),Te!==null&&qt()&&(J.push(pI({start:Te,end:Mt,loop:Y,count:u,style:oe})),Te=null),Jt=Mt,bt=qe));return Te!==null&&J.push(pI({start:Te,end:U,loop:Y,count:u,style:oe})),J}function uy(t,s){let e=[],i=t.segments;for(let n=0;n<i.length;n++){let a=dy(i[n],t.points,s);a.length&&e.push(...a)}return e}function P7(t,s,e,i){let n=0,a=s-1;if(e&&!i)for(;n<s&&!t[n].skip;)n++;for(;n<s&&t[n].skip;)n++;for(n%=s,e&&(a+=n);a>n&&t[a%s].skip;)a--;return a%=s,{start:n,end:a}}function D7(t,s,e,i){let n=t.length,a=[],u=s,b=t[s],T;for(T=s+1;T<=e;++T){let D=t[T%n];D.skip||D.stop?b.skip||(i=!1,a.push({start:s%n,end:(T-1)%n,loop:i}),s=u=D.stop?T:null):(u=T,b.skip&&(s=T)),b=D}return u!==null&&a.push({start:s%n,end:u%n,loop:i}),a}function jI(t,s){let e=t.points,i=t.options.spanGaps,n=e.length;if(!n)return[];let a=!!t._loop,{start:u,end:b}=P7(e,n,a,i);if(i===!0)return hI(t,[{start:u,end:b,loop:a}],e,s);let T=b<u?b+n:b,D=!!t._fullLoop&&u===0&&b===n-1;return hI(t,D7(e,u,T,D),e,s)}function hI(t,s,e,i){return!i||!i.setContext||!e?s:L7(t,s,e,i)}function L7(t,s,e,i){let n=t._chart.getContext(),a=mI(t.options),{_datasetIndex:u,options:{spanGaps:b}}=t,T=e.length,D=[],R=a,U=s[0].start,Y=U;function oe(J,ke,Te,qe){let et=b?-1:1;if(J!==ke){for(J+=T;e[J%T].skip;)J-=et;for(;e[ke%T].skip;)ke+=et;J%T!==ke%T&&(D.push({start:J%T,end:ke%T,loop:Te,style:qe}),R=qe,U=ke%T)}}for(let J of s){U=b?U:J.start;let ke=e[U%T],Te;for(Y=U+1;Y<=J.end;Y++){let qe=e[Y%T];Te=mI(i.setContext(bl(n,{type:"segment",p0:ke,p1:qe,p0DataIndex:(Y-1)%T,p1DataIndex:Y%T,datasetIndex:u}))),A7(Te,R)&&oe(U,Y-1,J.loop,R),ke=qe,R=Te}U<Y-1&&oe(U,Y-1,J.loop,R)}return D}function mI(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function A7(t,s){if(!s)return!1;let e=[],i=function(n,a){return Xb(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(t,i)!==JSON.stringify(s,i)}var xy=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(s,e,i,n){let a=e.listeners[n],u=e.duration;a.forEach(b=>b({chart:s,initial:e.initial,numSteps:u,currentStep:Math.min(i-e.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=Kb.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(s=Date.now()){let e=0;this._charts.forEach((i,n)=>{if(!i.running||!i.items.length)return;let a=i.items,u=a.length-1,b=!1,T;for(;u>=0;--u)T=a[u],T._active?(T._total>i.duration&&(i.duration=T._total),T.tick(s),b=!0):(a[u]=a[a.length-1],a.pop());b&&(n.draw(),this._notify(n,i,s,"progress")),a.length||(i.running=!1,this._notify(n,i,s,"complete"),i.initial=!1),e+=a.length}),this._lastDate=s,e===0&&(this._running=!1)}_getAnims(s){let e=this._charts,i=e.get(s);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(s,i)),i}listen(s,e,i){this._getAnims(s).listeners[e].push(i)}add(s,e){!e||!e.length||this._getAnims(s).items.push(...e)}has(s){return this._getAnims(s).items.length>0}start(s){let e=this._charts.get(s);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,n)=>Math.max(i,n._duration),0),this._refresh())}running(s){if(!this._running)return!1;let e=this._charts.get(s);return!(!e||!e.running||!e.items.length)}stop(s){let e=this._charts.get(s);if(!e||!e.items.length)return;let i=e.items,n=i.length-1;for(;n>=0;--n)i[n].cancel();e.items=[],this._notify(s,e,Date.now(),"complete")}remove(s){return this._charts.delete(s)}},yl=new xy,GI="transparent",O7={boolean(t,s,e){return e>.5?s:t},color(t,s,e){let i=Yb(t||GI),n=i.valid&&Yb(s||GI);return n&&n.valid?n.mix(i,e).hexString():s},number(t,s,e){return t+(s-t)*e}},wy=class{constructor(s,e,i,n){let a=e[i];n=Vp([s.to,n,a,s.from]);let u=Vp([s.from,a,n]);this._active=!0,this._fn=s.fn||O7[s.type||typeof u],this._easing=Mp[s.easing]||Mp.linear,this._start=Math.floor(Date.now()+(s.delay||0)),this._duration=this._total=Math.floor(s.duration),this._loop=!!s.loop,this._target=e,this._prop=i,this._from=u,this._to=n,this._promises=void 0}active(){return this._active}update(s,e,i){if(this._active){this._notify(!1);let n=this._target[this._prop],a=i-this._start,u=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(u,s.duration)),this._total+=a,this._loop=!!s.loop,this._to=Vp([s.to,e,n,s.from]),this._from=Vp([s.from,n,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(s){let e=s-this._start,i=this._duration,n=this._prop,a=this._from,u=this._loop,b=this._to,T;if(this._active=a!==b&&(u||e<i),!this._active){this._target[n]=b,this._notify(!0);return}if(e<0){this._target[n]=a;return}T=e/i%2,T=u&&T>1?2-T:T,T=this._easing(Math.min(1,Math.max(0,T))),this._target[n]=this._fn(a,b,T)}wait(){let s=this._promises||(this._promises=[]);return new Promise((e,i)=>{s.push({res:e,rej:i})})}_notify(s){let e=s?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][e]()}},Hg=class{constructor(s,e){this._chart=s,this._properties=new Map,this.configure(e)}configure(s){if(!$i(s))return;let e=Object.keys(ba.animation),i=this._properties;Object.getOwnPropertyNames(s).forEach(n=>{let a=s[n];if(!$i(a))return;let u={};for(let b of e)u[b]=a[b];(jn(a.properties)&&a.properties||[n]).forEach(b=>{(b===n||!i.has(b))&&i.set(b,u)})})}_animateOptions(s,e){let i=e.options,n=V7(s,i);if(!n)return[];let a=this._createAnimations(n,i);return i.$shared&&F7(s.options.$animations,i).then(()=>{s.options=i},()=>{}),a}_createAnimations(s,e){let i=this._properties,n=[],a=s.$animations||(s.$animations={}),u=Object.keys(e),b=Date.now(),T;for(T=u.length-1;T>=0;--T){let D=u[T];if(D.charAt(0)==="$")continue;if(D==="options"){n.push(...this._animateOptions(s,e));continue}let R=e[D],U=a[D],Y=i.get(D);if(U)if(Y&&U.active()){U.update(Y,R,b);continue}else U.cancel();if(!Y||!Y.duration){s[D]=R;continue}a[D]=U=new wy(Y,s,D,R),n.push(U)}return n}update(s,e){if(this._properties.size===0){Object.assign(s,e);return}let i=this._createAnimations(s,e);if(i.length)return yl.add(this._chart,i),!0}};function F7(t,s){let e=[],i=Object.keys(s);for(let n=0;n<i.length;n++){let a=t[i[n]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function V7(t,s){if(!s)return;let e=t.options;if(!e){t.options=s;return}return e.$shared&&(t.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function UI(t,s){let e=t&&t.options||{},i=e.reverse,n=e.min===void 0?s:0,a=e.max===void 0?s:0;return{start:i?a:n,end:i?n:a}}function z7(t,s,e){if(e===!1)return!1;let i=UI(t,e),n=UI(s,e);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}function R7(t){let s,e,i,n;return $i(t)?(s=t.top,e=t.right,i=t.bottom,n=t.left):s=e=i=n=t,{top:s,right:e,bottom:i,left:n,disabled:t===!1}}function U5(t,s){let e=[],i=t._getSortedDatasetMetas(s),n,a;for(n=0,a=i.length;n<a;++n)e.push(i[n].index);return e}function $I(t,s,e,i={}){let n=t.keys,a=i.mode==="single",u,b,T,D;if(s!==null){for(u=0,b=n.length;u<b;++u){if(T=+n[u],T===e){if(i.all)continue;break}D=t.values[T],_a(D)&&(a||s===0||cs(s)===cs(D))&&(s+=D)}return s}}function B7(t){let s=Object.keys(t),e=new Array(s.length),i,n,a;for(i=0,n=s.length;i<n;++i)a=s[i],e[i]={x:a,y:t[a]};return e}function KI(t,s){let e=t&&t.options.stacked;return e||e===void 0&&s.stack!==void 0}function N7(t,s,e){return`${t.id}.${s.id}.${e.stack||e.type}`}function q7(t){let{min:s,max:e,minDefined:i,maxDefined:n}=t.getUserBounds();return{min:i?s:Number.NEGATIVE_INFINITY,max:n?e:Number.POSITIVE_INFINITY}}function H7(t,s,e){let i=t[s]||(t[s]={});return i[e]||(i[e]={})}function WI(t,s,e,i){for(let n of s.getMatchingVisibleMetas(i).reverse()){let a=t[n.index];if(e&&a>0||!e&&a<0)return n.index}return null}function ZI(t,s){let{chart:e,_cachedMeta:i}=t,n=e._stacks||(e._stacks={}),{iScale:a,vScale:u,index:b}=i,T=a.axis,D=u.axis,R=N7(a,u,i),U=s.length,Y;for(let oe=0;oe<U;++oe){let J=s[oe],{[T]:ke,[D]:Te}=J,qe=J._stacks||(J._stacks={});Y=qe[D]=H7(n,R,ke),Y[b]=Te,Y._top=WI(Y,u,!0,i.type),Y._bottom=WI(Y,u,!1,i.type);let et=Y._visualValues||(Y._visualValues={});et[b]=Te}}function py(t,s){let e=t.scales;return Object.keys(e).filter(i=>e[i].axis===s).shift()}function j7(t,s){return bl(t,{active:!1,dataset:void 0,datasetIndex:s,index:s,mode:"default",type:"dataset"})}function G7(t,s,e){return bl(t,{active:!1,dataIndex:s,parsed:void 0,raw:void 0,element:e,index:s,mode:"default",type:"data"})}function Mm(t,s){let e=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){s=s||t._parsed;for(let n of s){let a=n._stacks;if(!a||a[i]===void 0||a[i][e]===void 0)return;delete a[i][e],a[i]._visualValues!==void 0&&a[i]._visualValues[e]!==void 0&&delete a[i]._visualValues[e]}}}var hy=t=>t==="reset"||t==="none",QI=(t,s)=>s?t:Object.assign({},t),U7=(t,s,e)=>t&&!s.hidden&&s._stacked&&{keys:U5(e,!0),values:null},Ac=(()=>{class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=KI(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Mm(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,i=this._cachedMeta,n=this.getDataset(),a=(Y,oe,J,ke)=>Y==="x"?oe:Y==="r"?ke:J,u=i.xAxisID=Di(n.xAxisID,py(e,"x")),b=i.yAxisID=Di(n.yAxisID,py(e,"y")),T=i.rAxisID=Di(n.rAxisID,py(e,"r")),D=i.indexAxis,R=i.iAxisID=a(D,u,b,T),U=i.vAxisID=a(D,b,u,T);i.xScale=this.getScaleForId(u),i.yScale=this.getScaleForId(b),i.rScale=this.getScaleForId(T),i.iScale=this.getScaleForId(R),i.vScale=this.getScaleForId(U)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&Ub(this._data,this),e._stacked&&Mm(e)}_dataCheck(){let e=this.getDataset(),i=e.data||(e.data=[]),n=this._data;if($i(i))this._data=B7(i);else if(n!==i){if(n){Ub(n,this);let a=this._cachedMeta;Mm(a),a._parsed=[]}i&&Object.isExtensible(i)&&CI(i,this),this._syncList=[],this._data=i}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let i=this._cachedMeta,n=this.getDataset(),a=!1;this._dataCheck();let u=i._stacked;i._stacked=KI(i.vScale,i),i.stack!==n.stack&&(a=!0,Mm(i),i.stack=n.stack),this._resyncElements(e),(a||u!==i._stacked)&&ZI(this,i._parsed)}configure(){let e=this.chart.config,i=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){let{_cachedMeta:n,_data:a}=this,{iScale:u,_stacked:b}=n,T=u.axis,D=e===0&&i===a.length?!0:n._sorted,R=e>0&&n._parsed[e-1],U,Y,oe;if(this._parsing===!1)n._parsed=a,n._sorted=!0,oe=a;else{jn(a[e])?oe=this.parseArrayData(n,a,e,i):$i(a[e])?oe=this.parseObjectData(n,a,e,i):oe=this.parsePrimitiveData(n,a,e,i);let J=()=>Y[T]===null||R&&Y[T]<R[T];for(U=0;U<i;++U)n._parsed[U+e]=Y=oe[U],D&&(J()&&(D=!1),R=Y);n._sorted=D}b&&ZI(this,oe)}parsePrimitiveData(e,i,n,a){let{iScale:u,vScale:b}=e,T=u.axis,D=b.axis,R=u.getLabels(),U=u===b,Y=new Array(a),oe,J,ke;for(oe=0,J=a;oe<J;++oe)ke=oe+n,Y[oe]={[T]:U||u.parse(R[ke],ke),[D]:b.parse(i[ke],ke)};return Y}parseArrayData(e,i,n,a){let{xScale:u,yScale:b}=e,T=new Array(a),D,R,U,Y;for(D=0,R=a;D<R;++D)U=D+n,Y=i[U],T[D]={x:u.parse(Y[0],U),y:b.parse(Y[1],U)};return T}parseObjectData(e,i,n,a){let{xScale:u,yScale:b}=e,{xAxisKey:T="x",yAxisKey:D="y"}=this._parsing,R=new Array(a),U,Y,oe,J;for(U=0,Y=a;U<Y;++U)oe=U+n,J=i[oe],R[U]={x:u.parse(_l(J,T),oe),y:b.parse(_l(J,D),oe)};return R}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,n){let a=this.chart,u=this._cachedMeta,b=i[e.axis],T={keys:U5(a,!0),values:i._stacks[e.axis]._visualValues};return $I(T,b,u.index,{mode:n})}updateRangeFromParsed(e,i,n,a){let u=n[i.axis],b=u===null?NaN:u,T=a&&n._stacks[i.axis];a&&T&&(a.values=T,b=$I(a,u,this._cachedMeta.index)),e.min=Math.min(e.min,b),e.max=Math.max(e.max,b)}getMinMax(e,i){let n=this._cachedMeta,a=n._parsed,u=n._sorted&&e===n.iScale,b=a.length,T=this._getOtherScale(e),D=U7(i,n,this.chart),R={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:U,max:Y}=q7(T),oe,J;function ke(){J=a[oe];let Te=J[T.axis];return!_a(J[e.axis])||U>Te||Y<Te}for(oe=0;oe<b&&!(!ke()&&(this.updateRangeFromParsed(R,e,J,D),u));++oe);if(u){for(oe=b-1;oe>=0;--oe)if(!ke()){this.updateRangeFromParsed(R,e,J,D);break}}return R}getAllParsedValues(e){let i=this._cachedMeta._parsed,n=[],a,u,b;for(a=0,u=i.length;a<u;++a)b=i[a][e.axis],_a(b)&&n.push(b);return n}getMaxOverflow(){return!1}getLabelAndValue(e){let i=this._cachedMeta,n=i.iScale,a=i.vScale,u=this.getParsed(e);return{label:n?""+n.getLabelForValue(u[n.axis]):"",value:a?""+a.getLabelForValue(u[a.axis]):""}}_update(e){let i=this._cachedMeta;this.update(e||"default"),i._clip=R7(Di(this.options.clip,z7(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,i=this.chart,n=this._cachedMeta,a=n.data||[],u=i.chartArea,b=[],T=this._drawStart||0,D=this._drawCount||a.length-T,R=this.options.drawActiveElementsOnTop,U;for(n.dataset&&n.dataset.draw(e,u,T,D),U=T;U<T+D;++U){let Y=a[U];Y.hidden||(Y.active&&R?b.push(Y):Y.draw(e,u))}for(U=0;U<b.length;++U)b[U].draw(e,u)}getStyle(e,i){let n=i?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,i,n){let a=this.getDataset(),u;if(e>=0&&e<this._cachedMeta.data.length){let b=this._cachedMeta.data[e];u=b.$context||(b.$context=G7(this.getContext(),e,b)),u.parsed=this.getParsed(e),u.raw=a.data[e],u.index=u.dataIndex=e}else u=this.$context||(this.$context=j7(this.chart.getContext(),this.index)),u.dataset=a,u.index=u.datasetIndex=this.index;return u.active=!!i,u.mode=n,u}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",n){let a=i==="active",u=this._cachedDataOpts,b=e+"-"+i,T=u[b],D=this.enableOptionSharing&&Dp(n);if(T)return QI(T,D);let R=this.chart.config,U=R.datasetElementScopeKeys(this._type,e),Y=a?[`${e}Hover`,"hover",e,""]:[e,""],oe=R.getOptionScopes(this.getDataset(),U),J=Object.keys(ba.elements[e]),ke=()=>this.getContext(n,a,i),Te=R.resolveNamedOptions(oe,J,ke,Y);return Te.$shared&&(Te.$shared=D,u[b]=Object.freeze(QI(Te,D))),Te}_resolveAnimations(e,i,n){let a=this.chart,u=this._cachedDataOpts,b=`animation-${i}`,T=u[b];if(T)return T;let D;if(a.options.animation!==!1){let U=this.chart.config,Y=U.datasetAnimationScopeKeys(this._type,i),oe=U.getOptionScopes(this.getDataset(),Y);D=U.createResolver(oe,this.getContext(e,n,i))}let R=new Hg(a,D&&D.animations);return D&&D._cacheable&&(u[b]=Object.freeze(R)),R}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||hy(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){let n=this.resolveDataElementOptions(e,i),a=this._sharedOptions,u=this.getSharedOptions(n),b=this.includeOptions(i,u)||u!==a;return this.updateSharedOptions(u,i,n),{sharedOptions:u,includeOptions:b}}updateElement(e,i,n,a){hy(a)?Object.assign(e,n):this._resolveAnimations(i,a).update(e,n)}updateSharedOptions(e,i,n){e&&!hy(i)&&this._resolveAnimations(void 0,i).update(e,n)}_setStyle(e,i,n,a){e.active=a;let u=this.getStyle(i,a);this._resolveAnimations(i,n,a).update(e,{options:!a&&this.getSharedOptions(u)||u})}removeHoverStyle(e,i,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,i,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let i=this._data,n=this._cachedMeta.data;for(let[T,D,R]of this._syncList)this[T](D,R);this._syncList=[];let a=n.length,u=i.length,b=Math.min(u,a);b&&this.parse(0,b),u>a?this._insertElements(a,u-a,e):u<a&&this._removeElements(u,a-u)}_insertElements(e,i,n=!0){let a=this._cachedMeta,u=a.data,b=e+i,T,D=R=>{for(R.length+=i,T=R.length-1;T>=b;T--)R[T]=R[T-i]};for(D(u),T=e;T<b;++T)u[T]=new this.dataElementType;this._parsing&&D(a._parsed),this.parse(e,i),n&&this.updateElements(u,e,i,"reset")}updateElements(e,i,n,a){}_removeElements(e,i){let n=this._cachedMeta;if(this._parsing){let a=n._parsed.splice(e,i);n._stacked&&Mm(n,a)}n.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[i,n,a]=e;this[i](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);let n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t})();function $7(t,s){if(!t._cache.$bar){let e=t.getMatchingVisibleMetas(s),i=[];for(let n=0,a=e.length;n<a;n++)i=i.concat(e[n].controller.getAllParsedValues(t));t._cache.$bar=$b(i.sort((n,a)=>n-a))}return t._cache.$bar}function K7(t){let s=t.iScale,e=$7(s,t.type),i=s._length,n,a,u,b,T=()=>{u===32767||u===-32768||(Dp(b)&&(i=Math.min(i,Math.abs(u-b)||i)),b=u)};for(n=0,a=e.length;n<a;++n)u=s.getPixelForValue(e[n]),T();for(b=void 0,n=0,a=s.ticks.length;n<a;++n)u=s.getPixelForTick(n),T();return i}function W7(t,s,e,i){let n=e.barThickness,a,u;return an(n)?(a=s.min*e.categoryPercentage,u=e.barPercentage):(a=n*i,u=1),{chunk:a/i,ratio:u,start:s.pixels[t]-a/2}}function Z7(t,s,e,i){let n=s.pixels,a=n[t],u=t>0?n[t-1]:null,b=t<n.length-1?n[t+1]:null,T=e.categoryPercentage;u===null&&(u=a-(b===null?s.end-s.start:b-a)),b===null&&(b=a+a-u);let D=a-(a-Math.min(u,b))/2*T;return{chunk:Math.abs(b-u)/2*T/i,ratio:e.barPercentage,start:D}}function Q7(t,s,e,i){let n=e.parse(t[0],i),a=e.parse(t[1],i),u=Math.min(n,a),b=Math.max(n,a),T=u,D=b;Math.abs(u)>Math.abs(b)&&(T=b,D=u),s[e.axis]=D,s._custom={barStart:T,barEnd:D,start:n,end:a,min:u,max:b}}function $5(t,s,e,i){return jn(t)?Q7(t,s,e,i):s[e.axis]=e.parse(t,i),s}function XI(t,s,e,i){let n=t.iScale,a=t.vScale,u=n.getLabels(),b=n===a,T=[],D,R,U,Y;for(D=e,R=e+i;D<R;++D)Y=s[D],U={},U[n.axis]=b||n.parse(u[D],D),T.push($5(Y,U,a,D));return T}function my(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function X7(t,s,e){return t!==0?cs(t):(s.isHorizontal()?1:-1)*(s.min>=e?1:-1)}function Y7(t){let s,e,i,n,a;return t.horizontal?(s=t.base>t.x,e="left",i="right"):(s=t.base<t.y,e="bottom",i="top"),s?(n="end",a="start"):(n="start",a="end"),{start:e,end:i,reverse:s,top:n,bottom:a}}function J7(t,s,e,i){let n=s.borderSkipped,a={};if(!n){t.borderSkipped=a;return}if(n===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:u,end:b,reverse:T,top:D,bottom:R}=Y7(t);n==="middle"&&e&&(t.enableBorderRadius=!0,(e._top||0)===i?n=D:(e._bottom||0)===i?n=R:(a[YI(R,u,b,T)]=!0,n=D)),a[YI(n,u,b,T)]=!0,t.borderSkipped=a}function YI(t,s,e,i){return i?(t=e8(t,s,e),t=JI(t,e,s)):t=JI(t,s,e),t}function e8(t,s,e){return t===s?e:t===e?s:t}function JI(t,s,e){return t==="start"?s:t==="end"?e:t}function t8(t,{inflateAmount:s},e){t.inflateAmount=s==="auto"?e===1?.33:0:s}var i8=(()=>{class t extends Ac{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,i,n,a){return XI(e,i,n,a)}parseArrayData(e,i,n,a){return XI(e,i,n,a)}parseObjectData(e,i,n,a){let{iScale:u,vScale:b}=e,{xAxisKey:T="x",yAxisKey:D="y"}=this._parsing,R=u.axis==="x"?T:D,U=b.axis==="x"?T:D,Y=[],oe,J,ke,Te;for(oe=n,J=n+a;oe<J;++oe)Te=i[oe],ke={},ke[u.axis]=u.parse(_l(Te,R),oe),Y.push($5(_l(Te,U),ke,b,oe));return Y}updateRangeFromParsed(e,i,n,a){super.updateRangeFromParsed(e,i,n,a);let u=n._custom;u&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,u.min),e.max=Math.max(e.max,u.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let i=this._cachedMeta,{iScale:n,vScale:a}=i,u=this.getParsed(e),b=u._custom,T=my(b)?"["+b.start+", "+b.end+"]":""+a.getLabelForValue(u[a.axis]);return{label:""+n.getLabelForValue(u[n.axis]),value:T}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,n,a){let u=a==="reset",{index:b,_cachedMeta:{vScale:T}}=this,D=T.getBasePixel(),R=T.isHorizontal(),U=this._getRuler(),{sharedOptions:Y,includeOptions:oe}=this._getSharedOptions(i,a);for(let J=i;J<i+n;J++){let ke=this.getParsed(J),Te=u||an(ke[T.axis])?{base:D,head:D}:this._calculateBarValuePixels(J),qe=this._calculateBarIndexPixels(J,U),et=(ke._stacks||{})[T.axis],bt={horizontal:R,base:Te.base,enableBorderRadius:!et||my(ke._custom)||b===et._top||b===et._bottom,x:R?Te.head:qe.center,y:R?qe.center:Te.head,height:R?qe.size:Math.abs(Te.size),width:R?Math.abs(Te.size):qe.size};oe&&(bt.options=Y||this.resolveDataElementOptions(J,e[J].active?"active":a));let xt=bt.options||e[J].options;J7(bt,xt,et,b),t8(bt,xt,U.ratio),this.updateElement(e[J],J,bt,a)}}_getStacks(e,i){let{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(D=>D.controller.options.grouped),u=n.options.stacked,b=[],T=D=>{let R=D.controller.getParsed(i),U=R&&R[D.vScale.axis];if(an(U)||isNaN(U))return!0};for(let D of a)if(!(i!==void 0&&T(D))&&((u===!1||b.indexOf(D.stack)===-1||u===void 0&&D.stack===void 0)&&b.push(D.stack),D.index===e))break;return b.length||b.push(void 0),b}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,n){let a=this._getStacks(e,n),u=i!==void 0?a.indexOf(i):-1;return u===-1?a.length-1:u}_getRuler(){let e=this.options,i=this._cachedMeta,n=i.iScale,a=[],u,b;for(u=0,b=i.data.length;u<b;++u)a.push(n.getPixelForValue(this.getParsed(u)[n.axis],u));let T=e.barThickness;return{min:T||K7(i),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:T?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:i,_stacked:n,index:a},options:{base:u,minBarLength:b}}=this,T=u||0,D=this.getParsed(e),R=D._custom,U=my(R),Y=D[i.axis],oe=0,J=n?this.applyStack(i,D,n):Y,ke,Te;J!==Y&&(oe=J-Y,J=Y),U&&(Y=R.barStart,J=R.barEnd-R.barStart,Y!==0&&cs(Y)!==cs(R.barEnd)&&(oe=0),oe+=Y);let qe=!an(u)&&!U?u:oe,et=i.getPixelForValue(qe);if(this.chart.getDataVisibility(e)?ke=i.getPixelForValue(oe+J):ke=et,Te=ke-et,Math.abs(Te)<b){Te=X7(Te,i,T)*b,Y===T&&(et-=Te/2);let bt=i.getPixelForDecimal(0),xt=i.getPixelForDecimal(1),lt=Math.min(bt,xt),vt=Math.max(bt,xt);et=Math.max(Math.min(et,vt),lt),ke=et+Te,n&&!U&&(D._stacks[i.axis]._visualValues[a]=i.getValueForPixel(ke)-i.getValueForPixel(et))}if(et===i.getPixelForValue(T)){let bt=cs(Te)*i.getLineWidthForValue(T)/2;et+=bt,Te-=bt}return{size:Te,base:et,head:ke,center:ke+Te/2}}_calculateBarIndexPixels(e,i){let n=i.scale,a=this.options,u=a.skipNull,b=Di(a.maxBarThickness,1/0),T,D;if(i.grouped){let R=u?this._getStackCount(e):i.stackCount,U=a.barThickness==="flex"?Z7(e,i,a,R):W7(e,i,a,R),Y=this._getStackIndex(this.index,this._cachedMeta.stack,u?e:void 0);T=U.start+U.chunk*Y+U.chunk/2,D=Math.min(b,U.chunk*U.ratio)}else T=n.getPixelForValue(this.getParsed(e)[n.axis],e),D=Math.min(b,i.min*i.ratio);return{base:T-D/2,head:T+D/2,center:T,size:D}}draw(){let e=this._cachedMeta,i=e.vScale,n=e.data,a=n.length,u=0;for(;u<a;++u)this.getParsed(u)[i.axis]!==null&&n[u].draw(this._ctx)}}return t})(),n8=(()=>{class t extends Ac{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,n,a){let u=super.parsePrimitiveData(e,i,n,a);for(let b=0;b<u.length;b++)u[b]._custom=this.resolveDataElementOptions(b+n).radius;return u}parseArrayData(e,i,n,a){let u=super.parseArrayData(e,i,n,a);for(let b=0;b<u.length;b++){let T=i[n+b];u[b]._custom=Di(T[2],this.resolveDataElementOptions(b+n).radius)}return u}parseObjectData(e,i,n,a){let u=super.parseObjectData(e,i,n,a);for(let b=0;b<u.length;b++){let T=i[n+b];u[b]._custom=Di(T&&T.r&&+T.r,this.resolveDataElementOptions(b+n).radius)}return u}getMaxOverflow(){let e=this._cachedMeta.data,i=0;for(let n=e.length-1;n>=0;--n)i=Math.max(i,e[n].size(this.resolveDataElementOptions(n))/2);return i>0&&i}getLabelAndValue(e){let i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:u}=i,b=this.getParsed(e),T=a.getLabelForValue(b.x),D=u.getLabelForValue(b.y),R=b._custom;return{label:n[e]||"",value:"("+T+", "+D+(R?", "+R:"")+")"}}update(e){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,n,a){let u=a==="reset",{iScale:b,vScale:T}=this._cachedMeta,{sharedOptions:D,includeOptions:R}=this._getSharedOptions(i,a),U=b.axis,Y=T.axis;for(let oe=i;oe<i+n;oe++){let J=e[oe],ke=!u&&this.getParsed(oe),Te={},qe=Te[U]=u?b.getPixelForDecimal(.5):b.getPixelForValue(ke[U]),et=Te[Y]=u?T.getBasePixel():T.getPixelForValue(ke[Y]);Te.skip=isNaN(qe)||isNaN(et),R&&(Te.options=D||this.resolveDataElementOptions(oe,J.active?"active":a),u&&(Te.options.radius=0)),this.updateElement(J,oe,Te,a)}}resolveDataElementOptions(e,i){let n=this.getParsed(e),a=super.resolveDataElementOptions(e,i);a.$shared&&(a=Object.assign({},a,{$shared:!1}));let u=a.radius;return i!=="active"&&(a.radius=0),a.radius+=Di(n&&n._custom,u),a}}return t})();function a8(t,s,e){let i=1,n=1,a=0,u=0;if(s<Un){let b=t,T=b+s,D=Math.cos(b),R=Math.sin(b),U=Math.cos(T),Y=Math.sin(T),oe=(bt,xt,lt)=>Ap(bt,b,T,!0)?1:Math.max(xt,xt*e,lt,lt*e),J=(bt,xt,lt)=>Ap(bt,b,T,!0)?-1:Math.min(xt,xt*e,lt,lt*e),ke=oe(0,D,U),Te=oe(Ia,R,Y),qe=J(Gn,D,U),et=J(Gn+Ia,R,Y);i=(ke-qe)/2,n=(Te-et)/2,a=-(ke+qe)/2,u=-(Te+et)/2}return{ratioX:i,ratioY:n,offsetX:a,offsetY:u}}var Hy=(()=>{class t extends Ac{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:n,color:a}}=e.legend.options;return i.labels.map((u,b)=>{let D=e.getDatasetMeta(0).controller.getStyle(b);return{text:u,fillStyle:D.backgroundColor,strokeStyle:D.borderColor,fontColor:a,lineWidth:D.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(b),index:b}})}return[]}},onClick(e,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}}};constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){let n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let u=D=>+n[D];if($i(n[e])){let{key:D="value"}=this._parsing;u=R=>+_l(n[R],D)}let b,T;for(b=e,T=e+i;b<T;++b)a._parsed[b]=u(b)}}_getRotation(){return Kr(this.options.rotation-90)}_getCircumference(){return Kr(this.options.circumference)}_getRotationExtents(){let e=Un,i=-Un;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){let a=this.chart.getDatasetMeta(n).controller,u=a._getRotation(),b=a._getCircumference();e=Math.min(e,u),i=Math.max(i,u+b)}return{rotation:e,circumference:i-e}}update(e){let i=this.chart,{chartArea:n}=i,a=this._cachedMeta,u=a.data,b=this.getMaxBorderWidth()+this.getMaxOffset(u)+this.options.spacing,T=Math.max((Math.min(n.width,n.height)-b)/2,0),D=Math.min(gI(this.options.cutout,T),1),R=this._getRingWeight(this.index),{circumference:U,rotation:Y}=this._getRotationExtents(),{ratioX:oe,ratioY:J,offsetX:ke,offsetY:Te}=a8(Y,U,D),qe=(n.width-b)/oe,et=(n.height-b)/J,bt=Math.max(Math.min(qe,et)/2,0),xt=Bb(this.options.radius,bt),lt=Math.max(xt*D,0),vt=(xt-lt)/this._getVisibleDatasetWeightTotal();this.offsetX=ke*xt,this.offsetY=Te*xt,a.total=this.calculateTotal(),this.outerRadius=xt-vt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-vt*R,0),this.updateElements(u,0,u.length,e)}_circumference(e,i){let n=this.options,a=this._cachedMeta,u=this._getCircumference();return i&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*u/Un)}updateElements(e,i,n,a){let u=a==="reset",b=this.chart,T=b.chartArea,R=b.options.animation,U=(T.left+T.right)/2,Y=(T.top+T.bottom)/2,oe=u&&R.animateScale,J=oe?0:this.innerRadius,ke=oe?0:this.outerRadius,{sharedOptions:Te,includeOptions:qe}=this._getSharedOptions(i,a),et=this._getRotation(),bt;for(bt=0;bt<i;++bt)et+=this._circumference(bt,u);for(bt=i;bt<i+n;++bt){let xt=this._circumference(bt,u),lt=e[bt],vt={x:U+this.offsetX,y:Y+this.offsetY,startAngle:et,endAngle:et+xt,circumference:xt,outerRadius:ke,innerRadius:J};qe&&(vt.options=Te||this.resolveDataElementOptions(bt,lt.active?"active":a)),et+=xt,this.updateElement(lt,bt,vt,a)}}calculateTotal(){let e=this._cachedMeta,i=e.data,n=0,a;for(a=0;a<i.length;a++){let u=e._parsed[a];u!==null&&!isNaN(u)&&this.chart.getDataVisibility(a)&&!i[a].hidden&&(n+=Math.abs(u))}return n}calculateCircumference(e){let i=this._cachedMeta.total;return i>0&&!isNaN(e)?Un*(Math.abs(e)/i):0}getLabelAndValue(e){let i=this._cachedMeta,n=this.chart,a=n.data.labels||[],u=Op(i._parsed[e],n.options.locale);return{label:a[e]||"",value:u}}getMaxBorderWidth(e){let i=0,n=this.chart,a,u,b,T,D;if(!e){for(a=0,u=n.data.datasets.length;a<u;++a)if(n.isDatasetVisible(a)){b=n.getDatasetMeta(a),e=b.data,T=b.controller;break}}if(!e)return 0;for(a=0,u=e.length;a<u;++a)D=T.resolveDataElementOptions(a),D.borderAlign!=="inner"&&(i=Math.max(i,D.borderWidth||0,D.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let n=0,a=e.length;n<a;++n){let u=this.resolveDataElementOptions(n);i=Math.max(i,u.offset||0,u.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(i+=this._getRingWeight(n));return i}_getRingWeight(e){return Math.max(Di(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t})(),o8=(()=>{class t extends Ac{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let i=this._cachedMeta,{dataset:n,data:a=[],_dataset:u}=i,b=this.chart._animationsDisabled,{start:T,count:D}=Zb(i,a,b);this._drawStart=T,this._drawCount=D,Qb(i)&&(T=0,D=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!u._decimated,n.points=a;let R=this.resolveDatasetElementOptions(e);this.options.showLine||(R.borderWidth=0),R.segment=this.options.segment,this.updateElement(n,void 0,{animated:!b,options:R},e),this.updateElements(a,T,D,e)}updateElements(e,i,n,a){let u=a==="reset",{iScale:b,vScale:T,_stacked:D,_dataset:R}=this._cachedMeta,{sharedOptions:U,includeOptions:Y}=this._getSharedOptions(i,a),oe=b.axis,J=T.axis,{spanGaps:ke,segment:Te}=this.options,qe=Zd(ke)?ke:Number.POSITIVE_INFINITY,et=this.chart._animationsDisabled||u||a==="none",bt=i+n,xt=e.length,lt=i>0&&this.getParsed(i-1);for(let vt=0;vt<xt;++vt){let qt=e[vt],Mt=et?qt:{};if(vt<i||vt>=bt){Mt.skip=!0;continue}let Jt=this.getParsed(vt),mi=an(Jt[J]),hi=Mt[oe]=b.getPixelForValue(Jt[oe],vt),Si=Mt[J]=u||mi?T.getBasePixel():T.getPixelForValue(D?this.applyStack(T,Jt,D):Jt[J],vt);Mt.skip=isNaN(hi)||isNaN(Si)||mi,Mt.stop=vt>0&&Math.abs(Jt[oe]-lt[oe])>qe,Te&&(Mt.parsed=Jt,Mt.raw=R.data[vt]),Y&&(Mt.options=U||this.resolveDataElementOptions(vt,qt.active?"active":a)),et||this.updateElement(qt,vt,Mt,a),lt=Jt}}getMaxOverflow(){let e=this._cachedMeta,i=e.dataset,n=i.options&&i.options.borderWidth||0,a=e.data||[];if(!a.length)return n;let u=a[0].size(this.resolveDataElementOptions(0)),b=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,u,b)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return t})(),K5=(()=>{class t extends Ac{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:n,color:a}}=e.legend.options;return i.labels.map((u,b)=>{let D=e.getDatasetMeta(0).controller.getStyle(b);return{text:u,fillStyle:D.backgroundColor,strokeStyle:D.borderColor,fontColor:a,lineWidth:D.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(b),index:b}})}return[]}},onClick(e,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let i=this._cachedMeta,n=this.chart,a=n.data.labels||[],u=Op(i._parsed[e].r,n.options.locale);return{label:a[e]||"",value:u}}parseObjectData(e,i,n,a){return oy.bind(this)(e,i,n,a)}update(e){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){let e=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,a)=>{let u=this.getParsed(a).r;!isNaN(u)&&this.chart.getDataVisibility(a)&&(u<i.min&&(i.min=u),u>i.max&&(i.max=u))}),i}_updateRadius(){let e=this.chart,i=e.chartArea,n=e.options,a=Math.min(i.right-i.left,i.bottom-i.top),u=Math.max(a/2,0),b=Math.max(n.cutoutPercentage?u/100*n.cutoutPercentage:1,0),T=(u-b)/e.getVisibleDatasetCount();this.outerRadius=u-T*this.index,this.innerRadius=this.outerRadius-T}updateElements(e,i,n,a){let u=a==="reset",b=this.chart,D=b.options.animation,R=this._cachedMeta.rScale,U=R.xCenter,Y=R.yCenter,oe=R.getIndexAngle(0)-.5*Gn,J=oe,ke,Te=360/this.countVisibleElements();for(ke=0;ke<i;++ke)J+=this._computeAngle(ke,a,Te);for(ke=i;ke<i+n;ke++){let qe=e[ke],et=J,bt=J+this._computeAngle(ke,a,Te),xt=b.getDataVisibility(ke)?R.getDistanceFromCenterForValue(this.getParsed(ke).r):0;J=bt,u&&(D.animateScale&&(xt=0),D.animateRotate&&(et=bt=oe));let lt={x:U,y:Y,innerRadius:0,outerRadius:xt,startAngle:et,endAngle:bt,options:this.resolveDataElementOptions(ke,qe.active?"active":a)};this.updateElement(qe,ke,lt,a)}}countVisibleElements(){let e=this._cachedMeta,i=0;return e.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&i++}),i}_computeAngle(e,i,n){return this.chart.getDataVisibility(e)?Kr(this.resolveDataElementOptions(e,i).angle||n):0}}return t})(),r8=(()=>{class t extends Hy{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return t})(),s8=(()=>{class t extends Ac{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let i=this._cachedMeta.vScale,n=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(n[i.axis])}}parseObjectData(e,i,n,a){return oy.bind(this)(e,i,n,a)}update(e){let i=this._cachedMeta,n=i.dataset,a=i.data||[],u=i.iScale.getLabels();if(n.points=a,e!=="resize"){let b=this.resolveDatasetElementOptions(e);this.options.showLine||(b.borderWidth=0);let T={_loop:!0,_fullLoop:u.length===a.length,options:b};this.updateElement(n,void 0,T,e)}this.updateElements(a,0,a.length,e)}updateElements(e,i,n,a){let u=this._cachedMeta.rScale,b=a==="reset";for(let T=i;T<i+n;T++){let D=e[T],R=this.resolveDataElementOptions(T,D.active?"active":a),U=u.getPointPositionForValue(T,this.getParsed(T).r),Y=b?u.xCenter:U.x,oe=b?u.yCenter:U.y,J={x:Y,y:oe,angle:U.angle,skip:isNaN(Y)||isNaN(oe),options:R};this.updateElement(D,T,J,a)}}}return t})(),l8=(()=>{class t extends Ac{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:u}=i,b=this.getParsed(e),T=a.getLabelForValue(b.x),D=u.getLabelForValue(b.y);return{label:n[e]||"",value:"("+T+", "+D+")"}}update(e){let i=this._cachedMeta,{data:n=[]}=i,a=this.chart._animationsDisabled,{start:u,count:b}=Zb(i,n,a);if(this._drawStart=u,this._drawCount=b,Qb(i)&&(u=0,b=n.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:T,_dataset:D}=i;T._chart=this.chart,T._datasetIndex=this.index,T._decimated=!!D._decimated,T.points=n;let R=this.resolveDatasetElementOptions(e);R.segment=this.options.segment,this.updateElement(T,void 0,{animated:!a,options:R},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(n,u,b,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,n,a){let u=a==="reset",{iScale:b,vScale:T,_stacked:D,_dataset:R}=this._cachedMeta,U=this.resolveDataElementOptions(i,a),Y=this.getSharedOptions(U),oe=this.includeOptions(a,Y),J=b.axis,ke=T.axis,{spanGaps:Te,segment:qe}=this.options,et=Zd(Te)?Te:Number.POSITIVE_INFINITY,bt=this.chart._animationsDisabled||u||a==="none",xt=i>0&&this.getParsed(i-1);for(let lt=i;lt<i+n;++lt){let vt=e[lt],qt=this.getParsed(lt),Mt=bt?vt:{},Jt=an(qt[ke]),mi=Mt[J]=b.getPixelForValue(qt[J],lt),hi=Mt[ke]=u||Jt?T.getBasePixel():T.getPixelForValue(D?this.applyStack(T,qt,D):qt[ke],lt);Mt.skip=isNaN(mi)||isNaN(hi)||Jt,Mt.stop=lt>0&&Math.abs(qt[J]-xt[J])>et,qe&&(Mt.parsed=qt,Mt.raw=R.data[lt]),oe&&(Mt.options=Y||this.resolveDataElementOptions(lt,vt.active?"active":a)),bt||this.updateElement(vt,lt,Mt,a),xt=qt}this.updateSharedOptions(Y,a,U)}getMaxOverflow(){let e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let T=0;for(let D=i.length-1;D>=0;--D)T=Math.max(T,i[D].size(this.resolveDataElementOptions(D))/2);return T>0&&T}let n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!i.length)return a;let u=i[0].size(this.resolveDataElementOptions(0)),b=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(a,u,b)/2}}return t})(),c8=Object.freeze({__proto__:null,BarController:i8,BubbleController:n8,DoughnutController:Hy,LineController:o8,PieController:r8,PolarAreaController:K5,RadarController:s8,ScatterController:l8});function Xd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Iy=class t{static override(s){Object.assign(t.prototype,s)}options;constructor(s){this.options=s||{}}init(){}formats(){return Xd()}parse(){return Xd()}format(){return Xd()}add(){return Xd()}diff(){return Xd()}startOf(){return Xd()}endOf(){return Xd()}},d8={_date:Iy};function u8(t,s,e,i){let{controller:n,data:a,_sorted:u}=t,b=n._cachedMeta.iScale;if(b&&s===b.axis&&s!=="r"&&u&&a.length){let T=b._reversePixels?wI:Fs;if(i){if(n._sharedOptions){let D=a[0],R=typeof D.getRange=="function"&&D.getRange(s);if(R){let U=T(a,s,e-R),Y=T(a,s,e+R);return{lo:U.lo,hi:Y.hi}}}}else return T(a,s,e)}return{lo:0,hi:a.length-1}}function zm(t,s,e,i,n){let a=t.getSortedVisibleDatasetMetas(),u=e[s];for(let b=0,T=a.length;b<T;++b){let{index:D,data:R}=a[b],{lo:U,hi:Y}=u8(a[b],s,u,n);for(let oe=U;oe<=Y;++oe){let J=R[oe];J.skip||i(J,D,oe)}}}function p8(t){let s=t.indexOf("x")!==-1,e=t.indexOf("y")!==-1;return function(i,n){let a=s?Math.abs(i.x-n.x):0,u=e?Math.abs(i.y-n.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(u,2))}}function fy(t,s,e,i,n){let a=[];return!n&&!t.isPointInArea(s)||zm(t,e,s,function(b,T,D){!n&&!Vs(b,t.chartArea,0)||b.inRange(s.x,s.y,i)&&a.push({element:b,datasetIndex:T,index:D})},!0),a}function h8(t,s,e,i){let n=[];function a(u,b,T){let{startAngle:D,endAngle:R}=u.getProps(["startAngle","endAngle"],i),{angle:U}=Gb(u,{x:s.x,y:s.y});Ap(U,D,R)&&n.push({element:u,datasetIndex:b,index:T})}return zm(t,e,s,a),n}function m8(t,s,e,i,n,a){let u=[],b=p8(e),T=Number.POSITIVE_INFINITY;function D(R,U,Y){let oe=R.inRange(s.x,s.y,n);if(i&&!oe)return;let J=R.getCenterPoint(n);if(!(!!a||t.isPointInArea(J))&&!oe)return;let Te=b(s,J);Te<T?(u=[{element:R,datasetIndex:U,index:Y}],T=Te):Te===T&&u.push({element:R,datasetIndex:U,index:Y})}return zm(t,e,s,D),u}function gy(t,s,e,i,n,a){return!a&&!t.isPointInArea(s)?[]:e==="r"&&!i?h8(t,s,e,n):m8(t,s,e,i,n,a)}function e5(t,s,e,i,n){let a=[],u=e==="x"?"inXRange":"inYRange",b=!1;return zm(t,e,s,(T,D,R)=>{T[u](s[e],n)&&(a.push({element:T,datasetIndex:D,index:R}),b=b||T.inRange(s.x,s.y,n))}),i&&!b?[]:a}var f8={evaluateInteractionItems:zm,modes:{index(t,s,e,i){let n=Dc(s,t),a=e.axis||"x",u=e.includeInvisible||!1,b=e.intersect?fy(t,n,a,i,u):gy(t,n,a,!1,i,u),T=[];return b.length?(t.getSortedVisibleDatasetMetas().forEach(D=>{let R=b[0].index,U=D.data[R];U&&!U.skip&&T.push({element:U,datasetIndex:D.index,index:R})}),T):[]},dataset(t,s,e,i){let n=Dc(s,t),a=e.axis||"xy",u=e.includeInvisible||!1,b=e.intersect?fy(t,n,a,i,u):gy(t,n,a,!1,i,u);if(b.length>0){let T=b[0].datasetIndex,D=t.getDatasetMeta(T).data;b=[];for(let R=0;R<D.length;++R)b.push({element:D[R],datasetIndex:T,index:R})}return b},point(t,s,e,i){let n=Dc(s,t),a=e.axis||"xy",u=e.includeInvisible||!1;return fy(t,n,a,i,u)},nearest(t,s,e,i){let n=Dc(s,t),a=e.axis||"xy",u=e.includeInvisible||!1;return gy(t,n,a,e.intersect,i,u)},x(t,s,e,i){let n=Dc(s,t);return e5(t,n,"x",e.intersect,i)},y(t,s,e,i){let n=Dc(s,t);return e5(t,n,"y",e.intersect,i)}}},W5=["left","top","right","bottom"];function km(t,s){return t.filter(e=>e.pos===s)}function t5(t,s){return t.filter(e=>W5.indexOf(e.pos)===-1&&e.box.axis===s)}function Em(t,s){return t.sort((e,i)=>{let n=s?i:e,a=s?e:i;return n.weight===a.weight?n.index-a.index:n.weight-a.weight})}function g8(t){let s=[],e,i,n,a,u,b;for(e=0,i=(t||[]).length;e<i;++e)n=t[e],{position:a,options:{stack:u,stackWeight:b=1}}=n,s.push({index:e,box:n,pos:a,horizontal:n.isHorizontal(),weight:n.weight,stack:u&&a+u,stackWeight:b});return s}function _8(t){let s={};for(let e of t){let{stack:i,pos:n,stackWeight:a}=e;if(!i||!W5.includes(n))continue;let u=s[i]||(s[i]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=a}return s}function b8(t,s){let e=_8(t),{vBoxMaxWidth:i,hBoxMaxHeight:n}=s,a,u,b;for(a=0,u=t.length;a<u;++a){b=t[a];let{fullSize:T}=b.box,D=e[b.stack],R=D&&b.stackWeight/D.weight;b.horizontal?(b.width=R?R*i:T&&s.availableWidth,b.height=n):(b.width=i,b.height=R?R*n:T&&s.availableHeight)}return e}function y8(t){let s=g8(t),e=Em(s.filter(D=>D.box.fullSize),!0),i=Em(km(s,"left"),!0),n=Em(km(s,"right")),a=Em(km(s,"top"),!0),u=Em(km(s,"bottom")),b=t5(s,"x"),T=t5(s,"y");return{fullSize:e,leftAndTop:i.concat(a),rightAndBottom:n.concat(T).concat(u).concat(b),chartArea:km(s,"chartArea"),vertical:i.concat(n).concat(T),horizontal:a.concat(u).concat(b)}}function i5(t,s,e,i){return Math.max(t[e],s[e])+Math.max(t[i],s[i])}function Z5(t,s){t.top=Math.max(t.top,s.top),t.left=Math.max(t.left,s.left),t.bottom=Math.max(t.bottom,s.bottom),t.right=Math.max(t.right,s.right)}function v8(t,s,e,i){let{pos:n,box:a}=e,u=t.maxPadding;if(!$i(n)){e.size&&(t[n]-=e.size);let U=i[e.stack]||{size:0,count:1};U.size=Math.max(U.size,e.horizontal?a.height:a.width),e.size=U.size/U.count,t[n]+=e.size}a.getPadding&&Z5(u,a.getPadding());let b=Math.max(0,s.outerWidth-i5(u,t,"left","right")),T=Math.max(0,s.outerHeight-i5(u,t,"top","bottom")),D=b!==t.w,R=T!==t.h;return t.w=b,t.h=T,e.horizontal?{same:D,other:R}:{same:R,other:D}}function x8(t){let s=t.maxPadding;function e(i){let n=Math.max(s[i]-t[i],0);return t[i]+=n,n}t.y+=e("top"),t.x+=e("left"),e("right"),e("bottom")}function w8(t,s){let e=s.maxPadding;function i(n){let a={left:0,top:0,right:0,bottom:0};return n.forEach(u=>{a[u]=Math.max(s[u],e[u])}),a}return i(t?["left","right"]:["top","bottom"])}function Lm(t,s,e,i){let n=[],a,u,b,T,D,R;for(a=0,u=t.length,D=0;a<u;++a){b=t[a],T=b.box,T.update(b.width||s.w,b.height||s.h,w8(b.horizontal,s));let{same:U,other:Y}=v8(s,e,b,i);D|=U&&n.length,R=R||Y,T.fullSize||n.push(b)}return D&&Lm(n,s,e,i)||R}function Ag(t,s,e,i,n){t.top=e,t.left=s,t.right=s+i,t.bottom=e+n,t.width=i,t.height=n}function n5(t,s,e,i){let n=e.padding,{x:a,y:u}=s;for(let b of t){let T=b.box,D=i[b.stack]||{count:1,placed:0,weight:1},R=b.stackWeight/D.weight||1;if(b.horizontal){let U=s.w*R,Y=D.size||T.height;Dp(D.start)&&(u=D.start),T.fullSize?Ag(T,n.left,u,e.outerWidth-n.right-n.left,Y):Ag(T,s.left+D.placed,u,U,Y),D.start=u,D.placed+=U,u=T.bottom}else{let U=s.h*R,Y=D.size||T.width;Dp(D.start)&&(a=D.start),T.fullSize?Ag(T,a,n.top,Y,e.outerHeight-n.bottom-n.top):Ag(T,a,s.top+D.placed,Y,U),D.start=a,D.placed+=U,a=T.right}}s.x=a,s.y=u}var Ro={addBox(t,s){t.boxes||(t.boxes=[]),s.fullSize=s.fullSize||!1,s.position=s.position||"top",s.weight=s.weight||0,s._layers=s._layers||function(){return[{z:0,draw(e){s.draw(e)}}]},t.boxes.push(s)},removeBox(t,s){let e=t.boxes?t.boxes.indexOf(s):-1;e!==-1&&t.boxes.splice(e,1)},configure(t,s,e){s.fullSize=e.fullSize,s.position=e.position,s.weight=e.weight},update(t,s,e,i){if(!t)return;let n=xo(t.options.layout.padding),a=Math.max(s-n.width,0),u=Math.max(e-n.height,0),b=y8(t.boxes),T=b.vertical,D=b.horizontal;wn(t.boxes,ke=>{typeof ke.beforeLayout=="function"&&ke.beforeLayout()});let R=T.reduce((ke,Te)=>Te.box.options&&Te.box.options.display===!1?ke:ke+1,0)||1,U=Object.freeze({outerWidth:s,outerHeight:e,padding:n,availableWidth:a,availableHeight:u,vBoxMaxWidth:a/2/R,hBoxMaxHeight:u/2}),Y=Object.assign({},n);Z5(Y,xo(i));let oe=Object.assign({maxPadding:Y,w:a,h:u,x:n.left,y:n.top},n),J=b8(T.concat(D),U);Lm(b.fullSize,oe,U,J),Lm(T,oe,U,J),Lm(D,oe,U,J)&&Lm(T,oe,U,J),x8(oe),n5(b.leftAndTop,oe,U,J),oe.x+=oe.w,oe.y+=oe.h,n5(b.rightAndBottom,oe,U,J),t.chartArea={left:oe.left,top:oe.top,right:oe.left+oe.w,bottom:oe.top+oe.h,height:oe.h,width:oe.w},wn(b.chartArea,ke=>{let Te=ke.box;Object.assign(Te,t.chartArea),Te.update(oe.w,oe.h,{left:0,top:0,right:0,bottom:0})})}},jg=class{acquireContext(s,e){}releaseContext(s){return!1}addEventListener(s,e,i){}removeEventListener(s,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(s,e,i,n){return e=Math.max(0,e||s.width),i=i||s.height,{width:e,height:Math.max(0,n?Math.floor(e/n):i)}}isAttached(s){return!0}updateConfig(s){}},Ty=class extends jg{acquireContext(s){return s&&s.getContext&&s.getContext("2d")||null}updateConfig(s){s.options.animation=!1}},Ng="$chartjs",I8={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},a5=t=>t===null||t==="";function T8(t,s){let e=t.style,i=t.getAttribute("height"),n=t.getAttribute("width");if(t[Ng]={initial:{height:i,width:n,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",a5(n)){let a=sy(t,"width");a!==void 0&&(t.width=a)}if(a5(i))if(t.style.height==="")t.height=t.width/(s||2);else{let a=sy(t,"height");a!==void 0&&(t.height=a)}return t}var Q5=BI?{passive:!0}:!1;function C8(t,s,e){t&&t.addEventListener(s,e,Q5)}function S8(t,s,e){t&&t.canvas&&t.canvas.removeEventListener(s,e,Q5)}function M8(t,s){let e=I8[t.type]||t.type,{x:i,y:n}=Dc(t,s);return{type:e,chart:s,native:t,x:i!==void 0?i:null,y:n!==void 0?n:null}}function Gg(t,s){for(let e of t)if(e===s||e.contains(s))return!0}function k8(t,s,e){let i=t.canvas,n=new MutationObserver(a=>{let u=!1;for(let b of a)u=u||Gg(b.addedNodes,i),u=u&&!Gg(b.removedNodes,i);u&&e()});return n.observe(document,{childList:!0,subtree:!0}),n}function E8(t,s,e){let i=t.canvas,n=new MutationObserver(a=>{let u=!1;for(let b of a)u=u||Gg(b.removedNodes,i),u=u&&!Gg(b.addedNodes,i);u&&e()});return n.observe(document,{childList:!0,subtree:!0}),n}var Om=new Map,o5=0;function X5(){let t=window.devicePixelRatio;t!==o5&&(o5=t,Om.forEach((s,e)=>{e.currentDevicePixelRatio!==t&&s()}))}function P8(t,s){Om.size||window.addEventListener("resize",X5),Om.set(t,s)}function D8(t){Om.delete(t),Om.size||window.removeEventListener("resize",X5)}function L8(t,s,e){let i=t.canvas,n=i&&Dg(i);if(!n)return;let a=Wb((b,T)=>{let D=n.clientWidth;e(b,T),D<n.clientWidth&&e()},window),u=new ResizeObserver(b=>{let T=b[0],D=T.contentRect.width,R=T.contentRect.height;D===0&&R===0||a(D,R)});return u.observe(n),P8(t,a),u}function _y(t,s,e){e&&e.disconnect(),s==="resize"&&D8(t)}function A8(t,s,e){let i=t.canvas,n=Wb(a=>{t.ctx!==null&&e(M8(a,t))},t);return C8(i,s,n),n}var Cy=class extends jg{acquireContext(s,e){let i=s&&s.getContext&&s.getContext("2d");return i&&i.canvas===s?(T8(s,e),i):null}releaseContext(s){let e=s.canvas;if(!e[Ng])return!1;let i=e[Ng].initial;["height","width"].forEach(a=>{let u=i[a];an(u)?e.removeAttribute(a):e.setAttribute(a,u)});let n=i.style||{};return Object.keys(n).forEach(a=>{e.style[a]=n[a]}),e.width=e.width,delete e[Ng],!0}addEventListener(s,e,i){this.removeEventListener(s,e);let n=s.$proxies||(s.$proxies={}),u={attach:k8,detach:E8,resize:L8}[e]||A8;n[e]=u(s,e,i)}removeEventListener(s,e){let i=s.$proxies||(s.$proxies={}),n=i[e];if(!n)return;({attach:_y,detach:_y,resize:_y}[e]||S8)(s,e,n),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(s,e,i,n){return RI(s,e,i,n)}isAttached(s){let e=Dg(s);return!!(e&&e.isConnected)}};function O8(t){return!Pg()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Ty:Cy}var ds=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(s){let{x:e,y:i}=this.getProps(["x","y"],s);return{x:e,y:i}}hasValue(){return Zd(this.x)&&Zd(this.y)}getProps(s,e){let i=this.$animations;if(!e||!i)return this;let n={};return s.forEach(a=>{n[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),n}};function F8(t,s){let e=t.options.ticks,i=V8(t),n=Math.min(e.maxTicksLimit||i,i),a=e.major.enabled?R8(s):[],u=a.length,b=a[0],T=a[u-1],D=[];if(u>n)return B8(s,D,a,u/n),D;let R=z8(a,s,n);if(u>0){let U,Y,oe=u>1?Math.round((T-b)/(u-1)):null;for(Og(s,D,R,an(oe)?0:b-oe,b),U=0,Y=u-1;U<Y;U++)Og(s,D,R,a[U],a[U+1]);return Og(s,D,R,T,an(oe)?s.length:T+oe),D}return Og(s,D,R),D}function V8(t){let s=t.options.offset,e=t._tickSize(),i=t._length/e+(s?0:1),n=t._maxLength/e;return Math.floor(Math.min(i,n))}function z8(t,s,e){let i=N8(t),n=s.length/e;if(!i)return Math.max(n,1);let a=yI(i);for(let u=0,b=a.length-1;u<b;u++){let T=a[u];if(T>n)return T}return Math.max(n,1)}function R8(t){let s=[],e,i;for(e=0,i=t.length;e<i;e++)t[e].major&&s.push(e);return s}function B8(t,s,e,i){let n=0,a=e[0],u;for(i=Math.ceil(i),u=0;u<t.length;u++)u===a&&(s.push(t[u]),n++,a=e[n*i])}function Og(t,s,e,i,n){let a=Di(i,0),u=Math.min(Di(n,t.length),t.length),b=0,T,D,R;for(e=Math.ceil(e),n&&(T=n-i,e=T/Math.floor(T/e)),R=a;R<0;)b++,R=Math.round(a+b*e);for(D=Math.max(a,0);D<u;D++)D===R&&(s.push(t[D]),b++,R=Math.round(a+b*e))}function N8(t){let s=t.length,e,i;if(s<2)return!1;for(i=t[0],e=1;e<s;++e)if(t[e]-t[e-1]!==i)return!1;return i}var q8=t=>t==="left"?"right":t==="right"?"left":t,r5=(t,s,e)=>s==="top"||s==="left"?t[s]+e:t[s]-e,s5=(t,s)=>Math.min(s||t,t);function l5(t,s){let e=[],i=t.length/s,n=t.length,a=0;for(;a<n;a+=i)e.push(t[Math.floor(a)]);return e}function H8(t,s,e){let i=t.ticks.length,n=Math.min(s,i-1),a=t._startPixel,u=t._endPixel,b=1e-6,T=t.getPixelForTick(n),D;if(!(e&&(i===1?D=Math.max(T-a,u-T):s===0?D=(t.getPixelForTick(1)-T)/2:D=(T-t.getPixelForTick(n-1))/2,T+=n<s?D:-D,T<a-b||T>u+b)))return T}function j8(t,s){wn(t,e=>{let i=e.gc,n=i.length/2,a;if(n>s){for(a=0;a<n;++a)delete e.data[i[a]];i.splice(0,n)}})}function Pm(t){return t.drawTicks?t.tickLength:0}function c5(t,s){if(!t.display)return 0;let e=ja(t.font,s),i=xo(t.padding);return(jn(t.text)?t.text.length:1)*e.lineHeight+i.height}function G8(t,s){return bl(t,{scale:s,type:"scale"})}function U8(t,s,e){return bl(t,{tick:e,index:s,type:"tick"})}function $8(t,s,e){let i=Cg(t);return(e&&s!=="right"||!e&&s==="right")&&(i=q8(i)),i}function K8(t,s,e,i){let{top:n,left:a,bottom:u,right:b,chart:T}=t,{chartArea:D,scales:R}=T,U=0,Y,oe,J,ke=u-n,Te=b-a;if(t.isHorizontal()){if(oe=vo(i,a,b),$i(e)){let qe=Object.keys(e)[0],et=e[qe];J=R[qe].getPixelForValue(et)+ke-s}else e==="center"?J=(D.bottom+D.top)/2+ke-s:J=r5(t,e,s);Y=b-a}else{if($i(e)){let qe=Object.keys(e)[0],et=e[qe];oe=R[qe].getPixelForValue(et)-Te+s}else e==="center"?oe=(D.left+D.right)/2-Te+s:oe=r5(t,e,s);J=vo(i,u,n),U=e==="left"?-Ia:Ia}return{titleX:oe,titleY:J,maxWidth:Y,rotation:U}}var Jd=class t extends ds{constructor(s){super(),this.id=s.id,this.type=s.type,this.options=void 0,this.ctx=s.ctx,this.chart=s.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(s){this.options=s.setContext(this.getContext()),this.axis=s.axis,this._userMin=this.parse(s.min),this._userMax=this.parse(s.max),this._suggestedMin=this.parse(s.suggestedMin),this._suggestedMax=this.parse(s.suggestedMax)}parse(s,e){return s}getUserBounds(){let{_userMin:s,_userMax:e,_suggestedMin:i,_suggestedMax:n}=this;return s=pr(s,Number.POSITIVE_INFINITY),e=pr(e,Number.NEGATIVE_INFINITY),i=pr(i,Number.POSITIVE_INFINITY),n=pr(n,Number.NEGATIVE_INFINITY),{min:pr(s,i),max:pr(e,n),minDefined:_a(s),maxDefined:_a(e)}}getMinMax(s){let{min:e,max:i,minDefined:n,maxDefined:a}=this.getUserBounds(),u;if(n&&a)return{min:e,max:i};let b=this.getMatchingVisibleMetas();for(let T=0,D=b.length;T<D;++T)u=b[T].controller.getMinMax(this,s),n||(e=Math.min(e,u.min)),a||(i=Math.max(i,u.max));return e=a&&e>i?i:e,i=n&&e>i?e:i,{min:pr(e,pr(i,e)),max:pr(i,pr(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let s=this.chart.data;return this.options.labels||(this.isHorizontal()?s.xLabels:s.yLabels)||s.labels||[]}getLabelItems(s=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(s))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Vn(this.options.beforeUpdate,[this])}update(s,e,i){let{beginAtZero:n,grace:a,ticks:u}=this.options,b=u.sampleSize;this.beforeUpdate(),this.maxWidth=s,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=LI(this,a,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let T=b<this.ticks.length;this._convertTicksToLabels(T?l5(this.ticks,b):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=F8(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),T&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let s=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,s=!s),this._startPixel=e,this._endPixel=i,this._reversePixels=s,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Vn(this.options.afterUpdate,[this])}beforeSetDimensions(){Vn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Vn(this.options.afterSetDimensions,[this])}_callHooks(s){this.chart.notifyPlugins(s,this.getContext()),Vn(this.options[s],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Vn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(s){let e=this.options.ticks,i,n,a;for(i=0,n=s.length;i<n;i++)a=s[i],a.label=Vn(e.callback,[a.value,i,s],this)}afterTickToLabelConversion(){Vn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Vn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let s=this.options,e=s.ticks,i=s5(this.ticks.length,s.ticks.maxTicksLimit),n=e.minRotation||0,a=e.maxRotation,u=n,b,T,D;if(!this._isVisible()||!e.display||n>=a||i<=1||!this.isHorizontal()){this.labelRotation=n;return}let R=this._getLabelSizes(),U=R.widest.width,Y=R.highest.height,oe=Qa(this.chart.width-U,0,this.maxWidth);b=s.offset?this.maxWidth/i:oe/(i-1),U+6>b&&(b=oe/(i-(s.offset?.5:1)),T=this.maxHeight-Pm(s.grid)-e.padding-c5(s.title,this.chart.options.font),D=Math.sqrt(U*U+Y*Y),u=Ig(Math.min(Math.asin(Qa((R.highest.height+6)/b,-1,1)),Math.asin(Qa(T/D,-1,1))-Math.asin(Qa(Y/D,-1,1)))),u=Math.max(n,Math.min(a,u))),this.labelRotation=u}afterCalculateLabelRotation(){Vn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Vn(this.options.beforeFit,[this])}fit(){let s={width:0,height:0},{chart:e,options:{ticks:i,title:n,grid:a}}=this,u=this._isVisible(),b=this.isHorizontal();if(u){let T=c5(n,e.options.font);if(b?(s.width=this.maxWidth,s.height=Pm(a)+T):(s.height=this.maxHeight,s.width=Pm(a)+T),i.display&&this.ticks.length){let{first:D,last:R,widest:U,highest:Y}=this._getLabelSizes(),oe=i.padding*2,J=Kr(this.labelRotation),ke=Math.cos(J),Te=Math.sin(J);if(b){let qe=i.mirror?0:Te*U.width+ke*Y.height;s.height=Math.min(this.maxHeight,s.height+qe+oe)}else{let qe=i.mirror?0:ke*U.width+Te*Y.height;s.width=Math.min(this.maxWidth,s.width+qe+oe)}this._calculatePadding(D,R,Te,ke)}}this._handleMargins(),b?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=s.height):(this.width=s.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(s,e,i,n){let{ticks:{align:a,padding:u},position:b}=this.options,T=this.labelRotation!==0,D=b!=="top"&&this.axis==="x";if(this.isHorizontal()){let R=this.getPixelForTick(0)-this.left,U=this.right-this.getPixelForTick(this.ticks.length-1),Y=0,oe=0;T?D?(Y=n*s.width,oe=i*e.height):(Y=i*s.height,oe=n*e.width):a==="start"?oe=e.width:a==="end"?Y=s.width:a!=="inner"&&(Y=s.width/2,oe=e.width/2),this.paddingLeft=Math.max((Y-R+u)*this.width/(this.width-R),0),this.paddingRight=Math.max((oe-U+u)*this.width/(this.width-U),0)}else{let R=e.height/2,U=s.height/2;a==="start"?(R=0,U=s.height):a==="end"&&(R=e.height,U=0),this.paddingTop=R+u,this.paddingBottom=U+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Vn(this.options.afterFit,[this])}isHorizontal(){let{axis:s,position:e}=this.options;return e==="top"||e==="bottom"||s==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(s){this.beforeTickToLabelConversion(),this.generateTickLabels(s);let e,i;for(e=0,i=s.length;e<i;e++)an(s[e].label)&&(s.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let s=this._labelSizes;if(!s){let e=this.options.ticks.sampleSize,i=this.ticks;e<i.length&&(i=l5(i,e)),this._labelSizes=s=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return s}_computeLabelSizes(s,e,i){let{ctx:n,_longestTextCache:a}=this,u=[],b=[],T=Math.floor(e/s5(e,i)),D=0,R=0,U,Y,oe,J,ke,Te,qe,et,bt,xt,lt;for(U=0;U<e;U+=T){if(J=s[U].label,ke=this._resolveTickFontOptions(U),n.font=Te=ke.string,qe=a[Te]=a[Te]||{data:{},gc:[]},et=ke.lineHeight,bt=xt=0,!an(J)&&!jn(J))bt=wm(n,qe.data,qe.gc,bt,J),xt=et;else if(jn(J))for(Y=0,oe=J.length;Y<oe;++Y)lt=J[Y],!an(lt)&&!jn(lt)&&(bt=wm(n,qe.data,qe.gc,bt,lt),xt+=et);u.push(bt),b.push(xt),D=Math.max(bt,D),R=Math.max(xt,R)}j8(a,e);let vt=u.indexOf(D),qt=b.indexOf(R),Mt=Jt=>({width:u[Jt]||0,height:b[Jt]||0});return{first:Mt(0),last:Mt(e-1),widest:Mt(vt),highest:Mt(qt),widths:u,heights:b}}getLabelForValue(s){return s}getPixelForValue(s,e){return NaN}getValueForPixel(s){}getPixelForTick(s){let e=this.ticks;return s<0||s>e.length-1?null:this.getPixelForValue(e[s].value)}getPixelForDecimal(s){this._reversePixels&&(s=1-s);let e=this._startPixel+s*this._length;return xI(this._alignToPixels?kc(this.chart,e,0):e)}getDecimalForPixel(s){let e=(s-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:s,max:e}=this;return s<0&&e<0?e:s>0&&e>0?s:0}getContext(s){let e=this.ticks||[];if(s>=0&&s<e.length){let i=e[s];return i.$context||(i.$context=U8(this.getContext(),s,i))}return this.$context||(this.$context=G8(this.chart.getContext(),this))}_tickSize(){let s=this.options.ticks,e=Kr(this.labelRotation),i=Math.abs(Math.cos(e)),n=Math.abs(Math.sin(e)),a=this._getLabelSizes(),u=s.autoSkipPadding||0,b=a?a.widest.width+u:0,T=a?a.highest.height+u:0;return this.isHorizontal()?T*i>b*n?b/i:T/n:T*n<b*i?T/i:b/n}_isVisible(){let s=this.options.display;return s!=="auto"?!!s:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(s){let e=this.axis,i=this.chart,n=this.options,{grid:a,position:u,border:b}=n,T=a.offset,D=this.isHorizontal(),U=this.ticks.length+(T?1:0),Y=Pm(a),oe=[],J=b.setContext(this.getContext()),ke=J.display?J.width:0,Te=ke/2,qe=function(en){return kc(i,en,ke)},et,bt,xt,lt,vt,qt,Mt,Jt,mi,hi,Si,Pn;if(u==="top")et=qe(this.bottom),qt=this.bottom-Y,Jt=et-Te,hi=qe(s.top)+Te,Pn=s.bottom;else if(u==="bottom")et=qe(this.top),hi=s.top,Pn=qe(s.bottom)-Te,qt=et+Te,Jt=this.top+Y;else if(u==="left")et=qe(this.right),vt=this.right-Y,Mt=et-Te,mi=qe(s.left)+Te,Si=s.right;else if(u==="right")et=qe(this.left),mi=s.left,Si=qe(s.right)-Te,vt=et+Te,Mt=this.left+Y;else if(e==="x"){if(u==="center")et=qe((s.top+s.bottom)/2+.5);else if($i(u)){let en=Object.keys(u)[0],ui=u[en];et=qe(this.chart.scales[en].getPixelForValue(ui))}hi=s.top,Pn=s.bottom,qt=et+Te,Jt=qt+Y}else if(e==="y"){if(u==="center")et=qe((s.left+s.right)/2);else if($i(u)){let en=Object.keys(u)[0],ui=u[en];et=qe(this.chart.scales[en].getPixelForValue(ui))}vt=et-Te,Mt=vt-Y,mi=s.left,Si=s.right}let Aa=Di(n.ticks.maxTicksLimit,U),Mi=Math.max(1,Math.ceil(U/Aa));for(bt=0;bt<U;bt+=Mi){let en=this.getContext(bt),ui=a.setContext(en),Oa=b.setContext(en),Cn=ui.lineWidth,Bo=ui.color,Or=Oa.dash||[],wo=Oa.dashOffset,oa=ui.tickWidth,Ta=ui.tickColor,lo=ui.tickBorderDash||[],$n=ui.tickBorderDashOffset;xt=H8(this,bt,T),xt!==void 0&&(lt=kc(i,xt,Cn),D?vt=Mt=mi=Si=lt:qt=Jt=hi=Pn=lt,oe.push({tx1:vt,ty1:qt,tx2:Mt,ty2:Jt,x1:mi,y1:hi,x2:Si,y2:Pn,width:Cn,color:Bo,borderDash:Or,borderDashOffset:wo,tickWidth:oa,tickColor:Ta,tickBorderDash:lo,tickBorderDashOffset:$n}))}return this._ticksLength=U,this._borderValue=et,oe}_computeLabelItems(s){let e=this.axis,i=this.options,{position:n,ticks:a}=i,u=this.isHorizontal(),b=this.ticks,{align:T,crossAlign:D,padding:R,mirror:U}=a,Y=Pm(i.grid),oe=Y+R,J=U?-R:oe,ke=-Kr(this.labelRotation),Te=[],qe,et,bt,xt,lt,vt,qt,Mt,Jt,mi,hi,Si,Pn="middle";if(n==="top")vt=this.bottom-J,qt=this._getXAxisLabelAlignment();else if(n==="bottom")vt=this.top+J,qt=this._getXAxisLabelAlignment();else if(n==="left"){let Mi=this._getYAxisLabelAlignment(Y);qt=Mi.textAlign,lt=Mi.x}else if(n==="right"){let Mi=this._getYAxisLabelAlignment(Y);qt=Mi.textAlign,lt=Mi.x}else if(e==="x"){if(n==="center")vt=(s.top+s.bottom)/2+oe;else if($i(n)){let Mi=Object.keys(n)[0],en=n[Mi];vt=this.chart.scales[Mi].getPixelForValue(en)+oe}qt=this._getXAxisLabelAlignment()}else if(e==="y"){if(n==="center")lt=(s.left+s.right)/2-oe;else if($i(n)){let Mi=Object.keys(n)[0],en=n[Mi];lt=this.chart.scales[Mi].getPixelForValue(en)}qt=this._getYAxisLabelAlignment(Y).textAlign}e==="y"&&(T==="start"?Pn="top":T==="end"&&(Pn="bottom"));let Aa=this._getLabelSizes();for(qe=0,et=b.length;qe<et;++qe){bt=b[qe],xt=bt.label;let Mi=a.setContext(this.getContext(qe));Mt=this.getPixelForTick(qe)+a.labelOffset,Jt=this._resolveTickFontOptions(qe),mi=Jt.lineHeight,hi=jn(xt)?xt.length:1;let en=hi/2,ui=Mi.color,Oa=Mi.textStrokeColor,Cn=Mi.textStrokeWidth,Bo=qt;u?(lt=Mt,qt==="inner"&&(qe===et-1?Bo=this.options.reverse?"left":"right":qe===0?Bo=this.options.reverse?"right":"left":Bo="center"),n==="top"?D==="near"||ke!==0?Si=-hi*mi+mi/2:D==="center"?Si=-Aa.highest.height/2-en*mi+mi:Si=-Aa.highest.height+mi/2:D==="near"||ke!==0?Si=mi/2:D==="center"?Si=Aa.highest.height/2-en*mi:Si=Aa.highest.height-hi*mi,U&&(Si*=-1),ke!==0&&!Mi.showLabelBackdrop&&(lt+=mi/2*Math.sin(ke))):(vt=Mt,Si=(1-hi)*mi/2);let Or;if(Mi.showLabelBackdrop){let wo=xo(Mi.backdropPadding),oa=Aa.heights[qe],Ta=Aa.widths[qe],lo=Si-wo.top,$n=0-wo.left;switch(Pn){case"middle":lo-=oa/2;break;case"bottom":lo-=oa;break}switch(qt){case"center":$n-=Ta/2;break;case"right":$n-=Ta;break;case"inner":qe===et-1?$n-=Ta:qe>0&&($n-=Ta/2);break}Or={left:$n,top:lo,width:Ta+wo.width,height:oa+wo.height,color:Mi.backdropColor}}Te.push({label:xt,font:Jt,textOffset:Si,options:{rotation:ke,color:ui,strokeColor:Oa,strokeWidth:Cn,textAlign:Bo,textBaseline:Pn,translation:[lt,vt],backdrop:Or}})}return Te}_getXAxisLabelAlignment(){let{position:s,ticks:e}=this.options;if(-Kr(this.labelRotation))return s==="top"?"left":"right";let n="center";return e.align==="start"?n="left":e.align==="end"?n="right":e.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(s){let{position:e,ticks:{crossAlign:i,mirror:n,padding:a}}=this.options,u=this._getLabelSizes(),b=s+a,T=u.widest.width,D,R;return e==="left"?n?(R=this.right+a,i==="near"?D="left":i==="center"?(D="center",R+=T/2):(D="right",R+=T)):(R=this.right-b,i==="near"?D="right":i==="center"?(D="center",R-=T/2):(D="left",R=this.left)):e==="right"?n?(R=this.left+a,i==="near"?D="right":i==="center"?(D="center",R-=T/2):(D="left",R-=T)):(R=this.left+b,i==="near"?D="left":i==="center"?(D="center",R+=T/2):(D="right",R=this.right)):D="right",{textAlign:D,x:R}}_computeLabelArea(){if(this.options.ticks.mirror)return;let s=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:s.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:s.width}}drawBackground(){let{ctx:s,options:{backgroundColor:e},left:i,top:n,width:a,height:u}=this;e&&(s.save(),s.fillStyle=e,s.fillRect(i,n,a,u),s.restore())}getLineWidthForValue(s){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let n=this.ticks.findIndex(a=>a.value===s);return n>=0?e.setContext(this.getContext(n)).lineWidth:0}drawGrid(s){let e=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(s)),a,u,b=(T,D,R)=>{!R.width||!R.color||(i.save(),i.lineWidth=R.width,i.strokeStyle=R.color,i.setLineDash(R.borderDash||[]),i.lineDashOffset=R.borderDashOffset,i.beginPath(),i.moveTo(T.x,T.y),i.lineTo(D.x,D.y),i.stroke(),i.restore())};if(e.display)for(a=0,u=n.length;a<u;++a){let T=n[a];e.drawOnChartArea&&b({x:T.x1,y:T.y1},{x:T.x2,y:T.y2},T),e.drawTicks&&b({x:T.tx1,y:T.ty1},{x:T.tx2,y:T.ty2},{color:T.tickColor,width:T.tickWidth,borderDash:T.tickBorderDash,borderDashOffset:T.tickBorderDashOffset})}}drawBorder(){let{chart:s,ctx:e,options:{border:i,grid:n}}=this,a=i.setContext(this.getContext()),u=i.display?a.width:0;if(!u)return;let b=n.setContext(this.getContext(0)).lineWidth,T=this._borderValue,D,R,U,Y;this.isHorizontal()?(D=kc(s,this.left,u)-u/2,R=kc(s,this.right,b)+b/2,U=Y=T):(U=kc(s,this.top,u)-u/2,Y=kc(s,this.bottom,b)+b/2,D=R=T),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(D,U),e.lineTo(R,Y),e.stroke(),e.restore()}drawLabels(s){if(!this.options.ticks.display)return;let i=this.ctx,n=this._computeLabelArea();n&&Cm(i,n);let a=this.getLabelItems(s);for(let u of a){let b=u.options,T=u.font,D=u.label,R=u.textOffset;Ec(i,D,0,R,T,b)}n&&Sm(i)}drawTitle(){let{ctx:s,options:{position:e,title:i,reverse:n}}=this;if(!i.display)return;let a=ja(i.font),u=xo(i.padding),b=i.align,T=a.lineHeight/2;e==="bottom"||e==="center"||$i(e)?(T+=u.bottom,jn(i.text)&&(T+=a.lineHeight*(i.text.length-1))):T+=u.top;let{titleX:D,titleY:R,maxWidth:U,rotation:Y}=K8(this,T,e,b);Ec(s,i.text,0,0,a,{color:i.color,maxWidth:U,rotation:Y,textAlign:$8(b,e,n),textBaseline:"middle",translation:[D,R]})}draw(s){this._isVisible()&&(this.drawBackground(),this.drawGrid(s),this.drawBorder(),this.drawTitle(),this.drawLabels(s))}_layers(){let s=this.options,e=s.ticks&&s.ticks.z||0,i=Di(s.grid&&s.grid.z,-1),n=Di(s.border&&s.border.z,0);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(s){let e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[],a,u;for(a=0,u=e.length;a<u;++a){let b=e[a];b[i]===this.id&&(!s||b.type===s)&&n.push(b)}return n}_resolveTickFontOptions(s){let e=this.options.ticks.setContext(this.getContext(s));return ja(e.font)}_maxDigits(){let s=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/s}},Rp=class{constructor(s,e,i){this.type=s,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(s){return Object.prototype.isPrototypeOf.call(this.type.prototype,s.prototype)}register(s){let e=Object.getPrototypeOf(s),i;Q8(e)&&(i=this.register(e));let n=this.items,a=s.id,u=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+s);return a in n||(n[a]=s,W8(s,u,i),this.override&&ba.override(s.id,s.overrides)),u}get(s){return this.items[s]}unregister(s){let e=this.items,i=s.id,n=this.scope;i in e&&delete e[i],n&&i in ba[n]&&(delete ba[n][i],this.override&&delete Mc[i])}};function W8(t,s,e){let i=kp(Object.create(null),[e?ba.get(e):{},ba.get(s),t.defaults]);ba.set(s,i),t.defaultRoutes&&Z8(s,t.defaultRoutes),t.descriptors&&ba.describe(s,t.descriptors)}function Z8(t,s){Object.keys(s).forEach(e=>{let i=e.split("."),n=i.pop(),a=[t].concat(i).join("."),u=s[e].split("."),b=u.pop(),T=u.join(".");ba.route(a,n,T,b)})}function Q8(t){return"id"in t&&"defaults"in t}var Sy=class{constructor(){this.controllers=new Rp(Ac,"datasets",!0),this.elements=new Rp(ds,"elements"),this.plugins=new Rp(Object,"plugins"),this.scales=new Rp(Jd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...s){this._each("register",s)}remove(...s){this._each("unregister",s)}addControllers(...s){this._each("register",s,this.controllers)}addElements(...s){this._each("register",s,this.elements)}addPlugins(...s){this._each("register",s,this.plugins)}addScales(...s){this._each("register",s,this.scales)}getController(s){return this._get(s,this.controllers,"controller")}getElement(s){return this._get(s,this.elements,"element")}getPlugin(s){return this._get(s,this.plugins,"plugin")}getScale(s){return this._get(s,this.scales,"scale")}removeControllers(...s){this._each("unregister",s,this.controllers)}removeElements(...s){this._each("unregister",s,this.elements)}removePlugins(...s){this._each("unregister",s,this.plugins)}removeScales(...s){this._each("unregister",s,this.scales)}_each(s,e,i){[...e].forEach(n=>{let a=i||this._getRegistryForType(n);i||a.isForType(n)||a===this.plugins&&n.id?this._exec(s,a,n):wn(n,u=>{let b=i||this._getRegistryForType(u);this._exec(s,b,u)})})}_exec(s,e,i){let n=wg(s);Vn(i["before"+n],[],i),e[s](i),Vn(i["after"+n],[],i)}_getRegistryForType(s){for(let e=0;e<this._typedRegistries.length;e++){let i=this._typedRegistries[e];if(i.isForType(s))return i}return this.plugins}_get(s,e,i){let n=e.get(s);if(n===void 0)throw new Error('"'+s+'" is not a registered '+i+".");return n}},Ns=new Sy,My=class{constructor(){this._init=[]}notify(s,e,i,n){e==="beforeInit"&&(this._init=this._createDescriptors(s,!0),this._notify(this._init,s,"install"));let a=n?this._descriptors(s).filter(n):this._descriptors(s),u=this._notify(a,s,e,i);return e==="afterDestroy"&&(this._notify(a,s,"stop"),this._notify(this._init,s,"uninstall")),u}_notify(s,e,i,n){n=n||{};for(let a of s){let u=a.plugin,b=u[i],T=[e,n,a.options];if(Vn(b,T,u)===!1&&n.cancelable)return!1}return!0}invalidate(){an(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(s){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(s);return this._notifyStateChanges(s),e}_createDescriptors(s,e){let i=s&&s.config,n=Di(i.options&&i.options.plugins,{}),a=X8(i);return n===!1&&!e?[]:J8(s,a,n,e)}_notifyStateChanges(s){let e=this._oldCache||[],i=this._cache,n=(a,u)=>a.filter(b=>!u.some(T=>b.plugin.id===T.plugin.id));this._notify(n(e,i),s,"stop"),this._notify(n(i,e),s,"start")}};function X8(t){let s={},e=[],i=Object.keys(Ns.plugins.items);for(let a=0;a<i.length;a++)e.push(Ns.getPlugin(i[a]));let n=t.plugins||[];for(let a=0;a<n.length;a++){let u=n[a];e.indexOf(u)===-1&&(e.push(u),s[u.id]=!0)}return{plugins:e,localIds:s}}function Y8(t,s){return!s&&t===!1?null:t===!0?{}:t}function J8(t,{plugins:s,localIds:e},i,n){let a=[],u=t.getContext();for(let b of s){let T=b.id,D=Y8(i[T],n);D!==null&&a.push({plugin:b,options:eP(t.config,{plugin:b,local:e[T]},D,u)})}return a}function eP(t,{plugin:s,local:e},i,n){let a=t.pluginScopeKeys(s),u=t.getOptionScopes(i,a);return e&&s.defaults&&u.push(s.defaults),t.createResolver(u,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ky(t,s){let e=ba.datasets[t]||{};return((s.datasets||{})[t]||{}).indexAxis||s.indexAxis||e.indexAxis||"x"}function tP(t,s){let e=t;return t==="_index_"?e=s:t==="_value_"&&(e=s==="x"?"y":"x"),e}function iP(t,s){return t===s?"_index_":"_value_"}function d5(t){if(t==="x"||t==="y"||t==="r")return t}function nP(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ey(t,...s){if(d5(t))return t;for(let e of s){let i=e.axis||nP(e.position)||t.length>1&&d5(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function u5(t,s,e){if(e[s+"AxisID"]===t)return{axis:s}}function aP(t,s){if(s.data&&s.data.datasets){let e=s.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(e.length)return u5(t,"x",e[0])||u5(t,"y",e[0])}return{}}function oP(t,s){let e=Mc[t.type]||{scales:{}},i=s.scales||{},n=ky(t.type,s),a=Object.create(null);return Object.keys(i).forEach(u=>{let b=i[u];if(!$i(b))return console.error(`Invalid scale configuration for scale: ${u}`);if(b._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);let T=Ey(u,b,aP(u,t),ba.scales[b.type]),D=iP(T,n),R=e.scales||{};a[u]=Pp(Object.create(null),[{axis:T},b,R[T],R[D]])}),t.data.datasets.forEach(u=>{let b=u.type||t.type,T=u.indexAxis||ky(b,s),R=(Mc[b]||{}).scales||{};Object.keys(R).forEach(U=>{let Y=tP(U,T),oe=u[Y+"AxisID"]||Y;a[oe]=a[oe]||Object.create(null),Pp(a[oe],[{axis:Y},i[oe],R[U]])})}),Object.keys(a).forEach(u=>{let b=a[u];Pp(b,[ba.scales[b.type],ba.scale])}),a}function Y5(t){let s=t.options||(t.options={});s.plugins=Di(s.plugins,{}),s.scales=oP(t,s)}function J5(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function rP(t){return t=t||{},t.data=J5(t.data),Y5(t),t}var p5=new Map,eT=new Set;function Fg(t,s){let e=p5.get(t);return e||(e=s(),p5.set(t,e),eT.add(e)),e}var Dm=(t,s,e)=>{let i=_l(s,e);i!==void 0&&t.add(i)},Py=class{constructor(s){this._config=rP(s),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(s){this._config.type=s}get data(){return this._config.data}set data(s){this._config.data=J5(s)}get options(){return this._config.options}set options(s){this._config.options=s}get plugins(){return this._config.plugins}update(){let s=this._config;this.clearCache(),Y5(s)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(s){return Fg(s,()=>[[`datasets.${s}`,""]])}datasetAnimationScopeKeys(s,e){return Fg(`${s}.transition.${e}`,()=>[[`datasets.${s}.transitions.${e}`,`transitions.${e}`],[`datasets.${s}`,""]])}datasetElementScopeKeys(s,e){return Fg(`${s}-${e}`,()=>[[`datasets.${s}.elements.${e}`,`datasets.${s}`,`elements.${e}`,""]])}pluginScopeKeys(s){let e=s.id,i=this.type;return Fg(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...s.additionalOptionScopes||[]]])}_cachedScopes(s,e){let i=this._scopeCache,n=i.get(s);return(!n||e)&&(n=new Map,i.set(s,n)),n}getOptionScopes(s,e,i){let{options:n,type:a}=this,u=this._cachedScopes(s,i),b=u.get(e);if(b)return b;let T=new Set;e.forEach(R=>{s&&(T.add(s),R.forEach(U=>Dm(T,s,U))),R.forEach(U=>Dm(T,n,U)),R.forEach(U=>Dm(T,Mc[a]||{},U)),R.forEach(U=>Dm(T,ba,U)),R.forEach(U=>Dm(T,Sg,U))});let D=Array.from(T);return D.length===0&&D.push(Object.create(null)),eT.has(e)&&u.set(e,D),D}chartOptionScopes(){let{options:s,type:e}=this;return[s,Mc[e]||{},ba.datasets[e]||{},{type:e},ba,Sg]}resolveNamedOptions(s,e,i,n=[""]){let a={$shared:!0},{resolver:u,subPrefixes:b}=h5(this._resolverCache,s,n),T=u;if(lP(u,e)){a.$shared=!1,i=fl(i)?i():i;let D=this.createResolver(s,i,b);T=Wd(u,i,D)}for(let D of e)a[D]=T[D];return a}createResolver(s,e,i=[""],n){let{resolver:a}=h5(this._resolverCache,s,i);return $i(e)?Wd(a,e,void 0,n):a}};function h5(t,s,e){let i=t.get(s);i||(i=new Map,t.set(s,i));let n=e.join(),a=i.get(n);return a||(a={resolver:Eg(s,e),subPrefixes:e.filter(b=>!b.toLowerCase().includes("hover"))},i.set(n,a)),a}var sP=t=>$i(t)&&Object.getOwnPropertyNames(t).some(s=>fl(t[s]));function lP(t,s){let{isScriptable:e,isIndexable:i}=iy(t);for(let n of s){let a=e(n),u=i(n),b=(u||a)&&t[n];if(a&&(fl(b)||sP(b))||u&&jn(b))return!0}return!1}var cP="4.4.2",dP=["top","bottom","left","right","chartArea"];function m5(t,s){return t==="top"||t==="bottom"||dP.indexOf(t)===-1&&s==="x"}function f5(t,s){return function(e,i){return e[t]===i[t]?e[s]-i[s]:e[t]-i[t]}}function g5(t){let s=t.chart,e=s.options.animation;s.notifyPlugins("afterRender"),Vn(e&&e.onComplete,[t],s)}function uP(t){let s=t.chart,e=s.options.animation;Vn(e&&e.onProgress,[t],s)}function tT(t){return Pg()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var qg={},_5=t=>{let s=tT(t);return Object.values(qg).filter(e=>e.canvas===s).pop()};function pP(t,s,e){let i=Object.keys(t);for(let n of i){let a=+n;if(a>=s){let u=t[n];delete t[n],(e>0||a>s)&&(t[a+e]=u)}}}function hP(t,s,e,i){return!e||t.type==="mouseout"?null:i?s:t}function Vg(t,s,e){return t.options.clip?t[e]:s[e]}function mP(t,s){let{xScale:e,yScale:i}=t;return e&&i?{left:Vg(e,s,"left"),right:Vg(e,s,"right"),top:Vg(i,s,"top"),bottom:Vg(i,s,"bottom")}:s}var Wg=(()=>{class t{static defaults=ba;static instances=qg;static overrides=Mc;static registry=Ns;static version=cP;static getChart=_5;static register(...e){Ns.add(...e),b5()}static unregister(...e){Ns.remove(...e),b5()}constructor(e,i){let n=this.config=new Py(i),a=tT(e),u=_5(a);if(u)throw new Error("Canvas is already in use. Chart with ID '"+u.id+"' must be destroyed before the canvas with ID '"+u.canvas.id+"' can be reused.");let b=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||O8(a)),this.platform.updateConfig(n);let T=this.platform.acquireContext(a,b.aspectRatio),D=T&&T.canvas,R=D&&D.height,U=D&&D.width;if(this.id=fI(),this.ctx=T,this.canvas=D,this.width=U,this.height=R,this._options=b,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new My,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=SI(Y=>this.update(Y),b.resizeDelay||0),this._dataChanges=[],qg[this.id]=this,!T||!D){console.error("Failed to create chart: can't acquire context from the given item");return}yl.listen(this,"complete",g5),yl.listen(this,"progress",uP),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:i},width:n,height:a,_aspectRatio:u}=this;return an(e)?i&&u?u:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ns}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ry(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Jb(this.canvas,this.ctx),this}stop(){return yl.stop(this),this}resize(e,i){yl.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){let n=this.options,a=this.canvas,u=n.maintainAspectRatio&&this.aspectRatio,b=this.platform.getMaximumSize(a,e,i,u),T=n.devicePixelRatio||this.platform.getDevicePixelRatio(),D=this.width?"resize":"attach";this.width=b.width,this.height=b.height,this._aspectRatio=this.aspectRatio,ry(this,T,!0)&&(this.notifyPlugins("resize",{size:b}),Vn(n.onResize,[this,b],this),this.attached&&this._doResize(D)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};wn(i,(n,a)=>{n.id=a})}buildOrUpdateScales(){let e=this.options,i=e.scales,n=this.scales,a=Object.keys(n).reduce((b,T)=>(b[T]=!1,b),{}),u=[];i&&(u=u.concat(Object.keys(i).map(b=>{let T=i[b],D=Ey(b,T),R=D==="r",U=D==="x";return{options:T,dposition:R?"chartArea":U?"bottom":"left",dtype:R?"radialLinear":U?"category":"linear"}}))),wn(u,b=>{let T=b.options,D=T.id,R=Ey(D,T),U=Di(T.type,b.dtype);(T.position===void 0||m5(T.position,R)!==m5(b.dposition))&&(T.position=b.dposition),a[D]=!0;let Y=null;if(D in n&&n[D].type===U)Y=n[D];else{let oe=Ns.getScale(U);Y=new oe({id:D,type:U,ctx:this.ctx,chart:this}),n[Y.id]=Y}Y.init(T,e)}),wn(a,(b,T)=>{b||delete n[T]}),wn(n,b=>{Ro.configure(this,b,b.options),Ro.addBox(this,b)})}_updateMetasets(){let e=this._metasets,i=this.data.datasets.length,n=e.length;if(e.sort((a,u)=>a.index-u.index),n>i){for(let a=i;a<n;++a)this._destroyDatasetMeta(a);e.splice(i,n-i)}this._sortedMetasets=e.slice(0).sort(f5("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((n,a)=>{i.filter(u=>u===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){let e=[],i=this.data.datasets,n,a;for(this._removeUnreferencedMetasets(),n=0,a=i.length;n<a;n++){let u=i[n],b=this.getDatasetMeta(n),T=u.type||this.config.type;if(b.type&&b.type!==T&&(this._destroyDatasetMeta(n),b=this.getDatasetMeta(n)),b.type=T,b.indexAxis=u.indexAxis||ky(T,this.options),b.order=u.order||0,b.index=n,b.label=""+u.label,b.visible=this.isDatasetVisible(n),b.controller)b.controller.updateIndex(n),b.controller.linkScales();else{let D=Ns.getController(T),{datasetElementType:R,dataElementType:U}=ba.datasets[T];Object.assign(D,{dataElementType:Ns.getElement(U),datasetElementType:R&&Ns.getElement(R)}),b.controller=new D(this,n),e.push(b.controller)}}return this._updateMetasets(),e}_resetElements(){wn(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let i=this.config;i.update();let n=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let u=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let b=0;for(let R=0,U=this.data.datasets.length;R<U;R++){let{controller:Y}=this.getDatasetMeta(R),oe=!a&&u.indexOf(Y)===-1;Y.buildOrUpdateElements(oe),b=Math.max(+Y.getMaxOverflow(),b)}b=this._minPadding=n.layout.autoPadding?b:0,this._updateLayout(b),a||wn(u,R=>{R.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(f5("z","_idx"));let{_active:T,_lastEvent:D}=this;D?this._eventHandler(D,!0):T.length&&this._updateHoverStyles(T,T,!0),this.render()}_updateScales(){wn(this.scales,e=>{Ro.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,i=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!Nb(i,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(let{method:n,start:a,count:u}of i){let b=n==="_removeElements"?-u:u;pP(e,a,b)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let i=this.data.datasets.length,n=u=>new Set(e.filter(b=>b[0]===u).map((b,T)=>T+","+b.splice(1).join(","))),a=n(0);for(let u=1;u<i;u++)if(!Nb(a,n(u)))return;return Array.from(a).map(u=>u.split(",")).map(u=>({method:u[1],start:+u[2],count:+u[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ro.update(this,this.width,this.height,e);let i=this.chartArea,n=i.width<=0||i.height<=0;this._layers=[],wn(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,u)=>{a._idx=u}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let i=0,n=this.data.datasets.length;i<n;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,n=this.data.datasets.length;i<n;++i)this._updateDataset(i,fl(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){let n=this.getDatasetMeta(e),a={meta:n,index:e,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(i),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(yl.has(this)?this.attached&&!yl.running(this)&&yl.start(this):(this.draw(),g5({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:n,height:a}=this._resizeBeforeDraw;this._resize(n,a),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let i=this._sortedMetasets,n=[],a,u;for(a=0,u=i.length;a<u;++a){let b=i[a];(!e||b.visible)&&n.push(b)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let i=this.ctx,n=e._clip,a=!n.disabled,u=mP(e,this.chartArea),b={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",b)!==!1&&(a&&Cm(i,{left:n.left===!1?0:u.left-n.left,right:n.right===!1?this.width:u.right+n.right,top:n.top===!1?0:u.top-n.top,bottom:n.bottom===!1?this.height:u.bottom+n.bottom}),e.controller.draw(),a&&Sm(i),b.cancelable=!1,this.notifyPlugins("afterDatasetDraw",b))}isPointInArea(e){return Vs(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,n,a){let u=f8.modes[i];return typeof u=="function"?u(this,e,n,a):[]}getDatasetMeta(e){let i=this.data.datasets[e],n=this._metasets,a=n.filter(u=>u&&u._dataset===i).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=bl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let i=this.data.datasets[e];if(!i)return!1;let n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!i.hidden}setDatasetVisibility(e,i){let n=this.getDatasetMeta(e);n.hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,n){let a=n?"show":"hide",u=this.getDatasetMeta(e),b=u.controller._resolveAnimations(void 0,a);Dp(i)?(u.data[i].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),b.update(u,{visible:n}),this.update(T=>T.datasetIndex===e?a:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){let i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),yl.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Jb(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete qg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,i=this.platform,n=(u,b)=>{i.addEventListener(this,u,b),e[u]=b},a=(u,b,T)=>{u.offsetX=b,u.offsetY=T,this._eventHandler(u)};wn(this.options.events,u=>n(u,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,i=this.platform,n=(D,R)=>{i.addEventListener(this,D,R),e[D]=R},a=(D,R)=>{e[D]&&(i.removeEventListener(this,D,R),delete e[D])},u=(D,R)=>{this.canvas&&this.resize(D,R)},b,T=()=>{a("attach",T),this.attached=!0,this.resize(),n("resize",u),n("detach",b)};b=()=>{this.attached=!1,a("resize",u),this._stop(),this._resize(0,0),n("attach",T)},i.isAttached(this.canvas)?T():b()}unbindEvents(){wn(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},wn(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,n){let a=n?"set":"remove",u,b,T,D;for(i==="dataset"&&(u=this.getDatasetMeta(e[0].datasetIndex),u.controller["_"+a+"DatasetHoverStyle"]()),T=0,D=e.length;T<D;++T){b=e[T];let R=b&&this.getDatasetMeta(b.datasetIndex).controller;R&&R[a+"HoverStyle"](b.element,b.datasetIndex,b.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let i=this._active||[],n=e.map(({datasetIndex:u,index:b})=>{let T=this.getDatasetMeta(u);if(!T)throw new Error("No dataset found at index "+u);return{datasetIndex:u,element:T.data[b],index:b}});!Im(n,i)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,i))}notifyPlugins(e,i,n){return this._plugins.notify(this,e,i,n)}isPluginEnabled(e){return this._plugins._cache.filter(i=>i.plugin.id===e).length===1}_updateHoverStyles(e,i,n){let a=this.options.hover,u=(D,R)=>D.filter(U=>!R.some(Y=>U.datasetIndex===Y.datasetIndex&&U.index===Y.index)),b=u(i,e),T=n?e:u(e,i);b.length&&this.updateHoverStyle(b,a.mode,!1),T.length&&a.mode&&this.updateHoverStyle(T,a.mode,!0)}_eventHandler(e,i){let n={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},a=b=>(b.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;let u=this._handleEvent(e,i,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(u||n.changed)&&this.render(),this}_handleEvent(e,i,n){let{_active:a=[],options:u}=this,b=i,T=this._getActiveElements(e,a,n,b),D=bI(e),R=hP(e,this._lastEvent,n,D);n&&(this._lastEvent=null,Vn(u.onHover,[e,T,this],this),D&&Vn(u.onClick,[e,T,this],this));let U=!Im(T,a);return(U||i)&&(this._active=T,this._updateHoverStyles(T,a,i)),this._lastEvent=R,U}_getActiveElements(e,i,n,a){if(e.type==="mouseout")return[];if(!n)return i;let u=this.options.hover;return this.getElementsAtEventForMode(e,u.mode,u,a)}}return t})();function b5(){return wn(Wg.instances,t=>t._plugins.invalidate())}function fP(t,s,e){let{startAngle:i,pixelMargin:n,x:a,y:u,outerRadius:b,innerRadius:T}=s,D=n/b;t.beginPath(),t.arc(a,u,b,i-D,e+D),T>n?(D=n/T,t.arc(a,u,T,e+D,i-D,!0)):t.arc(a,u,n,e+Ia,i-Ia),t.closePath(),t.clip()}function gP(t){return kg(t,["outerStart","outerEnd","innerStart","innerEnd"])}function _P(t,s,e,i){let n=gP(t.options.borderRadius),a=(e-s)/2,u=Math.min(a,i*s/2),b=T=>{let D=(e-Math.min(a,T))*i/2;return Qa(T,0,Math.min(a,D))};return{outerStart:b(n.outerStart),outerEnd:b(n.outerEnd),innerStart:Qa(n.innerStart,0,u),innerEnd:Qa(n.innerEnd,0,u)}}function zp(t,s,e,i){return{x:e+t*Math.cos(s),y:i+t*Math.sin(s)}}function Ug(t,s,e,i,n,a){let{x:u,y:b,startAngle:T,pixelMargin:D,innerRadius:R}=s,U=Math.max(s.outerRadius+i+e-D,0),Y=R>0?R+i+e+D:0,oe=0,J=n-T;if(i){let Mi=R>0?R-i:0,en=U>0?U-i:0,ui=(Mi+en)/2,Oa=ui!==0?J*ui/(ui+i):J;oe=(J-Oa)/2}let ke=Math.max(.001,J*U-e/Gn)/U,Te=(J-ke)/2,qe=T+Te+oe,et=n-Te-oe,{outerStart:bt,outerEnd:xt,innerStart:lt,innerEnd:vt}=_P(s,Y,U,et-qe),qt=U-bt,Mt=U-xt,Jt=qe+bt/qt,mi=et-xt/Mt,hi=Y+lt,Si=Y+vt,Pn=qe+lt/hi,Aa=et-vt/Si;if(t.beginPath(),a){let Mi=(Jt+mi)/2;if(t.arc(u,b,U,Jt,Mi),t.arc(u,b,U,Mi,mi),xt>0){let Cn=zp(Mt,mi,u,b);t.arc(Cn.x,Cn.y,xt,mi,et+Ia)}let en=zp(Si,et,u,b);if(t.lineTo(en.x,en.y),vt>0){let Cn=zp(Si,Aa,u,b);t.arc(Cn.x,Cn.y,vt,et+Ia,Aa+Math.PI)}let ui=(et-vt/Y+(qe+lt/Y))/2;if(t.arc(u,b,Y,et-vt/Y,ui,!0),t.arc(u,b,Y,ui,qe+lt/Y,!0),lt>0){let Cn=zp(hi,Pn,u,b);t.arc(Cn.x,Cn.y,lt,Pn+Math.PI,qe-Ia)}let Oa=zp(qt,qe,u,b);if(t.lineTo(Oa.x,Oa.y),bt>0){let Cn=zp(qt,Jt,u,b);t.arc(Cn.x,Cn.y,bt,qe-Ia,Jt)}}else{t.moveTo(u,b);let Mi=Math.cos(Jt)*U+u,en=Math.sin(Jt)*U+b;t.lineTo(Mi,en);let ui=Math.cos(mi)*U+u,Oa=Math.sin(mi)*U+b;t.lineTo(ui,Oa)}t.closePath()}function bP(t,s,e,i,n){let{fullCircles:a,startAngle:u,circumference:b}=s,T=s.endAngle;if(a){Ug(t,s,e,i,T,n);for(let D=0;D<a;++D)t.fill();isNaN(b)||(T=u+(b%Un||Un))}return Ug(t,s,e,i,T,n),t.fill(),T}function yP(t,s,e,i,n){let{fullCircles:a,startAngle:u,circumference:b,options:T}=s,{borderWidth:D,borderJoinStyle:R,borderDash:U,borderDashOffset:Y}=T,oe=T.borderAlign==="inner";if(!D)return;t.setLineDash(U||[]),t.lineDashOffset=Y,oe?(t.lineWidth=D*2,t.lineJoin=R||"round"):(t.lineWidth=D,t.lineJoin=R||"bevel");let J=s.endAngle;if(a){Ug(t,s,e,i,J,n);for(let ke=0;ke<a;++ke)t.stroke();isNaN(b)||(J=u+(b%Un||Un))}oe&&fP(t,s,J),a||(Ug(t,s,e,i,J,n),t.stroke())}var Dy=class extends ds{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:s=>s!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(s){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,e,i){let n=this.getProps(["x","y"],i),{angle:a,distance:u}=Gb(n,{x:s,y:e}),{startAngle:b,endAngle:T,innerRadius:D,outerRadius:R,circumference:U}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),Y=(this.options.spacing+this.options.borderWidth)/2,J=Di(U,T-b)>=Un||Ap(a,b,T),ke=Rs(u,D+Y,R+Y);return J&&ke}getCenterPoint(s){let{x:e,y:i,startAngle:n,endAngle:a,innerRadius:u,outerRadius:b}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:T,spacing:D}=this.options,R=(n+a)/2,U=(u+b+D+T)/2;return{x:e+Math.cos(R)*U,y:i+Math.sin(R)*U}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){let{options:e,circumference:i}=this,n=(e.offset||0)/4,a=(e.spacing||0)/2,u=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>Un?Math.floor(i/Un):0,i===0||this.innerRadius<0||this.outerRadius<0)return;s.save();let b=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(b)*n,Math.sin(b)*n);let T=1-Math.sin(Math.min(Gn,i||0)),D=n*T;s.fillStyle=e.backgroundColor,s.strokeStyle=e.borderColor,bP(s,this,D,a,u),yP(s,this,D,a,u),s.restore()}};function iT(t,s,e=s){t.lineCap=Di(e.borderCapStyle,s.borderCapStyle),t.setLineDash(Di(e.borderDash,s.borderDash)),t.lineDashOffset=Di(e.borderDashOffset,s.borderDashOffset),t.lineJoin=Di(e.borderJoinStyle,s.borderJoinStyle),t.lineWidth=Di(e.borderWidth,s.borderWidth),t.strokeStyle=Di(e.borderColor,s.borderColor)}function vP(t,s,e){t.lineTo(e.x,e.y)}function xP(t){return t.stepped?PI:t.tension||t.cubicInterpolationMode==="monotone"?DI:vP}function nT(t,s,e={}){let i=t.length,{start:n=0,end:a=i-1}=e,{start:u,end:b}=s,T=Math.max(n,u),D=Math.min(a,b),R=n<u&&a<u||n>b&&a>b;return{count:i,start:T,loop:s.loop,ilen:D<T&&!R?i+D-T:D-T}}function wP(t,s,e,i){let{points:n,options:a}=s,{count:u,start:b,loop:T,ilen:D}=nT(n,e,i),R=xP(a),{move:U=!0,reverse:Y}=i||{},oe,J,ke;for(oe=0;oe<=D;++oe)J=n[(b+(Y?D-oe:oe))%u],!J.skip&&(U?(t.moveTo(J.x,J.y),U=!1):R(t,ke,J,Y,a.stepped),ke=J);return T&&(J=n[(b+(Y?D:0))%u],R(t,ke,J,Y,a.stepped)),!!T}function IP(t,s,e,i){let n=s.points,{count:a,start:u,ilen:b}=nT(n,e,i),{move:T=!0,reverse:D}=i||{},R=0,U=0,Y,oe,J,ke,Te,qe,et=xt=>(u+(D?b-xt:xt))%a,bt=()=>{ke!==Te&&(t.lineTo(R,Te),t.lineTo(R,ke),t.lineTo(R,qe))};for(T&&(oe=n[et(0)],t.moveTo(oe.x,oe.y)),Y=0;Y<=b;++Y){if(oe=n[et(Y)],oe.skip)continue;let xt=oe.x,lt=oe.y,vt=xt|0;vt===J?(lt<ke?ke=lt:lt>Te&&(Te=lt),R=(U*R+xt)/++U):(bt(),t.lineTo(xt,lt),J=vt,U=0,ke=Te=lt),qe=lt}bt()}function Ly(t){let s=t.options,e=s.borderDash&&s.borderDash.length;return!t._decimated&&!t._loop&&!s.tension&&s.cubicInterpolationMode!=="monotone"&&!s.stepped&&!e?IP:wP}function TP(t){return t.stepped?NI:t.tension||t.cubicInterpolationMode==="monotone"?qI:Sc}function CP(t,s,e,i){let n=s._path;n||(n=s._path=new Path2D,s.path(n,e,i)&&n.closePath()),iT(t,s.options),t.stroke(n)}function SP(t,s,e,i){let{segments:n,options:a}=s,u=Ly(s);for(let b of n)iT(t,a,b.style),t.beginPath(),u(t,s,b,{start:e,end:e+i-1})&&t.closePath(),t.stroke()}var MP=typeof Path2D=="function";function kP(t,s,e,i){MP&&!s.options.segment?CP(t,s,e,i):SP(t,s,e,i)}var Zg=(()=>{class t extends ds{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){let n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){let a=n.spanGaps?this._loop:this._fullLoop;zI(this._points,n,e,a,i),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=jI(this,this.options.segment))}first(){let e=this.segments,i=this.points;return e.length&&i[e[0].start]}last(){let e=this.segments,i=this.points,n=e.length;return n&&i[e[n-1].end]}interpolate(e,i){let n=this.options,a=e[i],u=this.points,b=uy(this,{property:i,start:a,end:a});if(!b.length)return;let T=[],D=TP(n),R,U;for(R=0,U=b.length;R<U;++R){let{start:Y,end:oe}=b[R],J=u[Y],ke=u[oe];if(J===ke){T.push(J);continue}let Te=Math.abs((a-J[i])/(ke[i]-J[i])),qe=D(J,ke,Te,n.stepped);qe[i]=e[i],T.push(qe)}return T.length===1?T[0]:T}pathSegment(e,i,n){return Ly(this)(e,this,i,n)}path(e,i,n){let a=this.segments,u=Ly(this),b=this._loop;i=i||0,n=n||this.points.length-i;for(let T of a)b&=u(e,this,T,{start:i,end:i+n-1});return!!b}draw(e,i,n,a){let u=this.options||{};(this.points||[]).length&&u.borderWidth&&(e.save(),kP(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t})();function y5(t,s,e,i){let n=t.options,{[e]:a}=t.getProps([e],i);return Math.abs(s-a)<n.radius+n.hitRadius}var EP=(()=>{class t extends ds{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,n){let a=this.options,{x:u,y:b}=this.getProps(["x","y"],n);return Math.pow(e-u,2)+Math.pow(i-b,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,i){return y5(this,e,"x",i)}inYRange(e,i){return y5(this,e,"y",i)}getCenterPoint(e){let{x:i,y:n}=this.getProps(["x","y"],e);return{x:i,y:n}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);let n=i&&e.borderWidth||0;return(i+n)*2}draw(e,i){let n=this.options;this.skip||n.radius<.1||!Vs(this,i,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Mg(e,n,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return t})();function aT(t,s){let{x:e,y:i,base:n,width:a,height:u}=t.getProps(["x","y","base","width","height"],s),b,T,D,R,U;return t.horizontal?(U=u/2,b=Math.min(e,n),T=Math.max(e,n),D=i-U,R=i+U):(U=a/2,b=e-U,T=e+U,D=Math.min(i,n),R=Math.max(i,n)),{left:b,top:D,right:T,bottom:R}}function Lc(t,s,e,i){return t?0:Qa(s,e,i)}function PP(t,s,e){let i=t.options.borderWidth,n=t.borderSkipped,a=ty(i);return{t:Lc(n.top,a.top,0,e),r:Lc(n.right,a.right,0,s),b:Lc(n.bottom,a.bottom,0,e),l:Lc(n.left,a.left,0,s)}}function DP(t,s,e){let{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),n=t.options.borderRadius,a=Pc(n),u=Math.min(s,e),b=t.borderSkipped,T=i||$i(n);return{topLeft:Lc(!T||b.top||b.left,a.topLeft,0,u),topRight:Lc(!T||b.top||b.right,a.topRight,0,u),bottomLeft:Lc(!T||b.bottom||b.left,a.bottomLeft,0,u),bottomRight:Lc(!T||b.bottom||b.right,a.bottomRight,0,u)}}function LP(t){let s=aT(t),e=s.right-s.left,i=s.bottom-s.top,n=PP(t,e/2,i/2),a=DP(t,e/2,i/2);return{outer:{x:s.left,y:s.top,w:e,h:i,radius:a},inner:{x:s.left+n.l,y:s.top+n.t,w:e-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,a.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(n.b,n.r))}}}}function by(t,s,e,i){let n=s===null,a=e===null,b=t&&!(n&&a)&&aT(t,i);return b&&(n||Rs(s,b.left,b.right))&&(a||Rs(e,b.top,b.bottom))}function AP(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function OP(t,s){t.rect(s.x,s.y,s.w,s.h)}function yy(t,s,e={}){let i=t.x!==e.x?-s:0,n=t.y!==e.y?-s:0,a=(t.x+t.w!==e.x+e.w?s:0)-i,u=(t.y+t.h!==e.y+e.h?s:0)-n;return{x:t.x+i,y:t.y+n,w:t.w+a,h:t.h+u,radius:t.radius}}var Ay=class extends ds{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(s){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,s&&Object.assign(this,s)}draw(s){let{inflateAmount:e,options:{borderColor:i,backgroundColor:n}}=this,{inner:a,outer:u}=LP(this),b=AP(u.radius)?Fp:OP;s.save(),(u.w!==a.w||u.h!==a.h)&&(s.beginPath(),b(s,yy(u,e,a)),s.clip(),b(s,yy(a,-e,u)),s.fillStyle=i,s.fill("evenodd")),s.beginPath(),b(s,yy(a,e)),s.fillStyle=n,s.fill(),s.restore()}inRange(s,e,i){return by(this,s,e,i)}inXRange(s,e){return by(this,s,null,e)}inYRange(s,e){return by(this,null,s,e)}getCenterPoint(s){let{x:e,y:i,base:n,horizontal:a}=this.getProps(["x","y","base","horizontal"],s);return{x:a?(e+n)/2:e,y:a?i:(i+n)/2}}getRange(s){return s==="x"?this.width/2:this.height/2}},FP=Object.freeze({__proto__:null,ArcElement:Dy,BarElement:Ay,LineElement:Zg,PointElement:EP}),Oy=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],v5=Oy.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function oT(t){return Oy[t%Oy.length]}function rT(t){return v5[t%v5.length]}function VP(t,s){return t.borderColor=oT(s),t.backgroundColor=rT(s),++s}function zP(t,s){return t.backgroundColor=t.data.map(()=>oT(s++)),s}function RP(t,s){return t.backgroundColor=t.data.map(()=>rT(s++)),s}function BP(t){let s=0;return(e,i)=>{let n=t.getDatasetMeta(i).controller;n instanceof Hy?s=zP(e,s):n instanceof K5?s=RP(e,s):n&&(s=VP(e,s))}}function x5(t){let s;for(s in t)if(t[s].borderColor||t[s].backgroundColor)return!0;return!1}function NP(t){return t&&(t.borderColor||t.backgroundColor)}var qP={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,s,e){if(!e.enabled)return;let{data:{datasets:i},options:n}=t.config,{elements:a}=n;if(!e.forceOverride&&(x5(i)||NP(n)||a&&x5(a)))return;let u=BP(t);i.forEach(u)}};function HP(t,s,e,i,n){let a=n.samples||i;if(a>=e)return t.slice(s,s+e);let u=[],b=(e-2)/(a-2),T=0,D=s+e-1,R=s,U,Y,oe,J,ke;for(u[T++]=t[R],U=0;U<a-2;U++){let Te=0,qe=0,et,bt=Math.floor((U+1)*b)+1+s,xt=Math.min(Math.floor((U+2)*b)+1,e)+s,lt=xt-bt;for(et=bt;et<xt;et++)Te+=t[et].x,qe+=t[et].y;Te/=lt,qe/=lt;let vt=Math.floor(U*b)+1+s,qt=Math.min(Math.floor((U+1)*b)+1,e)+s,{x:Mt,y:Jt}=t[R];for(oe=J=-1,et=vt;et<qt;et++)J=.5*Math.abs((Mt-Te)*(t[et].y-Jt)-(Mt-t[et].x)*(qe-Jt)),J>oe&&(oe=J,Y=t[et],ke=et);u[T++]=Y,R=ke}return u[T++]=t[D],u}function jP(t,s,e,i){let n=0,a=0,u,b,T,D,R,U,Y,oe,J,ke,Te=[],qe=s+e-1,et=t[s].x,xt=t[qe].x-et;for(u=s;u<s+e;++u){b=t[u],T=(b.x-et)/xt*i,D=b.y;let lt=T|0;if(lt===R)D<J?(J=D,U=u):D>ke&&(ke=D,Y=u),n=(a*n+b.x)/++a;else{let vt=u-1;if(!an(U)&&!an(Y)){let qt=Math.min(U,Y),Mt=Math.max(U,Y);qt!==oe&&qt!==vt&&Te.push(Ma(ri({},t[qt]),{x:n})),Mt!==oe&&Mt!==vt&&Te.push(Ma(ri({},t[Mt]),{x:n}))}u>0&&vt!==oe&&Te.push(t[vt]),Te.push(b),R=lt,a=0,J=ke=D,U=Y=oe=u}}return Te}function sT(t){if(t._decimated){let s=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:s})}}function w5(t){t.data.datasets.forEach(s=>{sT(s)})}function GP(t,s){let e=s.length,i=0,n,{iScale:a}=t,{min:u,max:b,minDefined:T,maxDefined:D}=a.getUserBounds();return T&&(i=Qa(Fs(s,a.axis,u).lo,0,e-1)),D?n=Qa(Fs(s,a.axis,b).hi+1,i,e)-i:n=e-i,{start:i,count:n}}var UP={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,s,e)=>{if(!e.enabled){w5(t);return}let i=t.width;t.data.datasets.forEach((n,a)=>{let{_data:u,indexAxis:b}=n,T=t.getDatasetMeta(a),D=u||n.data;if(Vp([b,t.options.indexAxis])==="y"||!T.controller.supportsDecimation)return;let R=t.scales[T.xAxisID];if(R.type!=="linear"&&R.type!=="time"||t.options.parsing)return;let{start:U,count:Y}=GP(T,D),oe=e.threshold||4*i;if(Y<=oe){sT(n);return}an(u)&&(n._data=D,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(ke){this._data=ke}}));let J;switch(e.algorithm){case"lttb":J=HP(D,U,Y,i,e);break;case"min-max":J=jP(D,U,Y,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}n._decimated=J})},destroy(t){w5(t)}};function $P(t,s,e){let i=t.segments,n=t.points,a=s.points,u=[];for(let b of i){let{start:T,end:D}=b;D=jy(T,D,n);let R=Fy(e,n[T],n[D],b.loop);if(!s.segments){u.push({source:b,target:R,start:n[T],end:n[D]});continue}let U=uy(s,R);for(let Y of U){let oe=Fy(e,a[Y.start],a[Y.end],Y.loop),J=dy(b,n,oe);for(let ke of J)u.push({source:ke,target:Y,start:{[e]:I5(R,oe,"start",Math.max)},end:{[e]:I5(R,oe,"end",Math.min)}})}}return u}function Fy(t,s,e,i){if(i)return;let n=s[t],a=e[t];return t==="angle"&&(n=ur(n),a=ur(a)),{property:t,start:n,end:a}}function KP(t,s){let{x:e=null,y:i=null}=t||{},n=s.points,a=[];return s.segments.forEach(({start:u,end:b})=>{b=jy(u,b,n);let T=n[u],D=n[b];i!==null?(a.push({x:T.x,y:i}),a.push({x:D.x,y:i})):e!==null&&(a.push({x:e,y:T.y}),a.push({x:e,y:D.y}))}),a}function jy(t,s,e){for(;s>t;s--){let i=e[s];if(!isNaN(i.x)&&!isNaN(i.y))break}return s}function I5(t,s,e,i){return t&&s?i(t[e],s[e]):t?t[e]:s?s[e]:0}function lT(t,s){let e=[],i=!1;return jn(t)?(i=!0,e=t):e=KP(t,s),e.length?new Zg({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function T5(t){return t&&t.fill!==!1}function WP(t,s,e){let n=t[s].fill,a=[s],u;if(!e)return n;for(;n!==!1&&a.indexOf(n)===-1;){if(!_a(n))return n;if(u=t[n],!u)return!1;if(u.visible)return n;a.push(n),n=u.fill}return!1}function ZP(t,s,e){let i=JP(t);if($i(i))return isNaN(i.value)?!1:i;let n=parseFloat(i);return _a(n)&&Math.floor(n)===n?QP(i[0],s,n,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function QP(t,s,e,i){return(t==="-"||t==="+")&&(e=s+e),e===s||e<0||e>=i?!1:e}function XP(t,s){let e=null;return t==="start"?e=s.bottom:t==="end"?e=s.top:$i(t)?e=s.getPixelForValue(t.value):s.getBasePixel&&(e=s.getBasePixel()),e}function YP(t,s,e){let i;return t==="start"?i=e:t==="end"?i=s.options.reverse?s.min:s.max:$i(t)?i=t.value:i=s.getBaseValue(),i}function JP(t){let s=t.options,e=s.fill,i=Di(e&&e.target,e);return i===void 0&&(i=!!s.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function eD(t){let{scale:s,index:e,line:i}=t,n=[],a=i.segments,u=i.points,b=tD(s,e);b.push(lT({x:null,y:s.bottom},i));for(let T=0;T<a.length;T++){let D=a[T];for(let R=D.start;R<=D.end;R++)iD(n,u[R],b)}return new Zg({points:n,options:{}})}function tD(t,s){let e=[],i=t.getMatchingVisibleMetas("line");for(let n=0;n<i.length;n++){let a=i[n];if(a.index===s)break;a.hidden||e.unshift(a.dataset)}return e}function iD(t,s,e){let i=[];for(let n=0;n<e.length;n++){let a=e[n],{first:u,last:b,point:T}=nD(a,s,"x");if(!(!T||u&&b)){if(u)i.unshift(T);else if(t.push(T),!b)break}}t.push(...i)}function nD(t,s,e){let i=t.interpolate(s,e);if(!i)return{};let n=i[e],a=t.segments,u=t.points,b=!1,T=!1;for(let D=0;D<a.length;D++){let R=a[D],U=u[R.start][e],Y=u[R.end][e];if(Rs(n,U,Y)){b=n===U,T=n===Y;break}}return{first:b,last:T,point:i}}var $g=class{constructor(s){this.x=s.x,this.y=s.y,this.radius=s.radius}pathSegment(s,e,i){let{x:n,y:a,radius:u}=this;return e=e||{start:0,end:Un},s.arc(n,a,u,e.end,e.start,!0),!i.bounds}interpolate(s){let{x:e,y:i,radius:n}=this,a=s.angle;return{x:e+Math.cos(a)*n,y:i+Math.sin(a)*n,angle:a}}};function aD(t){let{chart:s,fill:e,line:i}=t;if(_a(e))return oD(s,e);if(e==="stack")return eD(t);if(e==="shape")return!0;let n=rD(t);return n instanceof $g?n:lT(n,i)}function oD(t,s){let e=t.getDatasetMeta(s);return e&&t.isDatasetVisible(s)?e.dataset:null}function rD(t){return(t.scale||{}).getPointPositionForValue?lD(t):sD(t)}function sD(t){let{scale:s={},fill:e}=t,i=XP(e,s);if(_a(i)){let n=s.isHorizontal();return{x:n?i:null,y:n?null:i}}return null}function lD(t){let{scale:s,fill:e}=t,i=s.options,n=s.getLabels().length,a=i.reverse?s.max:s.min,u=YP(e,s,a),b=[];if(i.grid.circular){let T=s.getPointPositionForValue(0,a);return new $g({x:T.x,y:T.y,radius:s.getDistanceFromCenterForValue(u)})}for(let T=0;T<n;++T)b.push(s.getPointPositionForValue(T,u));return b}function vy(t,s,e){let i=aD(s),{line:n,scale:a,axis:u}=s,b=n.options,T=b.fill,D=b.backgroundColor,{above:R=D,below:U=D}=T||{};i&&n.points.length&&(Cm(t,e),cD(t,{line:n,target:i,above:R,below:U,area:e,scale:a,axis:u}),Sm(t))}function cD(t,s){let{line:e,target:i,above:n,below:a,area:u,scale:b}=s,T=e._loop?"angle":s.axis;t.save(),T==="x"&&a!==n&&(C5(t,i,u.top),S5(t,{line:e,target:i,color:n,scale:b,property:T}),t.restore(),t.save(),C5(t,i,u.bottom)),S5(t,{line:e,target:i,color:a,scale:b,property:T}),t.restore()}function C5(t,s,e){let{segments:i,points:n}=s,a=!0,u=!1;t.beginPath();for(let b of i){let{start:T,end:D}=b,R=n[T],U=n[jy(T,D,n)];a?(t.moveTo(R.x,R.y),a=!1):(t.lineTo(R.x,e),t.lineTo(R.x,R.y)),u=!!s.pathSegment(t,b,{move:u}),u?t.closePath():t.lineTo(U.x,e)}t.lineTo(s.first().x,e),t.closePath(),t.clip()}function S5(t,s){let{line:e,target:i,property:n,color:a,scale:u}=s,b=$P(e,i,n);for(let{source:T,target:D,start:R,end:U}of b){let{style:{backgroundColor:Y=a}={}}=T,oe=i!==!0;t.save(),t.fillStyle=Y,dD(t,u,oe&&Fy(n,R,U)),t.beginPath();let J=!!e.pathSegment(t,T),ke;if(oe){J?t.closePath():M5(t,i,U,n);let Te=!!i.pathSegment(t,D,{move:J,reverse:!0});ke=J&&Te,ke||M5(t,i,R,n)}t.closePath(),t.fill(ke?"evenodd":"nonzero"),t.restore()}}function dD(t,s,e){let{top:i,bottom:n}=s.chart.chartArea,{property:a,start:u,end:b}=e||{};a==="x"&&(t.beginPath(),t.rect(u,i,b-u,n-i),t.clip())}function M5(t,s,e,i){let n=s.interpolate(e,i);n&&t.lineTo(n.x,n.y)}var uD={id:"filler",afterDatasetsUpdate(t,s,e){let i=(t.data.datasets||[]).length,n=[],a,u,b,T;for(u=0;u<i;++u)a=t.getDatasetMeta(u),b=a.dataset,T=null,b&&b.options&&b instanceof Zg&&(T={visible:t.isDatasetVisible(u),index:u,fill:ZP(b,u,i),chart:t,axis:a.controller.options.indexAxis,scale:a.vScale,line:b}),a.$filler=T,n.push(T);for(u=0;u<i;++u)T=n[u],!(!T||T.fill===!1)&&(T.fill=WP(n,u,e.propagate))},beforeDraw(t,s,e){let i=e.drawTime==="beforeDraw",n=t.getSortedVisibleDatasetMetas(),a=t.chartArea;for(let u=n.length-1;u>=0;--u){let b=n[u].$filler;b&&(b.line.updateControlPoints(a,b.axis),i&&b.fill&&vy(t.ctx,b,a))}},beforeDatasetsDraw(t,s,e){if(e.drawTime!=="beforeDatasetsDraw")return;let i=t.getSortedVisibleDatasetMetas();for(let n=i.length-1;n>=0;--n){let a=i[n].$filler;T5(a)&&vy(t.ctx,a,t.chartArea)}},beforeDatasetDraw(t,s,e){let i=s.meta.$filler;!T5(i)||e.drawTime!=="beforeDatasetDraw"||vy(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},k5=(t,s)=>{let{boxHeight:e=s,boxWidth:i=s}=t;return t.usePointStyle&&(e=Math.min(e,s),i=t.pointStyleWidth||Math.min(i,s)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(s,e)}},pD=(t,s)=>t!==null&&s!==null&&t.datasetIndex===s.datasetIndex&&t.index===s.index,Kg=class extends ds{constructor(s){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,e,i){this.maxWidth=s,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let s=this.options.labels||{},e=Vn(s.generateLabels,[this.chart],this)||[];s.filter&&(e=e.filter(i=>s.filter(i,this.chart.data))),s.sort&&(e=e.sort((i,n)=>s.sort(i,n,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:s,ctx:e}=this;if(!s.display){this.width=this.height=0;return}let i=s.labels,n=ja(i.font),a=n.size,u=this._computeTitleHeight(),{boxWidth:b,itemHeight:T}=k5(i,a),D,R;e.font=n.string,this.isHorizontal()?(D=this.maxWidth,R=this._fitRows(u,a,b,T)+10):(R=this.maxHeight,D=this._fitCols(u,n,b,T)+10),this.width=Math.min(D,s.maxWidth||this.maxWidth),this.height=Math.min(R,s.maxHeight||this.maxHeight)}_fitRows(s,e,i,n){let{ctx:a,maxWidth:u,options:{labels:{padding:b}}}=this,T=this.legendHitBoxes=[],D=this.lineWidths=[0],R=n+b,U=s;a.textAlign="left",a.textBaseline="middle";let Y=-1,oe=-R;return this.legendItems.forEach((J,ke)=>{let Te=i+e/2+a.measureText(J.text).width;(ke===0||D[D.length-1]+Te+2*b>u)&&(U+=R,D[D.length-(ke>0?0:1)]=0,oe+=R,Y++),T[ke]={left:0,top:oe,row:Y,width:Te,height:n},D[D.length-1]+=Te+b}),U}_fitCols(s,e,i,n){let{ctx:a,maxHeight:u,options:{labels:{padding:b}}}=this,T=this.legendHitBoxes=[],D=this.columnSizes=[],R=u-s,U=b,Y=0,oe=0,J=0,ke=0;return this.legendItems.forEach((Te,qe)=>{let{itemWidth:et,itemHeight:bt}=hD(i,e,a,Te,n);qe>0&&oe+bt+2*b>R&&(U+=Y+b,D.push({width:Y,height:oe}),J+=Y+b,ke++,Y=oe=0),T[qe]={left:J,top:oe,col:ke,width:et,height:bt},Y=Math.max(Y,et),oe+=bt+b}),U+=Y,D.push({width:Y,height:oe}),U}adjustHitBoxes(){if(!this.options.display)return;let s=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:n},rtl:a}}=this,u=Qd(a,this.left,this.width);if(this.isHorizontal()){let b=0,T=vo(i,this.left+n,this.right-this.lineWidths[b]);for(let D of e)b!==D.row&&(b=D.row,T=vo(i,this.left+n,this.right-this.lineWidths[b])),D.top+=this.top+s+n,D.left=u.leftForLtr(u.x(T),D.width),T+=D.width+n}else{let b=0,T=vo(i,this.top+s+n,this.bottom-this.columnSizes[b].height);for(let D of e)D.col!==b&&(b=D.col,T=vo(i,this.top+s+n,this.bottom-this.columnSizes[b].height)),D.top=T,D.left+=this.left+n,D.left=u.leftForLtr(u.x(D.left),D.width),T+=D.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let s=this.ctx;Cm(s,this),this._draw(),Sm(s)}}_draw(){let{options:s,columnSizes:e,lineWidths:i,ctx:n}=this,{align:a,labels:u}=s,b=ba.color,T=Qd(s.rtl,this.left,this.width),D=ja(u.font),{padding:R}=u,U=D.size,Y=U/2,oe;this.drawTitle(),n.textAlign=T.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=D.string;let{boxWidth:J,boxHeight:ke,itemHeight:Te}=k5(u,U),qe=function(vt,qt,Mt){if(isNaN(J)||J<=0||isNaN(ke)||ke<0)return;n.save();let Jt=Di(Mt.lineWidth,1);if(n.fillStyle=Di(Mt.fillStyle,b),n.lineCap=Di(Mt.lineCap,"butt"),n.lineDashOffset=Di(Mt.lineDashOffset,0),n.lineJoin=Di(Mt.lineJoin,"miter"),n.lineWidth=Jt,n.strokeStyle=Di(Mt.strokeStyle,b),n.setLineDash(Di(Mt.lineDash,[])),u.usePointStyle){let mi={radius:ke*Math.SQRT2/2,pointStyle:Mt.pointStyle,rotation:Mt.rotation,borderWidth:Jt},hi=T.xPlus(vt,J/2),Si=qt+Y;ey(n,mi,hi,Si,u.pointStyleWidth&&J)}else{let mi=qt+Math.max((U-ke)/2,0),hi=T.leftForLtr(vt,J),Si=Pc(Mt.borderRadius);n.beginPath(),Object.values(Si).some(Pn=>Pn!==0)?Fp(n,{x:hi,y:mi,w:J,h:ke,radius:Si}):n.rect(hi,mi,J,ke),n.fill(),Jt!==0&&n.stroke()}n.restore()},et=function(vt,qt,Mt){Ec(n,Mt.text,vt,qt+Te/2,D,{strikethrough:Mt.hidden,textAlign:T.textAlign(Mt.textAlign)})},bt=this.isHorizontal(),xt=this._computeTitleHeight();bt?oe={x:vo(a,this.left+R,this.right-i[0]),y:this.top+R+xt,line:0}:oe={x:this.left+R,y:vo(a,this.top+xt+R,this.bottom-e[0].height),line:0},ly(this.ctx,s.textDirection);let lt=Te+R;this.legendItems.forEach((vt,qt)=>{n.strokeStyle=vt.fontColor,n.fillStyle=vt.fontColor;let Mt=n.measureText(vt.text).width,Jt=T.textAlign(vt.textAlign||(vt.textAlign=u.textAlign)),mi=J+Y+Mt,hi=oe.x,Si=oe.y;T.setWidth(this.width),bt?qt>0&&hi+mi+R>this.right&&(Si=oe.y+=lt,oe.line++,hi=oe.x=vo(a,this.left+R,this.right-i[oe.line])):qt>0&&Si+lt>this.bottom&&(hi=oe.x=hi+e[oe.line].width+R,oe.line++,Si=oe.y=vo(a,this.top+xt+R,this.bottom-e[oe.line].height));let Pn=T.x(hi);if(qe(Pn,Si,vt),hi=MI(Jt,hi+J+Y,bt?hi+mi:this.right,s.rtl),et(T.x(hi),Si,vt),bt)oe.x+=mi+R;else if(typeof vt.text!="string"){let Aa=D.lineHeight;oe.y+=cT(vt,Aa)+R}else oe.y+=lt}),cy(this.ctx,s.textDirection)}drawTitle(){let s=this.options,e=s.title,i=ja(e.font),n=xo(e.padding);if(!e.display)return;let a=Qd(s.rtl,this.left,this.width),u=this.ctx,b=e.position,T=i.size/2,D=n.top+T,R,U=this.left,Y=this.width;if(this.isHorizontal())Y=Math.max(...this.lineWidths),R=this.top+D,U=vo(s.align,U,this.right-Y);else{let J=this.columnSizes.reduce((ke,Te)=>Math.max(ke,Te.height),0);R=D+vo(s.align,this.top,this.bottom-J-s.labels.padding-this._computeTitleHeight())}let oe=vo(b,U,U+Y);u.textAlign=a.textAlign(Cg(b)),u.textBaseline="middle",u.strokeStyle=e.color,u.fillStyle=e.color,u.font=i.string,Ec(u,e.text,oe,R,i)}_computeTitleHeight(){let s=this.options.title,e=ja(s.font),i=xo(s.padding);return s.display?e.lineHeight+i.height:0}_getLegendItemAt(s,e){let i,n,a;if(Rs(s,this.left,this.right)&&Rs(e,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(n=a[i],Rs(s,n.left,n.left+n.width)&&Rs(e,n.top,n.top+n.height))return this.legendItems[i]}return null}handleEvent(s){let e=this.options;if(!gD(s.type,e))return;let i=this._getLegendItemAt(s.x,s.y);if(s.type==="mousemove"||s.type==="mouseout"){let n=this._hoveredItem,a=pD(n,i);n&&!a&&Vn(e.onLeave,[s,n,this],this),this._hoveredItem=i,i&&!a&&Vn(e.onHover,[s,i,this],this)}else i&&Vn(e.onClick,[s,i,this],this)}};function hD(t,s,e,i,n){let a=mD(i,t,s,e),u=fD(n,i,s.lineHeight);return{itemWidth:a,itemHeight:u}}function mD(t,s,e,i){let n=t.text;return n&&typeof n!="string"&&(n=n.reduce((a,u)=>a.length>u.length?a:u)),s+e.size/2+i.measureText(n).width}function fD(t,s,e){let i=t;return typeof s.text!="string"&&(i=cT(s,e)),i}function cT(t,s){let e=t.text?t.text.length:0;return s*e}function gD(t,s){return!!((t==="mousemove"||t==="mouseout")&&(s.onHover||s.onLeave)||s.onClick&&(t==="click"||t==="mouseup"))}var _D={id:"legend",_element:Kg,start(t,s,e){let i=t.legend=new Kg({ctx:t.ctx,options:e,chart:t});Ro.configure(t,i,e),Ro.addBox(t,i)},stop(t){Ro.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,s,e){let i=t.legend;Ro.configure(t,i,e),i.options=e},afterUpdate(t){let s=t.legend;s.buildLabels(),s.adjustHitBoxes()},afterEvent(t,s){s.replay||t.legend.handleEvent(s.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,s,e){let i=s.datasetIndex,n=e.chart;n.isDatasetVisible(i)?(n.hide(i),s.hidden=!0):(n.show(i),s.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let s=t.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:n,color:a,useBorderRadius:u,borderRadius:b}}=t.legend.options;return t._getSortedDatasetMetas().map(T=>{let D=T.controller.getStyle(e?0:void 0),R=xo(D.borderWidth);return{text:s[T.index].label,fillStyle:D.backgroundColor,fontColor:a,hidden:!T.visible,lineCap:D.borderCapStyle,lineDash:D.borderDash,lineDashOffset:D.borderDashOffset,lineJoin:D.borderJoinStyle,lineWidth:(R.width+R.height)/4,strokeStyle:D.borderColor,pointStyle:i||D.pointStyle,rotation:D.rotation,textAlign:n||D.textAlign,borderRadius:u&&(b||D.borderRadius),datasetIndex:T.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},Fm=class extends ds{constructor(s){super(),this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,e){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=s,this.height=this.bottom=e;let n=jn(i.text)?i.text.length:1;this._padding=xo(i.padding);let a=n*ja(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){let s=this.options.position;return s==="top"||s==="bottom"}_drawArgs(s){let{top:e,left:i,bottom:n,right:a,options:u}=this,b=u.align,T=0,D,R,U;return this.isHorizontal()?(R=vo(b,i,a),U=e+s,D=a-i):(u.position==="left"?(R=i+s,U=vo(b,n,e),T=Gn*-.5):(R=a-s,U=vo(b,e,n),T=Gn*.5),D=n-e),{titleX:R,titleY:U,maxWidth:D,rotation:T}}draw(){let s=this.ctx,e=this.options;if(!e.display)return;let i=ja(e.font),a=i.lineHeight/2+this._padding.top,{titleX:u,titleY:b,maxWidth:T,rotation:D}=this._drawArgs(a);Ec(s,e.text,0,0,i,{color:e.color,maxWidth:T,rotation:D,textAlign:Cg(e.align),textBaseline:"middle",translation:[u,b]})}};function bD(t,s){let e=new Fm({ctx:t.ctx,options:s,chart:t});Ro.configure(t,e,s),Ro.addBox(t,e),t.titleBlock=e}var yD={id:"title",_element:Fm,start(t,s,e){bD(t,e)},stop(t){let s=t.titleBlock;Ro.removeBox(t,s),delete t.titleBlock},beforeUpdate(t,s,e){let i=t.titleBlock;Ro.configure(t,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},zg=new WeakMap,vD={id:"subtitle",start(t,s,e){let i=new Fm({ctx:t.ctx,options:e,chart:t});Ro.configure(t,i,e),Ro.addBox(t,i),zg.set(t,i)},stop(t){Ro.removeBox(t,zg.get(t)),zg.delete(t)},beforeUpdate(t,s,e){let i=zg.get(t);Ro.configure(t,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Am={average(t){if(!t.length)return!1;let s,e,i=new Set,n=0,a=0;for(s=0,e=t.length;s<e;++s){let b=t[s].element;if(b&&b.hasValue()){let T=b.tooltipPosition();i.add(T.x),n+=T.y,++a}}return{x:[...i].reduce((b,T)=>b+T)/i.size,y:n/a}},nearest(t,s){if(!t.length)return!1;let e=s.x,i=s.y,n=Number.POSITIVE_INFINITY,a,u,b;for(a=0,u=t.length;a<u;++a){let T=t[a].element;if(T&&T.hasValue()){let D=T.getCenterPoint(),R=vg(s,D);R<n&&(n=R,b=T)}}if(b){let T=b.tooltipPosition();e=T.x,i=T.y}return{x:e,y:i}}};function Bs(t,s){return s&&(jn(s)?Array.prototype.push.apply(t,s):t.push(s)),t}function vl(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function xD(t,s){let{element:e,datasetIndex:i,index:n}=s,a=t.getDatasetMeta(i).controller,{label:u,value:b}=a.getLabelAndValue(n);return{chart:t,label:u,parsed:a.getParsed(n),raw:t.data.datasets[i].data[n],formattedValue:b,dataset:a.getDataset(),dataIndex:n,datasetIndex:i,element:e}}function E5(t,s){let e=t.chart.ctx,{body:i,footer:n,title:a}=t,{boxWidth:u,boxHeight:b}=s,T=ja(s.bodyFont),D=ja(s.titleFont),R=ja(s.footerFont),U=a.length,Y=n.length,oe=i.length,J=xo(s.padding),ke=J.height,Te=0,qe=i.reduce((xt,lt)=>xt+lt.before.length+lt.lines.length+lt.after.length,0);if(qe+=t.beforeBody.length+t.afterBody.length,U&&(ke+=U*D.lineHeight+(U-1)*s.titleSpacing+s.titleMarginBottom),qe){let xt=s.displayColors?Math.max(b,T.lineHeight):T.lineHeight;ke+=oe*xt+(qe-oe)*T.lineHeight+(qe-1)*s.bodySpacing}Y&&(ke+=s.footerMarginTop+Y*R.lineHeight+(Y-1)*s.footerSpacing);let et=0,bt=function(xt){Te=Math.max(Te,e.measureText(xt).width+et)};return e.save(),e.font=D.string,wn(t.title,bt),e.font=T.string,wn(t.beforeBody.concat(t.afterBody),bt),et=s.displayColors?u+2+s.boxPadding:0,wn(i,xt=>{wn(xt.before,bt),wn(xt.lines,bt),wn(xt.after,bt)}),et=0,e.font=R.string,wn(t.footer,bt),e.restore(),Te+=J.width,{width:Te,height:ke}}function wD(t,s){let{y:e,height:i}=s;return e<i/2?"top":e>t.height-i/2?"bottom":"center"}function ID(t,s,e,i){let{x:n,width:a}=i,u=e.caretSize+e.caretPadding;if(t==="left"&&n+a+u>s.width||t==="right"&&n-a-u<0)return!0}function TD(t,s,e,i){let{x:n,width:a}=e,{width:u,chartArea:{left:b,right:T}}=t,D="center";return i==="center"?D=n<=(b+T)/2?"left":"right":n<=a/2?D="left":n>=u-a/2&&(D="right"),ID(D,t,s,e)&&(D="center"),D}function P5(t,s,e){let i=e.yAlign||s.yAlign||wD(t,e);return{xAlign:e.xAlign||s.xAlign||TD(t,s,e,i),yAlign:i}}function CD(t,s){let{x:e,width:i}=t;return s==="right"?e-=i:s==="center"&&(e-=i/2),e}function SD(t,s,e){let{y:i,height:n}=t;return s==="top"?i+=e:s==="bottom"?i-=n+e:i-=n/2,i}function D5(t,s,e,i){let{caretSize:n,caretPadding:a,cornerRadius:u}=t,{xAlign:b,yAlign:T}=e,D=n+a,{topLeft:R,topRight:U,bottomLeft:Y,bottomRight:oe}=Pc(u),J=CD(s,b),ke=SD(s,T,D);return T==="center"?b==="left"?J+=D:b==="right"&&(J-=D):b==="left"?J-=Math.max(R,Y)+n:b==="right"&&(J+=Math.max(U,oe)+n),{x:Qa(J,0,i.width-s.width),y:Qa(ke,0,i.height-s.height)}}function Rg(t,s,e){let i=xo(e.padding);return s==="center"?t.x+t.width/2:s==="right"?t.x+t.width-i.right:t.x+i.left}function L5(t){return Bs([],vl(t))}function MD(t,s,e){return bl(t,{tooltip:s,tooltipItems:e,type:"tooltip"})}function A5(t,s){let e=s&&s.dataset&&s.dataset.tooltip&&s.dataset.tooltip.callbacks;return e?t.override(e):t}var dT={beforeTitle:zs,title(t){if(t.length>0){let s=t[0],e=s.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return s.dataset.label||"";if(s.label)return s.label;if(i>0&&s.dataIndex<i)return e[s.dataIndex]}return""},afterTitle:zs,beforeBody:zs,beforeLabel:zs,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let s=t.dataset.label||"";s&&(s+=": ");let e=t.formattedValue;return an(e)||(s+=e),s},labelColor(t){let e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:zs,afterBody:zs,beforeFooter:zs,footer:zs,afterFooter:zs};function hr(t,s,e,i){let n=t[s].call(e,i);return typeof n>"u"?dT[s].call(e,i):n}var O5=(()=>{class t extends ds{static positioners=Am;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let i=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&i.options.animation&&n.animations,u=new Hg(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(u)),u}getContext(){return this.$context||(this.$context=MD(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){let{callbacks:n}=i,a=hr(n,"beforeTitle",this,e),u=hr(n,"title",this,e),b=hr(n,"afterTitle",this,e),T=[];return T=Bs(T,vl(a)),T=Bs(T,vl(u)),T=Bs(T,vl(b)),T}getBeforeBody(e,i){return L5(hr(i.callbacks,"beforeBody",this,e))}getBody(e,i){let{callbacks:n}=i,a=[];return wn(e,u=>{let b={before:[],lines:[],after:[]},T=A5(n,u);Bs(b.before,vl(hr(T,"beforeLabel",this,u))),Bs(b.lines,hr(T,"label",this,u)),Bs(b.after,vl(hr(T,"afterLabel",this,u))),a.push(b)}),a}getAfterBody(e,i){return L5(hr(i.callbacks,"afterBody",this,e))}getFooter(e,i){let{callbacks:n}=i,a=hr(n,"beforeFooter",this,e),u=hr(n,"footer",this,e),b=hr(n,"afterFooter",this,e),T=[];return T=Bs(T,vl(a)),T=Bs(T,vl(u)),T=Bs(T,vl(b)),T}_createItems(e){let i=this._active,n=this.chart.data,a=[],u=[],b=[],T=[],D,R;for(D=0,R=i.length;D<R;++D)T.push(xD(this.chart,i[D]));return e.filter&&(T=T.filter((U,Y,oe)=>e.filter(U,Y,oe,n))),e.itemSort&&(T=T.sort((U,Y)=>e.itemSort(U,Y,n))),wn(T,U=>{let Y=A5(e.callbacks,U);a.push(hr(Y,"labelColor",this,U)),u.push(hr(Y,"labelPointStyle",this,U)),b.push(hr(Y,"labelTextColor",this,U))}),this.labelColors=a,this.labelPointStyles=u,this.labelTextColors=b,this.dataPoints=T,T}update(e,i){let n=this.options.setContext(this.getContext()),a=this._active,u,b=[];if(!a.length)this.opacity!==0&&(u={opacity:0});else{let T=Am[n.position].call(this,a,this._eventPosition);b=this._createItems(n),this.title=this.getTitle(b,n),this.beforeBody=this.getBeforeBody(b,n),this.body=this.getBody(b,n),this.afterBody=this.getAfterBody(b,n),this.footer=this.getFooter(b,n);let D=this._size=E5(this,n),R=Object.assign({},T,D),U=P5(this.chart,n,R),Y=D5(n,R,U,this.chart);this.xAlign=U.xAlign,this.yAlign=U.yAlign,u={opacity:1,x:Y.x,y:Y.y,width:D.width,height:D.height,caretX:T.x,caretY:T.y}}this._tooltipItems=b,this.$context=void 0,u&&this._resolveAnimations().update(this,u),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,n,a){let u=this.getCaretPosition(e,n,a);i.lineTo(u.x1,u.y1),i.lineTo(u.x2,u.y2),i.lineTo(u.x3,u.y3)}getCaretPosition(e,i,n){let{xAlign:a,yAlign:u}=this,{caretSize:b,cornerRadius:T}=n,{topLeft:D,topRight:R,bottomLeft:U,bottomRight:Y}=Pc(T),{x:oe,y:J}=e,{width:ke,height:Te}=i,qe,et,bt,xt,lt,vt;return u==="center"?(lt=J+Te/2,a==="left"?(qe=oe,et=qe-b,xt=lt+b,vt=lt-b):(qe=oe+ke,et=qe+b,xt=lt-b,vt=lt+b),bt=qe):(a==="left"?et=oe+Math.max(D,U)+b:a==="right"?et=oe+ke-Math.max(R,Y)-b:et=this.caretX,u==="top"?(xt=J,lt=xt-b,qe=et-b,bt=et+b):(xt=J+Te,lt=xt+b,qe=et+b,bt=et-b),vt=xt),{x1:qe,x2:et,x3:bt,y1:xt,y2:lt,y3:vt}}drawTitle(e,i,n){let a=this.title,u=a.length,b,T,D;if(u){let R=Qd(n.rtl,this.x,this.width);for(e.x=Rg(this,n.titleAlign,n),i.textAlign=R.textAlign(n.titleAlign),i.textBaseline="middle",b=ja(n.titleFont),T=n.titleSpacing,i.fillStyle=n.titleColor,i.font=b.string,D=0;D<u;++D)i.fillText(a[D],R.x(e.x),e.y+b.lineHeight/2),e.y+=b.lineHeight+T,D+1===u&&(e.y+=n.titleMarginBottom-T)}}_drawColorBox(e,i,n,a,u){let b=this.labelColors[n],T=this.labelPointStyles[n],{boxHeight:D,boxWidth:R}=u,U=ja(u.bodyFont),Y=Rg(this,"left",u),oe=a.x(Y),J=D<U.lineHeight?(U.lineHeight-D)/2:0,ke=i.y+J;if(u.usePointStyle){let Te={radius:Math.min(R,D)/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:1},qe=a.leftForLtr(oe,R)+R/2,et=ke+D/2;e.strokeStyle=u.multiKeyBackground,e.fillStyle=u.multiKeyBackground,Mg(e,Te,qe,et),e.strokeStyle=b.borderColor,e.fillStyle=b.backgroundColor,Mg(e,Te,qe,et)}else{e.lineWidth=$i(b.borderWidth)?Math.max(...Object.values(b.borderWidth)):b.borderWidth||1,e.strokeStyle=b.borderColor,e.setLineDash(b.borderDash||[]),e.lineDashOffset=b.borderDashOffset||0;let Te=a.leftForLtr(oe,R),qe=a.leftForLtr(a.xPlus(oe,1),R-2),et=Pc(b.borderRadius);Object.values(et).some(bt=>bt!==0)?(e.beginPath(),e.fillStyle=u.multiKeyBackground,Fp(e,{x:Te,y:ke,w:R,h:D,radius:et}),e.fill(),e.stroke(),e.fillStyle=b.backgroundColor,e.beginPath(),Fp(e,{x:qe,y:ke+1,w:R-2,h:D-2,radius:et}),e.fill()):(e.fillStyle=u.multiKeyBackground,e.fillRect(Te,ke,R,D),e.strokeRect(Te,ke,R,D),e.fillStyle=b.backgroundColor,e.fillRect(qe,ke+1,R-2,D-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,i,n){let{body:a}=this,{bodySpacing:u,bodyAlign:b,displayColors:T,boxHeight:D,boxWidth:R,boxPadding:U}=n,Y=ja(n.bodyFont),oe=Y.lineHeight,J=0,ke=Qd(n.rtl,this.x,this.width),Te=function(Jt){i.fillText(Jt,ke.x(e.x+J),e.y+oe/2),e.y+=oe+u},qe=ke.textAlign(b),et,bt,xt,lt,vt,qt,Mt;for(i.textAlign=b,i.textBaseline="middle",i.font=Y.string,e.x=Rg(this,qe,n),i.fillStyle=n.bodyColor,wn(this.beforeBody,Te),J=T&&qe!=="right"?b==="center"?R/2+U:R+2+U:0,lt=0,qt=a.length;lt<qt;++lt){for(et=a[lt],bt=this.labelTextColors[lt],i.fillStyle=bt,wn(et.before,Te),xt=et.lines,T&&xt.length&&(this._drawColorBox(i,e,lt,ke,n),oe=Math.max(Y.lineHeight,D)),vt=0,Mt=xt.length;vt<Mt;++vt)Te(xt[vt]),oe=Y.lineHeight;wn(et.after,Te)}J=0,oe=Y.lineHeight,wn(this.afterBody,Te),e.y-=u}drawFooter(e,i,n){let a=this.footer,u=a.length,b,T;if(u){let D=Qd(n.rtl,this.x,this.width);for(e.x=Rg(this,n.footerAlign,n),e.y+=n.footerMarginTop,i.textAlign=D.textAlign(n.footerAlign),i.textBaseline="middle",b=ja(n.footerFont),i.fillStyle=n.footerColor,i.font=b.string,T=0;T<u;++T)i.fillText(a[T],D.x(e.x),e.y+b.lineHeight/2),e.y+=b.lineHeight+n.footerSpacing}}drawBackground(e,i,n,a){let{xAlign:u,yAlign:b}=this,{x:T,y:D}=e,{width:R,height:U}=n,{topLeft:Y,topRight:oe,bottomLeft:J,bottomRight:ke}=Pc(a.cornerRadius);i.fillStyle=a.backgroundColor,i.strokeStyle=a.borderColor,i.lineWidth=a.borderWidth,i.beginPath(),i.moveTo(T+Y,D),b==="top"&&this.drawCaret(e,i,n,a),i.lineTo(T+R-oe,D),i.quadraticCurveTo(T+R,D,T+R,D+oe),b==="center"&&u==="right"&&this.drawCaret(e,i,n,a),i.lineTo(T+R,D+U-ke),i.quadraticCurveTo(T+R,D+U,T+R-ke,D+U),b==="bottom"&&this.drawCaret(e,i,n,a),i.lineTo(T+J,D+U),i.quadraticCurveTo(T,D+U,T,D+U-J),b==="center"&&u==="left"&&this.drawCaret(e,i,n,a),i.lineTo(T,D+Y),i.quadraticCurveTo(T,D,T+Y,D),i.closePath(),i.fill(),a.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){let i=this.chart,n=this.$animations,a=n&&n.x,u=n&&n.y;if(a||u){let b=Am[e.position].call(this,this._active,this._eventPosition);if(!b)return;let T=this._size=E5(this,e),D=Object.assign({},b,this._size),R=P5(i,e,D),U=D5(e,D,R,i);(a._to!==U.x||u._to!==U.y)&&(this.xAlign=R.xAlign,this.yAlign=R.yAlign,this.width=T.width,this.height=T.height,this.caretX=b.x,this.caretY=b.y,this._resolveAnimations().update(this,U))}}_willRender(){return!!this.opacity}draw(e){let i=this.options.setContext(this.getContext()),n=this.opacity;if(!n)return;this._updateAnimationTarget(i);let a={width:this.width,height:this.height},u={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;let b=xo(i.padding),T=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&T&&(e.save(),e.globalAlpha=n,this.drawBackground(u,e,a,i),ly(e,i.textDirection),u.y+=b.top,this.drawTitle(u,e,i),this.drawBody(u,e,i),this.drawFooter(u,e,i),cy(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){let n=this._active,a=e.map(({datasetIndex:T,index:D})=>{let R=this.chart.getDatasetMeta(T);if(!R)throw new Error("Cannot find a dataset at index "+T);return{datasetIndex:T,element:R.data[D],index:D}}),u=!Im(n,a),b=this._positionChanged(a,i);(u||b)&&(this._active=a,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,n=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let a=this.options,u=this._active||[],b=this._getActiveElements(e,u,i,n),T=this._positionChanged(b,e),D=i||!Im(b,u)||T;return D&&(this._active=b,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),D}_getActiveElements(e,i,n,a){let u=this.options;if(e.type==="mouseout")return[];if(!a)return i.filter(T=>this.chart.data.datasets[T.datasetIndex]&&this.chart.getDatasetMeta(T.datasetIndex).controller.getParsed(T.index)!==void 0);let b=this.chart.getElementsAtEventForMode(e,u.mode,u,n);return u.reverse&&b.reverse(),b}_positionChanged(e,i){let{caretX:n,caretY:a,options:u}=this,b=Am[u.position].call(this,e,i);return b!==!1&&(n!==b.x||a!==b.y)}}return t})(),kD={id:"tooltip",_element:O5,positioners:Am,afterInit(t,s,e){e&&(t.tooltip=new O5({chart:t,options:e}))},beforeUpdate(t,s,e){t.tooltip&&t.tooltip.initialize(e)},reset(t,s,e){t.tooltip&&t.tooltip.initialize(e)},afterDraw(t){let s=t.tooltip;if(s&&s._willRender()){let e={tooltip:s};if(t.notifyPlugins("beforeTooltipDraw",Ma(ri({},e),{cancelable:!0}))===!1)return;s.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",e)}},afterEvent(t,s){if(t.tooltip){let e=s.replay;t.tooltip.handleEvent(s.event,e,s.inChartArea)&&(s.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,s)=>s.bodyFont.size,boxWidth:(t,s)=>s.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:dT},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},ED=Object.freeze({__proto__:null,Colors:qP,Decimation:UP,Filler:uD,Legend:_D,SubTitle:vD,Title:yD,Tooltip:kD}),PD=(t,s,e,i)=>(typeof s=="string"?(e=t.push(s)-1,i.unshift({index:e,label:s})):isNaN(s)&&(e=null),e);function DD(t,s,e,i){let n=t.indexOf(s);if(n===-1)return PD(t,s,e,i);let a=t.lastIndexOf(s);return n!==a?e:n}var LD=(t,s)=>t===null?null:Qa(Math.round(t),0,s);function F5(t){let s=this.getLabels();return t>=0&&t<s.length?s[t]:t}var AD=(()=>{class t extends Jd{static id="category";static defaults={ticks:{callback:F5}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let i=this._addedLabels;if(i.length){let n=this.getLabels();for(let{index:a,label:u}of i)n[a]===u&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(an(e))return null;let n=this.getLabels();return i=isFinite(i)&&n[i]===e?i:DD(n,e,Di(i,e),this._addedLabels),LD(i,n.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),i||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){let e=this.min,i=this.max,n=this.options.offset,a=[],u=this.getLabels();u=e===0&&i===u.length-1?u:u.slice(e,i+1),this._valueRange=Math.max(u.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let b=e;b<=i;b++)a.push({value:b});return a}getLabelForValue(e){return F5.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return t})();function OD(t,s){let e=[],{bounds:n,step:a,min:u,max:b,precision:T,count:D,maxTicks:R,maxDigits:U,includeBounds:Y}=t,oe=a||1,J=R-1,{min:ke,max:Te}=s,qe=!an(u),et=!an(b),bt=!an(D),xt=(Te-ke)/(U+1),lt=qb((Te-ke)/J/oe)*oe,vt,qt,Mt,Jt;if(lt<1e-14&&!qe&&!et)return[{value:ke},{value:Te}];Jt=Math.ceil(Te/lt)-Math.floor(ke/lt),Jt>J&&(lt=qb(Jt*lt/J/oe)*oe),an(T)||(vt=Math.pow(10,T),lt=Math.ceil(lt*vt)/vt),n==="ticks"?(qt=Math.floor(ke/lt)*lt,Mt=Math.ceil(Te/lt)*lt):(qt=ke,Mt=Te),qe&&et&&a&&vI((b-u)/a,lt/1e3)?(Jt=Math.round(Math.min((b-u)/lt,R)),lt=(b-u)/Jt,qt=u,Mt=b):bt?(qt=qe?u:qt,Mt=et?b:Mt,Jt=D-1,lt=(Mt-qt)/Jt):(Jt=(Mt-qt)/lt,Lp(Jt,Math.round(Jt),lt/1e3)?Jt=Math.round(Jt):Jt=Math.ceil(Jt));let mi=Math.max(jb(lt),jb(qt));vt=Math.pow(10,an(T)?mi:T),qt=Math.round(qt*vt)/vt,Mt=Math.round(Mt*vt)/vt;let hi=0;for(qe&&(Y&&qt!==u?(e.push({value:u}),qt<u&&hi++,Lp(Math.round((qt+hi*lt)*vt)/vt,u,V5(u,xt,t))&&hi++):qt<u&&hi++);hi<Jt;++hi){let Si=Math.round((qt+hi*lt)*vt)/vt;if(et&&Si>b)break;e.push({value:Si})}return et&&Y&&Mt!==b?e.length&&Lp(e[e.length-1].value,b,V5(b,xt,t))?e[e.length-1].value=b:e.push({value:b}):(!et||Mt===b)&&e.push({value:Mt}),e}function V5(t,s,{horizontal:e,minRotation:i}){let n=Kr(i),a=(e?Math.sin(n):Math.cos(n))||.001,u=.75*s*(""+t).length;return Math.min(s/a,u)}var Bp=class extends Jd{constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(s,e){return an(s)||(typeof s=="number"||s instanceof Number)&&!isFinite(+s)?null:+s}handleTickRangeOptions(){let{beginAtZero:s}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:n,max:a}=this,u=T=>n=e?n:T,b=T=>a=i?a:T;if(s){let T=cs(n),D=cs(a);T<0&&D<0?b(0):T>0&&D>0&&u(0)}if(n===a){let T=a===0?1:Math.abs(a*.05);b(a+T),s||u(n-T)}this.min=n,this.max=a}getTickLimit(){let s=this.options.ticks,{maxTicksLimit:e,stepSize:i}=s,n;return i?(n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),e=e||11),e&&(n=Math.min(e,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let s=this.options,e=s.ticks,i=this.getTickLimit();i=Math.max(2,i);let n={maxTicks:i,bounds:s.bounds,min:s.min,max:s.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,u=OD(n,a);return s.bounds==="ticks"&&Hb(u,this,"value"),s.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){let s=this.ticks,e=this.min,i=this.max;if(super.configure(),this.options.offset&&s.length){let n=(i-e)/Math.max(s.length-1,1)/2;e-=n,i+=n}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(s){return Op(s,this.chart.options.locale,this.options.ticks.format)}},Vy=class extends Bp{static id="linear";static defaults={ticks:{callback:Tm.formatters.numeric}};determineDataLimits(){let{min:s,max:e}=this.getMinMax(!0);this.min=_a(s)?s:0,this.max=_a(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let s=this.isHorizontal(),e=s?this.width:this.height,i=Kr(this.options.ticks.minRotation),n=(s?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/n))}getPixelForValue(s){return s===null?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getValueForPixel(s){return this._startValue+this.getDecimalForPixel(s)*this._valueRange}},Vm=t=>Math.floor(gl(t)),Yd=(t,s)=>Math.pow(10,Vm(t)+s);function z5(t){return t/Math.pow(10,Vm(t))===1}function R5(t,s,e){let i=Math.pow(10,e),n=Math.floor(t/i);return Math.ceil(s/i)-n}function FD(t,s){let e=s-t,i=Vm(e);for(;R5(t,s,i)>10;)i++;for(;R5(t,s,i)<10;)i--;return Math.min(i,Vm(t))}function VD(t,{min:s,max:e}){s=pr(t.min,s);let i=[],n=Vm(s),a=FD(s,e),u=a<0?Math.pow(10,Math.abs(a)):1,b=Math.pow(10,a),T=n>a?Math.pow(10,n):0,D=Math.round((s-T)*u)/u,R=Math.floor((s-T)/b/10)*b*10,U=Math.floor((D-R)/Math.pow(10,a)),Y=pr(t.min,Math.round((T+R+U*Math.pow(10,a))*u)/u);for(;Y<e;)i.push({value:Y,major:z5(Y),significand:U}),U>=10?U=U<15?15:20:U++,U>=20&&(a++,U=2,u=a>=0?1:u),Y=Math.round((T+R+U*Math.pow(10,a))*u)/u;let oe=pr(t.max,Y);return i.push({value:oe,major:z5(oe),significand:U}),i}var zy=class extends Jd{static id="logarithmic";static defaults={ticks:{callback:Tm.formatters.logarithmic,major:{enabled:!0}}};constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(s,e){let i=Bp.prototype.parse.apply(this,[s,e]);if(i===0){this._zero=!0;return}return _a(i)&&i>0?i:null}determineDataLimits(){let{min:s,max:e}=this.getMinMax(!0);this.min=_a(s)?Math.max(0,s):null,this.max=_a(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!_a(this._userMin)&&(this.min=s===Yd(this.min,0)?Yd(this.min,-1):Yd(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:s,maxDefined:e}=this.getUserBounds(),i=this.min,n=this.max,a=b=>i=s?i:b,u=b=>n=e?n:b;i===n&&(i<=0?(a(1),u(10)):(a(Yd(i,-1)),u(Yd(n,1)))),i<=0&&a(Yd(n,-1)),n<=0&&u(Yd(i,1)),this.min=i,this.max=n}buildTicks(){let s=this.options,e={min:this._userMin,max:this._userMax},i=VD(e,this);return s.bounds==="ticks"&&Hb(i,this,"value"),s.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(s){return s===void 0?"0":Op(s,this.chart.options.locale,this.options.ticks.format)}configure(){let s=this.min;super.configure(),this._startValue=gl(s),this._valueRange=gl(this.max)-gl(s)}getPixelForValue(s){return(s===void 0||s===0)&&(s=this.min),s===null||isNaN(s)?NaN:this.getPixelForDecimal(s===this.min?0:(gl(s)-this._startValue)/this._valueRange)}getValueForPixel(s){let e=this.getDecimalForPixel(s);return Math.pow(10,this._startValue+e*this._valueRange)}};function Ry(t){let s=t.ticks;if(s.display&&t.display){let e=xo(s.backdropPadding);return Di(s.font&&s.font.size,ba.font.size)+e.height}return 0}function zD(t,s,e){return e=jn(e)?e:[e],{w:EI(t,s.string,e),h:e.length*s.lineHeight}}function B5(t,s,e,i,n){return t===i||t===n?{start:s-e/2,end:s+e/2}:t<i||t>n?{start:s-e,end:s}:{start:s,end:s+e}}function RD(t){let s={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},e=Object.assign({},s),i=[],n=[],a=t._pointLabels.length,u=t.options.pointLabels,b=u.centerPointLabels?Gn/a:0;for(let T=0;T<a;T++){let D=u.setContext(t.getPointLabelContext(T));n[T]=D.padding;let R=t.getPointPosition(T,t.drawingArea+n[T],b),U=ja(D.font),Y=zD(t.ctx,U,t._pointLabels[T]);i[T]=Y;let oe=ur(t.getIndexAngle(T)+b),J=Math.round(Ig(oe)),ke=B5(J,R.x,Y.w,0,180),Te=B5(J,R.y,Y.h,90,270);BD(e,s,oe,ke,Te)}t.setCenterPoint(s.l-e.l,e.r-s.r,s.t-e.t,e.b-s.b),t._pointLabelItems=HD(t,i,n)}function BD(t,s,e,i,n){let a=Math.abs(Math.sin(e)),u=Math.abs(Math.cos(e)),b=0,T=0;i.start<s.l?(b=(s.l-i.start)/a,t.l=Math.min(t.l,s.l-b)):i.end>s.r&&(b=(i.end-s.r)/a,t.r=Math.max(t.r,s.r+b)),n.start<s.t?(T=(s.t-n.start)/u,t.t=Math.min(t.t,s.t-T)):n.end>s.b&&(T=(n.end-s.b)/u,t.b=Math.max(t.b,s.b+T))}function ND(t,s,e){let i=t.drawingArea,{extra:n,additionalAngle:a,padding:u,size:b}=e,T=t.getPointPosition(s,i+n+u,a),D=Math.round(Ig(ur(T.angle+Ia))),R=UD(T.y,b.h,D),U=jD(D),Y=GD(T.x,b.w,U);return{visible:!0,x:T.x,y:R,textAlign:U,left:Y,top:R,right:Y+b.w,bottom:R+b.h}}function qD(t,s){if(!s)return!0;let{left:e,top:i,right:n,bottom:a}=t;return!(Vs({x:e,y:i},s)||Vs({x:e,y:a},s)||Vs({x:n,y:i},s)||Vs({x:n,y:a},s))}function HD(t,s,e){let i=[],n=t._pointLabels.length,a=t.options,{centerPointLabels:u,display:b}=a.pointLabels,T={extra:Ry(a)/2,additionalAngle:u?Gn/n:0},D;for(let R=0;R<n;R++){T.padding=e[R],T.size=s[R];let U=ND(t,R,T);i.push(U),b==="auto"&&(U.visible=qD(U,D),U.visible&&(D=U))}return i}function jD(t){return t===0||t===180?"center":t<180?"left":"right"}function GD(t,s,e){return e==="right"?t-=s:e==="center"&&(t-=s/2),t}function UD(t,s,e){return e===90||e===270?t-=s/2:(e>270||e<90)&&(t-=s),t}function $D(t,s,e){let{left:i,top:n,right:a,bottom:u}=e,{backdropColor:b}=s;if(!an(b)){let T=Pc(s.borderRadius),D=xo(s.backdropPadding);t.fillStyle=b;let R=i-D.left,U=n-D.top,Y=a-i+D.width,oe=u-n+D.height;Object.values(T).some(J=>J!==0)?(t.beginPath(),Fp(t,{x:R,y:U,w:Y,h:oe,radius:T}),t.fill()):t.fillRect(R,U,Y,oe)}}function KD(t,s){let{ctx:e,options:{pointLabels:i}}=t;for(let n=s-1;n>=0;n--){let a=t._pointLabelItems[n];if(!a.visible)continue;let u=i.setContext(t.getPointLabelContext(n));$D(e,u,a);let b=ja(u.font),{x:T,y:D,textAlign:R}=a;Ec(e,t._pointLabels[n],T,D+b.lineHeight/2,b,{color:u.color,textAlign:R,textBaseline:"middle"})}}function uT(t,s,e,i){let{ctx:n}=t;if(e)n.arc(t.xCenter,t.yCenter,s,0,Un);else{let a=t.getPointPosition(0,s);n.moveTo(a.x,a.y);for(let u=1;u<i;u++)a=t.getPointPosition(u,s),n.lineTo(a.x,a.y)}}function WD(t,s,e,i,n){let a=t.ctx,u=s.circular,{color:b,lineWidth:T}=s;!u&&!i||!b||!T||e<0||(a.save(),a.strokeStyle=b,a.lineWidth=T,a.setLineDash(n.dash),a.lineDashOffset=n.dashOffset,a.beginPath(),uT(t,e,u,i),a.closePath(),a.stroke(),a.restore())}function ZD(t,s,e){return bl(t,{label:e,index:s,type:"pointLabel"})}var By=class extends Bp{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Tm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(s){return s},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(s){super(s),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let s=this._padding=xo(Ry(this.options)/2),e=this.width=this.maxWidth-s.width,i=this.height=this.maxHeight-s.height;this.xCenter=Math.floor(this.left+e/2+s.left),this.yCenter=Math.floor(this.top+i/2+s.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){let{min:s,max:e}=this.getMinMax(!1);this.min=_a(s)&&!isNaN(s)?s:0,this.max=_a(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ry(this.options))}generateTickLabels(s){Bp.prototype.generateTickLabels.call(this,s),this._pointLabels=this.getLabels().map((e,i)=>{let n=Vn(this.options.pointLabels.callback,[e,i],this);return n||n===0?n:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){let s=this.options;s.display&&s.pointLabels.display?RD(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(s,e,i,n){this.xCenter+=Math.floor((s-e)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(s,e,i,n))}getIndexAngle(s){let e=Un/(this._pointLabels.length||1),i=this.options.startAngle||0;return ur(s*e+Kr(i))}getDistanceFromCenterForValue(s){if(an(s))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-s)*e:(s-this.min)*e}getValueForDistanceFromCenter(s){if(an(s))return NaN;let e=s/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(s){let e=this._pointLabels||[];if(s>=0&&s<e.length){let i=e[s];return ZD(this.getContext(),s,i)}}getPointPosition(s,e,i=0){let n=this.getIndexAngle(s)-Ia+i;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter,angle:n}}getPointPositionForValue(s,e){return this.getPointPosition(s,this.getDistanceFromCenterForValue(e))}getBasePosition(s){return this.getPointPositionForValue(s||0,this.getBaseValue())}getPointLabelPosition(s){let{left:e,top:i,right:n,bottom:a}=this._pointLabelItems[s];return{left:e,top:i,right:n,bottom:a}}drawBackground(){let{backgroundColor:s,grid:{circular:e}}=this.options;if(s){let i=this.ctx;i.save(),i.beginPath(),uT(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=s,i.fill(),i.restore()}}drawGrid(){let s=this.ctx,e=this.options,{angleLines:i,grid:n,border:a}=e,u=this._pointLabels.length,b,T,D;if(e.pointLabels.display&&KD(this,u),n.display&&this.ticks.forEach((R,U)=>{if(U!==0||U===0&&this.min<0){T=this.getDistanceFromCenterForValue(R.value);let Y=this.getContext(U),oe=n.setContext(Y),J=a.setContext(Y);WD(this,oe,T,u,J)}}),i.display){for(s.save(),b=u-1;b>=0;b--){let R=i.setContext(this.getPointLabelContext(b)),{color:U,lineWidth:Y}=R;!Y||!U||(s.lineWidth=Y,s.strokeStyle=U,s.setLineDash(R.borderDash),s.lineDashOffset=R.borderDashOffset,T=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),D=this.getPointPosition(b,T),s.beginPath(),s.moveTo(this.xCenter,this.yCenter),s.lineTo(D.x,D.y),s.stroke())}s.restore()}}drawBorder(){}drawLabels(){let s=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;let n=this.getIndexAngle(0),a,u;s.save(),s.translate(this.xCenter,this.yCenter),s.rotate(n),s.textAlign="center",s.textBaseline="middle",this.ticks.forEach((b,T)=>{if(T===0&&this.min>=0&&!e.reverse)return;let D=i.setContext(this.getContext(T)),R=ja(D.font);if(a=this.getDistanceFromCenterForValue(this.ticks[T].value),D.showLabelBackdrop){s.font=R.string,u=s.measureText(b.label).width,s.fillStyle=D.backdropColor;let U=xo(D.backdropPadding);s.fillRect(-u/2-U.left,-a-R.size/2-U.top,u+U.width,R.size+U.height)}Ec(s,b.label,0,-a,R,{color:D.color,strokeColor:D.textStrokeColor,strokeWidth:D.textStrokeWidth})}),s.restore()}drawTitle(){}},Qg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},mr=Object.keys(Qg);function N5(t,s){return t-s}function q5(t,s){if(an(s))return null;let e=t._adapter,{parser:i,round:n,isoWeekday:a}=t._parseOpts,u=s;return typeof i=="function"&&(u=i(u)),_a(u)||(u=typeof i=="string"?e.parse(u,i):e.parse(u)),u===null?null:(n&&(u=n==="week"&&(Zd(a)||a===!0)?e.startOf(u,"isoWeek",a):e.startOf(u,n)),+u)}function H5(t,s,e,i){let n=mr.length;for(let a=mr.indexOf(t);a<n-1;++a){let u=Qg[mr[a]],b=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((e-s)/(b*u.size))<=i)return mr[a]}return mr[n-1]}function QD(t,s,e,i,n){for(let a=mr.length-1;a>=mr.indexOf(e);a--){let u=mr[a];if(Qg[u].common&&t._adapter.diff(n,i,u)>=s-1)return u}return mr[e?mr.indexOf(e):0]}function XD(t){for(let s=mr.indexOf(t)+1,e=mr.length;s<e;++s)if(Qg[mr[s]].common)return mr[s]}function j5(t,s,e){if(!e)t[s]=!0;else if(e.length){let{lo:i,hi:n}=Tg(e,s),a=e[i]>=s?e[i]:e[n];t[a]=!0}}function YD(t,s,e,i){let n=t._adapter,a=+n.startOf(s[0].value,i),u=s[s.length-1].value,b,T;for(b=a;b<=u;b=+n.add(b,1,i))T=e[b],T>=0&&(s[T].major=!0);return s}function G5(t,s,e){let i=[],n={},a=s.length,u,b;for(u=0;u<a;++u)b=s[u],n[b]=u,i.push({value:b,major:!1});return a===0||!e?i:YD(t,i,n,e)}var Ny=(()=>{class t extends Jd{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){let n=e.time||(e.time={}),a=this._adapter=new d8._date(e.adapters.date);a.init(i),Pp(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return e===void 0?null:q5(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,i=this._adapter,n=e.time.unit||"day",{min:a,max:u,minDefined:b,maxDefined:T}=this.getUserBounds();function D(R){!b&&!isNaN(R.min)&&(a=Math.min(a,R.min)),!T&&!isNaN(R.max)&&(u=Math.max(u,R.max))}(!b||!T)&&(D(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&D(this.getMinMax(!1))),a=_a(a)&&!isNaN(a)?a:+i.startOf(Date.now(),n),u=_a(u)&&!isNaN(u)?u:+i.endOf(Date.now(),n)+1,this.min=Math.min(a,u-1),this.max=Math.max(a+1,u)}_getLabelBounds(){let e=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],n=e[e.length-1]),{min:i,max:n}}buildTicks(){let e=this.options,i=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);let u=this.min,b=this.max,T=II(a,u,b);return this._unit=i.unit||(n.autoSkip?H5(i.minUnit,this.min,this.max,this._getLabelCapacity(u)):QD(this,T.length,i.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:XD(this._unit),this.initOffsets(a),e.reverse&&T.reverse(),G5(this,T,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let i=0,n=0,a,u;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?i=1-a:i=(this.getDecimalForValue(e[1])-a)/2,u=this.getDecimalForValue(e[e.length-1]),e.length===1?n=u:n=(u-this.getDecimalForValue(e[e.length-2]))/2);let b=e.length<3?.5:.25;i=Qa(i,0,b),n=Qa(n,0,b),this._offsets={start:i,end:n,factor:1/(i+1+n)}}_generate(){let e=this._adapter,i=this.min,n=this.max,a=this.options,u=a.time,b=u.unit||H5(u.minUnit,i,n,this._getLabelCapacity(i)),T=Di(a.ticks.stepSize,1),D=b==="week"?u.isoWeekday:!1,R=Zd(D)||D===!0,U={},Y=i,oe,J;if(R&&(Y=+e.startOf(Y,"isoWeek",D)),Y=+e.startOf(Y,R?"day":b),e.diff(n,i,b)>1e5*T)throw new Error(i+" and "+n+" are too far apart with stepSize of "+T+" "+b);let ke=a.ticks.source==="data"&&this.getDataTimestamps();for(oe=Y,J=0;oe<n;oe=+e.add(oe,T,b),J++)j5(U,oe,ke);return(oe===n||a.bounds==="ticks"||J===1)&&j5(U,oe,ke),Object.keys(U).sort(N5).map(Te=>+Te)}getLabelForValue(e){let i=this._adapter,n=this.options.time;return n.tooltipFormat?i.format(e,n.tooltipFormat):i.format(e,n.displayFormats.datetime)}format(e,i){let a=this.options.time.displayFormats,u=this._unit,b=i||a[u];return this._adapter.format(e,b)}_tickFormatFunction(e,i,n,a){let u=this.options,b=u.ticks.callback;if(b)return Vn(b,[e,i,n],this);let T=u.time.displayFormats,D=this._unit,R=this._majorUnit,U=D&&T[D],Y=R&&T[R],oe=n[i],J=R&&Y&&oe&&oe.major;return this._adapter.format(e,a||(J?Y:U))}generateTickLabels(e){let i,n,a;for(i=0,n=e.length;i<n;++i)a=e[i],a.label=this._tickFormatFunction(a.value,i,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let i=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+n)*i.factor)}getValueForPixel(e){let i=this._offsets,n=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){let i=this.options.ticks,n=this.ctx.measureText(e).width,a=Kr(this.isHorizontal()?i.maxRotation:i.minRotation),u=Math.cos(a),b=Math.sin(a),T=this._resolveTickFontOptions(0).size;return{w:n*u+T*b,h:n*b+T*u}}_getLabelCapacity(e){let i=this.options.time,n=i.displayFormats,a=n[i.unit]||n.millisecond,u=this._tickFormatFunction(e,0,G5(this,[e],this._majorUnit),a),b=this._getLabelSize(u),T=Math.floor(this.isHorizontal()?this.width/b.w:this.height/b.h)-1;return T>0?T:1}getDataTimestamps(){let e=this._cache.data||[],i,n;if(e.length)return e;let a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(i=0,n=a.length;i<n;++i)e=e.concat(a[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],i,n;if(e.length)return e;let a=this.getLabels();for(i=0,n=a.length;i<n;++i)e.push(q5(this,a[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return $b(e.sort(N5))}}return t})();function Bg(t,s,e){let i=0,n=t.length-1,a,u,b,T;e?(s>=t[i].pos&&s<=t[n].pos&&({lo:i,hi:n}=Fs(t,"pos",s)),{pos:a,time:b}=t[i],{pos:u,time:T}=t[n]):(s>=t[i].time&&s<=t[n].time&&({lo:i,hi:n}=Fs(t,"time",s)),{time:a,pos:b}=t[i],{time:u,pos:T}=t[n]);let D=u-a;return D?b+(T-b)*(s-a)/D:b}var qy=class extends Ny{static id="timeseries";static defaults=Ny.defaults;constructor(s){super(s),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let s=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(s);this._minPos=Bg(e,this.min),this._tableRange=Bg(e,this.max)-this._minPos,super.initOffsets(s)}buildLookupTable(s){let{min:e,max:i}=this,n=[],a=[],u,b,T,D,R;for(u=0,b=s.length;u<b;++u)D=s[u],D>=e&&D<=i&&n.push(D);if(n.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(u=0,b=n.length;u<b;++u)R=n[u+1],T=n[u-1],D=n[u],Math.round((R+T)/2)!==D&&a.push({time:D,pos:u/(b-1)});return a}_generate(){let s=this.min,e=this.max,i=super.getDataTimestamps();return(!i.includes(s)||!i.length)&&i.splice(0,0,s),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((n,a)=>n-a)}_getTimestampsForTable(){let s=this._cache.all||[];if(s.length)return s;let e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?s=this.normalize(e.concat(i)):s=e.length?e:i,s=this._cache.all=s,s}getDecimalForValue(s){return(Bg(this._table,s)-this._minPos)/this._tableRange}getValueForPixel(s){let e=this._offsets,i=this.getDecimalForPixel(s)/e.factor-e.end;return Bg(this._table,i*this._tableRange+this._minPos,!0)}},JD=Object.freeze({__proto__:null,CategoryScale:AD,LinearScale:Vy,LogarithmicScale:zy,RadialLinearScale:By,TimeScale:Ny,TimeSeriesScale:qy}),pT=[c8,FP,ED,JD];Wg.register(...pT);var hT=Wg;var e9={root:({instance:t})=>({display:"block",position:"relative",width:t.width,height:t.height})},t9={root:"p-chart"},mT=(()=>{class t extends Rt{name="chart";classes=t9;inlineStyles=e9;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var Gy=(()=>{class t extends Ot{el;zone;type;plugins=[];width;height;responsive=!0;ariaLabel;ariaLabelledBy;get data(){return this._data}set data(e){this._data=e,this.reinit()}get options(){return this._options}set options(e){this._options=e,this.reinit()}onDataSelect=new Le;isBrowser=!1;initialized;_data;_options={};chart;_componentStyle=Fe(mT);constructor(e,i){super(),this.el=e,this.zone=i}ngAfterViewInit(){super.ngAfterViewInit(),this.initChart(),this.initialized=!0}onCanvasClick(e){if(this.chart){let i=this.chart.getElementsAtEventForMode(e,"nearest",{intersect:!0},!1),n=this.chart.getElementsAtEventForMode(e,"dataset",{intersect:!0},!1);i&&i[0]&&n&&this.onDataSelect.emit({originalEvent:e,element:i[0],dataset:n})}}initChart(){if(ii(this.platformId)){let e=this.options||{};e.responsive=this.responsive,e.responsive&&(this.height||this.width)&&(e.maintainAspectRatio=!1),this.zone.runOutsideAngular(()=>{this.chart=new hT(this.el.nativeElement.children[0],{type:this.type,data:this.data,options:this.options,plugins:this.plugins})})}}getCanvas(){return this.el.nativeElement.children[0]}getBase64Image(){return this.chart.toBase64Image()}generateLegend(){if(this.chart)return this.chart.generateLegend()}refresh(){this.chart&&this.chart.update()}reinit(){this.chart&&(this.chart.destroy(),this.initChart())}ngOnDestroy(){super.ngOnDestroy(),this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)}static \u0275fac=function(i){return new(i||t)(Dt(ua),Dt(pa))};static \u0275cmp=Je({type:t,selectors:[["p-chart"]],hostVars:4,hostBindings:function(i,n){i&2&&(Lt(n.sx("root")),$(n.cx("root")))},inputs:{type:"type",plugins:"plugins",width:"width",height:"height",responsive:[2,"responsive","responsive",ye],ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",data:"data",options:"options"},outputs:{onDataSelect:"onDataSelect"},features:[_t([mT]),ft],decls:1,vars:4,consts:[["role","img",3,"click"]],template:function(i,n){i&1&&(A(0,"canvas",0),we("click",function(u){return n.onCanvasClick(u)}),L()),i&2&&de("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledBy)("width",n.responsive&&!n.width?null:n.width)("height",n.responsive&&!n.height?null:n.height)},dependencies:[mt,Ze],encapsulation:2,changeDetection:0})}return t})(),fT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[Gy,Ze,Ze]})}return t})();var Xg=class t{constructor(s){this.layoutService=s;this.subscription=this.layoutService.configUpdate$.pipe(uw(25)).subscribe(()=>{this.initCharts()})}lineData;barData;pieData;polarData;radarData;lineOptions;barOptions;pieOptions;polarOptions;radarOptions;subscription;ngOnInit(){this.initCharts()}initCharts(){let s=getComputedStyle(document.documentElement),e=s.getPropertyValue("--text-color"),i=s.getPropertyValue("--text-color-secondary"),n=s.getPropertyValue("--surface-border");this.barData={labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:s.getPropertyValue("--p-primary-500"),borderColor:s.getPropertyValue("--p-primary-500"),data:[65,59,80,81,56,55,40]},{label:"My Second dataset",backgroundColor:s.getPropertyValue("--p-primary-200"),borderColor:s.getPropertyValue("--p-primary-200"),data:[28,48,40,19,86,27,90]}]},this.barOptions={maintainAspectRatio:!1,aspectRatio:.8,plugins:{legend:{labels:{color:e}}},scales:{x:{ticks:{color:i,font:{weight:500}},grid:{display:!1,drawBorder:!1}},y:{ticks:{color:i},grid:{color:n,drawBorder:!1}}}},this.pieData={labels:["A","B","C"],datasets:[{data:[540,325,702],backgroundColor:[s.getPropertyValue("--p-indigo-500"),s.getPropertyValue("--p-purple-500"),s.getPropertyValue("--p-teal-500")],hoverBackgroundColor:[s.getPropertyValue("--p-indigo-400"),s.getPropertyValue("--p-purple-400"),s.getPropertyValue("--p-teal-400")]}]},this.pieOptions={plugins:{legend:{labels:{usePointStyle:!0,color:e}}}},this.lineData={labels:["January","February","March","April","May","June","July"],datasets:[{label:"First Dataset",data:[65,59,80,81,56,55,40],fill:!1,backgroundColor:s.getPropertyValue("--p-primary-500"),borderColor:s.getPropertyValue("--p-primary-500"),tension:.4},{label:"Second Dataset",data:[28,48,40,19,86,27,90],fill:!1,backgroundColor:s.getPropertyValue("--p-primary-200"),borderColor:s.getPropertyValue("--p-primary-200"),tension:.4}]},this.lineOptions={maintainAspectRatio:!1,aspectRatio:.8,plugins:{legend:{labels:{color:e}}},scales:{x:{ticks:{color:i},grid:{color:n,drawBorder:!1}},y:{ticks:{color:i},grid:{color:n,drawBorder:!1}}}},this.polarData={datasets:[{data:[11,16,7,3],backgroundColor:[s.getPropertyValue("--p-indigo-500"),s.getPropertyValue("--p-purple-500"),s.getPropertyValue("--p-teal-500"),s.getPropertyValue("--p-orange-500")],label:"My dataset"}],labels:["Indigo","Purple","Teal","Orange"]},this.polarOptions={plugins:{legend:{labels:{color:e}}},scales:{r:{grid:{color:n},ticks:{display:!1,color:i}}}},this.radarData={labels:["Eating","Drinking","Sleeping","Designing","Coding","Cycling","Running"],datasets:[{label:"My First dataset",borderColor:s.getPropertyValue("--p-indigo-400"),pointBackgroundColor:s.getPropertyValue("--p-indigo-400"),pointBorderColor:s.getPropertyValue("--p-indigo-400"),pointHoverBackgroundColor:e,pointHoverBorderColor:s.getPropertyValue("--p-indigo-400"),data:[65,59,90,81,56,55,40]},{label:"My Second dataset",borderColor:s.getPropertyValue("--p-purple-400"),pointBackgroundColor:s.getPropertyValue("--p-purple-400"),pointBorderColor:s.getPropertyValue("--p-purple-400"),pointHoverBackgroundColor:e,pointHoverBorderColor:s.getPropertyValue("--p-purple-400"),data:[28,48,40,19,96,27,100]}]},this.radarOptions={plugins:{legend:{labels:{color:e}}},scales:{r:{pointLabels:{color:e},grid:{color:n}}}}}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)(Dt(yp))};static \u0275cmp=Je({type:t,selectors:[["app-chart-demo"]],decls:31,vars:12,consts:[[1,"grid","grid-cols-12","gap-8"],[1,"col-span-12","xl:col-span-6"],[1,"card"],[1,"font-semibold","text-xl","mb-4"],["type","line",3,"data","options"],["type","bar",3,"data","options"],[1,"card","flex","flex-col","items-center"],["type","pie",3,"data","options"],["type","doughnut",3,"data","options"],["type","polarArea",3,"data","options"],["type","radar",3,"data","options"]],template:function(e,i){e&1&&(A(0,"p-fluid",0)(1,"div",1)(2,"div",2)(3,"div",3),ie(4,"Linear"),L(),ae(5,"p-chart",4),L()(),A(6,"div",1)(7,"div",2)(8,"div",3),ie(9,"Bar"),L(),ae(10,"p-chart",5),L()(),A(11,"div",1)(12,"div",6)(13,"div",3),ie(14,"Pie"),L(),ae(15,"p-chart",7),L()(),A(16,"div",1)(17,"div",6)(18,"div",3),ie(19,"Doughnut"),L(),ae(20,"p-chart",8),L()(),A(21,"div",1)(22,"div",6)(23,"div",3),ie(24,"Polar Area"),L(),ae(25,"p-chart",9),L()(),A(26,"div",1)(27,"div",6)(28,"div",3),ie(29,"Radar"),L(),ae(30,"p-chart",10),L()()()),e&2&&(S(5),C("data",i.lineData)("options",i.lineOptions),S(5),C("data",i.barData)("options",i.barOptions),S(5),C("data",i.pieData)("options",i.pieOptions),S(5),C("data",i.pieData)("options",i.pieOptions),S(5),C("data",i.polarData)("options",i.polarOptions),S(5),C("data",i.radarData)("options",i.radarOptions))},dependencies:[mt,fT,Gy,mp,Ds],encapsulation:2})};function n9(t,s){t&1&&(A(0,"div"),ie(1,"Drag and drop files to here to upload."),L())}var Yg=class t{constructor(s){this.messageService=s}uploadedFiles=[];onUpload(s){for(let e of s.files)this.uploadedFiles.push(e);this.messageService.add({severity:"info",summary:"Success",detail:"File Uploaded"})}onBasicUpload(){this.messageService.add({severity:"info",summary:"Success",detail:"File Uploaded with Basic Mode"})}static \u0275fac=function(e){return new(e||t)(Dt(rr))};static \u0275cmp=Je({type:t,selectors:[["app-file-demo"]],features:[_t([rr])],decls:17,vars:1,consts:[["empty",""],["fu",""],[1,"grid","grid-cols-12","gap-8"],[1,"col-span-full","lg:col-span-6"],[1,"card"],[1,"font-semibold","text-xl","mb-4"],["name","demo[]","accept","image/*","maxFileSize","1000000","mode","advanced","url","https://www.primefaces.org/cdn/api/upload.php",3,"onUpload","multiple"],[1,"flex","flex-col","gap-4","items-center","justify-center"],["mode","basic","chooseLabel","Choose","chooseIcon","pi pi-upload","name","demo[]","url","https://www.primefaces.org/cdn/api/upload.php","accept","image/*","maxFileSize","1000000",3,"onUpload"],["label","Upload","severity","secondary",3,"onClick"]],template:function(e,i){if(e&1){let n=Be();ae(0,"p-toast"),A(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),ie(5,"Advanced"),L(),A(6,"p-fileupload",6),we("onUpload",function(u){return Q(n),X(i.onUpload(u))}),z(7,n9,2,0,"ng-template",null,0,ze),L()()(),A(9,"div",3)(10,"div",4)(11,"div",5),ie(12,"Basic"),L(),A(13,"div",7)(14,"p-fileupload",8,1),we("onUpload",function(u){return Q(n),X(i.onUpload(u))}),L(),A(16,"p-button",9),we("onClick",function(){Q(n);let u=Gt(15);return X(u.upload())}),L()()()()()}e&2&&(S(6),C("multiple",!0))},dependencies:[mt,T3,I3,fc,vp,zi,Gi],encapsulation:2})};var Jg=class t{dropdownItems=[{name:"Option 1",code:"Option 1"},{name:"Option 2",code:"Option 2"},{name:"Option 3",code:"Option 3"}];dropdownItem=null;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Je({type:t,selectors:[["app-formlayout-demo"]],decls:92,vars:3,consts:[[1,"flex","flex-col","md:flex-row","gap-8"],[1,"md:w-1/2"],[1,"card","flex","flex-col","gap-4"],[1,"font-semibold","text-xl"],[1,"flex","flex-col","gap-2"],["for","name1"],["pInputText","","id","name1","type","text"],["for","email1"],["pInputText","","id","email1","type","text"],["for","age1"],["pInputText","","id","age1","type","text"],[1,"flex","flex-wrap","gap-6"],[1,"flex","flex-col","grow","basis-0","gap-2"],["for","name2"],["pInputText","","id","name2","type","text"],["for","email2"],["pInputText","","id","email2","type","text"],[1,"grid","grid-cols-12","gap-4","grid-cols-12","gap-2"],["for","name3",1,"flex","items-center","col-span-12","mb-2","md:col-span-2","md:mb-0"],[1,"col-span-12","md:col-span-10"],["pInputText","","id","name3","type","text"],["for","email3",1,"flex","items-center","col-span-12","mb-2","md:col-span-2","md:mb-0"],["pInputText","","id","email3","type","text"],[1,"flex","flex-wrap","items-start","gap-6"],[1,"field"],["for","firstname1",1,"sr-only"],["pInputText","","id","firstname1","type","text","placeholder","Firstname"],["for","lastname1",1,"sr-only"],["pInputText","","id","lastname1","type","text","placeholder","Lastname"],["label","Submit",3,"fluid"],[1,"flex","flex-wrap","gap-2"],["for","username"],["pInputText","","id","username","type","text"],[1,"flex","mt-8"],[1,"card","flex","flex-col","gap-6","w-full"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"flex","flex-wrap","gap-2","w-full"],["for","firstname2"],["pInputText","","id","firstname2","type","text"],["for","lastname2"],["pInputText","","id","lastname2","type","text"],[1,"flex","flex-wrap"],["for","address"],["pTextarea","","id","address","rows","4"],["for","state"],["id","state","optionLabel","name","placeholder","Select One",1,"w-full",3,"ngModelChange","ngModel","options"],["for","zip"],["pInputText","","id","zip","type","text"]],template:function(e,i){e&1&&(A(0,"p-fluid")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),ie(5,"Vertical"),L(),A(6,"div",4)(7,"label",5),ie(8,"Name"),L(),ae(9,"input",6),L(),A(10,"div",4)(11,"label",7),ie(12,"Email"),L(),ae(13,"input",8),L(),A(14,"div",4)(15,"label",9),ie(16,"Age"),L(),ae(17,"input",10),L()(),A(18,"div",2)(19,"div",3),ie(20,"Vertical Grid"),L(),A(21,"div",11)(22,"div",12)(23,"label",13),ie(24,"Name"),L(),ae(25,"input",14),L(),A(26,"div",12)(27,"label",15),ie(28,"Email"),L(),ae(29,"input",16),L()()()(),A(30,"div",1)(31,"div",2)(32,"div",3),ie(33,"Horizontal"),L(),A(34,"div",17)(35,"label",18),ie(36,"Name"),L(),A(37,"div",19),ae(38,"input",20),L()(),A(39,"div",17)(40,"label",21),ie(41,"Email"),L(),A(42,"div",19),ae(43,"input",22),L()()(),A(44,"div",2)(45,"div",3),ie(46,"Inline"),L(),A(47,"div",23)(48,"div",24)(49,"label",25),ie(50,"Firstname"),L(),ae(51,"input",26),L(),A(52,"div",24)(53,"label",27),ie(54,"Lastname"),L(),ae(55,"input",28),L(),ae(56,"p-button",29),L()(),A(57,"div",2)(58,"div",3),ie(59,"Help Text"),L(),A(60,"div",30)(61,"label",31),ie(62,"Username"),L(),ae(63,"input",32),A(64,"small"),ie(65,"Enter your username to reset your password."),L()()()()(),A(66,"div",33)(67,"div",34)(68,"div",3),ie(69,"Advanced"),L(),A(70,"div",35)(71,"div",36)(72,"label",37),ie(73,"Firstname"),L(),ae(74,"input",38),L(),A(75,"div",36)(76,"label",39),ie(77,"Lastname"),L(),ae(78,"input",40),L()(),A(79,"div",41)(80,"label",42),ie(81,"Address"),L(),ae(82,"textarea",43),L(),A(83,"div",35)(84,"div",36)(85,"label",44),ie(86,"State"),L(),A(87,"p-select",45),ci("ngModelChange",function(a){return li(i.dropdownItem,a)||(i.dropdownItem=a),a}),L()(),A(88,"div",36)(89,"label",46),ie(90,"Zip"),L(),ae(91,"input",47),L()()()()()),e&2&&(S(56),C("fluid",!1),S(31),si("ngModel",i.dropdownItem),C("options",i.dropdownItems))},dependencies:[Fo,ma,mp,Ds,zi,Gi,yc,bc,dn,ia,na,ng,ig],encapsulation:2})};var bT=`
    .p-inputgroup,
    .p-inputgroup .p-iconfield,
    .p-inputgroup .p-floatlabel,
    .p-inputgroup .p-iftalabel {
        display: flex;
        align-items: stretch;
        width: 100%;
    }

    .p-inputgroup .p-inputtext,
    .p-inputgroup .p-inputwrapper {
        flex: 1 1 auto;
        width: 1%;
    }

    .p-inputgroupaddon {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: dt('inputgroup.addon.padding');
        background: dt('inputgroup.addon.background');
        color: dt('inputgroup.addon.color');
        border-block-start: 1px solid dt('inputgroup.addon.border.color');
        border-block-end: 1px solid dt('inputgroup.addon.border.color');
        min-width: dt('inputgroup.addon.min.width');
    }

    .p-inputgroupaddon:first-child,
    .p-inputgroupaddon + .p-inputgroupaddon {
        border-inline-start: 1px solid dt('inputgroup.addon.border.color');
    }

    .p-inputgroupaddon:last-child {
        border-inline-end: 1px solid dt('inputgroup.addon.border.color');
    }

    .p-inputgroupaddon:has(.p-button) {
        padding: 0;
        overflow: hidden;
    }

    .p-inputgroupaddon .p-button {
        border-radius: 0;
    }

    .p-inputgroup > .p-component,
    .p-inputgroup > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iconfield > .p-component,
    .p-inputgroup > .p-floatlabel > .p-component,
    .p-inputgroup > .p-floatlabel > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel > .p-component,
    .p-inputgroup > .p-iftalabel > .p-inputwrapper > .p-component {
        border-radius: 0;
        margin: 0;
    }

    .p-inputgroupaddon:first-child,
    .p-inputgroup > .p-component:first-child,
    .p-inputgroup > .p-inputwrapper:first-child > .p-component,
    .p-inputgroup > .p-iconfield:first-child > .p-component,
    .p-inputgroup > .p-floatlabel:first-child > .p-component,
    .p-inputgroup > .p-floatlabel:first-child > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel:first-child > .p-component,
    .p-inputgroup > .p-iftalabel:first-child > .p-inputwrapper > .p-component {
        border-start-start-radius: dt('inputgroup.addon.border.radius');
        border-end-start-radius: dt('inputgroup.addon.border.radius');
    }

    .p-inputgroupaddon:last-child,
    .p-inputgroup > .p-component:last-child,
    .p-inputgroup > .p-inputwrapper:last-child > .p-component,
    .p-inputgroup > .p-iconfield:last-child > .p-component,
    .p-inputgroup > .p-floatlabel:last-child > .p-component,
    .p-inputgroup > .p-floatlabel:last-child > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel:last-child > .p-component,
    .p-inputgroup > .p-iftalabel:last-child > .p-inputwrapper > .p-component {
        border-start-end-radius: dt('inputgroup.addon.border.radius');
        border-end-end-radius: dt('inputgroup.addon.border.radius');
    }

    .p-inputgroup .p-component:focus,
    .p-inputgroup .p-component.p-focus,
    .p-inputgroup .p-inputwrapper-focus,
    .p-inputgroup .p-component:focus ~ label,
    .p-inputgroup .p-component.p-focus ~ label,
    .p-inputgroup .p-inputwrapper-focus ~ label {
        z-index: 1;
    }

    .p-inputgroup > .p-button:not(.p-button-icon-only) {
        width: auto;
    }

    .p-inputgroup .p-iconfield + .p-iconfield .p-inputtext {
        border-inline-start: 0;
    }
`;var o9=["*"],r9=`
    ${bT}

    /*For PrimeNG*/

    .p-inputgroup > .p-component,
    .p-inputgroup > .p-inputwrapper > .p-component,
    .p-inputgroup:first-child > p-button > .p-button,
    .p-inputgroup > .p-floatlabel > .p-component,
    .p-inputgroup > .p-floatlabel > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel > .p-component,
    .p-inputgroup > .p-iftalabel > .p-inputwrapper > .p-component {
        border-radius: 0;
        margin: 0;
    }

    .p-inputgroup p-button:first-child,
    .p-inputgroup p-button:last-child {
        display: inline-flex;
    }

    .p-inputgroup:has(> p-button:first-child) .p-button {
        border-start-start-radius: dt('inputgroup.addon.border.radius');
        border-end-start-radius: dt('inputgroup.addon.border.radius');
    }

    .p-inputgroup:has(> p-button:last-child) .p-button {
        border-start-end-radius: dt('inputgroup.addon.border.radius');
        border-end-end-radius: dt('inputgroup.addon.border.radius');
    }
`,s9={root:({instance:t})=>["p-inputgroup",{"p-inputgroup-fluid":t.fluid}]},yT=(()=>{class t extends Rt{name="inputgroup";theme=r9;classes=s9;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var $y=(()=>{class t extends Ot{styleClass;_componentStyle=Fe(yT);static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-inputgroup"],["p-inputGroup"],["p-input-group"]],hostVars:3,hostBindings:function(i,n){i&2&&(de("data-pc-name","inputgroup"),$(n.cn(n.cx("root"),n.styleClass)))},inputs:{styleClass:"styleClass"},features:[_t([yT]),ft],ngContentSelectors:o9,decls:1,vars:0,template:function(i,n){i&1&&(Ui(),Ei(0))},dependencies:[mt,Ze],encapsulation:2})}return t})(),vT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[$y,Ze,Ze]})}return t})();var xT=`
    .p-floatlabel {
        display: block;
        position: relative;
    }

    .p-floatlabel label {
        position: absolute;
        pointer-events: none;
        top: 50%;
        transform: translateY(-50%);
        transition-property: all;
        transition-timing-function: ease;
        line-height: 1;
        font-weight: dt('floatlabel.font.weight');
        inset-inline-start: dt('floatlabel.position.x');
        color: dt('floatlabel.color');
        transition-duration: dt('floatlabel.transition.duration');
    }

    .p-floatlabel:has(.p-textarea) label {
        top: dt('floatlabel.position.y');
        transform: translateY(0);
    }

    .p-floatlabel:has(.p-inputicon:first-child) label {
        inset-inline-start: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-floatlabel:has(input:focus) label,
    .p-floatlabel:has(input.p-filled) label,
    .p-floatlabel:has(input:-webkit-autofill) label,
    .p-floatlabel:has(textarea:focus) label,
    .p-floatlabel:has(textarea.p-filled) label,
    .p-floatlabel:has(.p-inputwrapper-focus) label,
    .p-floatlabel:has(.p-inputwrapper-filled) label,
    .p-floatlabel:has(input[placeholder]) label,
    .p-floatlabel:has(textarea[placeholder]) label {
        top: dt('floatlabel.over.active.top');
        transform: translateY(0);
        font-size: dt('floatlabel.active.font.size');
        font-weight: dt('floatlabel.active.font.weight');
    }

    .p-floatlabel:has(input.p-filled) label,
    .p-floatlabel:has(textarea.p-filled) label,
    .p-floatlabel:has(.p-inputwrapper-filled) label {
        color: dt('floatlabel.active.color');
    }

    .p-floatlabel:has(input:focus) label,
    .p-floatlabel:has(input:-webkit-autofill) label,
    .p-floatlabel:has(textarea:focus) label,
    .p-floatlabel:has(.p-inputwrapper-focus) label {
        color: dt('floatlabel.focus.color');
    }

    .p-floatlabel-in .p-inputtext,
    .p-floatlabel-in .p-textarea,
    .p-floatlabel-in .p-select-label,
    .p-floatlabel-in .p-multiselect-label,
    .p-floatlabel-in .p-autocomplete-input-multiple,
    .p-floatlabel-in .p-cascadeselect-label,
    .p-floatlabel-in .p-treeselect-label {
        padding-block-start: dt('floatlabel.in.input.padding.top');
        padding-block-end: dt('floatlabel.in.input.padding.bottom');
    }

    .p-floatlabel-in:has(input:focus) label,
    .p-floatlabel-in:has(input.p-filled) label,
    .p-floatlabel-in:has(input:-webkit-autofill) label,
    .p-floatlabel-in:has(textarea:focus) label,
    .p-floatlabel-in:has(textarea.p-filled) label,
    .p-floatlabel-in:has(.p-inputwrapper-focus) label,
    .p-floatlabel-in:has(.p-inputwrapper-filled) label,
    .p-floatlabel-in:has(input[placeholder]) label,
    .p-floatlabel-in:has(textarea[placeholder]) label {
        top: dt('floatlabel.in.active.top');
    }

    .p-floatlabel-on:has(input:focus) label,
    .p-floatlabel-on:has(input.p-filled) label,
    .p-floatlabel-on:has(input:-webkit-autofill) label,
    .p-floatlabel-on:has(textarea:focus) label,
    .p-floatlabel-on:has(textarea.p-filled) label,
    .p-floatlabel-on:has(.p-inputwrapper-focus) label,
    .p-floatlabel-on:has(.p-inputwrapper-filled) label,
    .p-floatlabel-on:has(input[placeholder]) label,
    .p-floatlabel-on:has(textarea[placeholder]) label {
        top: 0;
        transform: translateY(-50%);
        border-radius: dt('floatlabel.on.border.radius');
        background: dt('floatlabel.on.active.background');
        padding: dt('floatlabel.on.active.padding');
    }

    .p-floatlabel:has([class^='p-'][class$='-fluid']) {
        width: 100%;
    }

    .p-floatlabel:has(.p-invalid) label {
        color: dt('floatlabel.invalid.color');
    }
`;var c9=["*"],d9=`
    ${xT}

    /* For PrimeNG */
    .p-floatlabel:has(.ng-invalid.ng-dirty) label {
        color: dt('floatlabel.invalid.color');
    }
`,u9={root:({instance:t})=>["p-floatlabel",{"p-floatlabel-over":t.variant==="over","p-floatlabel-on":t.variant==="on","p-floatlabel-in":t.variant==="in"}]},wT=(()=>{class t extends Rt{name="floatlabel";theme=d9;classes=u9;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var Ky=(()=>{class t extends Ot{_componentStyle=Fe(wT);variant="over";static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-floatlabel"],["p-floatLabel"],["p-float-label"]],hostVars:2,hostBindings:function(i,n){i&2&&$(n.cx("root"))},inputs:{variant:"variant"},features:[_t([wT]),ft],ngContentSelectors:c9,decls:1,vars:0,template:function(i,n){i&1&&(Ui(),Ei(0))},dependencies:[mt,Ze],encapsulation:2,changeDetection:0})}return t})(),IT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[Ky,Ze,Ze]})}return t})();var TT=`
    .p-autocomplete {
        display: inline-flex;
    }

    .p-autocomplete-loader {
        position: absolute;
        top: 50%;
        margin-top: -0.5rem;
        inset-inline-end: dt('autocomplete.padding.x');
    }

    .p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-loader {
        inset-inline-end: calc(dt('autocomplete.dropdown.width') + dt('autocomplete.padding.x'));
    }

    .p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-input {
        flex: 1 1 auto;
        width: 1%;
    }

    .p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-input,
    .p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-input-multiple {
        border-start-end-radius: 0;
        border-end-end-radius: 0;
    }

    .p-autocomplete-dropdown {
        cursor: pointer;
        display: inline-flex;
        user-select: none;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
        width: dt('autocomplete.dropdown.width');
        border-start-end-radius: dt('autocomplete.dropdown.border.radius');
        border-end-end-radius: dt('autocomplete.dropdown.border.radius');
        background: dt('autocomplete.dropdown.background');
        border: 1px solid dt('autocomplete.dropdown.border.color');
        border-inline-start: 0 none;
        color: dt('autocomplete.dropdown.color');
        transition:
            background dt('autocomplete.transition.duration'),
            color dt('autocomplete.transition.duration'),
            border-color dt('autocomplete.transition.duration'),
            outline-color dt('autocomplete.transition.duration'),
            box-shadow dt('autocomplete.transition.duration');
        outline-color: transparent;
    }

    .p-autocomplete-dropdown:not(:disabled):hover {
        background: dt('autocomplete.dropdown.hover.background');
        border-color: dt('autocomplete.dropdown.hover.border.color');
        color: dt('autocomplete.dropdown.hover.color');
    }

    .p-autocomplete-dropdown:not(:disabled):active {
        background: dt('autocomplete.dropdown.active.background');
        border-color: dt('autocomplete.dropdown.active.border.color');
        color: dt('autocomplete.dropdown.active.color');
    }

    .p-autocomplete-dropdown:focus-visible {
        box-shadow: dt('autocomplete.dropdown.focus.ring.shadow');
        outline: dt('autocomplete.dropdown.focus.ring.width') dt('autocomplete.dropdown.focus.ring.style') dt('autocomplete.dropdown.focus.ring.color');
        outline-offset: dt('autocomplete.dropdown.focus.ring.offset');
    }

    .p-autocomplete-overlay {
        position: absolute;
        top: 0;
        left: 0;
        background: dt('autocomplete.overlay.background');
        color: dt('autocomplete.overlay.color');
        border: 1px solid dt('autocomplete.overlay.border.color');
        border-radius: dt('autocomplete.overlay.border.radius');
        box-shadow: dt('autocomplete.overlay.shadow');
        min-width: 100%;
    }

    .p-autocomplete-list-container {
        overflow: auto;
    }

    .p-autocomplete-list {
        margin: 0;
        list-style-type: none;
        display: flex;
        flex-direction: column;
        gap: dt('autocomplete.list.gap');
        padding: dt('autocomplete.list.padding');
    }

    .p-autocomplete-option {
        cursor: pointer;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        padding: dt('autocomplete.option.padding');
        border: 0 none;
        color: dt('autocomplete.option.color');
        background: transparent;
        transition:
            background dt('autocomplete.transition.duration'),
            color dt('autocomplete.transition.duration'),
            border-color dt('autocomplete.transition.duration');
        border-radius: dt('autocomplete.option.border.radius');
    }

    .p-autocomplete-option:not(.p-autocomplete-option-selected):not(.p-disabled).p-focus {
        background: dt('autocomplete.option.focus.background');
        color: dt('autocomplete.option.focus.color');
    }

    .p-autocomplete-option-selected {
        background: dt('autocomplete.option.selected.background');
        color: dt('autocomplete.option.selected.color');
    }

    .p-autocomplete-option-selected.p-focus {
        background: dt('autocomplete.option.selected.focus.background');
        color: dt('autocomplete.option.selected.focus.color');
    }

    .p-autocomplete-option-group {
        margin: 0;
        padding: dt('autocomplete.option.group.padding');
        color: dt('autocomplete.option.group.color');
        background: dt('autocomplete.option.group.background');
        font-weight: dt('autocomplete.option.group.font.weight');
    }

    .p-autocomplete-input-multiple {
        margin: 0;
        list-style-type: none;
        cursor: text;
        overflow: hidden;
        display: flex;
        align-items: center;
        flex-wrap: wrap;
        padding: calc(dt('autocomplete.padding.y') / 2) dt('autocomplete.padding.x');
        gap: calc(dt('autocomplete.padding.y') / 2);
        color: dt('autocomplete.color');
        background: dt('autocomplete.background');
        border: 1px solid dt('autocomplete.border.color');
        border-radius: dt('autocomplete.border.radius');
        width: 100%;
        transition:
            background dt('autocomplete.transition.duration'),
            color dt('autocomplete.transition.duration'),
            border-color dt('autocomplete.transition.duration'),
            outline-color dt('autocomplete.transition.duration'),
            box-shadow dt('autocomplete.transition.duration');
        outline-color: transparent;
        box-shadow: dt('autocomplete.shadow');
    }

    .p-autocomplete-input-multiple.p-disabled {
        opacity: 1;
        background: dt('inputtext.disabled.background');
        color: dt('inputtext.disabled.color');
    }

    .p-autocomplete:not(.p-disabled):hover .p-autocomplete-input-multiple {
        border-color: dt('autocomplete.hover.border.color');
    }

    .p-autocomplete:not(.p-disabled).p-focus .p-autocomplete-input-multiple {
        border-color: dt('autocomplete.focus.border.color');
        box-shadow: dt('autocomplete.focus.ring.shadow');
        outline: dt('autocomplete.focus.ring.width') dt('autocomplete.focus.ring.style') dt('autocomplete.focus.ring.color');
        outline-offset: dt('autocomplete.focus.ring.offset');
    }

    .p-autocomplete.p-invalid .p-autocomplete-input-multiple {
        border-color: dt('autocomplete.invalid.border.color');
    }

    .p-variant-filled.p-autocomplete-input-multiple {
        background: dt('autocomplete.filled.background');
    }

    .p-autocomplete:not(.p-disabled):hover .p-variant-filled.p-autocomplete-input-multiple {
        background: dt('autocomplete.filled.hover.background');
    }

    .p-autocomplete:not(.p-disabled).p-focus .p-variant-filled.p-autocomplete-input-multiple {
        background: dt('autocomplete.filled.focus.background');
    }

    .p-autocomplete.p-disabled .p-autocomplete-input-multiple {
        opacity: 1;
        background: dt('autocomplete.disabled.background');
        color: dt('autocomplete.disabled.color');
    }

    .p-autocomplete-chip.p-chip {
        padding-block-start: calc(dt('autocomplete.padding.y') / 2);
        padding-block-end: calc(dt('autocomplete.padding.y') / 2);
        border-radius: dt('autocomplete.chip.border.radius');
    }

    .p-autocomplete-input-multiple:has(.p-autocomplete-chip) {
        padding-inline-start: calc(dt('autocomplete.padding.y') / 2);
        padding-inline-end: calc(dt('autocomplete.padding.y') / 2);
    }

    .p-autocomplete-chip-item.p-focus .p-autocomplete-chip {
        background: dt('autocomplete.chip.focus.background');
        color: dt('autocomplete.chip.focus.color');
    }

    .p-autocomplete-input-chip {
        flex: 1 1 auto;
        display: inline-flex;
        padding-block-start: calc(dt('autocomplete.padding.y') / 2);
        padding-block-end: calc(dt('autocomplete.padding.y') / 2);
    }

    .p-autocomplete-input-chip input {
        border: 0 none;
        outline: 0 none;
        background: transparent;
        margin: 0;
        padding: 0;
        box-shadow: none;
        border-radius: 0;
        width: 100%;
        font-family: inherit;
        font-feature-settings: inherit;
        font-size: 1rem;
        color: inherit;
    }

    .p-autocomplete-input-chip input::placeholder {
        color: dt('autocomplete.placeholder.color');
    }

    .p-autocomplete.p-invalid .p-autocomplete-input-chip input::placeholder {
        color: dt('autocomplete.invalid.placeholder.color');
    }

    .p-autocomplete-empty-message {
        padding: dt('autocomplete.empty.message.padding');
    }

    .p-autocomplete-fluid {
        display: flex;
    }

    .p-autocomplete-fluid:has(.p-autocomplete-dropdown) .p-autocomplete-input {
        width: 1%;
    }

    .p-autocomplete:has(.p-inputtext-sm) .p-autocomplete-dropdown {
        width: dt('autocomplete.dropdown.sm.width');
    }

    .p-autocomplete:has(.p-inputtext-sm) .p-autocomplete-dropdown .p-icon {
        font-size: dt('form.field.sm.font.size');
        width: dt('form.field.sm.font.size');
        height: dt('form.field.sm.font.size');
    }

    .p-autocomplete:has(.p-inputtext-lg) .p-autocomplete-dropdown {
        width: dt('autocomplete.dropdown.lg.width');
    }

    .p-autocomplete:has(.p-inputtext-lg) .p-autocomplete-dropdown .p-icon {
        font-size: dt('form.field.lg.font.size');
        width: dt('form.field.lg.font.size');
        height: dt('form.field.lg.font.size');
    }

    .p-autocomplete-clear-icon {
        position: absolute;
        top: 50%;
        margin-top: -0.5rem;
        cursor: pointer;
        color: dt('autocomplete.dropdown.color');
        inset-inline-end: dt('autocomplete.padding.x');
    }

    .p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-clear-icon {
        inset-inline-end: calc(dt('autocomplete.padding.x') + dt('autocomplete.dropdown.width'));
    }
`;var h9=["item"],m9=["empty"],f9=["header"],g9=["footer"],_9=["selecteditem"],b9=["group"],y9=["loader"],v9=["removeicon"],x9=["loadingicon"],w9=["clearicon"],I9=["dropdownicon"],T9=["focusInput"],C9=["multiIn"],S9=["multiContainer"],M9=["ddBtn"],k9=["items"],E9=["scroller"],P9=["overlay"],D9=t=>({i:t}),ST=t=>({$implicit:t}),L9=(t,s,e)=>({removeCallback:t,index:s,class:e}),e_=t=>({height:t}),MT=(t,s)=>({$implicit:t,options:s}),A9=t=>({options:t}),O9=()=>({}),F9=(t,s,e)=>({option:t,i:s,scrollerOptions:e}),V9=(t,s)=>({$implicit:t,index:s});function z9(t,s){if(t&1){let e=Be();A(0,"input",17,2),we("input",function(n){Q(e);let a=M();return X(a.onInput(n))})("keydown",function(n){Q(e);let a=M();return X(a.onKeyDown(n))})("change",function(n){Q(e);let a=M();return X(a.onInputChange(n))})("focus",function(n){Q(e);let a=M();return X(a.onInputFocus(n))})("blur",function(n){Q(e);let a=M();return X(a.onInputBlur(n))})("paste",function(n){Q(e);let a=M();return X(a.onInputPaste(n))})("keyup",function(n){Q(e);let a=M();return X(a.onInputKeyUp(n))}),L()}if(t&2){let e=M();$(e.cn(e.cx("pcInputText"),e.inputStyleClass)),C("pAutoFocus",e.autofocus)("ngStyle",e.inputStyle)("variant",e.$variant())("invalid",e.invalid())("pSize",e.size())("fluid",e.hasFluid),de("type",e.type)("value",e.inputValue())("id",e.inputId)("autocomplete",e.autocomplete)("placeholder",e.placeholder)("name",e.name())("minlength",e.minlength())("min",e.min())("max",e.max())("pattern",e.pattern())("size",e.inputSize())("maxlength",e.maxlength())("tabindex",e.$disabled()?-1:e.tabindex)("required",e.required()?"":void 0)("readonly",e.readonly?"":void 0)("disabled",e.$disabled()?"":void 0)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required())("aria-expanded",e.overlayVisible??!1)("aria-controls",e.overlayVisible?e.id+"_list":null)("aria-activedescendant",e.focused?e.focusedOptionId:void 0)}}function R9(t,s){if(t&1){let e=Be();at(),A(0,"svg",20),we("click",function(){Q(e);let n=M(2);return X(n.clear())}),L()}if(t&2){let e=M(2);$(e.cx("clearIcon")),de("aria-hidden",!0)}}function B9(t,s){}function N9(t,s){t&1&&z(0,B9,0,0,"ng-template")}function q9(t,s){if(t&1){let e=Be();A(0,"span",21),we("click",function(){Q(e);let n=M(2);return X(n.clear())}),z(1,N9,1,0,null,22),L()}if(t&2){let e=M(2);$(e.cx("clearIcon")),de("aria-hidden",!0),S(),C("ngTemplateOutlet",e.clearIconTemplate||e._clearIconTemplate)}}function H9(t,s){if(t&1&&(Ke(0),z(1,R9,1,3,"svg",18)(2,q9,2,4,"span",19),We()),t&2){let e=M();S(),C("ngIf",!e.clearIconTemplate&&!e._clearIconTemplate),S(),C("ngIf",e.clearIconTemplate||e._clearIconTemplate)}}function j9(t,s){t&1&&nt(0)}function G9(t,s){if(t&1){let e=Be();A(0,"span",21),we("click",function(n){Q(e);let a=M(2).index,u=M(2);return X(u.readonly?"":u.removeOption(n,a))}),at(),ae(1,"svg",29),L()}if(t&2){let e=M(4);$(e.cx("chipIcon")),S(),$(e.cx("chipIcon")),de("aria-hidden",!0)}}function U9(t,s){}function $9(t,s){t&1&&z(0,U9,0,0,"ng-template")}function K9(t,s){if(t&1&&(A(0,"span"),z(1,$9,1,0,null,28),L()),t&2){let e=M(2).index,i=M(2);de("aria-hidden",!0),S(),C("ngTemplateOutlet",i.removeIconTemplate||i._removeIconTemplate)("ngTemplateOutletContext",Er(3,L9,i.removeOption.bind(i),e,i.cx("chipIcon")))}}function W9(t,s){if(t&1&&z(0,G9,2,5,"span",19)(1,K9,2,7,"span",13),t&2){let e=M(3);C("ngIf",!e.removeIconTemplate&&!e._removeIconTemplate),S(),C("ngIf",e.removeIconTemplate||e._removeIconTemplate)}}function Z9(t,s){if(t&1){let e=Be();A(0,"li",25,4)(2,"p-chip",27),we("onRemove",function(n){let a=Q(e).index,u=M(2);return X(u.readonly?"":u.removeOption(n,a))}),z(3,j9,1,0,"ng-container",28)(4,W9,2,2,"ng-template",null,5,ze),L()()}if(t&2){let e=s.$implicit,i=s.index,n=M(2);$(n.cx("chipItem",ot(13,D9,i))),de("id",n.id+"_multiple_option_"+i)("aria-label",n.getOptionLabel(e))("aria-setsize",n.modelValue().length)("aria-posinset",i+1)("aria-selected",!0),S(2),$(n.cx("pcChip")),C("label",!n.selectedItemTemplate&&!n._selectedItemTemplate&&n.getOptionLabel(e))("removable",!0),S(),C("ngTemplateOutlet",n.selectedItemTemplate||n._selectedItemTemplate)("ngTemplateOutletContext",ot(15,ST,e))}}function Q9(t,s){if(t&1){let e=Be();A(0,"ul",23,3),we("focus",function(n){Q(e);let a=M();return X(a.onMultipleContainerFocus(n))})("blur",function(n){Q(e);let a=M();return X(a.onMultipleContainerBlur(n))})("keydown",function(n){Q(e);let a=M();return X(a.onMultipleContainerKeyDown(n))}),z(2,Z9,6,17,"li",24),A(3,"li",25)(4,"input",26,2),we("input",function(n){Q(e);let a=M();return X(a.onInput(n))})("keydown",function(n){Q(e);let a=M();return X(a.onKeyDown(n))})("change",function(n){Q(e);let a=M();return X(a.onInputChange(n))})("focus",function(n){Q(e);let a=M();return X(a.onInputFocus(n))})("blur",function(n){Q(e);let a=M();return X(a.onInputBlur(n))})("paste",function(n){Q(e);let a=M();return X(a.onInputPaste(n))})("keyup",function(n){Q(e);let a=M();return X(a.onInputKeyUp(n))}),L()()()}if(t&2){let e=M();$(e.cx("inputMultiple")),C("tabindex",-1),de("aria-orientation","horizontal")("aria-activedescendant",e.focused?e.focusedMultipleOptionId:void 0),S(2),C("ngForOf",e.modelValue()),S(),$(e.cx("inputChip")),S(),$(e.cx("pcInputText")),C("pAutoFocus",e.autofocus)("ngStyle",e.inputStyle),de("type",e.type)("id",e.inputId)("autocomplete",e.autocomplete)("name",e.name())("minlength",e.minlength())("maxlength",e.maxlength())("size",e.size())("min",e.min())("max",e.max())("pattern",e.pattern())("placeholder",e.$filled()?null:e.placeholder)("tabindex",e.$disabled()?-1:e.tabindex)("required",e.required()?"":void 0)("readonly",e.readonly?"":void 0)("disabled",e.$disabled()?"":void 0)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required())("aria-expanded",e.overlayVisible??!1)("aria-controls",e.overlayVisible?e.id+"_list":null)("aria-activedescendant",e.focused?e.focusedOptionId:void 0)}}function X9(t,s){if(t&1&&(at(),ae(0,"svg",32)),t&2){let e=M(2);$(e.cx("loader")),C("spin",!0),de("aria-hidden",!0)}}function Y9(t,s){}function J9(t,s){t&1&&z(0,Y9,0,0,"ng-template")}function eL(t,s){if(t&1&&(A(0,"span"),z(1,J9,1,0,null,22),L()),t&2){let e=M(2);$(e.cx("loader")),de("aria-hidden",!0),S(),C("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)}}function tL(t,s){if(t&1&&(Ke(0),z(1,X9,1,4,"svg",30)(2,eL,2,4,"span",31),We()),t&2){let e=M();S(),C("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),S(),C("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function iL(t,s){if(t&1&&ae(0,"span",35),t&2){let e=M(2);C("ngClass",e.dropdownIcon),de("aria-hidden",!0)}}function nL(t,s){t&1&&(at(),ae(0,"svg",37))}function aL(t,s){}function oL(t,s){t&1&&z(0,aL,0,0,"ng-template")}function rL(t,s){if(t&1&&(Ke(0),z(1,nL,1,0,"svg",36)(2,oL,1,0,null,22),We()),t&2){let e=M(2);S(),C("ngIf",!e.dropdownIconTemplate&&!e._dropdownIconTemplate),S(),C("ngTemplateOutlet",e.dropdownIconTemplate||e._dropdownIconTemplate)}}function sL(t,s){if(t&1){let e=Be();A(0,"button",33,6),we("click",function(n){Q(e);let a=M();return X(a.handleDropdownClick(n))}),z(2,iL,1,2,"span",34)(3,rL,3,2,"ng-container",13),L()}if(t&2){let e=M();$(e.cx("dropdown")),C("disabled",e.$disabled()),de("aria-label",e.dropdownAriaLabel)("tabindex",e.tabindex),S(2),C("ngIf",e.dropdownIcon),S(),C("ngIf",!e.dropdownIcon)}}function lL(t,s){t&1&&nt(0)}function cL(t,s){t&1&&nt(0)}function dL(t,s){if(t&1&&z(0,cL,1,0,"ng-container",28),t&2){let e=s.$implicit,i=s.options;M(2);let n=Gt(6);C("ngTemplateOutlet",n)("ngTemplateOutletContext",ni(2,MT,e,i))}}function uL(t,s){t&1&&nt(0)}function pL(t,s){if(t&1&&z(0,uL,1,0,"ng-container",28),t&2){let e=s.options,i=M(4);C("ngTemplateOutlet",i.loaderTemplate||i._loaderTemplate)("ngTemplateOutletContext",ot(2,A9,e))}}function hL(t,s){t&1&&(Ke(0),z(1,pL,1,4,"ng-template",null,9,ze),We())}function mL(t,s){if(t&1){let e=Be();A(0,"p-scroller",41,8),we("onLazyLoad",function(n){Q(e);let a=M(2);return X(a.onLazyLoad.emit(n))}),z(2,dL,1,5,"ng-template",null,1,ze)(4,hL,3,0,"ng-container",13),L()}if(t&2){let e=M(2);Lt(ot(8,e_,e.scrollHeight)),C("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),S(4),C("ngIf",e.loaderTemplate||e._loaderTemplate)}}function fL(t,s){t&1&&nt(0)}function gL(t,s){if(t&1&&(Ke(0),z(1,fL,1,0,"ng-container",28),We()),t&2){M();let e=Gt(6),i=M();S(),C("ngTemplateOutlet",e)("ngTemplateOutletContext",ni(3,MT,i.visibleOptions(),Zt(2,O9)))}}function _L(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(2).$implicit,i=M(3);S(),Et(i.getOptionGroupLabel(e.optionGroup))}}function bL(t,s){t&1&&nt(0)}function yL(t,s){if(t&1&&(Ke(0),A(1,"li",45),z(2,_L,2,1,"span",13)(3,bL,1,0,"ng-container",28),L(),We()),t&2){let e=M(),i=e.$implicit,n=e.index,a=M().options,u=M(2);S(),$(u.cx("optionGroup")),C("ngStyle",ot(7,e_,a.itemSize+"px")),de("id",u.id+"_"+u.getOptionIndex(n,a)),S(),C("ngIf",!u.groupTemplate),S(),C("ngTemplateOutlet",u.groupTemplate)("ngTemplateOutletContext",ot(9,ST,i.optionGroup))}}function vL(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(2).$implicit,i=M(3);S(),Et(i.getOptionLabel(e))}}function xL(t,s){t&1&&nt(0)}function wL(t,s){if(t&1){let e=Be();Ke(0),A(1,"li",46),we("click",function(n){Q(e);let a=M().$implicit,u=M(3);return X(u.onOptionSelect(n,a))})("mouseenter",function(n){Q(e);let a=M().index,u=M().options,b=M(2);return X(b.onOptionMouseEnter(n,b.getOptionIndex(a,u)))}),z(2,vL,2,1,"span",13)(3,xL,1,0,"ng-container",28),L(),We()}if(t&2){let e=M(),i=e.$implicit,n=e.index,a=M().options,u=M(2);S(),$(u.cx("option",Er(13,F9,i,n,a))),C("ngStyle",ot(17,e_,a.itemSize+"px")),de("id",u.id+"_"+u.getOptionIndex(n,a))("aria-label",u.getOptionLabel(i))("aria-selected",u.isSelected(i))("aria-disabled",u.isOptionDisabled(i))("data-p-focused",u.focusedOptionIndex()===u.getOptionIndex(n,a))("aria-setsize",u.ariaSetSize)("aria-posinset",u.getAriaPosInset(u.getOptionIndex(n,a))),S(),C("ngIf",!u.itemTemplate&&!u._itemTemplate),S(),C("ngTemplateOutlet",u.itemTemplate||u._itemTemplate)("ngTemplateOutletContext",ni(19,V9,i,a.getOptions?a.getOptions(n):n))}}function IL(t,s){if(t&1&&z(0,yL,4,11,"ng-container",13)(1,wL,4,22,"ng-container",13),t&2){let e=s.$implicit,i=M(3);C("ngIf",i.isOptionGroup(e)),S(),C("ngIf",!i.isOptionGroup(e))}}function TL(t,s){if(t&1&&(Ke(0),ie(1),We()),t&2){let e=M(4);S(),oi(" ",e.searchResultMessageText," ")}}function CL(t,s){t&1&&nt(0,null,11)}function SL(t,s){if(t&1&&(A(0,"li",45),z(1,TL,2,1,"ng-container",47)(2,CL,2,0,"ng-container",22),L()),t&2){let e=M().options,i=M(2);$(i.cx("emptyMessage")),C("ngStyle",ot(6,e_,e.itemSize+"px")),S(),C("ngIf",!i.emptyTemplate&&!i._emptyTemplate)("ngIfElse",i.empty),S(),C("ngTemplateOutlet",i.emptyTemplate||i._emptyTemplate)}}function ML(t,s){if(t&1&&(A(0,"ul",42,10),z(2,IL,2,2,"ng-template",43)(3,SL,3,8,"li",44),L()),t&2){let e=s.$implicit,i=s.options,n=M(2);Lt(i.contentStyle),$(n.cn(n.cx("list"),i.contentStyleClass)),de("id",n.id+"_list")("aria-label",n.listLabel),S(2),C("ngForOf",e),S(),C("ngIf",!e||e&&e.length===0&&n.showEmptyMessage)}}function kL(t,s){t&1&&nt(0)}function EL(t,s){if(t&1&&(A(0,"div",38),z(1,lL,1,0,"ng-container",22),A(2,"div"),z(3,mL,5,10,"p-scroller",39)(4,gL,2,6,"ng-container",13),L(),z(5,ML,4,8,"ng-template",null,7,ze)(7,kL,1,0,"ng-container",22),L(),A(8,"span",40),ie(9),L()),t&2){let e=M();$(e.cn(e.cx("overlay"),e.panelStyleClass)),C("ngStyle",e.panelStyle),S(),C("ngTemplateOutlet",e.headerTemplate||e._headerTemplate),S(),$(e.cx("listContainer")),Nn("max-height",e.virtualScroll?"auto":e.scrollHeight),S(),C("ngIf",e.virtualScroll),S(),C("ngIf",!e.virtualScroll),S(3),C("ngTemplateOutlet",e.footerTemplate||e._footerTemplate),S(2),oi(" ",e.selectedMessageText," ")}}var PL=`
    ${TT}

    /* For PrimeNG */
    p-autoComplete.ng-invalid.ng-dirty .p-autocomplete-input,
    p-autoComplete.ng-invalid.ng-dirty .p-autocomplete-input-multiple,
    p-auto-complete.ng-invalid.ng-dirty .p-autocomplete-input,
    p-auto-complete.ng-invalid.ng-dirty .p-autocomplete-input-multiple p-autocomplete.ng-invalid.ng-dirty .p-autocomplete-input,
    p-autocomplete.ng-invalid.ng-dirty .p-autocomplete-input-multiple {
        border-color: dt('autocomplete.invalid.border.color');
    }

    p-autoComplete.ng-invalid.ng-dirty .p-autocomplete-input:enabled:focus,
    p-autoComplete.ng-invalid.ng-dirty:not(.p-disabled).p-focus .p-autocomplete-input-multiple,
    p-auto-complete.ng-invalid.ng-dirty .p-autocomplete-input:enabled:focus,
    p-auto-complete.ng-invalid.ng-dirty:not(.p-disabled).p-focus .p-autocomplete-input-multiple,
    p-autocomplete.ng-invalid.ng-dirty .p-autocomplete-input:enabled:focus,
    p-autocomplete.ng-invalid.ng-dirty:not(.p-disabled).p-focus .p-autocomplete-input-multiple {
        border-color: dt('autocomplete.focus.border.color');
    }

    p-autoComplete.ng-invalid.ng-dirty .p-autocomplete-input-chip input::placeholder,
    p-auto-complete.ng-invalid.ng-dirty .p-autocomplete-input-chip input::placeholder,
    p-autocomplete.ng-invalid.ng-dirty .p-autocomplete-input-chip input::placeholder {
        color: dt('autocomplete.invalid.placeholder.color');
    }

    p-autoComplete.ng-invalid.ng-dirty .p-autocomplete-input::placeholder,
    p-auto-complete.ng-invalid.ng-dirty .p-autocomplete-input::placeholder,
    p-autocomplete.ng-invalid.ng-dirty .p-autocomplete-input::placeholder {
        color: dt('autocomplete.invalid.placeholder.color');
    }
`,DL={root:{position:"relative"}},LL={root:({instance:t})=>["p-autocomplete p-component p-inputwrapper",{"p-invalid":t.invalid(),"p-focus":t.focused,"p-inputwrapper-filled":t.$filled(),"p-inputwrapper-focus":t.focused&&!t.$disabled()||t.autofocus||t.overlayVisible,"p-autocomplete-open":t.overlayVisible,"p-autocomplete-clearable":t.showClear&&!t.$disabled(),"p-autocomplete-fluid":t.hasFluid}],pcInputText:"p-autocomplete-input",inputMultiple:({instance:t})=>["p-autocomplete-input-multiple",{"p-disabled":t.$disabled(),"p-variant-filled":t.$variant()==="filled"}],chipItem:({instance:t,i:s})=>["p-autocomplete-chip-item",{"p-focus":t.focusedMultipleOptionIndex()===s}],pcChip:"p-autocomplete-chip",chipIcon:"p-autocomplete-chip-icon",inputChip:"p-autocomplete-input-chip",loader:"p-autocomplete-loader",dropdown:"p-autocomplete-dropdown",overlay:({instance:t})=>["p-autocomplete-overlay p-component-overlay p-component",{"p-input-filled":t.$variant()==="filled","p-ripple-disabled":t.config.ripple()===!1}],listContainer:"p-autocomplete-list-container",list:"p-autocomplete-list",optionGroup:"p-autocomplete-option-group",option:({instance:t,option:s,i:e,scrollerOptions:i})=>({"p-autocomplete-option":!0,"p-autocomplete-option-selected":t.isSelected(s),"p-focus":t.focusedOptionIndex()===t.getOptionIndex(e,i),"p-disabled":t.isOptionDisabled(s)}),emptyMessage:"p-autocomplete-empty-message",clearIcon:"p-autocomplete-clear-icon"},CT=(()=>{class t extends Rt{name="autocomplete";theme=PL;classes=LL;inlineStyles=DL;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var AL={provide:Oo,useExisting:Ki(()=>t_),multi:!0},t_=(()=>{class t extends c3{overlayService;zone;minLength=1;minQueryLength;delay=300;panelStyle;styleClass;panelStyleClass;inputStyle;inputId;inputStyleClass;placeholder;readonly;scrollHeight="200px";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;autoHighlight;forceSelection;type="text";autoZIndex=!0;baseZIndex=0;ariaLabel;dropdownAriaLabel;ariaLabelledBy;dropdownIcon;unique=!0;group;completeOnFocus=!1;showClear=!1;dropdown;showEmptyMessage=!0;dropdownMode="blank";multiple;tabindex;dataKey;emptyMessage;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autofocus;autocomplete="off";optionGroupChildren="items";optionGroupLabel="label";overlayOptions;get suggestions(){return this._suggestions()}set suggestions(e){this._suggestions.set(e),this.handleSuggestionsChange()}optionLabel;optionValue;id;searchMessage;emptySelectionMessage;selectionMessage;autoOptionFocus=!1;selectOnFocus;searchLocale;optionDisabled;focusOnHover=!0;typeahead=!0;appendTo=nn(void 0);completeMethod=new Le;onSelect=new Le;onUnselect=new Le;onFocus=new Le;onBlur=new Le;onDropdownClick=new Le;onClear=new Le;onKeyUp=new Le;onShow=new Le;onHide=new Le;onLazyLoad=new Le;inputEL;multiInputEl;multiContainerEL;dropdownButton;itemsViewChild;scroller;overlayViewChild;itemsWrapper;itemTemplate;emptyTemplate;headerTemplate;footerTemplate;selectedItemTemplate;groupTemplate;loaderTemplate;removeIconTemplate;loadingIconTemplate;clearIconTemplate;dropdownIconTemplate;onHostClick(e){this.onContainerClick(e)}primeng=Fe(Hw);value;_suggestions=gi(null);timeout;overlayVisible;suggestionsUpdated;highlightOption;highlightOptionChanged;focused=!1;loading;scrollHandler;listId;searchTimeout;dirty=!1;_itemTemplate;_groupTemplate;_selectedItemTemplate;_headerTemplate;_emptyTemplate;_footerTemplate;_loaderTemplate;_removeIconTemplate;_loadingIconTemplate;_clearIconTemplate;_dropdownIconTemplate;focusedMultipleOptionIndex=gi(-1);focusedOptionIndex=gi(-1);_componentStyle=Fe(CT);$appendTo=Ai(()=>this.appendTo()||this.config.overlayAppendTo());visibleOptions=Ai(()=>this.group?this.flatOptions(this._suggestions()):this._suggestions()||[]);inputValue=Ai(()=>{let e=this.modelValue(),i=this.optionValueSelected?(this.suggestions||[]).find(n=>Vi(n,this.optionValue)===e):e;if(Wt(e))if(typeof e=="object"||this.optionValueSelected){let n=this.getOptionLabel(i);return n??e}else return e;else return""});get focusedMultipleOptionId(){return this.focusedMultipleOptionIndex()!==-1?`${this.id}_multiple_option_${this.focusedMultipleOptionIndex()}`:null}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}get searchResultMessageText(){return Wt(this.visibleOptions())&&this.overlayVisible?this.searchMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptySearchMessageText}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptySearchMessageText(){return this.emptyMessage||this.config.translation.emptySearchMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption()?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue()?.length:"1"):this.emptySelectionMessageText}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}get listLabel(){return this.config.getTranslation(yo.ARIA).listLabel}get virtualScrollerDisabled(){return!this.virtualScroll}get optionValueSelected(){return typeof this.modelValue()=="string"&&this.optionValue}chipItemClass(e){return this._componentStyle.classes.chipItem({instance:this,i:e})}constructor(e,i){super(),this.overlayService=e,this.zone=i}ngOnInit(){super.ngOnInit(),this.id=this.id||vi("pn_id_"),this.cd.detectChanges()}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break;case"group":this._groupTemplate=e.template;break;case"selecteditem":this._selectedItemTemplate=e.template;break;case"selectedItem":this._selectedItemTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"empty":this._emptyTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;case"removetokenicon":this._removeIconTemplate=e.template;break;case"loadingicon":this._loadingIconTemplate=e.template;break;case"clearicon":this._clearIconTemplate=e.template;break;case"dropdownicon":this._dropdownIconTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlayViewChild&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1),this.suggestionsUpdated=!1})}handleSuggestionsChange(){if(this.loading){this._suggestions()?.length>0||this.showEmptyMessage||this.emptyTemplate?this.show():this.hide();let e=this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(e),this.suggestionsUpdated=!0,this.loading=!1,this.cd.markForCheck()}}flatOptions(e){return(e||[]).reduce((i,n,a)=>{i.push({optionGroup:n,group:!0,index:a});let u=this.getOptionGroupChildren(n);return u&&u.forEach(b=>i.push(b)),i},[])}isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findLastOptionIndex(){return ta(this.visibleOptions(),e=>this.isValidOption(e))}findFirstFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findLastFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let i=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(n=>this.isValidOption(n)):-1;return i>-1?i+e+1:e}findPrevOptionIndex(e){let i=e>0?ta(this.visibleOptions().slice(0,e),n=>this.isValidOption(n)):-1;return i>-1?i:e}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionDisabled(e){return this.optionDisabled?Vi(e,this.optionDisabled):!1}isSelected(e){return this.multiple?this.unique?this.modelValue()?.find(i=>Wa(i,this.getOptionValue(e),this.equalityKey())):!1:Wa(this.modelValue(),this.getOptionValue(e),this.equalityKey())}isOptionMatched(e,i){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.searchLocale)===i.toLocaleLowerCase(this.searchLocale)}isInputClicked(e){return e.target===this.inputEL.nativeElement}isDropdownClicked(e){return this.dropdownButton?.nativeElement?e.target===this.dropdownButton.nativeElement||this.dropdownButton.nativeElement.contains(e.target):!1}equalityKey(){return this.dataKey}onContainerClick(e){this.$disabled()||this.loading||this.isInputClicked(e)||this.isDropdownClicked(e)||(!this.overlayViewChild||!this.overlayViewChild.overlayViewChild?.nativeElement.contains(e.target))&&$t(this.inputEL.nativeElement)}handleDropdownClick(e){let i;this.overlayVisible?this.hide(!0):($t(this.inputEL.nativeElement),i=this.inputEL.nativeElement.value,this.dropdownMode==="blank"?this.search(e,"","dropdown"):this.dropdownMode==="current"&&this.search(e,i,"dropdown")),this.onDropdownClick.emit({originalEvent:e,query:i})}onInput(e){if(this.typeahead){let i=this.minQueryLength||this.minLength;this.searchTimeout&&clearTimeout(this.searchTimeout);let n=e.target.value;this.maxlength()!==null&&(n=n.split("").slice(0,this.maxlength()).join("")),!this.multiple&&!this.forceSelection&&this.updateModel(n),n.length===0&&!this.multiple?(this.onClear.emit(),setTimeout(()=>{this.hide()},this.delay/2)):n.length>=i?(this.focusedOptionIndex.set(-1),this.searchTimeout=setTimeout(()=>{this.search(e,n,"input")},this.delay)):this.hide()}}onInputChange(e){if(this.forceSelection){let i=!1;if(this.visibleOptions()){let n=this.visibleOptions().find(a=>this.isOptionMatched(a,this.inputEL.nativeElement.value||""));n!==void 0&&(i=!0,!this.isSelected(n)&&this.onOptionSelect(e,n))}i||(this.inputEL.nativeElement.value="",!this.multiple&&this.updateModel(null))}}onInputFocus(e){if(this.$disabled())return;!this.dirty&&this.completeOnFocus&&this.search(e,e.target.value,"focus"),this.dirty=!0,this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(e)}onMultipleContainerFocus(e){this.$disabled()||(this.focused=!0)}onMultipleContainerBlur(e){this.focusedMultipleOptionIndex.set(-1),this.focused=!1}onMultipleContainerKeyDown(e){if(this.$disabled()){e.preventDefault();return}switch(e.code){case"ArrowLeft":this.onArrowLeftKeyOnMultiple(e);break;case"ArrowRight":this.onArrowRightKeyOnMultiple(e);break;case"Backspace":this.onBackspaceKeyOnMultiple(e);break;default:break}}onInputBlur(e){this.dirty=!1,this.focused=!1,this.focusedOptionIndex.set(-1),this.onModelTouched(),this.onBlur.emit(e)}onInputPaste(e){this.onKeyDown(e)}onInputKeyUp(e){this.onKeyUp.emit(e)}onKeyDown(e){if(this.$disabled()){e.preventDefault();return}switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e);break;case"ShiftLeft":case"ShiftRight":break;default:break}}onArrowDownKey(e){if(!this.overlayVisible)return;let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,i),e.preventDefault(),e.stopPropagation()}onArrowUpKey(e){if(this.overlayVisible)if(e.altKey)this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide(),e.preventDefault();else{let i=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,i),e.preventDefault(),e.stopPropagation()}}onArrowLeftKey(e){let i=e.currentTarget;this.focusedOptionIndex.set(-1),this.multiple&&(hn(i.value)&&this.hasSelectedOption()?($t(this.multiContainerEL.nativeElement),this.focusedMultipleOptionIndex.set(this.modelValue().length)):e.stopPropagation())}onArrowRightKey(e){this.focusedOptionIndex.set(-1),this.multiple&&e.stopPropagation()}onHomeKey(e){let{currentTarget:i}=e,n=i.value.length;i.setSelectionRange(0,e.shiftKey?n:0),this.focusedOptionIndex.set(-1),e.preventDefault()}onEndKey(e){let{currentTarget:i}=e,n=i.value.length;i.setSelectionRange(e.shiftKey?0:n,n),this.focusedOptionIndex.set(-1),e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onEnterKey(e){if(this.typeahead||this.multiple&&(this.updateModel([...this.modelValue()||[],e.target.value]),this.inputEL.nativeElement.value=""),this.overlayVisible)this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.hide();else return;e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onTabKey(e){this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide()}onBackspaceKey(e){if(this.multiple){if(Wt(this.modelValue())&&!this.inputEL.nativeElement.value){let i=this.modelValue()[this.modelValue().length-1],n=this.modelValue().slice(0,-1);this.updateModel(n),this.onUnselect.emit({originalEvent:e,value:i})}e.stopPropagation()}!this.multiple&&this.showClear&&this.findSelectedOptionIndex()!=-1&&this.clear()}onArrowLeftKeyOnMultiple(e){let i=this.focusedMultipleOptionIndex()<1?0:this.focusedMultipleOptionIndex()-1;this.focusedMultipleOptionIndex.set(i)}onArrowRightKeyOnMultiple(e){let i=this.focusedMultipleOptionIndex();i++,this.focusedMultipleOptionIndex.set(i),i>this.modelValue().length-1&&(this.focusedMultipleOptionIndex.set(-1),$t(this.inputEL.nativeElement))}onBackspaceKeyOnMultiple(e){this.focusedMultipleOptionIndex()!==-1&&this.removeOption(e,this.focusedMultipleOptionIndex())}onOptionSelect(e,i,n=!0){let a=this.getOptionValue(i);this.multiple?(this.inputEL.nativeElement.value="",this.isSelected(i)||this.updateModel([...this.modelValue()||[],a])):this.updateModel(a),this.onSelect.emit({originalEvent:e,value:i}),n&&this.hide(!0)}onOptionMouseEnter(e,i){this.focusOnHover&&this.changeFocusedOptionIndex(e,i)}search(e,i,n){i!=null&&(n==="input"&&i.trim().length===0||(this.loading=!0,this.completeMethod.emit({originalEvent:e,query:i})))}removeOption(e,i){e.stopPropagation();let n=this.modelValue()[i],a=this.modelValue().filter((u,b)=>b!==i);this.updateModel(a),this.onUnselect.emit({originalEvent:e,value:n}),$t(this.inputEL.nativeElement)}updateModel(e){this.value=e,this.writeModelValue(e),this.onModelChange(e),this.updateInputValue(),this.cd.markForCheck()}updateInputValue(){this.inputEL&&this.inputEL.nativeElement&&(this.multiple?this.inputEL.nativeElement.value="":this.inputEL.nativeElement.value=this.inputValue())}autoUpdateModel(){if((this.selectOnFocus||this.autoHighlight)&&this.autoOptionFocus&&!this.hasSelectedOption()){let e=this.findFirstFocusedOptionIndex();this.focusedOptionIndex.set(e),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)}}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let n=ei(this.itemsViewChild.nativeElement,`li[id="${i}"]`);n?n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}changeFocusedOptionIndex(e,i){this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions()[i],!1))}show(e=!1){this.dirty=!0,this.overlayVisible=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),e&&$t(this.inputEL.nativeElement),e&&$t(this.inputEL.nativeElement),this.onShow.emit(),this.cd.markForCheck()}hide(e=!1){let i=()=>{this.dirty=e,this.overlayVisible=!1,this.focusedOptionIndex.set(-1),e&&$t(this.inputEL.nativeElement),this.onHide.emit(),this.cd.markForCheck()};setTimeout(()=>{i()},0)}clear(){this.updateModel(null),this.inputEL.nativeElement.value="",this.onClear.emit()}hasSelectedOption(){return Wt(this.modelValue())}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(i=>this.isOptionGroup(i)).length:e)+1}getOptionLabel(e){return this.optionLabel?Vi(e,this.optionLabel):e&&e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?Vi(e,this.optionValue):e&&e.value!=null?e.value:e}getOptionIndex(e,i){return this.virtualScrollerDisabled?e:i&&i.getItemOptions(e).index}getOptionGroupLabel(e){return this.optionGroupLabel?Vi(e,this.optionGroupLabel):e&&e.label!=null?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?Vi(e,this.optionGroupChildren):e.items}onOverlayAnimationStart(e){if(e.toState==="visible"&&(this.itemsWrapper=ei(this.overlayViewChild.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-autocomplete-panel"),this.virtualScroll&&(this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.scroller.viewInit()),this.visibleOptions()&&this.visibleOptions().length))if(this.virtualScroll){let i=this.modelValue()?this.focusedOptionIndex():-1;i!==-1&&this.scroller?.scrollToIndex(i)}else{let i=ei(this.itemsWrapper,".p-autocomplete-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"center"})}}writeControlValue(e,i){this.value=e,i(e),this.updateInputValue(),this.cd.markForCheck()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||t)(Dt(sr),Dt(pa))};static \u0275cmp=Je({type:t,selectors:[["p-autoComplete"],["p-autocomplete"],["p-auto-complete"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,h9,5),xe(a,m9,5),xe(a,f9,5),xe(a,g9,5),xe(a,_9,5),xe(a,b9,5),xe(a,y9,5),xe(a,v9,5),xe(a,x9,5),xe(a,w9,5),xe(a,I9,5),xe(a,di,4)),i&2){let u;se(u=le())&&(n.itemTemplate=u.first),se(u=le())&&(n.emptyTemplate=u.first),se(u=le())&&(n.headerTemplate=u.first),se(u=le())&&(n.footerTemplate=u.first),se(u=le())&&(n.selectedItemTemplate=u.first),se(u=le())&&(n.groupTemplate=u.first),se(u=le())&&(n.loaderTemplate=u.first),se(u=le())&&(n.removeIconTemplate=u.first),se(u=le())&&(n.loadingIconTemplate=u.first),se(u=le())&&(n.clearIconTemplate=u.first),se(u=le())&&(n.dropdownIconTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&(ut(T9,5),ut(C9,5),ut(S9,5),ut(M9,5),ut(k9,5),ut(E9,5),ut(P9,5)),i&2){let a;se(a=le())&&(n.inputEL=a.first),se(a=le())&&(n.multiInputEl=a.first),se(a=le())&&(n.multiContainerEL=a.first),se(a=le())&&(n.dropdownButton=a.first),se(a=le())&&(n.itemsViewChild=a.first),se(a=le())&&(n.scroller=a.first),se(a=le())&&(n.overlayViewChild=a.first)}},hostVars:4,hostBindings:function(i,n){i&1&&we("click",function(u){return n.onHostClick(u)}),i&2&&(Lt(n.sx("root")),$(n.cn(n.cx("root"),n.styleClass)))},inputs:{minLength:[2,"minLength","minLength",wt],minQueryLength:[2,"minQueryLength","minQueryLength",wt],delay:[2,"delay","delay",wt],panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:[2,"readonly","readonly",ye],scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",ye],virtualScroll:[2,"virtualScroll","virtualScroll",ye],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",wt],virtualScrollOptions:"virtualScrollOptions",autoHighlight:[2,"autoHighlight","autoHighlight",ye],forceSelection:[2,"forceSelection","forceSelection",ye],type:"type",autoZIndex:[2,"autoZIndex","autoZIndex",ye],baseZIndex:[2,"baseZIndex","baseZIndex",wt],ariaLabel:"ariaLabel",dropdownAriaLabel:"dropdownAriaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:[2,"unique","unique",ye],group:[2,"group","group",ye],completeOnFocus:[2,"completeOnFocus","completeOnFocus",ye],showClear:[2,"showClear","showClear",ye],dropdown:[2,"dropdown","dropdown",ye],showEmptyMessage:[2,"showEmptyMessage","showEmptyMessage",ye],dropdownMode:"dropdownMode",multiple:[2,"multiple","multiple",ye],tabindex:[2,"tabindex","tabindex",wt],dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:[2,"autofocus","autofocus",ye],autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",overlayOptions:"overlayOptions",suggestions:"suggestions",optionLabel:"optionLabel",optionValue:"optionValue",id:"id",searchMessage:"searchMessage",emptySelectionMessage:"emptySelectionMessage",selectionMessage:"selectionMessage",autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",ye],selectOnFocus:[2,"selectOnFocus","selectOnFocus",ye],searchLocale:[2,"searchLocale","searchLocale",ye],optionDisabled:"optionDisabled",focusOnHover:[2,"focusOnHover","focusOnHover",ye],typeahead:[2,"typeahead","typeahead",ye],appendTo:[1,"appendTo"]},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide",onLazyLoad:"onLazyLoad"},features:[_t([AL,CT]),ft],decls:9,vars:12,consts:[["overlay",""],["content",""],["focusInput",""],["multiContainer",""],["token",""],["removeicon",""],["ddBtn",""],["buildInItems",""],["scroller",""],["loader",""],["items",""],["empty",""],["pInputText","","aria-autocomplete","list","role","combobox",3,"pAutoFocus","class","ngStyle","variant","invalid","pSize","fluid","input","keydown","change","focus","blur","paste","keyup",4,"ngIf"],[4,"ngIf"],["role","listbox",3,"class","tabindex","focus","blur","keydown",4,"ngIf"],["type","button","pRipple","",3,"class","disabled","click",4,"ngIf"],[3,"visibleChange","onAnimationStart","onHide","hostAttrSelector","visible","options","target","appendTo","showTransitionOptions","hideTransitionOptions"],["pInputText","","aria-autocomplete","list","role","combobox",3,"input","keydown","change","focus","blur","paste","keyup","pAutoFocus","ngStyle","variant","invalid","pSize","fluid"],["data-p-icon","times",3,"class","click",4,"ngIf"],[3,"class","click",4,"ngIf"],["data-p-icon","times",3,"click"],[3,"click"],[4,"ngTemplateOutlet"],["role","listbox",3,"focus","blur","keydown","tabindex"],["role","option",3,"class",4,"ngFor","ngForOf"],["role","option"],["role","combobox","aria-autocomplete","list",3,"input","keydown","change","focus","blur","paste","keyup","pAutoFocus","ngStyle"],[3,"onRemove","label","removable"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","times-circle"],["data-p-icon","spinner",3,"class","spin",4,"ngIf"],[3,"class",4,"ngIf"],["data-p-icon","spinner",3,"spin"],["type","button","pRipple","",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["data-p-icon","chevron-down",4,"ngIf"],["data-p-icon","chevron-down"],[3,"ngStyle"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["role","status","aria-live","polite",1,"p-hidden-accessible"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["role","listbox"],["ngFor","",3,"ngForOf"],["role","option",3,"class","ngStyle",4,"ngIf"],["role","option",3,"ngStyle"],["pRipple","","role","option",3,"click","mouseenter","ngStyle"],[4,"ngIf","ngIfElse"]],template:function(i,n){if(i&1){let a=Be();z(0,z9,2,30,"input",12)(1,H9,3,2,"ng-container",13)(2,Q9,6,33,"ul",14)(3,tL,3,2,"ng-container",13)(4,sL,4,7,"button",15),A(5,"p-overlay",16,0),ci("visibleChange",function(b){return Q(a),li(n.overlayVisible,b)||(n.overlayVisible=b),X(b)}),we("onAnimationStart",function(b){return Q(a),X(n.onOverlayAnimationStart(b))})("onHide",function(){return Q(a),X(n.hide())}),z(7,EL,10,12,"ng-template",null,1,ze),L()}i&2&&(C("ngIf",!n.multiple),S(),C("ngIf",n.$filled()&&!n.$disabled()&&n.showClear&&!n.loading),S(),C("ngIf",n.multiple),S(),C("ngIf",n.loading),S(),C("ngIf",n.dropdown),S(),C("hostAttrSelector",n.attrSelector),si("visible",n.overlayVisible),C("options",n.overlayOptions)("target","@parent")("appendTo",n.$appendTo())("showTransitionOptions",n.showTransitionOptions)("hideTransitionOptions",n.hideTransitionOptions))},dependencies:[mt,ka,Bi,Ut,Yt,fi,Ip,ma,sn,ls,Ao,Jw,As,Da,wc,Ze,Ar],encapsulation:2,changeDetection:0})}return t})(),kT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[t_,Ze]})}return t})();var ET=`
    .p-slider {
        display: block;
        position: relative;
        background: dt('slider.track.background');
        border-radius: dt('slider.track.border.radius');
    }

    .p-slider-handle {
        cursor: grab;
        touch-action: none;
        user-select: none;
        display: flex;
        justify-content: center;
        align-items: center;
        height: dt('slider.handle.height');
        width: dt('slider.handle.width');
        background: dt('slider.handle.background');
        border-radius: dt('slider.handle.border.radius');
        transition:
            background dt('slider.transition.duration'),
            color dt('slider.transition.duration'),
            border-color dt('slider.transition.duration'),
            box-shadow dt('slider.transition.duration'),
            outline-color dt('slider.transition.duration');
        outline-color: transparent;
    }

    .p-slider-handle::before {
        content: '';
        width: dt('slider.handle.content.width');
        height: dt('slider.handle.content.height');
        display: block;
        background: dt('slider.handle.content.background');
        border-radius: dt('slider.handle.content.border.radius');
        box-shadow: dt('slider.handle.content.shadow');
        transition: background dt('slider.transition.duration');
    }

    .p-slider:not(.p-disabled) .p-slider-handle:hover {
        background: dt('slider.handle.hover.background');
    }

    .p-slider:not(.p-disabled) .p-slider-handle:hover::before {
        background: dt('slider.handle.content.hover.background');
    }

    .p-slider-handle:focus-visible {
        box-shadow: dt('slider.handle.focus.ring.shadow');
        outline: dt('slider.handle.focus.ring.width') dt('slider.handle.focus.ring.style') dt('slider.handle.focus.ring.color');
        outline-offset: dt('slider.handle.focus.ring.offset');
    }

    .p-slider-range {
        display: block;
        background: dt('slider.range.background');
        border-radius: dt('slider.track.border.radius');
    }

    .p-slider.p-slider-horizontal {
        height: dt('slider.track.size');
    }

    .p-slider-horizontal .p-slider-range {
        inset-block-start: 0;
        inset-inline-start: 0;
        height: 100%;
    }

    .p-slider-horizontal .p-slider-handle {
        inset-block-start: 50%;
        margin-block-start: calc(-1 * calc(dt('slider.handle.height') / 2));
        margin-inline-start: calc(-1 * calc(dt('slider.handle.width') / 2));
    }

    .p-slider-vertical {
        min-height: 100px;
        width: dt('slider.track.size');
    }

    .p-slider-vertical .p-slider-handle {
        inset-inline-start: 50%;
        margin-inline-start: calc(-1 * calc(dt('slider.handle.width') / 2));
        margin-block-end: calc(-1 * calc(dt('slider.handle.height') / 2));
    }

    .p-slider-vertical .p-slider-range {
        inset-block-end: 0;
        inset-inline-start: 0;
        width: 100%;
    }
`;var FL=["sliderHandle"],VL=["sliderHandleStart"],zL=["sliderHandleEnd"],RL=(t,s)=>({position:"absolute","inset-inline-start":t,width:s}),BL=(t,s)=>({position:"absolute",bottom:t,height:s}),NL=t=>({position:"absolute",height:t}),qL=t=>({position:"absolute",width:t}),Wy=(t,s)=>({position:"absolute","inset-inline-start":t,bottom:s});function HL(t,s){if(t&1&&ae(0,"span",7),t&2){let e=M();$(e.cx("range")),C("ngStyle",ni(4,RL,e.offset!==null&&e.offset!==void 0?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%")),de("data-pc-section","range")}}function jL(t,s){if(t&1&&ae(0,"span",7),t&2){let e=M();$(e.cx("range")),C("ngStyle",ni(4,BL,e.offset!==null&&e.offset!==void 0?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%")),de("data-pc-section","range")}}function GL(t,s){if(t&1&&ae(0,"span",7),t&2){let e=M();$(e.cx("range")),C("ngStyle",ot(4,NL,e.handleValue+"%")),de("data-pc-section","range")}}function UL(t,s){if(t&1&&ae(0,"span",7),t&2){let e=M();$(e.cx("range")),C("ngStyle",ot(4,qL,e.handleValue+"%")),de("data-pc-section","range")}}function $L(t,s){if(t&1){let e=Be();A(0,"span",8,0),we("touchstart",function(n){Q(e);let a=M();return X(a.onDragStart(n))})("touchmove",function(n){Q(e);let a=M();return X(a.onDrag(n))})("touchend",function(n){Q(e);let a=M();return X(a.onDragEnd(n))})("mousedown",function(n){Q(e);let a=M();return X(a.onMouseDown(n))})("keydown",function(n){Q(e);let a=M();return X(a.onKeyDown(n))}),L()}if(t&2){let e=M();$(e.cx("handle")),Nn("transition",e.dragging?"none":null),C("ngStyle",ni(14,Wy,e.orientation=="horizontal"?e.handleValue+"%":null,e.orientation=="vertical"?e.handleValue+"%":null))("pAutoFocus",e.autofocus),de("tabindex",e.$disabled()?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","handle")}}function KL(t,s){if(t&1){let e=Be();A(0,"span",9,1),we("keydown",function(n){Q(e);let a=M();return X(a.onKeyDown(n,0))})("mousedown",function(n){Q(e);let a=M();return X(a.onMouseDown(n,0))})("touchstart",function(n){Q(e);let a=M();return X(a.onDragStart(n,0))})("touchmove",function(n){Q(e);let a=M();return X(a.onDrag(n))})("touchend",function(n){Q(e);let a=M();return X(a.onDragEnd(n))}),L()}if(t&2){let e=M();$(e.cn(e.cx("handle"),e.handleIndex==0&&"p-slider-handle-active")),Nn("transition",e.dragging?"none":null),C("ngStyle",ni(14,Wy,e.rangeStartLeft,e.rangeStartBottom))("pAutoFocus",e.autofocus),de("tabindex",e.$disabled()?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[0]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","startHandler")}}function WL(t,s){if(t&1){let e=Be();A(0,"span",10,2),we("keydown",function(n){Q(e);let a=M();return X(a.onKeyDown(n,1))})("mousedown",function(n){Q(e);let a=M();return X(a.onMouseDown(n,1))})("touchstart",function(n){Q(e);let a=M();return X(a.onDragStart(n,1))})("touchmove",function(n){Q(e);let a=M();return X(a.onDrag(n))})("touchend",function(n){Q(e);let a=M();return X(a.onDragEnd(n))}),L()}if(t&2){let e=M();$(e.cn(e.cx("handle"),e.handleIndex==1&&"p-slider-handle-active")),Nn("transition",e.dragging?"none":null),C("ngStyle",ni(13,Wy,e.rangeEndLeft,e.rangeEndBottom)),de("tabindex",e.$disabled()?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[1]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","endHandler")}}var ZL={handle:{position:"absolute"},range:{position:"absolute"}},QL={root:({instance:t})=>["p-slider p-component",{"p-disabled":t.$disabled(),"p-invalid":t.invalid(),"p-slider-horizontal":t.orientation==="horizontal","p-slider-vertical":t.orientation==="vertical","p-slider-animate":t.animate}],range:"p-slider-range",handle:"p-slider-handle"},PT=(()=>{class t extends Rt{name="slider";theme=ET;classes=QL;inlineStyles=ZL;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var XL={provide:Oo,useExisting:Ki(()=>Np),multi:!0},Np=(()=>{class t extends lr{animate;min=0;max=100;orientation="horizontal";step;range;styleClass;ariaLabel;ariaLabelledBy;tabindex=0;autofocus;onChange=new Le;onSlideEnd=new Le;sliderHandle;sliderHandleStart;sliderHandleEnd;_componentStyle=Fe(PT);value;values;handleValue;handleValues=[];diff;offset;bottom;dragging;dragListener;mouseupListener;initX;initY;barWidth;barHeight;sliderHandleClick;handleIndex=0;startHandleValue;startx;starty;ngZone=Fe(pa);onHostClick(e){this.onBarClick(e)}onMouseDown(e,i){this.$disabled()||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.range&&this.handleValues&&this.handleValues[0]===this.max?this.handleIndex=0:this.handleIndex=i,this.bindDragListeners(),e.target.focus(),e.preventDefault(),this.animate&&Pa(this.el.nativeElement,"p-slider-animate"))}onDragStart(e,i){if(!this.$disabled()){var n=e.changedTouches[0];this.startHandleValue=this.range?this.handleValues[i]:this.handleValue,this.dragging=!0,this.range&&this.handleValues&&this.handleValues[0]===this.max?this.handleIndex=0:this.handleIndex=i,this.orientation==="horizontal"?(this.startx=parseInt(n.clientX,10),this.barWidth=this.el.nativeElement.offsetWidth):(this.starty=parseInt(n.clientY,10),this.barHeight=this.el.nativeElement.offsetHeight),this.animate&&Pa(this.el.nativeElement,"p-slider-animate"),e.preventDefault()}}onDrag(e){if(!this.$disabled()){var i=e.changedTouches[0],n=0;this.orientation==="horizontal"?n=Math.floor((parseInt(i.clientX,10)-this.startx)*100/this.barWidth)+this.startHandleValue:n=Math.floor((this.starty-parseInt(i.clientY,10))*100/this.barHeight)+this.startHandleValue,this.setValueFromHandle(e,n),e.preventDefault()}}onDragEnd(e){this.$disabled()||(this.dragging=!1,this.range?this.onSlideEnd.emit({originalEvent:e,values:this.values}):this.onSlideEnd.emit({originalEvent:e,value:this.value}),this.animate&&Hn(this.el.nativeElement,"p-slider-animate"),e.preventDefault())}onBarClick(e){this.$disabled()||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(e),this.range?this.onSlideEnd.emit({originalEvent:e,values:this.values}):this.onSlideEnd.emit({originalEvent:e,value:this.value})),this.sliderHandleClick=!1)}onKeyDown(e,i){switch(this.handleIndex=i,e.code){case"ArrowDown":case"ArrowLeft":this.decrementValue(e,i),e.preventDefault();break;case"ArrowUp":case"ArrowRight":this.incrementValue(e,i),e.preventDefault();break;case"PageDown":this.decrementValue(e,i,!0),e.preventDefault();break;case"PageUp":this.incrementValue(e,i,!0),e.preventDefault();break;case"Home":this.updateValue(this.min,e),e.preventDefault();break;case"End":this.updateValue(this.max,e),e.preventDefault();break;default:break}}decrementValue(e,i,n=!1){let a;this.range?this.step?a=this.values[i]-this.step:a=this.values[i]-1:this.step?a=this.value-this.step:!this.step&&n?a=this.value-10:a=this.value-1,this.updateValue(a,e),e.preventDefault()}incrementValue(e,i,n=!1){let a;this.range?this.step?a=this.values[i]+this.step:a=this.values[i]+1:this.step?a=this.value+this.step:!this.step&&n?a=this.value+10:a=this.value+1,this.updateValue(a,e),e.preventDefault()}handleChange(e){let i=this.calculateHandleValue(e);this.setValueFromHandle(e,i)}bindDragListeners(){ii(this.platformId)&&this.ngZone.runOutsideAngular(()=>{let e=this.el?this.el.nativeElement.ownerDocument:this.document;this.dragListener||(this.dragListener=this.renderer.listen(e,"mousemove",i=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(i)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(e,"mouseup",i=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.range?this.onSlideEnd.emit({originalEvent:i,values:this.values}):this.onSlideEnd.emit({originalEvent:i,value:this.value}),this.animate&&Hn(this.el.nativeElement,"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&(this.dragListener(),this.dragListener=null),this.mouseupListener&&(this.mouseupListener(),this.mouseupListener=null)}setValueFromHandle(e,i){let n=this.getValueFromHandle(i);this.range?this.step?this.handleStepChange(n,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=i,this.updateValue(n,e)):this.step?this.handleStepChange(n,this.value):(this.handleValue=i,this.updateValue(n,e)),this.cd.markForCheck()}handleStepChange(e,i){let n=e-i,a=i,u=this.step;n<0?a=i+Math.ceil(e/u-i/u)*u:n>0&&(a=i+Math.floor(e/u-i/u)*u),this.updateValue(a),this.updateHandleValue()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]>100?"100%":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return this.orientation==="vertical"}updateDomData(){let e=this.el.nativeElement.getBoundingClientRect();this.initX=e.left+Dw(),this.initY=e.top+A0(),this.barWidth=this.el.nativeElement.offsetWidth,this.barHeight=this.el.nativeElement.offsetHeight}calculateHandleValue(e){return this.orientation==="horizontal"?qd(this.el.nativeElement)?(this.initX+this.barWidth-e.pageX)*100/this.barWidth:(e.pageX-this.initX)*100/this.barWidth:(this.initY+this.barHeight-e.pageY)*100/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=(this.values[0]<this.min?0:this.values[0]-this.min)*100/(this.max-this.min),this.handleValues[1]=(this.values[1]>this.max?100:this.values[1]-this.min)*100/(this.max-this.min)):this.value<this.min?this.handleValue=0:this.value>this.max?this.handleValue=100:this.handleValue=(this.value-this.min)*100/(this.max-this.min),this.step&&this.updateDiffAndOffset()}updateDiffAndOffset(){this.diff=this.getDiff(),this.offset=this.getOffset()}getDiff(){return Math.abs(this.handleValues[0]-this.handleValues[1])}getOffset(){return Math.min(this.handleValues[0],this.handleValues[1])}updateValue(e,i){if(this.range){let n=e;this.handleIndex==0?(n<this.min?(n=this.min,this.handleValues[0]=0):n>this.values[1]&&n>this.max&&(n=this.max,this.handleValues[0]=100),this.sliderHandleStart?.nativeElement.focus()):(n>this.max?(n=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):n<this.min?(n=this.min,this.handleValues[1]=0):n<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd?.nativeElement.focus()),this.step?this.updateHandleValue():this.updateDiffAndOffset(),this.values[this.handleIndex]=this.getNormalizedValue(n);let a=[this.minVal,this.maxVal];this.onModelChange(a),this.onChange.emit({event:i,values:this.values})}else e<this.min?(e=this.min,this.handleValue=0):e>this.max&&(e=this.max,this.handleValue=100),this.value=this.getNormalizedValue(e),this.onModelChange(this.value),this.onChange.emit({event:i,value:this.value}),this.sliderHandle?.nativeElement.focus();this.updateHandleValue()}getValueFromHandle(e){return(this.max-this.min)*(e/100)+this.min}getDecimalsCount(e){return e&&Math.floor(e)!==e&&e.toString().split(".")[1].length||0}getNormalizedValue(e){let i=this.getDecimalsCount(this.step);return i>0?+parseFloat(e.toString()).toFixed(i):Math.floor(e)}ngOnDestroy(){this.unbindDragListeners(),super.ngOnDestroy()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}writeControlValue(e){this.range?this.values=e||[0,0]:this.value=e||0,this.updateHandleValue(),this.updateDiffAndOffset(),this.cd.markForCheck()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-slider"]],viewQuery:function(i,n){if(i&1&&(ut(FL,5),ut(VL,5),ut(zL,5)),i&2){let a;se(a=le())&&(n.sliderHandle=a.first),se(a=le())&&(n.sliderHandleStart=a.first),se(a=le())&&(n.sliderHandleEnd=a.first)}},hostVars:4,hostBindings:function(i,n){i&1&&we("click",function(u){return n.onHostClick(u)}),i&2&&(de("data-pc-name","slider")("data-pc-section","root"),$(n.cn(n.cx("root"),n.styleClass)))},inputs:{animate:[2,"animate","animate",ye],min:[2,"min","min",wt],max:[2,"max","max",wt],orientation:"orientation",step:[2,"step","step",wt],range:[2,"range","range",ye],styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",tabindex:[2,"tabindex","tabindex",wt],autofocus:[2,"autofocus","autofocus",ye]},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[_t([XL,PT]),ft],decls:7,vars:7,consts:[["sliderHandle",""],["sliderHandleStart",""],["sliderHandleEnd",""],[3,"class","ngStyle",4,"ngIf"],["role","slider",3,"class","transition","ngStyle","pAutoFocus","touchstart","touchmove","touchend","mousedown","keydown",4,"ngIf"],["role","slider",3,"transition","class","ngStyle","pAutoFocus","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["role","slider",3,"transition","class","ngStyle","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[3,"ngStyle"],["role","slider",3,"touchstart","touchmove","touchend","mousedown","keydown","ngStyle","pAutoFocus"],["role","slider",3,"keydown","mousedown","touchstart","touchmove","touchend","ngStyle","pAutoFocus"],["role","slider",3,"keydown","mousedown","touchstart","touchmove","touchend","ngStyle"]],template:function(i,n){i&1&&z(0,HL,1,7,"span",3)(1,jL,1,7,"span",3)(2,GL,1,6,"span",3)(3,UL,1,6,"span",3)(4,$L,2,17,"span",4)(5,KL,2,17,"span",5)(6,WL,2,16,"span",6),i&2&&(C("ngIf",n.range&&n.orientation=="horizontal"),S(),C("ngIf",n.range&&n.orientation=="vertical"),S(),C("ngIf",!n.range&&n.orientation=="vertical"),S(),C("ngIf",!n.range&&n.orientation=="horizontal"),S(),C("ngIf",!n.range),S(),C("ngIf",n.range),S(),C("ngIf",n.range))},dependencies:[mt,Ut,fi,Ao,Ze],encapsulation:2,changeDetection:0})}return t})(),i_=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[Np,Ze,Ze]})}return t})();var LT=`
    .p-colorpicker {
        display: inline-block;
        position: relative;
    }

    .p-colorpicker-dragging {
        cursor: pointer;
    }

    .p-colorpicker-preview {
        width: dt('colorpicker.preview.width');
        height: dt('colorpicker.preview.height');
        padding: 0;
        border: 0 none;
        border-radius: dt('colorpicker.preview.border.radius');
        transition:
            background dt('colorpicker.transition.duration'),
            color dt('colorpicker.transition.duration'),
            border-color dt('colorpicker.transition.duration'),
            outline-color dt('colorpicker.transition.duration'),
            box-shadow dt('colorpicker.transition.duration');
        outline-color: transparent;
        cursor: pointer;
    }

    .p-colorpicker-preview:enabled:focus-visible {
        border-color: dt('colorpicker.preview.focus.border.color');
        box-shadow: dt('colorpicker.preview.focus.ring.shadow');
        outline: dt('colorpicker.preview.focus.ring.width') dt('colorpicker.preview.focus.ring.style') dt('colorpicker.preview.focus.ring.color');
        outline-offset: dt('colorpicker.preview.focus.ring.offset');
    }

    .p-colorpicker-panel {
        background: dt('colorpicker.panel.background');
        border: 1px solid dt('colorpicker.panel.border.color');
        border-radius: dt('colorpicker.panel.border.radius');
        box-shadow: dt('colorpicker.panel.shadow');
        width: 193px;
        height: 166px;
        position: absolute;
        top: 0;
        left: 0;
    }

    .p-colorpicker-panel-inline {
        box-shadow: none;
        position: static;
    }

    .p-colorpicker-content {
        position: relative;
    }

    .p-colorpicker-color-selector {
        width: 150px;
        height: 150px;
        inset-block-start: 8px;
        inset-inline-start: 8px;
        position: absolute;
    }

    .p-colorpicker-color-background {
        width: 100%;
        height: 100%;
        background: linear-gradient(to top, #000 0%, rgba(0, 0, 0, 0) 100%), linear-gradient(to right, #fff 0%, rgba(255, 255, 255, 0) 100%);
    }

    .p-colorpicker-color-handle {
        position: absolute;
        inset-block-start: 0px;
        inset-inline-start: 150px;
        border-radius: 100%;
        width: 10px;
        height: 10px;
        border-width: 1px;
        border-style: solid;
        margin: -5px 0 0 -5px;
        cursor: pointer;
        opacity: 0.85;
        border-color: dt('colorpicker.handle.color');
    }

    .p-colorpicker-hue {
        width: 17px;
        height: 150px;
        inset-block-start: 8px;
        inset-inline-start: 167px;
        position: absolute;
        opacity: 0.85;
        background: linear-gradient(0deg, red 0, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, red);
    }

    .p-colorpicker-hue-handle {
        position: absolute;
        inset-block-start: 150px;
        inset-inline-start: 0px;
        width: 21px;
        margin-inline-start: -2px;
        margin-block-start: -5px;
        height: 10px;
        border-width: 2px;
        border-style: solid;
        opacity: 0.85;
        cursor: pointer;
        border-color: dt('colorpicker.handle.color');
    }
`;var JL=["input"],eA=["colorSelector"],tA=["colorHandle"],iA=["hue"],nA=["hueHandle"],aA=(t,s)=>({showTransitionParams:t,hideTransitionParams:s}),oA=t=>({value:"visible",params:t});function rA(t,s){if(t&1){let e=Be();A(0,"input",7,0),we("click",function(){Q(e);let n=M();return X(n.onInputClick())})("keydown",function(n){Q(e);let a=M();return X(a.onInputKeydown(n))})("focus",function(){Q(e);let n=M();return X(n.onInputFocus())}),L()}if(t&2){let e=M();$(e.cx("preview")),Nn("background-color",e.inputBgColor),C("pAutoFocus",e.autofocus),de("tabindex",e.tabindex)("disabled",e.$disabled()?"":void 0)("id",e.inputId)("data-pc-section","input")("aria-label",e.ariaLabel)}}function sA(t,s){if(t&1){let e=Be();A(0,"div",8),we("click",function(n){Q(e);let a=M();return X(a.onOverlayClick(n))})("@overlayAnimation.start",function(n){Q(e);let a=M();return X(a.onOverlayAnimationStart(n))})("@overlayAnimation.done",function(n){Q(e);let a=M();return X(a.onOverlayAnimationEnd(n))}),A(1,"div")(2,"div",9,1),we("touchstart",function(n){Q(e);let a=M();return X(a.onColorDragStart(n))})("touchmove",function(n){Q(e);let a=M();return X(a.onDrag(n))})("touchend",function(){Q(e);let n=M();return X(n.onDragEnd())})("mousedown",function(n){Q(e);let a=M();return X(a.onColorMousedown(n))}),A(4,"div"),ae(5,"div",null,2),L()(),A(7,"div",10,3),we("mousedown",function(n){Q(e);let a=M();return X(a.onHueMousedown(n))})("touchstart",function(n){Q(e);let a=M();return X(a.onHueDragStart(n))})("touchmove",function(n){Q(e);let a=M();return X(a.onDrag(n))})("touchend",function(){Q(e);let n=M();return X(n.onDragEnd())}),ae(9,"div",null,4),L()()()}if(t&2){let e=M();$(e.cx("panel")),C("@overlayAnimation",ot(26,oA,ni(23,aA,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.inline===!0),de("data-pc-section","panel"),S(),$(e.cx("content")),de("data-pc-section","content"),S(),$(e.cx("colorSelector")),de("data-pc-section","selector"),S(2),$(e.cx("colorBackground")),de("data-pc-section","color"),S(),$(e.cx("colorHandle")),de("data-pc-section","colorHandle"),S(2),$(e.cx("hue")),de("data-pc-section","hue"),S(2),$(e.cx("hueHandle")),de("data-pc-section","hueHandle")}}var lA={root:({instance:t})=>["p-colorpicker p-component",{"p-colorpicker-overlay":!t.inline,"p-colorpicker-dragging":t.colorDragging||t.hueDragging}],preview:({instance:t})=>["p-colorpicker-preview",{"p-disabled":t.$disabled()}],panel:({instance:t})=>["p-colorpicker-panel",{"p-colorpicker-panel-inline":t.inline,"p-disabled":t.$disabled()}],content:"p-colorpicker-content",colorSelector:"p-colorpicker-color-selector",colorBackground:"p-colorpicker-color-background",colorHandle:"p-colorpicker-color-handle",hue:"p-colorpicker-hue",hueHandle:"p-colorpicker-hue-handle"},AT=(()=>{class t extends Rt{name="colorpicker";theme=LT;classes=lA;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var cA={provide:Oo,useExisting:Ki(()=>n_),multi:!0},n_=(()=>{class t extends lr{overlayService;styleClass;inline;format="hex";tabindex;inputId;autoZIndex=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autofocus;defaultColor="ff0000";appendTo=nn(void 0);onChange=new Le;onShow=new Le;onHide=new Le;inputViewChild;$appendTo=Ai(()=>this.appendTo()||this.config.overlayAppendTo());value={h:0,s:100,b:100};inputBgColor;shown;overlayVisible;documentClickListener;documentResizeListener;documentMousemoveListener;documentMouseupListener;documentHueMoveListener;scrollHandler;selfClick;colorDragging;hueDragging;overlay;colorSelectorViewChild;colorHandleViewChild;hueViewChild;hueHandleViewChild;_componentStyle=Fe(AT);constructor(e){super(),this.overlayService=e}set colorSelector(e){this.colorSelectorViewChild=e}set colorHandle(e){this.colorHandleViewChild=e}set hue(e){this.hueViewChild=e}set hueHandle(e){this.hueHandleViewChild=e}get ariaLabel(){return this.config?.getTranslation(yo.ARIA)[yo.SELECT_COLOR]}onHueMousedown(e){this.$disabled()||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.hueDragging=!0,this.pickHue(e))}onHueDragStart(e){this.$disabled()||(this.hueDragging=!0,this.pickHue(e,e.changedTouches[0]))}onColorDragStart(e){this.$disabled()||(this.colorDragging=!0,this.pickColor(e,e.changedTouches[0]))}pickHue(e,i){let n=i?i.pageY:e.pageY,a=this.hueViewChild?.nativeElement.getBoundingClientRect().top+(this.document.defaultView.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0);this.value=this.validateHSB({h:Math.floor(360*(150-Math.max(0,Math.min(150,n-a)))/150),s:this.value.s,b:this.value.b}),this.updateColorSelector(),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:e,value:this.getValueToUpdate()})}onColorMousedown(e){this.$disabled()||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.colorDragging=!0,this.pickColor(e))}onDrag(e){this.colorDragging&&(this.pickColor(e,e.changedTouches[0]),e.preventDefault()),this.hueDragging&&(this.pickHue(e,e.changedTouches[0]),e.preventDefault())}onDragEnd(){this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}pickColor(e,i){let n=i?i.pageX:e.pageX,a=i?i.pageY:e.pageY,u=this.colorSelectorViewChild?.nativeElement.getBoundingClientRect(),b=u.top+(this.document.defaultView.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0),T=u.left+this.document.body.scrollLeft,D=Math.floor(100*Math.max(0,Math.min(150,n-T))/150),R=Math.floor(100*(150-Math.max(0,Math.min(150,a-b)))/150);this.value=this.validateHSB({h:this.value.h,s:D,b:R}),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:e,value:this.getValueToUpdate()})}getValueToUpdate(){let e;switch(this.format){case"hex":e="#"+this.HSBtoHEX(this.value);break;case"rgb":e=this.HSBtoRGB(this.value);break;case"hsb":e=this.value;break}return e}updateModel(){this.onModelChange(this.getValueToUpdate()),this.cd.markForCheck()}updateColorSelector(){if(this.colorSelectorViewChild){let e={};e.s=100,e.b=100,e.h=this.value.h,this.colorSelectorViewChild.nativeElement.style.backgroundColor="#"+this.HSBtoHEX(e)}}updateUI(){this.colorHandleViewChild&&this.hueHandleViewChild?.nativeElement&&(this.colorHandleViewChild.nativeElement.style.left=Math.floor(150*this.value.s/100)+"px",this.colorHandleViewChild.nativeElement.style.top=Math.floor(150*(100-this.value.b)/100)+"px",this.hueHandleViewChild.nativeElement.style.top=Math.floor(150-150*this.value.h/360)+"px"),this.inputBgColor="#"+this.HSBtoHEX(this.value)}onInputFocus(){this.onModelTouched()}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.inline||(this.overlay=e.element,this.attrSelector&&this.overlay.setAttribute(this.attrSelector,""),this.appendOverlay(),this.autoZIndex&&qi.set("overlay",this.overlay,this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.updateColorSelector(),this.updateUI());break;case"void":this.onOverlayHide();break}}onOverlayAnimationEnd(e){switch(e.toState){case"visible":this.inline||this.onShow.emit({});break;case"void":this.autoZIndex&&qi.clear(e.element),this.onHide.emit({});break}}appendOverlay(){ss.appendOverlay(this.overlay,this.$appendTo()==="body"?this.document.body:this.$appendTo(),this.$appendTo())}restoreOverlayAppend(){this.overlay&&this.$appendTo()!=="self"&&this.renderer.appendChild(this.inputViewChild?.nativeElement,this.overlay)}alignOverlay(){this.$appendTo()==="self"?up(this.overlay,this.inputViewChild?.nativeElement):lc(this.overlay,this.inputViewChild?.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onInputClick(){this.selfClick=!0,this.togglePanel()}togglePanel(){this.overlayVisible?this.hide():this.show()}onInputKeydown(e){switch(e.code){case"Space":this.togglePanel(),e.preventDefault();break;case"Escape":case"Tab":this.hide();break;default:break}}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}bindDocumentClickListener(){if(!this.documentClickListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",()=>{this.selfClick||(this.overlayVisible=!1,this.unbindDocumentClickListener()),this.selfClick=!1,this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentMousemoveListener(){if(!this.documentMousemoveListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentMousemoveListener=this.renderer.listen(e,"mousemove",i=>{this.colorDragging&&this.pickColor(i),this.hueDragging&&this.pickHue(i)})}}unbindDocumentMousemoveListener(){this.documentMousemoveListener&&(this.documentMousemoveListener(),this.documentMousemoveListener=null)}bindDocumentMouseupListener(){if(!this.documentMouseupListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentMouseupListener=this.renderer.listen(e,"mouseup",()=>{this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()})}}unbindDocumentMouseupListener(){this.documentMouseupListener&&(this.documentMouseupListener(),this.documentMouseupListener=null)}bindDocumentResizeListener(){ii(this.platformId)&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!ar()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new pc(this.el?.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}validateHSB(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}}validateRGB(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}}validateHEX(e){var i=6-e.length;if(i>0){for(var n=[],a=0;a<i;a++)n.push("0");n.push(e),e=n.join("")}return e}HEXtoRGB(e){let i=parseInt(e.indexOf("#")>-1?e.substring(1):e,16);return{r:i>>16,g:(i&65280)>>8,b:i&255}}HEXtoHSB(e){return this.RGBtoHSB(this.HEXtoRGB(e))}RGBtoHSB(e){var i={h:0,s:0,b:0},n=Math.min(e.r,e.g,e.b),a=Math.max(e.r,e.g,e.b),u=a-n;return i.b=a,i.s=a!=0?255*u/a:0,i.s!=0?e.r==a?i.h=(e.g-e.b)/u:e.g==a?i.h=2+(e.b-e.r)/u:i.h=4+(e.r-e.g)/u:i.h=-1,i.h*=60,i.h<0&&(i.h+=360),i.s*=100/255,i.b*=100/255,i}HSBtoRGB(e){var i={r:0,g:0,b:0};let n=e.h,a=e.s*255/100,u=e.b*255/100;if(a==0)i={r:u,g:u,b:u};else{let b=u,T=(255-a)*u/255,D=(b-T)*(n%60)/60;n==360&&(n=0),n<60?(i.r=b,i.b=T,i.g=T+D):n<120?(i.g=b,i.b=T,i.r=b-D):n<180?(i.g=b,i.r=T,i.b=T+D):n<240?(i.b=b,i.r=T,i.g=b-D):n<300?(i.b=b,i.g=T,i.r=T+D):n<360?(i.r=b,i.g=T,i.b=b-D):(i.r=0,i.g=0,i.b=0)}return{r:Math.round(i.r),g:Math.round(i.g),b:Math.round(i.b)}}RGBtoHEX(e){var i=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];for(var n in i)i[n].length==1&&(i[n]="0"+i[n]);return i.join("")}HSBtoHEX(e){return this.RGBtoHEX(this.HSBtoRGB(e))}onOverlayHide(){this.unbindScrollListener(),this.unbindDocumentResizeListener(),this.unbindDocumentClickListener(),this.overlay=null}ngAfterViewInit(){this.inline&&(this.updateColorSelector(),this.updateUI())}writeControlValue(e){if(e)switch(this.format){case"hex":this.value=this.HEXtoHSB(e);break;case"rgb":this.value=this.RGBtoHSB(e);break;case"hsb":this.value=e;break}else this.value=this.HEXtoHSB(this.defaultColor);this.updateColorSelector(),this.updateUI(),this.cd.markForCheck()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&this.autoZIndex&&qi.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}cn=Pw;static \u0275fac=function(i){return new(i||t)(Dt(sr))};static \u0275cmp=Je({type:t,selectors:[["p-colorPicker"],["p-colorpicker"],["p-color-picker"]],viewQuery:function(i,n){if(i&1&&(ut(JL,5),ut(eA,5),ut(tA,5),ut(iA,5),ut(nA,5)),i&2){let a;se(a=le())&&(n.inputViewChild=a.first),se(a=le())&&(n.colorSelector=a.first),se(a=le())&&(n.colorHandle=a.first),se(a=le())&&(n.hue=a.first),se(a=le())&&(n.hueHandle=a.first)}},hostVars:4,hostBindings:function(i,n){i&2&&(de("data-pc-name","colorpicker")("data-pc-section","root"),$(n.cn(n.cx("root"),n.styleClass)))},inputs:{styleClass:"styleClass",inline:[2,"inline","inline",ye],format:"format",tabindex:"tabindex",inputId:"inputId",autoZIndex:[2,"autoZIndex","autoZIndex",ye],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:[2,"autofocus","autofocus",ye],defaultColor:"defaultColor",appendTo:[1,"appendTo"]},outputs:{onChange:"onChange",onShow:"onShow",onHide:"onHide"},features:[_t([cA,AT]),ft],decls:2,vars:2,consts:[["input",""],["colorSelector",""],["colorHandle",""],["hue",""],["hueHandle",""],["type","text","readonly","",3,"class","backgroundColor","pAutoFocus","click","keydown","focus",4,"ngIf"],[3,"class","click",4,"ngIf"],["type","text","readonly","",3,"click","keydown","focus","pAutoFocus"],[3,"click"],[3,"touchstart","touchmove","touchend","mousedown"],[3,"mousedown","touchstart","touchmove","touchend"]],template:function(i,n){i&1&&z(0,rA,2,10,"input",5)(1,sA,11,28,"div",6),i&2&&(C("ngIf",!n.inline),S(),C("ngIf",n.inline||n.overlayVisible))},dependencies:[mt,Ut,N0,Ao,Ze],encapsulation:2,data:{animation:[qn("overlayAnimation",[Fi(":enter",[Oi({opacity:0,transform:"scaleY(0.8)"}),Ni("{{showTransitionParams}}")]),Fi(":leave",[Ni("{{hideTransitionParams}}",Oi({opacity:0}))])])]},changeDetection:0})}return t})(),OT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[n_,Ze,Ze]})}return t})();var FT=`
    .p-knob-range {
        fill: none;
        transition: stroke 0.1s ease-in;
    }

    .p-knob-value {
        animation-name: p-knob-dash-frame;
        animation-fill-mode: forwards;
        fill: none;
    }

    .p-knob-text {
        font-size: 1.3rem;
        text-align: center;
    }

    .p-knob svg {
        border-radius: 50%;
        outline-color: transparent;
        transition:
            background dt('knob.transition.duration'),
            color dt('knob.transition.duration'),
            outline-color dt('knob.transition.duration'),
            box-shadow dt('knob.transition.duration');
    }

    .p-knob svg:focus-visible {
        box-shadow: dt('knob.focus.ring.shadow');
        outline: dt('knob.focus.ring.width') dt('knob.focus.ring.style') dt('knob.focus.ring.color');
        outline-offset: dt('knob.focus.ring.offset');
    }

    @keyframes p-knob-dash-frame {
        100% {
            stroke-dashoffset: 0;
        }
    }
`;function uA(t,s){if(t&1&&(at(),A(0,"text",2),ie(1),L()),t&2){let e=M();$(e.cx("text")),de("x",50)("y",57)("fill",e.textColor)("name",e.name()),S(),oi(" ",e.valueToDisplay()," ")}}var pA={root:({instance:t})=>["p-knob p-component",{"p-disabled":t.$disabled()}],range:"p-knob-range",value:"p-knob-value",text:"p-knob-text"},VT=(()=>{class t extends Rt{name="knob";theme=FT;classes=pA;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var hA={provide:Oo,useExisting:Ki(()=>a_),multi:!0},a_=(()=>{class t extends lr{styleClass;ariaLabel;ariaLabelledBy;tabindex=0;valueColor=R0("knob.value.background").variable;rangeColor=R0("knob.range.background").variable;textColor=R0("knob.text.color").variable;valueTemplate="{value}";size=100;min=0;max=100;step=1;strokeWidth=14;showValue=!0;readonly=!1;onChange=new Le;radius=40;midX=50;midY=50;minRadians=4*Math.PI/3;maxRadians=-Math.PI/3;value=0;windowMouseMoveListener;windowMouseUpListener;windowTouchMoveListener;windowTouchEndListener;_componentStyle=Fe(VT);mapRange(e,i,n,a,u){return(e-i)*(u-a)/(n-i)+a}onClick(e){!this.$disabled()&&!this.readonly&&this.updateValue(e.offsetX,e.offsetY)}updateValue(e,i){let n=e-this.size/2,a=this.size/2-i,u=Math.atan2(a,n),b=-Math.PI/2-Math.PI/6;this.updateModel(u,b)}updateModel(e,i){let n;if(e>this.maxRadians)n=this.mapRange(e,this.minRadians,this.maxRadians,this.min,this.max);else if(e<i)n=this.mapRange(e+2*Math.PI,this.minRadians,this.maxRadians,this.min,this.max);else return;let a=Math.round((n-this.min)/this.step)*this.step+this.min;this.value=a,this.writeModelValue(this.value),this.onModelChange(this.value),this.onChange.emit(this.value)}onMouseDown(e){if(!this.$disabled()&&!this.readonly){let i=this.document.defaultView||"window";this.windowMouseMoveListener=this.renderer.listen(i,"mousemove",this.onMouseMove.bind(this)),this.windowMouseUpListener=this.renderer.listen(i,"mouseup",this.onMouseUp.bind(this)),e.preventDefault()}}onMouseUp(e){!this.$disabled()&&!this.readonly&&(this.windowMouseMoveListener&&(this.windowMouseMoveListener(),this.windowMouseUpListener=null),this.windowMouseUpListener&&(this.windowMouseUpListener(),this.windowMouseMoveListener=null),e.preventDefault())}onTouchStart(e){if(!this.$disabled()&&!this.readonly){let i=this.document.defaultView||"window";this.windowTouchMoveListener=this.renderer.listen(i,"touchmove",this.onTouchMove.bind(this)),this.windowTouchEndListener=this.renderer.listen(i,"touchend",this.onTouchEnd.bind(this)),e.preventDefault()}}onTouchEnd(e){!this.$disabled()&&!this.readonly&&(this.windowTouchMoveListener&&this.windowTouchMoveListener(),this.windowTouchEndListener&&this.windowTouchEndListener(),this.windowTouchMoveListener=null,this.windowTouchEndListener=null,e.preventDefault())}onMouseMove(e){!this.$disabled()&&!this.readonly&&(this.updateValue(e.offsetX,e.offsetY),e.preventDefault())}onTouchMove(e){if(!this.$disabled()&&!this.readonly&&e instanceof TouchEvent&&e.touches.length===1){let i=this.el.nativeElement.children[0].getBoundingClientRect(),n=e.targetTouches.item(0);if(n){let a=n.clientX-i.left,u=n.clientY-i.top;this.updateValue(a,u)}}}updateModelValue(e){e>this.max?this.value=this.max:e<this.min?this.value=this.min:this.value=e,this.writeModelValue(this.value),this.onModelChange(this.value),this.onChange.emit(this.value)}onKeyDown(e){if(!this.$disabled()&&!this.readonly)switch(e.code){case"ArrowRight":case"ArrowUp":{e.preventDefault(),this.updateModelValue(this._value+1);break}case"ArrowLeft":case"ArrowDown":{e.preventDefault(),this.updateModelValue(this._value-1);break}case"Home":{e.preventDefault(),this.updateModelValue(this.min);break}case"End":{e.preventDefault(),this.updateModelValue(this.max);break}case"PageUp":{e.preventDefault(),this.updateModelValue(this._value+10);break}case"PageDown":{e.preventDefault(),this.updateModelValue(this._value-10);break}}}rangePath(){return`M ${this.minX()} ${this.minY()} A ${this.radius} ${this.radius} 0 1 1 ${this.maxX()} ${this.maxY()}`}valuePath(){return`M ${this.zeroX()} ${this.zeroY()} A ${this.radius} ${this.radius} 0 ${this.largeArc()} ${this.sweep()} ${this.valueX()} ${this.valueY()}`}zeroRadians(){return this.min>0&&this.max>0?this.mapRange(this.min,this.min,this.max,this.minRadians,this.maxRadians):this.mapRange(0,this.min,this.max,this.minRadians,this.maxRadians)}valueRadians(){return this.mapRange(this._value,this.min,this.max,this.minRadians,this.maxRadians)}minX(){return this.midX+Math.cos(this.minRadians)*this.radius}minY(){return this.midY-Math.sin(this.minRadians)*this.radius}maxX(){return this.midX+Math.cos(this.maxRadians)*this.radius}maxY(){return this.midY-Math.sin(this.maxRadians)*this.radius}zeroX(){return this.midX+Math.cos(this.zeroRadians())*this.radius}zeroY(){return this.midY-Math.sin(this.zeroRadians())*this.radius}valueX(){return this.midX+Math.cos(this.valueRadians())*this.radius}valueY(){return this.midY-Math.sin(this.valueRadians())*this.radius}largeArc(){return Math.abs(this.zeroRadians()-this.valueRadians())<Math.PI?0:1}sweep(){return this.valueRadians()>this.zeroRadians()?0:1}valueToDisplay(){return this.valueTemplate.replace("{value}",this._value.toString())}get _value(){return this.value!=null?this.value:this.min}writeControlValue(e,i){this.value=e,i(this.value),this.cd.markForCheck()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-knob"]],hostVars:4,hostBindings:function(i,n){i&2&&(de("data-pc-name","knob")("data-pc-section","root"),$(n.cn(n.cx("root"),n.styleClass)))},inputs:{styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",tabindex:[2,"tabindex","tabindex",wt],valueColor:"valueColor",rangeColor:"rangeColor",textColor:"textColor",valueTemplate:"valueTemplate",size:[2,"size","size",wt],min:[2,"min","min",wt],max:[2,"max","max",wt],step:[2,"step","step",wt],strokeWidth:[2,"strokeWidth","strokeWidth",wt],showValue:[2,"showValue","showValue",ye],readonly:[2,"readonly","readonly",ye]},outputs:{onChange:"onChange"},features:[_t([hA,VT]),ft],decls:4,vars:23,consts:[["viewBox","0 0 100 100","role","slider",3,"click","keydown","mousedown","mouseup","touchstart","touchend"],["text-anchor","middle",3,"class",4,"ngIf"],["text-anchor","middle"]],template:function(i,n){i&1&&(at(),A(0,"svg",0),we("click",function(u){return n.onClick(u)})("keydown",function(u){return n.onKeyDown(u)})("mousedown",function(u){return n.onMouseDown(u)})("mouseup",function(u){return n.onMouseUp(u)})("touchstart",function(u){return n.onTouchStart(u)})("touchend",function(u){return n.onTouchEnd(u)}),ae(1,"path")(2,"path"),z(3,uA,2,7,"text",1),L()),i&2&&(Nn("width",n.size+"px")("height",n.size+"px"),de("aria-valuemin",n.min)("aria-valuemax",n.max)("required",n.required()?"":void 0)("aria-valuenow",n._value)("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel)("tabindex",n.readonly||n.$disabled()?-1:n.tabindex)("data-pc-section","svg"),S(),$(n.cx("range")),de("d",n.rangePath())("stroke-width",n.strokeWidth)("stroke",n.rangeColor),S(),$(n.cx("value")),de("d",n.valuePath())("stroke-width",n.strokeWidth)("stroke",n.valueColor),S(),C("ngIf",n.showValue))},dependencies:[mt,Ut,Ze],encapsulation:2,changeDetection:0})}return t})(),zT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[a_,Ze,Ze]})}return t})();var RT=`
    .p-toggleswitch {
        display: inline-block;
        width: dt('toggleswitch.width');
        height: dt('toggleswitch.height');
    }

    .p-toggleswitch-input {
        cursor: pointer;
        appearance: none;
        position: absolute;
        top: 0;
        inset-inline-start: 0;
        width: 100%;
        height: 100%;
        padding: 0;
        margin: 0;
        opacity: 0;
        z-index: 1;
        outline: 0 none;
        border-radius: dt('toggleswitch.border.radius');
    }

    .p-toggleswitch-slider {
        cursor: pointer;
        width: 100%;
        height: 100%;
        border-width: dt('toggleswitch.border.width');
        border-style: solid;
        border-color: dt('toggleswitch.border.color');
        background: dt('toggleswitch.background');
        transition:
            background dt('toggleswitch.transition.duration'),
            color dt('toggleswitch.transition.duration'),
            border-color dt('toggleswitch.transition.duration'),
            outline-color dt('toggleswitch.transition.duration'),
            box-shadow dt('toggleswitch.transition.duration');
        border-radius: dt('toggleswitch.border.radius');
        outline-color: transparent;
        box-shadow: dt('toggleswitch.shadow');
    }

    .p-toggleswitch-handle {
        position: absolute;
        top: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        background: dt('toggleswitch.handle.background');
        color: dt('toggleswitch.handle.color');
        width: dt('toggleswitch.handle.size');
        height: dt('toggleswitch.handle.size');
        inset-inline-start: dt('toggleswitch.gap');
        margin-block-start: calc(-1 * calc(dt('toggleswitch.handle.size') / 2));
        border-radius: dt('toggleswitch.handle.border.radius');
        transition:
            background dt('toggleswitch.transition.duration'),
            color dt('toggleswitch.transition.duration'),
            inset-inline-start dt('toggleswitch.slide.duration'),
            box-shadow dt('toggleswitch.slide.duration');
    }

    .p-toggleswitch.p-toggleswitch-checked .p-toggleswitch-slider {
        background: dt('toggleswitch.checked.background');
        border-color: dt('toggleswitch.checked.border.color');
    }

    .p-toggleswitch.p-toggleswitch-checked .p-toggleswitch-handle {
        background: dt('toggleswitch.handle.checked.background');
        color: dt('toggleswitch.handle.checked.color');
        inset-inline-start: calc(dt('toggleswitch.width') - calc(dt('toggleswitch.handle.size') + dt('toggleswitch.gap')));
    }

    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover) .p-toggleswitch-slider {
        background: dt('toggleswitch.hover.background');
        border-color: dt('toggleswitch.hover.border.color');
    }

    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover) .p-toggleswitch-handle {
        background: dt('toggleswitch.handle.hover.background');
        color: dt('toggleswitch.handle.hover.color');
    }

    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover).p-toggleswitch-checked .p-toggleswitch-slider {
        background: dt('toggleswitch.checked.hover.background');
        border-color: dt('toggleswitch.checked.hover.border.color');
    }

    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover).p-toggleswitch-checked .p-toggleswitch-handle {
        background: dt('toggleswitch.handle.checked.hover.background');
        color: dt('toggleswitch.handle.checked.hover.color');
    }

    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:focus-visible) .p-toggleswitch-slider {
        box-shadow: dt('toggleswitch.focus.ring.shadow');
        outline: dt('toggleswitch.focus.ring.width') dt('toggleswitch.focus.ring.style') dt('toggleswitch.focus.ring.color');
        outline-offset: dt('toggleswitch.focus.ring.offset');
    }

    .p-toggleswitch.p-invalid > .p-toggleswitch-slider {
        border-color: dt('toggleswitch.invalid.border.color');
    }

    .p-toggleswitch.p-disabled {
        opacity: 1;
    }

    .p-toggleswitch.p-disabled .p-toggleswitch-slider {
        background: dt('toggleswitch.disabled.background');
    }

    .p-toggleswitch.p-disabled .p-toggleswitch-handle {
        background: dt('toggleswitch.handle.disabled.background');
    }
`;var fA=["handle"],gA=["input"],_A=t=>({checked:t});function bA(t,s){t&1&&nt(0)}function yA(t,s){if(t&1&&z(0,bA,1,0,"ng-container",2),t&2){let e=M();C("ngTemplateOutlet",e.handleTemplate||e._handleTemplate)("ngTemplateOutletContext",ot(2,_A,e.checked()))}}var vA=`
    ${RT}

    p-toggleswitch.ng-invalid.ng-dirty > .p-toggleswitch-slider {
        border-color: dt('toggleswitch.invalid.border.color');
    }
`,xA={root:{position:"relative"}},wA={root:({instance:t})=>["p-toggleswitch p-component",{"p-toggleswitch p-component":!0,"p-toggleswitch-checked":t.checked(),"p-disabled":t.$disabled(),"p-invalid":t.invalid()}],input:"p-toggleswitch-input",slider:"p-toggleswitch-slider",handle:"p-toggleswitch-handle"},BT=(()=>{class t extends Rt{name="toggleswitch";theme=vA;classes=wA;inlineStyles=xA;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var IA={provide:Oo,useExisting:Ki(()=>o_),multi:!0},o_=(()=>{class t extends lr{styleClass;tabindex;inputId;readonly;trueValue=!0;falseValue=!1;ariaLabel;size=nn();ariaLabelledBy;autofocus;onChange=new Le;input;handleTemplate;_handleTemplate;focused=!1;_componentStyle=Fe(BT);templates;onHostClick(e){this.onClick(e)}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"handle":this._handleTemplate=e.template;break;default:this._handleTemplate=e.template;break}})}onClick(e){!this.$disabled()&&!this.readonly&&(this.writeModelValue(this.checked()?this.falseValue:this.trueValue),this.onModelChange(this.modelValue()),this.onChange.emit({originalEvent:e,checked:this.modelValue()}),this.input.nativeElement.focus())}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}checked(){return this.modelValue()===this.trueValue}writeControlValue(e,i){i(e),this.cd.markForCheck()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-toggleswitch"],["p-toggleSwitch"],["p-toggle-switch"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,fA,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.handleTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&ut(gA,5),i&2){let a;se(a=le())&&(n.input=a.first)}},hostVars:6,hostBindings:function(i,n){i&1&&we("click",function(u){return n.onHostClick(u)}),i&2&&(de("data-pc-name","toggleswitch")("data-pc-section","root"),Lt(n.sx("root")),$(n.cn(n.cx("root"),n.styleClass)))},inputs:{styleClass:"styleClass",tabindex:[2,"tabindex","tabindex",wt],inputId:"inputId",readonly:[2,"readonly","readonly",ye],trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",size:[1,"size"],ariaLabelledBy:"ariaLabelledBy",autofocus:[2,"autofocus","autofocus",ye]},outputs:{onChange:"onChange"},features:[_t([IA,BT]),ft],decls:5,vars:19,consts:[["input",""],["type","checkbox","role","switch",3,"focus","blur","checked","pAutoFocus"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){if(i&1){let a=Be();A(0,"input",1,0),we("focus",function(){return Q(a),X(n.onFocus())})("blur",function(){return Q(a),X(n.onBlur())}),L(),A(2,"div")(3,"div"),Wi(4,yA,1,4,"ng-container"),L()()}i&2&&($(n.cx("input")),C("checked",n.checked())("pAutoFocus",n.autofocus),de("id",n.inputId)("required",n.required()?"":void 0)("disabled",n.$disabled()?"":void 0)("aria-checked",n.checked())("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel)("name",n.name())("tabindex",n.tabindex)("data-pc-section","hiddenInput"),S(2),$(n.cx("slider")),de("data-pc-section","slider"),S(),$(n.cx("handle")),S(),Zi(n.handleTemplate||n._handleTemplate?4:-1))},dependencies:[mt,Yt,Ao,Ze],encapsulation:2,changeDetection:0})}return t})(),NT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[o_,Ze,Ze]})}return t})();var qT=`
    .p-tree {
        display: block;
        background: dt('tree.background');
        color: dt('tree.color');
        padding: dt('tree.padding');
    }

    .p-tree-root-children,
    .p-tree-node-children {
        display: flex;
        list-style-type: none;
        flex-direction: column;
        margin: 0;
        gap: dt('tree.gap');
    }

    .p-tree-root-children {
        padding: 0;
        padding-block-start: dt('tree.gap');
    }

    .p-tree-node-children {
        padding: 0;
        padding-block-start: dt('tree.gap');
        padding-inline-start: dt('tree.indent');
    }

    .p-tree-node {
        padding: 0;
        outline: 0 none;
    }

    .p-tree-node-content {
        border-radius: dt('tree.node.border.radius');
        padding: dt('tree.node.padding');
        display: flex;
        align-items: center;
        outline-color: transparent;
        color: dt('tree.node.color');
        gap: dt('tree.node.gap');
        transition:
            background dt('tree.transition.duration'),
            color dt('tree.transition.duration'),
            outline-color dt('tree.transition.duration'),
            box-shadow dt('tree.transition.duration');
    }

    .p-tree-node:focus-visible > .p-tree-node-content {
        box-shadow: dt('tree.node.focus.ring.shadow');
        outline: dt('tree.node.focus.ring.width') dt('tree.node.focus.ring.style') dt('tree.node.focus.ring.color');
        outline-offset: dt('tree.node.focus.ring.offset');
    }

    .p-tree-node-content.p-tree-node-selectable:not(.p-tree-node-selected):hover {
        background: dt('tree.node.hover.background');
        color: dt('tree.node.hover.color');
    }

    .p-tree-node-content.p-tree-node-selectable:not(.p-tree-node-selected):hover .p-tree-node-icon {
        color: dt('tree.node.icon.hover.color');
    }

    .p-tree-node-content.p-tree-node-selected {
        background: dt('tree.node.selected.background');
        color: dt('tree.node.selected.color');
    }

    .p-tree-node-content.p-tree-node-selected .p-tree-node-toggle-button {
        color: inherit;
    }

    .p-tree-node-toggle-button {
        cursor: pointer;
        user-select: none;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
        flex-shrink: 0;
        width: dt('tree.node.toggle.button.size');
        height: dt('tree.node.toggle.button.size');
        color: dt('tree.node.toggle.button.color');
        border: 0 none;
        background: transparent;
        border-radius: dt('tree.node.toggle.button.border.radius');
        transition:
            background dt('tree.transition.duration'),
            color dt('tree.transition.duration'),
            border-color dt('tree.transition.duration'),
            outline-color dt('tree.transition.duration'),
            box-shadow dt('tree.transition.duration');
        outline-color: transparent;
        padding: 0;
    }

    .p-tree-node-toggle-button:enabled:hover {
        background: dt('tree.node.toggle.button.hover.background');
        color: dt('tree.node.toggle.button.hover.color');
    }

    .p-tree-node-content.p-tree-node-selected .p-tree-node-toggle-button:hover {
        background: dt('tree.node.toggle.button.selected.hover.background');
        color: dt('tree.node.toggle.button.selected.hover.color');
    }

    .p-tree-root {
        overflow: auto;
    }

    .p-tree-node-selectable {
        cursor: pointer;
        user-select: none;
    }

    .p-tree-node-leaf > .p-tree-node-content .p-tree-node-toggle-button {
        visibility: hidden;
    }

    .p-tree-node-icon {
        color: dt('tree.node.icon.color');
        transition: color dt('tree.transition.duration');
    }

    .p-tree-node-content.p-tree-node-selected .p-tree-node-icon {
        color: dt('tree.node.icon.selected.color');
    }

    .p-tree-filter {
        margin: dt('tree.filter.margin');
    }

    .p-tree-filter-input {
        width: 100%;
    }

    .p-tree-loading {
        position: relative;
        height: 100%;
    }

    .p-tree-loading-icon {
        font-size: dt('tree.loading.icon.size');
        width: dt('tree.loading.icon.size');
        height: dt('tree.loading.icon.size');
    }

    .p-tree .p-tree-mask {
        position: absolute;
        z-index: 1;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-tree-flex-scrollable {
        display: flex;
        flex: 1;
        height: 100%;
        flex-direction: column;
    }

    .p-tree-flex-scrollable .p-tree-root {
        flex: 1;
    }
`;var jT=t=>({height:t}),GT=t=>({param:t}),CA=(t,s)=>({$implicit:t,loading:s}),SA=(t,s,e)=>({$implicit:t,partialSelected:s,class:e}),UT=t=>({$implicit:t});function MA(t,s){if(t&1){let e=Be();A(0,"li",9),we("drop",function(n){Q(e);let a=M(2);return X(a.onDropPoint(n,-1))})("dragover",function(n){Q(e);let a=M(2);return X(a.onDropPointDragOver(n))})("dragenter",function(n){Q(e);let a=M(2);return X(a.onDropPointDragEnter(n,-1))})("dragleave",function(n){Q(e);let a=M(2);return X(a.onDropPointDragLeave(n))}),L()}if(t&2){let e=M(2);$(e.cx("dropPoint",ot(3,GT,e.draghoverPrev))),de("aria-hidden",!0)}}function kA(t,s){if(t&1&&(at(),ae(0,"svg",12)),t&2){let e=M(4);$(e.cx("nodeToggleIcon"))}}function EA(t,s){if(t&1&&(at(),ae(0,"svg",13)),t&2){let e=M(4);$(e.cx("nodeToggleIcon"))}}function PA(t,s){if(t&1&&(Ke(0),z(1,kA,1,2,"svg",10)(2,EA,1,2,"svg",11),We()),t&2){let e=M(3);S(),C("ngIf",!e.node.expanded),S(),C("ngIf",e.node.expanded)}}function DA(t,s){if(t&1&&(Ke(0),at(),ae(1,"svg",14),We()),t&2){let e=M(3);S(),$(e.cx("nodeToggleIcon"))}}function LA(t,s){if(t&1&&(Ke(0),z(1,PA,3,2,"ng-container",5)(2,DA,2,2,"ng-container",5),We()),t&2){let e=M(2);S(),C("ngIf",!e.node.loading),S(),C("ngIf",e.loadingMode==="icon"&&e.node.loading)}}function AA(t,s){}function OA(t,s){t&1&&z(0,AA,0,0,"ng-template")}function FA(t,s){if(t&1&&(A(0,"span"),z(1,OA,1,0,null,15),L()),t&2){let e=M(2);$(e.cx("nodeToggleIcon")),S(),C("ngTemplateOutlet",e.tree.togglerIconTemplate||e.tree._togglerIconTemplate)("ngTemplateOutletContext",ni(4,CA,e.node.expanded,e.node.loading))}}function VA(t,s){}function zA(t,s){t&1&&z(0,VA,0,0,"ng-template")}function RA(t,s){if(t&1&&z(0,zA,1,0,null,15),t&2){let e=M(4);C("ngTemplateOutlet",e.tree.checkboxIconTemplate||e.tree._checkboxIconTemplate)("ngTemplateOutletContext",Er(2,SA,e.isSelected(),e.node.partialSelected,e.cx("nodeCheckbox")))}}function BA(t,s){t&1&&(Ke(0),z(1,RA,1,6,"ng-template",null,0,ze),We())}function NA(t,s){if(t&1){let e=Be();A(0,"p-checkbox",16),we("click",function(n){return Q(e),X(n.preventDefault())}),z(1,BA,3,0,"ng-container",5),L()}if(t&2){let e=M(2);C("ngModel",e.isSelected())("styleClass",e.cx("nodeCheckbox"))("binary",!0)("indeterminate",e.node.partialSelected)("disabled",e.node.selectable===!1)("variant",(e.tree==null?null:e.tree.config.inputStyle())==="filled"||(e.tree==null?null:e.tree.config.inputVariant())==="filled"?"filled":"outlined")("tabindex",-1),de("data-p-partialchecked",e.node.partialSelected),S(),C("ngIf",e.tree.checkboxIconTemplate||e.tree._checkboxIconTemplate)}}function qA(t,s){if(t&1&&ae(0,"span"),t&2){let e=M(2);$(e.getIcon())}}function HA(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(2);S(),Et(e.node.label)}}function jA(t,s){t&1&&nt(0)}function GA(t,s){if(t&1&&(A(0,"span"),z(1,jA,1,0,"ng-container",15),L()),t&2){let e=M(2);S(),C("ngTemplateOutlet",e.tree.getTemplateForNode(e.node))("ngTemplateOutletContext",ot(2,UT,e.node))}}function UA(t,s){if(t&1&&ae(0,"p-treeNode",19),t&2){let e=s.$implicit,i=s.first,n=s.last,a=s.index,u=M(3);C("node",e)("parentNode",u.node)("firstChild",i)("lastChild",n)("index",a)("itemSize",u.itemSize)("level",u.level+1)("loadingMode",u.loadingMode)}}function $A(t,s){if(t&1&&(A(0,"ul",17),z(1,UA,1,8,"p-treeNode",18),L()),t&2){let e=M(2);$(e.cx("nodeChildren")),S(),C("ngForOf",e.node.children)("ngForTrackBy",e.tree.trackBy.bind(e))}}function KA(t,s){if(t&1){let e=Be();A(0,"li",9),we("drop",function(n){Q(e);let a=M(2);return X(a.onDropPoint(n,1))})("dragover",function(n){Q(e);let a=M(2);return X(a.onDropPointDragOver(n))})("dragenter",function(n){Q(e);let a=M(2);return X(a.onDropPointDragEnter(n,1))})("dragleave",function(n){Q(e);let a=M(2);return X(a.onDropPointDragLeave(n))}),L()}if(t&2){let e=M(2);$(e.cx("dropPoint",ot(3,GT,e.draghoverNext))),de("aria-hidden",!0)}}function WA(t,s){if(t&1){let e=Be();z(0,MA,1,5,"li",1),A(1,"li",2),we("keydown",function(n){Q(e);let a=M();return X(a.onKeyDown(n))}),A(2,"div",3),we("click",function(n){Q(e);let a=M();return X(a.onNodeClick(n))})("contextmenu",function(n){Q(e);let a=M();return X(a.onNodeRightClick(n))})("dblclick",function(n){Q(e);let a=M();return X(a.onNodeDblClick(n))})("touchend",function(){Q(e);let n=M();return X(n.onNodeTouchEnd())})("drop",function(n){Q(e);let a=M();return X(a.onDropNode(n))})("dragover",function(n){Q(e);let a=M();return X(a.onDropNodeDragOver(n))})("dragenter",function(n){Q(e);let a=M();return X(a.onDropNodeDragEnter(n))})("dragleave",function(n){Q(e);let a=M();return X(a.onDropNodeDragLeave(n))})("dragstart",function(n){Q(e);let a=M();return X(a.onDragStart(n))})("dragend",function(n){Q(e);let a=M();return X(a.onDragStop(n))}),A(3,"button",4),we("click",function(n){Q(e);let a=M();return X(a.toggle(n))}),z(4,LA,3,2,"ng-container",5)(5,FA,2,7,"span",6),L(),z(6,NA,2,9,"p-checkbox",7)(7,qA,1,2,"span",6),A(8,"span"),z(9,HA,2,1,"span",5)(10,GA,2,4,"span",5),L()(),z(11,$A,2,4,"ul",8),L(),z(12,KA,1,5,"li",1)}if(t&2){let e=M();C("ngIf",e.tree.droppableNodes),S(),Lt(e.node.style),$(e.cn(e.cx("node"),e.node.styleClass)),C("ngStyle",ot(33,jT,e.itemSize+"px")),de("aria-label",e.node.label)("aria-checked",e.checked)("aria-setsize",e.node.children?e.node.children.length:0)("aria-selected",e.selected)("aria-expanded",e.node.expanded)("aria-posinset",e.index+1)("aria-level",e.level+1)("tabindex",e.index===0?0:-1)("data-id",e.node.key),S(),$(e.cx("nodeContent")),Nn("padding-left",e.level*e.indentation+"rem"),C("draggable",e.tree.draggableNodes),S(),$(e.cx("nodeToggleButton")),de("data-pc-section","toggler"),S(),C("ngIf",!e.tree.togglerIconTemplate&&!e.tree._togglerIconTemplate),S(),C("ngIf",e.tree.togglerIconTemplate||e.tree._togglerIconTemplate),S(),C("ngIf",e.tree.selectionMode=="checkbox"),S(),C("ngIf",e.node.icon||e.node.expandedIcon||e.node.collapsedIcon),S(),$(e.cx("nodeLabel")),S(),C("ngIf",!e.tree.getTemplateForNode(e.node)),S(),C("ngIf",e.tree.getTemplateForNode(e.node)),S(),C("ngIf",!e.tree.virtualScroll&&e.node.children&&e.node.expanded),S(),C("ngIf",e.tree.droppableNodes&&e.lastChild)}}var HT=["filter"],ZA=["node"],QA=["header"],XA=["footer"],YA=["loader"],JA=["empty"],eO=["togglericon"],tO=["checkboxicon"],iO=["loadingicon"],nO=["filtericon"],aO=["scroller"],oO=["wrapper"],rO=["content"],sO=t=>({options:t});function lO(t,s){if(t&1&&ae(0,"i"),t&2){let e=M(2);$(e.cn(e.cx("loadingIcon"),"pi-spin"+e.loadingIcon))}}function cO(t,s){if(t&1&&(at(),ae(0,"svg",12)),t&2){let e=M(3);$(e.cx("loadingIcon"))}}function dO(t,s){}function uO(t,s){t&1&&z(0,dO,0,0,"ng-template")}function pO(t,s){if(t&1&&(A(0,"span"),z(1,uO,1,0,null,8),L()),t&2){let e=M(3);$(e.cx("loadingIcon")),S(),C("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)}}function hO(t,s){if(t&1&&(Ke(0),z(1,cO,1,2,"svg",11)(2,pO,2,3,"span",7),We()),t&2){let e=M(2);S(),C("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),S(),C("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function mO(t,s){if(t&1&&(A(0,"div"),z(1,lO,1,2,"i",7)(2,hO,3,2,"ng-container",10),L()),t&2){let e=M();$(e.cx("mask")),S(),C("ngIf",e.loadingIcon),S(),C("ngIf",!e.loadingIcon)}}function fO(t,s){t&1&&nt(0)}function gO(t,s){t&1&&nt(0)}function _O(t,s){if(t&1&&z(0,gO,1,0,"ng-container",13),t&2){let e=M();C("ngTemplateOutlet",e.filterTemplate||e._filterTemplate)("ngTemplateOutletContext",ot(2,UT,e.filterOptions))}}function bO(t,s){if(t&1&&(at(),ae(0,"svg",16)),t&2){let e=M(3);$(e.cx("filterIcon"))}}function yO(t,s){}function vO(t,s){t&1&&z(0,yO,0,0,"ng-template")}function xO(t,s){if(t&1&&(A(0,"span"),z(1,vO,1,0,null,8),L()),t&2){let e=M(3);$(e.cx("filterIcon")),S(),C("ngTemplateOutlet",e.filterIconTemplate||e._filterIconTemplate)}}function wO(t,s){if(t&1){let e=Be();A(0,"p-iconfield")(1,"input",14,0),we("keydown.enter",function(n){return Q(e),X(n.preventDefault())})("input",function(n){Q(e);let a=M(2);return X(a._filter(n.target==null?null:n.target.value))}),L(),A(3,"p-inputicon"),z(4,bO,1,2,"svg",15)(5,xO,2,3,"span",7),L()()}if(t&2){let e=M(2);$(e.cx("pcFilterContainer")),S(),$(e.cx("pcFilterInput")),C("pAutoFocus",e.filterInputAutoFocus),de("placeholder",e.filterPlaceholder),S(3),C("ngIf",!e.filterIconTemplate&&!e._filterIconTemplate),S(),C("ngIf",e.filterIconTemplate||e._filterIconTemplate)}}function IO(t,s){if(t&1&&z(0,wO,6,8,"p-iconfield",7),t&2){let e=M();C("ngIf",e.filter)}}function TO(t,s){if(t&1&&ae(0,"p-treeNode",22,3),t&2){let e=s.$implicit,i=s.first,n=s.last,a=s.index,u=M(2).options,b=M(3);C("level",e.level)("rowNode",e)("node",e.node)("parentNode",e.parent)("firstChild",i)("lastChild",n)("index",b.getIndex(u,a))("itemSize",u.itemSize)("indentation",b.indentation)("loadingMode",b.loadingMode)}}function CO(t,s){if(t&1&&(A(0,"ul",20,2),z(2,TO,2,10,"p-treeNode",21),L()),t&2){let e=M(),i=e.$implicit,n=e.options,a=M(3);Lt(n.contentStyle),$(a.cx("rootChildren")),C("ngClass",n.contentStyleClass),de("aria-label",a.ariaLabel)("aria-labelledby",a.ariaLabelledBy),S(2),C("ngForOf",i)("ngForTrackBy",a.trackBy)}}function SO(t,s){if(t&1&&z(0,CO,3,9,"ul",19),t&2){let e=s.$implicit;C("ngIf",e)}}function MO(t,s){t&1&&nt(0)}function kO(t,s){if(t&1&&z(0,MO,1,0,"ng-container",13),t&2){let e=s.options,i=M(4);C("ngTemplateOutlet",i.loaderTemplate||i._loaderTemplate)("ngTemplateOutletContext",ot(2,sO,e))}}function EO(t,s){t&1&&(Ke(0),z(1,kO,1,4,"ng-template",null,4,ze),We())}function PO(t,s){if(t&1){let e=Be();A(0,"p-scroller",18,1),we("onScroll",function(n){Q(e);let a=M(2);return X(a.onScroll.emit(n))})("onScrollIndexChange",function(n){Q(e);let a=M(2);return X(a.onScrollIndexChange.emit(n))})("onLazyLoad",function(n){Q(e);let a=M(2);return X(a.onLazyLoad.emit(n))}),z(2,SO,1,1,"ng-template",null,2,ze)(4,EO,3,0,"ng-container",10),L()}if(t&2){let e=M(2);Lt(ot(10,jT,e.scrollHeight!=="flex"?e.scrollHeight:void 0)),C("items",e.serializedValue)("tabindex",-1)("styleClass",e.cx("wrapper"))("scrollHeight",e.scrollHeight!=="flex"?void 0:"100%")("itemSize",e.virtualScrollItemSize)("lazy",e.lazy)("options",e.virtualScrollOptions),S(4),C("ngIf",e.loaderTemplate||e._loaderTemplate)}}function DO(t,s){if(t&1&&ae(0,"p-treeNode",26),t&2){let e=s.$implicit,i=s.first,n=s.last,a=s.index,u=M(4);C("node",e)("firstChild",i)("lastChild",n)("index",a)("level",0)("loadingMode",u.loadingMode)}}function LO(t,s){if(t&1&&(A(0,"ul",24,2),z(2,DO,1,6,"p-treeNode",25),L()),t&2){let e=M(3);$(e.cx("rootChildren")),de("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy),S(2),C("ngForOf",e.getRootNode())("ngForTrackBy",e.trackBy.bind(e))}}function AO(t,s){if(t&1&&(Ke(0),A(1,"div",null,5),z(3,LO,3,6,"ul",23),L(),We()),t&2){let e=M(2);S(),$(e.cx("wrapper")),Nn("max-height",e.scrollHeight),S(2),C("ngIf",e.getRootNode())}}function OO(t,s){if(t&1&&(Ke(0),z(1,PO,5,12,"p-scroller",17)(2,AO,4,5,"ng-container",10),We()),t&2){let e=M();S(),C("ngIf",e.virtualScroll),S(),C("ngIf",!e.virtualScroll)}}function FO(t,s){if(t&1&&(Ke(0),ie(1),We()),t&2){let e=M(2);S(),oi(" ",e.emptyMessageLabel," ")}}function VO(t,s){}function zO(t,s){t&1&&z(0,VO,0,0,"ng-template",null,6,ze)}function RO(t,s){if(t&1&&(A(0,"div"),z(1,FO,2,1,"ng-container",27)(2,zO,2,0,null,8),L()),t&2){let e=M();$(e.cx("emptyMessage")),S(),C("ngIf",!e.emptyMessageTemplate&&!e._emptyMessageTemplate)("ngIfElse",e.emptyFilter),S(),C("ngTemplateOutlet",e.emptyMessageTemplate||e._emptyMessageTemplate)}}function BO(t,s){t&1&&nt(0)}var NO={root:({instance:t})=>["p-tree p-component",{"p-tree-selectable":t.selectionMode!=null,"p-tree-loading":t.loading,"p-tree-flex-scrollable":t.scrollHeight==="flex","p-tree-node-dragover":t.dragHover}],mask:"p-tree-mask p-overlay-mask",loadingIcon:"p-tree-loading-icon",pcFilterInput:"p-tree-filter-input",wrapper:"p-tree-root",rootChildren:"p-tree-root-children",node:({instance:t})=>({"p-tree-node":!0,"p-tree-node-leaf":t.isLeaf()}),nodeContent:({instance:t})=>({"p-tree-node-content":!0,"p-tree-node-selectable":t.selectable,"p-tree-node-dragover":t.draghoverNode,"p-tree-node-selected":t.selectionMode==="checkbox"&&t.tree.highlightOnSelect?t.checked:t.selected}),nodeToggleButton:"p-tree-node-toggle-button",nodeToggleIcon:"p-tree-node-toggle-icon",nodeCheckbox:"p-tree-node-checkbox",nodeIcon:"p-tree-node-icon",nodeLabel:"p-tree-node-label",nodeChildren:"p-tree-node-children",emptyMessage:"p-tree-empty-message",dropPoint:({param:t})=>["p-tree-node-droppoint",{"p-tree-node-droppoint-active":t}]},r_=(()=>{class t extends Rt{name="tree";theme=qT;classes=NO;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var qO=(()=>{class t extends Ot{static ICON_CLASS="p-tree-node-icon ";rowNode;node;parentNode;root;index;firstChild;lastChild;level;indentation;itemSize;loadingMode;tree=Fe(Ki(()=>qp));timeout;draghoverPrev;draghoverNext;draghoverNode;_componentStyle=Fe(r_);get selected(){return this.tree.selectionMode==="single"||this.tree.selectionMode==="multiple"?this.isSelected():void 0}get checked(){return this.tree.selectionMode==="checkbox"?this.isSelected():void 0}get nodeClass(){return this.tree._componentStyle.classes.node({instance:this})}get selectable(){return this.node.selectable===!1?!1:this.tree.selectionMode!=null}ngOnInit(){super.ngOnInit(),this.node.parent=this.parentNode;let i=this.tree.el.nativeElement.closest("p-dialog");this.parentNode&&!i&&(this.setAllNodesTabIndexes(),this.tree.syncNodeOption(this.node,this.tree.value,"parent",this.tree.getNodeWithKey(this.parentNode.key,this.tree.value)))}getIcon(){let e;return this.node.icon?e=this.node.icon:e=this.node.expanded&&this.node.children&&this.node.children?.length?this.node.expandedIcon:this.node.collapsedIcon,t.ICON_CLASS+" "+e+" p-tree-node-icon"}isLeaf(){return this.tree.isNodeLeaf(this.node)}toggle(e){this.node.expanded?this.collapse(e):this.expand(e),e.stopPropagation()}expand(e){this.node.expanded=!0,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeExpand.emit({originalEvent:e,node:this.node})}collapse(e){this.node.expanded=!1,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeCollapse.emit({originalEvent:e,node:this.node})}onNodeClick(e){this.tree.onNodeClick(e,this.node)}onNodeKeydown(e){e.key==="Enter"&&this.tree.onNodeClick(e,this.node)}onNodeTouchEnd(){this.tree.onNodeTouchEnd()}onNodeRightClick(e){this.tree.onNodeRightClick(e,this.node)}onNodeDblClick(e){this.tree.onNodeDblClick(e,this.node)}isSelected(){return this.tree.isSelected(this.node)}isSameNode(e){return e.currentTarget&&(e.currentTarget.isSameNode(e.target)||e.currentTarget.isSameNode(e.target.closest('[role="treeitem"]')))}onDropPoint(e,i){e.preventDefault();let n=this.tree.dragNode,a=this.tree.dragNodeIndex,u=this.tree.dragNodeScope,b=this.tree.dragNodeTree===this.tree?i===1||a!==this.index-1:!0;if(this.tree.allowDrop(n,this.node,u)&&b){let T=ri({},this.createDropPointEventMetadata(i));this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:e,dragNode:n,dropNode:this.node,index:this.index,accept:()=>{this.processPointDrop(T)}}):(this.processPointDrop(T),this.tree.onNodeDrop.emit({originalEvent:e,dragNode:n,dropNode:this.node,index:this.index}))}this.draghoverPrev=!1,this.draghoverNext=!1}processPointDrop(e){let i=e.dropNode.parent?e.dropNode.parent.children:this.tree.value;e.dragNodeSubNodes.splice(e.dragNodeIndex,1);let n=this.index;e.position<0?(n=e.dragNodeSubNodes===i?e.dragNodeIndex>e.index?e.index:e.index-1:e.index,i.splice(n,0,e.dragNode)):(n=i.length,i.push(e.dragNode)),this.tree.dragDropService.stopDrag({node:e.dragNode,subNodes:e.dropNode.parent?e.dropNode.parent.children:this.tree.value,index:e.dragNodeIndex})}createDropPointEventMetadata(e){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node,index:this.index,position:e}}onDropPointDragOver(e){e.dataTransfer.dropEffect="move",e.preventDefault()}onDropPointDragEnter(e,i){this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(i<0?this.draghoverPrev=!0:this.draghoverNext=!0)}onDropPointDragLeave(e){this.draghoverPrev=!1,this.draghoverNext=!1}onDragStart(e){this.tree.draggableNodes&&this.node.draggable!==!1?(e.dataTransfer.setData("text","data"),this.tree.dragDropService.startDrag({tree:this,node:this.node,subNodes:this.node?.parent?this.node.parent.children:this.tree.value,index:this.index,scope:this.tree.draggableScope})):e.preventDefault()}onDragStop(e){this.tree.dragDropService.stopDrag({node:this.node,subNodes:this.node?.parent?this.node.parent.children:this.tree.value,index:this.index})}onDropNodeDragOver(e){e.dataTransfer.dropEffect="move",this.tree.droppableNodes&&(e.preventDefault(),e.stopPropagation())}onDropNode(e){if(this.tree.droppableNodes&&this.node?.droppable!==!1){let i=this.tree.dragNode;if(this.tree.allowDrop(i,this.node,this.tree.dragNodeScope)){let n=ri({},this.createDropNodeEventMetadata());this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:e,dragNode:i,dropNode:this.node,index:this.index,accept:()=>{this.processNodeDrop(n)}}):(this.processNodeDrop(n),this.tree.onNodeDrop.emit({originalEvent:e,dragNode:i,dropNode:this.node,index:this.index}))}}e.preventDefault(),e.stopPropagation(),this.draghoverNode=!1}createDropNodeEventMetadata(){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node}}processNodeDrop(e){let i=e.dragNodeIndex;e.dragNodeSubNodes.splice(i,1),e.dropNode.children?e.dropNode.children.push(e.dragNode):e.dropNode.children=[e.dragNode],this.tree.dragDropService.stopDrag({node:e.dragNode,subNodes:e.dropNode.parent?e.dropNode.parent.children:this.tree.value,index:i})}onDropNodeDragEnter(e){this.tree.droppableNodes&&this.node?.droppable!==!1&&this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(this.draghoverNode=!0)}onDropNodeDragLeave(e){if(this.tree.droppableNodes){let i=e.currentTarget.getBoundingClientRect();(e.x>i.left+i.width||e.x<i.left||e.y>=Math.floor(i.top+i.height)||e.y<i.top)&&(this.draghoverNode=!1)}}onKeyDown(e){if(!(!this.isSameNode(e)||this.tree.contextMenu&&this.tree.contextMenu.containerViewChild?.nativeElement.style.display==="block"))switch(e.code){case"ArrowDown":this.onArrowDown(e);break;case"ArrowUp":this.onArrowUp(e);break;case"ArrowRight":this.onArrowRight(e);break;case"ArrowLeft":this.onArrowLeft(e);break;case"Enter":case"Space":case"NumpadEnter":this.onEnter(e);break;case"Tab":this.setAllNodesTabIndexes();break;default:break}}onArrowUp(e){let i=e.target.getAttribute("data-pc-section")==="toggler"?e.target.closest('[role="treeitem"]'):e.target.parentElement;if(i.previousElementSibling)this.focusRowChange(i,i.previousElementSibling,this.findLastVisibleDescendant(i.previousElementSibling));else{let n=this.getParentNodeElement(i);n&&this.focusRowChange(i,n)}e.preventDefault()}onArrowDown(e){let i=e.target.getAttribute("data-pc-section")==="toggler"?e.target.closest('[role="treeitem"]'):e.target,n=i.children[1];if(n&&n.children.length>0)this.focusRowChange(i,n.children[0]);else if(i.parentElement.nextElementSibling)this.focusRowChange(i,i.parentElement.nextElementSibling);else{let a=this.findNextSiblingOfAncestor(i.parentElement);a&&this.focusRowChange(i,a)}e.preventDefault()}onArrowRight(e){!this.node?.expanded&&!this.tree.isNodeLeaf(this.node)&&(this.expand(e),e.currentTarget.tabIndex=-1,setTimeout(()=>{this.onArrowDown(e)},1)),e.preventDefault()}onArrowLeft(e){let i=e.target.getAttribute("data-pc-section")==="toggler"?e.target.closest('[role="treeitem"]'):e.target;if(this.level===0&&!this.node?.expanded)return!1;if(this.node?.expanded){this.collapse(e);return}let n=this.getParentNodeElement(i.parentElement);n&&this.focusRowChange(e.currentTarget,n),e.preventDefault()}onEnter(e){this.tree.onNodeClick(e,this.node),this.setTabIndexForSelectionMode(e,this.tree.nodeTouched),e.preventDefault()}setAllNodesTabIndexes(){let e=En(this.tree.el.nativeElement,".p-tree-node"),i=[...e].some(n=>n.getAttribute("aria-selected")==="true"||n.getAttribute("aria-checked")==="true");if([...e].forEach(n=>{n.tabIndex=-1}),i){let n=[...e].filter(a=>a.getAttribute("aria-selected")==="true"||a.getAttribute("aria-checked")==="true");n[0].tabIndex=0;return}e.length&&([...e][0].tabIndex=0)}setTabIndexForSelectionMode(e,i){if(this.tree.selectionMode!==null){let n=[...En(this.tree.el.nativeElement,'[role="treeitem"]')];e.currentTarget.tabIndex=i===!1?-1:0,n.every(a=>a.tabIndex===-1)&&(n[0].tabIndex=0)}}findNextSiblingOfAncestor(e){let i=this.getParentNodeElement(e);return i?i.nextElementSibling?i.nextElementSibling:this.findNextSiblingOfAncestor(i):null}findLastVisibleDescendant(e){let n=Array.from(e.children).find(a=>Ko(a,"p-tree-node"))?.children[1];if(n&&n.children.length>0){let a=n.children[n.children.length-1];return this.findLastVisibleDescendant(a)}else return e}getParentNodeElement(e){let i=e.parentElement?.parentElement?.parentElement;return i?.tagName==="P-TREENODE"?i:null}focusNode(e){this.tree.droppableNodes?e.children[1].focus():e.children[0].focus()}focusRowChange(e,i,n){e.tabIndex="-1",i.children[0].tabIndex="0",this.focusNode(n||i)}focusVirtualNode(){this.timeout=setTimeout(()=>{let e=ei(this.tree?.contentViewChild.nativeElement,`[data-id="${this.node?.key??this.node?.data}"]`);$t(e)},1)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-treeNode"]],inputs:{rowNode:"rowNode",node:"node",parentNode:"parentNode",root:[2,"root","root",ye],index:[2,"index","index",wt],firstChild:[2,"firstChild","firstChild",ye],lastChild:[2,"lastChild","lastChild",ye],level:[2,"level","level",wt],indentation:[2,"indentation","indentation",wt],itemSize:[2,"itemSize","itemSize",wt],loadingMode:"loadingMode"},features:[_t([r_]),ft],decls:1,vars:1,consts:[["icon",""],[3,"class","drop","dragover","dragenter","dragleave",4,"ngIf"],["role","treeitem",3,"keydown","ngStyle"],[3,"click","contextmenu","dblclick","touchend","drop","dragover","dragenter","dragleave","dragstart","dragend","draggable"],["type","button","pRipple","","tabindex","-1",3,"click"],[4,"ngIf"],[3,"class",4,"ngIf"],[3,"ngModel","styleClass","binary","indeterminate","disabled","variant","tabindex","click",4,"ngIf"],["role","group",3,"class",4,"ngIf"],[3,"drop","dragover","dragenter","dragleave"],["data-p-icon","chevron-right",3,"class",4,"ngIf"],["data-p-icon","chevron-down",3,"class",4,"ngIf"],["data-p-icon","chevron-right"],["data-p-icon","chevron-down"],["data-p-icon","spinner","spin",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","ngModel","styleClass","binary","indeterminate","disabled","variant","tabindex"],["role","group"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level","loadingMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level","loadingMode"]],template:function(i,n){i&1&&Wi(0,WA,13,35),i&2&&Zi(n.node?0:-1)},dependencies:[t,mt,Bi,Ut,Yt,fi,sn,Gr,dn,ia,na,so,Da,As,Ze],encapsulation:2})}return t})(),qp=(()=>{class t extends Ot{dragDropService;value;selectionMode;loadingMode="mask";selection;styleClass;contextMenu;draggableScope;droppableScope;draggableNodes;droppableNodes;metaKeySelection=!1;propagateSelectionUp=!0;propagateSelectionDown=!0;loading;loadingIcon;emptyMessage="";ariaLabel;togglerAriaLabel;ariaLabelledBy;validateDrop;filter;filterInputAutoFocus=!1;filterBy="label";filterMode="lenient";filterOptions;filterPlaceholder;filteredNodes;filterLocale;scrollHeight;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;indentation=1.5;_templateMap;trackBy=(e,i)=>i;highlightOnSelect=!1;selectionChange=new Le;onNodeSelect=new Le;onNodeUnselect=new Le;onNodeExpand=new Le;onNodeCollapse=new Le;onNodeContextMenuSelect=new Le;onNodeDoubleClick=new Le;onNodeDrop=new Le;onLazyLoad=new Le;onScroll=new Le;onScrollIndexChange=new Le;onFilter=new Le;filterTemplate;nodeTemplate;headerTemplate;footerTemplate;loaderTemplate;emptyMessageTemplate;togglerIconTemplate;checkboxIconTemplate;loadingIconTemplate;filterIconTemplate;filterViewChild;scroller;wrapperViewChild;contentViewChild;templates;_headerTemplate;_emptyMessageTemplate;_footerTemplate;_loaderTemplate;_togglerIconTemplate;_checkboxIconTemplate;_loadingIconTemplate;_filterIconTemplate;_filterTemplate;ngAfterContentInit(){this.templates.length&&(this._templateMap={}),this.templates.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"empty":this._emptyMessageTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;case"togglericon":this._togglerIconTemplate=e.template;break;case"checkboxicon":this._checkboxIconTemplate=e.template;break;case"loadingicon":this._loadingIconTemplate=e.template;break;case"filtericon":this._filterIconTemplate=e.template;break;case"filter":this._filterTemplate=e.template;break;default:this._templateMap[e.name]=e.template;break}})}serializedValue;nodeTouched;dragNodeTree;dragNode;dragNodeSubNodes;dragNodeIndex;dragNodeScope;dragHover;dragStartSubscription;dragStopSubscription;_componentStyle=Fe(r_);handleDropEvent(e){this.onDrop(e)}handleDragOverEvent(e){this.onDragOver(e)}handleDragEnterEvent(){this.onDragEnter()}handleDragLeaveEvent(e){this.onDragLeave(e)}constructor(e){super(),this.dragDropService=e}ngOnInit(){super.ngOnInit(),this.filterBy&&(this.filterOptions={filter:e=>this._filter(e),reset:()=>this.resetFilter()}),this.droppableNodes&&(this.dragStartSubscription=this.dragDropService.dragStart$.subscribe(e=>{this.dragNodeTree=e.tree,this.dragNode=e.node,this.dragNodeSubNodes=e.subNodes,this.dragNodeIndex=e.index,this.dragNodeScope=e.scope}),this.dragStopSubscription=this.dragDropService.dragStop$.subscribe(e=>{this.dragNodeTree=null,this.dragNode=null,this.dragNodeSubNodes=null,this.dragNodeIndex=null,this.dragNodeScope=null,this.dragHover=!1}))}ngOnChanges(e){super.ngOnChanges(e),e.value&&(this.updateSerializedValue(),this.hasFilterActive()&&this._filter(this.filterViewChild.nativeElement.value))}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(yo.EMPTY_MESSAGE)}updateSerializedValue(){this.serializedValue=[],this.serializeNodes(null,this.getRootNode(),0,!0)}serializeNodes(e,i,n,a){if(i&&i.length)for(let u of i){u.parent=e;let b={node:u,parent:e,level:n,visible:a&&(e?e.expanded:!0)};this.serializedValue.push(b),b.visible&&u.expanded&&this.serializeNodes(u,u.children,n+1,b.visible)}}onNodeClick(e,i){let n=e.target;if(!(Ko(n,"p-tree-toggler")||Ko(n,"p-tree-toggler-icon"))){if(this.selectionMode){if(i.selectable===!1){i.style="--p-focus-ring-color: none;";return}else i.style?.includes("--p-focus-ring-color")||(i.style=i.style?`${i.style}--p-focus-ring-color: var(--primary-color)`:"--p-focus-ring-color: var(--primary-color)");if(this.hasFilteredNodes()&&(i=this.getNodeWithKey(i.key,this.filteredNodes),!i))return;let a=this.findIndexInSelection(i),u=a>=0;if(this.isCheckboxSelectionMode())u?(this.propagateSelectionDown?this.propagateDown(i,!1):this.selection=this.selection.filter((b,T)=>T!=a),this.propagateSelectionUp&&i.parent&&this.propagateUp(i.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e,node:i})):(this.propagateSelectionDown?this.propagateDown(i,!0):this.selection=[...this.selection||[],i],this.propagateSelectionUp&&i.parent&&this.propagateUp(i.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e,node:i}));else if(this.nodeTouched?!1:this.metaKeySelection){let T=e.metaKey||e.ctrlKey;u&&T?(this.isSingleSelectionMode()?this.selectionChange.emit(null):(this.selection=this.selection.filter((D,R)=>R!=a),this.selectionChange.emit(this.selection)),this.onNodeUnselect.emit({originalEvent:e,node:i})):(this.isSingleSelectionMode()?this.selectionChange.emit(i):this.isMultipleSelectionMode()&&(this.selection=T?this.selection||[]:[],this.selection=[...this.selection,i],this.selectionChange.emit(this.selection)),this.onNodeSelect.emit({originalEvent:e,node:i}))}else this.isSingleSelectionMode()?u?(this.selection=null,this.onNodeUnselect.emit({originalEvent:e,node:i})):(this.selection=i,setTimeout(()=>{this.onNodeSelect.emit({originalEvent:e,node:i})})):u?(this.selection=this.selection.filter((T,D)=>D!=a),this.onNodeUnselect.emit({originalEvent:e,node:i})):(this.selection=[...this.selection||[],i],setTimeout(()=>{this.onNodeSelect.emit({originalEvent:e,node:i})})),this.selectionChange.emit(this.selection)}this.nodeTouched=!1}}onNodeTouchEnd(){this.nodeTouched=!0}onNodeRightClick(e,i){if(this.contextMenu){let n=e.target;if(n.className&&n.className.indexOf("p-tree-toggler")===0)return;this.findIndexInSelection(i)>=0||(this.isSingleSelectionMode()?this.selectionChange.emit(i):this.selectionChange.emit([i])),this.contextMenu.show(e),this.onNodeContextMenuSelect.emit({originalEvent:e,node:i})}}onNodeDblClick(e,i){this.onNodeDoubleClick.emit({originalEvent:e,node:i})}findIndexInSelection(e){let i=-1;if(this.selectionMode&&this.selection)if(this.isSingleSelectionMode())i=this.selection.key&&this.selection.key===e.key||this.selection==e?0:-1;else for(let n=0;n<this.selection.length;n++){let a=this.selection[n];if(a.key&&a.key===e.key||a==e){i=n;break}}return i}syncNodeOption(e,i,n,a){let u=this.hasFilteredNodes()?this.getNodeWithKey(e.key,i):null;u&&(u[n]=a||e[n])}hasFilteredNodes(){return this.filter&&this.filteredNodes&&this.filteredNodes.length}hasFilterActive(){return this.filter&&this.filterViewChild?.nativeElement?.value.length>0}getNodeWithKey(e,i){for(let n of i){if(n.key===e)return n;if(n.children){let a=this.getNodeWithKey(e,n.children);if(a)return a}}}propagateUp(e,i){if(e.children&&e.children.length){let a=0,u=!1;for(let b of e.children)this.isSelected(b)?a++:b.partialSelected&&(u=!0);if(i&&a==e.children.length)this.selection=[...this.selection||[],e],e.partialSelected=!1;else{if(!i){let b=this.findIndexInSelection(e);b>=0&&(this.selection=this.selection.filter((T,D)=>D!=b))}u||a>0&&a!=e.children.length?e.partialSelected=!0:e.partialSelected=!1}this.syncNodeOption(e,this.filteredNodes,"partialSelected")}let n=e.parent;n&&this.propagateUp(n,i)}propagateDown(e,i){let n=this.findIndexInSelection(e);if(i&&n==-1?this.selection=[...this.selection||[],e]:!i&&n>-1&&(this.selection=this.selection.filter((a,u)=>u!=n)),e.partialSelected=!1,this.syncNodeOption(e,this.filteredNodes,"partialSelected"),e.children&&e.children.length)for(let a of e.children)this.propagateDown(a,i)}isSelected(e){return this.findIndexInSelection(e)!=-1}isSingleSelectionMode(){return this.selectionMode&&this.selectionMode=="single"}isMultipleSelectionMode(){return this.selectionMode&&this.selectionMode=="multiple"}isCheckboxSelectionMode(){return this.selectionMode&&this.selectionMode=="checkbox"}isNodeLeaf(e){return e.leaf==!1?!1:!(e.children&&e.children.length)}getRootNode(){return this.filteredNodes?this.filteredNodes:this.value}getTemplateForNode(e){return this._templateMap?e.type?this._templateMap[e.type]:this._templateMap.default:null}onDragOver(e){this.droppableNodes&&(!this.value||this.value.length===0)&&(e.dataTransfer.dropEffect="move",e.preventDefault())}onDrop(e){if(this.droppableNodes&&(!this.value||this.value.length===0)){e.preventDefault();let i=this.dragNode;if(this.allowDrop(i,null,this.dragNodeScope)){let n=this.dragNodeIndex;this.value=this.value||[],this.validateDrop?this.onNodeDrop.emit({originalEvent:e,dragNode:i,dropNode:null,index:n,accept:()=>{this.processTreeDrop(i,n)}}):(this.onNodeDrop.emit({originalEvent:e,dragNode:i,dropNode:null,index:n}),this.processTreeDrop(i,n))}}}processTreeDrop(e,i){this.dragNodeSubNodes.splice(i,1),this.value.push(e),this.dragDropService.stopDrag({node:e})}onDragEnter(){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(this.dragHover=!0)}onDragLeave(e){if(this.droppableNodes){let i=e.currentTarget.getBoundingClientRect();(e.x>i.left+i.width||e.x<i.left||e.y>i.top+i.height||e.y<i.top)&&(this.dragHover=!1)}}allowDrop(e,i,n){if(e)if(this.isValidDragScope(n)){let a=!0;if(i)if(e===i)a=!1;else{let u=i.parent;for(;u!=null;){if(u===e){a=!1;break}u=u.parent}}return a}else return!1;else return!1}isValidDragScope(e){let i=this.droppableScope;if(i){if(typeof i=="string"){if(typeof e=="string")return i===e;if(Array.isArray(e))return e.indexOf(i)!=-1}else if(Array.isArray(i)){if(typeof e=="string")return i.indexOf(e)!=-1;if(Array.isArray(e)){for(let n of i)for(let a of e)if(n===a)return!0}}return!1}else return!0}_filter(e){let i=e;if(i==="")this.filteredNodes=null;else{this.filteredNodes=[];let n=this.filterBy.split(","),a=Sb(i).toLocaleLowerCase(this.filterLocale),u=this.filterMode==="strict";for(let b of this.value){let T=ri({},b),D={searchFields:n,filterText:a,isStrictMode:u};(u&&(this.findFilteredNodes(T,D)||this.isFilterMatched(T,D))||!u&&(this.isFilterMatched(T,D)||this.findFilteredNodes(T,D)))&&this.filteredNodes.push(T)}}this.updateSerializedValue(),this.onFilter.emit({filter:i,filteredValue:this.filteredNodes})}resetFilter(){this.filteredNodes=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}scrollToVirtualIndex(e){this.virtualScroll&&this.scroller?.scrollToIndex(e)}scrollTo(e){this.virtualScroll?this.scroller?.scrollTo(e):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top))}findFilteredNodes(e,i){if(e){let n=!1;if(e.children){let a=[...e.children];e.children=[];for(let u of a){let b=ri({},u);this.isFilterMatched(b,i)&&(n=!0,e.children.push(b))}}if(n)return e.expanded=!0,!0}}isFilterMatched(e,i){let{searchFields:n,filterText:a,isStrictMode:u}=i,b=!1;for(let T of n)Sb(String(Vi(e,T))).toLocaleLowerCase(this.filterLocale).indexOf(a)>-1&&(b=!0);return(!b||u&&!this.isNodeLeaf(e))&&(b=this.findFilteredNodes(e,{searchFields:n,filterText:a,isStrictMode:u})||b),b}getIndex(e,i){let n=e.getItemOptions;return n?n(i).index:i}getBlockableElement(){return this.el.nativeElement.children[0]}ngOnDestroy(){this.dragStartSubscription&&this.dragStartSubscription.unsubscribe(),this.dragStopSubscription&&this.dragStopSubscription.unsubscribe(),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||t)(Dt(qw,8))};static \u0275cmp=Je({type:t,selectors:[["p-tree"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,HT,4),xe(a,ZA,4),xe(a,QA,4),xe(a,XA,4),xe(a,YA,4),xe(a,JA,4),xe(a,eO,4),xe(a,tO,4),xe(a,iO,4),xe(a,nO,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.filterTemplate=u.first),se(u=le())&&(n.nodeTemplate=u.first),se(u=le())&&(n.headerTemplate=u.first),se(u=le())&&(n.footerTemplate=u.first),se(u=le())&&(n.loaderTemplate=u.first),se(u=le())&&(n.emptyMessageTemplate=u.first),se(u=le())&&(n.togglerIconTemplate=u.first),se(u=le())&&(n.checkboxIconTemplate=u.first),se(u=le())&&(n.loadingIconTemplate=u.first),se(u=le())&&(n.filterIconTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&(ut(HT,5),ut(aO,5),ut(oO,5),ut(rO,5)),i&2){let a;se(a=le())&&(n.filterViewChild=a.first),se(a=le())&&(n.scroller=a.first),se(a=le())&&(n.wrapperViewChild=a.first),se(a=le())&&(n.contentViewChild=a.first)}},hostVars:2,hostBindings:function(i,n){i&1&&we("drop",function(u){return n.handleDropEvent(u)})("dragover",function(u){return n.handleDragOverEvent(u)})("dragenter",function(){return n.handleDragEnterEvent()})("dragleave",function(u){return n.handleDragLeaveEvent(u)}),i&2&&$(n.cn(n.cx("root"),n.styleClass))},inputs:{value:"value",selectionMode:"selectionMode",loadingMode:"loadingMode",selection:"selection",styleClass:"styleClass",contextMenu:"contextMenu",draggableScope:"draggableScope",droppableScope:"droppableScope",draggableNodes:[2,"draggableNodes","draggableNodes",ye],droppableNodes:[2,"droppableNodes","droppableNodes",ye],metaKeySelection:[2,"metaKeySelection","metaKeySelection",ye],propagateSelectionUp:[2,"propagateSelectionUp","propagateSelectionUp",ye],propagateSelectionDown:[2,"propagateSelectionDown","propagateSelectionDown",ye],loading:[2,"loading","loading",ye],loadingIcon:"loadingIcon",emptyMessage:"emptyMessage",ariaLabel:"ariaLabel",togglerAriaLabel:"togglerAriaLabel",ariaLabelledBy:"ariaLabelledBy",validateDrop:[2,"validateDrop","validateDrop",ye],filter:[2,"filter","filter",ye],filterInputAutoFocus:[2,"filterInputAutoFocus","filterInputAutoFocus",ye],filterBy:"filterBy",filterMode:"filterMode",filterOptions:"filterOptions",filterPlaceholder:"filterPlaceholder",filteredNodes:"filteredNodes",filterLocale:"filterLocale",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",ye],virtualScroll:[2,"virtualScroll","virtualScroll",ye],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",wt],virtualScrollOptions:"virtualScrollOptions",indentation:[2,"indentation","indentation",wt],_templateMap:"_templateMap",trackBy:"trackBy",highlightOnSelect:[2,"highlightOnSelect","highlightOnSelect",ye]},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onNodeContextMenuSelect:"onNodeContextMenuSelect",onNodeDoubleClick:"onNodeDoubleClick",onNodeDrop:"onNodeDrop",onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange",onFilter:"onFilter"},features:[_t([r_]),ft,Eo],decls:7,vars:6,consts:[["filter",""],["scroller",""],["content",""],["treeNode",""],["loader",""],["wrapper",""],["emptyFilter",""],[3,"class",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"class"],[4,"ngIf"],["data-p-icon","spinner","spin","",3,"class",4,"ngIf"],["data-p-icon","spinner","spin",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["pInputText","","type","search","autocomplete","off",3,"keydown.enter","input","pAutoFocus"],["data-p-icon","search",3,"class",4,"ngIf"],["data-p-icon","search"],[3,"items","tabindex","styleClass","style","scrollHeight","itemSize","lazy","options","onScroll","onScrollIndexChange","onLazyLoad",4,"ngIf"],[3,"onScroll","onScrollIndexChange","onLazyLoad","items","tabindex","styleClass","scrollHeight","itemSize","lazy","options"],["role","tree",3,"class","ngClass","style",4,"ngIf"],["role","tree",3,"ngClass"],[3,"level","rowNode","node","parentNode","firstChild","lastChild","index","itemSize","indentation","loadingMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"level","rowNode","node","parentNode","firstChild","lastChild","index","itemSize","indentation","loadingMode"],["role","tree",3,"class",4,"ngIf"],["role","tree"],[3,"node","firstChild","lastChild","index","level","loadingMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild","index","level","loadingMode"],[4,"ngIf","ngIfElse"]],template:function(i,n){if(i&1&&(z(0,mO,3,4,"div",7)(1,fO,1,0,"ng-container",8),Wi(2,_O,1,4,"ng-container")(3,IO,1,1,"p-iconfield",9),z(4,OO,3,2,"ng-container",10)(5,RO,3,5,"div",7)(6,BO,1,0,"ng-container",8)),i&2){let a;C("ngIf",n.loading&&n.loadingMode==="mask"),S(),C("ngTemplateOutlet",n.headerTemplate||n._headerTemplate),S(),Zi(n.filterTemplate||n._filterTemplate?2:3),S(2),C("ngIf",(a=n.getRootNode())==null?null:a.length),S(),C("ngIf",!n.loading&&(n.getRootNode()==null||n.getRootNode().length===0)),S(),C("ngTemplateOutlet",n.footerTemplate||n._footerTemplate)}},dependencies:[mt,ka,Bi,Ut,Yt,ls,Ze,gp,As,ma,dn,cr,dr,qO,N0,Ao],encapsulation:2})}return t})(),$T=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[qp,Ze,Ze]})}return t})();var KT=`
    .p-treeselect {
        display: inline-flex;
        cursor: pointer;
        position: relative;
        user-select: none;
        background: dt('treeselect.background');
        border: 1px solid dt('treeselect.border.color');
        transition:
            background dt('treeselect.transition.duration'),
            color dt('treeselect.transition.duration'),
            border-color dt('treeselect.transition.duration'),
            outline-color dt('treeselect.transition.duration'),
            box-shadow dt('treeselect.transition.duration');
        border-radius: dt('treeselect.border.radius');
        outline-color: transparent;
        box-shadow: dt('treeselect.shadow');
    }

    .p-treeselect:not(.p-disabled):hover {
        border-color: dt('treeselect.hover.border.color');
    }

    .p-treeselect:not(.p-disabled).p-focus {
        border-color: dt('treeselect.focus.border.color');
        box-shadow: dt('treeselect.focus.ring.shadow');
        outline: dt('treeselect.focus.ring.width') dt('treeselect.focus.ring.style') dt('treeselect.focus.ring.color');
        outline-offset: dt('treeselect.focus.ring.offset');
    }

    .p-treeselect.p-variant-filled {
        background: dt('treeselect.filled.background');
    }

    .p-treeselect.p-variant-filled:not(.p-disabled):hover {
        background: dt('treeselect.filled.hover.background');
    }

    .p-treeselect.p-variant-filled.p-focus {
        background: dt('treeselect.filled.focus.background');
    }

    .p-treeselect.p-invalid {
        border-color: dt('treeselect.invalid.border.color');
    }

    .p-treeselect.p-disabled {
        opacity: 1;
        background: dt('treeselect.disabled.background');
    }

    .p-treeselect-clear-icon {
        position: absolute;
        top: 50%;
        margin-top: -0.5rem;
        color: dt('treeselect.clear.icon.color');
        inset-inline-end: dt('treeselect.dropdown.width');
    }

    .p-treeselect-dropdown {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        background: transparent;
        color: dt('treeselect.dropdown.color');
        width: dt('treeselect.dropdown.width');
        border-start-end-radius: dt('border.radius.md');
        border-end-end-radius: dt('border.radius.md');
    }

    .p-treeselect-label-container {
        overflow: hidden;
        flex: 1 1 auto;
        cursor: pointer;
    }

    .p-treeselect-label {
        display: flex;
        align-items: center;
        gap: calc(dt('treeselect.padding.y') / 2);
        white-space: nowrap;
        cursor: pointer;
        overflow: hidden;
        text-overflow: ellipsis;
        padding: dt('treeselect.padding.y') dt('treeselect.padding.x');
        color: dt('treeselect.color');
    }

    .p-treeselect-label.p-placeholder {
        color: dt('treeselect.placeholder.color');
    }

    .p-treeselect.p-invalid .p-treeselect-label.p-placeholder {
        color: dt('treeselect.invalid.placeholder.color');
    }

    .p-treeselect.p-disabled .p-treeselect-label {
        color: dt('treeselect.disabled.color');
    }

    .p-treeselect-label-empty {
        overflow: hidden;
        visibility: hidden;
    }

    .p-treeselect-overlay {
        position: absolute;
        top: 0;
        left: 0;
        background: dt('treeselect.overlay.background');
        color: dt('treeselect.overlay.color');
        border: 1px solid dt('treeselect.overlay.border.color');
        border-radius: dt('treeselect.overlay.border.radius');
        box-shadow: dt('treeselect.overlay.shadow');
        overflow: hidden;
        min-width: 100%;
    }

    .p-treeselect-tree-container {
        overflow: auto;
    }

    .p-treeselect-empty-message {
        padding: dt('treeselect.empty.message.padding');
        background: transparent;
    }

    .p-treeselect-fluid {
        display: flex;
    }

    .p-treeselect-overlay .p-tree {
        padding: dt('treeselect.tree.padding');
    }

    .p-treeselect-overlay .p-tree-loading {
        min-height: 3rem;
    }

    .p-treeselect-label .p-chip {
        padding-block-start: calc(dt('treeselect.padding.y') / 2);
        padding-block-end: calc(dt('treeselect.padding.y') / 2);
        border-radius: dt('treeselect.chip.border.radius');
    }

    .p-treeselect-label:has(.p-chip) {
        padding: calc(dt('treeselect.padding.y') / 2) calc(dt('treeselect.padding.x') / 2);
    }

    .p-treeselect-sm .p-treeselect-label {
        font-size: dt('treeselect.sm.font.size');
        padding-block: dt('treeselect.sm.padding.y');
        padding-inline: dt('treeselect.sm.padding.x');
    }

    .p-treeselect-sm .p-treeselect-dropdown .p-icon {
        font-size: dt('treeselect.sm.font.size');
        width: dt('treeselect.sm.font.size');
        height: dt('treeselect.sm.font.size');
    }

    .p-treeselect-lg .p-treeselect-label {
        font-size: dt('treeselect.lg.font.size');
        padding-block: dt('treeselect.lg.padding.y');
        padding-inline: dt('treeselect.lg.padding.x');
    }

    .p-treeselect-lg .p-treeselect-dropdown .p-icon {
        font-size: dt('treeselect.lg.font.size');
        width: dt('treeselect.lg.font.size');
        height: dt('treeselect.lg.font.size');
    }
`;var jO=["value"],GO=["header"],UO=["empty"],$O=["footer"],KO=["clearicon"],WO=["triggericon"],ZO=["dropdownicon"],QO=["filtericon"],XO=["closeicon"],YO=["itemtogglericon"],JO=["itemcheckboxicon"],eF=["itemloadingicon"],tF=["focusInput"],iF=["filter"],nF=["tree"],aF=["panel"],oF=["overlay"],rF=["firstHiddenFocusableEl"],sF=["lastHiddenFocusableEl"],lF=(t,s)=>({$implicit:t,placeholder:s}),WT=(t,s)=>({$implicit:t,options:s}),cF=t=>({"max-height":t}),dF=t=>({$implicit:t}),uF=(t,s)=>({$implicit:t,partialSelected:s});function pF(t,s){t&1&&nt(0)}function hF(t,s){if(t&1&&(Ke(0),z(1,pF,1,0,"ng-container",22),We()),t&2){let e=M();S(),C("ngTemplateOutlet",e.valueTemplate||e._valueTemplate)("ngTemplateOutletContext",ni(2,lF,e.value,e.placeholder))}}function mF(t,s){if(t&1&&(Ke(0),ie(1),We()),t&2){let e=M(2);S(),oi(" ",e.label||"empty"," ")}}function fF(t,s){if(t&1&&(A(0,"div"),ae(1,"p-chip",24),L()),t&2){let e=s.$implicit,i=M(3);$(i.cx("chipItem")),S(),$(i.cx("pcChip")),C("label",e.label)}}function gF(t,s){if(t&1&&(Ke(0),ie(1),We()),t&2){let e=M(3);S(),Et(e.placeholder||"empty")}}function _F(t,s){if(t&1&&z(0,fF,2,5,"div",23)(1,gF,2,1,"ng-container",17),t&2){let e=M(2);C("ngForOf",e.value),S(),C("ngIf",e.emptyValue)}}function bF(t,s){if(t&1&&z(0,mF,2,1,"ng-container",16)(1,_F,2,2,"ng-template",null,4,ze),t&2){let e=Gt(2),i=M();C("ngIf",i.display==="comma")("ngIfElse",e)}}function yF(t,s){if(t&1){let e=Be();at(),A(0,"svg",27),we("click",function(n){Q(e);let a=M(2);return X(a.clear(n))}),L()}if(t&2){let e=M(2);$(e.cx("clearIcon"))}}function vF(t,s){}function xF(t,s){t&1&&z(0,vF,0,0,"ng-template")}function wF(t,s){if(t&1){let e=Be();A(0,"span",28),we("click",function(n){Q(e);let a=M(2);return X(a.clear(n))}),z(1,xF,1,0,null,29),L()}if(t&2){let e=M(2);$(e.cx("clearIcon")),S(),C("ngTemplateOutlet",e.clearIconTemplate||e._clearIconTemplate)}}function IF(t,s){if(t&1&&(Ke(0),z(1,yF,1,2,"svg",25)(2,wF,2,3,"span",26),We()),t&2){let e=M();S(),C("ngIf",!e.clearIconTemplate&&!e._clearIconTemplate),S(),C("ngIf",e.clearIconTemplate||e.clearIconTemplate)}}function TF(t,s){if(t&1&&(at(),ae(0,"svg",30)),t&2){let e=M();$(e.cx("dropdownIcon"))}}function CF(t,s){}function SF(t,s){t&1&&z(0,CF,0,0,"ng-template")}function MF(t,s){if(t&1&&(A(0,"span"),z(1,SF,1,0,null,29),L()),t&2){let e=M();$(e.cx("dropdownIcon")),S(),C("ngTemplateOutlet",e.triggerIconTemplate||e._triggerIconTemplate||e.dropdownIconTemplate||e._dropdownIconTemplate)}}function kF(t,s){t&1&&nt(0)}function EF(t,s){t&1&&nt(0)}function PF(t,s){if(t&1&&z(0,EF,1,0,"ng-container",29),t&2){let e=M(3);C("ngTemplateOutlet",e.emptyTemplate||e._emptyTemplate)}}function DF(t,s){t&1&&(Ke(0),z(1,PF,1,1,"ng-template",null,9,ze),We())}function LF(t,s){t&1&&nt(0)}function AF(t,s){if(t&1&&z(0,LF,1,0,"ng-container",22),t&2){let e=s.$implicit,i=M(3);C("ngTemplateOutlet",i.itemTogglerIconTemplate||i._itemTogglerIconTemplate)("ngTemplateOutletContext",ot(2,dF,e))}}function OF(t,s){t&1&&z(0,AF,1,4,"ng-template",null,10,ze)}function FF(t,s){t&1&&nt(0)}function VF(t,s){if(t&1&&z(0,FF,1,0,"ng-container",22),t&2){let e=s.$implicit,i=s.partialSelected,n=M(3);C("ngTemplateOutlet",n.itemCheckboxIconTemplate||n._itemCheckboxIconTemplate)("ngTemplateOutletContext",ni(2,uF,e,i))}}function zF(t,s){t&1&&z(0,VF,1,5,"ng-template",null,11,ze)}function RF(t,s){t&1&&nt(0)}function BF(t,s){if(t&1&&z(0,RF,1,0,"ng-container",29),t&2){let e=M(3);C("ngTemplateOutlet",e.itemLoadingIconTemplate||e._itemLoadingIconTemplate)}}function NF(t,s){t&1&&z(0,BF,1,1,"ng-template",null,12,ze)}function qF(t,s){t&1&&nt(0)}function HF(t,s){if(t&1){let e=Be();A(0,"div",15,5)(2,"span",31,6),we("focus",function(n){Q(e);let a=M();return X(a.onFirstHiddenFocus(n))}),L(),z(4,kF,1,0,"ng-container",22),A(5,"div",15)(6,"p-tree",32,7),we("selectionChange",function(n){Q(e);let a=M();return X(a.onSelectionChange(n))})("onNodeExpand",function(n){Q(e);let a=M();return X(a.nodeExpand(n))})("onNodeCollapse",function(n){Q(e);let a=M();return X(a.nodeCollapse(n))})("onNodeSelect",function(n){Q(e);let a=M();return X(a.onSelect(n))})("onNodeUnselect",function(n){Q(e);let a=M();return X(a.onUnselect(n))}),z(8,DF,3,0,"ng-container",17)(9,OF,2,0,null,17)(10,zF,2,0,null,17)(11,NF,2,0,null,17),L()(),z(12,qF,1,0,"ng-container",22),A(13,"span",31,8),we("focus",function(n){Q(e);let a=M();return X(a.onLastHiddenFocus(n))}),L()()}if(t&2){let e=M();$(e.cn(e.cx("panel"),e.panelStyleClass,e.panelClass)),C("ngStyle",e.panelStyle),de("id",e.listId),S(2),de("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),S(2),C("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)("ngTemplateOutletContext",ni(40,WT,e.value,e.options)),S(),$(e.cx("treeContainer")),C("ngStyle",ot(43,cF,e.scrollHeight)),S(),C("value",e.options)("propagateSelectionDown",e.propagateSelectionDown)("propagateSelectionUp",e.propagateSelectionUp)("selectionMode",e.selectionMode)("selection",e.value)("metaKeySelection",e.metaKeySelection)("emptyMessage",e.emptyMessage)("filter",e.filter)("filterBy",e.filterBy)("filterMode",e.filterMode)("filterPlaceholder",e.filterPlaceholder)("filterLocale",e.filterLocale)("filteredNodes",e.filteredNodes)("virtualScroll",e.virtualScroll)("virtualScrollItemSize",e.virtualScrollItemSize)("virtualScrollOptions",e.virtualScrollOptions)("_templateMap",e.templateMap)("loading",e.loading)("filterInputAutoFocus",e.filterInputAutoFocus),S(2),C("ngIf",e.emptyTemplate||e._emptyTemplate),S(),C("ngIf",e.itemTogglerIconTemplate||e._itemTogglerIconTemplate),S(),C("ngIf",e.itemCheckboxIconTemplate||e._itemCheckboxIconTemplate),S(),C("ngIf",e.itemLoadingIconTemplate||e._itemLoadingIconTemplate),S(),C("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",ni(45,WT,e.value,e.options)),S(),de("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var jF=`
    ${KT}

    /* For PrimeNG */

    .p-treeselect.ng-invalid.ng-dirty {
        border-color: dt('treeselect.invalid.border.color');
    }

    p-treeselect.ng-invalid.ng-dirty.p-focus {
        border-color: dt('treeselect.focus.border.color');
    }

    p-treeselect.ng-invalid.ng-dirty .p-treeselect-label.p-placeholder {
        color: dt('treeselect.invalid.placeholder.color');
    }
`,GF={root:({instance:t})=>ri({position:t.$appendTo()==="self"?"relative":void 0},t.containerStyle)},UF={root:({instance:t})=>["p-treeselect p-component p-inputwrapper",{"p-treeselect-display-chip":t.display==="chip","p-disabled":t.$disabled(),"p-invalid":t.invalid(),"p-focus":t.focused,"p-variant-filled":t.$variant()==="filled","p-inputwrapper-filled":!t.emptyValue,"p-inputwrapper-focus":t.focused||t.overlayVisible,"p-treeselect-open":t.overlayVisible,"p-treeselect-clearable":t.showClear,"p-treeselect-fluid":t.hasFluid,"p-treeselect-sm p-inputfield-sm":t.size()==="small","p-treeselect-lg p-inputfield-lg":t.size()==="large"}],labelContainer:"p-treeselect-label-container",label:({instance:t})=>["p-treeselect-label",{"p-placeholder":t.label===t.placeholder,"p-treeselect-label-empty":!t.placeholder&&t.emptyValue}],chip:"p-treeselect-chip-item",pcChip:"p-treeselect-chip",dropdown:"p-treeselect-dropdown",dropdownIcon:"p-treeselect-dropdown-icon",panel:"p-treeselect-overlay p-component-overlay p-component",treeContainer:"p-treeselect-tree-container",emptyMessage:"p-treeselect-empty-message"},ZT=(()=>{class t extends Rt{name="treeselect";theme=jF;classes=UF;inlineStyles=GF;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var $F={provide:Oo,useExisting:Ki(()=>s_),multi:!0},s_=(()=>{class t extends lr{inputId;scrollHeight="400px";metaKeySelection=!1;display="comma";selectionMode="single";tabindex="0";ariaLabel;ariaLabelledBy;placeholder;panelClass;panelStyle;panelStyleClass;containerStyle;containerStyleClass;labelStyle;labelStyleClass;overlayOptions;emptyMessage="";filter=!1;filterBy="label";filterMode="lenient";filterPlaceholder;filterLocale;filterInputAutoFocus=!0;propagateSelectionDown=!0;propagateSelectionUp=!0;showClear=!1;resetFilterOnHide=!0;virtualScroll;virtualScrollItemSize;virtualScrollOptions;autofocus;get options(){return this._options}set options(e){this._options=e,this.updateTreeState()}loading;size=nn();variant=nn();fluid=nn(void 0,{transform:ye});appendTo=nn(void 0);onNodeExpand=new Le;onNodeCollapse=new Le;onShow=new Le;onHide=new Le;onClear=new Le;onFilter=new Le;onFocus=new Le;onBlur=new Le;onNodeUnselect=new Le;onNodeSelect=new Le;$appendTo=Ai(()=>this.appendTo()||this.config.overlayAppendTo());focusInput;filterViewChild;treeViewChild;panelEl;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;$variant=Ai(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());pcFluid=Fe(Ds,{optional:!0,host:!0,skipSelf:!0});get hasFluid(){return this.fluid()??!!this.pcFluid}filteredNodes;filterValue=null;serializedValue;valueTemplate;headerTemplate;emptyTemplate;footerTemplate;clearIconTemplate;triggerIconTemplate;dropdownIconTemplate;filterIconTemplate;closeIconTemplate;itemTogglerIconTemplate;itemCheckboxIconTemplate;itemLoadingIconTemplate;templates;_valueTemplate;_headerTemplate;_emptyTemplate;_footerTemplate;_clearIconTemplate;_triggerIconTemplate;_filterIconTemplate;_closeIconTemplate;_itemTogglerIconTemplate;_itemCheckboxIconTemplate;_itemLoadingIconTemplate;_dropdownIconTemplate;focused;overlayVisible;value;expandedNodes=[];_options;templateMap;listId="";_componentStyle=Fe(ZT);onHostClick(e){this.onClick(e)}ngOnInit(){super.ngOnInit(),this.listId=vi("pn_id_")+"_list",this.updateTreeState()}ngAfterContentInit(){this.templates.length&&(this.templateMap={}),this.templates.forEach(e=>{switch(e.getType()){case"value":this._valueTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"empty":this._emptyTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"clearicon":this._clearIconTemplate=e.template;break;case"triggericon":this._triggerIconTemplate=e.template;break;case"filtericon":this._filterIconTemplate=e.template;break;case"closeicon":this._closeIconTemplate=e.template;break;case"itemtogglericon":this._itemTogglerIconTemplate=e.template;break;case"itemcheckboxicon":this._itemCheckboxIconTemplate=e.template;break;case"dropdownicon":this._dropdownIconTemplate=e.template;break;case"itemloadingicon":this._itemLoadingIconTemplate=e.template;break;default:e.name?this.templateMap[e.name]=e.template:this.valueTemplate=e.template;break}})}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.filter)Wt(this.filterValue)&&this.treeViewChild?._filter(this.filterValue),this.filterInputAutoFocus&&this.filterViewChild?.nativeElement.focus();else{let i=Hd(this.panelEl.nativeElement);i&&i.length>0&&i[0].focus()}break}}onOverlayBeforeHide(e){let i=Hd(this.el.nativeElement);i&&i.length>0&&i[0].focus()}onSelectionChange(e){this.value=e,this.onModelChange(this.value),this.cd.markForCheck()}onClick(e){this.$disabled()||!this.overlayViewChild?.el?.nativeElement?.contains(e.target)&&!Ko(e.target,"p-treeselect-close")&&!Ko(e.target,"p-checkbox-box")&&!Ko(e.target,"p-checkbox-icon")&&(this.overlayVisible?this.hide():this.show(),this.focusInput?.nativeElement.focus())}onKeyDown(e){switch(e.code){case"ArrowDown":this.overlayVisible||(this.show(),e.preventDefault()),this.onArrowDown(e),e.preventDefault();break;case"Space":case"Enter":this.overlayVisible||(this.show(),e.preventDefault());break;case"Escape":this.overlayVisible&&(this.hide(),this.focusInput?.nativeElement.focus(),e.preventDefault());break;case"Tab":this.onTabKey(e);break;default:break}}onFilterInput(e){this.filterValue=e.target.value,this.treeViewChild?._filter(this.filterValue),this.onFilter.emit({filter:this.filterValue,filteredValue:this.treeViewChild?.filteredNodes}),setTimeout(()=>{this.overlayViewChild.alignOverlay()})}onArrowDown(e){if(this.overlayVisible&&this.panelEl?.nativeElement){let i=Hd(this.panelEl.nativeElement,".p-tree-node");i&&i.length>0&&i[0].focus(),e.preventDefault()}}onFirstHiddenFocus(e){let i=e.relatedTarget===this.focusInput?.nativeElement?jd(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInput?.nativeElement;$t(i)}onLastHiddenFocus(e){let i=e.relatedTarget===this.focusInput?.nativeElement?V0(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInput?.nativeElement;$t(i)}show(){this.overlayVisible=!0}hide(e){this.overlayVisible=!1,this.resetFilter(),this.onHide.emit(e),this.cd.markForCheck()}clear(e){this.value=null,this.resetExpandedNodes(),this.resetPartialSelected(),this.onModelChange(this.value),this.onClear.emit(),e.stopPropagation()}checkValue(){return this.value!==null&&Wt(this.value)}onTabKey(e,i=!1){i||(this.overlayVisible&&this.hasFocusableElements()?($t(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault()):this.overlayVisible&&this.hide(this.filter))}hasFocusableElements(){return Hd(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}resetFilter(){this.filter&&!this.resetFilterOnHide?(this.filteredNodes=this.treeViewChild?.filteredNodes,this.treeViewChild?.resetFilter()):this.filterValue=null}updateTreeState(){if(this.value){let e=this.selectionMode==="single"?[this.value]:[...this.value];this.resetExpandedNodes(),this.resetPartialSelected(),e&&this.options&&this.updateTreeBranchState(null,null,e)}}updateTreeBranchState(e,i,n){if(e){if(this.isSelected(e)&&(this.expandPath(i),n.splice(n.indexOf(e),1)),n.length>0&&e.children)for(let a of e.children)this.updateTreeBranchState(a,[...i,e],n)}else for(let a of this.options)this.updateTreeBranchState(a,[],n)}expandPath(e){for(let i of e)i.expanded=!0;this.expandedNodes=[...e]}nodeExpand(e){this.onNodeExpand.emit(e),this.expandedNodes.push(e.node),setTimeout(()=>{this.overlayViewChild.alignOverlay()})}nodeCollapse(e){this.onNodeCollapse.emit(e),this.expandedNodes.splice(this.expandedNodes.indexOf(e.node),1),setTimeout(()=>{this.overlayViewChild.alignOverlay()})}resetExpandedNodes(){for(let e of this.expandedNodes)e.expanded=!1;this.expandedNodes=[]}resetPartialSelected(e=this.options){if(e)for(let i of e)i.partialSelected=!1,i.children&&i.children?.length>0&&this.resetPartialSelected(i.children)}findSelectedNodes(e,i,n){if(e){if(this.isSelected(e)&&(n.push(e),delete i[e.key]),Object.keys(i).length&&e.children)for(let a of e.children)this.findSelectedNodes(a,i,n)}else for(let a of this.options)this.findSelectedNodes(a,i,n)}isSelected(e){return this.findIndexInSelection(e)!=-1}findIndexInSelection(e){let i=-1;if(this.value)if(this.selectionMode==="single")i=this.value.key&&this.value.key===e.key||this.value==e?0:-1;else for(let n=0;n<this.value.length;n++){let a=this.value[n];if(a.key&&a.key===e.key||a==e){i=n;break}}return i}onSelect(e){this.onNodeSelect.emit(e),this.selectionMode==="single"&&(this.hide(),this.focusInput?.nativeElement.focus())}onUnselect(e){this.onNodeUnselect.emit(e)}onInputFocus(e){this.$disabled()||(this.focused=!0,this.onFocus.emit(e))}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.onModelTouched()}writeControlValue(e){this.value=e,this.updateTreeState(),this.cd.markForCheck()}get emptyValue(){return!this.value||Object.keys(this.value).length===0}get emptyOptions(){return!this.options||this.options.length===0}get label(){let e=this.value||[];return e.length?e.map(i=>i.label).join(", "):this.selectionMode==="single"&&this.value?e.label:this.placeholder}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-treeSelect"],["p-treeselect"],["p-tree-select"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,jO,4),xe(a,GO,4),xe(a,UO,4),xe(a,$O,4),xe(a,KO,4),xe(a,WO,4),xe(a,ZO,4),xe(a,QO,4),xe(a,XO,4),xe(a,YO,4),xe(a,JO,4),xe(a,eF,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.valueTemplate=u.first),se(u=le())&&(n.headerTemplate=u.first),se(u=le())&&(n.emptyTemplate=u.first),se(u=le())&&(n.footerTemplate=u.first),se(u=le())&&(n.clearIconTemplate=u.first),se(u=le())&&(n.triggerIconTemplate=u.first),se(u=le())&&(n.dropdownIconTemplate=u.first),se(u=le())&&(n.filterIconTemplate=u.first),se(u=le())&&(n.closeIconTemplate=u.first),se(u=le())&&(n.itemTogglerIconTemplate=u.first),se(u=le())&&(n.itemCheckboxIconTemplate=u.first),se(u=le())&&(n.itemLoadingIconTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&(ut(tF,5),ut(iF,5),ut(nF,5),ut(aF,5),ut(oF,5),ut(rF,5),ut(sF,5)),i&2){let a;se(a=le())&&(n.focusInput=a.first),se(a=le())&&(n.filterViewChild=a.first),se(a=le())&&(n.treeViewChild=a.first),se(a=le())&&(n.panelEl=a.first),se(a=le())&&(n.overlayViewChild=a.first),se(a=le())&&(n.firstHiddenFocusableElementOnOverlay=a.first),se(a=le())&&(n.lastHiddenFocusableElementOnOverlay=a.first)}},hostVars:4,hostBindings:function(i,n){i&1&&we("click",function(u){return n.onHostClick(u)}),i&2&&(Lt(n.sx("root")),$(n.cn(n.cx("root"),n.containerStyleClass)))},inputs:{inputId:"inputId",scrollHeight:"scrollHeight",metaKeySelection:[2,"metaKeySelection","metaKeySelection",ye],display:"display",selectionMode:"selectionMode",tabindex:"tabindex",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",placeholder:"placeholder",panelClass:"panelClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",containerStyle:"containerStyle",containerStyleClass:"containerStyleClass",labelStyle:"labelStyle",labelStyleClass:"labelStyleClass",overlayOptions:"overlayOptions",emptyMessage:"emptyMessage",filter:[2,"filter","filter",ye],filterBy:"filterBy",filterMode:"filterMode",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",filterInputAutoFocus:[2,"filterInputAutoFocus","filterInputAutoFocus",ye],propagateSelectionDown:[2,"propagateSelectionDown","propagateSelectionDown",ye],propagateSelectionUp:[2,"propagateSelectionUp","propagateSelectionUp",ye],showClear:[2,"showClear","showClear",ye],resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",ye],virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",autofocus:[2,"autofocus","autofocus",ye],options:"options",loading:[2,"loading","loading",ye],size:[1,"size"],variant:[1,"variant"],fluid:[1,"fluid"],appendTo:[1,"appendTo"]},outputs:{onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onShow:"onShow",onHide:"onHide",onClear:"onClear",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onNodeUnselect:"onNodeUnselect",onNodeSelect:"onNodeSelect"},features:[_t([$F,ZT]),ft],decls:16,vars:28,consts:[["focusInput",""],["defaultValueTemplate",""],["overlay",""],["content",""],["chipsValueTemplate",""],["panel",""],["firstHiddenFocusableEl",""],["tree",""],["lastHiddenFocusableEl",""],["empty",""],["togglericon",""],["checkboxicon",""],["loadingicon",""],[1,"p-hidden-accessible"],["type","text","role","combobox","readonly","",3,"focus","blur","keydown","pAutoFocus"],[3,"ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["role","button","aria-haspopup","tree"],["data-p-icon","chevron-down",3,"class",4,"ngIf"],[3,"class",4,"ngIf"],[3,"visibleChange","onAnimationStart","onBeforeHide","onShow","onHide","hostAttrSelector","visible","options","target","appendTo"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class",4,"ngFor","ngForOf"],[3,"label"],["data-p-icon","times",3,"class","click",4,"ngIf"],[3,"class","click",4,"ngIf"],["data-p-icon","times",3,"click"],[3,"click"],[4,"ngTemplateOutlet"],["data-p-icon","chevron-down"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],[3,"selectionChange","onNodeExpand","onNodeCollapse","onNodeSelect","onNodeUnselect","value","propagateSelectionDown","propagateSelectionUp","selectionMode","selection","metaKeySelection","emptyMessage","filter","filterBy","filterMode","filterPlaceholder","filterLocale","filteredNodes","virtualScroll","virtualScrollItemSize","virtualScrollOptions","_templateMap","loading","filterInputAutoFocus"]],template:function(i,n){if(i&1){let a=Be();A(0,"div",13)(1,"input",14,0),we("focus",function(b){return Q(a),X(n.onInputFocus(b))})("blur",function(b){return Q(a),X(n.onInputBlur(b))})("keydown",function(b){return Q(a),X(n.onKeyDown(b))}),L()(),A(3,"div")(4,"div",15),z(5,hF,2,5,"ng-container",16)(6,bF,3,2,"ng-template",null,1,ze),L()(),z(8,IF,3,2,"ng-container",17),A(9,"div",18),z(10,TF,1,2,"svg",19)(11,MF,2,3,"span",20),L(),A(12,"p-overlay",21,2),ci("visibleChange",function(b){return Q(a),li(n.overlayVisible,b)||(n.overlayVisible=b),X(b)}),we("onAnimationStart",function(b){return Q(a),X(n.onOverlayAnimationStart(b))})("onBeforeHide",function(b){return Q(a),X(n.onOverlayBeforeHide(b))})("onShow",function(b){return Q(a),X(n.onShow.emit(b))})("onHide",function(b){return Q(a),X(n.hide(b))}),z(14,HF,15,48,"ng-template",null,3,ze),L()}if(i&2){let a=Gt(7);S(),C("pAutoFocus",n.autofocus),de("id",n.inputId)("disabled",n.$disabled()?"":void 0)("tabindex",n.$disabled()?-1:n.tabindex)("aria-controls",n.overlayVisible?n.listId:null)("aria-haspopup","tree")("aria-expanded",n.overlayVisible??!1)("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel||(n.label==="p-emptylabel"?void 0:n.label)),S(2),$(n.cx("labelContainer")),S(),$(n.cn(n.cx("label"),n.labelStyleClass)),C("ngStyle",n.labelStyle),S(),C("ngIf",n.valueTemplate||n._valueTemplate)("ngIfElse",a),S(3),C("ngIf",n.checkValue()&&!n.$disabled()&&n.showClear),S(),$(n.cx("dropdown")),de("aria-expanded",n.overlayVisible??!1)("aria-label","treeselect trigger"),S(),C("ngIf",!n.triggerIconTemplate&&!n._triggerIconTemplate&&!n.dropdownIconTemplate&&!n._dropdownIconTemplate),S(),C("ngIf",n.triggerIconTemplate||n._triggerIconTemplate||n.dropdownIconTemplate||n._dropdownIconTemplate),S(),C("hostAttrSelector",n.attrSelector),si("visible",n.overlayVisible),C("options",n.overlayOptions)("target","@parent")("appendTo",n.$appendTo())}},dependencies:[mt,Bi,Ut,Yt,fi,Ip,Ze,qp,Ao,Ar,Da,wc],encapsulation:2,changeDetection:0})}return t})(),QT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[s_,Ze,Ze]})}return t})();var XT=`
    .p-multiselect {
        display: inline-flex;
        cursor: pointer;
        position: relative;
        user-select: none;
        background: dt('multiselect.background');
        border: 1px solid dt('multiselect.border.color');
        transition:
            background dt('multiselect.transition.duration'),
            color dt('multiselect.transition.duration'),
            border-color dt('multiselect.transition.duration'),
            outline-color dt('multiselect.transition.duration'),
            box-shadow dt('multiselect.transition.duration');
        border-radius: dt('multiselect.border.radius');
        outline-color: transparent;
        box-shadow: dt('multiselect.shadow');
    }

    .p-multiselect:not(.p-disabled):hover {
        border-color: dt('multiselect.hover.border.color');
    }

    .p-multiselect:not(.p-disabled).p-focus {
        border-color: dt('multiselect.focus.border.color');
        box-shadow: dt('multiselect.focus.ring.shadow');
        outline: dt('multiselect.focus.ring.width') dt('multiselect.focus.ring.style') dt('multiselect.focus.ring.color');
        outline-offset: dt('multiselect.focus.ring.offset');
    }

    .p-multiselect.p-variant-filled {
        background: dt('multiselect.filled.background');
    }

    .p-multiselect.p-variant-filled:not(.p-disabled):hover {
        background: dt('multiselect.filled.hover.background');
    }

    .p-multiselect.p-variant-filled.p-focus {
        background: dt('multiselect.filled.focus.background');
    }

    .p-multiselect.p-invalid {
        border-color: dt('multiselect.invalid.border.color');
    }

    .p-multiselect.p-disabled {
        opacity: 1;
        background: dt('multiselect.disabled.background');
    }

    .p-multiselect-dropdown {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        background: transparent;
        color: dt('multiselect.dropdown.color');
        width: dt('multiselect.dropdown.width');
        border-start-end-radius: dt('multiselect.border.radius');
        border-end-end-radius: dt('multiselect.border.radius');
    }

    .p-multiselect-clear-icon {
        position: absolute;
        top: 50%;
        margin-top: -0.5rem;
        color: dt('multiselect.clear.icon.color');
        inset-inline-end: dt('multiselect.dropdown.width');
    }

    .p-multiselect-label-container {
        overflow: hidden;
        flex: 1 1 auto;
        cursor: pointer;
    }

    .p-multiselect-label {
        white-space: nowrap;
        cursor: pointer;
        overflow: hidden;
        text-overflow: ellipsis;
        padding: dt('multiselect.padding.y') dt('multiselect.padding.x');
        color: dt('multiselect.color');
    }

    .p-multiselect-display-chip .p-multiselect-label {
        display: flex;
        align-items: center;
        gap: calc(dt('multiselect.padding.y') / 2);
    }

    .p-multiselect-label.p-placeholder {
        color: dt('multiselect.placeholder.color');
    }

    .p-multiselect.p-invalid .p-multiselect-label.p-placeholder {
        color: dt('multiselect.invalid.placeholder.color');
    }

    .p-multiselect.p-disabled .p-multiselect-label {
        color: dt('multiselect.disabled.color');
    }

    .p-multiselect-label-empty {
        overflow: hidden;
        visibility: hidden;
    }

    .p-multiselect-overlay {
        position: absolute;
        top: 0;
        left: 0;
        background: dt('multiselect.overlay.background');
        color: dt('multiselect.overlay.color');
        border: 1px solid dt('multiselect.overlay.border.color');
        border-radius: dt('multiselect.overlay.border.radius');
        box-shadow: dt('multiselect.overlay.shadow');
        min-width: 100%;
    }

    .p-multiselect-header {
        display: flex;
        align-items: center;
        padding: dt('multiselect.list.header.padding');
    }

    .p-multiselect-header .p-checkbox {
        margin-inline-end: dt('multiselect.option.gap');
    }

    .p-multiselect-filter-container {
        flex: 1 1 auto;
    }

    .p-multiselect-filter {
        width: 100%;
    }

    .p-multiselect-list-container {
        overflow: auto;
    }

    .p-multiselect-list {
        margin: 0;
        padding: 0;
        list-style-type: none;
        padding: dt('multiselect.list.padding');
        display: flex;
        flex-direction: column;
        gap: dt('multiselect.list.gap');
    }

    .p-multiselect-option {
        cursor: pointer;
        font-weight: normal;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        gap: dt('multiselect.option.gap');
        padding: dt('multiselect.option.padding');
        border: 0 none;
        color: dt('multiselect.option.color');
        background: transparent;
        transition:
            background dt('multiselect.transition.duration'),
            color dt('multiselect.transition.duration'),
            border-color dt('multiselect.transition.duration'),
            box-shadow dt('multiselect.transition.duration'),
            outline-color dt('multiselect.transition.duration');
        border-radius: dt('multiselect.option.border.radius');
    }

    .p-multiselect-option:not(.p-multiselect-option-selected):not(.p-disabled).p-focus {
        background: dt('multiselect.option.focus.background');
        color: dt('multiselect.option.focus.color');
    }

    .p-multiselect-option.p-multiselect-option-selected {
        background: dt('multiselect.option.selected.background');
        color: dt('multiselect.option.selected.color');
    }

    .p-multiselect-option.p-multiselect-option-selected.p-focus {
        background: dt('multiselect.option.selected.focus.background');
        color: dt('multiselect.option.selected.focus.color');
    }

    .p-multiselect-option-group {
        cursor: auto;
        margin: 0;
        padding: dt('multiselect.option.group.padding');
        background: dt('multiselect.option.group.background');
        color: dt('multiselect.option.group.color');
        font-weight: dt('multiselect.option.group.font.weight');
    }

    .p-multiselect-empty-message {
        padding: dt('multiselect.empty.message.padding');
    }

    .p-multiselect-label .p-chip {
        padding-block-start: calc(dt('multiselect.padding.y') / 2);
        padding-block-end: calc(dt('multiselect.padding.y') / 2);
        border-radius: dt('multiselect.chip.border.radius');
    }

    .p-multiselect-label:has(.p-chip) {
        padding: calc(dt('multiselect.padding.y') / 2) calc(dt('multiselect.padding.x') / 2);
    }

    .p-multiselect-fluid {
        display: flex;
        width: 100%;
    }

    .p-multiselect-sm .p-multiselect-label {
        font-size: dt('multiselect.sm.font.size');
        padding-block: dt('multiselect.sm.padding.y');
        padding-inline: dt('multiselect.sm.padding.x');
    }

    .p-multiselect-sm .p-multiselect-dropdown .p-icon {
        font-size: dt('multiselect.sm.font.size');
        width: dt('multiselect.sm.font.size');
        height: dt('multiselect.sm.font.size');
    }

    .p-multiselect-lg .p-multiselect-label {
        font-size: dt('multiselect.lg.font.size');
        padding-block: dt('multiselect.lg.padding.y');
        padding-inline: dt('multiselect.lg.padding.x');
    }

    .p-multiselect-lg .p-multiselect-dropdown .p-icon {
        font-size: dt('multiselect.lg.font.size');
        width: dt('multiselect.lg.font.size');
        height: dt('multiselect.lg.font.size');
    }
`;var Rm=t=>({height:t}),YT=t=>({$implicit:t}),WF=(t,s)=>({checked:t,class:s});function ZF(t,s){}function QF(t,s){t&1&&z(0,ZF,0,0,"ng-template")}function XF(t,s){if(t&1&&z(0,QF,1,0,null,4),t&2){let e=s.class,i=M(2);C("ngTemplateOutlet",i.itemCheckboxIconTemplate)("ngTemplateOutletContext",ni(2,WF,i.selected,e))}}function YF(t,s){t&1&&(Ke(0),z(1,XF,1,5,"ng-template",null,0,ze),We())}function JF(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M();S(),Et(e.label??"empty")}}function eV(t,s){t&1&&nt(0)}var tV=["item"],iV=["group"],nV=["loader"],aV=["header"],oV=["filter"],rV=["footer"],sV=["emptyfilter"],lV=["empty"],cV=["selecteditems"],dV=["loadingicon"],uV=["filtericon"],pV=["removetokenicon"],hV=["chipicon"],mV=["clearicon"],fV=["dropdownicon"],gV=["itemcheckboxicon"],_V=["headercheckboxicon"],bV=["overlay"],yV=["filterInput"],vV=["focusInput"],xV=["items"],wV=["scroller"],IV=["lastHiddenFocusableEl"],TV=["firstHiddenFocusableEl"],CV=["headerCheckbox"],SV=[[["p-header"]],[["p-footer"]]],MV=["p-header","p-footer"],kV=()=>({class:"p-multiselect-chip-icon"}),EV=(t,s)=>({$implicit:t,removeChip:s}),JT=t=>({options:t}),PV=(t,s,e)=>({checked:t,partialSelected:s,class:e}),eC=(t,s)=>({$implicit:t,options:s}),DV=()=>({});function LV(t,s){if(t&1&&(Ke(0),ie(1),We()),t&2){let e=M(2);S(),Et(e.label()||"empty")}}function AV(t,s){if(t&1&&ie(0),t&2){let e=M(3);oi(" ",e.getSelectedItemsLabel()," ")}}function OV(t,s){t&1&&nt(0)}function FV(t,s){if(t&1){let e=Be();A(0,"span",26),we("click",function(n){Q(e);let a=M(4).$implicit,u=M(4);return X(u.removeOption(a,n))}),z(1,OV,1,0,"ng-container",27),L()}if(t&2){let e=M(8);$(e.cx("chipIcon")),de("data-pc-section","clearicon")("aria-hidden",!0),S(),C("ngTemplateOutlet",e.chipIconTemplate||e._chipIconTemplate||e.removeTokenIconTemplate||e._removeTokenIconTemplate)("ngTemplateOutletContext",Zt(6,kV))}}function VV(t,s){if(t&1&&(Ke(0),z(1,FV,2,7,"span",25),We()),t&2){let e=M(7);S(),C("ngIf",e.chipIconTemplate||e._chipIconTemplate||e.removeTokenIconTemplate||e._removeTokenIconTemplate)}}function zV(t,s){if(t&1&&z(0,VV,2,1,"ng-container",19),t&2){let e=M(6);C("ngIf",!e.$disabled()&&!e.readonly)}}function RV(t,s){t&1&&(Ke(0),z(1,zV,1,1,"ng-template",null,5,ze),We())}function BV(t,s){if(t&1){let e=Be();A(0,"div",null,4)(2,"p-chip",24),we("onRemove",function(n){let a=Q(e).$implicit,u=M(4);return X(u.removeOption(a,n))}),z(3,RV,3,0,"ng-container",19),L()()}if(t&2){let e=s.$implicit,i=M(4);$(i.cx("chipItem")),S(2),$(i.cx("pcChip")),C("label",i.getLabelByValue(e))("removable",!i.$disabled()&&!i.readonly)("removeIcon",i.chipIcon),S(),C("ngIf",i.chipIconTemplate||i._chipIconTemplate||i.removeTokenIconTemplate||i._removeTokenIconTemplate)}}function NV(t,s){if(t&1&&z(0,BV,4,8,"div",23),t&2){let e=M(3);C("ngForOf",e.chipSelectedItems())}}function qV(t,s){if(t&1&&(Ke(0),ie(1),We()),t&2){let e=M(3);S(),Et(e.placeholder()||"empty")}}function HV(t,s){if(t&1&&(Ke(0),Wi(1,AV,1,1)(2,NV,1,1,"div",22),z(3,qV,2,1,"ng-container",19),We()),t&2){let e=M(2);S(),Zi(e.chipSelectedItems()&&e.chipSelectedItems().length===e.maxSelectedLabels?1:2),S(2),C("ngIf",!e.modelValue()||e.modelValue().length===0)}}function jV(t,s){if(t&1&&(Ke(0),z(1,LV,2,1,"ng-container",19)(2,HV,4,2,"ng-container",19),We()),t&2){let e=M();S(),C("ngIf",e.display==="comma"),S(),C("ngIf",e.display==="chip")}}function GV(t,s){t&1&&nt(0)}function UV(t,s){if(t&1&&(Ke(0),ie(1),We()),t&2){let e=M(2);S(),Et(e.placeholder()||"empty")}}function $V(t,s){if(t&1&&(Ke(0),z(1,GV,1,0,"ng-container",27)(2,UV,2,1,"ng-container",19),We()),t&2){let e=M();S(),C("ngTemplateOutlet",e.selectedItemsTemplate||e._selectedItemsTemplate)("ngTemplateOutletContext",ni(3,EV,e.selectedOptions,e.removeOption.bind(e))),S(),C("ngIf",!e.modelValue()||e.modelValue().length===0)}}function KV(t,s){if(t&1){let e=Be();at(),A(0,"svg",29),we("click",function(n){Q(e);let a=M(2);return X(a.clear(n))}),L()}if(t&2){let e=M(2);$(e.cx("clearIcon")),de("data-pc-section","clearicon")("aria-hidden",!0)}}function WV(t,s){}function ZV(t,s){t&1&&z(0,WV,0,0,"ng-template")}function QV(t,s){if(t&1){let e=Be();A(0,"span",26),we("click",function(n){Q(e);let a=M(2);return X(a.clear(n))}),z(1,ZV,1,0,null,30),L()}if(t&2){let e=M(2);$(e.cx("clearIcon")),de("data-pc-section","clearicon")("aria-hidden",!0),S(),C("ngTemplateOutlet",e.clearIconTemplate||e._clearIconTemplate)}}function XV(t,s){if(t&1&&(Ke(0),z(1,KV,1,4,"svg",28)(2,QV,2,5,"span",25),We()),t&2){let e=M();S(),C("ngIf",!e.clearIconTemplate&&!e._clearIconTemplate),S(),C("ngIf",e.clearIconTemplate||e._clearIconTemplate)}}function YV(t,s){t&1&&nt(0)}function JV(t,s){if(t&1&&(Ke(0),z(1,YV,1,0,"ng-container",30),We()),t&2){let e=M(2);S(),C("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)}}function ez(t,s){if(t&1&&ae(0,"span"),t&2){let e=M(3);$(e.cn(e.cx("loadingIcon"),"pi-spin "+e.loadingIcon)),de("aria-hidden",!0)}}function tz(t,s){if(t&1&&ae(0,"span"),t&2){let e=M(3);$(e.cn(e.cx("loadingIcon"),"pi pi-spinner pi-spin")),de("aria-hidden",!0)}}function iz(t,s){if(t&1&&(Ke(0),z(1,ez,1,3,"span",31)(2,tz,1,3,"span",31),We()),t&2){let e=M(2);S(),C("ngIf",e.loadingIcon),S(),C("ngIf",!e.loadingIcon)}}function nz(t,s){if(t&1&&(Ke(0),z(1,JV,2,1,"ng-container",19)(2,iz,3,2,"ng-container",19),We()),t&2){let e=M();S(),C("ngIf",e.loadingIconTemplate||e._loadingIconTemplate),S(),C("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate)}}function az(t,s){if(t&1&&ae(0,"span",34),t&2){let e=M(3);$(e.cx("dropdownIcon")),C("ngClass",e.dropdownIcon),de("data-pc-section","triggericon")("aria-hidden",!0)}}function oz(t,s){if(t&1&&(at(),ae(0,"svg",35)),t&2){let e=M(3);$(e.cx("dropdownIcon")),de("data-pc-section","triggericon")("aria-hidden",!0)}}function rz(t,s){if(t&1&&(Ke(0),z(1,az,1,5,"span",32)(2,oz,1,4,"svg",33),We()),t&2){let e=M(2);S(),C("ngIf",e.dropdownIcon),S(),C("ngIf",!e.dropdownIcon)}}function sz(t,s){}function lz(t,s){t&1&&z(0,sz,0,0,"ng-template")}function cz(t,s){if(t&1&&(A(0,"span"),z(1,lz,1,0,null,30),L()),t&2){let e=M(2);$(e.cx("dropdownIcon")),de("data-pc-section","triggericon")("aria-hidden",!0),S(),C("ngTemplateOutlet",e.dropdownIconTemplate||e._dropdownIconTemplate)}}function dz(t,s){if(t&1&&z(0,rz,3,2,"ng-container",19)(1,cz,2,5,"span",31),t&2){let e=M();C("ngIf",!e.dropdownIconTemplate&&!e._dropdownIconTemplate),S(),C("ngIf",e.dropdownIconTemplate||e._dropdownIconTemplate)}}function uz(t,s){t&1&&nt(0)}function pz(t,s){t&1&&nt(0)}function hz(t,s){if(t&1&&(Ke(0),z(1,pz,1,0,"ng-container",27),We()),t&2){let e=M(3);S(),C("ngTemplateOutlet",e.filterTemplate||e._filterTemplate)("ngTemplateOutletContext",ot(2,JT,e.filterOptions))}}function mz(t,s){if(t&1&&(at(),ae(0,"svg",42)),t&2){let e=M().class;$(e),de("data-pc-section","icon")}}function fz(t,s){}function gz(t,s){t&1&&z(0,fz,0,0,"ng-template")}function _z(t,s){if(t&1&&z(0,mz,1,3,"svg",41)(1,gz,1,0,null,27),t&2){let e=s.class,i=M(5);C("ngIf",!i.headerCheckboxIconTemplate&&!i._headerCheckboxIconTemplate&&i.allSelected()),S(),C("ngTemplateOutlet",i.headerCheckboxIconTemplate||i._headerCheckboxIconTemplate)("ngTemplateOutletContext",Er(3,PV,i.allSelected(),i.partialSelected(),e))}}function bz(t,s){if(t&1){let e=Be();A(0,"p-checkbox",40,10),we("onChange",function(n){Q(e);let a=M(4);return X(a.onToggleAll(n))}),z(2,_z,2,7,"ng-template",null,11,ze),L()}if(t&2){let e=M(4);C("ngModel",e.allSelected())("ariaLabel",e.toggleAllAriaLabel)("binary",!0)("variant",e.$variant())("disabled",e.$disabled())}}function yz(t,s){t&1&&(at(),ae(0,"svg",46))}function vz(t,s){}function xz(t,s){t&1&&z(0,vz,0,0,"ng-template")}function wz(t,s){if(t&1&&(A(0,"span",47),z(1,xz,1,0,null,30),L()),t&2){let e=M(5);S(),C("ngTemplateOutlet",e.filterIconTemplate||e._filterIconTemplate)}}function Iz(t,s){if(t&1){let e=Be();A(0,"p-iconfield")(1,"input",43,12),we("input",function(n){Q(e);let a=M(4);return X(a.onFilterInputChange(n))})("keydown",function(n){Q(e);let a=M(4);return X(a.onFilterKeyDown(n))})("click",function(n){Q(e);let a=M(4);return X(a.onInputClick(n))})("blur",function(n){Q(e);let a=M(4);return X(a.onFilterBlur(n))}),L(),A(3,"p-inputicon"),z(4,yz,1,0,"svg",44)(5,wz,2,1,"span",45),L()()}if(t&2){let e=M(4);$(e.cx("pcFilterContainer")),S(),$(e.cx("pcFilter")),C("variant",e.$variant())("value",e._filterValue()||""),de("autocomplete",e.autocomplete)("aria-owns",e.id+"_list")("aria-activedescendant",e.focusedOptionId)("disabled",e.$disabled()?"":void 0)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel),S(3),C("ngIf",!e.filterIconTemplate&&!e._filterIconTemplate),S(),C("ngIf",e.filterIconTemplate||e._filterIconTemplate)}}function Tz(t,s){if(t&1&&z(0,bz,4,5,"p-checkbox",39)(1,Iz,6,14,"p-iconfield",31),t&2){let e=M(3);C("ngIf",e.showToggleAll&&!e.selectionLimit),S(),C("ngIf",e.filter)}}function Cz(t,s){if(t&1&&(A(0,"div"),Ei(1),z(2,hz,2,4,"ng-container",20)(3,Tz,2,2,"ng-template",null,9,ze),L()),t&2){let e=Gt(4),i=M(2);$(i.cx("header")),S(2),C("ngIf",i.filterTemplate||i._filterTemplate)("ngIfElse",e)}}function Sz(t,s){t&1&&nt(0)}function Mz(t,s){if(t&1&&z(0,Sz,1,0,"ng-container",27),t&2){let e=s.$implicit,i=s.options;M(2);let n=Gt(9);C("ngTemplateOutlet",n)("ngTemplateOutletContext",ni(2,eC,e,i))}}function kz(t,s){t&1&&nt(0)}function Ez(t,s){if(t&1&&z(0,kz,1,0,"ng-container",27),t&2){let e=s.options,i=M(4);C("ngTemplateOutlet",i.loaderTemplate||i._loaderTemplate)("ngTemplateOutletContext",ot(2,JT,e))}}function Pz(t,s){t&1&&(Ke(0),z(1,Ez,1,4,"ng-template",null,14,ze),We())}function Dz(t,s){if(t&1){let e=Be();A(0,"p-scroller",48,13),we("onLazyLoad",function(n){Q(e);let a=M(2);return X(a.onLazyLoad.emit(n))}),z(2,Mz,1,5,"ng-template",null,3,ze)(4,Pz,3,0,"ng-container",19),L()}if(t&2){let e=M(2);Lt(ot(9,Rm,e.scrollHeight)),C("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize)("autoSize",!0)("tabindex",-1)("lazy",e.lazy)("options",e.virtualScrollOptions),S(4),C("ngIf",e.loaderTemplate||e._loaderTemplate)}}function Lz(t,s){t&1&&nt(0)}function Az(t,s){if(t&1&&(Ke(0),z(1,Lz,1,0,"ng-container",27),We()),t&2){M();let e=Gt(9),i=M();S(),C("ngTemplateOutlet",e)("ngTemplateOutletContext",ni(3,eC,i.visibleOptions(),Zt(2,DV)))}}function Oz(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(2).$implicit,i=M(3);S(),Et(i.getOptionGroupLabel(e.optionGroup))}}function Fz(t,s){t&1&&nt(0)}function Vz(t,s){if(t&1&&(Ke(0),A(1,"li",52),z(2,Oz,2,1,"span",19)(3,Fz,1,0,"ng-container",27),L(),We()),t&2){let e=M(),i=e.$implicit,n=e.index,a=M().options,u=M(2);S(),$(u.cx("optionGroup")),C("ngStyle",ot(7,Rm,a.itemSize+"px")),de("id",u.id+"_"+u.getOptionIndex(n,a)),S(),C("ngIf",!u.groupTemplate),S(),C("ngTemplateOutlet",u.groupTemplate)("ngTemplateOutletContext",ot(9,YT,i.optionGroup))}}function zz(t,s){if(t&1){let e=Be();Ke(0),A(1,"p-multiselect-item",53),we("onClick",function(n){Q(e);let a=M().index,u=M().options,b=M(2);return X(b.onOptionSelect(n,!1,b.getOptionIndex(a,u)))})("onMouseEnter",function(n){Q(e);let a=M().index,u=M().options,b=M(2);return X(b.onOptionMouseEnter(n,b.getOptionIndex(a,u)))}),L(),We()}if(t&2){let e=M(),i=e.$implicit,n=e.index,a=M().options,u=M(2);S(),C("id",u.id+"_"+u.getOptionIndex(n,a))("option",i)("selected",u.isSelected(i))("label",u.getOptionLabel(i))("disabled",u.isOptionDisabled(i))("template",u.itemTemplate||u._itemTemplate)("itemCheckboxIconTemplate",u.itemCheckboxIconTemplate||u._itemCheckboxIconTemplate)("itemSize",a.itemSize)("focused",u.focusedOptionIndex()===u.getOptionIndex(n,a))("ariaPosInset",u.getAriaPosInset(u.getOptionIndex(n,a)))("ariaSetSize",u.ariaSetSize)("variant",u.$variant())("highlightOnSelect",u.highlightOnSelect)}}function Rz(t,s){if(t&1&&z(0,Vz,4,11,"ng-container",19)(1,zz,2,13,"ng-container",19),t&2){let e=s.$implicit,i=M(3);C("ngIf",i.isOptionGroup(e)),S(),C("ngIf",!i.isOptionGroup(e))}}function Bz(t,s){if(t&1&&ie(0),t&2){let e=M(4);oi(" ",e.emptyFilterMessageLabel," ")}}function Nz(t,s){t&1&&nt(0)}function qz(t,s){if(t&1&&z(0,Nz,1,0,"ng-container",30),t&2){let e=M(4);C("ngTemplateOutlet",e.emptyFilterTemplate||e._emptyFilterTemplate||e.emptyTemplate||e._emptyFilterTemplate)}}function Hz(t,s){if(t&1&&(A(0,"li",52),Wi(1,Bz,1,1)(2,qz,1,1,"ng-container"),L()),t&2){let e=M().options,i=M(2);$(i.cx("emptyMessage")),C("ngStyle",ot(4,Rm,e.itemSize+"px")),S(),Zi(!i.emptyFilterTemplate&&!i._emptyFilterTemplate&&!i.emptyTemplate&&!i._emptyTemplate?1:2)}}function jz(t,s){if(t&1&&ie(0),t&2){let e=M(4);oi(" ",e.emptyMessageLabel," ")}}function Gz(t,s){t&1&&nt(0)}function Uz(t,s){if(t&1&&z(0,Gz,1,0,"ng-container",30),t&2){let e=M(4);C("ngTemplateOutlet",e.emptyTemplate||e._emptyTemplate)}}function $z(t,s){if(t&1&&(A(0,"li",52),Wi(1,jz,1,1)(2,Uz,1,1,"ng-container"),L()),t&2){let e=M().options,i=M(2);$(i.cx("emptyMessage")),C("ngStyle",ot(4,Rm,e.itemSize+"px")),S(),Zi(!i.emptyTemplate&&!i._emptyTemplate?1:2)}}function Kz(t,s){if(t&1&&(A(0,"ul",49,15),z(2,Rz,2,2,"ng-template",50)(3,Hz,3,6,"li",51)(4,$z,3,6,"li",51),L()),t&2){let e=s.$implicit,i=s.options,n=M(2);Lt(i.contentStyle),$(n.cn(n.cx("list"),i.contentStyleClass)),de("aria-label",n.listLabel),S(2),C("ngForOf",e),S(),C("ngIf",n.hasFilter()&&n.isEmpty()),S(),C("ngIf",!n.hasFilter()&&n.isEmpty())}}function Wz(t,s){t&1&&nt(0)}function Zz(t,s){if(t&1&&(A(0,"div"),Ei(1,1),z(2,Wz,1,0,"ng-container",30),L()),t&2){let e=M(2);S(2),C("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}function Qz(t,s){if(t&1){let e=Be();A(0,"div",36)(1,"span",37,6),we("focus",function(n){Q(e);let a=M();return X(a.onFirstHiddenFocus(n))}),L(),z(3,uz,1,0,"ng-container",30)(4,Cz,5,4,"div",31),A(5,"div"),z(6,Dz,5,11,"p-scroller",38)(7,Az,2,6,"ng-container",19)(8,Kz,5,8,"ng-template",null,7,ze),L(),z(10,Zz,3,1,"div",19),A(11,"span",37,8),we("focus",function(n){Q(e);let a=M();return X(a.onLastHiddenFocus(n))}),L()()}if(t&2){let e=M();$(e.cn(e.cx("overlay"),e.panelStyleClass)),C("ngStyle",e.panelStyle),de("id",e.id+"_list"),S(),de("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),S(2),C("ngTemplateOutlet",e.headerTemplate||e._headerTemplate),S(),C("ngIf",e.showHeader),S(),$(e.cx("listContainer")),Nn("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),S(),C("ngIf",e.virtualScroll),S(),C("ngIf",!e.virtualScroll),S(3),C("ngIf",e.footerFacet||e.footerTemplate||e._footerTemplate),S(),de("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var Xz=`
    ${XT}

    /* For PrimeNG */
   .p-multiselect.ng-invalid.ng-dirty {
        border-color: dt('multiselect.invalid.border.color');
    }
    p-multiSelect.ng-invalid.ng-dirty .p-multiselect-label.p-placeholder,
    p-multi-select.ng-invalid.ng-dirty .p-multiselect-label.p-placeholder,
    p-multiselect.ng-invalid.ng-dirty .p-multiselect-label.p-placeholder {
        color: dt('multiselect.invalid.placeholder.color');
    }
`,Yz={root:({instance:t})=>({position:t.$appendTo()==="self"?"relative":void 0})},Jz={root:({instance:t})=>["p-multiselect p-component p-inputwrapper",{"p-multiselect p-component p-inputwrapper":!0,"p-multiselect-display-chip":t.display==="chip","p-disabled":t.$disabled(),"p-invalid":t.invalid(),"p-variant-filled":t.$variant(),"p-focus":t.focused,"p-inputwrapper-filled":t.$filled(),"p-inputwrapper-focus":t.focused||t.overlayVisible,"p-multiselect-open":t.overlayVisible,"p-multiselect-fluid":t.hasFluid,"p-multiselect-sm p-inputfield-sm":t.size()==="small","p-multiselect-lg p-inputfield-lg":t.size()==="large"}],labelContainer:"p-multiselect-label-container",label:({instance:t})=>({"p-multiselect-label":!0,"p-placeholder":t.label()===t.placeholder(),"p-multiselect-label-empty":!t.placeholder()&&!t.defaultLabel&&(!t.modelValue()||t.modelValue().length===0)}),chipItem:"p-multiselect-chip-item",pcChip:"p-multiselect-chip",chipIcon:"p-multiselect-chip-icon",dropdown:"p-multiselect-dropdown",loadingIcon:"p-multiselect-loading-icon",dropdownIcon:"p-multiselect-dropdown-icon",overlay:"p-multiselect-overlay p-component-overlay p-component",header:"p-multiselect-header",pcFilterContainer:"p-multiselect-filter-container",pcFilter:"p-multiselect-filter",listContainer:"p-multiselect-list-container",list:"p-multiselect-list",optionGroup:"p-multiselect-option-group",option:({instance:t})=>({"p-multiselect-option":!0,"p-multiselect-option-selected":t.selected&&t.highlightOnSelect,"p-disabled":t.disabled,"p-focus":t.focused}),emptyMessage:"p-multiselect-empty-message",clearIcon:"p-multiselect-clear-icon"},l_=(()=>{class t extends Rt{name="multiselect";theme=Xz;classes=Jz;inlineStyles=Yz;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var eR={provide:Oo,useExisting:Ki(()=>Hp),multi:!0},tR=(()=>{class t extends Ot{id;option;selected;label;disabled;itemSize;focused;ariaPosInset;ariaSetSize;variant;template;checkIconTemplate;itemCheckboxIconTemplate;highlightOnSelect;onClick=new Le;onMouseEnter=new Le;_componentStyle=Fe(l_);onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option,selected:this.selected}),e.stopPropagation(),e.preventDefault()}onOptionMouseEnter(e){this.onMouseEnter.emit({originalEvent:e,option:this.option,selected:this.selected})}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-multiSelectItem"],["p-multiselect-item"]],inputs:{id:"id",option:"option",selected:[2,"selected","selected",ye],label:"label",disabled:[2,"disabled","disabled",ye],itemSize:[2,"itemSize","itemSize",wt],focused:[2,"focused","focused",ye],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",variant:"variant",template:"template",checkIconTemplate:"checkIconTemplate",itemCheckboxIconTemplate:"itemCheckboxIconTemplate",highlightOnSelect:[2,"highlightOnSelect","highlightOnSelect",ye]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[_t([l_]),ft],decls:5,vars:25,consts:[["icon",""],["pRipple","","role","option",3,"click","mouseenter","ngStyle","id"],[3,"ngModel","binary","tabindex","variant","ariaLabel"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){i&1&&(A(0,"li",1),we("click",function(u){return n.onOptionClick(u)})("mouseenter",function(u){return n.onOptionMouseEnter(u)}),A(1,"p-checkbox",2),z(2,YF,3,0,"ng-container",3),L(),z(3,JF,2,1,"span",3)(4,eV,1,0,"ng-container",4),L()),i&2&&($(n.cx("option")),C("ngStyle",ot(21,Rm,n.itemSize+"px"))("id",n.id),de("aria-label",n.label)("aria-setsize",n.ariaSetSize)("aria-posinset",n.ariaPosInset)("aria-selected",n.selected)("data-p-focused",n.focused)("data-p-highlight",n.selected)("data-p-disabled",n.disabled)("aria-checked",n.selected),S(),C("ngModel",n.selected)("binary",!0)("tabindex",-1)("variant",n.variant)("ariaLabel",n.label),S(),C("ngIf",n.itemCheckboxIconTemplate),S(),C("ngIf",!n.template),S(),C("ngTemplateOutlet",n.template)("ngTemplateOutletContext",ot(23,YT,n.option)))},dependencies:[mt,Ut,Yt,fi,Gr,dn,ia,na,sn,Ze],encapsulation:2})}return t})(),Hp=(()=>{class t extends lr{zone;filterService;overlayService;id;ariaLabel;styleClass;panelStyle;panelStyleClass;inputId;readonly;group;filter=!0;filterPlaceHolder;filterLocale;overlayVisible;tabindex=0;dataKey;ariaLabelledBy;set displaySelectedLabel(e){this._displaySelectedLabel=e}get displaySelectedLabel(){return this._displaySelectedLabel}set maxSelectedLabels(e){this._maxSelectedLabels=e}get maxSelectedLabels(){return this._maxSelectedLabels}selectionLimit;selectedItemsLabel;showToggleAll=!0;emptyFilterMessage="";emptyMessage="";resetFilterOnHide=!1;dropdownIcon;chipIcon;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";showHeader=!0;filterBy;scrollHeight="200px";lazy=!1;virtualScroll;loading=!1;virtualScrollItemSize;loadingIcon;virtualScrollOptions;overlayOptions;ariaFilterLabel;filterMatchMode="contains";tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;autofocusFilter=!1;display="comma";autocomplete="off";showClear=!1;autofocus;set placeholder(e){this._placeholder.set(e)}get placeholder(){return this._placeholder.asReadonly()}get options(){return this._options()}set options(e){zw(this._options(),e)||this._options.set(e)}get filterValue(){return this._filterValue()}set filterValue(e){this._filterValue.set(e)}get selectAll(){return this._selectAll}set selectAll(e){this._selectAll=e}focusOnHover=!0;filterFields;selectOnFocus=!1;autoOptionFocus=!1;highlightOnSelect=!0;size=nn();variant=nn();fluid=nn(void 0,{transform:ye});appendTo=nn(void 0);onChange=new Le;onFilter=new Le;onFocus=new Le;onBlur=new Le;onClick=new Le;onClear=new Le;onPanelShow=new Le;onPanelHide=new Le;onLazyLoad=new Le;onRemove=new Le;onSelectAllChange=new Le;overlayViewChild;filterInputChild;focusInputViewChild;itemsViewChild;scroller;lastHiddenFocusableElementOnOverlay;firstHiddenFocusableElementOnOverlay;headerCheckboxViewChild;footerFacet;headerFacet;_componentStyle=Fe(l_);searchValue;searchTimeout;_selectAll=null;_placeholder=gi(void 0);_disableTooltip=!1;value;_filteredOptions;focus;filtered;itemTemplate;groupTemplate;loaderTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;selectedItemsTemplate;loadingIconTemplate;filterIconTemplate;removeTokenIconTemplate;chipIconTemplate;clearIconTemplate;dropdownIconTemplate;itemCheckboxIconTemplate;headerCheckboxIconTemplate;templates;_itemTemplate;_groupTemplate;_loaderTemplate;_headerTemplate;_filterTemplate;_footerTemplate;_emptyFilterTemplate;_emptyTemplate;_selectedItemsTemplate;_loadingIconTemplate;_filterIconTemplate;_removeTokenIconTemplate;_chipIconTemplate;_clearIconTemplate;_dropdownIconTemplate;_itemCheckboxIconTemplate;_headerCheckboxIconTemplate;$variant=Ai(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());$appendTo=Ai(()=>this.appendTo()||this.config.overlayAppendTo());pcFluid=Fe(Ds,{optional:!0,host:!0,skipSelf:!0});get hasFluid(){return this.fluid()??!!this.pcFluid}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break;case"group":this._groupTemplate=e.template;break;case"selectedItems":case"selecteditems":this._selectedItemsTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"filter":this._filterTemplate=e.template;break;case"emptyfilter":this._emptyFilterTemplate=e.template;break;case"empty":this._emptyTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;case"headercheckboxicon":this._headerCheckboxIconTemplate=e.template;break;case"loadingicon":this._loadingIconTemplate=e.template;break;case"filtericon":this._filterIconTemplate=e.template;break;case"removetokenicon":this._removeTokenIconTemplate=e.template;break;case"clearicon":this._clearIconTemplate=e.template;break;case"dropdownicon":this._dropdownIconTemplate=e.template;break;case"itemcheckboxicon":this._itemCheckboxIconTemplate=e.template;break;case"chipicon":this._chipIconTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}headerCheckboxFocus;filterOptions;preventModelTouched;focused=!1;itemsWrapper;_displaySelectedLabel=!0;_maxSelectedLabels=3;modelValue=gi(null);_filterValue=gi(null);_options=gi(null);startRangeIndex=gi(-1);focusedOptionIndex=gi(-1);selectedOptions;clickInProgress=!1;get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(yo.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(yo.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.modelValue()!==""&&Wt(this.modelValue())&&this.showClear&&!this.$disabled()&&!this.readonly&&this.$filled()}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}get listLabel(){return this.config.getTranslation(yo.ARIA).listLabel}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}visibleOptions=Ai(()=>{let e=this.getAllVisibleAndNonVisibleOptions(),i=Bw(e)&&B0.isObject(e[0]);if(this._filterValue()){let n;if(i?n=this.filterService.filter(e,this.searchFields(),this._filterValue(),this.filterMatchMode,this.filterLocale):n=e.filter(a=>a.toString().toLocaleLowerCase().includes(this._filterValue().toLocaleLowerCase())),this.group){let a=this.options||[],u=[];return a.forEach(b=>{let D=this.getOptionGroupChildren(b).filter(R=>n.includes(R));D.length>0&&u.push(Ma(ri({},b),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...D]}))}),this.flatOptions(u)}return n}return e});label=Ai(()=>{let e,i=this.modelValue();if(i&&i.length&&this.displaySelectedLabel){if(Wt(this.maxSelectedLabels)&&i.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(let n=0;n<i.length;n++)n!==0&&(e+=", "),e+=this.getLabelByValue(i[n])}else e=this.placeholder()||"";return e});chipSelectedItems=Ai(()=>Wt(this.maxSelectedLabels)&&this.modelValue()&&this.modelValue().length>this.maxSelectedLabels?this.modelValue().slice(0,this.maxSelectedLabels):this.modelValue());constructor(e,i,n){super(),this.zone=e,this.filterService=i,this.overlayService=n,Pr(()=>{let a=this.modelValue(),u=this.getAllVisibleAndNonVisibleOptions();u&&Wt(u)&&(this.optionValue&&this.optionLabel&&a?this.selectedOptions=u.filter(b=>a.includes(b[this.optionLabel])||a.includes(b[this.optionValue])):this.selectedOptions=a,this.cd.markForCheck())})}ngOnInit(){super.ngOnInit(),this.id=this.id||vi("pn_id_"),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}maxSelectionLimitReached(){return this.selectionLimit&&this.modelValue()&&this.modelValue().length===this.selectionLimit}ngAfterViewInit(){super.ngAfterViewInit(),this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild?.alignOverlay()},1)}),this.filtered=!1)}flatOptions(e){return(e||[]).reduce((i,n,a)=>{i.push({optionGroup:n,group:!0,index:a});let u=this.getOptionGroupChildren(n);return u&&u.forEach(b=>i.push(b)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()){this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex());let e=this.getOptionValue(this.visibleOptions()[this.focusedOptionIndex()]);this.onOptionSelect({originalEvent:null,option:[e]})}}updateModel(e,i){this.value=e,this.onModelChange(e),this.writeValue(e)}onInputClick(e){e.stopPropagation(),e.preventDefault(),this.focusedOptionIndex.set(-1)}onOptionSelect(e,i=!1,n=-1){let{originalEvent:a,option:u}=e;if(this.$disabled()||this.isOptionDisabled(u))return;let b=this.isSelected(u),T=null;b?T=this.modelValue().filter(D=>!Wa(D,this.getOptionValue(u),this.equalityKey())):T=[...this.modelValue()||[],this.getOptionValue(u)],this.updateModel(T,a),n!==-1&&this.focusedOptionIndex.set(n),i&&$t(this.focusInputViewChild?.nativeElement),this.onChange.emit({originalEvent:e,value:T,itemValue:u})}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}onOptionSelectRange(e,i=-1,n=-1){if(i===-1&&(i=this.findNearestSelectedOptionIndex(n,!0)),n===-1&&(n=this.findNearestSelectedOptionIndex(i)),i!==-1&&n!==-1){let a=Math.min(i,n),u=Math.max(i,n),b=this.visibleOptions().slice(a,u+1).filter(T=>this.isValidOption(T)).map(T=>this.getOptionValue(T));this.updateModel(b,e)}}searchFields(){return(this.filterBy||this.optionLabel||"label").split(",")}findNearestSelectedOptionIndex(e,i=!1){let n=-1;return this.hasSelectedOption()&&(i?(n=this.findPrevSelectedOptionIndex(e),n=n===-1?this.findNextSelectedOptionIndex(e):n):(n=this.findNextSelectedOptionIndex(e),n=n===-1?this.findPrevSelectedOptionIndex(e):n)),n>-1?n:e}findPrevSelectedOptionIndex(e){let i=this.hasSelectedOption()&&e>0?ta(this.visibleOptions().slice(0,e),n=>this.isValidSelectedOption(n)):-1;return i>-1?i:-1}findFirstFocusedOptionIndex(){let e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextSelectedOptionIndex(e){let i=this.hasSelectedOption()&&e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(n=>this.isValidSelectedOption(n)):-1;return i>-1?i+e+1:-1}equalityKey(){return this.optionValue?null:this.dataKey}hasSelectedOption(){return Wt(this.modelValue())}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isOptionGroup(e){return(this.group||this.optionGroupLabel)&&e.optionGroup&&e.group}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionDisabled(e){return this.maxSelectionLimitReached()&&!this.isSelected(e)?!0:this.optionDisabled?Vi(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}isSelected(e){let i=this.getOptionValue(e);return(this.modelValue()||[]).some(n=>Wa(n,i,this.equalityKey()))}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}getOptionIndex(e,i){return this.virtualScrollerDisabled?e:i&&i.getItemOptions(e).index}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(i=>this.isOptionGroup(i)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}getLabelByValue(e){let n=(this.group?this.flatOptions(this._options()):this._options()||[]).find(a=>!this.isOptionGroup(a)&&Wa(this.getOptionValue(a),e,this.equalityKey()));return n?this.getOptionLabel(n):null}getSelectedItemsLabel(){let e=/{(.*?)}/,i=this.selectedItemsLabel?this.selectedItemsLabel:this.config.getTranslation(yo.SELECTION_MESSAGE);return e.test(i)?i.replace(i.match(e)[0],this.modelValue().length+""):i}getOptionLabel(e){return this.optionLabel?Vi(e,this.optionLabel):e&&e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?Vi(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}getOptionGroupLabel(e){return this.optionGroupLabel?Vi(e,this.optionGroupLabel):e&&e.label!=null?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?Vi(e,this.optionGroupChildren):e.items}onKeyDown(e){if(this.$disabled()){e.preventDefault();return}let i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(e.code==="KeyA"&&i){let n=this.visibleOptions().filter(a=>this.isValidOption(a)).map(a=>this.getOptionValue(a));this.updateModel(n,e),e.preventDefault();break}!i&&or(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e,e.key),e.preventDefault());break}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onArrowLeftKey(e,i=!1){i&&this.focusedOptionIndex.set(-1)}onArrowDownKey(e){let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex(),i),this.changeFocusedOptionIndex(e,i),!this.overlayVisible&&this.show(),e.preventDefault(),e.stopPropagation()}onArrowUpKey(e,i=!1){if(e.altKey&&!i)this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide(),e.preventDefault();else{let n=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,n,this.startRangeIndex()),this.changeFocusedOptionIndex(e,n),!this.overlayVisible&&this.show(),e.preventDefault()}e.stopPropagation()}onHomeKey(e,i=!1){let{currentTarget:n}=e;if(i){let a=n.value.length;n.setSelectionRange(0,e.shiftKey?a:0),this.focusedOptionIndex.set(-1)}else{let a=e.metaKey||e.ctrlKey,u=this.findFirstOptionIndex();e.shiftKey&&a&&this.onOptionSelectRange(e,u,this.startRangeIndex()),this.changeFocusedOptionIndex(e,u),!this.overlayVisible&&this.show()}e.preventDefault()}onEndKey(e,i=!1){let{currentTarget:n}=e;if(i){let a=n.value.length;n.setSelectionRange(e.shiftKey?0:a,a),this.focusedOptionIndex.set(-1)}else{let a=e.metaKey||e.ctrlKey,u=this.findLastFocusedOptionIndex();e.shiftKey&&a&&this.onOptionSelectRange(e,this.startRangeIndex(),u),this.changeFocusedOptionIndex(e,u),!this.overlayVisible&&this.show()}e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onEnterKey(e){this.overlayVisible?this.focusedOptionIndex()!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex()):this.onOptionSelect({originalEvent:e,option:this.visibleOptions()[this.focusedOptionIndex()]})):this.onArrowDownKey(e),e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.stopPropagation(),e.preventDefault()}onTabKey(e,i=!1){if(!i)if(this.overlayVisible&&this.hasFocusableElements())$t(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault();else{if(this.focusedOptionIndex()!==-1){let n=this.visibleOptions()[this.focusedOptionIndex()];!this.isSelected(n)&&this.onOptionSelect({originalEvent:e,option:n})}this.overlayVisible&&this.hide(this.filter)}}onShiftKey(){this.startRangeIndex.set(this.focusedOptionIndex())}onContainerClick(e){if(!(this.$disabled()||this.loading||this.readonly||e.target.isSameNode(this.focusInputViewChild?.nativeElement))){if(!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target)){if(this.clickInProgress)return;this.clickInProgress=!0,setTimeout(()=>{this.clickInProgress=!1},150),this.overlayVisible?this.hide(!0):this.show(!0)}this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),this.onClick.emit(e),this.cd.detectChanges()}}onFirstHiddenFocus(e){let i=e.relatedTarget===this.focusInputViewChild?.nativeElement?jd(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;$t(i)}onInputFocus(e){this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit({originalEvent:e})}onInputBlur(e){this.focused=!1,this.onBlur.emit({originalEvent:e}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onFilterInputChange(e){let i=e.target.value;this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()})}onLastHiddenFocus(e){let i=e.relatedTarget===this.focusInputViewChild?.nativeElement?V0(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;$t(i)}onOptionMouseEnter(e,i){this.focusOnHover&&this.changeFocusedOptionIndex(e,i)}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onToggleAll(e){if(!(this.$disabled()||this.readonly)){if(this.selectAll!=null)this.onSelectAllChange.emit({originalEvent:e,checked:!this.allSelected()});else{let i=this.getAllVisibleAndNonVisibleOptions().filter(T=>this.isSelected(T)&&(this.optionDisabled?Vi(T,this.optionDisabled):T&&T.disabled!==void 0?T.disabled:!1)),n=this.allSelected()?this.visibleOptions().filter(T=>!this.isValidOption(T)&&this.isSelected(T)):this.visibleOptions().filter(T=>this.isSelected(T)||this.isValidOption(T)),u=[...this.filter&&!this.allSelected()?this.getAllVisibleAndNonVisibleOptions().filter(T=>this.isSelected(T)&&this.isValidOption(T)):[],...i,...n].map(T=>this.getOptionValue(T)),b=[...new Set(u)];this.updateModel(b,e),(!b.length||b.length===this.getAllVisibleAndNonVisibleOptions().length)&&this.onSelectAllChange.emit({originalEvent:e,checked:!!b.length})}this.partialSelected()&&(this.selectedOptions=null,this.cd.markForCheck()),this.onChange.emit({originalEvent:e,value:this.value}),ss.focus(this.headerCheckboxViewChild?.inputViewChild?.nativeElement),this.headerCheckboxFocus=!0,e.originalEvent.preventDefault(),e.originalEvent.stopPropagation()}}changeFocusedOptionIndex(e,i){this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView())}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let n=ei(this.itemsViewChild.nativeElement,`li[id="${i}"]`);n?n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}allSelected(){return this.selectAll!==null?this.selectAll:Wt(this.visibleOptions())&&this.visibleOptions().every(e=>this.isOptionGroup(e)||this.isOptionDisabled(e)||this.isSelected(e))}partialSelected(){return this.selectedOptions&&this.selectedOptions.length>0&&this.selectedOptions.length<this.options.length}show(e){this.overlayVisible=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex();this.focusedOptionIndex.set(i),e&&$t(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.overlayOptions?.mode==="modal"&&uc(),e&&$t(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(e){if(e.toState==="visible"){if(this.itemsWrapper=ei(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-multiselect-list-container"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let i=this.modelValue()?this.focusedOptionIndex():-1;i!==-1&&this.scroller?.scrollToIndex(i)}else{let i=ei(this.itemsWrapper,'[data-p-highlight="true"]');i&&i.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit(e)}e.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onPanelHide.emit(e))}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue.set(null),this._filteredOptions=null}close(e){this.hide(),e.preventDefault(),e.stopPropagation()}clear(e){this.value=null,this.updateModel(null,e),this.selectedOptions=null,this.onClear.emit(),this._disableTooltip=!0,e.stopPropagation()}labelContainerMouseLeave(){this._disableTooltip&&(this._disableTooltip=!1)}removeOption(e,i){let n=this.modelValue().filter(a=>!Wa(a,e,this.equalityKey()));this.updateModel(n,i),this.onChange.emit({originalEvent:i,value:n,itemValue:e}),this.onRemove.emit({newValue:n,removed:e}),i&&i.stopPropagation()}findNextOptionIndex(e){let i=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(n=>this.isValidOption(n)):-1;return i>-1?i+e+1:e}findPrevOptionIndex(e){let i=e>0?ta(this.visibleOptions().slice(0,e),n=>this.isValidOption(n)):-1;return i>-1?i:e}findLastSelectedOptionIndex(){return this.hasSelectedOption()?ta(this.visibleOptions(),e=>this.isValidSelectedOption(e)):-1}findLastFocusedOptionIndex(){let e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findLastOptionIndex(){return ta(this.visibleOptions(),e=>this.isValidOption(e))}searchOptions(e,i){this.searchValue=(this.searchValue||"")+i;let n=-1,a=!1;return this.focusedOptionIndex()!==-1?(n=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(u=>this.isOptionMatched(u)),n=n===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(u=>this.isOptionMatched(u)):n+this.focusedOptionIndex()):n=this.visibleOptions().findIndex(u=>this.isOptionMatched(u)),n!==-1&&(a=!0),n===-1&&this.focusedOptionIndex()===-1&&(n=this.findFirstFocusedOptionIndex()),n!==-1&&this.changeFocusedOptionIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),a}hasFocusableElements(){return Hd(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}writeControlValue(e,i){this.value=e,i(e),this.cd.markForCheck()}static \u0275fac=function(i){return new(i||t)(Dt(pa),Dt(Hr),Dt(sr))};static \u0275cmp=Je({type:t,selectors:[["p-multiSelect"],["p-multiselect"],["p-multi-select"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,Ps,5),xe(a,dc,5),xe(a,tV,4),xe(a,iV,4),xe(a,nV,4),xe(a,aV,4),xe(a,oV,4),xe(a,rV,4),xe(a,sV,4),xe(a,lV,4),xe(a,cV,4),xe(a,dV,4),xe(a,uV,4),xe(a,pV,4),xe(a,hV,4),xe(a,mV,4),xe(a,fV,4),xe(a,gV,4),xe(a,_V,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.footerFacet=u.first),se(u=le())&&(n.headerFacet=u.first),se(u=le())&&(n.itemTemplate=u.first),se(u=le())&&(n.groupTemplate=u.first),se(u=le())&&(n.loaderTemplate=u.first),se(u=le())&&(n.headerTemplate=u.first),se(u=le())&&(n.filterTemplate=u.first),se(u=le())&&(n.footerTemplate=u.first),se(u=le())&&(n.emptyFilterTemplate=u.first),se(u=le())&&(n.emptyTemplate=u.first),se(u=le())&&(n.selectedItemsTemplate=u.first),se(u=le())&&(n.loadingIconTemplate=u.first),se(u=le())&&(n.filterIconTemplate=u.first),se(u=le())&&(n.removeTokenIconTemplate=u.first),se(u=le())&&(n.chipIconTemplate=u.first),se(u=le())&&(n.clearIconTemplate=u.first),se(u=le())&&(n.dropdownIconTemplate=u.first),se(u=le())&&(n.itemCheckboxIconTemplate=u.first),se(u=le())&&(n.headerCheckboxIconTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&(ut(bV,5),ut(yV,5),ut(vV,5),ut(xV,5),ut(wV,5),ut(IV,5),ut(TV,5),ut(CV,5)),i&2){let a;se(a=le())&&(n.overlayViewChild=a.first),se(a=le())&&(n.filterInputChild=a.first),se(a=le())&&(n.focusInputViewChild=a.first),se(a=le())&&(n.itemsViewChild=a.first),se(a=le())&&(n.scroller=a.first),se(a=le())&&(n.lastHiddenFocusableElementOnOverlay=a.first),se(a=le())&&(n.firstHiddenFocusableElementOnOverlay=a.first),se(a=le())&&(n.headerCheckboxViewChild=a.first)}},hostVars:5,hostBindings:function(i,n){i&1&&we("click",function(u){return n.onContainerClick(u)}),i&2&&(de("id",n.id),Lt(n.sx("root")),$(n.cn(n.cx("root"),n.styleClass)))},inputs:{id:"id",ariaLabel:"ariaLabel",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",readonly:[2,"readonly","readonly",ye],group:[2,"group","group",ye],filter:[2,"filter","filter",ye],filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:[2,"overlayVisible","overlayVisible",ye],tabindex:[2,"tabindex","tabindex",wt],dataKey:"dataKey",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:[2,"selectionLimit","selectionLimit",wt],selectedItemsLabel:"selectedItemsLabel",showToggleAll:[2,"showToggleAll","showToggleAll",ye],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",ye],dropdownIcon:"dropdownIcon",chipIcon:"chipIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:[2,"showHeader","showHeader",ye],filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",ye],virtualScroll:[2,"virtualScroll","virtualScroll",ye],loading:[2,"loading","loading",ye],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",wt],loadingIcon:"loadingIcon",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:[2,"autofocusFilter","autofocusFilter",ye],display:"display",autocomplete:"autocomplete",showClear:[2,"showClear","showClear",ye],autofocus:[2,"autofocus","autofocus",ye],placeholder:"placeholder",options:"options",filterValue:"filterValue",selectAll:"selectAll",focusOnHover:[2,"focusOnHover","focusOnHover",ye],filterFields:"filterFields",selectOnFocus:[2,"selectOnFocus","selectOnFocus",ye],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",ye],highlightOnSelect:[2,"highlightOnSelect","highlightOnSelect",ye],size:[1,"size"],variant:[1,"variant"],fluid:[1,"fluid"],appendTo:[1,"appendTo"]},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad",onRemove:"onRemove",onSelectAllChange:"onSelectAllChange"},features:[_t([eR,l_]),ft],ngContentSelectors:MV,decls:16,vars:40,consts:[["focusInput",""],["elseBlock",""],["overlay",""],["content",""],["token",""],["removeicon",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["headerCheckbox",""],["icon",""],["filterInput",""],["scroller",""],["loader",""],["items",""],[1,"p-hidden-accessible"],["role","combobox",3,"focus","blur","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","pAutoFocus"],[3,"mouseleave","pTooltip","tooltipDisabled","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","hostAttrSelector","visible","options","target","appendTo"],[3,"class"],[3,"class",4,"ngFor","ngForOf"],[3,"onRemove","label","removable","removeIcon"],[3,"class","click",4,"ngIf"],[3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","times",3,"class","click",4,"ngIf"],["data-p-icon","times",3,"click"],[4,"ngTemplateOutlet"],[3,"class",4,"ngIf"],[3,"class","ngClass",4,"ngIf"],["data-p-icon","chevron-down",3,"class",4,"ngIf"],[3,"ngClass"],["data-p-icon","chevron-down"],[3,"ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],[3,"ngModel","ariaLabel","binary","variant","disabled","onChange",4,"ngIf"],[3,"onChange","ngModel","ariaLabel","binary","variant","disabled"],["data-p-icon","check",3,"class",4,"ngIf"],["data-p-icon","check"],["pInputText","","type","text","role","searchbox",3,"input","keydown","click","blur","variant","value"],["data-p-icon","search",4,"ngIf"],["class","p-multiselect-filter-icon",4,"ngIf"],["data-p-icon","search"],[1,"p-multiselect-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","tabindex","lazy","options"],["role","listbox","aria-multiselectable","true"],["ngFor","",3,"ngForOf"],["role","option",3,"class","ngStyle",4,"ngIf"],["role","option",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","selected","label","disabled","template","itemCheckboxIconTemplate","itemSize","focused","ariaPosInset","ariaSetSize","variant","highlightOnSelect"]],template:function(i,n){if(i&1){let a=Be();Ui(SV),A(0,"div",16)(1,"input",17,0),we("focus",function(b){return Q(a),X(n.onInputFocus(b))})("blur",function(b){return Q(a),X(n.onInputBlur(b))})("keydown",function(b){return Q(a),X(n.onKeyDown(b))}),L()(),A(3,"div",18),we("mouseleave",function(){return Q(a),X(n.labelContainerMouseLeave())}),A(4,"div"),z(5,jV,3,2,"ng-container",19)(6,$V,3,6,"ng-container",19),L()(),z(7,XV,3,2,"ng-container",19),A(8,"div"),z(9,nz,3,2,"ng-container",20)(10,dz,2,2,"ng-template",null,1,ze),L(),A(12,"p-overlay",21,2),ci("visibleChange",function(b){return Q(a),li(n.overlayVisible,b)||(n.overlayVisible=b),X(b)}),we("onAnimationStart",function(b){return Q(a),X(n.onOverlayAnimationStart(b))})("onHide",function(){return Q(a),X(n.hide())}),z(14,Qz,13,19,"ng-template",null,3,ze),L()}if(i&2){let a=Gt(11);de("data-p-hidden-accessible",!0),S(),C("pTooltip",n.tooltip)("tooltipPosition",n.tooltipPosition)("positionStyle",n.tooltipPositionStyle)("tooltipStyleClass",n.tooltipStyleClass)("pAutoFocus",n.autofocus),de("aria-disabled",n.$disabled())("id",n.inputId)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",n.overlayVisible??!1)("aria-controls",n.overlayVisible?n.id+"_list":null)("tabindex",n.$disabled()?-1:n.tabindex)("aria-activedescendant",n.focused?n.focusedOptionId:void 0)("value",n.modelValue())("name",n.name())("required",n.required()?"":void 0)("disabled",n.$disabled()?"":void 0),S(2),$(n.cx("labelContainer")),C("pTooltip",n.tooltip)("tooltipDisabled",n._disableTooltip)("tooltipPosition",n.tooltipPosition)("positionStyle",n.tooltipPositionStyle)("tooltipStyleClass",n.tooltipStyleClass),S(),$(n.cx("label")),S(),C("ngIf",!n.selectedItemsTemplate&&!n._selectedItemsTemplate),S(),C("ngIf",n.selectedItemsTemplate||n._selectedItemsTemplate),S(),C("ngIf",n.isVisibleClearIcon),S(),$(n.cx("dropdown")),S(),C("ngIf",n.loading)("ngIfElse",a),S(3),C("hostAttrSelector",n.attrSelector),si("visible",n.overlayVisible),C("options",n.overlayOptions)("target","@parent")("appendTo",n.$appendTo())}},dependencies:[mt,ka,Bi,Ut,Yt,fi,tR,Ip,Ze,La,ls,Ao,fp,gp,Ar,Da,cr,dr,ma,wc,Gr,dn,ia,na],encapsulation:2,changeDetection:0})}return t})(),c_=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[Hp,Ze,Ze]})}return t})();var Zy;function iR(){if(Zy==null){let t=typeof document<"u"?document.head:null;Zy=!!(t&&(t.createShadowRoot||t.attachShadow))}return Zy}function d_(t){if(iR()){let s=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&s instanceof ShadowRoot)return s}return null}function Bm(t){return t.composedPath?t.composedPath()[0]:t.target}function iC(t){return t.buttons===0||t.detail===0}function nC(t){let s=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!s&&s.identifier===-1&&(s.radiusX==null||s.radiusX===1)&&(s.radiusY==null||s.radiusY===1)}function u_(t,s=0){return nR(t)?Number(t):arguments.length===2?s:0}function nR(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function ps(t){return t instanceof ua?t.nativeElement:t}var p_=new WeakMap,aC=(()=>{class t{_appRef;_injector=Fe(um);_environmentInjector=Fe(fw);load(e){let i=this._appRef=this._appRef||this._injector.get(xb),n=p_.get(i);n||(n={loaders:new Set,refs:[]},p_.set(i,n),i.onDestroy(()=>{p_.get(i)?.refs.forEach(a=>a.destroy()),p_.delete(i)})),n.loaders.has(e)||(n.loaders.add(e),n.refs.push(Cw(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Qy;try{Qy=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Qy=!1}var Xy=(()=>{class t{_platformId=Fe(nc);isBrowser=this._platformId?ii(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Qy)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var aR=new hl("cdk-dir-doc",{providedIn:"root",factory:oR});function oR(){return Fe(qr)}var rR=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function sR(t){let s=t?.toLowerCase()||"";return s==="auto"&&typeof navigator<"u"&&navigator?.language?rR.test(navigator.language)?"rtl":"ltr":s==="rtl"?"rtl":"ltr"}var Yy=(()=>{class t{get value(){return this.valueSignal()}valueSignal=gi("ltr");change=new Le;constructor(){let e=Fe(aR,{optional:!0});if(e){let i=e.body?e.body.dir:null,n=e.documentElement?e.documentElement.dir:null;this.valueSignal.set(sR(i||n||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var cR=20,oC=(()=>{class t{_ngZone=Fe(pa);_platform=Fe(Xy);_renderer=Fe(dp).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new rn;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=cR){return this._platform.isBrowser?new dm(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let n=e>0?this._scrolled.pipe(_b(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):sw()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let n=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(k0(a=>!a||n.indexOf(a)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((n,a)=>{this._scrollableContainsElement(a,e)&&i.push(a)}),i}_scrollableContainsElement(e,i){let n=ps(i),a=e.getElementRef().nativeElement;do if(n==a)return!0;while(n=n.parentElement);return!1}static \u0275fac=function(i){return new(i||t)};static \u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var dR=20,rC=(()=>{class t{_platform=Fe(Xy);_listeners;_viewportSize;_change=new rn;_document=Fe(qr);constructor(){let e=Fe(pa),i=Fe(dp).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let n=a=>this._change.next(a);this._listeners=[i.listen("window","resize",n),i.listen("window","orientationchange",n)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+i,height:n,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),n=e.documentElement,a=n.getBoundingClientRect(),u=-a.top||e.body.scrollTop||i.scrollY||n.scrollTop||0,b=-a.left||e.body.scrollLeft||i.scrollX||n.scrollLeft||0;return{top:u,left:b}}change(e=dR){return e>0?this._change.pipe(_b(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var sC=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({})}return t})();var Jy={},lC=(()=>{class t{_appId=Fe(gw);getId(e){return this._appId!=="ng"&&(e+=this._appId),Jy.hasOwnProperty(e)||(Jy[e]=0),`${e}${Jy[e]++}`}static \u0275fac=function(i){return new(i||t)};static \u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cC(t){return Array.isArray(t)?t:[t]}function iv(t){let s=t.cloneNode(!0),e=s.querySelectorAll("[id]"),i=t.nodeName.toLowerCase();s.removeAttribute("id");for(let n=0;n<e.length;n++)e[n].removeAttribute("id");return i==="canvas"?pC(t,s):(i==="input"||i==="select"||i==="textarea")&&uC(t,s),dC("canvas",t,s,pC),dC("input, textarea, select",t,s,uC),s}function dC(t,s,e,i){let n=s.querySelectorAll(t);if(n.length){let a=e.querySelectorAll(t);for(let u=0;u<n.length;u++)i(n[u],a[u])}}var uR=0;function uC(t,s){s.type!=="file"&&(s.value=t.value),s.type==="radio"&&s.name&&(s.name=`mat-clone-${s.name}-${uR++}`)}function pC(t,s){let e=s.getContext("2d");if(e)try{e.drawImage(t,0,0)}catch{}}function cv(t){let s=t.getBoundingClientRect();return{top:s.top,right:s.right,bottom:s.bottom,left:s.left,width:s.width,height:s.height,x:s.x,y:s.y}}function nv(t,s,e){let{top:i,bottom:n,left:a,right:u}=t;return e>=i&&e<=n&&s>=a&&s<=u}function pR(t,s){let e=s.left<t.left,i=s.left+s.width>t.right,n=s.top<t.top,a=s.top+s.height>t.bottom;return e||i||n||a}function Hm(t,s,e){t.top+=s,t.bottom=t.top+t.height,t.left+=e,t.right=t.left+t.width}function hC(t,s,e,i){let{top:n,right:a,bottom:u,left:b,width:T,height:D}=t,R=T*s,U=D*s;return i>n-U&&i<u+U&&e>b-R&&e<a+R}var h_=class{_document;positions=new Map;constructor(s){this._document=s}clear(){this.positions.clear()}cache(s){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),s.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:cv(e)})})}handleScroll(s){let e=Bm(s),i=this.positions.get(e);if(!i)return null;let n=i.scrollPosition,a,u;if(e===this._document){let D=this.getViewportScrollPosition();a=D.top,u=D.left}else a=e.scrollTop,u=e.scrollLeft;let b=n.top-a,T=n.left-u;return this.positions.forEach((D,R)=>{D.clientRect&&e!==R&&e.contains(R)&&Hm(D.clientRect,b,T)}),n.top=a,n.left=u,{top:b,left:T}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function TC(t,s){let e=t.rootNodes;if(e.length===1&&e[0].nodeType===s.ELEMENT_NODE)return e[0];let i=s.createElement("div");return e.forEach(n=>i.appendChild(n)),i}function dv(t,s,e){for(let i in s)if(s.hasOwnProperty(i)){let n=s[i];n?t.setProperty(i,n,e?.has(i)?"important":""):t.removeProperty(i)}return t}function jp(t,s){let e=s?"":"none";dv(t.style,{"touch-action":s?"":"none","-webkit-user-drag":s?"":"none","-webkit-tap-highlight-color":s?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function mC(t,s,e){dv(t.style,{position:s?"":"fixed",top:s?"":"0",opacity:s?"":"0",left:s?"":"-999em"},e)}function m_(t,s){return s&&s!="none"?t+" "+s:t}function fC(t,s){t.style.width=`${s.width}px`,t.style.height=`${s.height}px`,t.style.transform=jm(s.left,s.top)}function jm(t,s){return`translate3d(${Math.round(t)}px, ${Math.round(s)}px, 0)`}function gC(t){let s=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*s}function hR(t){let s=getComputedStyle(t),e=ev(s,"transition-property"),i=e.find(b=>b==="transform"||b==="all");if(!i)return 0;let n=e.indexOf(i),a=ev(s,"transition-duration"),u=ev(s,"transition-delay");return gC(a[n])+gC(u[n])}function ev(t,s){return t.getPropertyValue(s).split(",").map(i=>i.trim())}var mR=new Set(["position"]),av=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(s,e,i,n,a,u,b,T,D,R){this._document=s,this._rootElement=e,this._direction=i,this._initialDomRect=n,this._previewTemplate=a,this._previewClass=u,this._pickupPositionOnPage=b,this._initialTransform=T,this._zIndex=D,this._renderer=R}attach(s){this._preview=this._createPreview(),s.appendChild(this._preview),_C(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(s){this._preview.style.transform=s}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(s){this._preview.classList.add(s)}getTransitionDuration(){return hR(this._preview)}addEventListener(s,e){return this._renderer.listen(this._preview,s,e)}_createPreview(){let s=this._previewTemplate,e=this._previewClass,i=s?s.template:null,n;if(i&&s){let a=s.matchSize?this._initialDomRect:null,u=s.viewContainer.createEmbeddedView(i,s.context);u.detectChanges(),n=TC(u,this._document),this._previewEmbeddedView=u,s.matchSize?fC(n,a):n.style.transform=jm(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else n=iv(this._rootElement),fC(n,this._initialDomRect),this._initialTransform&&(n.style.transform=this._initialTransform);return dv(n.style,{"pointer-events":"none",margin:_C(n)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},mR),jp(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("popover","manual"),n.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(a=>n.classList.add(a)):n.classList.add(e)),n}};function _C(t){return"showPopover"in t}var fR={passive:!0},bC={passive:!1},gR={passive:!1,capture:!0},_R=800,yC="cdk-drag-placeholder",vC=new Set(["position"]),ov=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=gi(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new rn;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=Bd.EMPTY;_pointerUpSubscription=Bd.EMPTY;_scrollSubscription=Bd.EMPTY;_resizeSubscription=Bd.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(s){s!==this._disabled&&(this._disabled=s,this._toggleNativeDragInteractions(),this._handles.forEach(e=>jp(e,s)))}_disabled=!1;beforeStarted=new rn;started=new rn;released=new rn;ended=new rn;entered=new rn;exited=new rn;dropped=new rn;moved=this._moveEvents;data;constrainPosition;constructor(s,e,i,n,a,u,b){this._config=e,this._document=i,this._ngZone=n,this._viewportRuler=a,this._dragDropRegistry=u,this._renderer=b,this.withRootElement(s).withParent(e.parentDragRef||null),this._parentPositions=new h_(i),u.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(s){this._handles=s.map(i=>ps(i)),this._handles.forEach(i=>jp(i,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(s){return this._previewTemplate=s,this}withPlaceholderTemplate(s){return this._placeholderTemplate=s,this}withRootElement(s){let e=ps(s);if(e!==this._rootElement){this._removeRootElementListeners();let i=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[i.listen(e,"mousedown",this._pointerDown,bC),i.listen(e,"touchstart",this._pointerDown,fR),i.listen(e,"dragstart",this._nativeDragStart,bC)]),this._initialTransform=void 0,this._rootElement=e}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(s){return this._boundaryElement=s?ps(s):null,this._resizeSubscription.unsubscribe(),s&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(s){return this._parentDragRef=s,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&pR(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let s=this._boundaryElement.getBoundingClientRect(),e=this._rootElement.getBoundingClientRect(),i=0,n=0;e.left<s.left?i=s.left-e.left:e.right>s.right&&(i=s.right-e.right),e.top<s.top?n=s.top-e.top:e.bottom>s.bottom&&(n=s.bottom-e.bottom);let a=this._activeTransform.x,u=this._activeTransform.y,b=a+i,T=u+n;this._rootElement.style.transform=jm(b,T),this._activeTransform={x:b,y:T},this._passiveTransform={x:b,y:T}}}disableHandle(s){!this._disabledHandles.has(s)&&this._handles.indexOf(s)>-1&&(this._disabledHandles.add(s),jp(s,!0))}enableHandle(s){this._disabledHandles.has(s)&&(this._disabledHandles.delete(s),jp(s,this.disabled))}withDirection(s){return this._direction=s,this}_withDropContainer(s){this._dropContainer=s}getFreeDragPosition(){let s=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:s.x,y:s.y}}setFreeDragPosition(s){return this._activeTransform={x:0,y:0},this._passiveTransform.x=s.x,this._passiveTransform.y=s.y,this._dropContainer||this._applyRootElementTransform(s.x,s.y),this}withPreviewContainer(s){return this._previewContainer=s,this}_sortFromLastPointerPosition(){let s=this._lastKnownPointerPosition;s&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(s),s)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=s=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(s);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,s)}else this.disabled||this._initializeDragSequence(this._rootElement,s)};_pointerMove=s=>{let e=this._getPointerPositionOnPage(s);if(!this._hasStartedDragging()){let n=Math.abs(e.x-this._pickupPositionOnPage.x),a=Math.abs(e.y-this._pickupPositionOnPage.y);if(n+a>=this._config.dragStartThreshold){let b=Date.now()>=this._dragStartTime+this._getDragStartDelay(s),T=this._dropContainer;if(!b){this._endDragSequence(s);return}(!T||!T.isDragging()&&!T.isReceiving())&&(s.cancelable&&s.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(s)))}return}s.cancelable&&s.preventDefault();let i=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,e);else{let n=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,a=this._activeTransform;a.x=i.x-n.x+this._passiveTransform.x,a.y=i.y-n.y+this._passiveTransform.y,this._applyRootElementTransform(a.x,a.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:s,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})};_pointerUp=s=>{this._endDragSequence(s)};_endDragSequence(s){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:s}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(s),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(s);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:s})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(s){Nm(s)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),i=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(e,"selectstart",bR,gR)}),i){let n=this._rootElement,a=n.parentNode,u=this._placeholder=this._createPlaceholderElement(),b=this._marker=this._marker||this._document.createComment("");a.insertBefore(b,n),this._initialTransform=n.style.transform||"",this._preview=new av(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(a,e)),mC(n,!1,vC),this._document.body.appendChild(a.replaceChild(u,n)),this.started.next({source:this,event:s}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:s}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(s,e){this._parentDragRef&&e.stopPropagation();let i=this.isDragging(),n=Nm(e),a=!n&&e.button!==0,u=this._rootElement,b=Bm(e),T=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+_R>Date.now(),D=n?nC(e):iC(e);if(b&&b.draggable&&e.type==="mousedown"&&e.preventDefault(),i||a||T||D)return;if(this._handles.length){let Y=u.style;this._rootElementTapHighlight=Y.webkitTapHighlightColor||"",Y.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Y=>this._updateOnScroll(Y)),this._boundaryElement&&(this._boundaryRect=cv(this._boundaryElement));let R=this._previewTemplate;this._pickupPositionInElement=R&&R.template&&!R.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,s,e);let U=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:U.x,y:U.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(s){mC(this._rootElement,!0,vC),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,i=e.getItemIndex(this),n=this._getPointerPositionOnPage(s),a=this._getDragDistance(n),u=e._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:a,dropPoint:n,event:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:u,distance:a,dropPoint:n,event:s}),e.drop(this,i,this._initialIndex,this._initialContainer,u,a,n,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:s,y:e},{x:i,y:n}){let a=this._initialContainer._getSiblingContainerFromPosition(this,s,e);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(s,e)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{let u=this._dropContainer.getItemIndex(this),b=this._dropContainer.getItemAtIndex(u+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(a,this._dropContainer,b),this._dropContainer=a,this._dropContainer.enter(this,s,e,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,n),this._dropContainer._sortItem(this,s,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(s,e):this._applyPreviewTransform(s-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let s=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(s.left,s.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{let n=b=>{(!b||this._preview&&Bm(b)===this._preview.element&&b.propertyName==="transform")&&(u(),i(),clearTimeout(a))},a=setTimeout(n,e*1.5),u=this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){let s=this._placeholderTemplate,e=s?s.template:null,i;return e?(this._placeholderRef=s.viewContainer.createEmbeddedView(e,s.context),this._placeholderRef.detectChanges(),i=TC(this._placeholderRef,this._document)):i=iv(this._rootElement),i.style.pointerEvents="none",i.classList.add(yC),i}_getPointerPositionInElement(s,e,i){let n=e===this._rootElement?null:e,a=n?n.getBoundingClientRect():s,u=Nm(i)?i.targetTouches[0]:i,b=this._getViewportScrollPosition(),T=u.pageX-a.left-b.left,D=u.pageY-a.top-b.top;return{x:a.left-s.left+T,y:a.top-s.top+D}}_getPointerPositionOnPage(s){let e=this._getViewportScrollPosition(),i=Nm(s)?s.touches[0]||s.changedTouches[0]||{pageX:0,pageY:0}:s,n=i.pageX-e.left,a=i.pageY-e.top;if(this._ownerSVGElement){let u=this._ownerSVGElement.getScreenCTM();if(u){let b=this._ownerSVGElement.createSVGPoint();return b.x=n,b.y=a,b.matrixTransform(u.inverse())}}return{x:n,y:a}}_getConstrainedPointerPosition(s){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:i,y:n}=this.constrainPosition?this.constrainPosition(s,this,this._initialDomRect,this._pickupPositionInElement):s;if(this.lockAxis==="x"||e==="x"?n=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:a,y:u}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,b=this._boundaryRect,{width:T,height:D}=this._getPreviewRect(),R=b.top+u,U=b.bottom-(D-u),Y=b.left+a,oe=b.right-(T-a);i=xC(i,Y,oe),n=xC(n,R,U)}return{x:i,y:n}}_updatePointerDirectionDelta(s){let{x:e,y:i}=s,n=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,u=Math.abs(e-a.x),b=Math.abs(i-a.y);return u>this._config.pointerDirectionChangeThreshold&&(n.x=e>a.x?1:-1,a.x=e),b>this._config.pointerDirectionChangeThreshold&&(n.y=i>a.y?1:-1,a.y=i),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let s=this._handles.length>0||!this.isDragging();s!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=s,jp(this._rootElement,s))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(s=>s()),this._rootElementCleanups=void 0}_applyRootElementTransform(s,e){let i=1/this.scale,n=jm(s*i,e*i),a=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=a.transform&&a.transform!="none"?a.transform:""),a.transform=m_(n,this._initialTransform)}_applyPreviewTransform(s,e){let i=this._previewTemplate?.template?void 0:this._initialTransform,n=jm(s,e);this._preview.setTransform(m_(n,i))}_getDragDistance(s){let e=this._pickupPositionOnPage;return e?{x:s.x-e.x,y:s.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:s,y:e}=this._passiveTransform;if(s===0&&e===0||this.isDragging()||!this._boundaryElement)return;let i=this._rootElement.getBoundingClientRect(),n=this._boundaryElement.getBoundingClientRect();if(n.width===0&&n.height===0||i.width===0&&i.height===0)return;let a=n.left-i.left,u=i.right-n.right,b=n.top-i.top,T=i.bottom-n.bottom;n.width>i.width?(a>0&&(s+=a),u>0&&(s-=u)):s=0,n.height>i.height?(b>0&&(e+=b),T>0&&(e-=T)):e=0,(s!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:s})}_getDragStartDelay(s){let e=this.dragStartDelay;return typeof e=="number"?e:Nm(s)?e.touch:e?e.mouse:0}_updateOnScroll(s){let e=this._parentPositions.handleScroll(s);if(e){let i=Bm(s);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Hm(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=d_(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(s,e){let i=this._previewContainer||"global";if(i==="parent")return s;if(i==="global"){let n=this._document;return e||n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body}return ps(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=s=>{if(this._handles.length){let e=this._getTargetHandle(s);e&&!this._disabledHandles.has(e)&&!this.disabled&&s.preventDefault()}else this.disabled||s.preventDefault()};_getTargetHandle(s){return this._handles.find(e=>s.target&&(s.target===e||e.contains(s.target)))}_conditionallyInsertAnchor(s,e,i){if(s===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(e===this._initialContainer&&e.hasAnchor){let n=this._anchor??=iv(this._placeholder);n.classList.remove(yC),n.classList.add("cdk-drag-anchor"),n.style.transform="",i?i.before(n):ps(e.element).appendChild(n)}}};function xC(t,s,e){return Math.max(s,Math.min(e,t))}function Nm(t){return t.type[0]==="t"}function bR(t){t.preventDefault()}function Oc(t,s,e){let i=f_(s,t.length-1),n=f_(e,t.length-1);if(i===n)return;let a=t[i],u=n<i?-1:1;for(let b=i;b!==n;b+=u)t[b]=t[b+u];t[n]=a}function uv(t,s,e,i){let n=f_(e,t.length-1),a=f_(i,s.length);t.length&&s.splice(a,0,t.splice(n,1)[0])}function f_(t,s){return Math.max(0,Math.min(s,t))}var g_=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(s){this._dragDropRegistry=s}_previousSwap={drag:null,delta:0,overlaps:!1};start(s){this.withItems(s)}sort(s,e,i,n){let a=this._itemPositions,u=this._getItemIndexFromPointerPosition(s,e,i,n);if(u===-1&&a.length>0)return null;let b=this.orientation==="horizontal",T=a.findIndex(Te=>Te.drag===s),D=a[u],R=a[T].clientRect,U=D.clientRect,Y=T>u?1:-1,oe=this._getItemOffsetPx(R,U,Y),J=this._getSiblingOffsetPx(T,a,Y),ke=a.slice();return Oc(a,T,u),a.forEach((Te,qe)=>{if(ke[qe]===Te)return;let et=Te.drag===s,bt=et?oe:J,xt=et?s.getPlaceholderElement():Te.drag.getRootElement();Te.offset+=bt;let lt=Math.round(Te.offset*(1/Te.drag.scale));b?(xt.style.transform=m_(`translate3d(${lt}px, 0, 0)`,Te.initialTransform),Hm(Te.clientRect,0,bt)):(xt.style.transform=m_(`translate3d(0, ${lt}px, 0)`,Te.initialTransform),Hm(Te.clientRect,bt,0))}),this._previousSwap.overlaps=nv(U,e,i),this._previousSwap.drag=D.drag,this._previousSwap.delta=b?n.x:n.y,{previousIndex:T,currentIndex:u}}enter(s,e,i,n){let a=n==null||n<0?this._getItemIndexFromPointerPosition(s,e,i):n,u=this._activeDraggables,b=u.indexOf(s),T=s.getPlaceholderElement(),D=u[a];if(D===s&&(D=u[a+1]),!D&&(a==null||a===-1||a<u.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(D=u[0]),b>-1&&u.splice(b,1),D&&!this._dragDropRegistry.isDragging(D)){let R=D.getRootElement();R.parentElement.insertBefore(T,R),u.splice(a,0,s)}else this._element.appendChild(T),u.push(s);T.style.transform="",this._cacheItemPositions()}withItems(s){this._activeDraggables=s.slice(),this._cacheItemPositions()}withSortPredicate(s){this._sortPredicate=s}reset(){this._activeDraggables?.forEach(s=>{let e=s.getRootElement();if(e){let i=this._itemPositions.find(n=>n.drag===s)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(s){return this._getVisualItemPositions().findIndex(e=>e.drag===s)}getItemAtIndex(s){return this._getVisualItemPositions()[s]?.drag||null}updateOnScroll(s,e){this._itemPositions.forEach(({clientRect:i})=>{Hm(i,s,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(s){this._element=s}_cacheItemPositions(){let s=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:cv(i)}}).sort((e,i)=>s?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getVisualItemPositions(){return this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(s,e,i){let n=this.orientation==="horizontal",a=n?e.left-s.left:e.top-s.top;return i===-1&&(a+=n?e.width-s.width:e.height-s.height),a}_getSiblingOffsetPx(s,e,i){let n=this.orientation==="horizontal",a=e[s].clientRect,u=e[s+i*-1],b=a[n?"width":"height"]*i;if(u){let T=n?"left":"top",D=n?"right":"bottom";i===-1?b-=u.clientRect[T]-a[D]:b+=a[T]-u.clientRect[D]}return b}_shouldEnterAsFirstChild(s,e){if(!this._activeDraggables.length)return!1;let i=this._itemPositions,n=this.orientation==="horizontal";if(i[0].drag!==this._activeDraggables[0]){let u=i[i.length-1].clientRect;return n?s>=u.right:e>=u.bottom}else{let u=i[0].clientRect;return n?s<=u.left:e<=u.top}}_getItemIndexFromPointerPosition(s,e,i,n){let a=this.orientation==="horizontal",u=this._itemPositions.findIndex(({drag:b,clientRect:T})=>{if(b===s)return!1;if(n){let D=a?n.x:n.y;if(b===this._previousSwap.drag&&this._previousSwap.overlaps&&D===this._previousSwap.delta)return!1}return a?e>=Math.floor(T.left)&&e<Math.floor(T.right):i>=Math.floor(T.top)&&i<Math.floor(T.bottom)});return u===-1||!this._sortPredicate(u,s)?-1:u}},rv=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(s,e){this._document=s,this._dragDropRegistry=e}start(s){let e=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<e.length;i++){let n=e[i];this._relatedNodes.push([n,n.nextSibling])}this.withItems(s)}sort(s,e,i,n){let a=this._getItemIndexFromPointerPosition(s,e,i),u=this._previousSwap;if(a===-1||this._activeItems[a]===s)return null;let b=this._activeItems[a];if(u.drag===b&&u.overlaps&&u.deltaX===n.x&&u.deltaY===n.y)return null;let T=this.getItemIndex(s),D=s.getPlaceholderElement(),R=b.getRootElement();a>T?R.after(D):R.before(D),Oc(this._activeItems,T,a);let U=this._getRootNode().elementFromPoint(e,i);return u.deltaX=n.x,u.deltaY=n.y,u.drag=b,u.overlaps=R===U||R.contains(U),{previousIndex:T,currentIndex:a}}enter(s,e,i,n){let a=this._activeItems.indexOf(s);a>-1&&this._activeItems.splice(a,1);let u=n==null||n<0?this._getItemIndexFromPointerPosition(s,e,i):n;u===-1&&(u=this._getClosestItemIndexToPointer(s,e,i));let b=this._activeItems[u];b&&!this._dragDropRegistry.isDragging(b)?(this._activeItems.splice(u,0,s),b.getRootElement().before(s.getPlaceholderElement())):(this._activeItems.push(s),this._element.appendChild(s.getPlaceholderElement()))}withItems(s){this._activeItems=s.slice()}withSortPredicate(s){this._sortPredicate=s}reset(){let s=this._element,e=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){let[n,a]=this._relatedNodes[i];n.parentNode===s&&n.nextSibling!==a&&(a===null?s.appendChild(n):a.parentNode===s&&s.insertBefore(n,a))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(s){return this._activeItems.indexOf(s)}getItemAtIndex(s){return this._activeItems[s]||null}updateOnScroll(){this._activeItems.forEach(s=>{this._dragDropRegistry.isDragging(s)&&s._sortFromLastPointerPosition()})}withElementContainer(s){s!==this._element&&(this._element=s,this._rootNode=void 0)}_getItemIndexFromPointerPosition(s,e,i){let n=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(i)),a=n?this._activeItems.findIndex(u=>{let b=u.getRootElement();return n===b||b.contains(n)}):-1;return a===-1||!this._sortPredicate(a,s)?-1:a}_getRootNode(){return this._rootNode||(this._rootNode=d_(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(s,e,i){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let n=1/0,a=-1;for(let u=0;u<this._activeItems.length;u++){let b=this._activeItems[u];if(b!==s){let{x:T,y:D}=b.getRootElement().getBoundingClientRect(),R=Math.hypot(e-T,i-D);R<n&&(n=R,a=u)}}return a}},wC=.05,CC=.05,Wr=function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t}(Wr||{}),Wo=function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t}(Wo||{}),sv=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new rn;entered=new rn;exited=new rn;dropped=new rn;sorted=new rn;receivingStarted=new rn;receivingStopped=new rn;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Bd.EMPTY;_verticalScrollDirection=Wr.NONE;_horizontalScrollDirection=Wo.NONE;_scrollNode;_stopScrollTimers=new rn;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(s,e,i,n,a){this._dragDropRegistry=e,this._ngZone=n,this._viewportRuler=a;let u=this.element=ps(s);this._document=i,this.withOrientation("vertical").withElementContainer(u),e.registerDropContainer(this),this._parentPositions=new h_(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(s,e,i,n){this._draggingStarted(),n==null&&this.sortingDisabled&&(n=this._draggables.indexOf(s)),this._sortStrategy.enter(s,e,i,n),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:s,container:this,currentIndex:this.getItemIndex(s)})}exit(s){this._reset(),this.exited.next({item:s,container:this})}drop(s,e,i,n,a,u,b,T={}){this._reset(),this.dropped.next({item:s,currentIndex:e,previousIndex:i,container:this,previousContainer:n,isPointerOverContainer:a,distance:u,dropPoint:b,event:T})}withItems(s){let e=this._draggables;return this._draggables=s,s.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(n=>n.isDragging()).every(n=>s.indexOf(n)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(s){return this._direction=s,this._sortStrategy instanceof g_&&(this._sortStrategy.direction=s),this}connectedTo(s){return this._siblings=s.slice(),this}withOrientation(s){if(s==="mixed")this._sortStrategy=new rv(this._document,this._dragDropRegistry);else{let e=new g_(this._dragDropRegistry);e.direction=this._direction,e.orientation=s,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,i)=>this.sortPredicate(e,i,this)),this}withScrollableParents(s){let e=this._container;return this._scrollableElements=s.indexOf(e)===-1?[e,...s]:s.slice(),this}withElementContainer(s){if(s===this._container)return this;let e=ps(this.element),i=this._scrollableElements.indexOf(this._container),n=this._scrollableElements.indexOf(s);return i>-1&&this._scrollableElements.splice(i,1),n>-1&&this._scrollableElements.splice(n,1),this._sortStrategy&&this._sortStrategy.withElementContainer(s),this._cachedShadowRoot=null,this._scrollableElements.unshift(s),this._container=s,this}getScrollableParents(){return this._scrollableElements}getItemIndex(s){return this._isDragging?this._sortStrategy.getItemIndex(s):this._draggables.indexOf(s)}getItemAtIndex(s){return this._isDragging?this._sortStrategy.getItemAtIndex(s):this._draggables[s]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(s,e,i,n){if(this.sortingDisabled||!this._domRect||!hC(this._domRect,wC,e,i))return;let a=this._sortStrategy.sort(s,e,i,n);a&&this.sorted.next({previousIndex:a.previousIndex,currentIndex:a.currentIndex,container:this,item:s})}_startScrollingIfNecessary(s,e){if(this.autoScrollDisabled)return;let i,n=Wr.NONE,a=Wo.NONE;if(this._parentPositions.positions.forEach((u,b)=>{b===this._document||!u.clientRect||i||hC(u.clientRect,wC,s,e)&&([n,a]=yR(b,u.clientRect,this._direction,s,e),(n||a)&&(i=b))}),!n&&!a){let{width:u,height:b}=this._viewportRuler.getViewportSize(),T={width:u,height:b,top:0,right:u,bottom:b,left:0};n=SC(T,e),a=MC(T,s),i=window}i&&(n!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=n,this._horizontalScrollDirection=a,this._scrollNode=i,(n||a)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let s=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=s.msScrollSnapType||s.scrollSnapType||"",s.scrollSnapType=s.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let s=this._container.style;s.scrollSnapType=s.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),S0(0,gb).pipe(lp(this._stopScrollTimers)).subscribe(()=>{let s=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===Wr.UP?s.scrollBy(0,-e):this._verticalScrollDirection===Wr.DOWN&&s.scrollBy(0,e),this._horizontalScrollDirection===Wo.LEFT?s.scrollBy(-e,0):this._horizontalScrollDirection===Wo.RIGHT&&s.scrollBy(e,0)})};_isOverContainer(s,e){return this._domRect!=null&&nv(this._domRect,s,e)}_getSiblingContainerFromPosition(s,e,i){return this._siblings.find(n=>n._canReceive(s,e,i))}_canReceive(s,e,i){if(!this._domRect||!nv(this._domRect,e,i)||!this.enterPredicate(s,this))return!1;let n=this._getShadowRoot().elementFromPoint(e,i);return n?n===this._container||this._container.contains(n):!1}_startReceiving(s,e){let i=this._activeSiblings;!i.has(s)&&e.every(n=>this.enterPredicate(n,this)||this._draggables.indexOf(n)>-1)&&(i.add(s),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:s,receiver:this,items:e}))}_stopReceiving(s){this._activeSiblings.delete(s),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:s,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(s=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(s);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let s=d_(this._container);this._cachedShadowRoot=s||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let s=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,s))}};function SC(t,s){let{top:e,bottom:i,height:n}=t,a=n*CC;return s>=e-a&&s<=e+a?Wr.UP:s>=i-a&&s<=i+a?Wr.DOWN:Wr.NONE}function MC(t,s){let{left:e,right:i,width:n}=t,a=n*CC;return s>=e-a&&s<=e+a?Wo.LEFT:s>=i-a&&s<=i+a?Wo.RIGHT:Wo.NONE}function yR(t,s,e,i,n){let a=SC(s,n),u=MC(s,i),b=Wr.NONE,T=Wo.NONE;if(a){let D=t.scrollTop;a===Wr.UP?D>0&&(b=Wr.UP):t.scrollHeight-D>t.clientHeight&&(b=Wr.DOWN)}if(u){let D=t.scrollLeft;e==="rtl"?u===Wo.RIGHT?D<0&&(T=Wo.RIGHT):t.scrollWidth+D>t.clientWidth&&(T=Wo.LEFT):u===Wo.LEFT?D>0&&(T=Wo.LEFT):t.scrollWidth-D>t.clientWidth&&(T=Wo.RIGHT)}return[b,T]}var qm={capture:!0},tv={passive:!1,capture:!0},vR=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Je({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,n){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return t})(),kC=(()=>{class t{_ngZone=Fe(pa);_document=Fe(qr);_styleLoader=Fe(aC);_renderer=Fe(dp).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new rn;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=gi([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new rn;pointerUp=new rn;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,tv)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(e,i){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(vR),this._activeDragInstances.update(n=>[...n,e]),this._activeDragInstances().length===1)){let n=i.type.startsWith("touch"),a=b=>this.pointerUp.next(b),u=[["scroll",b=>this._scroll.next(b),qm],["selectstart",this._preventDefaultWhileDragging,tv]];n?u.push(["touchend",a,qm],["touchcancel",a,qm]):u.push(["mouseup",a,qm]),n||u.push(["mousemove",b=>this.pointerMove.next(b),tv]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=u.map(([b,T,D])=>this._renderer.listen(this._document,b,T,D))})}}stopDragging(e){this._activeDragInstances.update(i=>{let n=i.indexOf(e);return n>-1?(i.splice(n,1),[...i]):i}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let i=[this._scroll];return e&&e!==this._document&&i.push(new dm(n=>this._ngZone.runOutsideAngular(()=>{let a=this._renderer.listen(e,"scroll",u=>{this._activeDragInstances().length&&n.next(u)},qm);return()=>{a()}}))),M0(...i)}registerDirectiveNode(e,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,i)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(i){return new(i||t)};static \u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xR={dragStartThreshold:5,pointerDirectionChangeThreshold:5},pv=(()=>{class t{_document=Fe(qr);_ngZone=Fe(pa);_viewportRuler=Fe(rC);_dragDropRegistry=Fe(kC);_renderer=Fe(dp).createRenderer(null,null);constructor(){}createDrag(e,i=xR){return new ov(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new sv(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),IC=new hl("CDK_DRAG_PARENT");var wR=new hl("CdkDragHandle");var __=new hl("CDK_DRAG_CONFIG"),EC=new hl("CdkDropList"),PC=(()=>{class t{element=Fe(ua);dropContainer=Fe(EC,{optional:!0,skipSelf:!0});_ngZone=Fe(pa);_viewContainerRef=Fe(yb);_dir=Fe(Yy,{optional:!0});_changeDetectorRef=Fe(nr);_selfHandle=Fe(wR,{optional:!0,self:!0});_parentDrag=Fe(IC,{optional:!0,skipSelf:!0});_dragDropRegistry=Fe(kC);_destroyed=new rn;_handles=new rw([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new Le;released=new Le;ended=new Le;entered=new Le;exited=new Le;dropped=new Le;moved=new dm(e=>{let i=this._dragRef.moved.pipe(C0(n=>({source:this,pointerPosition:n.pointerPosition,event:n.event,delta:n.delta,distance:n.distance}))).subscribe(e);return()=>{i.unsubscribe()}});_injector=Fe(um);constructor(){let e=this.dropContainer,i=Fe(__,{optional:!0}),n=Fe(pv);this._dragRef=n.createDrag(this.element,{dragStartThreshold:i&&i.dragStartThreshold!=null?i.dragStartThreshold:5,pointerDirectionChangeThreshold:i&&i.pointerDirectionChangeThreshold!=null?i.pointerDirectionChangeThreshold:5,zIndex:i?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),i&&this._assignDefaults(i),e&&(e.addItem(this),e._dropListRef.beforeStarted.pipe(lp(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){vb(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let i=e.rootElementSelector,n=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let i=this._handles.getValue();i.push(e),this._handles.next(i)}_removeHandle(e){let i=this._handles.getValue(),n=i.indexOf(e);n>-1&&(i.splice(n,1),this._handles.next(i))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,i=e;this.rootElementSelector&&(i=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):ps(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let i=this._dir,n=this.dragStartDelay,a=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,u=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof n=="object"&&n?n:u_(n),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(u).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(pw(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){let n=this._dragDropRegistry.getDragDirectiveForNode(i);if(n){e.withParent(n._dragRef);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){let{lockAxis:i,dragStartDelay:n,constrainPosition:a,previewClass:u,boundaryElement:b,draggingDisabled:T,rootElementSelector:D,previewContainer:R}=e;this.disabled=T??!1,this.dragStartDelay=n||0,i&&(this.lockAxis=i),a&&(this.constrainPosition=a),u&&(this.previewClass=u),b&&(this.boundaryElement=b),D&&(this.rootElementSelector=D),R&&(this.previewContainer=R)}_setupHandlesListener(){this._handles.pipe(hw(e=>{let i=e.map(n=>n.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),bb(e=>M0(...e.map(i=>i._stateChanges.pipe(E0(i))))),lp(this._destroyed)).subscribe(e=>{let i=this._dragRef,n=e.element.nativeElement;e.disabled?i.disableHandle(n):i.enableHandle(n)})}static \u0275fac=function(i){return new(i||t)};static \u0275dir=oc({type:t,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,n){i&2&&rc("cdk-drag-disabled",n.disabled)("cdk-drag-dragging",n._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",ye],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",wt]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[_t([{provide:IC,useExisting:t}]),Eo]})}return t})(),lv=new hl("CdkDropListGroup"),DC=(()=>{class t{_items=new Set;disabled=!1;ngOnDestroy(){this._items.clear()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=oc({type:t,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:[2,"cdkDropListGroupDisabled","disabled",ye]},exportAs:["cdkDropListGroup"],features:[_t([{provide:lv,useExisting:t}])]})}return t})(),LC=(()=>{class t{element=Fe(ua);_changeDetectorRef=Fe(nr);_scrollDispatcher=Fe(oC);_dir=Fe(Yy,{optional:!0});_group=Fe(lv,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new rn;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=Fe(lC).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;hasAnchor;dropped=new Le;entered=new Le;exited=new Le;sorted=new Le;_unsortedItems=new Set;constructor(){let e=Fe(pv),i=Fe(__,{optional:!0});this._dropListRef=e.createDropList(this.element),this._dropListRef.data=this,i&&this._assignDefaults(i),this._dropListRef.enterPredicate=(n,a)=>this.enterPredicate(n.data,a.data),this._dropListRef.sortPredicate=(n,a,u)=>this.sortPredicate(n,a.data,u.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(e){this._unsortedItems.add(e),e._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(i=>i._dragRef))}removeItem(e){if(this._unsortedItems.delete(e),this._latestSortedRefs){let i=this._latestSortedRefs.indexOf(e._dragRef);i>-1&&(this._latestSortedRefs.splice(i,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(E0(this._dir.value),lp(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{let i=cC(this.connectedTo).map(n=>{if(typeof n=="string"){let a=t._dropLists.find(u=>u.id===n);return a}return n});if(this._group&&this._group._items.forEach(n=>{i.indexOf(n)===-1&&i.push(n)}),!this._scrollableParentsResolved){let n=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(a=>a.getElementRef().nativeElement);this._dropListRef.withScrollableParents(n),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let n=this.element.nativeElement.querySelector(this.elementContainerSelector);e.withElementContainer(n)}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=u_(this.autoScrollStep,2),e.hasAnchor=this.hasAnchor,e.connectedTo(i.filter(n=>n&&n!==this).map(n=>n._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(i=>i._dragRef)),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),M0(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){let{lockAxis:i,draggingDisabled:n,sortingDisabled:a,listAutoScrollDisabled:u,listOrientation:b}=e;this.disabled=n??!1,this.sortingDisabled=a??!1,this.autoScrollDisabled=u??!1,this.orientation=b||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(e){this._latestSortedRefs=e,this._dropListRef.withItems(e)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=oc({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,n){i&2&&(de("id",n.id),rc("cdk-drop-list-disabled",n.disabled)("cdk-drop-list-dragging",n._dropListRef.isDragging())("cdk-drop-list-receiving",n._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",ye],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",ye],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",ye],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",ye]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[_t([{provide:lv,useValue:void 0},{provide:EC,useExisting:t}])]})}return t})();var Gp=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({providers:[pv],imports:[sC]})}return t})();var OC=`
    .p-listbox {
        display: block;
        background: dt('listbox.background');
        color: dt('listbox.color');
        border: 1px solid dt('listbox.border.color');
        border-radius: dt('listbox.border.radius');
        transition:
            background dt('listbox.transition.duration'),
            color dt('listbox.transition.duration'),
            border-color dt('listbox.transition.duration'),
            box-shadow dt('listbox.transition.duration'),
            outline-color dt('listbox.transition.duration');
        outline-color: transparent;
        box-shadow: dt('listbox.shadow');
    }

    .p-listbox.p-disabled {
        opacity: 1;
        background: dt('listbox.disabled.background');
        color: dt('listbox.disabled.color');
    }

    .p-listbox.p-disabled .p-listbox-option {
        color: dt('listbox.disabled.color');
    }

    .p-listbox.p-invalid {
        border-color: dt('listbox.invalid.border.color');
    }

    .p-listbox-header {
        padding: dt('listbox.list.header.padding');
    }

    .p-listbox-filter {
        width: 100%;
    }

    .p-listbox-list-container {
        overflow: auto;
    }

    .p-listbox-list {
        list-style-type: none;
        margin: 0;
        padding: dt('listbox.list.padding');
        outline: 0 none;
        display: flex;
        flex-direction: column;
        gap: dt('listbox.list.gap');
    }

    .p-listbox-option {
        display: flex;
        align-items: center;
        cursor: pointer;
        position: relative;
        overflow: hidden;
        padding: dt('listbox.option.padding');
        border: 0 none;
        border-radius: dt('listbox.option.border.radius');
        color: dt('listbox.option.color');
        transition:
            background dt('listbox.transition.duration'),
            color dt('listbox.transition.duration'),
            border-color dt('listbox.transition.duration'),
            box-shadow dt('listbox.transition.duration'),
            outline-color dt('listbox.transition.duration');
    }

    .p-listbox-striped li:nth-child(even of .p-listbox-option) {
        background: dt('listbox.option.striped.background');
    }

    .p-listbox .p-listbox-list .p-listbox-option.p-listbox-option-selected {
        background: dt('listbox.option.selected.background');
        color: dt('listbox.option.selected.color');
    }

    .p-listbox:not(.p-disabled) .p-listbox-option.p-listbox-option-selected.p-focus {
        background: dt('listbox.option.selected.focus.background');
        color: dt('listbox.option.selected.focus.color');
    }

    .p-listbox:not(.p-disabled) .p-listbox-option:not(.p-listbox-option-selected):not(.p-disabled).p-focus {
        background: dt('listbox.option.focus.background');
        color: dt('listbox.option.focus.color');
    }

    .p-listbox:not(.p-disabled) .p-listbox-option:not(.p-listbox-option-selected):not(.p-disabled):hover {
        background: dt('listbox.option.focus.background');
        color: dt('listbox.option.focus.color');
    }

    .p-listbox-option-blank-icon {
        flex-shrink: 0;
    }

    .p-listbox-option-check-icon {
        position: relative;
        flex-shrink: 0;
        margin-inline-start: dt('listbox.checkmark.gutter.start');
        margin-inline-end: dt('listbox.checkmark.gutter.end');
        color: dt('listbox.checkmark.color');
    }

    .p-listbox-option-group {
        margin: 0;
        padding: dt('listbox.option.group.padding');
        color: dt('listbox.option.group.color');
        background: dt('listbox.option.group.background');
        font-weight: dt('listbox.option.group.font.weight');
    }

    .p-listbox-empty-message {
        padding: dt('listbox.empty.message.padding');
    }

    .p-listbox-fluid {
        width: 100%;
    }
`;var IR=["item"],TR=["group"],CR=["header"],FC=["filter"],SR=["footer"],MR=["emptyfilter"],kR=["empty"],ER=["filtericon"],PR=["checkicon"],DR=["checkmark"],LR=["loader"],AR=["headerchkbox"],OR=["lastHiddenFocusableElement"],FR=["firstHiddenFocusableElement"],VR=["scroller"],zR=["list"],RR=["container"],BR=[[["p-header"]],[["p-footer"]]],NR=["p-header","p-footer"],b_=(t,s)=>({$implicit:t,options:s}),hv=t=>({$implicit:t}),zC=t=>({options:t}),RC=()=>[],mv=t=>({height:t}),qR=()=>({}),HR=(t,s,e)=>({option:t,i:s,scrollerOptions:e}),jR=(t,s,e,i)=>({$implicit:t,index:s,selected:e,disabled:i}),GR=t=>({implicit:t});function UR(t,s){t&1&&nt(0)}function $R(t,s){if(t&1&&(A(0,"div"),Ei(1),z(2,UR,1,0,"ng-container",20),L()),t&2){let e=M();$(e.cx("header")),S(2),C("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)("ngTemplateOutletContext",ni(4,b_,e.modelValue(),e.visibleOptions()))}}function KR(t,s){}function WR(t,s){t&1&&z(0,KR,0,0,"ng-template")}function ZR(t,s){if(t&1&&z(0,WR,1,0,null,20),t&2){let e=M(4);C("ngTemplateOutlet",e.checkIconTemplate||e._checkIconTemplate)("ngTemplateOutletContext",ot(2,hv,e.allSelected()))}}function QR(t,s){t&1&&(Ke(0),z(1,ZR,1,4,"ng-template",null,5,ze),We())}function XR(t,s){if(t&1){let e=Be();A(0,"p-checkbox",23,4),we("onChange",function(n){Q(e);let a=M(2);return X(a.onToggleAll(n))}),z(2,QR,3,0,"ng-container",17),L()}if(t&2){let e=M(2);$(e.cx("optionCheckIcon")),C("ngModel",e.allSelected())("disabled",e.$disabled())("tabindex",-1)("variant",e.config.inputStyle()==="filled"||e.config.inputVariant()==="filled"?"filled":"outlined")("binary",!0),de("aria-label",e.toggleAllAriaLabel),S(2),C("ngIf",e.checkIconTemplate||e._checkIconTemplate)}}function YR(t,s){t&1&&nt(0)}function JR(t,s){if(t&1&&(Ke(0),z(1,YR,1,0,"ng-container",20),We()),t&2){let e=M(2);S(),C("ngTemplateOutlet",e.filterTemplate||e._filterTemplate)("ngTemplateOutletContext",ot(2,zC,e.filterOptions))}}function eB(t,s){t&1&&(at(),ae(0,"svg",27)),t&2&&de("aria-hidden",!0)}function tB(t,s){}function iB(t,s){t&1&&z(0,tB,0,0,"ng-template")}function nB(t,s){if(t&1&&(A(0,"span"),z(1,iB,1,0,null,28),L()),t&2){let e=M(4);de("aria-hidden",!0),S(),C("ngTemplateOutlet",e.filterIconTemplate||e._filterIconTemplate)}}function aB(t,s){if(t&1){let e=Be();A(0,"div")(1,"p-iconfield")(2,"input",25,6),we("input",function(n){Q(e);let a=M(3);return X(a.onFilterChange(n))})("keydown",function(n){Q(e);let a=M(3);return X(a.onFilterKeyDown(n))})("blur",function(n){Q(e);let a=M(3);return X(a.onFilterBlur(n))}),L(),A(4,"p-inputicon"),z(5,eB,1,1,"svg",26)(6,nB,2,2,"span",17),L()()()}if(t&2){let e=M(3);S(2),$(e.cx("pcFilter")),C("value",e._filterValue()||""),de("disabled",e.$disabled()?"":void 0)("aria-owns",e.id+"_list")("aria-activedescendant",e.focusedOptionId)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel)("tabindex",!e.$disabled()&&!e.focused?e.tabindex:-1),S(3),C("ngIf",!e.filterIconTemplate&&!e._filterIconTemplate),S(),C("ngIf",e.filterIconTemplate||e._filterIconTemplate)}}function oB(t,s){if(t&1&&(z(0,aB,7,11,"div",17),A(1,"span",24),ie(2),L()),t&2){let e=M(2);C("ngIf",e.filter),S(),de("aria-live","polite")("data-p-hidden-accessible",!0),S(),oi(" ",e.filterResultMessageText," ")}}function rB(t,s){if(t&1&&(A(0,"div"),z(1,XR,3,9,"p-checkbox",21)(2,JR,2,4,"ng-container",22)(3,oB,3,4,"ng-template",null,3,ze),L()),t&2){let e=Gt(4),i=M();$(i.cx("header")),S(),C("ngIf",i.checkbox&&i.multiple),S(),C("ngIf",i.filterTemplate||i._filterTemplate)("ngIfElse",e)}}function sB(t,s){if(t&1&&ie(0),t&2){let e=M(2);oi(" ",e.emptyFilterMessageText," ")}}function lB(t,s){t&1&&nt(0,null,7)}function cB(t,s){if(t&1&&z(0,lB,2,0,"ng-container",28),t&2){let e=M(2);C("ngTemplateOutlet",e.emptyFilterTemplate||e._emptyFilterTemplate||e._emptyTemplate||e.emptyTemplate)}}function dB(t,s){if(t&1){let e=Be();A(0,"div",29),we("cdkDropListDropped",function(n){Q(e);let a=M();return X(a.drop(n))}),Wi(1,sB,1,1)(2,cB,1,1,"ng-container"),L()}if(t&2){let e=M();$(e.cx("emptyMessage")),C("cdkDropListData",Zt(4,RC)),S(),Zi(!e.emptyFilterTemplate&&!e._emptyFilterTemplate&&!e._emptyTemplate&&!e.emptyTemplate?1:2)}}function uB(t,s){if(t&1&&ie(0),t&2){let e=M(2);oi(" ",e.emptyMessage," ")}}function pB(t,s){t&1&&nt(0,null,8)}function hB(t,s){if(t&1&&z(0,pB,2,0,"ng-container",28),t&2){let e=M(2);C("ngTemplateOutlet",e.emptyTemplate||e._emptyTemplate)}}function mB(t,s){if(t&1){let e=Be();A(0,"div",29),we("cdkDropListDropped",function(n){Q(e);let a=M();return X(a.drop(n))}),Wi(1,uB,1,1)(2,hB,1,1,"ng-container"),L()}if(t&2){let e=M();$(e.cx("emptyMessage")),C("cdkDropListData",Zt(4,RC)),S(),Zi(!e.emptyTemplate&&!e._emptyTemplate?1:2)}}function fB(t,s){t&1&&nt(0)}function gB(t,s){if(t&1&&z(0,fB,1,0,"ng-container",20),t&2){let e=s.$implicit,i=s.options;M(2);let n=Gt(3);C("ngTemplateOutlet",n)("ngTemplateOutletContext",ni(2,b_,e,i))}}function _B(t,s){t&1&&nt(0)}function bB(t,s){if(t&1&&z(0,_B,1,0,"ng-container",20),t&2){let e=s.options,i=M(4);C("ngTemplateOutlet",i.loaderTemplate||i._loaderTemplate)("ngTemplateOutletContext",ot(2,zC,e))}}function yB(t,s){t&1&&z(0,bB,1,4,"ng-template",null,12,ze)}function vB(t,s){if(t&1){let e=Be();A(0,"p-scroller",31,10),we("onLazyLoad",function(n){Q(e);let a=M(2);return X(a.onLazyLoad.emit(n))}),z(2,gB,1,5,"ng-template",null,11,ze),Wi(4,yB,2,0),L()}if(t&2){let e=M(2);Lt(ot(9,mv,e.scrollHeight)),C("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions)("tabindex",e.scrollerTabIndex),S(4),Zi(e.loaderTemplate||e._loaderTemplate?4:-1)}}function xB(t,s){t&1&&nt(0)}function wB(t,s){if(t&1&&(Ke(0),z(1,xB,1,0,"ng-container",20),We()),t&2){M();let e=Gt(3),i=M();S(),C("ngTemplateOutlet",e)("ngTemplateOutletContext",ni(3,b_,i.visibleOptions(),Zt(2,qR)))}}function IB(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(2).$implicit,i=M(3);S(),Et(i.getOptionGroupLabel(e.optionGroup))}}function TB(t,s){t&1&&nt(0)}function CB(t,s){if(t&1&&(Ke(0),A(1,"li",34),z(2,IB,2,1,"span",17)(3,TB,1,0,"ng-container",20),L(),We()),t&2){let e=M(),i=e.$implicit,n=e.index,a=M().options,u=M(2);S(),$(u.cx("optionGroup")),C("ngStyle",ot(9,mv,a.itemSize+"px"))("cdkDragData",i)("cdkDragDisabled",!u.dragdrop),de("id",u.id+"_"+u.getOptionIndex(n,a)),S(),C("ngIf",!u.groupTemplate&&!u._groupTemplate),S(),C("ngTemplateOutlet",u.groupTemplate||u._groupTemplate)("ngTemplateOutletContext",ot(11,hv,i.optionGroup))}}function SB(t,s){}function MB(t,s){t&1&&z(0,SB,0,0,"ng-template")}function kB(t,s){if(t&1&&z(0,MB,1,0,null,20),t&2){let e=M(4).$implicit,i=M(3);C("ngTemplateOutlet",i.checkIconTemplate||i._checkIconTemplate)("ngTemplateOutletContext",ot(2,hv,i.isSelected(e)))}}function EB(t,s){t&1&&(Ke(0),z(1,kB,1,4,"ng-template",null,5,ze),We())}function PB(t,s){if(t&1&&(A(0,"p-checkbox",37),z(1,EB,3,0,"ng-container",17),L()),t&2){let e=M(2).$implicit,i=M(3);$(i.cx("optionCheckIcon")),C("ngModel",i.isSelected(e))("readonly",!0)("disabled",i.$disabled()||i.isOptionDisabled(e))("tabindex",-1)("variant",i.config.inputStyle()==="filled"||i.config.inputVariant()==="filled"?"filled":"outlined")("binary",!0),S(),C("ngIf",i.checkIconTemplate||i._checkIconTemplate)}}function DB(t,s){if(t&1&&(at(),ae(0,"svg",40)),t&2){let e=M(7);$(e.cx("optionBlankIcon"))}}function LB(t,s){if(t&1&&(at(),ae(0,"svg",41)),t&2){let e=M(7);$(e.cx("optionCheckIcon"))}}function AB(t,s){if(t&1&&(Ke(0),z(1,DB,1,2,"svg",38)(2,LB,1,2,"svg",39),We()),t&2){let e=M(3).$implicit,i=M(3);S(),C("ngIf",!i.isSelected(e)),S(),C("ngIf",i.isSelected(e))}}function OB(t,s){t&1&&nt(0)}function FB(t,s){if(t&1&&(Ke(0),z(1,AB,3,2,"ng-container",17)(2,OB,1,0,"ng-container",20),We()),t&2){let e=M(2).$implicit,i=M(3);S(),C("ngIf",!i.checkmarkTemplate&&!i._checkmarkTemplate),S(),C("ngTemplateOutlet",i.checkmarkTemplate||i._checkmarkTemplate)("ngTemplateOutletContext",ot(3,GR,i.isSelected(e)))}}function VB(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(2).$implicit,i=M(3);S(),Et(i.getOptionLabel(e))}}function zB(t,s){t&1&&nt(0)}function RB(t,s){if(t&1){let e=Be();Ke(0),A(1,"li",35),we("click",function(n){Q(e);let a=M(),u=a.$implicit,b=a.index,T=M().options,D=M(2);return X(D.onOptionSelect(n,u,D.getOptionIndex(b,T)))})("dblclick",function(n){Q(e);let a=M().$implicit,u=M(3);return X(u.onOptionDoubleClick(n,a))})("mousedown",function(n){Q(e);let a=M().index,u=M().options,b=M(2);return X(b.onOptionMouseDown(n,b.getOptionIndex(a,u)))})("mouseenter",function(n){Q(e);let a=M().index,u=M().options,b=M(2);return X(b.onOptionMouseEnter(n,b.getOptionIndex(a,u)))})("touchend",function(){Q(e);let n=M(4);return X(n.onOptionTouchEnd())}),z(2,PB,2,9,"p-checkbox",36)(3,FB,3,5,"ng-container",17)(4,VB,2,1,"span",17)(5,zB,1,0,"ng-container",20),L(),We()}if(t&2){let e=M(),i=e.$implicit,n=e.index,a=M().options,u=M(2);S(),$(u.cx("option",Er(18,HR,i,n,a))),C("ngStyle",ot(22,mv,a.itemSize+"px"))("cdkDragData",i)("cdkDragDisabled",!u.dragdrop),de("id",u.id+"_"+u.getOptionIndex(n,a))("aria-label",u.getOptionLabel(i))("aria-selected",u.isSelected(i))("aria-disabled",u.isOptionDisabled(i))("aria-setsize",u.ariaSetSize)("ariaPosInset",u.getAriaPosInset(u.getOptionIndex(n,a)))("data-pc-section","item")("data-p-selected",u.isSelected(i)),S(),C("ngIf",u.checkbox&&u.multiple),S(),C("ngIf",u.checkmark),S(),C("ngIf",!u.itemTemplate&&!u._itemTemplate),S(),C("ngTemplateOutlet",u.itemTemplate||u._itemTemplate)("ngTemplateOutletContext",Nd(24,jR,i,u.getOptionIndex(n,a),u.isSelected(i),u.isOptionDisabled(i)))}}function BB(t,s){if(t&1&&z(0,CB,4,13,"ng-container",17)(1,RB,6,29,"ng-container",17),t&2){let e=s.$implicit,i=M(3);C("ngIf",i.isOptionGroup(e)),S(),C("ngIf",!i.isOptionGroup(e))}}function NB(t,s){if(t&1){let e=Be();A(0,"ul",32),we("focus",function(n){Q(e);let a=M(2);return X(a.onListFocus(n))})("blur",function(n){Q(e);let a=M(2);return X(a.onListBlur(n))})("keydown",function(n){Q(e);let a=M(2);return X(a.onListKeyDown(n))})("cdkDropListDropped",function(n){Q(e);let a=M(2);return X(a.drop(n))}),z(1,BB,2,2,"ng-template",33),L()}if(t&2){let e=s.$implicit,i=s.options,n=M(2);Lt(i.contentStyle),$(n.cx("list")),C("id",n.id+"_list")("tabindex",-1)("ngClass",i.contentStyleClass)("cdkDropListData",e),de("aria-multiselectable",!0)("aria-activedescendant",n.focused?n.focusedOptionId:void 0)("aria-label",n.ariaLabel)("aria-disabled",n.$disabled()),S(),C("ngForOf",e)}}function qB(t,s){if(t&1&&z(0,vB,5,11,"p-scroller",30)(1,wB,2,6,"ng-container",17)(2,NB,2,13,"ng-template",null,9,ze),t&2){let e=M();C("ngIf",e.virtualScroll),S(),C("ngIf",!e.virtualScroll)}}function HB(t,s){t&1&&nt(0)}function jB(t,s){if(t&1&&(A(0,"div"),Ei(1,1),z(2,HB,1,0,"ng-container",20),L()),t&2){let e=M();S(2),C("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)("ngTemplateOutletContext",ni(2,b_,e.modelValue(),e.visibleOptions()))}}function GB(t,s){if(t&1&&(A(0,"span",19),ie(1),L()),t&2){let e=M();S(),oi(" ",e.emptyMessage," ")}}var UB=`
    ${OC}

    /* For PrimeNG */
    .p-listbox.ng-invalid.ng-dirty {
        border-color: dt('listbox.invalid.border.color');
    }

    .p-listbox-header {
        display: flex;
        align-items: center;
    }
`,$B={root:({instance:t})=>["p-listbox p-component",{"p-listbox-striped":t.striped,"p-disabled":t.$disabled(),"p-invalid":t.invalid(),"p-listbox-fluid":t.fluid()}],header:"p-listbox-header",pcFilter:"p-listbox-filter",listContainer:"p-listbox-list-container",list:"p-listbox-list",optionGroup:"p-listbox-option-group",option:({instance:t,option:s,i:e,scrollerOptions:i})=>["p-listbox-option",{"p-listbox-option-selected":t.isSelected(s)&&t.highlightOnSelect,"p-focus":t.focusedOptionIndex()===t.getOptionIndex(e,i),"p-disabled":t.isOptionDisabled(s)}],optionCheckIcon:"p-listbox-option-check-icon",optionBlankIcon:"p-listbox-option-blank-icon",emptyMessage:"p-listbox-empty-message"},VC=(()=>{class t extends Rt{name="listbox";theme=UB;classes=$B;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var KB={provide:Oo,useExisting:Ki(()=>Fc),multi:!0},Fc=(()=>{class t extends lr{filterService;id;searchMessage;emptySelectionMessage;selectionMessage;autoOptionFocus=!0;ariaLabel;selectOnFocus;searchLocale;focusOnHover=!0;filterMessage;filterFields;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;scrollHeight="14rem";tabindex=0;multiple;styleClass;listStyle;listStyleClass;readonly;checkbox=!1;filter=!1;filterBy;filterMatchMode="contains";filterLocale;metaKeySelection=!1;dataKey;showToggleAll=!0;optionLabel;optionValue;optionGroupChildren="items";optionGroupLabel="label";optionDisabled;ariaFilterLabel;filterPlaceHolder;emptyFilterMessage;emptyMessage;group;get options(){return this._options()}set options(e){this._options.set(e)}get filterValue(){return this._filterValue()}set filterValue(e){this._filterValue.set(e)}get selectAll(){return this._selectAll}set selectAll(e){this._selectAll=e}striped=!1;highlightOnSelect=!0;checkmark=!1;dragdrop=!1;fluid=nn(void 0,{transform:ye});onChange=new Le;onClick=new Le;onDblClick=new Le;onFilter=new Le;onFocus=new Le;onBlur=new Le;onSelectAllChange=new Le;onLazyLoad=new Le;onDrop=new Le;headerCheckboxViewChild;filterViewChild;lastHiddenFocusableElement;firstHiddenFocusableElement;scroller;listViewChild;containerViewChild;headerFacet;footerFacet;itemTemplate;groupTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;filterIconTemplate;checkIconTemplate;checkmarkTemplate;loaderTemplate;templates;_itemTemplate;_groupTemplate;_headerTemplate;_filterTemplate;_footerTemplate;_emptyFilterTemplate;_emptyTemplate;_filterIconTemplate;_checkIconTemplate;_checkmarkTemplate;_loaderTemplate;_filterValue=gi(null);_filteredOptions;filterOptions;filtered;value;optionTouched;focus;headerCheckboxFocus;translationSubscription;focused;scrollerTabIndex="0";_componentStyle=Fe(VC);get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}get filterResultMessageText(){return Wt(this.visibleOptions())?this.filterMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptyFilterMessageText}get filterMessageText(){return this.filterMessage||this.config.translation.searchMessage||""}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptyFilterMessageText(){return this.emptyFilterMessage||this.config.translation.emptySearchMessage||this.config.translation.emptyFilterMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption()?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue().length:"1"):this.emptySelectionMessageText}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}get virtualScrollerDisabled(){return!this.virtualScroll}get searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}searchValue;searchTimeout;_selectAll=null;_options=gi(null);startRangeIndex=gi(-1);focusedOptionIndex=gi(-1);onHostFocusOut(e){this.onFocusout(e)}visibleOptions=Ai(()=>{let e=this.group?this.flatOptions(this._options()):this._options()||[];return this._filterValue()?this.filterService.filter(e,this.searchFields,this._filterValue(),this.filterMatchMode,this.filterLocale):e});constructor(e){super(),this.filterService=e}ngOnInit(){super.ngOnInit(),this.id=this.id||vi("pn_id_"),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterChange(e),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break;case"group":this._groupTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"filter":this._filterTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"empty":this._emptyTemplate=e.template;break;case"emptyfilter":this._emptyFilterTemplate=e.template;break;case"filtericon":this._filterIconTemplate=e.template;break;case"checkicon":this._checkIconTemplate=e.template;break;case"checkmark":this._checkmarkTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}flatOptions(e){return(e||[]).reduce((i,n,a)=>{i.push({optionGroup:n,group:!0,index:a});let u=this.getOptionGroupChildren(n);return u&&u.forEach(b=>i.push(b)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&!this.multiple){let e=this.findFirstFocusedOptionIndex();this.focusedOptionIndex.set(e),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()])}}updateModel(e,i){this.value=e,this.writeModelValue(e),this.onModelChange(e),this.onChange.emit({originalEvent:i,value:this.value})}removeOption(e){return this.modelValue().filter(i=>!Wa(i,this.getOptionValue(e),this.equalityKey()))}onOptionSelect(e,i,n=-1){this.$disabled()||this.isOptionDisabled(i)||this.readonly||(e&&this.onClick.emit({originalEvent:e,option:i,value:this.value}),this.multiple?this.onOptionSelectMultiple(e,i):this.onOptionSelectSingle(e,i),this.optionTouched=!1,n!==-1&&this.focusedOptionIndex.set(n))}onOptionSelectMultiple(e,i){let n=this.isSelected(i),a=null;if(this.optionTouched?!1:this.metaKeySelection){let b=e.metaKey||e.ctrlKey;n?a=b?this.removeOption(i):[this.getOptionValue(i)]:(a=b?this.modelValue()||[]:[],a=[...a,this.getOptionValue(i)])}else a=n?this.removeOption(i):[...this.modelValue()||[],this.getOptionValue(i)];this.updateModel(a,e)}onOptionSelectSingle(e,i){let n=this.isSelected(i),a=!1,u=null;if(this.optionTouched?!1:this.metaKeySelection){let T=e.metaKey||e.ctrlKey;n?T&&(u=null,a=!0):(u=this.getOptionValue(i),a=!0)}else u=n?null:this.getOptionValue(i),a=!0;a&&this.updateModel(u,e)}onOptionSelectRange(e,i=-1,n=-1){if(i===-1&&(i=this.findNearestSelectedOptionIndex(n,!0)),n===-1&&(n=this.findNearestSelectedOptionIndex(i)),i!==-1&&n!==-1){let a=Math.min(i,n),u=Math.max(i,n),b=this.visibleOptions().slice(a,u+1).filter(T=>this.isValidOption(T)).map(T=>this.getOptionValue(T));this.updateModel(b,e)}}onToggleAll(e){if(!(this.$disabled()||this.readonly))if($t(this.headerCheckboxViewChild.nativeElement),this.selectAll!==null)this.onSelectAllChange.emit({originalEvent:e,checked:!this.allSelected()});else{let i=this.allSelected()?[]:this.visibleOptions().filter(n=>this.isValidOption(n)).map(n=>this.getOptionValue(n));this.updateModel(i,e),this.onChange.emit({originalEvent:e,value:this.value})}}allSelected(){return this.selectAll!==null?this.selectAll:Wt(this.visibleOptions())&&this.visibleOptions().every(e=>this.isOptionGroup(e)||this.isOptionDisabled(e)||this.isSelected(e))}onOptionTouchEnd(){this.$disabled()||(this.optionTouched=!0)}onOptionMouseDown(e,i){this.changeFocusedOptionIndex(e,i)}onOptionMouseEnter(e,i){this.focusOnHover&&this.focused&&this.changeFocusedOptionIndex(e,i)}onOptionDoubleClick(e,i){this.$disabled()||this.isOptionDisabled(i)||this.readonly||this.onDblClick.emit({originalEvent:e,option:i,value:this.value})}onFirstHiddenFocus(e){$t(this.listViewChild?.nativeElement);let i=jd(this.el.nativeElement,':not([data-p-hidden-focusable="true"])');this.lastHiddenFocusableElement.nativeElement.tabIndex=hn(i)?"-1":void 0,this.firstHiddenFocusableElement.nativeElement.tabIndex=-1}onLastHiddenFocus(e){if(e.relatedTarget===this.listViewChild?.nativeElement){let n=jd(this.el.nativeElement,":not(.p-hidden-focusable)");$t(n),this.firstHiddenFocusableElement.nativeElement.tabIndex=void 0}else $t(this.firstHiddenFocusableElement.nativeElement);this.lastHiddenFocusableElement.nativeElement.tabIndex=-1}onFocusout(e){!this.el.nativeElement.contains(e.relatedTarget)&&this.lastHiddenFocusableElement&&this.firstHiddenFocusableElement&&(this.firstHiddenFocusableElement.nativeElement.tabIndex=this.lastHiddenFocusableElement.nativeElement.tabIndex=void 0,this.scrollerTabIndex="0")}onListFocus(e){this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex();this.focusedOptionIndex.set(i),this.scrollInView(i),this.onFocus.emit(e),this.scrollerTabIndex="-1"}onListBlur(e){this.focused=!1,this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.searchValue="",this.onBlur.emit(e)}onHeaderCheckboxKeyDown(e){if(this.$disabled()){e.preventDefault();return}switch(e.code){case"Space":this.onToggleAll(e);break;case"Enter":this.onToggleAll(e);break;case"Tab":this.onHeaderCheckboxTabKeyDown(e);break;default:break}}onHeaderCheckboxTabKeyDown(e){$t(this.listViewChild?.nativeElement),e.preventDefault()}onFilterChange(e){let i=e.target.value?.trim();this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0)}onFilterBlur(e){this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1)}onListKeyDown(e){let i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":case"NumpadEnter":this.onSpaceKey(e);break;case"Tab":break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(this.multiple&&e.code==="KeyA"&&i){let n=this.visibleOptions().filter(a=>this.isValidOption(a)).map(a=>this.getOptionValue(a));this.updateModel(n,e),e.preventDefault();break}!i&&or(e.key)&&(this.searchOptions(e,e.key),e.preventDefault());break}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":this.onEnterKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:break}}onArrowDownKey(e){let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex(),i),this.changeFocusedOptionIndex(e,i),e.preventDefault()}onArrowUpKey(e){let i=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,i,this.startRangeIndex()),this.changeFocusedOptionIndex(e,i),e.preventDefault()}onArrowLeftKey(e,i=!1){i&&this.focusedOptionIndex.set(-1)}onHomeKey(e,i=!1){if(i)e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex.set(-1);else{let n=e.metaKey||e.ctrlKey,a=this.findFirstOptionIndex();this.multiple&&e.shiftKey&&n&&this.onOptionSelectRange(e,a,this.startRangeIndex()),this.changeFocusedOptionIndex(e,a)}e.preventDefault()}onEndKey(e,i=!1){if(i){let n=e.currentTarget,a=n.value.length;n.setSelectionRange(a,a),this.focusedOptionIndex.set(-1)}else{let n=e.metaKey||e.ctrlKey,a=this.findLastOptionIndex();this.multiple&&e.shiftKey&&n&&this.onOptionSelectRange(e,this.startRangeIndex(),a),this.changeFocusedOptionIndex(e,a)}e.preventDefault()}onPageDownKey(e){this.scrollInView(0),e.preventDefault()}onPageUpKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onEnterKey(e){this.focusedOptionIndex()!==-1&&(this.multiple&&e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex()):this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()])),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onShiftKey(){let e=this.focusedOptionIndex();this.startRangeIndex.set(e)}getOptionGroupChildren(e){return this.optionGroupChildren?Vi(e,this.optionGroupChildren):e.items}getOptionGroupLabel(e){return this.optionGroupLabel?Vi(e,this.optionGroupLabel):e&&e.label!==void 0?e.label:e}getOptionLabel(e){return this.optionLabel?Vi(e,this.optionLabel):e.label!=null?e.label:e}getOptionIndex(e,i){return this.virtualScrollerDisabled?e:i&&i.getItemOptions(e).index}getOptionValue(e){return this.optionValue?Vi(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(i=>this.isOptionGroup(i)).length:e)+1}hasSelectedOption(){return Wt(this.modelValue())}isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group}changeFocusedOptionIndex(e,i){this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus&&!this.multiple&&this.onOptionSelect(e,this.visibleOptions()[i]))}searchOptions(e,i){this.searchValue=(this.searchValue||"")+i;let n=-1,a=!1;return this.focusedOptionIndex()!==-1?(n=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(u=>this.isOptionMatched(u)),n=n===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(u=>this.isOptionMatched(u)):n+this.focusedOptionIndex()):n=this.visibleOptions().findIndex(u=>this.isOptionMatched(u)),n!==-1&&(a=!0),n===-1&&this.focusedOptionIndex()===-1&&(n=this.findFirstFocusedOptionIndex()),n!==-1&&this.changeFocusedOptionIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),a}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedOptionId,n=ei(this.listViewChild?.nativeElement,`li[id="${i}"]`);n?n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||this.virtualScroll&&this.scroller.scrollToIndex(e!==-1?e:this.focusedOptionIndex())}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findLastOptionIndex(){return ta(this.visibleOptions(),e=>this.isValidOption(e))}findFirstFocusedOptionIndex(){let e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findLastFocusedOptionIndex(){let e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findLastSelectedOptionIndex(){return this.hasSelectedOption()?ta(this.visibleOptions(),e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let i=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(n=>this.isValidOption(n)):-1;return i>-1?i+e+1:e}findNextSelectedOptionIndex(e){let i=this.hasSelectedOption()&&e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(n=>this.isValidSelectedOption(n)):-1;return i>-1?i+e+1:-1}findPrevSelectedOptionIndex(e){let i=this.hasSelectedOption()&&e>0?ta(this.visibleOptions().slice(0,e),n=>this.isValidSelectedOption(n)):-1;return i>-1?i:-1}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findPrevOptionIndex(e){let i=e>0?ta(this.visibleOptions().slice(0,e),n=>this.isValidOption(n)):-1;return i>-1?i:e}findSelectedOptionIndex(){if(this.$filled)if(this.multiple)for(let e=this.modelValue().length-1;e>=0;e--){let i=this.modelValue()[e],n=this.visibleOptions().findIndex(a=>this.isValidSelectedOption(a)&&this.isEquals(i,this.getOptionValue(a)));if(n>-1)return n}else return this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e));return-1}findNearestSelectedOptionIndex(e,i=!1){let n=-1;return this.hasSelectedOption()&&(i?(n=this.findPrevSelectedOptionIndex(e),n=n===-1?this.findNextSelectedOptionIndex(e):n):(n=this.findNextSelectedOptionIndex(e),n=n===-1?this.findPrevSelectedOptionIndex(e):n)),n>-1?n:e}equalityKey(){return this.optionValue?null:this.dataKey}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isOptionDisabled(e){return Rw(this.optionDisabled)?this.optionDisabled(e):this.optionDisabled?Vi(e,this.optionDisabled):!1}isEquals(e,i){return Wa(e,i,this.equalityKey())}isSelected(e){let i=this.getOptionValue(e);return this.multiple?(this.modelValue()||[]).some(n=>this.isEquals(n,i)):this.isEquals(this.modelValue(),i)}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isEmpty(){return!this._options()?.length||!this.visibleOptions()?.length}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue.set(null)}drop(e){e&&this.onDrop.emit(e)}writeControlValue(e,i){this.value=e,i(this.value),this.cd.markForCheck()}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe(),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||t)(Dt(Hr))};static \u0275cmp=Je({type:t,selectors:[["p-listbox"],["p-listBox"],["p-list-box"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,dc,5),xe(a,Ps,5),xe(a,IR,4),xe(a,TR,4),xe(a,CR,4),xe(a,FC,4),xe(a,SR,4),xe(a,MR,4),xe(a,kR,4),xe(a,ER,4),xe(a,PR,4),xe(a,DR,4),xe(a,LR,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.headerFacet=u.first),se(u=le())&&(n.footerFacet=u.first),se(u=le())&&(n.itemTemplate=u.first),se(u=le())&&(n.groupTemplate=u.first),se(u=le())&&(n.headerTemplate=u.first),se(u=le())&&(n.filterTemplate=u.first),se(u=le())&&(n.footerTemplate=u.first),se(u=le())&&(n.emptyFilterTemplate=u.first),se(u=le())&&(n.emptyTemplate=u.first),se(u=le())&&(n.filterIconTemplate=u.first),se(u=le())&&(n.checkIconTemplate=u.first),se(u=le())&&(n.checkmarkTemplate=u.first),se(u=le())&&(n.loaderTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&(ut(AR,5),ut(FC,5),ut(OR,5),ut(FR,5),ut(VR,5),ut(zR,5),ut(RR,5)),i&2){let a;se(a=le())&&(n.headerCheckboxViewChild=a.first),se(a=le())&&(n.filterViewChild=a.first),se(a=le())&&(n.lastHiddenFocusableElement=a.first),se(a=le())&&(n.firstHiddenFocusableElement=a.first),se(a=le())&&(n.scroller=a.first),se(a=le())&&(n.listViewChild=a.first),se(a=le())&&(n.containerViewChild=a.first)}},hostVars:3,hostBindings:function(i,n){i&1&&we("focusout",function(u){return n.onHostFocusOut(u)}),i&2&&(de("id",n.id),$(n.cn(n.cx("root"),n.styleClass)))},inputs:{id:"id",searchMessage:"searchMessage",emptySelectionMessage:"emptySelectionMessage",selectionMessage:"selectionMessage",autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",ye],ariaLabel:"ariaLabel",selectOnFocus:[2,"selectOnFocus","selectOnFocus",ye],searchLocale:[2,"searchLocale","searchLocale",ye],focusOnHover:[2,"focusOnHover","focusOnHover",ye],filterMessage:"filterMessage",filterFields:"filterFields",lazy:[2,"lazy","lazy",ye],virtualScroll:[2,"virtualScroll","virtualScroll",ye],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",wt],virtualScrollOptions:"virtualScrollOptions",scrollHeight:"scrollHeight",tabindex:[2,"tabindex","tabindex",wt],multiple:[2,"multiple","multiple",ye],styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:[2,"readonly","readonly",ye],checkbox:[2,"checkbox","checkbox",ye],filter:[2,"filter","filter",ye],filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:[2,"metaKeySelection","metaKeySelection",ye],dataKey:"dataKey",showToggleAll:[2,"showToggleAll","showToggleAll",ye],optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:[2,"group","group",ye],options:"options",filterValue:"filterValue",selectAll:"selectAll",striped:[2,"striped","striped",ye],highlightOnSelect:[2,"highlightOnSelect","highlightOnSelect",ye],checkmark:[2,"checkmark","checkmark",ye],dragdrop:[2,"dragdrop","dragdrop",ye],fluid:[1,"fluid"]},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onSelectAllChange:"onSelectAllChange",onLazyLoad:"onLazyLoad",onDrop:"onDrop"},features:[_t([KB,VC,{provide:__,useValue:{zIndex:1200}}]),ft],ngContentSelectors:NR,decls:15,vars:15,consts:[["firstHiddenFocusableElement",""],["container",""],["lastHiddenFocusableElement",""],["builtInFilterElement",""],["headerchkbox",""],["icon",""],["filterInput",""],["emptyFilter",""],["empty",""],["buildInItems",""],["scroller",""],["content",""],["loader",""],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus","tabindex"],[3,"class",4,"ngIf"],[3,"ngStyle"],["cdkDropList","",3,"class","cdkDropListData"],[4,"ngIf"],["role","status","aria-live","polite","class","p-hidden-accessible",4,"ngIf"],["role","status","aria-live","polite",1,"p-hidden-accessible"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","ngModel","disabled","tabindex","variant","binary","onChange",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"onChange","ngModel","disabled","tabindex","variant","binary"],["role","status",1,"p-hidden-accessible"],["pInputText","","type","text","role","searchbox",3,"input","keydown","blur","value"],["data-p-icon","search",4,"ngIf"],["data-p-icon","search"],[4,"ngTemplateOutlet"],["cdkDropList","",3,"cdkDropListDropped","cdkDropListData"],[3,"items","style","itemSize","autoSize","lazy","options","tabindex","onLazyLoad",4,"ngIf"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options","tabindex"],["role","listbox","cdkDropList","",3,"focus","blur","keydown","cdkDropListDropped","id","tabindex","ngClass","cdkDropListData"],["ngFor","",3,"ngForOf"],["role","option","cdkDrag","",3,"ngStyle","cdkDragData","cdkDragDisabled"],["pRipple","","role","option","cdkDrag","",3,"click","dblclick","mousedown","mouseenter","touchend","ngStyle","cdkDragData","cdkDragDisabled"],[3,"class","ngModel","readonly","disabled","tabindex","variant","binary",4,"ngIf"],[3,"ngModel","readonly","disabled","tabindex","variant","binary"],["data-p-icon","blank",3,"class",4,"ngIf"],["data-p-icon","check",3,"class",4,"ngIf"],["data-p-icon","blank"],["data-p-icon","check"]],template:function(i,n){if(i&1){let a=Be();Ui(BR),A(0,"span",13,0),we("focus",function(b){return Q(a),X(n.onFirstHiddenFocus(b))}),L(),z(2,$R,3,7,"div",14)(3,rB,5,5,"div",14),A(4,"div",15,1),Wi(6,dB,3,5,"div",16)(7,mB,3,5,"div",16)(8,qB,4,2),L(),z(9,jB,3,5,"div",17)(10,GB,2,1,"span",18),A(11,"span",19),ie(12),L(),A(13,"span",13,2),we("focus",function(b){return Q(a),X(n.onLastHiddenFocus(b))}),L()}i&2&&(C("tabindex",n.$disabled()?-1:n.tabindex),de("data-p-hidden-focusable",!0),S(2),C("ngIf",n.headerFacet||n.headerTemplate||n._headerTemplate),S(),C("ngIf",n.checkbox&&n.multiple&&n.showToggleAll||n.filter),S(),$(n.cn(n.cx("listContainer"),n.listStyleClass)),Nn("max-height",n.virtualScroll?"auto":n.scrollHeight||"auto"),C("ngStyle",n.listStyle),S(2),Zi(n.hasFilter()&&n.isEmpty()?6:!n.hasFilter()&&n.isEmpty()?7:8),S(3),C("ngIf",n.footerFacet||n.footerTemplate||n._footerTemplate),S(),C("ngIf",n.isEmpty()),S(2),oi(" ",n.selectedMessageText," "),S(),C("tabindex",n.$disabled()?-1:n.tabindex),de("data-p-hidden-focusable",!0))},dependencies:[mt,ka,Bi,Ut,Yt,fi,sn,ls,dr,gp,Gr,fp,cr,ma,Ww,dn,ia,na,Ze,Gp,LC,PC],encapsulation:2,changeDetection:0})}return t})(),BC=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[Fc,Ze,Ze]})}return t})();var ZB=["*"],QB={root:"p-inputgroupaddon"},NC=(()=>{class t extends Rt{name="inputgroupaddon";classes=QB;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})(),fv=(()=>{class t extends Ot{style;styleClass;_componentStyle=Fe(NC);get hostStyle(){return this.style}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-inputgroup-addon"],["p-inputGroupAddon"]],hostVars:7,hostBindings:function(i,n){i&2&&(de("data-pc-name","inputgroupaddon"),Lt(n.hostStyle),$(n.styleClass),rc("p-inputgroupaddon",!0))},inputs:{style:"style",styleClass:"styleClass"},features:[_t([NC]),ft],ngContentSelectors:ZB,decls:1,vars:0,template:function(i,n){i&1&&(Ui(),Ei(0))},dependencies:[mt],encapsulation:2})}return t})(),qC=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[fv,Ze,Ze]})}return t})();var Gm=class t{getData(){return[{name:"Afghanistan",code:"AF"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"Andorra",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:'Cote D"Ivoire',code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic Of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:'Korea, Democratic People"S Republic of',code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:'Lao People"S Democratic Republic',code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"RWANDA",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia and Montenegro",code:"CS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}]}getCountries(){return Promise.resolve(this.getData())}static \u0275fac=function(e){return new(e||t)};static \u0275prov=yt({token:t,factory:t.\u0275fac})};var Vc=class t{getTreeNodesData(){return[{key:"0",label:"Documents",data:"Documents Folder",icon:"pi pi-fw pi-inbox",children:[{key:"0-0",label:"Work",data:"Work Folder",icon:"pi pi-fw pi-cog",children:[{key:"0-0-0",label:"Expenses.doc",icon:"pi pi-fw pi-file",data:"Expenses Document"},{key:"0-0-1",label:"Resume.doc",icon:"pi pi-fw pi-file",data:"Resume Document"}]},{key:"0-1",label:"Home",data:"Home Folder",icon:"pi pi-fw pi-home",children:[{key:"0-1-0",label:"Invoices.txt",icon:"pi pi-fw pi-file",data:"Invoices for this month"}]}]},{key:"1",label:"Events",data:"Events Folder",icon:"pi pi-fw pi-calendar",children:[{key:"1-0",label:"Meeting",icon:"pi pi-fw pi-calendar-plus",data:"Meeting"},{key:"1-1",label:"Product Launch",icon:"pi pi-fw pi-calendar-plus",data:"Product Launch"},{key:"1-2",label:"Report Review",icon:"pi pi-fw pi-calendar-plus",data:"Report Review"}]},{key:"2",label:"Movies",data:"Movies Folder",icon:"pi pi-fw pi-star-fill",children:[{key:"2-0",icon:"pi pi-fw pi-star-fill",label:"Al Pacino",data:"Pacino Movies",children:[{key:"2-0-0",label:"Scarface",icon:"pi pi-fw pi-video",data:"Scarface Movie"},{key:"2-0-1",label:"Serpico",icon:"pi pi-fw pi-video",data:"Serpico Movie"}]},{key:"2-1",label:"Robert De Niro",icon:"pi pi-fw pi-star-fill",data:"De Niro Movies",children:[{key:"2-1-0",label:"Goodfellas",icon:"pi pi-fw pi-video",data:"Goodfellas Movie"},{key:"2-1-1",label:"Untouchables",icon:"pi pi-fw pi-video",data:"Untouchables Movie"}]}]}]}getTreeTableNodesData(){return[{key:"0",data:{name:"Applications",size:"100kb",type:"Folder"},children:[{key:"0-0",data:{name:"Angular",size:"25kb",type:"Folder"},children:[{key:"0-0-0",data:{name:"angular.app",size:"10kb",type:"Application"}},{key:"0-0-1",data:{name:"native.app",size:"10kb",type:"Application"}},{key:"0-0-2",data:{name:"mobile.app",size:"5kb",type:"Application"}}]},{key:"0-1",data:{name:"editor.app",size:"25kb",type:"Application"}},{key:"0-2",data:{name:"settings.app",size:"50kb",type:"Application"}}]},{key:"1",data:{name:"Cloud",size:"20kb",type:"Folder"},children:[{key:"1-0",data:{name:"backup-1.zip",size:"10kb",type:"Zip"}},{key:"1-1",data:{name:"backup-2.zip",size:"10kb",type:"Zip"}}]},{key:"2",data:{name:"Desktop",size:"150kb",type:"Folder"},children:[{key:"2-0",data:{name:"note-meeting.txt",size:"50kb",type:"Text"}},{key:"2-1",data:{name:"note-todo.txt",size:"100kb",type:"Text"}}]},{key:"3",data:{name:"Documents",size:"75kb",type:"Folder"},children:[{key:"3-0",data:{name:"Work",size:"55kb",type:"Folder"},children:[{key:"3-0-0",data:{name:"Expenses.doc",size:"30kb",type:"Document"}},{key:"3-0-1",data:{name:"Resume.doc",size:"25kb",type:"Resume"}}]},{key:"3-1",data:{name:"Home",size:"20kb",type:"Folder"},children:[{key:"3-1-0",data:{name:"Invoices",size:"20kb",type:"Text"}}]}]},{key:"4",data:{name:"Downloads",size:"25kb",type:"Folder"},children:[{key:"4-0",data:{name:"Spanish",size:"10kb",type:"Folder"},children:[{key:"4-0-0",data:{name:"tutorial-a1.txt",size:"5kb",type:"Text"}},{key:"4-0-1",data:{name:"tutorial-a2.txt",size:"5kb",type:"Text"}}]},{key:"4-1",data:{name:"Travel",size:"15kb",type:"Text"},children:[{key:"4-1-0",data:{name:"Hotel.pdf",size:"10kb",type:"PDF"}},{key:"4-1-1",data:{name:"Flight.pdf",size:"5kb",type:"PDF"}}]}]},{key:"5",data:{name:"Main",size:"50kb",type:"Folder"},children:[{key:"5-0",data:{name:"bin",size:"50kb",type:"Link"}},{key:"5-1",data:{name:"etc",size:"100kb",type:"Link"}},{key:"5-2",data:{name:"var",size:"100kb",type:"Link"}}]},{key:"6",data:{name:"Other",size:"5kb",type:"Folder"},children:[{key:"6-0",data:{name:"todo.txt",size:"3kb",type:"Text"}},{key:"6-1",data:{name:"logo.png",size:"2kb",type:"Picture"}}]},{key:"7",data:{name:"Pictures",size:"150kb",type:"Folder"},children:[{key:"7-0",data:{name:"barcelona.jpg",size:"90kb",type:"Picture"}},{key:"7-1",data:{name:"primeng.png",size:"30kb",type:"Picture"}},{key:"7-2",data:{name:"prime.jpg",size:"30kb",type:"Picture"}}]},{key:"8",data:{name:"Videos",size:"1500kb",type:"Folder"},children:[{key:"8-0",data:{name:"primefaces.mkv",size:"1000kb",type:"Video"}},{key:"8-1",data:{name:"intro.avi",size:"500kb",type:"Video"}}]}]}getLazyNodesData(){return[{label:"Lazy Node 0",data:"Node 0",expandedIcon:"pi pi-folder-open",collapsedIcon:"pi pi-folder",leaf:!1},{label:"Lazy Node 1",data:"Node 1",expandedIcon:"pi pi-folder-open",collapsedIcon:"pi pi-folder",leaf:!1},{label:"Lazy Node 1",data:"Node 2",expandedIcon:"pi pi-folder-open",collapsedIcon:"pi pi-folder",leaf:!1}]}getFileSystemNodesData(){return[{data:{name:"Applications",size:"200mb",type:"Folder"},children:[{data:{name:"Angular",size:"25mb",type:"Folder"},children:[{data:{name:"angular.app",size:"10mb",type:"Application"}},{data:{name:"cli.app",size:"10mb",type:"Application"}},{data:{name:"mobile.app",size:"5mb",type:"Application"}}]},{data:{name:"editor.app",size:"25mb",type:"Application"}},{data:{name:"settings.app",size:"50mb",type:"Application"}}]},{data:{name:"Cloud",size:"20mb",type:"Folder"},children:[{data:{name:"backup-1.zip",size:"10mb",type:"Zip"}},{data:{name:"backup-2.zip",size:"10mb",type:"Zip"}}]},{data:{name:"Desktop",size:"150kb",type:"Folder"},children:[{data:{name:"note-meeting.txt",size:"50kb",type:"Text"}},{data:{name:"note-todo.txt",size:"100kb",type:"Text"}}]},{data:{name:"Documents",size:"75kb",type:"Folder"},children:[{data:{name:"Work",size:"55kb",type:"Folder"},children:[{data:{name:"Expenses.doc",size:"30kb",type:"Document"}},{data:{name:"Resume.doc",size:"25kb",type:"Resume"}}]},{data:{name:"Home",size:"20kb",type:"Folder"},children:[{data:{name:"Invoices",size:"20kb",type:"Text"}}]}]},{data:{name:"Downloads",size:"25mb",type:"Folder"},children:[{data:{name:"Spanish",size:"10mb",type:"Folder"},children:[{data:{name:"tutorial-a1.txt",size:"5mb",type:"Text"}},{data:{name:"tutorial-a2.txt",size:"5mb",type:"Text"}}]},{data:{name:"Travel",size:"15mb",type:"Text"},children:[{data:{name:"Hotel.pdf",size:"10mb",type:"PDF"}},{data:{name:"Flight.pdf",size:"5mb",type:"PDF"}}]}]},{data:{name:"Main",size:"50mb",type:"Folder"},children:[{data:{name:"bin",size:"50kb",type:"Link"}},{data:{name:"etc",size:"100kb",type:"Link"}},{data:{name:"var",size:"100kb",type:"Link"}}]},{data:{name:"Other",size:"5mb",type:"Folder"},children:[{data:{name:"todo.txt",size:"3mb",type:"Text"}},{data:{name:"logo.png",size:"2mb",type:"Picture"}}]},{data:{name:"Pictures",size:"150kb",type:"Folder"},children:[{data:{name:"barcelona.jpg",size:"90kb",type:"Picture"}},{data:{name:"primeng.png",size:"30kb",type:"Picture"}},{data:{name:"prime.jpg",size:"30kb",type:"Picture"}}]},{data:{name:"Videos",size:"1500mb",type:"Folder"},children:[{data:{name:"primefaces.mkv",size:"1000mb",type:"Video"}},{data:{name:"intro.avi",size:"500mb",type:"Video"}}]}]}getDynamicTreeNodes(s,e){let i=[];for(let n=0;n<s;n++){let a=[];for(let u=0;u<e;u++)a.push({key:`${n}-${u}`,label:`Child ${n}-${u}`,selectable:!0});i.push({key:n.toString(),label:`Parent ${n}`,selectable:!0,children:a})}return i}getLargeTreeNodes(){return Promise.resolve(this.getDynamicTreeNodes(10,100))}getTreeTableNodes(){return Promise.resolve(this.getTreeTableNodesData())}getTreeNodes(){return Promise.resolve(this.getTreeNodesData())}getFiles(){return Promise.resolve(this.getTreeNodesData())}getLazyFiles(){return Promise.resolve(this.getLazyNodesData())}getFilesystem(){return Promise.resolve(this.getFileSystemNodesData())}static \u0275fac=function(e){return new(e||t)};static \u0275prov=yt({token:t,factory:t.\u0275fac})};var tN=()=>({width:"2rem"}),iN=()=>({width:"10em"}),nN=(t,s)=>s.code;function aN(t,s){if(t&1&&(A(0,"div",56),ae(1,"span",57),A(2,"div"),ie(3),L()()),t&2){let e=s.$implicit;S(),$("mr-2 flag flag-"+e.code.toLowerCase()),S(2),Et(e.name)}}function oN(t,s){if(t&1&&bw(0,aN,4,3,"div",56,nN),t&2){let e=s.$implicit;yw(e)}}function rN(t,s){if(t&1&&(A(0,"div",26),ae(1,"span",57),A(2,"div"),ie(3),L()()),t&2){let e=s.$implicit;S(),$("mr-2 flag flag-"+e.code.toLowerCase()),S(2),Et(e.name)}}var y_=class t{floatValue=null;autoValue;autoFilteredValue=[];selectedAutoValue=null;calendarValue=null;inputNumberValue=null;sliderValue=50;ratingValue=null;colorValue="#1976D2";radioValue=null;checkboxValue=[];switchValue=!1;listboxValues=[{name:"New York",code:"NY"},{name:"Rome",code:"RM"},{name:"London",code:"LDN"},{name:"Istanbul",code:"IST"},{name:"Paris",code:"PRS"}];listboxValue=null;dropdownValues=[{name:"New York",code:"NY"},{name:"Rome",code:"RM"},{name:"London",code:"LDN"},{name:"Istanbul",code:"IST"},{name:"Paris",code:"PRS"}];dropdownValue=null;multiselectCountries=[{name:"Australia",code:"AU"},{name:"Brazil",code:"BR"},{name:"China",code:"CN"},{name:"Egypt",code:"EG"},{name:"France",code:"FR"},{name:"Germany",code:"DE"},{name:"India",code:"IN"},{name:"Japan",code:"JP"},{name:"Spain",code:"ES"},{name:"United States",code:"US"}];multiselectSelectedCountries;toggleValue=!1;selectButtonValue=null;selectButtonValues=[{name:"Option 1"},{name:"Option 2"},{name:"Option 3"}];knobValue=50;inputGroupValue=!1;treeSelectNodes;selectedNode=null;countryService=Fe(Gm);nodeService=Fe(Vc);ngOnInit(){this.countryService.getCountries().then(s=>{this.autoValue=s}),this.nodeService.getFiles().then(s=>this.treeSelectNodes=s)}filterCountry(s){let e=[],i=s.query;for(let n=0;n<this.autoValue.length;n++){let a=this.autoValue[n];a.name.toLowerCase().indexOf(i.toLowerCase())==0&&e.push(a)}this.autoFilteredValue=e}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Je({type:t,selectors:[["app-input-demo"]],features:[_t([Gm,Vc])],decls:138,vars:45,consts:[["selecteditems",""],["item",""],[1,"flex","flex-col","md:flex-row","gap-8"],[1,"md:w-1/2"],[1,"card","flex","flex-col","gap-4"],[1,"font-semibold","text-xl"],[1,"flex","flex-col","md:flex-row","gap-4"],["pInputText","","type","text","placeholder","Default"],["pInputText","","type","text","placeholder","Disabled",3,"disabled"],["pInputText","","type","text","placeholder","Invalid",1,"ng-dirty","ng-invalid"],[1,"pi","pi-user"],["pInputText","","type","text","placeholder","Username"],["iconPosition","left"],["pInputText","","type","text","placeholder","Search"],[1,"pi","pi-search"],["pInputText","","id","username","type","text",3,"ngModelChange","ngModel"],["for","username"],["pTextarea","","placeholder","Your Message","rows","3","cols","30",3,"autoResize"],["optionLabel","name","placeholder","Search","dropdown","","multiple","","display","chip",3,"ngModelChange","completeMethod","ngModel","suggestions"],[3,"ngModelChange","showIcon","showButtonBar","ngModel"],["showButtons","","mode","decimal",3,"ngModelChange","ngModel"],["pInputText","","type","number",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[1,"flex","flex-row","mt-6"],[1,"flex","flex-col","gap-4","w-1/2"],["valueTemplate","{value}%",3,"ngModelChange","ngModel","step","min","max"],[1,"flex","items-center"],["id","option1","name","option","value","Chicago",3,"ngModelChange","ngModel"],["for","option1",1,"leading-none","ml-2"],["id","option2","name","option","value","Los Angeles",3,"ngModelChange","ngModel"],["for","option2",1,"leading-none","ml-2"],["id","option3","name","option","value","New York",3,"ngModelChange","ngModel"],["for","option3",1,"leading-none","ml-2"],["id","checkOption1","name","option","value","Chicago",3,"ngModelChange","ngModel"],["for","checkOption1",1,"ml-2"],["id","checkOption2","name","option","value","Los Angeles",3,"ngModelChange","ngModel"],["for","checkOption2",1,"ml-2"],["id","checkOption3","name","option","value","New York",3,"ngModelChange","ngModel"],["for","checkOption3",1,"ml-2"],["optionLabel","name",3,"ngModelChange","ngModel","options","filter"],["optionLabel","name","placeholder","Select",3,"ngModelChange","ngModel","options"],["placeholder","Select Countries","optionLabel","name","display","chip",3,"ngModelChange","options","ngModel","filter"],["placeholder","Select Item",3,"ngModelChange","ngModel","options"],["onLabel","Yes","offLabel","No",3,"ngModelChange","ngModel"],["optionLabel","name",3,"ngModelChange","ngModel","options"],[1,"flex","mt-8"],[1,"card","flex","flex-col","gap-6","w-full"],[1,"flex","flex-col","md:flex-row","gap-6"],["pInputText","","placeholder","Username"],[1,"pi","pi-clock"],[1,"pi","pi-star-fill"],["placeholder","Price"],["label","Search"],["pInputText","","placeholder","Keyword"],[3,"ngModelChange","ngModel","binary"],["pInputText","","placeholder","Confirm"],[1,"inline-flex","items-center","py-1","px-2","bg-primary","text-primary-contrast","rounded-border","mr-2"],[2,"width","18px","height","12px"]],template:function(e,i){if(e&1){let n=Be();A(0,"p-fluid",2)(1,"div",3)(2,"div",4)(3,"div",5),ie(4,"InputText"),L(),A(5,"div",6),ae(6,"input",7)(7,"input",8)(8,"input",9),L(),A(9,"div",5),ie(10,"Icons"),L(),A(11,"p-iconfield"),ae(12,"p-inputicon",10)(13,"input",11),L(),A(14,"p-iconfield",12),ae(15,"input",13)(16,"p-inputicon",14),L(),A(17,"div",5),ie(18,"Float Label"),L(),A(19,"p-floatlabel")(20,"input",15),ci("ngModelChange",function(u){return Q(n),li(i.floatValue,u)||(i.floatValue=u),X(u)}),L(),A(21,"label",16),ie(22,"Username"),L()(),A(23,"div",5),ie(24,"Textarea"),L(),ae(25,"textarea",17),A(26,"div",5),ie(27,"AutoComplete"),L(),A(28,"p-autocomplete",18),ci("ngModelChange",function(u){return Q(n),li(i.selectedAutoValue,u)||(i.selectedAutoValue=u),X(u)}),we("completeMethod",function(u){return Q(n),X(i.filterCountry(u))}),L(),A(29,"div",5),ie(30,"DatePicker"),L(),A(31,"p-datepicker",19),ci("ngModelChange",function(u){return Q(n),li(i.calendarValue,u)||(i.calendarValue=u),X(u)}),L(),A(32,"div",5),ie(33,"InputNumber"),L(),A(34,"p-inputnumber",20),ci("ngModelChange",function(u){return Q(n),li(i.inputNumberValue,u)||(i.inputNumberValue=u),X(u)}),L()(),A(35,"div",4)(36,"div",5),ie(37,"Slider"),L(),A(38,"input",21),ci("ngModelChange",function(u){return Q(n),li(i.sliderValue,u)||(i.sliderValue=u),X(u)}),L(),A(39,"p-slider",22),ci("ngModelChange",function(u){return Q(n),li(i.sliderValue,u)||(i.sliderValue=u),X(u)}),L(),A(40,"div",23)(41,"div",24)(42,"div",5),ie(43,"Rating"),L(),A(44,"p-rating",22),ci("ngModelChange",function(u){return Q(n),li(i.ratingValue,u)||(i.ratingValue=u),X(u)}),L()(),A(45,"div",24)(46,"div",5),ie(47,"ColorPicker"),L(),A(48,"p-colorpicker",22),ci("ngModelChange",function(u){return Q(n),li(i.colorValue,u)||(i.colorValue=u),X(u)}),L()()(),A(49,"div",5),ie(50,"Knob"),L(),A(51,"p-knob",25),ci("ngModelChange",function(u){return Q(n),li(i.knobValue,u)||(i.knobValue=u),X(u)}),L()()(),A(52,"div",3)(53,"div",4)(54,"div",5),ie(55,"RadioButton"),L(),A(56,"div",6)(57,"div",26)(58,"p-radiobutton",27),ci("ngModelChange",function(u){return Q(n),li(i.radioValue,u)||(i.radioValue=u),X(u)}),L(),A(59,"label",28),ie(60,"Chicago"),L()(),A(61,"div",26)(62,"p-radiobutton",29),ci("ngModelChange",function(u){return Q(n),li(i.radioValue,u)||(i.radioValue=u),X(u)}),L(),A(63,"label",30),ie(64,"Los Angeles"),L()(),A(65,"div",26)(66,"p-radiobutton",31),ci("ngModelChange",function(u){return Q(n),li(i.radioValue,u)||(i.radioValue=u),X(u)}),L(),A(67,"label",32),ie(68,"New York"),L()()(),A(69,"div",5),ie(70,"Checkbox"),L(),A(71,"div",6)(72,"div",26)(73,"p-checkbox",33),ci("ngModelChange",function(u){return Q(n),li(i.checkboxValue,u)||(i.checkboxValue=u),X(u)}),L(),A(74,"label",34),ie(75,"Chicago"),L()(),A(76,"div",26)(77,"p-checkbox",35),ci("ngModelChange",function(u){return Q(n),li(i.checkboxValue,u)||(i.checkboxValue=u),X(u)}),L(),A(78,"label",36),ie(79,"Los Angeles"),L()(),A(80,"div",26)(81,"p-checkbox",37),ci("ngModelChange",function(u){return Q(n),li(i.checkboxValue,u)||(i.checkboxValue=u),X(u)}),L(),A(82,"label",38),ie(83,"New York"),L()()(),A(84,"div",5),ie(85,"ToggleSwitch"),L(),A(86,"p-toggleswitch",22),ci("ngModelChange",function(u){return Q(n),li(i.switchValue,u)||(i.switchValue=u),X(u)}),L()(),A(87,"div",4)(88,"div",5),ie(89,"Listbox"),L(),A(90,"p-listbox",39),ci("ngModelChange",function(u){return Q(n),li(i.listboxValue,u)||(i.listboxValue=u),X(u)}),L(),A(91,"div",5),ie(92,"Select"),L(),A(93,"p-select",40),ci("ngModelChange",function(u){return Q(n),li(i.dropdownValue,u)||(i.dropdownValue=u),X(u)}),L(),A(94,"div",5),ie(95,"MultiSelect"),L(),A(96,"p-multiselect",41),ci("ngModelChange",function(u){return Q(n),li(i.multiselectSelectedCountries,u)||(i.multiselectSelectedCountries=u),X(u)}),z(97,oN,2,0,"ng-template",null,0,ze)(99,rN,4,3,"ng-template",null,1,ze),L(),A(101,"div",5),ie(102,"TreeSelect"),L(),A(103,"p-treeselect",42),ci("ngModelChange",function(u){return Q(n),li(i.selectedNode,u)||(i.selectedNode=u),X(u)}),L()(),A(104,"div",4)(105,"div",5),ie(106,"ToggleButton"),L(),A(107,"p-togglebutton",43),ci("ngModelChange",function(u){return Q(n),li(i.toggleValue,u)||(i.toggleValue=u),X(u)}),L(),A(108,"div",5),ie(109,"SelectButton"),L(),A(110,"p-selectbutton",44),ci("ngModelChange",function(u){return Q(n),li(i.selectButtonValue,u)||(i.selectButtonValue=u),X(u)}),L()()()(),A(111,"p-fluid",45)(112,"div",46)(113,"div",5),ie(114,"InputGroup"),L(),A(115,"div",47)(116,"p-inputgroup")(117,"p-inputgroup-addon"),ae(118,"i",10),L(),ae(119,"input",48),L(),A(120,"p-inputgroup")(121,"p-inputgroup-addon"),ae(122,"i",49),L(),A(123,"p-inputgroup-addon"),ae(124,"i",50),L(),ae(125,"p-inputnumber",51),A(126,"p-inputgroup-addon"),ie(127,"$"),L(),A(128,"p-inputgroup-addon"),ie(129,".00"),L()()(),A(130,"div",47)(131,"p-inputgroup"),ae(132,"p-button",52)(133,"input",53),L(),A(134,"p-inputgroup")(135,"p-inputgroup-addon")(136,"p-checkbox",54),ci("ngModelChange",function(u){return Q(n),li(i.inputGroupValue,u)||(i.inputGroupValue=u),X(u)}),L()(),ae(137,"input",55),L()()()()}e&2&&(S(7),C("disabled",!0),S(13),si("ngModel",i.floatValue),S(5),C("autoResize",!0),S(3),si("ngModel",i.selectedAutoValue),C("suggestions",i.autoFilteredValue),S(3),C("showIcon",!0)("showButtonBar",!0),si("ngModel",i.calendarValue),S(3),si("ngModel",i.inputNumberValue),S(4),si("ngModel",i.sliderValue),S(),si("ngModel",i.sliderValue),S(5),si("ngModel",i.ratingValue),S(4),Lt(Zt(43,tN)),si("ngModel",i.colorValue),S(3),si("ngModel",i.knobValue),C("step",10)("min",-50)("max",50),S(7),si("ngModel",i.radioValue),S(4),si("ngModel",i.radioValue),S(4),si("ngModel",i.radioValue),S(7),si("ngModel",i.checkboxValue),S(4),si("ngModel",i.checkboxValue),S(4),si("ngModel",i.checkboxValue),S(5),si("ngModel",i.switchValue),S(4),si("ngModel",i.listboxValue),C("options",i.listboxValues)("filter",!0),S(3),si("ngModel",i.dropdownValue),C("options",i.dropdownValues),S(3),C("options",i.multiselectCountries),si("ngModel",i.multiselectSelectedCountries),C("filter",!0),S(7),si("ngModel",i.selectedNode),C("options",i.treeSelectNodes),S(4),Lt(Zt(44,iN)),si("ngModel",i.toggleValue),S(3),si("ngModel",i.selectButtonValue),C("options",i.selectButtonValues),S(26),si("ngModel",i.inputGroupValue),C("binary",!0))},dependencies:[mt,dn,bp,e3,ia,na,Fo,ma,zi,Gi,l3,Gr,f3,m3,K0,$0,vT,$y,mp,Ds,gc,cr,_c,dr,IT,Ky,kT,t_,h3,p3,i_,Np,og,ag,OT,n_,zT,a_,yc,bc,u3,d3,U0,G0,NT,o_,QT,s_,c_,Hp,BC,Fc,qC,fv,ng,ig],encapsulation:2})};var HC=`
    .p-dataview {
        position: relative;
        border-color: dt('dataview.border.color');
        border-width: dt('dataview.border.width');
        border-style: solid;
        border-radius: dt('dataview.border.radius');
        padding: dt('dataview.padding');
    }

    .p-dataview-header {
        background: dt('dataview.header.background');
        color: dt('dataview.header.color');
        border-color: dt('dataview.header.border.color');
        border-width: dt('dataview.header.border.width');
        border-style: solid;
        padding: dt('dataview.header.padding');
        border-radius: dt('dataview.header.border.radius');
    }

    .p-dataview-content {
        background: dt('dataview.content.background');
        border-color: dt('dataview.content.border.color');
        border-width: dt('dataview.content.border.width');
        border-style: solid;
        color: dt('dataview.content.color');
        padding: dt('dataview.content.padding');
        border-radius: dt('dataview.content.border.radius');
    }

    .p-dataview-footer {
        background: dt('dataview.footer.background');
        color: dt('dataview.footer.color');
        border-color: dt('dataview.footer.border.color');
        border-width: dt('dataview.footer.border.width');
        border-style: solid;
        padding: dt('dataview.footer.padding');
        border-radius: dt('dataview.footer.border.radius');
    }

    .p-dataview-paginator-top {
        border-width: dt('dataview.paginator.top.border.width');
        border-color: dt('dataview.paginator.top.border.color');
        border-style: solid;
    }

    .p-dataview-paginator-bottom {
        border-width: dt('dataview.paginator.bottom.border.width');
        border-color: dt('dataview.paginator.bottom.border.color');
        border-style: solid;
    }

    .p-dataview-loading-overlay {
        position: absolute;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 2;
    }
`;var lN=["list"],cN=["grid"],dN=["header"],uN=["emptymessage"],pN=["footer"],hN=["paginatorleft"],mN=["paginatorright"],fN=["paginatordropdownitem"],gN=["loadingicon"],_N=["listicon"],bN=["gridicon"],yN=[[["p-header"]],[["p-footer"]]],vN=["p-header","p-footer"],xN=()=>({position:"top"}),GC=t=>({$implicit:t}),wN=()=>({position:"bottom"});function IN(t,s){if(t&1&&ae(0,"i"),t&2){let e=M(2);$(e.cn(e.cx("loadingIcon"),"pi-spin"+e.loadingIcon))}}function TN(t,s){if(t&1&&(at(),ae(0,"svg",6)),t&2){let e=M(3);$(e.cx("loadingIcon")),C("spin",!0)}}function CN(t,s){}function SN(t,s){t&1&&z(0,CN,0,0,"ng-template")}function MN(t,s){if(t&1&&(Ke(0),z(1,TN,1,3,"svg",4)(2,SN,1,0,null,5),We()),t&2){let e=M(2);S(),C("ngIf",!e.loadingicon),S(),C("ngTemplateOutlet",e.loadingicon)}}function kN(t,s){if(t&1&&(A(0,"div")(1,"div"),z(2,IN,1,2,"i",1)(3,MN,3,2,"ng-container",3),L()()),t&2){let e=M();$(e.cx("loading")),S(),$(e.cx("loadingOverlay")),S(),C("ngIf",e.loadingIcon),S(),C("ngIf",!e.loadingIcon)}}function EN(t,s){t&1&&nt(0)}function PN(t,s){if(t&1&&(A(0,"div"),Ei(1),z(2,EN,1,0,"ng-container",5),L()),t&2){let e=M();$(e.cx("header")),S(2),C("ngTemplateOutlet",e.headerTemplate)}}function DN(t,s){if(t&1){let e=Be();A(0,"p-paginator",7),we("onPageChange",function(n){Q(e);let a=M();return X(a.paginate(n))}),L()}if(t&2){let e=M();C("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("styleClass",e.cx("pcPaginator",Zt(18,xN)))("rowsPerPageOptions",e.rowsPerPageOptions)("appendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("templateLeft",e.paginatorleft)("templateRight",e.paginatorright)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatordropdownitem)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("styleClass",e.paginatorStyleClass)}}function LN(t,s){t&1&&nt(0)}function AN(t,s){if(t&1&&(z(0,LN,1,0,"ng-container",8),sc(1,"slice")),t&2){let e=M();C("ngTemplateOutlet",e.listTemplate)("ngTemplateOutletContext",ot(6,GC,e.paginator?pm(1,2,e.filteredValue||e.value,e.lazy?0:e.first,(e.lazy?0:e.first)+e.rows):e.filteredValue||e.value))}}function ON(t,s){t&1&&nt(0)}function FN(t,s){if(t&1&&(z(0,ON,1,0,"ng-container",8),sc(1,"slice")),t&2){let e=M();C("ngTemplateOutlet",e.gridTemplate)("ngTemplateOutletContext",ot(6,GC,e.paginator?pm(1,2,e.filteredValue||e.value,e.lazy?0:e.first,(e.lazy?0:e.first)+e.rows):e.filteredValue||e.value))}}function VN(t,s){if(t&1&&(Ke(0),ie(1),We()),t&2){let e=M(2);S(),oi(" ",e.emptyMessageLabel," ")}}function zN(t,s){t&1&&nt(0,null,0)}function RN(t,s){if(t&1&&(A(0,"div")(1,"div"),z(2,VN,2,1,"ng-container",9)(3,zN,2,0,"ng-container",5),L()()),t&2){let e=M();S(),$(e.cx("emptyMessage")),S(),C("ngIf",!e.emptymessageTemplate)("ngIfElse",e.empty),S(),C("ngTemplateOutlet",e.emptymessageTemplate)}}function BN(t,s){if(t&1){let e=Be();A(0,"p-paginator",7),we("onPageChange",function(n){Q(e);let a=M();return X(a.paginate(n))}),L()}if(t&2){let e=M();C("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("styleClass",e.cx("pcPaginator",Zt(18,wN)))("rowsPerPageOptions",e.rowsPerPageOptions)("appendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("templateLeft",e.paginatorleft)("templateRight",e.paginatorright)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatordropdownitem)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("styleClass",e.paginatorStyleClass)}}function NN(t,s){t&1&&nt(0)}function qN(t,s){if(t&1&&(A(0,"div"),Ei(1,1),z(2,NN,1,0,"ng-container",5),L()),t&2){let e=M();$(e.cx("footer")),S(2),C("ngTemplateOutlet",e.footerTemplate)}}var HN={root:({instance:t})=>["p-dataview p-component",{"p-dataview-list":t.layout==="list","p-dataview-grid":t.layout==="grid"}],header:"p-dataview-header",loading:"p-dataview-loading",loadingOverlay:"p-dataview-loading-overlay p-overlay-mask",loadingIcon:"p-dataview-loading-icon",pcPaginator:({position:t})=>"p-dataview-paginator-"+t,content:"p-dataview-content",emptyMessage:"p-dataview-empty-message",footer:"p-dataview-footer"},jC=(()=>{class t extends Rt{name="dataview";theme=HC;classes=HN;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var bv=(()=>{class t extends Ot{paginator;rows;totalRecords;pageLinks=5;rowsPerPageOptions;paginatorPosition="bottom";paginatorStyleClass;alwaysShowPaginator=!0;paginatorDropdownAppendTo;paginatorDropdownScrollHeight="200px";currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showFirstLastIcon=!0;showPageLinks=!0;lazy;lazyLoadOnInit=!0;emptyMessage="";styleClass;gridStyleClass="";trackBy=(e,i)=>i;filterBy;filterLocale;loading;loadingIcon;first=0;sortField;sortOrder;value;layout="list";onLazyLoad=new Le;onPage=new Le;onSort=new Le;onChangeLayout=new Le;listTemplate;gridTemplate;headerTemplate;emptymessageTemplate;footerTemplate;paginatorleft;paginatorright;paginatordropdownitem;loadingicon;listicon;gridicon;header;footer;_value;filteredValue;filterValue;initialized;_layout="list";translationSubscription;_componentStyle=Fe(jC);get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(yo.EMPTY_MESSAGE)}filterService=Fe(Hr);ngOnInit(){super.ngOnInit(),this.lazy&&this.lazyLoadOnInit&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.initialized=!0}ngAfterViewInit(){super.ngAfterViewInit()}ngOnChanges(e){super.ngOnChanges(e),e.layout&&!e.layout.firstChange&&this.onChangeLayout.emit({layout:e.layout.currentValue}),e.value&&(this._value=e.value.currentValue,this.updateTotalRecords(),!this.lazy&&this.hasFilter()&&this.filter(this.filterValue)),(e.sortField||e.sortOrder)&&(!this.lazy||this.initialized)&&this.sort()}updateTotalRecords(){this.totalRecords=this.lazy?this.totalRecords:this._value?this._value.length:0}paginate(e){this.first=e.first,this.rows=e.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows})}sort(){this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.value.sort((e,i)=>{let n=Vi(e,this.sortField),a=Vi(i,this.sortField),u=null;return n==null&&a!=null?u=-1:n!=null&&a==null?u=1:n==null&&a==null?u=0:typeof n=="string"&&typeof a=="string"?u=n.localeCompare(a):u=n<a?-1:n>a?1:0,this.sortOrder*u}),this.hasFilter()&&this.filter(this.filterValue)),this.onSort.emit({sortField:this.sortField,sortOrder:this.sortOrder})}isEmpty(){let e=this.filteredValue||this.value;return e==null||e.length==0}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder}}getBlockableElement(){return this.el.nativeElement.children[0]}filter(e,i="contains"){if(this.filterValue=e,this.value&&this.value.length){let n=this.filterBy.split(",");this.filteredValue=this.filterService.filter(this.value,n,e,i,this.filterLocale),this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.first=0,this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0),this.cd.markForCheck()}}hasFilter(){return this.filterValue&&this.filterValue.trim().length>0}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe(),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-dataView"],["p-dataview"],["p-data-view"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,lN,5),xe(a,cN,5),xe(a,dN,5),xe(a,uN,5),xe(a,pN,5),xe(a,hN,5),xe(a,mN,5),xe(a,fN,5),xe(a,gN,5),xe(a,_N,5),xe(a,bN,5),xe(a,dc,5),xe(a,Ps,5)),i&2){let u;se(u=le())&&(n.listTemplate=u.first),se(u=le())&&(n.gridTemplate=u.first),se(u=le())&&(n.headerTemplate=u.first),se(u=le())&&(n.emptymessageTemplate=u.first),se(u=le())&&(n.footerTemplate=u.first),se(u=le())&&(n.paginatorleft=u.first),se(u=le())&&(n.paginatorright=u.first),se(u=le())&&(n.paginatordropdownitem=u.first),se(u=le())&&(n.loadingicon=u.first),se(u=le())&&(n.listicon=u.first),se(u=le())&&(n.gridicon=u.first),se(u=le())&&(n.header=u.first),se(u=le())&&(n.footer=u.first)}},hostVars:2,hostBindings:function(i,n){i&2&&$(n.cn(n.cx("root"),n.styleClass))},inputs:{paginator:[2,"paginator","paginator",ye],rows:[2,"rows","rows",wt],totalRecords:[2,"totalRecords","totalRecords",wt],pageLinks:[2,"pageLinks","pageLinks",wt],rowsPerPageOptions:"rowsPerPageOptions",paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",alwaysShowPaginator:[2,"alwaysShowPaginator","alwaysShowPaginator",ye],paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[2,"showCurrentPageReport","showCurrentPageReport",ye],showJumpToPageDropdown:[2,"showJumpToPageDropdown","showJumpToPageDropdown",ye],showFirstLastIcon:[2,"showFirstLastIcon","showFirstLastIcon",ye],showPageLinks:[2,"showPageLinks","showPageLinks",ye],lazy:[2,"lazy","lazy",ye],lazyLoadOnInit:[2,"lazyLoadOnInit","lazyLoadOnInit",ye],emptyMessage:"emptyMessage",styleClass:"styleClass",gridStyleClass:"gridStyleClass",trackBy:"trackBy",filterBy:"filterBy",filterLocale:"filterLocale",loading:[2,"loading","loading",ye],loadingIcon:"loadingIcon",first:[2,"first","first",wt],sortField:"sortField",sortOrder:[2,"sortOrder","sortOrder",wt],value:"value",layout:"layout"},outputs:{onLazyLoad:"onLazyLoad",onPage:"onPage",onSort:"onSort",onChangeLayout:"onChangeLayout"},features:[_t([jC]),ft,Eo],ngContentSelectors:vN,decls:9,vars:10,consts:[["empty",""],[3,"class",4,"ngIf"],[3,"rows","first","totalRecords","pageLinkSize","alwaysShow","styleClass","rowsPerPageOptions","appendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],[4,"ngIf"],["data-p-icon","spinner",3,"spin","class",4,"ngIf"],[4,"ngTemplateOutlet"],["data-p-icon","spinner",3,"spin"],[3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","styleClass","rowsPerPageOptions","appendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"]],template:function(i,n){i&1&&(Ui(yN),z(0,kN,4,6,"div",1)(1,PN,3,3,"div",1)(2,DN,1,19,"p-paginator",2),A(3,"div"),Wi(4,AN,2,8,"ng-container"),Wi(5,FN,2,8,"ng-container"),z(6,RN,4,5,"div",3),L(),z(7,BN,1,19,"p-paginator",2)(8,qN,3,3,"div",1)),i&2&&(C("ngIf",n.loading),S(),C("ngIf",n.header||n.headerTemplate),S(),C("ngIf",n.paginator&&(n.paginatorPosition==="top"||n.paginatorPosition=="both")),S(),$(n.cx("content")),S(),Zi(n.layout==="list"?4:-1),S(),Zi(n.layout==="grid"?5:-1),S(),C("ngIf",n.isEmpty()&&!n.loading),S(),C("ngIf",n.paginator&&(n.paginatorPosition==="bottom"||n.paginatorPosition=="both")),S(),C("ngIf",n.footer||n.footerTemplate))},dependencies:[mt,Ut,Yt,Z0,W0,As,Ze,kw],encapsulation:2,changeDetection:0})}return t})(),UC=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[bv,Ze,Ze]})}return t})();var $C=`
    .p-orderlist {
        display: flex;
        gap: dt('orderlist.gap');
    }

    .p-orderlist .p-listbox {
        flex: 1 1 auto;
    }

    .p-orderlist-controls {
        display: flex;
        flex-direction: column;
        justify-content: center;
        gap: dt('orderlist.controls.gap');
    }
`;var GN=["item"],UN=["empty"],$N=["emptyfilter"],KC=["filter"],KN=["header"],WN=["moveupicon"],ZN=["movetopicon"],QN=["movedownicon"],XN=["movebottomicon"],YN=["filtericon"],JN=["listelement"],eq=(t,s,e)=>({$implicit:t,selected:s,index:e});function tq(t,s){t&1&&(at(),ae(0,"svg",13)),t&2&&de("data-pc-section","moveupicon")}function iq(t,s){}function nq(t,s){t&1&&z(0,iq,0,0,"ng-template")}function aq(t,s){t&1&&(at(),ae(0,"svg",14)),t&2&&de("data-pc-section","movetopicon")}function oq(t,s){}function rq(t,s){t&1&&z(0,oq,0,0,"ng-template")}function sq(t,s){t&1&&(at(),ae(0,"svg",15)),t&2&&de("data-pc-section","movedownicon")}function lq(t,s){}function cq(t,s){t&1&&z(0,lq,0,0,"ng-template")}function dq(t,s){t&1&&(at(),ae(0,"svg",16)),t&2&&de("data-pc-section","movebottomicon")}function uq(t,s){}function pq(t,s){t&1&&z(0,uq,0,0,"ng-template")}function hq(t,s){}function mq(t,s){t&1&&z(0,hq,0,0,"ng-template")}function fq(t,s){if(t&1&&z(0,mq,1,0,null,7),t&2){let e=M(2);C("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)}}function gq(t,s){t&1&&(Ke(0),z(1,fq,1,1,"ng-template",null,1,ze),We())}function _q(t,s){}function bq(t,s){t&1&&z(0,_q,0,0,"ng-template")}function yq(t,s){if(t&1&&z(0,bq,1,0,null,17),t&2){let e=s.$implicit,i=s.selected,n=s.index,a=M(2);C("ngTemplateOutlet",a.itemTemplate||a._itemTemplate)("ngTemplateOutletContext",Er(2,eq,e,i,n))}}function vq(t,s){t&1&&(Ke(0),z(1,yq,1,6,"ng-template",null,2,ze),We())}function xq(t,s){}function wq(t,s){t&1&&z(0,xq,0,0,"ng-template")}function Iq(t,s){if(t&1&&z(0,wq,1,0,null,7),t&2){let e=M(2);C("ngTemplateOutlet",e.emptyMessageTemplate||e._emptyMessageTemplate)}}function Tq(t,s){t&1&&(Ke(0),z(1,Iq,1,1,"ng-template",null,3,ze),We())}function Cq(t,s){}function Sq(t,s){t&1&&z(0,Cq,0,0,"ng-template")}function Mq(t,s){if(t&1&&z(0,Sq,1,0,null,7),t&2){let e=M(2);C("ngTemplateOutlet",e.emptyFilterMessageTemplate||e._emptyFilterMessageTemplate)}}function kq(t,s){t&1&&(Ke(0),z(1,Mq,1,1,"ng-template",null,4,ze),We())}var Eq={root:()=>["p-orderlist p-component"],controls:"p-orderlist-controls"},WC=(()=>{class t extends Rt{name="orderlist";theme=$C;classes=Eq;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var yv=(()=>{class t extends Ot{header;styleClass;tabindex;ariaLabel;ariaLabelledBy;listStyle;responsive;filterBy;filterPlaceholder;filterLocale;metaKeySelection=!1;dragdrop=!1;controlsPosition="left";ariaFilterLabel;filterMatchMode="contains";breakpoint="960px";stripedRows;disabled;trackBy=(e,i)=>i;scrollHeight="14rem";autoOptionFocus=!0;set selection(e){this.d_selection=e}get selection(){return this.d_selection}set value(e){this._value=e,this.filterValue&&this.filter()}get value(){return this._value}buttonProps={severity:"secondary"};moveUpButtonProps;moveTopButtonProps;moveDownButtonProps;moveBottomButtonProps;selectionChange=new Le;onReorder=new Le;onSelectionChange=new Le;onFilterEvent=new Le;onFocus=new Le;onBlur=new Le;listViewChild;filterViewChild;itemTemplate;emptyMessageTemplate;emptyFilterMessageTemplate;filterTemplate;headerTemplate;moveUpIconTemplate;moveTopIconTemplate;moveDownIconTemplate;moveBottomIconTemplate;filterIconTemplate;get moveUpAriaLabel(){return this.config.translation.aria?this.config.translation.aria.moveUp:void 0}get moveTopAriaLabel(){return this.config.translation.aria?this.config.translation.aria.moveTop:void 0}get moveDownAriaLabel(){return this.config.translation.aria?this.config.translation.aria.moveDown:void 0}get moveBottomAriaLabel(){return this.config.translation.aria?this.config.translation.aria.moveBottom:void 0}_componentStyle=Fe(WC);filterOptions;d_selection=[];movedUp;movedDown;itemTouched;styleElement;id=vi("pn_id_");filterValue;visibleOptions;_value;filterService=Fe(Hr);getButtonProps(e){switch(e){case"up":return ri(ri({},this.buttonProps),this.moveUpButtonProps);case"top":return ri(ri({},this.buttonProps),this.moveTopButtonProps);case"down":return ri(ri({},this.buttonProps),this.moveDownButtonProps);case"bottom":return ri(ri({},this.buttonProps),this.moveBottomButtonProps);default:return this.buttonProps}}ngOnInit(){super.ngOnInit(),this.responsive&&this.createStyle(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterKeyup(e),reset:()=>this.resetFilter()})}templates;_itemTemplate;_emptyMessageTemplate;_emptyFilterMessageTemplate;_filterTemplate;_headerTemplate;_moveUpIconTemplate;_moveTopIconTemplate;_moveDownIconTemplate;_moveBottomIconTemplate;_filterIconTemplate;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break;case"empty":this._emptyMessageTemplate=e.template;break;case"emptyfilter":this._emptyFilterMessageTemplate=e.template;break;case"filter":this._filterTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"moveupicon":this._moveUpIconTemplate=e.template;break;case"movetopicon":this._moveTopIconTemplate=e.template;break;case"movedownicon":this._moveDownIconTemplate=e.template;break;case"movebottomicon":this._moveBottomIconTemplate=e.template;break;case"filtericon":this._filterIconTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}onChangeSelection(e){this.d_selection=e.value,this.selectionChange.emit(e.value),this.onSelectionChange.emit({originalEvent:e.originalEvent,value:e.value})}onFilterKeyup(e){this.filterValue=e.target.value.trim().toLocaleLowerCase(this.filterLocale),this.filter(),this.onFilterEvent.emit({originalEvent:e,value:this.visibleOptions})}filter(){let e=this.filterBy.split(",");this.visibleOptions=this.filterService.filter(this.value,e,this.filterValue,this.filterMatchMode,this.filterLocale)}resetFilter(){this.filterValue=null,this.filterViewChild&&(this.filterViewChild.nativeElement.value="")}isItemVisible(e){if(this.filterValue&&this.filterValue.trim().length){for(let i=0;i<this.visibleOptions.length;i++)if(e==this.visibleOptions[i])return!0}else return!0}isSelected(e){return xn(e,this.d_selection)!==-1}isEmpty(){return this.filterValue?!this.visibleOptions||this.visibleOptions.length===0:!this.value||this.value.length===0}moveUp(){if(this.selection){for(let e=0;e<this.selection.length;e++){let i=this.selection[e],n=xn(i,this.value);if(n!=0&&this.value instanceof Array){let a=this.value[n],u=this.value[n-1];this.value[n-1]=a,this.value[n]=u}else break}this.dragdrop&&this.filterValue&&this.filter(),this.movedUp=!0,this.onReorder.emit(this.selection)}this.listViewChild?.cd?.markForCheck()}moveTop(){if(this.selection){for(let e=this.selection.length-1;e>=0;e--){let i=this.selection[e],n=xn(i,this.value);if(n!=0&&this.value instanceof Array){let a=this.value.splice(n,1)[0];this.value.unshift(a)}else break}this.dragdrop&&this.filterValue&&this.filter(),this.onReorder.emit(this.selection),setTimeout(()=>{this.listViewChild.scrollInView(0)})}this.listViewChild?.cd?.markForCheck()}moveDown(){if(this.selection){for(let e=this.selection.length-1;e>=0;e--){let i=this.selection[e],n=xn(i,this.value);if(this.value instanceof Array&&n!=this.value.length-1){let a=this.value[n],u=this.value[n+1];this.value[n+1]=a,this.value[n]=u}else break}this.dragdrop&&this.filterValue&&this.filter(),this.movedDown=!0,this.onReorder.emit(this.selection)}this.listViewChild?.cd?.markForCheck()}moveBottom(){if(this.selection){for(let e=0;e<this.selection.length;e++){let i=this.selection[e],n=xn(i,this.value);if(this.value instanceof Array&&n!=this.value.length-1){let a=this.value.splice(n,1)[0];this.value.push(a)}else break}this.dragdrop&&this.filterValue&&this.filter(),this.onReorder.emit(this.selection),this.listViewChild.scrollInView(this.value?.length-1)}this.listViewChild?.cd?.markForCheck()}onDrop(e){let i=e.previousIndex,n=e.currentIndex;i!==n&&(this.visibleOptions&&(this.filterValue&&(i=xn(e.item.data,this.value),n=xn(this.visibleOptions[n],this.value)),Oc(this.visibleOptions,e.previousIndex,e.currentIndex)),Oc(this.value,i,n),this.onReorder.emit([e.item.data]))}onListFocus(e){this.onFocus.emit(e)}onListBlur(e){this.onBlur.emit(e)}getVisibleOptions(){return this.visibleOptions&&this.visibleOptions.length>0?this.visibleOptions:this.value&&this.value.length>0?this.value:null}moveDisabled(){if(this.disabled||!this.selection.length)return!0}createStyle(){if(ii(this.platformId)&&!this.styleElement){this.renderer.setAttribute(this.el.nativeElement.children[0],this.id,""),this.styleElement=this.renderer.createElement("style"),this.renderer.setAttribute(this.styleElement,"type","text/css"),this.renderer.appendChild(this.document.head,this.styleElement);let e=`
                    @media screen and (max-width: ${this.breakpoint}) {
                        .p-orderlist[${this.attrSelector}] {
                            flex-direction: column;
                        }

                        .p-orderlist[${this.attrSelector}] .p-orderlist-controls {
                            padding: var(--content-padding);
                            flex-direction: row;
                        }

                        .p-orderlist[${this.attrSelector}] .p-orderlist-controls .p-button {
                            margin-right: var(--inline-spacing);
                            margin-bottom: 0;
                        }

                        .p-orderlist[${this.attrSelector}] .p-orderlist-controls .p-button:last-child {
                            margin-right: 0;
                        }
                    }
                `;this.renderer.setProperty(this.styleElement,"innerHTML",e),rs(this.styleElement,"nonce",this.config?.csp()?.nonce)}}destroyStyle(){ii(this.platformId)&&this.styleElement&&(this.renderer.removeChild(this.document,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.destroyStyle(),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-orderList"],["p-orderlist"],["p-order-list"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,GN,4),xe(a,UN,4),xe(a,$N,4),xe(a,KC,4),xe(a,KN,4),xe(a,WN,4),xe(a,ZN,4),xe(a,QN,4),xe(a,XN,4),xe(a,YN,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.itemTemplate=u.first),se(u=le())&&(n.emptyMessageTemplate=u.first),se(u=le())&&(n.emptyFilterMessageTemplate=u.first),se(u=le())&&(n.filterTemplate=u.first),se(u=le())&&(n.headerTemplate=u.first),se(u=le())&&(n.moveUpIconTemplate=u.first),se(u=le())&&(n.moveTopIconTemplate=u.first),se(u=le())&&(n.moveDownIconTemplate=u.first),se(u=le())&&(n.moveBottomIconTemplate=u.first),se(u=le())&&(n.filterIconTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&(ut(JN,5),ut(KC,5)),i&2){let a;se(a=le())&&(n.listViewChild=a.first),se(a=le())&&(n.filterViewChild=a.first)}},hostVars:3,hostBindings:function(i,n){i&2&&(de("data-pc-section","root"),$(n.cn(n.cx("root"),n.styleClass)))},inputs:{header:"header",styleClass:"styleClass",tabindex:[2,"tabindex","tabindex",wt],ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",listStyle:"listStyle",responsive:[2,"responsive","responsive",ye],filterBy:"filterBy",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",metaKeySelection:[2,"metaKeySelection","metaKeySelection",ye],dragdrop:[2,"dragdrop","dragdrop",ye],controlsPosition:"controlsPosition",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",breakpoint:"breakpoint",stripedRows:[2,"stripedRows","stripedRows",ye],disabled:[2,"disabled","disabled",ye],trackBy:"trackBy",scrollHeight:"scrollHeight",autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",ye],selection:"selection",value:"value",buttonProps:"buttonProps",moveUpButtonProps:"moveUpButtonProps",moveTopButtonProps:"moveTopButtonProps",moveDownButtonProps:"moveDownButtonProps",moveBottomButtonProps:"moveBottomButtonProps"},outputs:{selectionChange:"selectionChange",onReorder:"onReorder",onSelectionChange:"onSelectionChange",onFilterEvent:"onFilterEvent",onFocus:"onFocus",onBlur:"onBlur"},features:[_t([WC]),ft],decls:19,vars:48,consts:[["listelement",""],["header",""],["item",""],["empty",""],["emptyfilter",""],["type","button","pButton","","pRipple","",3,"click","disabled","buttonProps"],["data-p-icon","angle-up","pButtonIcon","",4,"ngIf"],[4,"ngTemplateOutlet"],["data-p-icon","angle-double-up","pButtonIcon","",4,"ngIf"],["data-p-icon","angle-down","pButtonIcon","",4,"ngIf"],["data-p-icon","angle-double-down","pButtonIcon","",4,"ngIf"],["optionLabel","name",3,"ngModelChange","onFocus","onBlur","onChange","onDrop","multiple","options","ngModel","id","listStyle","striped","tabindex","ariaLabel","disabled","metaKeySelection","scrollHeight","autoOptionFocus","filter","filterBy","filterLocale","filterPlaceHolder","dragdrop"],[4,"ngIf"],["data-p-icon","angle-up","pButtonIcon",""],["data-p-icon","angle-double-up","pButtonIcon",""],["data-p-icon","angle-down","pButtonIcon",""],["data-p-icon","angle-double-down","pButtonIcon",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){if(i&1){let a=Be();A(0,"div")(1,"button",5),we("click",function(){return Q(a),X(n.moveUp())}),z(2,tq,1,1,"svg",6)(3,nq,1,0,null,7),L(),A(4,"button",5),we("click",function(){return Q(a),X(n.moveTop())}),z(5,aq,1,1,"svg",8)(6,rq,1,0,null,7),L(),A(7,"button",5),we("click",function(){return Q(a),X(n.moveDown())}),z(8,sq,1,1,"svg",9)(9,cq,1,0,null,7),L(),A(10,"button",5),we("click",function(){return Q(a),X(n.moveBottom())}),z(11,dq,1,1,"svg",10)(12,pq,1,0,null,7),L()(),A(13,"p-listbox",11,0),ci("ngModelChange",function(b){return Q(a),li(n.d_selection,b)||(n.d_selection=b),X(b)}),we("onFocus",function(b){return Q(a),X(n.onListFocus(b))})("onBlur",function(b){return Q(a),X(n.onListBlur(b))})("onChange",function(b){return Q(a),X(n.onChangeSelection(b))})("onDrop",function(b){return Q(a),X(n.onDrop(b))}),z(15,gq,3,0,"ng-container",12)(16,vq,3,0,"ng-container",12)(17,Tq,3,0,"ng-container",12)(18,kq,3,0,"ng-container",12),L()}i&2&&($(n.cx("controls")),de("data-pc-section","controls"),S(),C("disabled",n.moveDisabled())("buttonProps",n.getButtonProps("up")),de("aria-label",n.moveUpAriaLabel)("data-pc-section","moveUpButton"),S(),C("ngIf",!n.moveUpIconTemplate&&!n._moveUpIconTemplate),S(),C("ngTemplateOutlet",n.moveUpIconTemplate||n._moveUpIconTemplate),S(),C("disabled",n.moveDisabled())("buttonProps",n.getButtonProps("top")),de("aria-label",n.moveTopAriaLabel)("data-pc-section","moveTopButton"),S(),C("ngIf",!n.moveTopIconTemplate&&!n._moveTopIconTemplate),S(),C("ngTemplateOutlet",n.moveTopIconTemplate||n._moveTopIconTemplate),S(),C("disabled",n.moveDisabled())("buttonProps",n.getButtonProps("down")),de("aria-label",n.moveDownAriaLabel)("data-pc-section","moveDownButton"),S(),C("ngIf",!n.moveDownIconTemplate&&!n._moveDownIconTemplate),S(),C("ngTemplateOutlet",n.moveDownIconTemplate||n._moveDownIconTemplate),S(),C("disabled",n.moveDisabled())("buttonProps",n.getButtonProps("bottom")),de("aria-label",n.moveBottomAriaLabel)("data-pc-section","moveBottomButton"),S(),C("ngIf",!n.moveBottomIconTemplate&&!n._moveBottomIconTemplate),S(),C("ngTemplateOutlet",n.moveBottomIconTemplate||n._moveBottomIconTemplate),S(),C("multiple",!0)("options",n.value),si("ngModel",n.d_selection),C("id",n.id+"_list")("listStyle",n.listStyle)("striped",n.stripedRows)("tabindex",n.tabindex)("ariaLabel",n.ariaLabel)("disabled",n.disabled)("metaKeySelection",n.metaKeySelection)("scrollHeight",n.scrollHeight)("autoOptionFocus",n.autoOptionFocus)("filter",n.filterBy)("filterBy",n.filterBy)("filterLocale",n.filterLocale)("filterPlaceHolder",n.filterPlaceholder)("dragdrop",n.dragdrop),S(2),C("ngIf",n.headerTemplate||n._headerTemplate),S(),C("ngIf",n.itemTemplate||n._itemTemplate),S(),C("ngIf",n.emptyMessageTemplate||n._emptyMessageTemplate),S(),C("ngIf",n.emptyFilterMessageTemplate||n._emptyFilterMessageTemplate))},dependencies:[mt,Ut,Yt,zi,Os,j0,sn,Gp,rg,sg,q0,hc,Fc,dn,ia,na,Ze],encapsulation:2,changeDetection:0})}return t})(),ZC=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[yv,Ze,Ze]})}return t})();var QC=`
    .p-picklist {
        display: flex;
        gap: dt('picklist.gap');
    }

    .p-picklist-controls {
        display: flex;
        flex-direction: column;
        justify-content: center;
        gap: dt('picklist.controls.gap');
    }

    .p-picklist-list-container {
        flex: 1 1 50%;
    }

    .p-picklist .p-listbox {
        height: 100%;
    }
`;var Dq=["item"],Lq=["sourceHeader"],Aq=["targetHeader"],XC=["sourceFilter"],YC=["targetFilter"],Oq=["emptymessagesource"],Fq=["emptyfiltermessagesource"],Vq=["emptymessagetarget"],zq=["emptyfiltermessagetarget"],Rq=["moveupicon"],Bq=["movetopicon"],Nq=["movedownicon"],qq=["movebottomicon"],Hq=["movetotargeticon"],jq=["movealltotargeticon"],Gq=["movetosourceicon"],Uq=["movealltosourceicon"],$q=["targetfiltericon"],Kq=["sourcefiltericon"],Wq=["sourcelist"],Zq=["targetlist"],v_=t=>({$implicit:t}),eS=t=>({options:t}),tS=(t,s,e,i)=>({$implicit:t,index:s,selected:e,disabled:i});function Qq(t,s){t&1&&(at(),ae(0,"svg",18)),t&2&&de("data-pc-section","moveupicon")}function Xq(t,s){}function Yq(t,s){t&1&&z(0,Xq,0,0,"ng-template")}function Jq(t,s){t&1&&(at(),ae(0,"svg",19)),t&2&&de("data-pc-section","movetopicon")}function eH(t,s){}function tH(t,s){t&1&&z(0,eH,0,0,"ng-template")}function iH(t,s){t&1&&(at(),ae(0,"svg",20)),t&2&&de("data-pc-section","movedownicon")}function nH(t,s){}function aH(t,s){t&1&&z(0,nH,0,0,"ng-template")}function oH(t,s){t&1&&(at(),ae(0,"svg",21)),t&2&&de("data-pc-section","movebottomicon")}function rH(t,s){}function sH(t,s){t&1&&z(0,rH,0,0,"ng-template")}function lH(t,s){if(t&1){let e=Be();A(0,"div")(1,"button",11),we("click",function(){Q(e);let n=M(),a=Gt(4);return X(n.moveUp(a,n.source,n.selectedItemsSource,n.onSourceReorder,n.SOURCE_LIST))}),z(2,Qq,1,1,"svg",13)(3,Yq,1,0,null,14),L(),A(4,"button",11),we("click",function(){Q(e);let n=M(),a=Gt(4);return X(n.moveTop(a,n.source,n.selectedItemsSource,n.onSourceReorder,n.SOURCE_LIST))}),z(5,Jq,1,1,"svg",15)(6,tH,1,0,null,14),L(),A(7,"button",11),we("click",function(){Q(e);let n=M(),a=Gt(4);return X(n.moveDown(a,n.source,n.selectedItemsSource,n.onSourceReorder,n.SOURCE_LIST))}),z(8,iH,1,1,"svg",16)(9,aH,1,0,null,14),L(),A(10,"button",11),we("click",function(){Q(e);let n=M(),a=Gt(4);return X(n.moveBottom(a,n.source,n.selectedItemsSource,n.onSourceReorder,n.SOURCE_LIST))}),z(11,oH,1,1,"svg",17)(12,sH,1,0,null,14),L()()}if(t&2){let e=M();$(e.cx("sourceControls")),de("data-pc-section","sourceControls")("data-pc-group-section","controls"),S(),C("disabled",e.sourceMoveDisabled())("buttonProps",e.getButtonProps("moveup")),de("aria-label",e.moveUpAriaLabel)("data-pc-section","sourceMoveUpButton"),S(),C("ngIf",!e.moveUpIconTemplate&&!e._moveUpIconTemplate),S(),C("ngTemplateOutlet",e.moveUpIconTemplate||e._moveUpIconTemplate),S(),C("disabled",e.sourceMoveDisabled())("buttonProps",e.getButtonProps("movetop")),de("aria-label",e.moveTopAriaLabel)("data-pc-section","sourceMoveTopButton"),S(),C("ngIf",!e.moveTopIconTemplate&&!e._moveTopIconTemplate),S(),C("ngTemplateOutlet",e.moveTopIconTemplate||e._moveTopIconTemplate),S(),C("disabled",e.sourceMoveDisabled())("buttonProps",e.getButtonProps("movedown")),de("aria-label",e.moveDownAriaLabel)("data-pc-section","sourceMoveDownButton"),S(),C("ngIf",!e.moveDownIconTemplate&&!e._moveDownIconTemplate),S(),C("ngTemplateOutlet",e.moveDownIconTemplate||e._moveDownIconTemplate),S(),C("disabled",e.sourceMoveDisabled())("buttonProps",e.getButtonProps("movebottom")),de("aria-label",e.moveBottomAriaLabel)("data-pc-section","sourceMoveBottomButton"),S(),C("ngIf",!e.moveBottomIconTemplate||e._moveBottomIconTemplate),S(),C("ngTemplateOutlet",e.moveBottomIconTemplate||e._moveBottomIconTemplate)}}function cH(t,s){if(t&1&&(A(0,"div"),ie(1),L()),t&2){let e=M(3);S(),Et(e.sourceHeader)}}function dH(t,s){}function uH(t,s){t&1&&z(0,dH,0,0,"ng-template")}function pH(t,s){if(t&1&&z(0,cH,2,1,"div",10)(1,uH,1,0,null,14),t&2){let e=M(2);C("ngIf",!e.sourceHeaderTemplate&&!e._sourceHeaderTemplate),S(),C("ngTemplateOutlet",e.sourceHeaderTemplate||e._sourceHeaderTemplate)}}function hH(t,s){t&1&&(Ke(0),z(1,pH,2,2,"ng-template",null,2,ze),We())}function mH(t,s){}function fH(t,s){t&1&&z(0,mH,0,0,"ng-template")}function gH(t,s){if(t&1&&z(0,fH,1,0,null,12),t&2){let e=M(2);C("ngTemplateOutlet",e.sourceFilterTemplate||e._sourceFilterTemplate)("ngTemplateOutletContext",ot(2,eS,e.sourceFilterOptions))}}function _H(t,s){t&1&&(Ke(0),z(1,gH,1,4,"ng-template",null,3,ze),We())}function bH(t,s){t&1&&nt(0)}function yH(t,s){if(t&1&&(Ke(0),z(1,bH,1,0,"ng-container",14),We()),t&2){let e=M();S(),C("ngTemplateOutlet",e.sourceFilterIconTemplate||e._sourceFilterIconTemplate)}}function vH(t,s){t&1&&nt(0)}function xH(t,s){if(t&1&&z(0,vH,1,0,"ng-container",12),t&2){let e=s.$implicit,i=s.index,n=s.selected,a=s.disabled,u=M(2);C("ngTemplateOutlet",u.itemTemplate||u._itemTemplate)("ngTemplateOutletContext",Nd(2,tS,e,i,n,a))}}function wH(t,s){t&1&&(Ke(0),z(1,xH,1,7,"ng-template",null,4,ze),We())}function IH(t,s){t&1&&nt(0)}function TH(t,s){if(t&1&&z(0,IH,1,0,"ng-container",14),t&2){let e=M(2);C("ngTemplateOutlet",e.emptyMessageSourceTemplate||e._emptyMessageSourceTemplate)}}function CH(t,s){t&1&&(Ke(0),z(1,TH,1,1,"ng-template",null,5,ze),We())}function SH(t,s){t&1&&nt(0)}function MH(t,s){if(t&1&&z(0,SH,1,0,"ng-container",14),t&2){let e=M(2);C("ngTemplateOutlet",e.emptyFilterMessageSourceTemplate||e._emptyFilterMessageSourceTemplate)}}function kH(t,s){t&1&&(Ke(0),z(1,MH,1,1,"ng-template",null,6,ze),We())}function EH(t,s){t&1&&(at(),ae(0,"svg",23)),t&2&&de("data-pc-section","movetotargeticon")}function PH(t,s){t&1&&(at(),ae(0,"svg",20)),t&2&&de("data-pc-section","movetotargeticon")}function DH(t,s){if(t&1&&(Ke(0),z(1,EH,1,1,"svg",22)(2,PH,1,1,"svg",16),We()),t&2){let e=M();S(),C("ngIf",!e.viewChanged),S(),C("ngIf",e.viewChanged)}}function LH(t,s){}function AH(t,s){t&1&&z(0,LH,0,0,"ng-template")}function OH(t,s){t&1&&(at(),ae(0,"svg",25)),t&2&&de("data-pc-section","movealltotargeticon")}function FH(t,s){t&1&&(at(),ae(0,"svg",21)),t&2&&de("data-pc-section","movealltotargeticon")}function VH(t,s){if(t&1&&(Ke(0),z(1,OH,1,1,"svg",24)(2,FH,1,1,"svg",17),We()),t&2){let e=M();S(),C("ngIf",!e.viewChanged),S(),C("ngIf",e.viewChanged)}}function zH(t,s){}function RH(t,s){t&1&&z(0,zH,0,0,"ng-template")}function BH(t,s){t&1&&(at(),ae(0,"svg",27)),t&2&&de("data-pc-section","movedownsourceticon")}function NH(t,s){t&1&&(at(),ae(0,"svg",18)),t&2&&de("data-pc-section","movedownsourceticon")}function qH(t,s){if(t&1&&(Ke(0),z(1,BH,1,1,"svg",26)(2,NH,1,1,"svg",13),We()),t&2){let e=M();S(),C("ngIf",!e.viewChanged),S(),C("ngIf",e.viewChanged)}}function HH(t,s){}function jH(t,s){t&1&&z(0,HH,0,0,"ng-template")}function GH(t,s){t&1&&(at(),ae(0,"svg",29)),t&2&&de("data-pc-section","movealltosourceticon")}function UH(t,s){t&1&&(at(),ae(0,"svg",19)),t&2&&de("data-pc-section","movealltosourceticon")}function $H(t,s){if(t&1&&(Ke(0),z(1,GH,1,1,"svg",28)(2,UH,1,1,"svg",15),We()),t&2){let e=M();S(),C("ngIf",!e.viewChanged),S(),C("ngIf",e.viewChanged)}}function KH(t,s){}function WH(t,s){t&1&&z(0,KH,0,0,"ng-template")}function ZH(t,s){if(t&1&&(A(0,"div"),ie(1),L()),t&2){let e=M(3);S(),Et(e.targetHeader)}}function QH(t,s){}function XH(t,s){t&1&&z(0,QH,0,0,"ng-template")}function YH(t,s){if(t&1&&z(0,ZH,2,1,"div",10)(1,XH,1,0,null,14),t&2){let e=M(2);C("ngIf",!e.targetHeaderTemplate&&!e._targetHeaderTemplate),S(),C("ngTemplateOutlet",e.targetHeaderTemplate||e._targetHeaderTemplate)}}function JH(t,s){t&1&&(Ke(0),z(1,YH,2,2,"ng-template",null,2,ze),We())}function ej(t,s){}function tj(t,s){t&1&&z(0,ej,0,0,"ng-template")}function ij(t,s){if(t&1&&z(0,tj,1,0,null,12),t&2){let e=M(2);C("ngTemplateOutlet",e.targetFilterTemplate||e._targetFilterTemplate)("ngTemplateOutletContext",ot(2,eS,e.targetFilterOptions))}}function nj(t,s){t&1&&(Ke(0),z(1,ij,1,4,"ng-template",null,3,ze),We())}function aj(t,s){t&1&&nt(0)}function oj(t,s){if(t&1&&(Ke(0),z(1,aj,1,0,"ng-container",14),We()),t&2){let e=M();S(),C("ngTemplateOutlet",e.targetFilterIconTemplate||e._targetFilterIconTemplate)}}function rj(t,s){t&1&&nt(0)}function sj(t,s){if(t&1&&z(0,rj,1,0,"ng-container",12),t&2){let e=s.$implicit,i=s.index,n=s.selected,a=s.disabled,u=M(2);C("ngTemplateOutlet",u.itemTemplate||u._itemTemplate)("ngTemplateOutletContext",Nd(2,tS,e,i,n,a))}}function lj(t,s){t&1&&(Ke(0),z(1,sj,1,7,"ng-template",null,4,ze),We())}function cj(t,s){t&1&&nt(0)}function dj(t,s){if(t&1&&z(0,cj,1,0,"ng-container",14),t&2){let e=M(2);C("ngTemplateOutlet",e.emptyMessageTargetTemplate||e._emptyMessageTargetTemplate)}}function uj(t,s){t&1&&(Ke(0),z(1,dj,1,1,"ng-template",null,5,ze),We())}function pj(t,s){t&1&&nt(0)}function hj(t,s){if(t&1&&z(0,pj,1,0,"ng-container",14),t&2){let e=M(2);C("ngTemplateOutlet",e.emptyFilterMessageTargetTemplate||e._emptyFilterMessageTargetTemplate)}}function mj(t,s){t&1&&(Ke(0),z(1,hj,1,1,"ng-template",null,6,ze),We())}function fj(t,s){t&1&&(at(),ae(0,"svg",18)),t&2&&de("data-pc-section","moveupicon")}function gj(t,s){}function _j(t,s){t&1&&z(0,gj,0,0,"ng-template")}function bj(t,s){t&1&&(at(),ae(0,"svg",19)),t&2&&de("data-pc-section","movetopicon")}function yj(t,s){}function vj(t,s){t&1&&z(0,yj,0,0,"ng-template")}function xj(t,s){t&1&&(at(),ae(0,"svg",20)),t&2&&de("data-pc-section","movedownicon")}function wj(t,s){}function Ij(t,s){t&1&&z(0,wj,0,0,"ng-template")}function Tj(t,s){t&1&&(at(),ae(0,"svg",21)),t&2&&de("data-pc-section","movebottomicon")}function Cj(t,s){}function Sj(t,s){t&1&&z(0,Cj,0,0,"ng-template")}function Mj(t,s){if(t&1){let e=Be();A(0,"div")(1,"button",30),we("click",function(){Q(e);let n=M(),a=Gt(26);return X(n.moveUp(a,n.target,n.selectedItemsTarget,n.onTargetReorder,n.TARGET_LIST))}),z(2,fj,1,1,"svg",13)(3,_j,1,0,null,14),L(),A(4,"button",11),we("click",function(){Q(e);let n=M(),a=Gt(26);return X(n.moveTop(a,n.target,n.selectedItemsTarget,n.onTargetReorder,n.TARGET_LIST))}),z(5,bj,1,1,"svg",15)(6,vj,1,0,null,14),L(),A(7,"button",11),we("click",function(){Q(e);let n=M(),a=Gt(26);return X(n.moveDown(a,n.target,n.selectedItemsTarget,n.onTargetReorder,n.TARGET_LIST))}),z(8,xj,1,1,"svg",16)(9,Ij,1,0,null,14),L(),A(10,"button",11),we("click",function(){Q(e);let n=M(),a=Gt(26);return X(n.moveBottom(a,n.target,n.selectedItemsTarget,n.onTargetReorder,n.TARGET_LIST))}),z(11,Tj,1,1,"svg",17)(12,Sj,1,0,null,14),L()()}if(t&2){let e=M();$(e.cx("targetControls")),de("data-pc-section","targetControls")("data-pc-group-section","controls"),S(),C("disabled",e.targetMoveDisabled())("buttonProps",e.getButtonProps("moveup")),de("aria-label",e.moveUpAriaLabel)("data-pc-section","targetMoveUpButton"),S(),C("ngIf",!e.moveUpIconTemplate&&!e._moveUpIconTemplate),S(),C("ngTemplateOutlet",e.moveUpIconTemplate||e._moveUpIconTemplate),S(),C("disabled",e.targetMoveDisabled())("buttonProps",e.getButtonProps("movetop")),de("aria-label",e.moveTopAriaLabel)("data-pc-section","targetMoveTopButton"),S(),C("ngIf",!e.moveTopIconTemplate&&!e._moveTopIconTemplate),S(),C("ngTemplateOutlet",e.moveTopIconTemplate||e.moveTopIconTemplate),S(),C("disabled",e.targetMoveDisabled())("buttonProps",e.getButtonProps("movedown")),de("aria-label",e.moveDownAriaLabel)("data-pc-section","targetMoveDownButton"),S(),C("ngIf",!e.moveDownIconTemplate&&!e._moveDownIconTemplate),S(),C("ngTemplateOutlet",e.moveDownIconTemplate||e._moveDownIconTemplate),S(),C("disabled",e.targetMoveDisabled())("buttonProps",e.getButtonProps("movebottom")),de("aria-label",e.moveBottomAriaLabel)("data-pc-section","targetMoveBottomButton"),S(),C("ngIf",!e.moveBottomIconTemplate&&!e._moveBottomIconTemplate),S(),C("ngTemplateOutlet",e.moveBottomIconTemplate||e._moveBottomIconTemplate)}}var kj={root:()=>["p-picklist p-component"],sourceControls:"p-picklist-controls p-picklist-source-controls",sourceListContainer:"p-picklist-list-container p-picklist-source-list-container",transferControls:"p-picklist-controls p-picklist-transfer-controls",targetListContainer:"p-picklist-list-container p-picklist-target-list-container",targetControls:"p-picklist-controls p-picklist-target-controls"},JC=(()=>{class t extends Rt{name="picklist";theme=QC;classes=kj;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var vv=(()=>{class t extends Ot{source;target;sourceHeader;tabindex=0;rightButtonAriaLabel;leftButtonAriaLabel;allRightButtonAriaLabel;allLeftButtonAriaLabel;upButtonAriaLabel;downButtonAriaLabel;topButtonAriaLabel;bottomButtonAriaLabel;targetHeader;responsive;filterBy;filterLocale;trackBy=(e,i)=>i;sourceTrackBy;targetTrackBy;showSourceFilter=!0;showTargetFilter=!0;metaKeySelection=!1;dragdrop=!1;style;styleClass;sourceStyle;targetStyle;showSourceControls=!0;showTargetControls=!0;sourceFilterPlaceholder;targetFilterPlaceholder;disabled;sourceOptionDisabled;targetOptionDisabled;ariaSourceFilterLabel;ariaTargetFilterLabel;filterMatchMode="contains";stripedRows;keepSelection=!1;scrollHeight="14rem";autoOptionFocus=!0;buttonProps={severity:"secondary"};moveUpButtonProps;moveTopButtonProps;moveDownButtonProps;moveBottomButtonProps;moveToTargetProps;moveAllToTargetProps;moveToSourceProps;moveAllToSourceProps;get breakpoint(){return this._breakpoint}set breakpoint(e){e!==this._breakpoint&&(this._breakpoint=e,ii(this.platformId)&&(this.destroyMedia(),this.initMedia()))}onMoveToSource=new Le;onMoveAllToSource=new Le;onMoveAllToTarget=new Le;onMoveToTarget=new Le;onSourceReorder=new Le;onTargetReorder=new Le;onSourceSelect=new Le;onTargetSelect=new Le;onSourceFilter=new Le;onTargetFilter=new Le;onFocus=new Le;onBlur=new Le;listViewSourceChild;listViewTargetChild;sourceFilterViewChild;targetFilterViewChild;getButtonProps(e){switch(e){case"moveup":return ri(ri({},this.buttonProps),this.moveUpButtonProps);case"movetop":return ri(ri({},this.buttonProps),this.moveTopButtonProps);case"movedown":return ri(ri({},this.buttonProps),this.moveDownButtonProps);case"movebottom":return ri(ri({},this.buttonProps),this.moveBottomButtonProps);case"movetotarget":return ri(ri({},this.buttonProps),this.moveToTargetProps);case"movealltotarget":return ri(ri({},this.buttonProps),this.moveAllToTargetProps);case"movetosource":return ri(ri({},this.buttonProps),this.moveToSourceProps);case"movealltosource":return ri(ri({},this.buttonProps),this.moveAllToSourceProps);default:return this.buttonProps}}get moveUpAriaLabel(){return this.upButtonAriaLabel?this.upButtonAriaLabel:this.config.translation.aria?this.config.translation.aria.moveUp:void 0}get moveTopAriaLabel(){return this.topButtonAriaLabel?this.topButtonAriaLabel:this.config.translation.aria?this.config.translation.aria.moveTop:void 0}get moveDownAriaLabel(){return this.downButtonAriaLabel?this.downButtonAriaLabel:this.config.translation.aria?this.config.translation.aria.moveDown:void 0}get moveBottomAriaLabel(){return this.bottomButtonAriaLabel?this.bottomButtonAriaLabel:this.config.translation.aria?this.config.translation.aria.moveDown:void 0}get moveToTargetAriaLabel(){return this.rightButtonAriaLabel?this.rightButtonAriaLabel:this.config.translation.aria?this.config.translation.aria.moveToTarget:void 0}get moveAllToTargetAriaLabel(){return this.allRightButtonAriaLabel?this.allRightButtonAriaLabel:this.config.translation.aria?this.config.translation.aria.moveAllToTarget:void 0}get moveToSourceAriaLabel(){return this.leftButtonAriaLabel?this.leftButtonAriaLabel:this.config.translation.aria?this.config.translation.aria.moveToSource:void 0}get moveAllToSourceAriaLabel(){return this.allLeftButtonAriaLabel?this.allLeftButtonAriaLabel:this.config.translation.aria?this.config.translation.aria.moveAllToSource:void 0}get idSource(){return this.id+"_source"}get idTarget(){return this.id+"_target"}_breakpoint="960px";visibleOptionsSource;visibleOptionsTarget;selectedItemsSource=[];selectedItemsTarget=[];reorderedListElement;movedUp;movedDown;itemTouched;styleElement;id=vi("pn_id_");filterValueSource;filterValueTarget;fromListType;sourceFilterOptions;targetFilterOptions;SOURCE_LIST=-1;TARGET_LIST=1;window;media;viewChanged;_componentStyle=Fe(JC);mediaChangeListener;filterService=Fe(Hr);ngOnInit(){super.ngOnInit(),this.responsive&&(this.createStyle(),this.initMedia()),this.filterBy&&(this.sourceFilterOptions={filter:e=>this.filterSource(e),reset:()=>this.resetSourceFilter()},this.targetFilterOptions={filter:e=>this.filterTarget(e),reset:()=>this.resetTargetFilter()})}itemTemplate;sourceHeaderTemplate;targetHeaderTemplate;sourceFilterTemplate;targetFilterTemplate;emptyMessageSourceTemplate;emptyFilterMessageSourceTemplate;emptyMessageTargetTemplate;emptyFilterMessageTargetTemplate;moveUpIconTemplate;moveTopIconTemplate;moveDownIconTemplate;moveBottomIconTemplate;moveToTargetIconTemplate;moveAllToTargetIconTemplate;moveToSourceIconTemplate;moveAllToSourceIconTemplate;targetFilterIconTemplate;sourceFilterIconTemplate;templates;_itemTemplate;_sourceHeaderTemplate;_targetHeaderTemplate;_sourceFilterTemplate;_targetFilterTemplate;_emptyMessageSourceTemplate;_emptyFilterMessageSourceTemplate;_emptyMessageTargetTemplate;_emptyFilterMessageTargetTemplate;_moveUpIconTemplate;_moveTopIconTemplate;_moveDownIconTemplate;_moveBottomIconTemplate;_moveToTargetIconTemplate;_moveAllToTargetIconTemplate;_moveToSourceIconTemplate;_moveAllToSourceIconTemplate;_targetFilterIconTemplate;_sourceFilterIconTemplate;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break;case"option":this._itemTemplate=e.template;break;case"sourceHeader":this._sourceHeaderTemplate=e.template;break;case"targetHeader":this._targetHeaderTemplate=e.template;break;case"sourceFilter":this._sourceFilterTemplate=e.template;break;case"targetFilter":this._targetFilterTemplate=e.template;break;case"emptymessagesource":this._emptyMessageSourceTemplate=e.template;break;case"emptyfiltermessagesource":this._emptyFilterMessageSourceTemplate=e.template;break;case"emptymessagetarget":this._emptyMessageTargetTemplate=e.template;break;case"emptyfiltermessagetarget":this._emptyFilterMessageTargetTemplate=e.template;break;case"moveupicon":this._moveUpIconTemplate=e.template;break;case"movetopicon":this._moveTopIconTemplate=e.template;break;case"movedownicon":this._moveDownIconTemplate=e.template;break;case"movebottomicon":this._moveBottomIconTemplate=e.template;break;case"movetotargeticon":this._moveToTargetIconTemplate=e.template;break;case"movealltotargeticon":this._moveAllToTargetIconTemplate=e.template;break;case"movetosourceicon":this._moveToSourceIconTemplate=e.template;break;case"movealltosourceicon":this._moveAllToSourceIconTemplate=e.template;break;case"targetfiltericon":this._targetFilterIconTemplate=e.template;break;case"sourcefiltericon":this._sourceFilterIconTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}onChangeSelection(e,i){this.setSelectionList(i,e.value),(i===this.SOURCE_LIST?this.onSourceSelect:this.onTargetSelect).emit({originalEvent:e.originalEvent,items:e.value})}onSourceItemDblClick(){this.disabled||(this.moveRight(),this.triggerChangeDetection())}onTargetItemDblClick(){this.disabled||(this.moveLeft(),this.triggerChangeDetection())}onFilter(e,i){let n=e.target.value;i===this.SOURCE_LIST?this.filterSource(n):i===this.TARGET_LIST&&this.filterTarget(n)}filterSource(e=""){this.filterValueSource=e.trim().toLocaleLowerCase(this.filterLocale),this.filter(this.source,this.SOURCE_LIST),this.onSourceFilter.emit({query:this.filterValueSource,value:this.visibleOptionsSource})}filterTarget(e=""){this.filterValueTarget=e.trim().toLocaleLowerCase(this.filterLocale),this.filter(this.target,this.TARGET_LIST),this.onTargetFilter.emit({query:this.filterValueTarget,value:this.visibleOptionsTarget})}filter(e,i){let n=this.filterBy.split(",");i===this.SOURCE_LIST?(this.visibleOptionsSource=this.filterService.filter(e,n,this.filterValueSource,this.filterMatchMode,this.filterLocale),this.onSourceFilter.emit({query:this.filterValueSource,value:this.visibleOptionsSource})):i===this.TARGET_LIST&&(this.visibleOptionsTarget=this.filterService.filter(e,n,this.filterValueTarget,this.filterMatchMode,this.filterLocale),this.onTargetFilter.emit({query:this.filterValueTarget,value:this.visibleOptionsTarget}))}isItemVisible(e,i){return i==this.SOURCE_LIST?this.isVisibleInList(this.visibleOptionsSource,e,this.filterValueSource):this.isVisibleInList(this.visibleOptionsTarget,e,this.filterValueTarget)}isEmpty(e){return e==this.SOURCE_LIST?this.filterValueSource?!this.visibleOptionsSource||this.visibleOptionsSource.length===0:!this.source||this.source.length===0:this.filterValueTarget?!this.visibleOptionsTarget||this.visibleOptionsTarget.length===0:!this.target||this.target.length===0}isVisibleInList(e,i,n){if(n&&n.trim().length){for(let a=0;a<e.length;a++)if(i==e[a])return!0}else return!0}onItemTouchEnd(){this.disabled||(this.itemTouched=!0)}sortByIndexInList(e,i){return e.sort((n,a)=>xn(n,i)-xn(a,i))}triggerChangeDetection(){this.source=[...this.source],this.target=[...this.target]}moveUp(e,i,n,a,u){if(n&&n.length){n=this.sortByIndexInList(n,i);for(let b=0;b<n.length;b++){let T=n[b],D=xn(T,i);if(D!=0){let R=i[D],U=i[D-1];i[D-1]=R,i[D]=U}else break}this.dragdrop&&(this.filterValueSource&&u===this.SOURCE_LIST||this.filterValueTarget&&u===this.TARGET_LIST)&&this.filter(i,u),this.movedUp=!0,this.reorderedListElement=e,a.emit({items:n}),this.triggerChangeDetection()}}moveTop(e,i,n,a,u){if(n&&n.length){n=this.sortByIndexInList(n,i);for(let b=0;b<n.length;b++){let T=n[b],D=xn(T,i);if(D!=0){let R=i.splice(D,1)[0];i.unshift(R)}else break}this.dragdrop&&(this.filterValueSource&&u===this.SOURCE_LIST||this.filterValueTarget&&u===this.TARGET_LIST)&&this.filter(i,u),e.scrollTop=0,a.emit({items:n}),this.triggerChangeDetection()}}moveDown(e,i,n,a,u){if(n&&n.length){n=this.sortByIndexInList(n,i);for(let b=n.length-1;b>=0;b--){let T=n[b],D=xn(T,i);if(D!=i.length-1){let R=i[D],U=i[D+1];i[D+1]=R,i[D]=U}else break}this.dragdrop&&(this.filterValueSource&&u===this.SOURCE_LIST||this.filterValueTarget&&u===this.TARGET_LIST)&&this.filter(i,u),this.movedDown=!0,this.reorderedListElement=e,a.emit({items:n}),this.triggerChangeDetection()}}moveBottom(e,i,n,a,u){if(n&&n.length){n=this.sortByIndexInList(n,i);for(let b=n.length-1;b>=0;b--){let T=n[b],D=xn(T,i);if(D!=i.length-1){let R=i.splice(D,1)[0];i.push(R)}else break}this.dragdrop&&(this.filterValueSource&&u===this.SOURCE_LIST||this.filterValueTarget&&u===this.TARGET_LIST)&&this.filter(i,u),e.scrollTop=e.scrollHeight,a.emit({items:n}),this.triggerChangeDetection()}}moveRight(){if(this.selectedItemsSource&&this.selectedItemsSource.length){let e=[...this.selectedItemsSource];for(let i=0;i<e.length;i++){let n=e[i];xn(n,this.target)==-1&&(this.target?.push(this.source?.splice(xn(n,this.source),1)[0]),this.visibleOptionsSource?.includes(n)&&this.visibleOptionsSource.splice(xn(n,this.visibleOptionsSource),1))}this.onMoveToTarget.emit({items:e}),this.keepSelection&&(this.selectedItemsTarget=[...this.selectedItemsTarget,...e]),e=[],this.selectedItemsSource=[],this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST),this.triggerChangeDetection()}}moveAllRight(){if(this.source){let e=[];for(let i=0;i<this.source.length;i++)if(this.isItemVisible(this.source[i],this.SOURCE_LIST)){let n=this.source.splice(i,1)[0];this.target?.push(n),e.push(n),i--}this.onMoveAllToTarget.emit({items:e}),this.keepSelection&&(this.selectedItemsTarget=[...this.selectedItemsTarget,...this.selectedItemsSource]),this.selectedItemsSource=[],this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST),this.visibleOptionsSource=[],this.triggerChangeDetection()}}moveLeft(){if(this.selectedItemsTarget&&this.selectedItemsTarget.length){let e=[...this.selectedItemsTarget];for(let i=0;i<e.length;i++){let n=e[i];xn(n,this.source)==-1&&(this.source?.push(this.target?.splice(xn(n,this.target),1)[0]),this.visibleOptionsTarget?.includes(n)&&this.visibleOptionsTarget.splice(xn(n,this.visibleOptionsTarget),1)[0])}this.onMoveToSource.emit({items:e}),this.keepSelection&&(this.selectedItemsSource=[...this.selectedItemsSource,e]),e=[],this.selectedItemsTarget=[],this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST),this.triggerChangeDetection()}}moveAllLeft(){if(this.target){let e=[];for(let i=0;i<this.target.length;i++)if(this.isItemVisible(this.target[i],this.TARGET_LIST)){let n=this.target.splice(i,1)[0];this.source?.push(n),e.push(n),i--}this.onMoveAllToSource.emit({items:e}),this.keepSelection&&(this.selectedItemsSource=[...this.selectedItemsSource,...this.selectedItemsTarget]),this.selectedItemsTarget=[],this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST),this.visibleOptionsTarget=[],this.triggerChangeDetection()}}isSelected(e,i){return this.findIndexInList(e,i)!=-1}findIndexInList(e,i){return xn(e,i)}onDrop(e,i){let n=e.previousContainer!==e.container,a=this.getDropIndexes(e.previousIndex,e.currentIndex,i,n,e.item.data);if(i===this.SOURCE_LIST){if(n){uv(e.previousContainer.data,e.container.data,a.previousIndex,a.currentIndex);let u=xn(e.item.data,this.selectedItemsTarget);u!=-1&&(this.selectedItemsTarget.splice(u,1),this.keepSelection&&this.selectedItemsTarget.push(e.item.data)),this.visibleOptionsTarget&&this.visibleOptionsTarget.splice(e.previousIndex,1),this.onMoveToSource.emit({items:[e.item.data]})}else Oc(e.container.data,a.previousIndex,a.currentIndex),this.onSourceReorder.emit({items:[e.item.data]});this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST)}else{if(n){uv(e.previousContainer.data,e.container.data,a.previousIndex,a.currentIndex);let u=xn(e.item.data,this.selectedItemsSource);u!=-1&&(this.selectedItemsSource.splice(u,1),this.keepSelection&&this.selectedItemsTarget.push(e.item.data)),this.visibleOptionsSource&&this.visibleOptionsSource.splice(e.previousIndex,1),this.onMoveToTarget.emit({items:[e.item.data]})}else Oc(e.container.data,a.previousIndex,a.currentIndex),this.onTargetReorder.emit({items:[e.item.data]});this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST)}}onListFocus(e,i){this.onFocus.emit(e)}onListBlur(e,i){this.onBlur.emit(e)}getListElement(e){return e===this.SOURCE_LIST?this.listViewSourceChild?.el.nativeElement:this.listViewTargetChild?.el.nativeElement}getListItems(e){let i=this.getListElement(e);return En(i,"li.p-picklist-item")}getLatestSelectedVisibleOptionIndex(e,i){let n=[...i].reverse().find(a=>e.includes(a));return n!==void 0?e.indexOf(n):-1}getVisibleList(e){return e===this.SOURCE_LIST?this.visibleOptionsSource&&this.visibleOptionsSource.length>0?this.visibleOptionsSource:this.source&&this.source.length>0?this.source:null:this.visibleOptionsTarget&&this.visibleOptionsTarget.length>0?this.visibleOptionsTarget:this.target&&this.target.length>0?this.target:null}setSelectionList(e,i){e===this.SOURCE_LIST?this.selectedItemsSource=i:this.selectedItemsTarget=i}getDropIndexes(e,i,n,a,u){let b,T;return n===this.SOURCE_LIST?(b=a?this.filterValueTarget?xn(u,this.target):e:this.filterValueSource?xn(u,this.source):e,T=this.filterValueSource?this.findFilteredCurrentIndex(this.visibleOptionsSource,i,this.source):i):(b=a?this.filterValueSource?xn(u,this.source):e:this.filterValueTarget?xn(u,this.target):e,T=this.filterValueTarget?this.findFilteredCurrentIndex(this.visibleOptionsTarget,i,this.target):i),{previousIndex:b,currentIndex:T}}findFilteredCurrentIndex(e,i,n){return e.length===i?xn(e[i-1],n)+1:xn(e[i],n)}resetSourceFilter(){this.visibleOptionsSource=null,this.filterValueSource=null,this.sourceFilterViewChild&&(this.sourceFilterViewChild.nativeElement.value="")}resetTargetFilter(){this.visibleOptionsTarget=null,this.filterValueTarget=null,this.targetFilterViewChild&&(this.targetFilterViewChild.nativeElement.value="")}resetFilter(){this.resetSourceFilter(),this.resetTargetFilter()}initMedia(){ii(this.platformId)&&(this.media=this.document.defaultView.matchMedia(`(max-width: ${this.breakpoint})`),this.viewChanged=this.media.matches,this.bindMediaChangeListener())}destroyMedia(){this.unbindMediaChangeListener()}bindMediaChangeListener(){this.media&&!this.mediaChangeListener&&(this.mediaChangeListener=this.renderer.listen(this.media,"change",e=>{this.viewChanged=e.matches,this.cd.markForCheck()}))}unbindMediaChangeListener(){this.mediaChangeListener&&(this.mediaChangeListener(),this.mediaChangeListener=null)}createStyle(){if(ii(this.platformId)&&!this.styleElement){this.renderer.setAttribute(this.el.nativeElement.children[0],this.id,""),this.styleElement=this.renderer.createElement("style"),this.renderer.setAttribute(this.styleElement,"type","text/css"),this.renderer.appendChild(this.document.head,this.styleElement);let e=`
                @media screen and (max-width: ${this.breakpoint}) {
                    .p-picklist[${this.id}] {
                        flex-direction: column;
                    }

                    .p-picklist[${this.id}] .p-picklist-controls {
                        flex-direction: row;
                    }
                }`;this.renderer.setProperty(this.styleElement,"innerHTML",e),rs(this.styleElement,"nonce",this.config?.csp()?.nonce)}}sourceMoveDisabled(){if(this.disabled||!this.selectedItemsSource.length)return!0}targetMoveDisabled(){if(this.disabled||!this.selectedItemsTarget.length)return!0}moveRightDisabled(){return this.disabled||hn(this.selectedItemsSource)}moveLeftDisabled(){return this.disabled||hn(this.selectedItemsTarget)}moveAllRightDisabled(){return this.disabled||hn(this.source)}moveAllLeftDisabled(){return this.disabled||hn(this.target)}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.destroyStyle(),this.destroyMedia(),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-pickList"],["p-picklist"],["p-pick-list"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,Dq,4),xe(a,Lq,4),xe(a,Aq,4),xe(a,XC,4),xe(a,YC,4),xe(a,Oq,4),xe(a,Fq,4),xe(a,Vq,4),xe(a,zq,4),xe(a,Rq,4),xe(a,Bq,4),xe(a,Nq,4),xe(a,qq,4),xe(a,Hq,4),xe(a,jq,4),xe(a,Gq,4),xe(a,Uq,4),xe(a,$q,4),xe(a,Kq,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.itemTemplate=u.first),se(u=le())&&(n.sourceHeaderTemplate=u.first),se(u=le())&&(n.targetHeaderTemplate=u.first),se(u=le())&&(n.sourceFilterTemplate=u.first),se(u=le())&&(n.targetFilterTemplate=u.first),se(u=le())&&(n.emptyMessageSourceTemplate=u.first),se(u=le())&&(n.emptyFilterMessageSourceTemplate=u.first),se(u=le())&&(n.emptyMessageTargetTemplate=u.first),se(u=le())&&(n.emptyFilterMessageTargetTemplate=u.first),se(u=le())&&(n.moveUpIconTemplate=u.first),se(u=le())&&(n.moveTopIconTemplate=u.first),se(u=le())&&(n.moveDownIconTemplate=u.first),se(u=le())&&(n.moveBottomIconTemplate=u.first),se(u=le())&&(n.moveToTargetIconTemplate=u.first),se(u=le())&&(n.moveAllToTargetIconTemplate=u.first),se(u=le())&&(n.moveToSourceIconTemplate=u.first),se(u=le())&&(n.moveAllToSourceIconTemplate=u.first),se(u=le())&&(n.targetFilterIconTemplate=u.first),se(u=le())&&(n.sourceFilterIconTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&(ut(Wq,5),ut(Zq,5),ut(XC,5),ut(YC,5)),i&2){let a;se(a=le())&&(n.listViewSourceChild=a.first),se(a=le())&&(n.listViewTargetChild=a.first),se(a=le())&&(n.sourceFilterViewChild=a.first),se(a=le())&&(n.targetFilterViewChild=a.first)}},inputs:{source:"source",target:"target",sourceHeader:"sourceHeader",tabindex:[2,"tabindex","tabindex",wt],rightButtonAriaLabel:"rightButtonAriaLabel",leftButtonAriaLabel:"leftButtonAriaLabel",allRightButtonAriaLabel:"allRightButtonAriaLabel",allLeftButtonAriaLabel:"allLeftButtonAriaLabel",upButtonAriaLabel:"upButtonAriaLabel",downButtonAriaLabel:"downButtonAriaLabel",topButtonAriaLabel:"topButtonAriaLabel",bottomButtonAriaLabel:"bottomButtonAriaLabel",targetHeader:"targetHeader",responsive:[2,"responsive","responsive",ye],filterBy:"filterBy",filterLocale:"filterLocale",trackBy:"trackBy",sourceTrackBy:"sourceTrackBy",targetTrackBy:"targetTrackBy",showSourceFilter:[2,"showSourceFilter","showSourceFilter",ye],showTargetFilter:[2,"showTargetFilter","showTargetFilter",ye],metaKeySelection:[2,"metaKeySelection","metaKeySelection",ye],dragdrop:[2,"dragdrop","dragdrop",ye],style:"style",styleClass:"styleClass",sourceStyle:"sourceStyle",targetStyle:"targetStyle",showSourceControls:[2,"showSourceControls","showSourceControls",ye],showTargetControls:[2,"showTargetControls","showTargetControls",ye],sourceFilterPlaceholder:"sourceFilterPlaceholder",targetFilterPlaceholder:"targetFilterPlaceholder",disabled:[2,"disabled","disabled",ye],sourceOptionDisabled:"sourceOptionDisabled",targetOptionDisabled:"targetOptionDisabled",ariaSourceFilterLabel:"ariaSourceFilterLabel",ariaTargetFilterLabel:"ariaTargetFilterLabel",filterMatchMode:"filterMatchMode",stripedRows:[2,"stripedRows","stripedRows",ye],keepSelection:[2,"keepSelection","keepSelection",ye],scrollHeight:"scrollHeight",autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",ye],buttonProps:"buttonProps",moveUpButtonProps:"moveUpButtonProps",moveTopButtonProps:"moveTopButtonProps",moveDownButtonProps:"moveDownButtonProps",moveBottomButtonProps:"moveBottomButtonProps",moveToTargetProps:"moveToTargetProps",moveAllToTargetProps:"moveAllToTargetProps",moveToSourceProps:"moveToSourceProps",moveAllToSourceProps:"moveAllToSourceProps",breakpoint:"breakpoint"},outputs:{onMoveToSource:"onMoveToSource",onMoveAllToSource:"onMoveAllToSource",onMoveAllToTarget:"onMoveAllToTarget",onMoveToTarget:"onMoveToTarget",onSourceReorder:"onSourceReorder",onTargetReorder:"onTargetReorder",onSourceSelect:"onSourceSelect",onTargetSelect:"onTargetSelect",onSourceFilter:"onSourceFilter",onTargetFilter:"onTargetFilter",onFocus:"onFocus",onBlur:"onBlur"},features:[_t([JC]),ft],decls:34,vars:103,consts:[["sourcelist",""],["targetlist",""],["header",""],["filter",""],["item",""],["empty",""],["emptyfilter",""],["cdkDropListGroup","",3,"ngStyle"],[3,"class",4,"ngIf"],["optionLabel","name",3,"ngModelChange","onFocus","onBlur","onChange","onDblClick","onDrop","onFilter","multiple","options","ngModel","id","listStyle","striped","tabindex","disabled","optionDisabled","metaKeySelection","scrollHeight","autoOptionFocus","filter","filterBy","filterLocale","filterMatchMode","filterPlaceHolder","dragdrop"],[4,"ngIf"],["type","button","pButton","","pRipple","","severity","secondary",3,"click","disabled","buttonProps"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","angle-up","pButtonIcon","",4,"ngIf"],[4,"ngTemplateOutlet"],["data-p-icon","angle-double-up","pButtonIcon","",4,"ngIf"],["data-p-icon","angle-down","pButtonIcon","",4,"ngIf"],["data-p-icon","angle-double-down","pButtonIcon","",4,"ngIf"],["data-p-icon","angle-up","pButtonIcon",""],["data-p-icon","angle-double-up","pButtonIcon",""],["data-p-icon","angle-down","pButtonIcon",""],["data-p-icon","angle-double-down","pButtonIcon",""],["data-p-icon","angle-right","pButtonIcon","",4,"ngIf"],["data-p-icon","angle-right","pButtonIcon",""],["data-p-icon","angle-double-right","pButtonIcon","",4,"ngIf"],["data-p-icon","angle-double-right","pButtonIcon",""],["data-p-icon","angle-left","pButtonIcon","",4,"ngIf"],["data-p-icon","angle-left","pButtonIcon",""],["data-p-icon","angle-double-left","pButtonIcon","",4,"ngIf"],["data-p-icon","angle-double-left","pButtonIcon",""],["type","button","pButton","","pRipple","","severity","secondary",1,"p-button-icon-only",3,"click","disabled","buttonProps"]],template:function(i,n){if(i&1){let a=Be();A(0,"div",7),z(1,lH,13,28,"div",8),A(2,"div")(3,"p-listbox",9,0),ci("ngModelChange",function(b){return Q(a),li(n.selectedItemsSource,b)||(n.selectedItemsSource=b),X(b)}),we("onFocus",function(b){return Q(a),X(n.onListFocus(b,n.SOURCE_LIST))})("onBlur",function(b){return Q(a),X(n.onListBlur(b,n.SOURCE_LIST))})("onChange",function(b){return Q(a),X(n.onChangeSelection(b,n.SOURCE_LIST))})("onDblClick",function(){return Q(a),X(n.onSourceItemDblClick())})("onDrop",function(b){return Q(a),X(n.onDrop(b,n.SOURCE_LIST))})("onFilter",function(b){return Q(a),X(n.onFilter(b.originalEvent,n.SOURCE_LIST))}),z(5,hH,3,0,"ng-container",10)(6,_H,3,0,"ng-container",10)(7,yH,2,1,"ng-container",10)(8,wH,3,0,"ng-container",10)(9,CH,3,0,"ng-container",10)(10,kH,3,0,"ng-container",10),L()(),A(11,"div")(12,"button",11),we("click",function(){return Q(a),X(n.moveRight())}),z(13,DH,3,2,"ng-container",10)(14,AH,1,0,null,12),L(),A(15,"button",11),we("click",function(){return Q(a),X(n.moveAllRight())}),z(16,VH,3,2,"ng-container",10)(17,RH,1,0,null,12),L(),A(18,"button",11),we("click",function(){return Q(a),X(n.moveLeft())}),z(19,qH,3,2,"ng-container",10)(20,jH,1,0,null,12),L(),A(21,"button",11),we("click",function(){return Q(a),X(n.moveAllLeft())}),z(22,$H,3,2,"ng-container",10)(23,WH,1,0,null,12),L()(),A(24,"div")(25,"p-listbox",9,1),ci("ngModelChange",function(b){return Q(a),li(n.selectedItemsTarget,b)||(n.selectedItemsTarget=b),X(b)}),we("onFocus",function(b){return Q(a),X(n.onListFocus(b,n.TARGET_LIST))})("onBlur",function(b){return Q(a),X(n.onListBlur(b,n.TARGET_LIST))})("onChange",function(b){return Q(a),X(n.onChangeSelection(b,n.TARGET_LIST))})("onDblClick",function(){return Q(a),X(n.onTargetItemDblClick())})("onDrop",function(b){return Q(a),X(n.onDrop(b,n.TARGET_LIST))})("onFilter",function(b){return Q(a),X(n.onFilter(b.originalEvent,n.TARGET_LIST))}),z(27,JH,3,0,"ng-container",10)(28,nj,3,0,"ng-container",10)(29,oj,2,1,"ng-container",10)(30,lj,3,0,"ng-container",10)(31,uj,3,0,"ng-container",10)(32,mj,3,0,"ng-container",10),L()(),z(33,Mj,13,28,"div",8),L()}i&2&&($(n.cn(n.cx("root"),n.styleClass)),C("ngStyle",n.style),de("data-pc-name","picklist")("data-pc-section","root"),S(),C("ngIf",n.showSourceControls),S(),$(n.cx("sourceListContainer")),de("data-pc-section","sourceWrapper")("data-pc-group-section","listWrapper"),S(),C("multiple",!0)("options",n.source),si("ngModel",n.selectedItemsSource),C("id",n.idSource+"_list")("listStyle",n.sourceStyle)("striped",n.stripedRows)("tabindex",n.tabindex)("disabled",n.disabled)("optionDisabled",n.sourceOptionDisabled)("metaKeySelection",n.metaKeySelection)("scrollHeight",n.scrollHeight)("autoOptionFocus",n.autoOptionFocus)("filter",n.filterBy)("filterBy",n.filterBy)("filterLocale",n.filterLocale)("filterMatchMode",n.filterMatchMode)("filterPlaceHolder",n.sourceFilterPlaceholder)("dragdrop",n.dragdrop),S(2),C("ngIf",n.sourceHeaderTemplate||n._sourceHeaderTemplate||n.sourceHeader),S(),C("ngIf",n.sourceFilterTemplate||n._sourceFilterTemplate),S(),C("ngIf",n.sourceFilterIconTemplate||n._sourceFilterIconTemplate),S(),C("ngIf",n.itemTemplate||n._itemTemplate),S(),C("ngIf",n.emptyMessageSourceTemplate||n._emptyMessageSourceTemplate),S(),C("ngIf",n.emptyFilterMessageSourceTemplate||n._emptyFilterMessageSourceTemplate),S(),$(n.cx("targetControls")),de("data-pc-section","buttons")("data-pc-group-section","controls"),S(),C("disabled",n.moveRightDisabled())("buttonProps",n.getButtonProps("movetotarget")),de("aria-label",n.moveToTargetAriaLabel)("data-pc-section","moveToTargetButton"),S(),C("ngIf",!n.moveToTargetIconTemplate&&!n._moveToTargetIconTemplate),S(),C("ngTemplateOutlet",n.moveToTargetIconTemplate||n._moveToTargetIconTemplate)("ngTemplateOutletContext",ot(95,v_,n.viewChanged)),S(),C("disabled",n.moveAllRightDisabled())("buttonProps",n.getButtonProps("movealltotarget")),de("aria-label",n.moveAllToTargetAriaLabel)("data-pc-section","moveAllToTargetButton"),S(),C("ngIf",!n.moveAllToTargetIconTemplate&&!n._moveAllToTargetIconTemplate),S(),C("ngTemplateOutlet",n.moveAllToTargetIconTemplate||n._moveAllToTargetIconTemplate)("ngTemplateOutletContext",ot(97,v_,n.viewChanged)),S(),C("disabled",n.moveLeftDisabled())("buttonProps",n.getButtonProps("movetosource")),de("aria-label",n.moveToSourceAriaLabel)("data-pc-section","moveToSourceButton"),S(),C("ngIf",!n.moveToSourceIconTemplate&&!n._moveToSourceIconTemplate),S(),C("ngTemplateOutlet",n.moveToSourceIconTemplate||n._moveToSourceIconTemplate)("ngTemplateOutletContext",ot(99,v_,n.viewChanged)),S(),C("disabled",n.moveAllLeftDisabled())("buttonProps",n.getButtonProps("movealltosource")),de("aria-label",n.moveAllToSourceAriaLabel)("data-pc-section","moveAllToSourceButton"),S(),C("ngIf",!n.moveAllToSourceIconTemplate&&!n._moveAllToSourceIconTemplate),S(),C("ngTemplateOutlet",n.moveAllToSourceIconTemplate||n._moveAllToSourceIconTemplate)("ngTemplateOutletContext",ot(101,v_,n.viewChanged)),S(),$(n.cx("targetListContainer")),de("data-pc-section","targetWrapper")("data-pc-group-section","listwrapper"),S(),C("multiple",!0)("options",n.target),si("ngModel",n.selectedItemsTarget),C("id",n.idTarget+"_list")("listStyle",n.targetStyle)("striped",n.stripedRows)("tabindex",n.tabindex)("disabled",n.disabled)("optionDisabled",n.targetOptionDisabled)("metaKeySelection",n.metaKeySelection)("scrollHeight",n.scrollHeight)("autoOptionFocus",n.autoOptionFocus)("filter",n.filterBy)("filterBy",n.filterBy)("filterLocale",n.filterLocale)("filterMatchMode",n.filterMatchMode)("filterPlaceHolder",n.targetFilterPlaceholder)("dragdrop",n.dragdrop),S(2),C("ngIf",n.targetHeaderTemplate||n._targetHeaderTemplate||n.targetHeader),S(),C("ngIf",n.targetFilterTemplate||n._targetFilterTemplate),S(),C("ngIf",n.targetFilterIconTemplate||n._targetFilterIconTemplate),S(),C("ngIf",n.itemTemplate||n._itemTemplate),S(),C("ngIf",n.emptyMessageTargetTemplate||n._emptyMessageTargetTemplate),S(),C("ngIf",n.emptyFilterMessageTargetTemplate||n._emptyFilterMessageTargetTemplate),S(),C("ngIf",n.showTargetControls))},dependencies:[mt,Ut,Yt,fi,zi,Os,j0,sn,Gp,DC,rg,Uw,$w,sg,hc,Kw,Ls,q0,Fc,dn,ia,na,Ze],encapsulation:2,changeDetection:0})}return t})(),iS=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[vv,Ze,Ze]})}return t})();var Pj=(t,s)=>({"pi-bars":t,"pi-table":s}),Dj=t=>({"border-t border-surface":t}),nS=()=>({left:"4px",top:"4px"});function Lj(t,s){if(t&1&&ae(0,"i",17),t&2){let e=s.$implicit;C("ngClass",ni(1,Pj,e==="list",e==="grid"))}}function Aj(t,s){if(t&1){let e=Be();A(0,"div",15)(1,"p-select-button",16),ci("ngModelChange",function(n){Q(e);let a=M();return li(a.layout,n)||(a.layout=n),X(n)}),z(2,Lj,1,4,"ng-template",null,3,ze),L()()}if(t&2){let e=M();S(),si("ngModel",e.layout),C("options",e.options)("allowEmpty",!1)}}function Oj(t,s){if(t&1&&(A(0,"div")(1,"div",19)(2,"div",20),ae(3,"img",21),A(4,"div",22),ae(5,"p-tag",23),L()(),A(6,"div",24)(7,"div",25)(8,"div")(9,"span",26),ie(10),L(),A(11,"div",27),ie(12),L()(),A(13,"div",28)(14,"div",29)(15,"span",30),ie(16),L(),ae(17,"i",31),L()()(),A(18,"div",32)(19,"span",33),ie(20),L(),A(21,"div",34),ae(22,"p-button",35)(23,"p-button",36),L()()()()()),t&2){let e=s.$implicit,i=s.index,n=M(2);S(),C("ngClass",ot(14,Dj,i!==0)),S(2),C("src",Es("https://primefaces.org/cdn/primevue/images/product/",e.image),Ji)("alt",e.name),S(),Lt(Zt(16,nS)),S(),C("value",e.inventoryStatus)("severity",n.getSeverity(e)),S(5),Et(e.category),S(2),Et(e.name),S(4),Et(e.rating),S(4),oi("$ ",e.price),S(2),C("outlined",!0),S(),C("disabled",e.inventoryStatus==="OUTOFSTOCK")}}function Fj(t,s){if(t&1&&(A(0,"div",5),z(1,Oj,24,17,"div",18),L()),t&2){let e=s.$implicit;S(),C("ngForOf",e)}}function Vj(t,s){if(t&1&&(A(0,"div",39)(1,"div",40)(2,"div",41),ae(3,"img",42),A(4,"div",22),ae(5,"p-tag",23),L()(),A(6,"div",43)(7,"div",44)(8,"div")(9,"span",26),ie(10),L(),A(11,"div",45),ie(12),L()(),A(13,"div",28)(14,"div",29)(15,"span",46),ie(16),L(),ae(17,"i",31),L()()(),A(18,"div",47)(19,"span",48),ie(20),L(),A(21,"div",49),ae(22,"p-button",50)(23,"p-button",35),L()()()()()),t&2){let e=s.$implicit,i=M(2);S(3),C("src",Es("https://primefaces.org/cdn/primevue/images/product/",e.image),Ji)("alt",e.name),S(),Lt(Zt(13,nS)),S(),C("value",e.inventoryStatus)("severity",i.getSeverity(e)),S(5),Et(e.category),S(2),oi(" ",e.name," "),S(4),Et(e.rating),S(4),oi("$ ",e.price),S(2),C("disabled",e.inventoryStatus==="OUTOFSTOCK"),S(),C("outlined",!0)}}function zj(t,s){if(t&1&&(A(0,"div",37),z(1,Vj,24,14,"div",38),L()),t&2){let e=s.$implicit;S(),C("ngForOf",e)}}function Rj(t,s){if(t&1&&ie(0),t&2){let e=s.$implicit;oi(" ",e.name," ")}}function Bj(t,s){if(t&1&&ie(0),t&2){let e=s.$implicit;oi(" ",e.name," ")}}var x_=class t{constructor(s){this.productService=s}layout="list";options=["list","grid"];products=[];sourceCities=[];targetCities=[];orderCities=[];ngOnInit(){this.productService.getProductsSmall().then(s=>this.products=s.slice(0,6)),this.sourceCities=[{name:"San Francisco",code:"SF"},{name:"London",code:"LDN"},{name:"Paris",code:"PRS"},{name:"Istanbul",code:"IST"},{name:"Berlin",code:"BRL"},{name:"Barcelona",code:"BRC"},{name:"Rome",code:"RM"}],this.targetCities=[],this.orderCities=[{name:"San Francisco",code:"SF"},{name:"London",code:"LDN"},{name:"Paris",code:"PRS"},{name:"Istanbul",code:"IST"},{name:"Berlin",code:"BRL"},{name:"Barcelona",code:"BRC"},{name:"Rome",code:"RM"}]}getSeverity(s){switch(s.inventoryStatus){case"INSTOCK":return"success";case"LOWSTOCK":return"warn";case"OUTOFSTOCK":return"danger";default:return"info"}}static \u0275fac=function(e){return new(e||t)(Dt(Vo))};static \u0275cmp=Je({type:t,selectors:[["app-list-demo"]],features:[_t([Vo])],decls:26,vars:5,consts:[["header",""],["list",""],["grid",""],["item",""],["option",""],[1,"flex","flex-col"],[1,"card"],[1,"font-semibold","text-xl"],[3,"value","layout"],[1,"flex","flex-col","lg:flex-row","gap-20"],[1,"lg:w-2/3"],[1,"font-semibold","text-xl","mb-4"],["breakpoint","1400px",3,"source","target"],[1,"lg:w-1/3"],["dataKey","id","breakpoint","575px",3,"value"],[1,"flex","justify-end"],[3,"ngModelChange","ngModel","options","allowEmpty"],[1,"pi",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","sm:flex-row","sm:items-center","p-6","gap-4",3,"ngClass"],[1,"md:w-40","relative"],[1,"block","xl:block","mx-auto","rounded","w-full",3,"src","alt"],[1,"absolute","bg-black/70","rounded-border"],[3,"value","severity"],[1,"flex","flex-col","md:flex-row","justify-between","md:items-center","flex-1","gap-6"],[1,"flex","flex-row","md:flex-col","justify-between","items-start","gap-2"],[1,"font-medium","text-surface-500","dark:text-surface-400","text-sm"],[1,"text-lg","font-medium","mt-2"],[1,"bg-surface-100","p-1",2,"border-radius","30px"],[1,"bg-surface-0","flex","items-center","gap-2","justify-center","py-1","px-2",2,"border-radius","30px","box-shadow",`0px 1px 2px 0px rgba(0, 0, 0, 0.04),
                                                        0px 1px 2px 0px rgba(0, 0, 0, 0.06)`],[1,"text-surface-900","font-medium","text-sm"],[1,"pi","pi-star-fill","text-yellow-500"],[1,"flex","flex-col","md:items-end","gap-8"],[1,"text-xl","font-semibold"],[1,"flex","flex-row-reverse","md:flex-row","gap-2"],["icon","pi pi-heart","styleClass","h-full",3,"outlined"],["icon","pi pi-shopping-cart","label","Buy Now","styleClass","flex-auto md:flex-initial whitespace-nowrap",3,"disabled"],[1,"grid","grid-cols-12","gap-4"],["class","col-span-12 sm:col-span-6 lg:col-span-4 p-2",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","p-2"],[1,"p-6","border","border-surface-200","dark:border-surface-700","bg-surface-0","dark:bg-surface-900","rounded","flex","flex-col"],[1,"relative","w-full","shadow-sm"],[1,"rounded","w-full",3,"src","alt"],[1,"pt-12"],[1,"flex","flex-row","justify-between","items-start","gap-2"],[1,"text-lg","font-medium","mt-1"],[1,"text-surface-900","font-medium","text-xs"],[1,"flex","flex-col","gap-6","mt-6"],[1,"text-2xl","font-semibold"],[1,"flex","gap-2"],["icon","pi pi-shopping-cart","label","Buy Now","styleClass","w-full",1,"flex-auto","whitespace-nowrap",3,"disabled"]],template:function(e,i){e&1&&(A(0,"div",5)(1,"div",6)(2,"div",7),ie(3,"DataView"),L(),A(4,"p-dataview",8),z(5,Aj,4,3,"ng-template",null,0,ze)(7,Fj,2,1,"ng-template",null,1,ze)(9,zj,2,1,"ng-template",null,2,ze),L()(),A(11,"div",9)(12,"div",10)(13,"div",6)(14,"div",11),ie(15,"PickList"),L(),A(16,"p-pick-list",12),z(17,Rj,1,1,"ng-template",null,3,ze),L()()(),A(19,"div",13)(20,"div",6)(21,"div",11),ie(22,"OrderList"),L(),A(23,"p-orderlist",14),z(24,Bj,1,1,"ng-template",null,4,ze),L()()()()()),e&2&&(S(4),C("value",i.products)("layout",i.layout),S(12),C("source",i.sourceCities)("target",i.targetCities),S(7),C("value",i.orderCities))},dependencies:[mt,ka,Bi,UC,bv,dn,ia,na,K0,$0,iS,vv,ZC,yv,xc,vc,zi,Gi],styles:[".p-orderlist-list-container{width:100%}"]})};var aS=`
    .p-carousel {
        display: flex;
        flex-direction: column;
    }

    .p-carousel-content-container {
        display: flex;
        flex-direction: column;
        overflow: auto;
    }

    .p-carousel-content {
        display: flex;
        flex-direction: row;
        gap: dt('carousel.content.gap');
    }

    .p-carousel-content:dir(rtl) {
        flex-direction: row-reverse;
    }

    .p-carousel-viewport {
        overflow: hidden;
        width: 100%;
    }

    .p-carousel-item-list {
        display: flex;
        flex-direction: row;
    }

    .p-carousel-item-list:dir(rtl) {
        flex-direction: row-reverse;
    }

    .p-carousel-prev-button,
    .p-carousel-next-button {
        align-self: center;
        flex-shrink: 0;
    }

    .p-carousel-indicator-list {
        display: flex;
        flex-direction: row;
        justify-content: center;
        flex-wrap: wrap;
        padding: dt('carousel.indicator.list.padding');
        gap: dt('carousel.indicator.list.gap');
        margin: 0;
        list-style: none;
    }

    .p-carousel-indicator-button {
        display: flex;
        align-items: center;
        justify-content: center;
        background: dt('carousel.indicator.background');
        width: dt('carousel.indicator.width');
        height: dt('carousel.indicator.height');
        border: 0 none;
        transition:
            background dt('carousel.transition.duration'),
            color dt('carousel.transition.duration'),
            outline-color dt('carousel.transition.duration'),
            box-shadow dt('carousel.transition.duration');
        outline-color: transparent;
        border-radius: dt('carousel.indicator.border.radius');
        padding: 0;
        margin: 0;
        user-select: none;
        cursor: pointer;
    }

    .p-carousel-indicator-button:focus-visible {
        box-shadow: dt('carousel.indicator.focus.ring.shadow');
        outline: dt('carousel.indicator.focus.ring.width') dt('carousel.indicator.focus.ring.style') dt('carousel.indicator.focus.ring.color');
        outline-offset: dt('carousel.indicator.focus.ring.offset');
    }

    .p-carousel-indicator-button:hover {
        background: dt('carousel.indicator.hover.background');
    }

    .p-carousel-indicator-active .p-carousel-indicator-button {
        background: dt('carousel.indicator.active.background');
    }

    .p-carousel-vertical .p-carousel-content {
        flex-direction: column;
    }

    .p-carousel-vertical .p-carousel-item-list {
        flex-direction: column;
        height: 100%;
    }

    .p-items-hidden .p-carousel-item {
        visibility: hidden;
    }

    .p-items-hidden .p-carousel-item.p-carousel-item-active {
        visibility: visible;
    }
`;var Nj=["item"],qj=["header"],Hj=["footer"],jj=["previousicon"],Gj=["nexticon"],Uj=["itemsContainer"],$j=["indicatorContent"],Kj=[[["p-header"]],[["p-footer"]]],Wj=["p-header","p-footer"],Zj=t=>({height:t}),w_=t=>({index:t}),Iv=t=>({$implicit:t});function Qj(t,s){t&1&&nt(0)}function Xj(t,s){if(t&1&&(A(0,"div"),Ei(1),z(2,Qj,1,0,"ng-container",11),L()),t&2){let e=M();$(e.cx("header")),S(2),C("ngTemplateOutlet",e.headerTemplate)}}function Yj(t,s){t&1&&(at(),ae(0,"svg",16))}function Jj(t,s){t&1&&(at(),ae(0,"svg",17))}function eG(t,s){if(t&1&&(Ke(0),z(1,Yj,1,0,"svg",14)(2,Jj,1,0,"svg",15),We()),t&2){let e=M(3);S(),C("ngIf",!e.isVertical()),S(),C("ngIf",e.isVertical())}}function tG(t,s){}function iG(t,s){t&1&&z(0,tG,0,0,"ng-template")}function nG(t,s){if(t&1&&(Ke(0),z(1,iG,1,0,null,11),We()),t&2){let e=M(3);S(),C("ngTemplateOutlet",e.previousIconTemplate||e._previousIconTemplate)}}function aG(t,s){if(t&1&&z(0,eG,3,2,"ng-container",13)(1,nG,2,1,"ng-container",13),t&2){let e=M(2);C("ngIf",!e.previousIconTemplate&&!e._previousIconTemplate&&!(e.prevButtonProps!=null&&e.prevButtonProps.icon)),S(),C("ngIf",(e.previousIconTemplate||e._previousIconTemplate)&&!(e.prevButtonProps!=null&&e.prevButtonProps.icon))}}function oG(t,s){if(t&1){let e=Be();A(0,"p-button",12),we("click",function(n){Q(e);let a=M();return X(a.navBackward(n))}),z(1,aG,2,2,"ng-template",null,1,ze),L()}if(t&2){let e=M();$(e.cx("pcPrevButton")),C("text",!0)("buttonProps",e.prevButtonProps),de("aria-label",e.ariaPrevButtonLabel())}}function rG(t,s){t&1&&nt(0)}function sG(t,s){if(t&1&&(A(0,"div"),z(1,rG,1,0,"ng-container",18),L()),t&2){let e=s.$implicit,i=s.index,n=M();$(n.cx("itemClone",ot(7,w_,i))),de("aria-hidden",n.totalShiftedItems*-1!==n.value.length)("aria-label",n.ariaSlideNumber(i))("aria-roledescription",n.ariaSlideLabel()),S(),C("ngTemplateOutlet",n.itemTemplate||n._itemTemplate)("ngTemplateOutletContext",ot(9,Iv,e))}}function lG(t,s){t&1&&nt(0)}function cG(t,s){if(t&1&&(A(0,"div"),z(1,lG,1,0,"ng-container",18),L()),t&2){let e=s.$implicit,i=s.index,n=M();$(n.cx("item",ot(7,w_,i))),de("aria-hidden",!(n.firstIndex()<=i&&n.lastIndex()>=i))("aria-label",n.ariaSlideNumber(i))("aria-roledescription",n.ariaSlideLabel()),S(),C("ngTemplateOutlet",n.itemTemplate||n._itemTemplate)("ngTemplateOutletContext",ot(9,Iv,e))}}function dG(t,s){t&1&&nt(0)}function uG(t,s){if(t&1&&(A(0,"div"),z(1,dG,1,0,"ng-container",18),L()),t&2){let e=s.$implicit,i=s.index,n=M();$(n.cx("itemClone",ot(4,w_,i))),S(),C("ngTemplateOutlet",n.itemTemplate||n._itemTemplate)("ngTemplateOutletContext",ot(6,Iv,e))}}function pG(t,s){t&1&&(at(),ae(0,"svg",22))}function hG(t,s){t&1&&(at(),ae(0,"svg",23))}function mG(t,s){if(t&1&&(Ke(0),z(1,pG,1,0,"svg",20)(2,hG,1,0,"svg",21),We()),t&2){let e=M(3);S(),C("ngIf",!e.isVertical()),S(),C("ngIf",e.isVertical())}}function fG(t,s){}function gG(t,s){t&1&&z(0,fG,0,0,"ng-template")}function _G(t,s){if(t&1&&(A(0,"span"),z(1,gG,1,0,null,11),L()),t&2){let e=M(3);S(),C("ngTemplateOutlet",e.nextIconTemplate||e._nextIconTemplate)}}function bG(t,s){if(t&1&&z(0,mG,3,2,"ng-container",13)(1,_G,2,1,"span",13),t&2){let e=M(2);C("ngIf",!e.nextIconTemplate&&!e._nextIconTemplate&&!(e.nextButtonProps!=null&&e.nextButtonProps.icon)),S(),C("ngIf",e.nextIconTemplate||e._nextIconTemplate&&!(e.nextButtonProps!=null&&e.nextButtonProps.icon))}}function yG(t,s){if(t&1){let e=Be();A(0,"p-button",19),we("click",function(n){Q(e);let a=M();return X(a.navForward(n))}),z(1,bG,2,2,"ng-template",null,1,ze),L()}if(t&2){let e=M();$(e.cx("pcNextButton")),C("buttonProps",e.nextButtonProps)("text",!0),de("aria-label",e.ariaNextButtonLabel())}}function vG(t,s){if(t&1){let e=Be();A(0,"li")(1,"button",25),we("click",function(n){let a=Q(e).index,u=M(2);return X(u.onDotClick(n,a))}),L()()}if(t&2){let e=s.index,i=M(2);$(i.cx("indicator",ot(9,w_,e))),de("data-pc-section","indicator"),S(),$(i.cx("indicatorButton")),C("ngStyle",i.indicatorStyle)("tabindex",i._page===e?0:-1),de("aria-label",i.ariaPageLabel(e+1))("aria-current",i._page===e?"page":void 0)}}function xG(t,s){if(t&1){let e=Be();A(0,"ul",24,2),we("keydown",function(n){Q(e);let a=M();return X(a.onIndicatorKeydown(n))}),z(2,vG,2,11,"li",8),L()}if(t&2){let e=M();$(e.cx("indicatorList")),C("ngStyle",e.indicatorsContentStyle),S(2),C("ngForOf",e.totalDotsArray())}}function wG(t,s){t&1&&nt(0)}function IG(t,s){if(t&1&&(A(0,"div"),Ei(1,1),z(2,wG,1,0,"ng-container",11),L()),t&2){let e=M();$(e.cx("footer")),S(2),C("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}var TG={root:({instance:t})=>["p-carousel p-component",{"p-carousel-vertical":t.isVertical(),"p-carousel-horizontal":!t.isVertical()}],header:"p-carousel-header",contentContainer:"p-carousel-content-container",content:"p-carousel-content",pcPrevButton:({instance:t})=>["p-carousel-prev-button",{"p-disabled":t.isBackwardNavDisabled()}],viewport:"p-carousel-viewport",itemList:"p-carousel-item-list",itemClone:({instance:t,index:s})=>["p-carousel-item p-carousel-item-clone",{"p-carousel-item-active":t.totalShiftedItems*-1===t.value.length,"p-carousel-item-start":s===0,"p-carousel-item-end":t.clonedItemsForStarting.length-1===s}],item:({instance:t,index:s})=>["p-carousel-item",{"p-carousel-item-active":t.firstIndex()<=s&&t.lastIndex()>=s,"p-carousel-item-start":t.firstIndex()===s,"p-carousel-item-end":t.lastIndex()===s}],pcNextButton:({instance:t})=>["p-carousel-next-button",{"p-disabled":t.isForwardNavDisabled()}],indicatorList:({instance:t})=>["p-carousel-indicator-list",t.indicatorsContentClass],indicator:({instance:t,index:s})=>["p-carousel-indicator",{"p-carousel-indicator-active":t._page===s}],indicatorButton:({instance:t})=>["p-carousel-indicator-button",t.indicatorStyleClass],footer:"p-carousel-footer"},oS=(()=>{class t extends Rt{name="carousel";theme=aS;classes=TG;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var Tv=(()=>{class t extends Ot{el;zone;get page(){return this._page}set page(e){this.isCreated&&e!==this._page&&(this.autoplayInterval&&this.stopAutoplay(),e>this._page&&e<=this.totalDots()-1?this.step(-1,e):e<this._page&&this.step(1,e)),this._page=e}get numVisible(){return this._numVisible}set numVisible(e){this._numVisible=e}get numScroll(){return this._numVisible}set numScroll(e){this._numScroll=e}responsiveOptions;orientation="horizontal";verticalViewPortHeight="300px";contentClass="";indicatorsContentClass="";indicatorsContentStyle;indicatorStyleClass="";indicatorStyle;get value(){return this._value}set value(e){this._value=e}circular=!1;showIndicators=!0;showNavigators=!0;autoplayInterval=0;styleClass;prevButtonProps={severity:"secondary",text:!0,rounded:!0};nextButtonProps={severity:"secondary",text:!0,rounded:!0};onPage=new Le;itemsContainer;indicatorContent;headerFacet;footerFacet;_numVisible=1;_numScroll=1;_oldNumScroll=0;prevState={numScroll:0,numVisible:0,value:[]};defaultNumScroll=1;defaultNumVisible=1;_page=0;_value;carouselStyle;id;totalShiftedItems;isRemainingItemsAdded=!1;animationTimeout;translateTimeout;remainingItems=0;_items;startPos;documentResizeListener;clonedItemsForStarting;clonedItemsForFinishing;allowAutoplay;interval;isCreated;swipeThreshold=20;itemTemplate;headerTemplate;footerTemplate;previousIconTemplate;nextIconTemplate;_itemTemplate;_headerTemplate;_footerTemplate;_previousIconTemplate;_nextIconTemplate;window;_componentStyle=Fe(oS);constructor(e,i){super(),this.el=e,this.zone=i,this.totalShiftedItems=this.page*this.numScroll*-1,this.window=this.document.defaultView}ngOnChanges(e){ii(this.platformId)&&(e.value&&this.circular&&this._value&&this.setCloneItems(),this.isCreated&&(e.numVisible&&(this.responsiveOptions&&(this.defaultNumVisible=this.numVisible),this.isCircular()&&this.setCloneItems(),this.createStyle(),this.calculatePosition()),e.numScroll&&this.responsiveOptions&&(this.defaultNumScroll=this.numScroll))),this.cd.markForCheck()}templates;ngAfterContentInit(){this.id=vi("pn_id_"),ii(this.platformId)&&(this.allowAutoplay=!!this.autoplayInterval,this.circular&&this.setCloneItems(),this.responsiveOptions&&(this.defaultNumScroll=this._numScroll,this.defaultNumVisible=this._numVisible),this.createStyle(),this.calculatePosition(),this.responsiveOptions&&this.bindDocumentListeners()),this.templates?.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"previousicon":this._previousIconTemplate=e.template;break;case"nexticon":this._nextIconTemplate=e.template;break;default:this._itemTemplate=e.template;break}}),this.cd.detectChanges()}ngAfterContentChecked(){if(ii(this.platformId)){let e=this.isCircular(),i=this.totalShiftedItems;if(this.value&&this.itemsContainer&&(this.prevState.numScroll!==this._numScroll||this.prevState.numVisible!==this._numVisible||this.prevState.value.length!==this.value.length)){this.autoplayInterval&&this.stopAutoplay(!1),this.remainingItems=(this.value.length-this._numVisible)%this._numScroll;let n=this._page;this.totalDots()!==0&&n>=this.totalDots()&&(n=this.totalDots()-1,this._page=n,this.onPage.emit({page:this.page})),i=n*this._numScroll*-1,e&&(i-=this._numVisible),n===this.totalDots()-1&&this.remainingItems>0?(i+=-1*this.remainingItems+this._numScroll,this.isRemainingItemsAdded=!0):this.isRemainingItemsAdded=!1,i!==this.totalShiftedItems&&(this.totalShiftedItems=i),this._oldNumScroll=this._numScroll,this.prevState.numScroll=this._numScroll,this.prevState.numVisible=this._numVisible,this.prevState.value=[...this._value],this.totalDots()>0&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${i*(100/this._numVisible)}%, 0)`:`translate3d(${i*(100/this._numVisible)}%, 0, 0)`),this.isCreated=!0,this.autoplayInterval&&this.isAutoplay()&&this.startAutoplay()}e&&(this.page===0?i=-1*this._numVisible:i===0&&(i=-1*this.value.length,this.remainingItems>0&&(this.isRemainingItemsAdded=!0)),i!==this.totalShiftedItems&&(this.totalShiftedItems=i))}}createStyle(){this.carouselStyle||(this.carouselStyle=this.renderer.createElement("style"),this.carouselStyle.type="text/css",this.renderer.appendChild(this.document.head,this.carouselStyle),rs(this.carouselStyle,"nonce",this.config?.csp()?.nonce));let e=`
            #${this.id} .p-carousel-item {
				flex: 1 0 ${100/this.numVisible}%
			}
        `;if(this.responsiveOptions){this.responsiveOptions.sort((i,n)=>{let a=i.breakpoint,u=n.breakpoint,b=null;return a==null&&u!=null?b=-1:a!=null&&u==null?b=1:a==null&&u==null?b=0:typeof a=="string"&&typeof u=="string"?b=a.localeCompare(u,void 0,{numeric:!0}):b=a<u?-1:a>u?1:0,-1*b});for(let i=0;i<this.responsiveOptions.length;i++){let n=this.responsiveOptions[i];e+=`
                    @media screen and (max-width: ${n.breakpoint}) {
                        #${this.id} .p-carousel-item {
                            flex: 1 0 ${100/n.numVisible}%
                        }
                    }
                `}}this.carouselStyle.innerHTML=e}calculatePosition(){if(this.responsiveOptions){let e={numVisible:this.defaultNumVisible,numScroll:this.defaultNumScroll};if(typeof window<"u"){let i=window.innerWidth;for(let n=0;n<this.responsiveOptions.length;n++){let a=this.responsiveOptions[n];parseInt(a.breakpoint,10)>=i&&(e=a)}}if(this._numScroll!==e.numScroll){let i=this._page;i=Math.floor(i*this._numScroll/e.numScroll);let n=e.numScroll*this.page*-1;this.isCircular()&&(n-=e.numVisible),this.totalShiftedItems=n,this._numScroll=e.numScroll,this._page=i,this.onPage.emit({page:this.page})}this._numVisible!==e.numVisible&&(this._numVisible=e.numVisible,this.setCloneItems()),this.cd.markForCheck()}}setCloneItems(){this.clonedItemsForStarting=[],this.clonedItemsForFinishing=[],this.isCircular()&&(this.clonedItemsForStarting.push(...this.value.slice(-1*this._numVisible)),this.clonedItemsForFinishing.push(...this.value.slice(0,this._numVisible)))}firstIndex(){return this.isCircular()?-1*(this.totalShiftedItems+this.numVisible):this.totalShiftedItems*-1}lastIndex(){return this.firstIndex()+this.numVisible-1}totalDots(){return this.value?.length?Math.ceil((this.value.length-this._numVisible)/this._numScroll)+1:0}totalDotsArray(){let e=this.totalDots();return e<=0?[]:Array(e).fill(0)}isVertical(){return this.orientation==="vertical"}isCircular(){return this.circular&&this.value&&this.value.length>=this.numVisible}isAutoplay(){return this.autoplayInterval&&this.allowAutoplay}isForwardNavDisabled(){return this.isEmpty()||this._page>=this.totalDots()-1&&!this.isCircular()}isBackwardNavDisabled(){return this.isEmpty()||this._page<=0&&!this.isCircular()}isEmpty(){return!this.value||this.value.length===0}navForward(e,i){(this.isCircular()||this._page<this.totalDots()-1)&&this.step(-1,i),this.autoplayInterval&&this.stopAutoplay(),e&&e.cancelable&&e.preventDefault()}navBackward(e,i){(this.isCircular()||this._page!==0)&&this.step(1,i),this.autoplayInterval&&this.stopAutoplay(),e&&e.cancelable&&e.preventDefault()}onDotClick(e,i){let n=this._page;this.autoplayInterval&&this.stopAutoplay(),i>n?this.navForward(e,i):i<n&&this.navBackward(e,i)}onIndicatorKeydown(e){switch(e.code){case"ArrowRight":this.onRightKey();break;case"ArrowLeft":this.onLeftKey();break}}onRightKey(){let e=[...En(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')],i=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(i,i+1===e.length?e.length-1:i+1)}onLeftKey(){let e=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(e,e-1<=0?0:e-1)}onHomeKey(){let e=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(e,0)}onEndKey(){let e=[...En(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]r')],i=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(i,e.length-1)}onTabKey(){let e=[...En(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')],i=e.findIndex(u=>bo(u,"data-p-highlight")===!0),n=ei(this.indicatorContent.nativeElement,'[data-pc-section="indicator"] > button[tabindex="0"]'),a=e.findIndex(u=>u===n.parentElement);e[a].children[0].tabIndex="-1",e[i].children[0].tabIndex="0"}findFocusedIndicatorIndex(){let e=[...En(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')],i=ei(this.indicatorContent.nativeElement,'[data-pc-section="indicator"] > button[tabindex="0"]');return e.findIndex(n=>n===i.parentElement)}changedFocusedIndicator(e,i){let n=[...En(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')];n[e].children[0].tabIndex="-1",n[i].children[0].tabIndex="0",n[i].children[0].focus()}step(e,i){let n=this.totalShiftedItems,a=this.isCircular();if(i!=null)n=this._numScroll*i*-1,a&&(n-=this._numVisible),this.isRemainingItemsAdded=!1;else{n+=this._numScroll*e,this.isRemainingItemsAdded&&(n+=this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!1);let u=a?n+this._numVisible:n;i=Math.abs(Math.floor(u/this._numScroll))}a&&this.page===this.totalDots()-1&&e===-1?(n=-1*(this.value.length+this._numVisible),i=0):a&&this.page===0&&e===1?(n=0,i=this.totalDots()-1):i===this.totalDots()-1&&this.remainingItems>0&&(n+=this.remainingItems*-1-this._numScroll*e,this.isRemainingItemsAdded=!0),this.itemsContainer&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${n*(100/this._numVisible)}%, 0)`:`translate3d(${n*(100/this._numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=n,this._page=i,this.onPage.emit({page:this.page}),this.cd.markForCheck()}startAutoplay(){this.interval=setInterval(()=>{this.totalDots()>0&&(this.page===this.totalDots()-1?this.step(-1,0):this.step(-1,this.page+1))},this.autoplayInterval),this.allowAutoplay=!0,this.cd.markForCheck()}stopAutoplay(e=!0){this.interval&&(clearInterval(this.interval),this.interval=void 0,e&&(this.allowAutoplay=!1)),this.cd.markForCheck()}isPlaying(){return!!this.interval}onTransitionEnd(){this.itemsContainer&&(this.itemsContainer.nativeElement.style.transition="",(this.page===0||this.page===this.totalDots()-1)&&this.isCircular()&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${this.totalShiftedItems*(100/this._numVisible)}%, 0)`:`translate3d(${this.totalShiftedItems*(100/this._numVisible)}%, 0, 0)`))}onTouchStart(e){let i=e.changedTouches[0];this.startPos={x:i.pageX,y:i.pageY}}onTouchMove(e){e.cancelable&&e.preventDefault()}onTouchEnd(e){let i=e.changedTouches[0];this.isVertical()?this.changePageOnTouch(e,i.pageY-this.startPos.y):this.changePageOnTouch(e,i.pageX-this.startPos.x)}changePageOnTouch(e,i){Math.abs(i)>this.swipeThreshold&&(i<0?this.navForward(e):this.navBackward(e))}ariaPrevButtonLabel(){return this.config.translation.aria?this.config.translation.aria.prevPageLabel:void 0}ariaSlideLabel(){return this.config.translation.aria?this.config.translation.aria.slide:void 0}ariaNextButtonLabel(){return this.config.translation.aria?this.config.translation.aria.nextPageLabel:void 0}ariaSlideNumber(e){return this.config.translation.aria?this.config.translation.aria.slideNumber.replace(/{slideNumber}/g,e):void 0}ariaPageLabel(e){return this.config.translation.aria?this.config.translation.aria.pageLabel.replace(/{page}/g,e):void 0}bindDocumentListeners(){ii(this.platformId)&&(this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",e=>{this.calculatePosition()})))}unbindDocumentListeners(){ii(this.platformId)&&this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.autoplayInterval&&this.stopAutoplay()}static \u0275fac=function(i){return new(i||t)(Dt(ua),Dt(pa))};static \u0275cmp=Je({type:t,selectors:[["p-carousel"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,dc,5),xe(a,Ps,5),xe(a,Nj,4),xe(a,qj,4),xe(a,Hj,4),xe(a,jj,4),xe(a,Gj,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.headerFacet=u.first),se(u=le())&&(n.footerFacet=u.first),se(u=le())&&(n.itemTemplate=u.first),se(u=le())&&(n.headerTemplate=u.first),se(u=le())&&(n.footerTemplate=u.first),se(u=le())&&(n.previousIconTemplate=u.first),se(u=le())&&(n.nextIconTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&(ut(Uj,5),ut($j,5)),i&2){let a;se(a=le())&&(n.itemsContainer=a.first),se(a=le())&&(n.indicatorContent=a.first)}},hostVars:4,hostBindings:function(i,n){i&2&&(de("id",n.id)("role","region"),$(n.cn(n.cx("root"),n.styleClass)))},inputs:{page:"page",numVisible:"numVisible",numScroll:"numScroll",responsiveOptions:"responsiveOptions",orientation:"orientation",verticalViewPortHeight:"verticalViewPortHeight",contentClass:"contentClass",indicatorsContentClass:"indicatorsContentClass",indicatorsContentStyle:"indicatorsContentStyle",indicatorStyleClass:"indicatorStyleClass",indicatorStyle:"indicatorStyle",value:"value",circular:[2,"circular","circular",ye],showIndicators:[2,"showIndicators","showIndicators",ye],showNavigators:[2,"showNavigators","showNavigators",ye],autoplayInterval:[2,"autoplayInterval","autoplayInterval",wt],styleClass:"styleClass",prevButtonProps:"prevButtonProps",nextButtonProps:"nextButtonProps"},outputs:{onPage:"onPage"},features:[_t([oS]),ft,Eo],ngContentSelectors:Wj,decls:13,vars:21,consts:[["itemsContainer",""],["icon",""],["indicatorContent",""],[3,"class",4,"ngIf"],[3,"ngClass"],[3,"class","text","buttonProps","click",4,"ngIf"],[3,"touchend","touchstart","touchmove","ngStyle"],[3,"transitionend"],[3,"class",4,"ngFor","ngForOf"],["type","button",3,"class","buttonProps","text","click",4,"ngIf"],[3,"class","ngStyle","keydown",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"click","text","buttonProps"],[4,"ngIf"],["data-p-icon","chevron-left",4,"ngIf"],["data-p-icon","chevron-up",4,"ngIf"],["data-p-icon","chevron-left"],["data-p-icon","chevron-up"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"click","buttonProps","text"],["data-p-icon","chevron-right",4,"ngIf"],["data-p-icon","chevron-down",4,"ngIf"],["data-p-icon","chevron-right"],["data-p-icon","chevron-down"],[3,"keydown","ngStyle"],["type","button",3,"click","ngStyle","tabindex"]],template:function(i,n){if(i&1){let a=Be();Ui(Kj),z(0,Xj,3,3,"div",3),A(1,"div",4)(2,"div"),z(3,oG,3,5,"p-button",5),A(4,"div",6),we("touchend",function(b){return Q(a),X(n.onTouchEnd(b))})("touchstart",function(b){return Q(a),X(n.onTouchStart(b))})("touchmove",function(b){return Q(a),X(n.onTouchMove(b))}),A(5,"div",7,0),we("transitionend",function(){return Q(a),X(n.onTransitionEnd())}),z(7,sG,2,11,"div",8)(8,cG,2,11,"div",8)(9,uG,2,8,"div",8),L()(),z(10,yG,3,5,"p-button",9),L(),z(11,xG,3,4,"ul",10),L(),z(12,IG,3,3,"div",3)}i&2&&(C("ngIf",n.headerFacet||n.headerTemplate),S(),$(n.contentClass),C("ngClass",n.cx("contentContainer")),S(),$(n.cx("content")),de("aria-live",n.allowAutoplay?"polite":"off"),S(),C("ngIf",n.showNavigators),S(),$(n.cx("viewport")),C("ngStyle",ot(19,Zj,n.isVertical()?n.verticalViewPortHeight:"auto")),S(),$(n.cx("itemList")),S(2),C("ngForOf",n.clonedItemsForStarting),S(),C("ngForOf",n.value),S(),C("ngForOf",n.clonedItemsForFinishing),S(),C("ngIf",n.showNavigators),S(),C("ngIf",n.showIndicators),S(),C("ngIf",n.footerFacet||n.footerTemplate||n._footerTemplate))},dependencies:[mt,ka,Bi,Ut,Yt,fi,so,zi,Gi,mc,Da,Ud,Ze],encapsulation:2,changeDetection:0})}return t})(),rS=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[Tv,Ze,Ze]})}return t})();var sS=`
    .p-galleria {
        overflow: hidden;
        border-style: solid;
        border-width: dt('galleria.border.width');
        border-color: dt('galleria.border.color');
        border-radius: dt('galleria.border.radius');
    }

    .p-galleria-content {
        display: flex;
        flex-direction: column;
    }

    .p-galleria-items-container {
        display: flex;
        flex-direction: column;
        position: relative;
    }

    .p-galleria-items {
        position: relative;
        display: flex;
        height: 100%;
    }

    .p-galleria-nav-button {
        position: absolute !important;
        top: 50%;
        display: inline-flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        background: dt('galleria.nav.button.background');
        color: dt('galleria.nav.button.color');
        width: dt('galleria.nav.button.size');
        height: dt('galleria.nav.button.size');
        transition:
            background dt('galleria.transition.duration'),
            color dt('galleria.transition.duration'),
            outline-color dt('galleria.transition.duration'),
            box-shadow dt('galleria.transition.duration');
        margin: calc(-1 * calc(dt('galleria.nav.button.size')) / 2) dt('galleria.nav.button.gutter') 0 dt('galleria.nav.button.gutter');
        padding: 0;
        user-select: none;
        border: 0 none;
        cursor: pointer;
        outline-color: transparent;
    }

    .p-galleria-nav-button:not(.p-disabled):hover {
        background: dt('galleria.nav.button.hover.background');
        color: dt('galleria.nav.button.hover.color');
    }

    .p-galleria-nav-button:not(.p-disabled):focus-visible {
        box-shadow: dt('galleria.nav.button.focus.ring.shadow');
        outline: dt('galleria.nav.button.focus.ring.width') dt('galleria.nav.button.focus.ring.style') dt('galleria.nav.button.focus.ring.color');
        outline-offset: dt('galleria.nav.button.focus.ring.offset');
    }

    .p-galleria-next-icon,
    .p-galleria-prev-icon {
        font-size: dt('galleria.nav.icon.size');
        width: dt('galleria.nav.icon.size');
        height: dt('galleria.nav.icon.size');
    }

    .p-galleria-prev-button {
        border-radius: dt('galleria.nav.button.prev.border.radius');
        left: 0;
    }

    .p-galleria-next-button {
        border-radius: dt('galleria.nav.button.next.border.radius');
        right: 0;
    }

    .p-galleria-prev-button:dir(rtl) {
        left: auto;
        right: 0;
        transform: rotate(180deg);
    }

    .p-galleria-next-button:dir(rtl) {
        right: auto;
        left: 0;
        transform: rotate(180deg);
    }

    .p-galleria-item {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
        width: 100%;
    }

    .p-galleria-hover-navigators .p-galleria-nav-button {
        pointer-events: none;
        opacity: 0;
        transition: opacity dt('galleria.transition.duration') ease-in-out;
    }

    .p-galleria-hover-navigators .p-galleria-items-container:hover .p-galleria-nav-button {
        pointer-events: all;
        opacity: 1;
    }

    .p-galleria-hover-navigators .p-galleria-items-container:hover .p-galleria-nav-button.p-disabled {
        pointer-events: none;
    }

    .p-galleria-caption {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        background: dt('galleria.caption.background');
        color: dt('galleria.caption.color');
        padding: dt('galleria.caption.padding');
    }

    .p-galleria-thumbnails {
        display: flex;
        flex-direction: column;
        overflow: auto;
        flex-shrink: 0;
    }

    .p-galleria-thumbnail-nav-button {
        align-self: center;
        flex: 0 0 auto;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        position: relative;
        margin: 0 dt('galleria.thumbnail.nav.button.gutter');
        padding: 0;
        border: none;
        user-select: none;
        cursor: pointer;
        background: transparent;
        color: dt('galleria.thumbnail.nav.button.color');
        width: dt('galleria.thumbnail.nav.button.size');
        height: dt('galleria.thumbnail.nav.button.size');
        transition:
            background dt('galleria.transition.duration'),
            color dt('galleria.transition.duration'),
            outline-color dt('galleria.transition.duration');
        outline-color: transparent;
        border-radius: dt('galleria.thumbnail.nav.button.border.radius');
    }

    .p-galleria-thumbnail-nav-button:hover {
        background: dt('galleria.thumbnail.nav.button.hover.background');
        color: dt('galleria.thumbnail.nav.button.hover.color');
    }

    .p-galleria-thumbnail-nav-button:focus-visible {
        box-shadow: dt('galleria.thumbnail.nav.button.focus.ring.shadow');
        outline: dt('galleria.thumbnail.nav.button.focus.ring.width') dt('galleria.thumbnail.nav.button.focus.ring.style') dt('galleria.thumbnail.nav.button.focus.ring.color');
        outline-offset: dt('galleria.thumbnail.nav.button.focus.ring.offset');
    }

    .p-galleria-thumbnail-nav-button .p-galleria-thumbnail-next-icon,
    .p-galleria-thumbnail-nav-button .p-galleria-thumbnail-prev-icon {
        font-size: dt('galleria.thumbnail.nav.button.icon.size');
        width: dt('galleria.thumbnail.nav.button.icon.size');
        height: dt('galleria.thumbnail.nav.button.icon.size');
    }

    .p-galleria-thumbnails-content {
        display: flex;
        flex-direction: row;
        background: dt('galleria.thumbnails.content.background');
        padding: dt('galleria.thumbnails.content.padding');
    }

    .p-galleria-thumbnails-viewport {
        overflow: hidden;
        width: 100%;
    }

    .p-galleria:not(.p-galleria-thumbnails-right):not(.p-galleria-thumbnails-left) .p-galleria-thumbnail-prev-button:dir(rtl),
    .p-galleria:not(.p-galleria-thumbnails-right):not(.p-galleria-thumbnails-left) .p-galleria-thumbnail-next-button:dir(rtl) {
        transform: rotate(180deg);
    }

    .p-galleria-thumbnail-items {
        display: flex;
    }

    .p-galleria-thumbnail-item {
        overflow: auto;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        opacity: 0.5;
    }

    .p-galleria-thumbnail {
        outline-color: transparent;
    }

    .p-galleria-thumbnail-item:hover {
        opacity: 1;
        transition: opacity 0.3s;
    }

    .p-galleria-thumbnail-item-current {
        opacity: 1;
    }

    .p-galleria-thumbnails-left .p-galleria-content,
    .p-galleria-thumbnails-right .p-galleria-content {
        flex-direction: row;
    }

    .p-galleria-thumbnails-left .p-galleria-items-container,
    .p-galleria-thumbnails-right .p-galleria-items-container {
        flex-direction: row;
    }

    .p-galleria-thumbnails-left .p-galleria-items-container,
    .p-galleria-thumbnails-top .p-galleria-items-container {
        order: 2;
    }

    .p-galleria-thumbnails-left .p-galleria-thumbnails,
    .p-galleria-thumbnails-top .p-galleria-thumbnails {
        order: 1;
    }

    .p-galleria-thumbnails-left .p-galleria-thumbnails-content,
    .p-galleria-thumbnails-right .p-galleria-thumbnails-content {
        flex-direction: column;
        flex-grow: 1;
    }

    .p-galleria-thumbnails-left .p-galleria-thumbnail-items,
    .p-galleria-thumbnails-right .p-galleria-thumbnail-items {
        flex-direction: column;
        height: 100%;
    }

    .p-galleria-indicator-list {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: dt('galleria.indicator.list.padding');
        gap: dt('galleria.indicator.list.gap');
        margin: 0;
        list-style: none;
    }

    .p-galleria-indicator-button {
        display: inline-flex;
        align-items: center;
        background: dt('galleria.indicator.button.background');
        width: dt('galleria.indicator.button.width');
        height: dt('galleria.indicator.button.height');
        transition:
            background dt('galleria.transition.duration'),
            color dt('galleria.transition.duration'),
            outline-color dt('galleria.transition.duration'),
            box-shadow dt('galleria.transition.duration');
        outline-color: transparent;
        border-radius: dt('galleria.indicator.button.border.radius');
        margin: 0;
        padding: 0;
        border: none;
        user-select: none;
        cursor: pointer;
    }

    .p-galleria-indicator-button:hover {
        background: dt('galleria.indicator.button.hover.background');
    }

    .p-galleria-indicator-button:focus-visible {
        box-shadow: dt('galleria.indicator.button.focus.ring.shadow');
        outline: dt('galleria.indicator.button.focus.ring.width') dt('galleria.indicator.button.focus.ring.style') dt('galleria.indicator.button.focus.ring.color');
        outline-offset: dt('galleria.indicator.button.focus.ring.offset');
    }

    .p-galleria-indicator-active .p-galleria-indicator-button {
        background: dt('galleria.indicator.button.active.background');
    }

    .p-galleria-indicators-left .p-galleria-items-container,
    .p-galleria-indicators-right .p-galleria-items-container {
        flex-direction: row;
        align-items: center;
    }

    .p-galleria-indicators-left .p-galleria-items,
    .p-galleria-indicators-top .p-galleria-items {
        order: 2;
    }

    .p-galleria-indicators-left .p-galleria-indicator-list,
    .p-galleria-indicators-top .p-galleria-indicator-list {
        order: 1;
    }

    .p-galleria-indicators-left .p-galleria-indicator-list,
    .p-galleria-indicators-right .p-galleria-indicator-list {
        flex-direction: column;
    }

    .p-galleria-inset-indicators .p-galleria-indicator-list {
        position: absolute;
        display: flex;
        z-index: 1;
        background: dt('galleria.inset.indicator.list.background');
    }

    .p-galleria-inset-indicators .p-galleria-indicator-button {
        background: dt('galleria.inset.indicator.button.background');
    }

    .p-galleria-inset-indicators .p-galleria-indicator-button:hover {
        background: dt('galleria.inset.indicator.button.hover.background');
    }

    .p-galleria-inset-indicators .p-galleria-indicator-active .p-galleria-indicator-button {
        background: dt('galleria.inset.indicator.button.active.background');
    }

    .p-galleria-inset-indicators.p-galleria-indicators-top .p-galleria-indicator-list {
        top: 0;
        left: 0;
        width: 100%;
        align-items: flex-start;
    }

    .p-galleria-inset-indicators.p-galleria-indicators-right .p-galleria-indicator-list {
        right: 0;
        top: 0;
        height: 100%;
        align-items: flex-end;
    }

    .p-galleria-inset-indicators.p-galleria-indicators-bottom .p-galleria-indicator-list {
        bottom: 0;
        left: 0;
        width: 100%;
        align-items: flex-end;
    }

    .p-galleria-inset-indicators.p-galleria-indicators-left .p-galleria-indicator-list {
        left: 0;
        top: 0;
        height: 100%;
        align-items: flex-start;
    }

    .p-galleria-mask {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-galleria-close-button {
        position: absolute !important;
        top: 0;
        right: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        margin: dt('galleria.close.button.gutter');
        background: dt('galleria.close.button.background');
        color: dt('galleria.close.button.color');
        width: dt('galleria.close.button.size');
        height: dt('galleria.close.button.size');
        padding: 0;
        border: none;
        user-select: none;
        cursor: pointer;
        border-radius: dt('galleria.close.button.border.radius');
        outline-color: transparent;
        transition:
            background dt('galleria.transition.duration'),
            color dt('galleria.transition.duration'),
            outline-color dt('galleria.transition.duration');
    }

    .p-galleria-close-icon {
        font-size: dt('galleria.close.button.icon.size');
        width: dt('galleria.close.button.icon.size');
        height: dt('galleria.close.button.icon.size');
    }

    .p-galleria-close-button:hover {
        background: dt('galleria.close.button.hover.background');
        color: dt('galleria.close.button.hover.color');
    }

    .p-galleria-close-button:focus-visible {
        box-shadow: dt('galleria.close.button.focus.ring.shadow');
        outline: dt('galleria.close.button.focus.ring.width') dt('galleria.close.button.focus.ring.style') dt('galleria.close.button.focus.ring.color');
        outline-offset: dt('galleria.close.button.focus.ring.offset');
    }

    .p-galleria-mask .p-galleria-nav-button {
        position: fixed;
        top: 50%;
    }

    .p-galleria-enter-active {
        transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
    }

    .p-galleria-leave-active {
        transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    .p-galleria-enter-from,
    .p-galleria-leave-to {
        opacity: 0;
        transform: scale(0.7);
    }

    .p-galleria-enter-active .p-galleria-nav-button {
        opacity: 0;
    }

    .p-items-hidden .p-galleria-thumbnail-item {
        visibility: hidden;
    }

    .p-items-hidden .p-galleria-thumbnail-item.p-galleria-thumbnail-item-active {
        visibility: visible;
    }
`;var SG=["header"],MG=["footer"],kG=["indicator"],EG=["caption"],PG=["closeicon"],DG=["previousthumbnailicon"],LG=["nextthumbnailicon"],AG=["itempreviousicon"],OG=["itemnexticon"],FG=["item"],VG=["thumbnail"],zG=["mask"],RG=["container"],BG=(t,s)=>({showTransitionParams:t,hideTransitionParams:s}),NG=t=>({value:"visible",params:t});function qG(t,s){if(t&1){let e=Be();A(0,"p-galleriaContent",7),we("@animation.start",function(n){Q(e);let a=M(3);return X(a.onAnimationStart(n))})("@animation.done",function(n){Q(e);let a=M(3);return X(a.onAnimationEnd(n))})("maskHide",function(){Q(e);let n=M(3);return X(n.onMaskHide())})("activeItemChange",function(n){Q(e);let a=M(3);return X(a.onActiveItemChange(n))}),L()}if(t&2){let e=M(3);C("@animation",ot(9,NG,ni(6,BG,e.showTransitionOptions,e.hideTransitionOptions)))("value",e.value)("activeIndex",e.activeIndex)("numVisible",e.numVisibleLimit||e.numVisible)("ngStyle",e.containerStyle)("fullScreen",e.fullScreen)}}function HG(t,s){if(t&1){let e=Be();A(0,"div",5,2),we("click",function(n){Q(e);let a=M(2);return X(a.onMaskHide(n))}),z(2,qG,1,11,"p-galleriaContent",6),L()}if(t&2){let e=M(2);$(e.maskClass),C("ngClass",e.cx("mask")),de("role",e.fullScreen?"dialog":"region")("aria-modal",e.fullScreen?"true":void 0),S(2),C("ngIf",e.visible)}}function jG(t,s){if(t&1&&(A(0,"div",null,1),z(2,HG,3,6,"div",4),L()),t&2){let e=M();S(2),C("ngIf",e.maskVisible)}}function GG(t,s){if(t&1){let e=Be();A(0,"p-galleriaContent",8),we("activeItemChange",function(n){Q(e);let a=M();return X(a.onActiveItemChange(n))}),L()}if(t&2){let e=M();C("value",e.value)("activeIndex",e.activeIndex)("numVisible",e.numVisibleLimit||e.numVisible)}}var UG=["closeButton"],$G=()=>({});function KG(t,s){if(t&1&&(at(),ae(0,"svg",9)),t&2){let e=M(3);$(e.cx("closeIcon"))}}function WG(t,s){}function ZG(t,s){t&1&&z(0,WG,0,0,"ng-template")}function QG(t,s){if(t&1){let e=Be();A(0,"button",6),we("click",function(){Q(e);let n=M(2);return X(n.maskHide.emit())}),z(1,KG,1,2,"svg",7)(2,ZG,1,0,null,8),L()}if(t&2){let e=M(2);$(e.cx("closeButton")),de("aria-label",e.closeAriaLabel())("data-pc-section","closebutton"),S(),C("ngIf",!e.galleria.closeIconTemplate&&!e.galleria._closeIconTemplate),S(),C("ngTemplateOutlet",e.galleria.closeIconTemplate||e.galleria._closeIconTemplate)}}function XG(t,s){if(t&1&&(A(0,"div"),ae(1,"p-galleriaItemSlot",10),L()),t&2){let e=M(2);$(e.cx("header")),S(),C("templates",e.galleria.templates)}}function YG(t,s){if(t&1){let e=Be();A(0,"p-galleriaThumbnails",11),we("onActiveIndexChange",function(n){Q(e);let a=M(2);return X(a.onActiveIndexChange(n))})("stopSlideShow",function(){Q(e);let n=M(2);return X(n.stopSlideShow())}),L()}if(t&2){let e=M(2);C("containerId",e.id)("value",e.value)("activeIndex",e.activeIndex)("templates",e.galleria.templates)("numVisible",e.numVisible)("responsiveOptions",e.galleria.responsiveOptions)("circular",e.galleria.circular)("isVertical",e.isVertical())("contentHeight",e.galleria.verticalThumbnailViewPortHeight)("showThumbnailNavigators",e.galleria.showThumbnailNavigators)("slideShowActive",e.slideShowActive)}}function JG(t,s){if(t&1&&(A(0,"div"),ae(1,"p-galleriaItemSlot",12),L()),t&2){let e=M(2);$(e.cx("footer")),S(),C("templates",e.galleria.templates)}}function eU(t,s){if(t&1){let e=Be();A(0,"div",1),z(1,QG,3,6,"button",2)(2,XG,2,3,"div",3),A(3,"div")(4,"p-galleriaItem",4),we("onActiveIndexChange",function(n){Q(e);let a=M();return X(a.onActiveIndexChange(n))})("startSlideShow",function(){Q(e);let n=M();return X(n.startSlideShow())})("stopSlideShow",function(){Q(e);let n=M();return X(n.stopSlideShow())}),L(),z(5,YG,1,11,"p-galleriaThumbnails",5),L(),z(6,JG,2,3,"div",3),L()}if(t&2){let e=M();$(e.cn(e.cx("root"),e.galleria.containerClass)),C("ngStyle",e.galleria.fullScreen?Zt(25,$G):e.galleria.containerStyle)("pFocusTrapDisabled",!e.fullScreen),de("id",e.id)("role","region"),S(),C("ngIf",e.galleria.fullScreen),S(),C("ngIf",e.galleria.templates&&(e.galleria.headerFacet||e.galleria.headerTemplate)),S(),$(e.cx("content")),de("aria-live",e.galleria.autoPlay?"polite":"off"),S(),C("id",e.id)("value",e.value)("activeIndex",e.activeIndex)("circular",e.galleria.circular)("templates",e.galleria.templates)("showIndicators",e.galleria.showIndicators)("changeItemOnIndicatorHover",e.galleria.changeItemOnIndicatorHover)("indicatorFacet",e.galleria.indicatorFacet)("captionFacet",e.galleria.captionFacet)("showItemNavigators",e.galleria.showItemNavigators)("autoPlay",e.galleria.autoPlay)("slideShowActive",e.slideShowActive),S(),C("ngIf",e.galleria.showThumbnails),S(),C("ngIf",e.shouldRenderFooter())}}function tU(t,s){t&1&&nt(0)}function iU(t,s){if(t&1&&(Ke(0),z(1,tU,1,0,"ng-container",1),We()),t&2){let e=M();S(),C("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",e.context)}}var nU=t=>({index:t});function aU(t,s){if(t&1&&(at(),ae(0,"svg",7)),t&2){let e=M(2);$(e.cx("prevIcon"))}}function oU(t,s){}function rU(t,s){t&1&&z(0,oU,0,0,"ng-template")}function sU(t,s){if(t&1){let e=Be();A(0,"button",4),we("click",function(n){Q(e);let a=M();return X(a.navBackward(n))})("focus",function(){Q(e);let n=M();return X(n.onButtonFocus("left"))})("blur",function(){Q(e);let n=M();return X(n.onButtonBlur("left"))}),z(1,aU,1,2,"svg",5)(2,rU,1,0,null,6),L()}if(t&2){let e=M();$(e.cx("prevButton")),S(),C("ngIf",!e.galleria.itemPreviousIconTemplate&&!e.galleria._itemPreviousIconTemplate),S(),C("ngTemplateOutlet",e.galleria.itemPreviousIconTemplate||e.galleria._itemPreviousIconTemplate)}}function lU(t,s){if(t&1&&(at(),ae(0,"svg",9)),t&2){let e=M(2);$(e.cx("nextIcon"))}}function cU(t,s){}function dU(t,s){t&1&&z(0,cU,0,0,"ng-template")}function uU(t,s){if(t&1){let e=Be();A(0,"button",4),we("click",function(n){Q(e);let a=M();return X(a.navForward(n))})("focus",function(){Q(e);let n=M();return X(n.onButtonFocus("right"))})("blur",function(){Q(e);let n=M();return X(n.onButtonBlur("right"))}),z(1,lU,1,2,"svg",8)(2,dU,1,0,null,6),L()}if(t&2){let e=M();$(e.cx("nextButton")),S(),C("ngIf",!e.galleria.itemNextIconTemplate&&!e.galleria._itemNextIconTemplate),S(),C("ngTemplateOutlet",e.galleria.itemNextIconTemplate||e.galleria._itemNextIconTemplate)}}function pU(t,s){if(t&1&&(A(0,"div"),ae(1,"p-galleriaItemSlot",10),L()),t&2){let e=M();$(e.cx("caption")),S(),C("item",e.activeItem)("templates",e.templates)}}function hU(t,s){if(t&1&&ae(0,"button",15),t&2){let e=M(3);$(e.cx("indicatorButton"))}}function mU(t,s){if(t&1){let e=Be();A(0,"li",12),we("click",function(){let n=Q(e).index,a=M(2);return X(a.onIndicatorClick(n))})("mouseenter",function(){let n=Q(e).index,a=M(2);return X(a.onIndicatorMouseEnter(n))})("keydown",function(n){let a=Q(e).index,u=M(2);return X(u.onIndicatorKeyDown(n,a))}),z(1,hU,1,2,"button",13),ae(2,"p-galleriaItemSlot",14),L()}if(t&2){let e=s.index,i=M(2);$(i.cx("indicator",ot(8,nU,e))),de("aria-label",i.ariaPageLabel(e+1))("aria-selected",i.activeIndex===e)("aria-controls",i.id+"_item_"+e),S(),C("ngIf",!i.indicatorFacet&&!i.galleria.indicatorTemplate),S(),C("index",e)("templates",i.templates)}}function fU(t,s){if(t&1&&(A(0,"ul"),z(1,mU,3,10,"li",11),L()),t&2){let e=M();$(e.cx("indicatorList")),S(),C("ngForOf",e.value)}}var gU=["itemsContainer"],_U=t=>({height:t}),bU=(t,s)=>({index:t,activeIndex:s});function yU(t,s){if(t&1&&(at(),ae(0,"svg",10)),t&2){let e=M(3);$(e.cx("thumbnailPrevIcon"))}}function vU(t,s){if(t&1&&(at(),ae(0,"svg",11)),t&2){let e=M(3);$(e.cx("thumbnailPrevIcon"))}}function xU(t,s){if(t&1&&(Ke(0),z(1,yU,1,2,"svg",8)(2,vU,1,2,"svg",9),We()),t&2){let e=M(2);S(),C("ngIf",!e.isVertical),S(),C("ngIf",e.isVertical)}}function wU(t,s){}function IU(t,s){t&1&&z(0,wU,0,0,"ng-template")}function TU(t,s){if(t&1){let e=Be();A(0,"button",5),we("click",function(n){Q(e);let a=M();return X(a.navBackward(n))}),z(1,xU,3,2,"ng-container",6)(2,IU,1,0,null,7),L()}if(t&2){let e=M();$(e.cx("thumbnailPrevButton")),de("aria-label",e.ariaPrevButtonLabel()),S(),C("ngIf",!e.galleria.previousThumbnailIconTemplate&&!e.galleria._previousThumbnailIconTemplate),S(),C("ngTemplateOutlet",e.galleria.previousThumbnailIconTemplate||e.galleria._previousThumbnailIconTemplate)}}function CU(t,s){if(t&1){let e=Be();A(0,"div",12),we("keydown",function(n){let a=Q(e).index,u=M();return X(u.onThumbnailKeydown(n,a))}),A(1,"div",13),we("click",function(){let n=Q(e).index,a=M();return X(a.onItemClick(n))})("touchend",function(){let n=Q(e).index,a=M();return X(a.onItemClick(n))})("keydown.enter",function(){let n=Q(e).index,a=M();return X(a.onItemClick(n))}),ae(2,"p-galleriaItemSlot",14),L()()}if(t&2){let e=s.$implicit,i=s.index,n=M();$(n.cx("thumbnailItem",ni(13,bU,i,n.activeIndex))),de("aria-selected",n.activeIndex===i)("aria-controls",n.containerId+"_item_"+i)("data-pc-section","thumbnailitem")("data-p-active",n.activeIndex===i),S(),$(n.cx("thumbnail")),de("tabindex",n.activeIndex===i?0:-1)("aria-current",n.activeIndex===i?"page":void 0)("aria-label",n.ariaPageLabel(i+1)),S(),C("item",e)("templates",n.templates)}}function SU(t,s){if(t&1&&(at(),ae(0,"svg",17)),t&2){let e=M(3);$(e.cx("thumbnailNextIcon"))}}function MU(t,s){if(t&1&&(at(),ae(0,"svg",18)),t&2){let e=M(3);$(e.cx("thumbnailNextIcon"))}}function kU(t,s){if(t&1&&(Ke(0),z(1,SU,1,2,"svg",15)(2,MU,1,2,"svg",16),We()),t&2){let e=M(2);S(),C("ngIf",!e.isVertical),S(),C("ngIf",e.isVertical)}}function EU(t,s){}function PU(t,s){t&1&&z(0,EU,0,0,"ng-template")}function DU(t,s){if(t&1){let e=Be();A(0,"button",5),we("click",function(n){Q(e);let a=M();return X(a.navForward(n))}),z(1,kU,3,2,"ng-container",6)(2,PU,1,0,null,7),L()}if(t&2){let e=M();$(e.cx("thumbnailNextButton")),de("aria-label",e.ariaNextButtonLabel()),S(),C("ngIf",!e.galleria.nextThumbnailIconTemplate&&!e.galleria._nextThumbnailIconTemplate),S(),C("ngTemplateOutlet",e.galleria.nextThumbnailIconTemplate||e.galleria._nextThumbnailIconTemplate)}}var LU={mask:"p-galleria-mask p-overlay-mask p-overlay-mask-enter",root:({instance:t})=>{let s=t.galleria.showThumbnails&&t.getPositionClass("p-galleria-thumbnails",t.galleria.thumbnailsPosition),e=t.galleria.showIndicators&&t.getPositionClass("p-galleria-indicators",t.galleria.indicatorsPosition);return["p-galleria p-component",{"p-galleria-fullscreen":t.galleria.fullScreen,"p-galleria-inset-indicators":t.galleria.showIndicatorsOnItem,"p-galleria-hover-navigators":t.galleria.showItemNavigatorsOnHover&&!t.galleria.fullScreen},s,e]},closeButton:"p-galleria-close-button",closeIcon:"p-galleria-close-icon",header:"p-galleria-header",content:"p-galleria-content",footer:"p-galleria-footer",itemsContainer:"p-galleria-items-container",items:"p-galleria-items",prevButton:({instance:t})=>["p-galleria-prev-button p-galleria-nav-button",{"p-disabled":t.isNavBackwardDisabled()}],prevIcon:"p-galleria-prev-icon",item:"p-galleria-item",nextButton:({instance:t})=>["p-galleria-next-button p-galleria-nav-button",{"p-disabled":t.isNavForwardDisabled()}],nextIcon:"p-galleria-next-icon",caption:"p-galleria-caption",indicatorList:"p-galleria-indicator-list",indicator:({instance:t,index:s})=>["p-galleria-indicator",{"p-galleria-indicator-active":t.isIndicatorItemActive(s)}],indicatorButton:"p-galleria-indicator-button",thumbnails:"p-galleria-thumbnails",thumbnailContent:"p-galleria-thumbnails-content",thumbnailPrevButton:({instance:t})=>["p-galleria-thumbnail-prev-button p-galleria-thumbnail-nav-button",{"p-disabled":t.isNavBackwardDisabled()}],thumbnailPrevIcon:"p-galleria-thumbnail-prev-icon",thumbnailsViewport:"p-galleria-thumbnails-viewport",thumbnailItems:"p-galleria-thumbnail-items",thumbnailItem:({instance:t,index:s,activeIndex:e})=>["p-galleria-thumbnail-item",{"p-galleria-thumbnail-item-current":e===s,"p-galleria-thumbnail-item-active":t.isItemActive(s),"p-galleria-thumbnail-item-start":t.firstItemAciveIndex()===s,"p-galleria-thumbnail-item-end":t.lastItemActiveIndex()===s}],thumbnail:"p-galleria-thumbnail",thumbnailNextButton:({instance:t})=>["p-galleria-thumbnail-next-button  p-galleria-thumbnail-nav-button",{"p-disabled":t.isNavForwardDisabled()}],thumbnailNextIcon:"p-galleria-thumbnail-next-icon"},zc=(()=>{class t extends Rt{name="galleria";theme=sS;classes=LU;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var Up=(()=>{class t extends Ot{platformId;element;cd;get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e}fullScreen=!1;id;value;numVisible=3;responsiveOptions;showItemNavigators=!1;showThumbnailNavigators=!0;showItemNavigatorsOnHover=!1;changeItemOnIndicatorHover=!1;circular=!1;autoPlay=!1;shouldStopAutoplayByClick=!0;transitionInterval=4e3;showThumbnails=!0;thumbnailsPosition="bottom";verticalThumbnailViewPortHeight="300px";showIndicators=!1;showIndicatorsOnItem=!1;indicatorsPosition="bottom";baseZIndex=0;maskClass;containerClass;containerStyle;showTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}activeIndexChange=new Le;visibleChange=new Le;mask;container;_visible=!1;_activeIndex=0;headerTemplate;headerFacet;footerTemplate;footerFacet;indicatorTemplate;indicatorFacet;captionTemplate;captionFacet;_closeIconTemplate;closeIconTemplate;_previousThumbnailIconTemplate;previousThumbnailIconTemplate;_nextThumbnailIconTemplate;nextThumbnailIconTemplate;_itemPreviousIconTemplate;itemPreviousIconTemplate;_itemNextIconTemplate;itemNextIconTemplate;_itemTemplate;itemTemplate;_thumbnailTemplate;thumbnailTemplate;maskVisible=!1;numVisibleLimit=0;_componentStyle=Fe(zc);constructor(e,i,n){super(),this.platformId=e,this.element=i,this.cd=n}templates;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this.headerFacet=e.template;break;case"footer":this.footerFacet=e.template;break;case"indicator":this.indicatorFacet=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;case"itemnexticon":this.itemNextIconTemplate=e.template;break;case"itempreviousicon":this.itemPreviousIconTemplate=e.template;break;case"previousthumbnailicon":this.previousThumbnailIconTemplate=e.template;break;case"nextthumbnailicon":this.nextThumbnailIconTemplate=e.template;break;case"caption":this.captionFacet=e.template;break;case"item":this.itemTemplate=e.template;break;case"thumbnail":this.thumbnailTemplate=e.template;break}})}ngOnChanges(e){super.ngOnChanges(e),e.value&&e.value.currentValue?.length<this.numVisible?this.numVisibleLimit=e.value.currentValue.length:this.numVisibleLimit=0}onMaskHide(e){(!e||e.target===e.currentTarget)&&(this.visible=!1,this.visibleChange.emit(!1))}onActiveItemChange(e){this.activeIndex!==e&&(this.activeIndex=e,this.activeIndexChange.emit(e))}onAnimationStart(e){switch(e.toState){case"visible":this.enableModality(),setTimeout(()=>{$t(ei(this.container.nativeElement,'[data-pc-section="closebutton"]'))},25);break;case"void":Hn(this.mask?.nativeElement,"p-overlay-mask-leave");break}}onAnimationEnd(e){switch(e.toState){case"void":this.disableModality();break}}enableModality(){hp(),this.cd.markForCheck(),this.mask&&qi.set("modal",this.mask.nativeElement,this.baseZIndex||this.config.zIndex.modal)}disableModality(){uc(),this.maskVisible=!1,this.cd.markForCheck(),this.mask&&qi.clear(this.mask.nativeElement)}ngOnDestroy(){this.fullScreen&&Pa(this.document.body,"p-overflow-hidden"),this.mask&&this.disableModality()}static \u0275fac=function(i){return new(i||t)(Dt(nc),Dt(ua),Dt(nr))};static \u0275cmp=Je({type:t,selectors:[["p-galleria"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,SG,4),xe(a,MG,4),xe(a,kG,4),xe(a,EG,4),xe(a,PG,4),xe(a,DG,4),xe(a,LG,4),xe(a,AG,4),xe(a,OG,4),xe(a,FG,4),xe(a,VG,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.headerTemplate=u.first),se(u=le())&&(n.footerTemplate=u.first),se(u=le())&&(n.indicatorTemplate=u.first),se(u=le())&&(n.captionTemplate=u.first),se(u=le())&&(n._closeIconTemplate=u.first),se(u=le())&&(n._previousThumbnailIconTemplate=u.first),se(u=le())&&(n._nextThumbnailIconTemplate=u.first),se(u=le())&&(n._itemPreviousIconTemplate=u.first),se(u=le())&&(n._itemNextIconTemplate=u.first),se(u=le())&&(n._itemTemplate=u.first),se(u=le())&&(n._thumbnailTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&(ut(zG,5),ut(RG,5)),i&2){let a;se(a=le())&&(n.mask=a.first),se(a=le())&&(n.container=a.first)}},inputs:{activeIndex:"activeIndex",fullScreen:[2,"fullScreen","fullScreen",ye],id:"id",value:"value",numVisible:[2,"numVisible","numVisible",wt],responsiveOptions:"responsiveOptions",showItemNavigators:[2,"showItemNavigators","showItemNavigators",ye],showThumbnailNavigators:[2,"showThumbnailNavigators","showThumbnailNavigators",ye],showItemNavigatorsOnHover:[2,"showItemNavigatorsOnHover","showItemNavigatorsOnHover",ye],changeItemOnIndicatorHover:[2,"changeItemOnIndicatorHover","changeItemOnIndicatorHover",ye],circular:[2,"circular","circular",ye],autoPlay:[2,"autoPlay","autoPlay",ye],shouldStopAutoplayByClick:[2,"shouldStopAutoplayByClick","shouldStopAutoplayByClick",ye],transitionInterval:[2,"transitionInterval","transitionInterval",wt],showThumbnails:[2,"showThumbnails","showThumbnails",ye],thumbnailsPosition:"thumbnailsPosition",verticalThumbnailViewPortHeight:"verticalThumbnailViewPortHeight",showIndicators:[2,"showIndicators","showIndicators",ye],showIndicatorsOnItem:[2,"showIndicatorsOnItem","showIndicatorsOnItem",ye],indicatorsPosition:"indicatorsPosition",baseZIndex:[2,"baseZIndex","baseZIndex",wt],maskClass:"maskClass",containerClass:"containerClass",containerStyle:"containerStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",visible:"visible"},outputs:{activeIndexChange:"activeIndexChange",visibleChange:"visibleChange"},standalone:!1,features:[_t([zc]),ft,Eo],decls:3,vars:2,consts:[["windowed",""],["container",""],["mask",""],[4,"ngIf","ngIfElse"],[3,"ngClass","class","click",4,"ngIf"],[3,"click","ngClass"],[3,"value","activeIndex","numVisible","ngStyle","fullScreen","maskHide","activeItemChange",4,"ngIf"],[3,"maskHide","activeItemChange","value","activeIndex","numVisible","ngStyle","fullScreen"],[3,"activeItemChange","value","activeIndex","numVisible"]],template:function(i,n){if(i&1&&z(0,jG,3,1,"div",3)(1,GG,1,3,"ng-template",null,0,ze),i&2){let a=Gt(2);C("ngIf",n.fullScreen)("ngIfElse",a)}},dependencies:()=>[ka,Ut,fi,AU],encapsulation:2,data:{animation:[qn("animation",[Fi("void => visible",[Oi({transform:"scale(0.7)",opacity:0}),Ni("{{showTransitionParams}}")]),Fi("visible => void",[Ni("{{hideTransitionParams}}",Oi({transform:"scale(0.7)",opacity:0}))])])]},changeDetection:0})}return t})(),AU=(()=>{class t extends Ot{galleria;cd;differs;elementRef;get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e}value=[];numVisible;fullScreen;maskHide=new Le;activeItemChange=new Le;closeButton;_componentStyle=Fe(zc);id;_activeIndex=0;slideShowActive=!0;interval;styleClass;differ;constructor(e,i,n,a){super(),this.galleria=e,this.cd=i,this.differs=n,this.elementRef=a,this.id=this.galleria.id||vi("pn_id_"),this.differ=this.differs.find(this.galleria).create()}handleFullscreenChange(e){document?.fullscreenElement===this.elementRef.nativeElement?.children[0]?this.fullScreen=!0:this.fullScreen=!1}ngDoCheck(){if(ii(this.galleria.platformId)){let e=this.differ.diff(this.galleria);e&&e.forEachItem.length>0&&this.cd.markForCheck()}}shouldRenderFooter(){return this.galleria.footerFacet&&this.galleria.templates.toArray().length>0||this.galleria.footerTemplate}startSlideShow(){ii(this.galleria.platformId)&&(this.interval=setInterval(()=>{let e=this.galleria.circular&&this.value.length-1===this.activeIndex?0:this.activeIndex+1;this.onActiveIndexChange(e),this.activeIndex=e},this.galleria.transitionInterval),this.slideShowActive=!0)}stopSlideShow(){this.galleria.autoPlay&&!this.galleria.shouldStopAutoplayByClick||(this.interval&&clearInterval(this.interval),this.slideShowActive=!1)}getPositionClass(e,i){let a=["top","left","bottom","right"].find(u=>u===i);return a?`${e}-${a}`:""}isVertical(){return this.galleria.thumbnailsPosition==="left"||this.galleria.thumbnailsPosition==="right"}onActiveIndexChange(e){this.activeIndex!==e&&(this.activeIndex=e,this.activeItemChange.emit(this.activeIndex))}closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}static \u0275fac=function(i){return new(i||t)(Dt(Up),Dt(nr),Dt(Tw),Dt(ua))};static \u0275cmp=Je({type:t,selectors:[["p-galleriaContent"]],viewQuery:function(i,n){if(i&1&&ut(UG,5),i&2){let a;se(a=le())&&(n.closeButton=a.first)}},hostBindings:function(i,n){i&1&&we("fullscreenchange",function(u){return n.handleFullscreenChange(u)},cp)},inputs:{activeIndex:"activeIndex",value:"value",numVisible:[2,"numVisible","numVisible",wt],fullScreen:[2,"fullScreen","fullScreen",ye]},outputs:{maskHide:"maskHide",activeItemChange:"activeItemChange"},standalone:!1,features:[_t([zc]),ft],decls:1,vars:1,consts:[["pFocusTrap","",3,"class","ngStyle","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","",3,"ngStyle","pFocusTrapDisabled"],["type","button",3,"class","click",4,"ngIf"],[3,"class",4,"ngIf"],[3,"onActiveIndexChange","startSlideShow","stopSlideShow","id","value","activeIndex","circular","templates","showIndicators","changeItemOnIndicatorHover","indicatorFacet","captionFacet","showItemNavigators","autoPlay","slideShowActive"],[3,"containerId","value","activeIndex","templates","numVisible","responsiveOptions","circular","isVertical","contentHeight","showThumbnailNavigators","slideShowActive","onActiveIndexChange","stopSlideShow",4,"ngIf"],["type","button",3,"click"],["data-p-icon","times",3,"class",4,"ngIf"],[4,"ngTemplateOutlet"],["data-p-icon","times"],["type","header",3,"templates"],[3,"onActiveIndexChange","stopSlideShow","containerId","value","activeIndex","templates","numVisible","responsiveOptions","circular","isVertical","contentHeight","showThumbnailNavigators","slideShowActive"],["type","footer",3,"templates"]],template:function(i,n){i&1&&z(0,eU,7,26,"div",0),i&2&&C("ngIf",n.value&&n.value.length>0)},dependencies:()=>[Ut,Yt,fi,Ar,xp,Cv,OU,FU],encapsulation:2,changeDetection:0})}return t})(),Cv=(()=>{class t{templates;index;get item(){return this._item}shouldRender(){return this.contentTemplate||this.galleria._itemTemplate||this.galleria.itemTemplate||this.galleria.captionTemplate||this.galleria.captionTemplate||this.galleria.captionFacet||this.galleria.thumbnailTemplate||this.galleria._thumbnailTemplate||this.galleria.footerTemplate}galleria=Fe(Up);set item(e){this._item=e,this.templates&&this.templates?.toArray().length>0?this.templates.forEach(i=>{if(i.getType()===this.type)switch(this.type){case"item":case"caption":case"thumbnail":this.context={$implicit:this.item},this.contentTemplate=i.template;break;case"footer":this.context={$implicit:this.item},this.contentTemplate=i.template;break}}):this.getContentTemplate()}getContentTemplate(){switch(this.type){case"item":this.context={$implicit:this.item},this.contentTemplate=this.galleria._itemTemplate||this.galleria.itemTemplate;break;case"caption":this.context={$implicit:this.item},this.contentTemplate=this.galleria.captionTemplate||this.galleria.captionFacet;break;case"thumbnail":this.context={$implicit:this.item},this.contentTemplate=this.galleria.thumbnailTemplate||this.galleria._thumbnailTemplate;break;case"indicator":this.context={$implicit:this.index},this.contentTemplate=this.galleria.indicatorTemplate||this.galleria.indicatorFacet;break;case"footer":this.context={$implicit:this.item},this.contentTemplate=this.galleria.footerTemplate||this.galleria.footerFacet;break;default:this.context={$implicit:this.item},this.contentTemplate=this.galleria._itemTemplate||this.galleria.itemTemplate}}type;contentTemplate;context;_item;ngAfterContentInit(){this.templates&&this.templates.toArray().length>0?this.templates?.forEach(e=>{if(e.getType()===this.type)switch(this.type){case"item":case"caption":case"thumbnail":this.context={$implicit:this.item},this.contentTemplate=e.template;break;case"indicator":this.context={$implicit:this.index},this.contentTemplate=e.template;break;case"footer":this.context={$implicit:this.item},this.contentTemplate=e.template;break;default:this.context={$implicit:this.item},this.contentTemplate=e.template;break}}):this.getContentTemplate()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Je({type:t,selectors:[["p-galleriaItemSlot"]],inputs:{templates:"templates",index:[2,"index","index",wt],item:"item",type:"type"},standalone:!1,decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){i&1&&z(0,iU,2,2,"ng-container",0),i&2&&C("ngIf",n.shouldRender())},dependencies:[Ut,Yt],encapsulation:2,changeDetection:0})}return t})(),OU=(()=>{class t extends Ot{galleria;id;circular=!1;value;showItemNavigators=!1;showIndicators=!0;slideShowActive=!0;changeItemOnIndicatorHover=!0;autoPlay=!1;templates;indicatorFacet;captionFacet;startSlideShow=new Le;stopSlideShow=new Le;onActiveIndexChange=new Le;_componentStyle=Fe(zc);get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e}get activeItem(){return this.value&&this.value[this._activeIndex]}_activeIndex=0;leftButtonFocused=!1;rightButtonFocused=!1;constructor(e){super(),this.galleria=e}ngOnChanges({autoPlay:e}){super.ngOnChanges({autoPlay:e}),e?.currentValue&&this.startSlideShow.emit(),e&&e.currentValue===!1&&this.stopTheSlideShow()}next(){let e=this.activeIndex+1,i=this.circular&&this.value.length-1===this.activeIndex?0:e;this.onActiveIndexChange.emit(i)}prev(){let e=this.activeIndex!==0?this.activeIndex-1:0,i=this.circular&&this.activeIndex===0?this.value.length-1:e;this.onActiveIndexChange.emit(i)}onButtonFocus(e){e==="left"?this.leftButtonFocused=!0:this.rightButtonFocused=!0}onButtonBlur(e){e==="left"?this.leftButtonFocused=!1:this.rightButtonFocused=!1}stopTheSlideShow(){this.slideShowActive&&this.stopSlideShow&&this.stopSlideShow.emit()}navForward(e){this.stopTheSlideShow(),this.next(),e&&e.cancelable&&e.preventDefault()}navBackward(e){this.stopTheSlideShow(),this.prev(),e&&e.cancelable&&e.preventDefault()}onIndicatorClick(e){this.stopTheSlideShow(),this.onActiveIndexChange.emit(e)}onIndicatorMouseEnter(e){this.changeItemOnIndicatorHover&&(this.stopTheSlideShow(),this.onActiveIndexChange.emit(e))}onIndicatorKeyDown(e,i){switch(e.code){case"Enter":case"Space":this.stopTheSlideShow(),this.onActiveIndexChange.emit(i),e.preventDefault();break;case"ArrowDown":case"ArrowUp":e.preventDefault();break;default:break}}isNavForwardDisabled(){return!this.circular&&this.activeIndex===this.value.length-1}isNavBackwardDisabled(){return!this.circular&&this.activeIndex===0}isIndicatorItemActive(e){return this.activeIndex===e}ariaSlideLabel(){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.slide:void 0}ariaSlideNumber(e){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.slideNumber.replace(/{slideNumber}/g,e):void 0}ariaPageLabel(e){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.pageLabel.replace(/{page}/g,e):void 0}static \u0275fac=function(i){return new(i||t)(Dt(Up))};static \u0275cmp=Je({type:t,selectors:[["p-galleriaItem"]],hostVars:2,hostBindings:function(i,n){i&2&&$(n.cx("itemsContainer"))},inputs:{id:"id",circular:[2,"circular","circular",ye],value:"value",showItemNavigators:[2,"showItemNavigators","showItemNavigators",ye],showIndicators:[2,"showIndicators","showIndicators",ye],slideShowActive:[2,"slideShowActive","slideShowActive",ye],changeItemOnIndicatorHover:[2,"changeItemOnIndicatorHover","changeItemOnIndicatorHover",ye],autoPlay:[2,"autoPlay","autoPlay",ye],templates:"templates",indicatorFacet:"indicatorFacet",captionFacet:"captionFacet",activeIndex:"activeIndex"},outputs:{startSlideShow:"startSlideShow",stopSlideShow:"stopSlideShow",onActiveIndexChange:"onActiveIndexChange"},standalone:!1,features:[_t([zc]),ft,Eo],decls:7,vars:15,consts:[["type","button","role","navigation",3,"class","click","focus","blur",4,"ngIf"],["role","group",3,"id"],["type","item",3,"item","templates"],[3,"class",4,"ngIf"],["type","button","role","navigation",3,"click","focus","blur"],["data-p-icon","chevron-left",3,"class",4,"ngIf"],[4,"ngTemplateOutlet"],["data-p-icon","chevron-left"],["data-p-icon","chevron-right",3,"class",4,"ngIf"],["data-p-icon","chevron-right"],["type","caption",3,"item","templates"],["tabindex","0",3,"class","click","mouseenter","keydown",4,"ngFor","ngForOf"],["tabindex","0",3,"click","mouseenter","keydown"],["type","button","tabIndex","-1",3,"class",4,"ngIf"],["type","indicator",3,"index","templates"],["type","button","tabIndex","-1"]],template:function(i,n){i&1&&(A(0,"div"),z(1,sU,3,4,"button",0),A(2,"div",1),ae(3,"p-galleriaItemSlot",2),L(),z(4,uU,3,4,"button",0)(5,pU,2,4,"div",3),L(),z(6,fU,2,3,"ul",3)),i&2&&($(n.cx("items")),S(),C("ngIf",n.showItemNavigators),S(),$(n.cx("item")),C("id",n.id+"_item_"+n.activeIndex),de("aria-label",n.ariaSlideNumber(n.activeIndex+1))("aria-roledescription",n.ariaSlideLabel()),S(),$(n.cx("item")),C("item",n.activeItem)("templates",n.templates),S(),C("ngIf",n.showItemNavigators),S(),C("ngIf",n.captionFacet||n.galleria.captionTemplate),S(),C("ngIf",n.showIndicators))},dependencies:()=>[Bi,Ut,Yt,so,mc,Cv],encapsulation:2,changeDetection:0})}return t})(),FU=(()=>{class t extends Ot{galleria;containerId;value;isVertical=!1;slideShowActive=!1;circular=!1;responsiveOptions;contentHeight="300px";showThumbnailNavigators=!0;templates;onActiveIndexChange=new Le;stopSlideShow=new Le;itemsContainer;get numVisible(){return this._numVisible}set numVisible(e){this._numVisible=e,this._oldNumVisible=this.d_numVisible,this.d_numVisible=e}get activeIndex(){return this._activeIndex}set activeIndex(e){this._oldactiveIndex=this._activeIndex,this._activeIndex=e}index;startPos=null;thumbnailsStyle=null;sortedResponsiveOptions=null;totalShiftedItems=0;page=0;documentResizeListener;_numVisible=0;d_numVisible=0;_oldNumVisible=0;_activeIndex=0;_oldactiveIndex=0;_componentStyle=Fe(zc);constructor(e){super(),this.galleria=e}ngOnInit(){super.ngOnInit(),ii(this.platformId)&&(this.createStyle(),this.responsiveOptions&&this.bindDocumentListeners())}ngAfterContentChecked(){let e=this.totalShiftedItems;(this._oldNumVisible!==this.d_numVisible||this._oldactiveIndex!==this._activeIndex)&&this.itemsContainer&&(this._activeIndex<=this.getMedianItemIndex()?e=0:this.value.length-this.d_numVisible+this.getMedianItemIndex()<this._activeIndex?e=this.d_numVisible-this.value.length:this.value.length-this.d_numVisible<this._activeIndex&&this.d_numVisible%2===0?e=this._activeIndex*-1+this.getMedianItemIndex()+1:e=this._activeIndex*-1+this.getMedianItemIndex(),e!==this.totalShiftedItems&&(this.totalShiftedItems=e),this.itemsContainer&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical?`translate3d(0, ${e*(100/this.d_numVisible)}%, 0)`:`translate3d(${e*(100/this.d_numVisible)}%, 0, 0)`),this._oldactiveIndex!==this._activeIndex&&(Pa(this.itemsContainer.nativeElement,"p-items-hidden"),this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this._oldactiveIndex=this._activeIndex,this._oldNumVisible=this.d_numVisible)}ngAfterViewInit(){super.ngAfterViewInit(),ii(this.platformId)&&this.calculatePosition()}createStyle(){this.thumbnailsStyle||(this.thumbnailsStyle=this.document.createElement("style"),this.document.body.appendChild(this.thumbnailsStyle));let e=`
            #${this.containerId} .p-galleria-thumbnail-item {
                flex: 1 0 ${100/this.d_numVisible}%
            }
        `;if(this.responsiveOptions){this.sortedResponsiveOptions=[...this.responsiveOptions],this.sortedResponsiveOptions.sort((i,n)=>{let a=i.breakpoint,u=n.breakpoint,b=null;return a==null&&u!=null?b=-1:a!=null&&u==null?b=1:a==null&&u==null?b=0:typeof a=="string"&&typeof u=="string"?b=a.localeCompare(u,void 0,{numeric:!0}):b=a<u?-1:a>u?1:0,-1*b});for(let i=0;i<this.sortedResponsiveOptions.length;i++){let n=this.sortedResponsiveOptions[i];e+=`
                    @media screen and (max-width: ${n.breakpoint}) {
                        #${this.containerId} .p-galleria-thumbnail-item {
                            flex: 1 0 ${100/n.numVisible}%
                        }
                    }
                `}}this.thumbnailsStyle.innerHTML=e,rs(this.thumbnailsStyle,"nonce",this.galleria.config?.csp()?.nonce)}calculatePosition(){if(ii(this.platformId)&&this.itemsContainer&&this.sortedResponsiveOptions){let e=window.innerWidth,i={numVisible:this._numVisible};for(let n=0;n<this.sortedResponsiveOptions.length;n++){let a=this.sortedResponsiveOptions[n];parseInt(a.breakpoint,10)>=e&&(i=a)}this.d_numVisible!==i.numVisible&&(this.d_numVisible=i.numVisible,this.cd.markForCheck())}}getTabIndex(e){return this.isItemActive(e)?0:null}navForward(e){this.stopTheSlideShow();let i=this._activeIndex+1;i+this.totalShiftedItems>this.getMedianItemIndex()&&(-1*this.totalShiftedItems<this.getTotalPageNumber()-1||this.circular)&&this.step(-1);let n=this.circular&&this.value.length-1===this._activeIndex?0:i;this.onActiveIndexChange.emit(n),e.cancelable&&e.preventDefault()}navBackward(e){this.stopTheSlideShow();let i=this._activeIndex!==0?this._activeIndex-1:0,n=i+this.totalShiftedItems;this.d_numVisible-n-1>this.getMedianItemIndex()&&(-1*this.totalShiftedItems!==0||this.circular)&&this.step(1);let a=this.circular&&this._activeIndex===0?this.value.length-1:i;this.onActiveIndexChange.emit(a),e.cancelable&&e.preventDefault()}onItemClick(e){this.stopTheSlideShow();let i=e;if(i!==this._activeIndex){let n=i+this.totalShiftedItems,a=0;i<this._activeIndex?(a=this.d_numVisible-n-1-this.getMedianItemIndex(),a>0&&-1*this.totalShiftedItems!==0&&this.step(a)):(a=this.getMedianItemIndex()-n,a<0&&-1*this.totalShiftedItems<this.getTotalPageNumber()-1&&this.step(a)),this.activeIndex=i,this.onActiveIndexChange.emit(this.activeIndex)}}onThumbnailKeydown(e,i){switch((e.code==="Enter"||e.code==="Space")&&(this.onItemClick(i),e.preventDefault()),e.code){case"ArrowRight":this.onRightKey();break;case"ArrowLeft":this.onLeftKey();break;case"Home":this.onHomeKey(),e.preventDefault();break;case"End":this.onEndKey(),e.preventDefault();break;case"ArrowUp":case"ArrowDown":e.preventDefault();break;case"Tab":this.onTabKey();break;default:break}}onRightKey(){let e=En(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"]'),i=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(i,i+1===e.length?e.length-1:i+1)}onLeftKey(){let e=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(e,e-1<=0?0:e-1)}onHomeKey(){let e=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(e,0)}onEndKey(){let e=En(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"]'),i=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(i,e.length-1)}onTabKey(){let e=[...En(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"]')],i=e.findIndex(u=>bo(u,"data-p-active")===!0),n=ei(this.itemsContainer.nativeElement,'[tabindex="0"]'),a=e.findIndex(u=>u===n.parentElement);e[a].children[0].tabIndex="-1",e[i].children[0].tabIndex="0"}findFocusedIndicatorIndex(){let e=[...En(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"]')],i=ei(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"] > [tabindex="0"]');return e.findIndex(n=>n===i.parentElement)}changedFocusedIndicator(e,i){let n=En(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"]');n[e].children[0].tabIndex="-1",n[i].children[0].tabIndex="0",n[i].children[0].focus()}step(e){let i=this.totalShiftedItems+e;e<0&&-1*i+this.d_numVisible>this.value.length-1?i=this.d_numVisible-this.value.length:e>0&&i>0&&(i=0),this.circular&&(e<0&&this.value.length-1===this._activeIndex?i=0:e>0&&this._activeIndex===0&&(i=this.d_numVisible-this.value.length)),this.itemsContainer&&(Pa(this.itemsContainer.nativeElement,"p-items-hidden"),this.itemsContainer.nativeElement.style.transform=this.isVertical?`translate3d(0, ${i*(100/this.d_numVisible)}%, 0)`:`translate3d(${i*(100/this.d_numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=i}stopTheSlideShow(){this.slideShowActive&&this.stopSlideShow&&this.stopSlideShow.emit()}changePageOnTouch(e,i){i<0?this.navForward(e):this.navBackward(e)}getTotalPageNumber(){return this.value.length>this.d_numVisible?this.value.length-this.d_numVisible+1:0}getMedianItemIndex(){let e=Math.floor(this.d_numVisible/2);return this.d_numVisible%2?e:e-1}onTransitionEnd(){this.itemsContainer&&this.itemsContainer.nativeElement&&(Hn(this.itemsContainer.nativeElement,"p-items-hidden"),this.itemsContainer.nativeElement.style.transition="")}onTouchEnd(e){let i=e.changedTouches[0];this.isVertical?this.changePageOnTouch(e,i.pageY-this.startPos.y):this.changePageOnTouch(e,i.pageX-this.startPos.x)}onTouchMove(e){e.cancelable&&e.preventDefault()}onTouchStart(e){let i=e.changedTouches[0];this.startPos={x:i.pageX,y:i.pageY}}isNavBackwardDisabled(){return!this.circular&&this._activeIndex===0||this.value.length<=this.d_numVisible}isNavForwardDisabled(){return!this.circular&&this._activeIndex===this.value.length-1||this.value.length<=this.d_numVisible}firstItemAciveIndex(){return this.totalShiftedItems*-1}lastItemActiveIndex(){return this.firstItemAciveIndex()+this.d_numVisible-1}isItemActive(e){return this.firstItemAciveIndex()<=e&&this.lastItemActiveIndex()>=e}bindDocumentListeners(){if(ii(this.platformId)){let e=this.document.defaultView||"window";this.documentResizeListener=this.renderer.listen(e,"resize",()=>{this.calculatePosition()})}}unbindDocumentListeners(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}ngOnDestroy(){super.ngOnDestroy(),this.responsiveOptions&&this.unbindDocumentListeners(),this.thumbnailsStyle&&this.thumbnailsStyle.parentNode?.removeChild(this.thumbnailsStyle)}ariaPrevButtonLabel(){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.prevPageLabel:void 0}ariaNextButtonLabel(){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.nextPageLabel:void 0}ariaPageLabel(e){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.pageLabel.replace(/{page}/g,e):void 0}static \u0275fac=function(i){return new(i||t)(Dt(Up))};static \u0275cmp=Je({type:t,selectors:[["p-galleriaThumbnails"]],viewQuery:function(i,n){if(i&1&&ut(gU,5),i&2){let a;se(a=le())&&(n.itemsContainer=a.first)}},inputs:{containerId:"containerId",value:"value",isVertical:[2,"isVertical","isVertical",ye],slideShowActive:[2,"slideShowActive","slideShowActive",ye],circular:[2,"circular","circular",ye],responsiveOptions:"responsiveOptions",contentHeight:"contentHeight",showThumbnailNavigators:"showThumbnailNavigators",templates:"templates",numVisible:"numVisible",activeIndex:"activeIndex"},outputs:{onActiveIndexChange:"onActiveIndexChange",stopSlideShow:"stopSlideShow"},standalone:!1,features:[_t([zc]),ft],decls:8,vars:14,consts:[["itemsContainer",""],["type","button","pRipple","",3,"class","click",4,"ngIf"],[3,"ngStyle"],["role","tablist",3,"transitionend","touchstart","touchmove"],[3,"class","keydown",4,"ngFor","ngForOf"],["type","button","pRipple","",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet"],["data-p-icon","chevron-left",3,"class",4,"ngIf"],["data-p-icon","chevron-up",3,"class",4,"ngIf"],["data-p-icon","chevron-left"],["data-p-icon","chevron-up"],[3,"keydown"],[3,"click","touchend","keydown.enter"],["type","thumbnail",3,"item","templates"],["data-p-icon","chevron-right",3,"class",4,"ngIf"],["data-p-icon","chevron-down",3,"class",4,"ngIf"],["data-p-icon","chevron-right"],["data-p-icon","chevron-down"]],template:function(i,n){if(i&1){let a=Be();A(0,"div")(1,"div"),z(2,TU,3,5,"button",1),A(3,"div",2)(4,"div",3,0),we("transitionend",function(){return Q(a),X(n.onTransitionEnd())})("touchstart",function(b){return Q(a),X(n.onTouchStart(b))})("touchmove",function(b){return Q(a),X(n.onTouchMove(b))}),z(6,CU,3,16,"div",4),L()(),z(7,DU,3,5,"button",1),L()()}i&2&&($(n.cx("thumbnails")),S(),$(n.cx("thumbnailContent")),S(),C("ngIf",n.showThumbnailNavigators),S(),$(n.cx("thumbnailsViewport")),C("ngStyle",ot(12,_U,n.isVertical?n.contentHeight:"")),S(),$(n.cx("thumbnailItems")),S(2),C("ngForOf",n.value),S(),C("ngIf",n.showThumbnailNavigators))},dependencies:()=>[Bi,Ut,Yt,fi,sn,so,Ud,Da,mc,Cv],encapsulation:2,changeDetection:0})}return t})(),lS=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[mt,Ze,Ar,so,Ud,Da,mc,mt,Ze]})}return t})();var cS=`
    .p-image-mask {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-image-preview {
        position: relative;
        display: inline-flex;
        line-height: 0;
    }

    .p-image-preview-mask {
        position: absolute;
        inset-inline-start: 0;
        inset-block-start: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        transition: opacity 0.3s;
        border: 0 none;
        padding: 0;
        cursor: pointer;
        background: transparent;
        color: dt('image.preview.mask.color');
        transition: background dt('image.transition.duration');
    }

    .p-image-preview:hover > .p-image-preview-mask {
        opacity: 1;
        cursor: pointer;
        background: dt('image.preview.mask.background');
    }

    .p-image-preview-icon {
        font-size: dt('image.preview.icon.size');
        width: dt('image.preview.icon.size');
        height: dt('image.preview.icon.size');
    }

    .p-image-toolbar {
        position: absolute;
        inset-block-start: dt('image.toolbar.position.top');
        inset-inline-end: dt('image.toolbar.position.right');
        inset-inline-start: dt('image.toolbar.position.left');
        inset-block-end: dt('image.toolbar.position.bottom');
        display: flex;
        z-index: 1;
        padding: dt('image.toolbar.padding');
        background: dt('image.toolbar.background');
        backdrop-filter: blur(dt('image.toolbar.blur'));
        border-color: dt('image.toolbar.border.color');
        border-style: solid;
        border-width: dt('image.toolbar.border.width');
        border-radius: dt('image.toolbar.border.radius');
        gap: dt('image.toolbar.gap');
    }

    .p-image-action {
        display: inline-flex;
        justify-content: center;
        align-items: center;
        color: dt('image.action.color');
        background: transparent;
        width: dt('image.action.size');
        height: dt('image.action.size');
        margin: 0;
        padding: 0;
        border: 0 none;
        cursor: pointer;
        user-select: none;
        border-radius: dt('image.action.border.radius');
        outline-color: transparent;
        transition:
            background dt('image.transition.duration'),
            color dt('image.transition.duration'),
            outline-color dt('image.transition.duration'),
            box-shadow dt('image.transition.duration');
    }

    .p-image-action:hover {
        color: dt('image.action.hover.color');
        background: dt('image.action.hover.background');
    }

    .p-image-action:focus-visible {
        box-shadow: dt('image.action.focus.ring.shadow');
        outline: dt('image.action.focus.ring.width') dt('image.action.focus.ring.style') dt('image.action.focus.ring.color');
        outline-offset: dt('image.action.focus.ring.offset');
    }

    .p-image-action .p-icon {
        font-size: dt('image.action.icon.size');
        width: dt('image.action.icon.size');
        height: dt('image.action.icon.size');
    }

    .p-image-action.p-disabled {
        pointer-events: auto;
    }

    .p-image-original {
        transition: transform 0.15s;
        max-width: 100vw;
        max-height: 100vh;
    }

    .p-image-original-enter-active {
        transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
    }

    .p-image-original-leave-active {
        transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    .p-image-original-enter-from,
    .p-image-original-leave-to {
        opacity: 0;
        transform: scale(0.7);
    }
`;var zU=["indicator"],RU=["rotaterighticon"],BU=["rotatelefticon"],NU=["zoomouticon"],qU=["zoominicon"],HU=["closeicon"],jU=["preview"],GU=["image"],UU=["mask"],$U=["previewButton"],KU=["closeButton"],WU=t=>({errorCallback:t}),ZU=(t,s)=>({height:t,width:s}),QU=(t,s)=>({showTransitionParams:t,hideTransitionParams:s}),XU=t=>({value:"visible",params:t}),YU=(t,s,e)=>({class:t,style:s,previewCallback:e});function JU(t,s){if(t&1){let e=Be();Ke(0),A(1,"img",8),we("error",function(n){Q(e);let a=M();return X(a.imageError(n))}),L(),We()}if(t&2){let e=M();S(),$(e.imageClass),C("ngStyle",e.imageStyle),de("src",e.src,Ji)("srcset",e.srcSet)("sizes",e.sizes)("alt",e.alt)("width",e.width)("height",e.height)("loading",e.loading)}}function e$(t,s){t&1&&nt(0)}function t$(t,s){t&1&&nt(0)}function i$(t,s){if(t&1&&(Ke(0),z(1,t$,1,0,"ng-container",11),We()),t&2){let e=M(2);S(),C("ngTemplateOutlet",e.indicatorTemplate||e._indicatorTemplate)}}function n$(t,s){if(t&1&&(at(),ae(0,"svg",12)),t&2){let e=M(2);$(e.cx("previewIcon"))}}function a$(t,s){if(t&1){let e=Be();A(0,"button",9,0),we("click",function(){Q(e);let n=M();return X(n.onImageClick())}),z(2,i$,2,1,"ng-container",10)(3,n$,1,2,"ng-template",null,1,ze),L()}if(t&2){let e=Gt(4),i=M();$(i.cx("previewMask")),C("ngStyle",ni(6,ZU,i.height+"px",i.width+"px")),de("aria-label",i.zoomImageAriaLabel),S(2),C("ngIf",i.indicatorTemplate||i._indicatorTemplate)("ngIfElse",e)}}function o$(t,s){t&1&&(at(),ae(0,"svg",22))}function r$(t,s){}function s$(t,s){t&1&&z(0,r$,0,0,"ng-template")}function l$(t,s){t&1&&(at(),ae(0,"svg",23))}function c$(t,s){}function d$(t,s){t&1&&z(0,c$,0,0,"ng-template")}function u$(t,s){t&1&&(at(),ae(0,"svg",24))}function p$(t,s){}function h$(t,s){t&1&&z(0,p$,0,0,"ng-template")}function m$(t,s){t&1&&(at(),ae(0,"svg",25))}function f$(t,s){}function g$(t,s){t&1&&z(0,f$,0,0,"ng-template")}function _$(t,s){t&1&&(at(),ae(0,"svg",26))}function b$(t,s){}function y$(t,s){t&1&&z(0,b$,0,0,"ng-template")}function v$(t,s){if(t&1){let e=Be();Ke(0),A(1,"img",27),we("click",function(){Q(e);let n=M(3);return X(n.onPreviewImageClick())}),L(),We()}if(t&2){let e=M(3);S(),$(e.cx("original")),C("ngStyle",e.imagePreviewStyle()),de("src",e.previewImageSrc?e.previewImageSrc:e.src,Ji)("srcset",e.previewImageSrcSet)("sizes",e.previewImageSizes)}}function x$(t,s){t&1&&nt(0)}function w$(t,s){if(t&1){let e=Be();A(0,"div"),we("@animation.start",function(n){Q(e);let a=M(2);return X(a.onAnimationStart(n))})("@animation.done",function(n){Q(e);let a=M(2);return X(a.onAnimationEnd(n))}),z(1,v$,2,6,"ng-container",4)(2,x$,1,0,"ng-container",5),L()}if(t&2){let e=M(2);C("@animation",ot(7,XU,ni(4,QU,e.showTransitionOptions,e.hideTransitionOptions))),S(),C("ngIf",!e.previewTemplate&&!e._previewTemplate),S(),C("ngTemplateOutlet",e.previewTemplate||e._previewTemplate)("ngTemplateOutletContext",Er(9,YU,e.cx("original"),e.imagePreviewStyle(),e.onPreviewImageClick.bind(e)))}}function I$(t,s){if(t&1){let e=Be();A(0,"div",13,2),we("click",function(){Q(e);let n=M();return X(n.onMaskClick())})("keydown",function(n){Q(e);let a=M();return X(a.onMaskKeydown(n))}),A(2,"div",14),we("click",function(n){Q(e);let a=M();return X(a.handleToolbarClick(n))}),A(3,"button",15),we("click",function(){Q(e);let n=M();return X(n.rotateRight())}),z(4,o$,1,0,"svg",16)(5,s$,1,0,null,11),L(),A(6,"button",15),we("click",function(){Q(e);let n=M();return X(n.rotateLeft())}),z(7,l$,1,0,"svg",17)(8,d$,1,0,null,11),L(),A(9,"button",18),we("click",function(){Q(e);let n=M();return X(n.zoomOut())}),z(10,u$,1,0,"svg",19)(11,h$,1,0,null,11),L(),A(12,"button",18),we("click",function(){Q(e);let n=M();return X(n.zoomIn())}),z(13,m$,1,0,"svg",20)(14,g$,1,0,null,11),L(),A(15,"button",15,3),we("click",function(){Q(e);let n=M();return X(n.closePreview())}),z(17,_$,1,0,"svg",21)(18,y$,1,0,null,11),L()(),z(19,w$,3,13,"div",4),L()}if(t&2){let e=M();$(e.cx("mask")),de("aria-modal",e.maskVisible),S(2),$(e.cx("toolbar")),S(),$(e.cx("rotateRightButton")),de("aria-label",e.rightAriaLabel()),S(),C("ngIf",!e.rotateRightIconTemplate&&!e._rotateRightIconTemplate),S(),C("ngTemplateOutlet",e.rotateRightIconTemplate||e._rotateRightIconTemplate),S(),$(e.cx("rotateLeftButton")),de("aria-label",e.leftAriaLabel()),S(),C("ngIf",!e.rotateLeftIconTemplate&&!e._rotateLeftIconTemplate),S(),C("ngTemplateOutlet",e.rotateLeftIconTemplate||e._rotateLeftIconTemplate),S(),$(e.cx("zoomOutButton")),C("disabled",e.isZoomOutDisabled),de("aria-label",e.zoomOutAriaLabel()),S(),C("ngIf",!e.zoomOutIconTemplate&&!e._zoomOutIconTemplate),S(),C("ngTemplateOutlet",e.zoomOutIconTemplate||e._zoomOutIconTemplate),S(),$(e.cx("zoomInButton")),C("disabled",e.isZoomInDisabled),de("aria-label",e.zoomInAriaLabel()),S(),C("ngIf",!e.zoomInIconTemplate&&!e._zoomInIconTemplate),S(),C("ngTemplateOutlet",e.zoomInIconTemplate||e._zoomInIconTemplate),S(),$(e.cx("closeButton")),de("aria-label",e.closeAriaLabel()),S(2),C("ngIf",!e.closeIconTemplate&&!e._closeIconTemplate),S(),C("ngTemplateOutlet",e.closeIconTemplate||e._closeIconTemplate),S(),C("ngIf",e.previewVisible)}}var T$={root:({instance:t})=>["p-image p-component",{"p-image-preview":t.preview}],previewMask:"p-image-preview-mask",previewIcon:"p-image-preview-icon",mask:"p-image-mask p-overlay-mask p-overlay-mask-enter",toolbar:"p-image-toolbar",rotateRightButton:"p-image-action p-image-rotate-right-button",rotateLeftButton:"p-image-action p-image-rotate-left-button",zoomOutButton:({instance:t})=>["p-image-action p-image-zoom-out-button",{"p-disabled":t.isZoomOutDisabled}],zoomInButton:({instance:t})=>["p-image-action p-image-zoom-in-button",{"p-disabled":t.isZoomInDisabled}],closeButton:"p-image-action p-image-close-button",original:"p-image-original"},dS=(()=>{class t extends Rt{name="image";theme=cS;classes=T$;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var Sv=(()=>{class t extends Ot{imageClass;imageStyle;styleClass;src;srcSet;sizes;previewImageSrc;previewImageSrcSet;previewImageSizes;alt;width;height;loading;preview=!1;showTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";appendTo=nn(void 0);onShow=new Le;onHide=new Le;onImageError=new Le;mask;previewButton;closeButton;indicatorTemplate;rotateRightIconTemplate;rotateLeftIconTemplate;zoomOutIconTemplate;zoomInIconTemplate;closeIconTemplate;previewTemplate;imageTemplate;maskVisible=!1;previewVisible=!1;rotate=0;scale=1;previewClick=!1;container;wrapper;_componentStyle=Fe(dS);$appendTo=Ai(()=>this.appendTo()||this.config.overlayAppendTo());get isZoomOutDisabled(){return this.scale-this.zoomSettings.step<=this.zoomSettings.min}get isZoomInDisabled(){return this.scale+this.zoomSettings.step>=this.zoomSettings.max}zoomSettings={default:1,step:.1,max:1.5,min:.5};constructor(){super()}templates;_indicatorTemplate;_rotateRightIconTemplate;_rotateLeftIconTemplate;_zoomOutIconTemplate;_zoomInIconTemplate;_closeIconTemplate;_imageTemplate;_previewTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"indicator":this._indicatorTemplate=e.template;break;case"rotaterighticon":this._rotateRightIconTemplate=e.template;break;case"rotatelefticon":this._rotateLeftIconTemplate=e.template;break;case"zoomouticon":this._zoomOutIconTemplate=e.template;break;case"zoominicon":this._zoomInIconTemplate=e.template;break;case"closeicon":this._closeIconTemplate=e.template;break;case"image":this._imageTemplate=e.template;break;case"preview":this._previewTemplate=e.template;break;default:this._indicatorTemplate=e.template;break}})}onImageClick(){this.preview&&(this.maskVisible=!0,this.previewVisible=!0,hp())}onMaskClick(){this.previewClick||this.closePreview(),this.previewClick=!1}onMaskKeydown(e){switch(e.code){case"Escape":this.onMaskClick(),setTimeout(()=>{$t(this.previewButton.nativeElement)},25),e.preventDefault();break;default:break}}onPreviewImageClick(){this.previewClick=!0}rotateRight(){this.rotate+=90,this.previewClick=!0}rotateLeft(){this.rotate-=90,this.previewClick=!0}zoomIn(){this.scale=this.scale+this.zoomSettings.step,this.previewClick=!0}zoomOut(){this.scale=this.scale-this.zoomSettings.step,this.previewClick=!0}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container?.parentElement,this.attrSelector&&this.wrapper.setAttribute(this.attrSelector,""),this.appendContainer(),this.moveOnTop(),setTimeout(()=>{$t(this.closeButton.nativeElement)},25);break;case"void":Hn(this.wrapper,"p-overlay-mask-leave");break}}onAnimationEnd(e){switch(e.toState){case"void":qi.clear(this.wrapper),this.maskVisible=!1,this.container=null,this.wrapper=null,this.cd.markForCheck(),this.onHide.emit({});break;case"visible":this.onShow.emit({});break}}moveOnTop(){qi.set("modal",this.wrapper,this.config.zIndex.modal)}appendContainer(){this.$appendTo()&&this.$appendTo()!=="self"&&(this.$appendTo()==="body"?this.document.body.appendChild(this.wrapper):pp(this.$appendTo(),this.wrapper))}imagePreviewStyle(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}}get zoomImageAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomImage:void 0}handleToolbarClick(e){e.stopPropagation()}closePreview(){this.previewVisible=!1,this.rotate=0,this.scale=this.zoomSettings.default,uc()}imageError(e){this.onImageError.emit(e)}rightAriaLabel(){return this.config.translation.aria?this.config.translation.aria.rotateRight:void 0}leftAriaLabel(){return this.config.translation.aria?this.config.translation.aria.rotateLeft:void 0}zoomInAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomIn:void 0}zoomOutAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomOut:void 0}closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}onKeydownHandler(e){this.previewVisible&&this.closePreview()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Je({type:t,selectors:[["p-image"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,zU,4),xe(a,RU,4),xe(a,BU,4),xe(a,NU,4),xe(a,qU,4),xe(a,HU,4),xe(a,jU,4),xe(a,GU,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.indicatorTemplate=u.first),se(u=le())&&(n.rotateRightIconTemplate=u.first),se(u=le())&&(n.rotateLeftIconTemplate=u.first),se(u=le())&&(n.zoomOutIconTemplate=u.first),se(u=le())&&(n.zoomInIconTemplate=u.first),se(u=le())&&(n.closeIconTemplate=u.first),se(u=le())&&(n.previewTemplate=u.first),se(u=le())&&(n.imageTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&(ut(UU,5),ut($U,5),ut(KU,5)),i&2){let a;se(a=le())&&(n.mask=a.first),se(a=le())&&(n.previewButton=a.first),se(a=le())&&(n.closeButton=a.first)}},hostVars:2,hostBindings:function(i,n){i&1&&we("keydown.escape",function(u){return n.onKeydownHandler(u)},cp),i&2&&$(n.cn(n.cx("root"),n.styleClass))},inputs:{imageClass:"imageClass",imageStyle:"imageStyle",styleClass:"styleClass",src:"src",srcSet:"srcSet",sizes:"sizes",previewImageSrc:"previewImageSrc",previewImageSrcSet:"previewImageSrcSet",previewImageSizes:"previewImageSizes",alt:"alt",width:"width",height:"height",loading:"loading",preview:[2,"preview","preview",ye],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",appendTo:[1,"appendTo"]},outputs:{onShow:"onShow",onHide:"onHide",onImageError:"onImageError"},features:[_t([dS]),ft],decls:4,vars:7,consts:[["previewButton",""],["defaultTemplate",""],["mask",""],["closeButton",""],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"class","ngStyle","click",4,"ngIf"],["role","dialog","pFocusTrap","",3,"class","click","keydown",4,"ngIf"],[3,"error","ngStyle"],["type","button",3,"click","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["data-p-icon","eye"],["role","dialog","pFocusTrap","",3,"click","keydown"],[3,"click"],["type","button",3,"click"],["data-p-icon","refresh",4,"ngIf"],["data-p-icon","undo",4,"ngIf"],["type","button",3,"click","disabled"],["data-p-icon","search-minus",4,"ngIf"],["data-p-icon","search-plus",4,"ngIf"],["data-p-icon","times",4,"ngIf"],["data-p-icon","refresh"],["data-p-icon","undo"],["data-p-icon","search-minus"],["data-p-icon","search-plus"],["data-p-icon","times"],[3,"click","ngStyle"]],template:function(i,n){i&1&&z(0,JU,2,10,"ng-container",4)(1,e$,1,0,"ng-container",5)(2,a$,5,9,"button",6)(3,I$,20,33,"div",7),i&2&&(C("ngIf",!n.imageTemplate&&!n._imageTemplate),S(),C("ngTemplateOutlet",n.imageTemplate||n._imageTemplate)("ngTemplateOutletContext",ot(5,WU,n.imageError.bind(n))),S(),C("ngIf",n.preview),S(),C("ngIf",n.maskVisible))},dependencies:[mt,Ut,Yt,fi,N3,Zw,j3,q3,H3,Ar,xp,Ze],encapsulation:2,data:{animation:[qn("animation",[Fi("void => visible",[Oi({transform:"scale(0.7)",opacity:0}),Ni("{{showTransitionParams}}")]),Fi("visible => void",[Ni("{{hideTransitionParams}}",Oi({transform:"scale(0.7)",opacity:0}))])])]},changeDetection:0})}return t})(),uS=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[Sv,Ze,Ze]})}return t})();var $p=class t{getData(){return[{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria1.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria1s.jpg",alt:"Description for Image 1",title:"Title 1"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria2.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria2s.jpg",alt:"Description for Image 2",title:"Title 2"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria3.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria3s.jpg",alt:"Description for Image 3",title:"Title 3"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria4.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria4s.jpg",alt:"Description for Image 4",title:"Title 4"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria5.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria5s.jpg",alt:"Description for Image 5",title:"Title 5"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria6.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria6s.jpg",alt:"Description for Image 6",title:"Title 6"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria7.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria7s.jpg",alt:"Description for Image 7",title:"Title 7"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria8.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria8s.jpg",alt:"Description for Image 8",title:"Title 8"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria9.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria9s.jpg",alt:"Description for Image 9",title:"Title 9"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria10.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria10s.jpg",alt:"Description for Image 10",title:"Title 10"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria11.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria11s.jpg",alt:"Description for Image 11",title:"Title 11"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria12.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria12s.jpg",alt:"Description for Image 12",title:"Title 12"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria13.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria13s.jpg",alt:"Description for Image 13",title:"Title 13"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria14.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria14s.jpg",alt:"Description for Image 14",title:"Title 14"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria15.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria15s.jpg",alt:"Description for Image 15",title:"Title 15"}]}getImages(){return Promise.resolve(this.getData())}static \u0275fac=function(e){return new(e||t)};static \u0275prov=yt({token:t,factory:t.\u0275fac})};var M$=()=>({"max-width":"640px"}),k$=()=>({"left.px":5,"top.px":5});function E$(t,s){if(t&1&&(A(0,"div",7)(1,"div",8)(2,"div",9),ae(3,"img",10),A(4,"div",11),ae(5,"p-tag",12),L()()(),A(6,"div",13),ie(7),L(),A(8,"div",14)(9,"div",15),ie(10),L(),A(11,"span"),ae(12,"p-button",16)(13,"p-button",17),L()()()),t&2){let e=s.$implicit,i=M();S(3),C("src",Es("https://primefaces.org/cdn/primeng/images/demo/product/",e.image),Ji)("alt",e.name),S(),C("ngStyle",Zt(9,k$)),S(),C("value",e.inventoryStatus)("severity",i.getSeverity(e.inventoryStatus)),S(2),Et(e.name),S(3),Et("$"+e.price),S(2),C("outlined",!0)}}function P$(t,s){if(t&1&&ae(0,"img",18),t&2){let e=s.$implicit;C("src",e.itemImageSrc,Ji)}}function D$(t,s){if(t&1&&ae(0,"img",19),t&2){let e=s.$implicit;C("src",e.thumbnailImageSrc,Ji)}}var I_=class t{constructor(s,e){this.productService=s;this.photoService=e}products;images;galleriaResponsiveOptions=[{breakpoint:"1024px",numVisible:5},{breakpoint:"960px",numVisible:4},{breakpoint:"768px",numVisible:3},{breakpoint:"560px",numVisible:1}];carouselResponsiveOptions=[{breakpoint:"1024px",numVisible:3,numScroll:3},{breakpoint:"768px",numVisible:2,numScroll:2},{breakpoint:"560px",numVisible:1,numScroll:1}];ngOnInit(){this.productService.getProductsSmall().then(s=>{this.products=s}),this.photoService.getImages().then(s=>{this.images=s})}getSeverity(s){switch(s){case"INSTOCK":return"success";case"LOWSTOCK":return"warn";case"OUTOFSTOCK":return"danger";default:return"success"}}static \u0275fac=function(e){return new(e||t)(Dt(Vo),Dt($p))};static \u0275cmp=Je({type:t,selectors:[["app-media-demo"]],features:[_t([Vo,$p])],decls:18,vars:10,consts:[["item",""],["thumbnail",""],[1,"card"],[1,"font-semibold","text-xl","mb-4"],[3,"value","numVisible","numScroll","circular","responsiveOptions"],["src","https://primefaces.org/cdn/primeng/images/galleria/galleria10.jpg","alt","Image","width","250"],[3,"value","responsiveOptions","containerStyle","numVisible"],[1,"border","border-surface","rounded-border","m-2","p-4"],[1,"mb-4"],[1,"relative","mx-auto"],[1,"w-full","rounded-border",3,"src","alt"],[1,"absolute","bg-black/70","rounded-border",3,"ngStyle"],[3,"value","severity"],[1,"mb-4","font-medium"],[1,"flex","justify-between","items-center"],[1,"mt-0","font-semibold","text-xl"],["icon","pi pi-heart","severity","secondary",3,"outlined"],["icon","pi pi-shopping-cart","styleClass","ml-2"],[2,"width","100%",3,"src"],[3,"src"]],template:function(e,i){e&1&&(A(0,"div",2)(1,"div",3),ie(2,"Carousel"),L(),A(3,"p-carousel",4),z(4,E$,14,10,"ng-template",null,0,ze),L()(),A(6,"div",2)(7,"div",3),ie(8,"Image"),L(),ae(9,"p-image",5),L(),A(10,"div",2)(11,"div",3),ie(12,"Galleria"),L(),A(13,"p-galleria",6),z(14,P$,1,1,"ng-template",null,0,ze)(16,D$,1,1,"ng-template",null,1,ze),L()()),e&2&&(S(3),C("value",i.products)("numVisible",3)("numScroll",3)("circular",!1)("responsiveOptions",i.carouselResponsiveOptions),S(10),C("value",i.images)("responsiveOptions",i.galleriaResponsiveOptions)("containerStyle",Zt(9,M$))("numVisible",5))},dependencies:[mt,fi,rS,Tv,zi,Gi,lS,Up,uS,Sv,xc,vc],encapsulation:2})};var T_=class t{constructor(s){this.service=s}msgs=[];username;email;showInfoViaToast(){this.service.add({severity:"info",summary:"Info Message",detail:"PrimeNG rocks"})}showWarnViaToast(){this.service.add({severity:"warn",summary:"Warn Message",detail:"There are unsaved changes"})}showErrorViaToast(){this.service.add({severity:"error",summary:"Error Message",detail:"Validation failed"})}showSuccessViaToast(){this.service.add({severity:"success",summary:"Success Message",detail:"Message sent"})}static \u0275fac=function(e){return new(e||t)(Dt(rr))};static \u0275cmp=Je({type:t,selectors:[["app-messages-demo"]],features:[_t([rr])],decls:38,vars:2,consts:[[1,"flex","flex-col","md:flex-row","gap-8"],[1,"md:w-1/2"],[1,"card"],[1,"font-semibold","text-xl","mb-4"],[1,"flex","flex-wrap","gap-2"],["label","Success","severity","success",3,"click"],["label","Info","severity","info",3,"click"],["label","Warn","severity","warn",3,"click"],["label","Error","severity","danger",3,"click"],[1,"font-semibold","text-xl","mt-4","mb-4"],[1,"flex","flex-col","mb-4","gap-1"],["pInputText","","placeholder","Username","aria-label","username",1,"ng-dirty","ng-invalid",3,"ngModelChange","ngModel"],["severity","error","variant","simple","size","small"],[1,"flex","flex-col","flex-wrap","gap-1"],["pInputText","","placeholder","Email","aria-label","email",1,"ng-dirty","ng-invalid",3,"ngModelChange","ngModel"],[1,"flex","flex-col","gap-4","mb-4"],["severity","success"],["severity","info"],["severity","warn"],["severity","error"],["severity","secondary"],["severity","contrast"]],template:function(e,i){e&1&&(A(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),ie(4,"Toast"),L(),A(5,"div",4)(6,"p-button",5),we("click",function(){return i.showSuccessViaToast()}),L(),A(7,"p-button",6),we("click",function(){return i.showInfoViaToast()}),L(),A(8,"p-button",7),we("click",function(){return i.showWarnViaToast()}),L(),A(9,"p-button",8),we("click",function(){return i.showErrorViaToast()}),L(),ae(10,"p-toast"),L(),A(11,"div",9),ie(12,"Inline"),L(),A(13,"div",10)(14,"input",11),ci("ngModelChange",function(a){return li(i.username,a)||(i.username=a),a}),L(),A(15,"p-message",12),ie(16,"Username is required"),L()(),A(17,"div",13)(18,"input",14),ci("ngModelChange",function(a){return li(i.email,a)||(i.email=a),a}),L(),A(19,"p-message",12),ie(20,"Email is required"),L()()()(),A(21,"div",1)(22,"div",2)(23,"div",3),ie(24,"Message"),L(),A(25,"div",15)(26,"p-message",16),ie(27,"Success Message"),L(),A(28,"p-message",17),ie(29,"Info Message"),L(),A(30,"p-message",18),ie(31,"Warn Message"),L(),A(32,"p-message",19),ie(33,"Error Message"),L(),A(34,"p-message",20),ie(35,"Secondary Message"),L(),A(36,"p-message",21),ie(37,"Contrast Message"),L()()()()()),e&2&&(S(14),si("ngModel",i.username),S(4),si("ngModel",i.email))},dependencies:[mt,fc,vp,zi,Gi,Fo,ma,tg,eg,dn,bp,ia,na],encapsulation:2})};var A$=["*"],O$={root:"p-avatar-group p-component"},pS=(()=>{class t extends Rt{name="avatargroup";classes=O$;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var Mv=(()=>{class t extends Ot{styleClass;style;get hostClass(){return this.styleClass}get hostStyle(){return this.style}_componentStyle=Fe(pS);static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-avatarGroup"],["p-avatar-group"],["p-avatargroup"]],hostVars:8,hostBindings:function(i,n){i&2&&(Lt(n.hostStyle),$(n.hostClass),rc("p-avatar-group",!0)("p-component",!0))},inputs:{styleClass:"styleClass",style:"style"},features:[_t([pS]),ft],ngContentSelectors:A$,decls:1,vars:0,template:function(i,n){i&1&&(Ui(),Ei(0))},dependencies:[mt,Ze],encapsulation:2,changeDetection:0})}return t})(),hS=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[Mv,Ze,Ze]})}return t})();var V$=["*"],z$=`
.p-overlaybadge {
    position: relative;
}

.p-overlaybadge .p-badge {
    position: absolute;
    top: 0;
    right: 0;
    transform: translate(50%, -50%);
    transform-origin: 100% 0;
    margin: 0;
    outline-width: dt('overlaybadge.outline.width');
    outline-style: solid;
    outline-color: dt('overlaybadge.outline.color');
}
`,R$={root:"p-overlaybadge"},mS=(()=>{class t extends Rt{name="overlaybadge";theme=z$;classes=R$;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})(),kv=(()=>{class t extends Ot{styleClass;style;badgeSize;severity;value;badgeDisabled=!1;set size(e){this._size=e,!this.badgeSize&&this.size&&console.log("size property is deprecated and will removed in v18, use badgeSize instead.")}get size(){return this._size}_size;_componentStyle=Fe(mS);constructor(){super()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Je({type:t,selectors:[["p-overlayBadge"],["p-overlay-badge"],["p-overlaybadge"]],inputs:{styleClass:"styleClass",style:"style",badgeSize:"badgeSize",severity:"severity",value:"value",badgeDisabled:[2,"badgeDisabled","badgeDisabled",ye],size:"size"},features:[_t([mS]),ft],ngContentSelectors:V$,decls:3,vars:7,consts:[[1,"p-overlaybadge"],[3,"styleClass","badgeSize","severity","value","badgeDisabled"]],template:function(i,n){i&1&&(Ui(),A(0,"div",0),Ei(1),ae(2,"p-badge",1),L()),i&2&&(S(2),Lt(n.style),C("styleClass",n.styleClass)("badgeSize",n.badgeSize)("severity",n.severity)("value",n.value)("badgeDisabled",n.badgeDisabled))},dependencies:[mt,oo,jr,Ze],encapsulation:2,changeDetection:0})}return t})(),fS=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[kv,Ze,Ze]})}return t})();var gS=`
    .p-scrollpanel-content-container {
        overflow: hidden;
        width: 100%;
        height: 100%;
        position: relative;
        z-index: 1;
        float: left;
    }

    .p-scrollpanel-content {
        height: calc(100% + calc(2 * dt('scrollpanel.bar.size')));
        width: calc(100% + calc(2 * dt('scrollpanel.bar.size')));
        padding-inline: 0 calc(2 * dt('scrollpanel.bar.size'));
        padding-block: 0 calc(2 * dt('scrollpanel.bar.size'));
        position: relative;
        overflow: auto;
        box-sizing: border-box;
        scrollbar-width: none;
    }

    .p-scrollpanel-content::-webkit-scrollbar {
        display: none;
    }

    .p-scrollpanel-bar {
        position: relative;
        border-radius: dt('scrollpanel.bar.border.radius');
        z-index: 2;
        cursor: pointer;
        opacity: 0;
        outline-color: transparent;
        background: dt('scrollpanel.bar.background');
        border: 0 none;
        transition:
            outline-color dt('scrollpanel.transition.duration'),
            opacity dt('scrollpanel.transition.duration');
    }

    .p-scrollpanel-bar:focus-visible {
        box-shadow: dt('scrollpanel.bar.focus.ring.shadow');
        outline: dt('scrollpanel.barfocus.ring.width') dt('scrollpanel.bar.focus.ring.style') dt('scrollpanel.bar.focus.ring.color');
        outline-offset: dt('scrollpanel.barfocus.ring.offset');
    }

    .p-scrollpanel-bar-y {
        width: dt('scrollpanel.bar.size');
        inset-block-start: 0;
    }

    .p-scrollpanel-bar-x {
        height: dt('scrollpanel.bar.size');
        inset-block-end: 0;
    }

    .p-scrollpanel-hidden {
        visibility: hidden;
    }

    .p-scrollpanel:hover .p-scrollpanel-bar,
    .p-scrollpanel:active .p-scrollpanel-bar {
        opacity: 1;
    }

    .p-scrollpanel-grabbed {
        user-select: none;
    }
`;var _S=["content"],N$=["xBar"],q$=["yBar"],H$=["*"];function j$(t,s){t&1&&Ei(0)}function G$(t,s){t&1&&nt(0)}var U$=`
    ${gS}

    .p-scrollpanel {
        display: block;
    }
`,$$={root:"p-scrollpanel p-component",contentContainer:"p-scrollpanel-content-container",content:"p-scrollpanel-content",barX:"p-scrollpanel-bar p-scrollpanel-bar-x",barY:"p-scrollpanel-bar p-scrollpanel-bar-y"},bS=(()=>{class t extends Rt{name="scrollpanel";theme=U$;classes=$$;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var K$=(()=>{class t extends Ot{styleClass;step=5;contentViewChild;xBarViewChild;yBarViewChild;contentTemplate;templates;_contentTemplate;scrollYRatio;scrollXRatio;timeoutFrame=e=>setTimeout(e,0);initialized=!1;lastPageY;lastPageX;isXBarClicked=!1;isYBarClicked=!1;lastScrollLeft=0;lastScrollTop=0;orientation="vertical";timer;contentId;windowResizeListener;contentScrollListener;mouseEnterListener;xBarMouseDownListener;yBarMouseDownListener;documentMouseMoveListener;documentMouseUpListener;_componentStyle=Fe(bS);zone=Fe(pa);ngOnInit(){super.ngOnInit(),this.contentId=vi("pn_id_")+"_content"}ngAfterViewInit(){super.ngAfterViewInit(),ii(this.platformId)&&this.zone.runOutsideAngular(()=>{this.moveBar(),this.moveBar=this.moveBar.bind(this),this.onXBarMouseDown=this.onXBarMouseDown.bind(this),this.onYBarMouseDown=this.onYBarMouseDown.bind(this),this.onDocumentMouseMove=this.onDocumentMouseMove.bind(this),this.onDocumentMouseUp=this.onDocumentMouseUp.bind(this),this.windowResizeListener=this.renderer.listen(window,"resize",this.moveBar),this.contentScrollListener=this.renderer.listen(this.contentViewChild.nativeElement,"scroll",this.moveBar),this.mouseEnterListener=this.renderer.listen(this.contentViewChild.nativeElement,"mouseenter",this.moveBar),this.xBarMouseDownListener=this.renderer.listen(this.xBarViewChild.nativeElement,"mousedown",this.onXBarMouseDown),this.yBarMouseDownListener=this.renderer.listen(this.yBarViewChild.nativeElement,"mousedown",this.onYBarMouseDown),this.calculateContainerHeight(),this.initialized=!0})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}calculateContainerHeight(){let e=this.el.nativeElement,i=this.contentViewChild.nativeElement,n=this.xBarViewChild.nativeElement,a=this.document.defaultView,u=a.getComputedStyle(e),b=a.getComputedStyle(n),T=O0(e)-parseInt(b.height,10);u["max-height"]!="none"&&T==0&&(i.offsetHeight+parseInt(b.height,10)>parseInt(u["max-height"],10)?e.style.height=u["max-height"]:e.style.height=i.offsetHeight+parseFloat(u.paddingTop)+parseFloat(u.paddingBottom)+parseFloat(u.borderTopWidth)+parseFloat(u.borderBottomWidth)+"px")}moveBar(){let e=this.el.nativeElement,i=this.contentViewChild.nativeElement,n=this.xBarViewChild.nativeElement,a=i.scrollWidth,u=i.clientWidth,b=(e.clientHeight-n.clientHeight)*-1;this.scrollXRatio=u/a;let T=this.yBarViewChild.nativeElement,D=i.scrollHeight,R=i.clientHeight,U=(e.clientWidth-T.clientWidth)*-1;this.scrollYRatio=R/D,this.requestAnimationFrame(()=>{if(this.scrollXRatio>=1)n.setAttribute("data-p-scrollpanel-hidden","true"),Hn(n,"p-scrollpanel-hidden");else{n.setAttribute("data-p-scrollpanel-hidden","false"),Pa(n,"p-scrollpanel-hidden");let Y=Math.max(this.scrollXRatio*100,10),oe=Math.abs(i.scrollLeft*(100-Y)/(a-u));n.style.cssText="width:"+Y+"%; inset-inline-start:"+oe+"%;bottom:"+b+"px;"}if(this.scrollYRatio>=1)T.setAttribute("data-p-scrollpanel-hidden","true"),Hn(T,"p-scrollpanel-hidden");else{T.setAttribute("data-p-scrollpanel-hidden","false"),Pa(T,"p-scrollpanel-hidden");let Y=Math.max(this.scrollYRatio*100,10),oe=i.scrollTop*(100-Y)/(D-R);T.style.cssText="height:"+Y+"%; top: calc("+oe+"% - "+n.clientHeight+"px); inset-inline-end:"+U+"px;"}}),this.cd.markForCheck()}onScroll(e){this.lastScrollLeft!==e.target.scrollLeft?(this.lastScrollLeft=e.target.scrollLeft,this.orientation="horizontal"):this.lastScrollTop!==e.target.scrollTop&&(this.lastScrollTop=e.target.scrollTop,this.orientation="vertical"),this.moveBar()}onKeyDown(e){if(this.orientation==="vertical")switch(e.code){case"ArrowDown":{this.setTimer("scrollTop",this.step),e.preventDefault();break}case"ArrowUp":{this.setTimer("scrollTop",this.step*-1),e.preventDefault();break}case"ArrowLeft":case"ArrowRight":{e.preventDefault();break}default:break}else if(this.orientation==="horizontal")switch(e.code){case"ArrowRight":{this.setTimer("scrollLeft",this.step),e.preventDefault();break}case"ArrowLeft":{this.setTimer("scrollLeft",this.step*-1),e.preventDefault();break}case"ArrowDown":case"ArrowUp":{e.preventDefault();break}default:break}}onKeyUp(){this.clearTimer()}repeat(e,i){this.contentViewChild.nativeElement[e]+=i,this.moveBar()}setTimer(e,i){this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,i)},40)}clearTimer(){this.timer&&clearTimeout(this.timer)}bindDocumentMouseListeners(){this.documentMouseMoveListener||(this.documentMouseMoveListener=e=>{this.onDocumentMouseMove(e)},this.document.addEventListener("mousemove",this.documentMouseMoveListener)),this.documentMouseUpListener||(this.documentMouseUpListener=e=>{this.onDocumentMouseUp(e)},this.document.addEventListener("mouseup",this.documentMouseUpListener))}unbindDocumentMouseListeners(){this.documentMouseMoveListener&&(this.document.removeEventListener("mousemove",this.documentMouseMoveListener),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(document.removeEventListener("mouseup",this.documentMouseUpListener),this.documentMouseUpListener=null)}onYBarMouseDown(e){this.isYBarClicked=!0,this.yBarViewChild.nativeElement.focus(),this.lastPageY=e.pageY,this.yBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","true"),Hn(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","true"),Hn(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),e.preventDefault()}onXBarMouseDown(e){this.isXBarClicked=!0,this.xBarViewChild.nativeElement.focus(),this.lastPageX=e.pageX,this.xBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","false"),Hn(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","false"),Hn(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),e.preventDefault()}onDocumentMouseMove(e){this.isXBarClicked?this.onMouseMoveForXBar(e):this.isYBarClicked?this.onMouseMoveForYBar(e):(this.onMouseMoveForXBar(e),this.onMouseMoveForYBar(e))}onMouseMoveForXBar(e){let i=e.pageX-this.lastPageX;this.lastPageX=e.pageX,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollLeft+=i/this.scrollXRatio})}onMouseMoveForYBar(e){let i=e.pageY-this.lastPageY;this.lastPageY=e.pageY,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollTop+=i/this.scrollYRatio})}scrollTop(e){let i=this.contentViewChild.nativeElement.scrollHeight-this.contentViewChild.nativeElement.clientHeight;e=e>i?i:e>0?e:0,this.contentViewChild.nativeElement.scrollTop=e}onFocus(e){this.xBarViewChild.nativeElement.isSameNode(e.target)?this.orientation="horizontal":this.yBarViewChild.nativeElement.isSameNode(e.target)&&(this.orientation="vertical")}onBlur(){this.orientation==="horizontal"&&(this.orientation="vertical")}onDocumentMouseUp(e){this.yBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","false"),Pa(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.xBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","false"),Pa(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","false"),Pa(this.document.body,"p-scrollpanel-grabbed"),this.unbindDocumentMouseListeners(),this.isXBarClicked=!1,this.isYBarClicked=!1}requestAnimationFrame(e){(window.requestAnimationFrame||this.timeoutFrame)(e)}unbindListeners(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null),this.contentScrollListener&&(this.contentScrollListener(),this.contentScrollListener=null),this.mouseEnterListener&&(this.mouseEnterListener(),this.mouseEnterListener=null),this.xBarMouseDownListener&&(this.xBarMouseDownListener(),this.xBarMouseDownListener=null),this.yBarMouseDownListener&&(this.yBarMouseDownListener(),this.yBarMouseDownListener=null)}ngOnDestroy(){this.initialized&&this.unbindListeners()}refresh(){this.moveBar()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-scroll-panel"],["p-scrollPanel"],["p-scrollpanel"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,_S,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.contentTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&(ut(_S,5),ut(N$,5),ut(q$,5)),i&2){let a;se(a=le())&&(n.contentViewChild=a.first),se(a=le())&&(n.xBarViewChild=a.first),se(a=le())&&(n.yBarViewChild=a.first)}},hostAttrs:["data-pc-name","scrollpanel"],hostVars:2,hostBindings:function(i,n){i&2&&$(n.cn(n.cx("root"),n.styleClass))},inputs:{styleClass:"styleClass",step:[2,"step","step",wt]},features:[_t([bS]),ft],ngContentSelectors:H$,decls:9,vars:20,consts:[["content",""],["xBar",""],["yBar",""],[3,"mouseenter","scroll"],[4,"ngTemplateOutlet"],["tabindex","0","role","scrollbar",3,"mousedown","keydown","keyup","focus","blur"],["tabindex","0","role","scrollbar",3,"mousedown","keydown","keyup","focus"]],template:function(i,n){if(i&1){let a=Be();Ui(),A(0,"div")(1,"div",3,0),we("mouseenter",function(){return Q(a),X(n.moveBar())})("scroll",function(b){return Q(a),X(n.onScroll(b))}),Wi(3,j$,1,0),z(4,G$,1,0,"ng-container",4),L()(),A(5,"div",5,1),we("mousedown",function(b){return Q(a),X(n.onXBarMouseDown(b))})("keydown",function(b){return Q(a),X(n.onKeyDown(b))})("keyup",function(){return Q(a),X(n.onKeyUp())})("focus",function(b){return Q(a),X(n.onFocus(b))})("blur",function(){return Q(a),X(n.onBlur())}),L(),A(7,"div",6,2),we("mousedown",function(b){return Q(a),X(n.onYBarMouseDown(b))})("keydown",function(b){return Q(a),X(n.onKeyDown(b))})("keyup",function(){return Q(a),X(n.onKeyUp())})("focus",function(b){return Q(a),X(n.onFocus(b))}),L()}i&2&&($(n.cx("contentContainer")),de("data-pc-section","wrapper"),S(),$(n.cx("content")),de("data-pc-section","content"),S(2),Zi(!n.contentTemplate&&!n._contentTemplate?3:-1),S(),C("ngTemplateOutlet",n.contentTemplate||n._contentTemplate),S(),$(n.cx("barX")),de("aria-orientation","horizontal")("aria-valuenow",n.lastScrollLeft)("data-pc-section","barx")("aria-controls",n.contentId),S(2),$(n.cx("barY")),de("aria-orientation","vertical")("aria-valuenow",n.lastScrollTop)("data-pc-section","bary")("aria-controls",n.contentId))},dependencies:[mt,Yt,Ze],encapsulation:2,changeDetection:0})}return t})(),yS=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[K$,Ze,Ze]})}return t})();var vS=`
    .p-scrolltop.p-button {
        position: fixed !important;
        inset-block-end: 20px;
        inset-inline-end: 20px;
    }

    .p-scrolltop-sticky.p-button {
        position: sticky !important;
        display: flex;
        margin-inline-start: auto;
    }

    .p-scrolltop-enter-from {
        opacity: 0;
    }

    .p-scrolltop-enter-active {
        transition: opacity 0.15s;
    }

    .p-scrolltop.p-scrolltop-leave-to {
        opacity: 0;
    }

    .p-scrolltop-leave-active {
        transition: opacity 0.15s;
    }
`;var W$=["icon"],Z$=(t,s)=>({showTransitionParams:t,hideTransitionParams:s}),Q$=t=>({value:"open",params:t}),X$=t=>({styleClass:t});function Y$(t,s){if(t&1&&ae(0,"span"),t&2){let e=M(4);$(e.cn(e.cx("icon"),e._icon))}}function J$(t,s){if(t&1&&(at(),ae(0,"svg",7)),t&2){let e=M(4);$(e.cx("icon"))}}function eK(t,s){if(t&1&&(Ke(0),z(1,Y$,1,2,"span",5)(2,J$,1,2,"svg",6),We()),t&2){let e=M(3);S(),C("ngIf",e._icon),S(),C("ngIf",!e._icon)}}function tK(t,s){}function iK(t,s){if(t&1&&z(0,tK,0,0,"ng-template",8),t&2){M(2);let e=Gt(2);C("ngIf",!e)}}function nK(t,s){if(t&1&&z(0,eK,3,2,"ng-container",3)(1,iK,1,1,null,4),t&2){let e=M(2);C("ngIf",!e.iconTemplate&&!e._iconTemplate),S(),C("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)("ngTemplateOutletContext",ot(3,X$,e.cx("icon")))}}function aK(t,s){if(t&1){let e=Be();A(0,"p-button",2),we("@animation.start",function(n){Q(e);let a=M();return X(a.onEnter(n))})("@animation.done",function(n){Q(e);let a=M();return X(a.onLeave(n))})("click",function(){Q(e);let n=M();return X(n.onClick())}),z(1,nK,2,5,"ng-template",null,0,ze),L()}if(t&2){let e=M();C("@animation",ot(8,Q$,ni(5,Z$,e.showTransitionOptions,e.hideTransitionOptions)))("styleClass",e.cn(e.cx("root"),e.styleClass))("ngStyle",e.style)("buttonProps",e.buttonProps),de("aria-label",e.buttonAriaLabel)}}var oK={root:({instance:t})=>["p-scrolltop",{"p-scrolltop-sticky":t.target!=="window"}],icon:"p-scrolltop-icon"},xS=(()=>{class t extends Rt{name="scrolltop";theme=vS;classes=oK;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var rK=(()=>{class t extends Ot{styleClass;style;target="window";threshold=400;get icon(){return this._icon}behavior="smooth";showTransitionOptions=".15s";hideTransitionOptions=".15s";buttonAriaLabel;buttonProps={rounded:!0,severity:"success"};iconTemplate;templates;_iconTemplate;_icon;set icon(e){this._icon=e}documentScrollListener;parentScrollListener;visible=!1;overlay;_componentStyle=Fe(xS);ngOnInit(){super.ngOnInit(),this.target==="window"?this.bindDocumentScrollListener():this.target==="parent"&&this.bindParentScrollListener()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"icon":this._iconTemplate=e.template;break}})}onClick(){(this.target==="window"?this.document.defaultView:this.el.nativeElement.parentElement).scroll({top:0,behavior:this.behavior})}onEnter(e){switch(e.toState){case"open":this.overlay=e.element,qi.set("overlay",this.overlay,this.config.zIndex.overlay);break;case"void":this.overlay=null;break}}onLeave(e){switch(e.toState){case"void":qi.clear(e.element);break}}checkVisibility(e){e>this.threshold?this.visible=!0:this.visible=!1,this.cd.markForCheck()}bindParentScrollListener(){ii(this.platformId)&&(this.parentScrollListener=this.renderer.listen(this.el.nativeElement.parentElement,"scroll",()=>{this.checkVisibility(this.el.nativeElement.parentElement.scrollTop)}))}bindDocumentScrollListener(){ii(this.platformId)&&(this.documentScrollListener=this.renderer.listen(this.document.defaultView,"scroll",()=>{this.checkVisibility(A0())}))}unbindParentScrollListener(){this.parentScrollListener&&(this.parentScrollListener(),this.parentScrollListener=null)}unbindDocumentScrollListener(){this.documentScrollListener&&(this.documentScrollListener(),this.documentScrollListener=null)}ngOnDestroy(){this.target==="window"?this.unbindDocumentScrollListener():this.target==="parent"&&this.unbindParentScrollListener(),this.overlay&&(qi.clear(this.overlay),this.overlay=null),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-scrollTop"],["p-scrolltop"],["p-scroll-top"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,W$,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.iconTemplate=u.first),se(u=le())&&(n.templates=u)}},inputs:{styleClass:"styleClass",style:"style",target:"target",threshold:[2,"threshold","threshold",wt],icon:"icon",behavior:"behavior",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",buttonAriaLabel:"buttonAriaLabel",buttonProps:"buttonProps"},features:[_t([xS]),ft],decls:1,vars:1,consts:[["icon",""],["type","button",3,"styleClass","ngStyle","buttonProps","click",4,"ngIf"],["type","button",3,"click","styleClass","ngStyle","buttonProps"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class",4,"ngIf"],["data-p-icon","chevron-up",3,"class",4,"ngIf"],["data-p-icon","chevron-up"],[3,"ngIf"]],template:function(i,n){i&1&&z(0,aK,3,10,"p-button",1),i&2&&C("ngIf",n.visible)},dependencies:[mt,Ut,Yt,fi,Ud,Gi,Ze],encapsulation:2,data:{animation:[qn("animation",[ao("void",Oi({opacity:0})),ao("open",Oi({opacity:1})),Fi("void => open",Ni("{{showTransitionParams}}")),Fi("open => void",Ni("{{hideTransitionParams}}"))])]},changeDetection:0})}return t})(),wS=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[rK,Ze,Ze]})}return t})();var IS=`
    .p-skeleton {
        display: block;
        overflow: hidden;
        background: dt('skeleton.background');
        border-radius: dt('skeleton.border.radius');
    }

    .p-skeleton::after {
        content: '';
        animation: p-skeleton-animation 1.2s infinite;
        height: 100%;
        left: 0;
        position: absolute;
        right: 0;
        top: 0;
        transform: translateX(-100%);
        z-index: 1;
        background: linear-gradient(90deg, rgba(255, 255, 255, 0), dt('skeleton.animation.background'), rgba(255, 255, 255, 0));
    }

    [dir='rtl'] .p-skeleton::after {
        animation-name: p-skeleton-animation-rtl;
    }

    .p-skeleton-circle {
        border-radius: 50%;
    }

    .p-skeleton-animation-none::after {
        animation: none;
    }

    @keyframes p-skeleton-animation {
        from {
            transform: translateX(-100%);
        }
        to {
            transform: translateX(100%);
        }
    }

    @keyframes p-skeleton-animation-rtl {
        from {
            transform: translateX(100%);
        }
        to {
            transform: translateX(-100%);
        }
    }
`;var sK={root:{position:"relative"}},lK={root:({instance:t})=>["p-skeleton p-component",{"p-skeleton-circle":t.shape==="circle","p-skeleton-animation-none":t.animation==="none"}]},TS=(()=>{class t extends Rt{name="skeleton";theme=IS;classes=lK;inlineStyles=sK;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var Ev=(()=>{class t extends Ot{styleClass;shape="rectangle";animation="wave";borderRadius;size;width="100%";height="1rem";_componentStyle=Fe(TS);get containerStyle(){let e=this._componentStyle?.inlineStyles.root,i;return this.size?i=Ma(ri({},e),{width:this.size,height:this.size,borderRadius:this.borderRadius}):i=Ma(ri({},e),{width:this.width,height:this.height,borderRadius:this.borderRadius}),i}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-skeleton"]],hostVars:7,hostBindings:function(i,n){i&2&&(de("aria-hidden",!0)("data-pc-name","skeleton")("data-pc-section","root"),Lt(n.containerStyle),$(n.cn(n.cx("root"),n.styleClass)))},inputs:{styleClass:"styleClass",shape:"shape",animation:"animation",borderRadius:"borderRadius",size:"size",width:"width",height:"height"},features:[_t([TS]),ft],decls:0,vars:0,template:function(i,n){},dependencies:[mt,Ze],encapsulation:2,changeDetection:0})}return t})(),CS=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[Ev,Ze,Ze]})}return t})();var SS=()=>({"background-color":"#9c27b0",color:"#ffffff"}),uK=()=>({"background-color":"#2196F3",color:"#ffffff"}),C_=class t{value=0;interval;ngOnInit(){this.interval=setInterval(()=>{this.value=this.value+Math.floor(Math.random()*10)+1,this.value>=100&&(this.value=100,clearInterval(this.interval))},2e3)}ngOnDestroy(){clearInterval(this.interval)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Je({type:t,selectors:[["app-misc-demo"]],decls:126,vars:24,consts:[[1,"card"],[1,"font-semibold","text-xl","mb-4"],[1,"flex","flex-col","md:flex-row","gap-4"],[1,"md:w-1/2"],[3,"value","showValue"],[1,"flex","flex-col","md:flex-row","gap-8"],[1,"flex","gap-2"],["value","2"],["value","8","severity","success"],["value","4","severity","info"],["value","12","severity","warn"],["value","3","severity","danger"],[1,"font-semibold","my-4"],[1,"flex","gap-6"],[1,"pi","pi-bell",2,"font-size","2rem"],["value","4","severity","danger"],[1,"pi","pi-calendar",2,"font-size","2rem"],["severity","danger"],[1,"pi","pi-envelope",2,"font-size","2rem"],["label","Emails","badge","8"],["label","Messages","icon","pi pi-users","severity","warn","badge","8","badgeSeverity","danger"],[1,"flex","items-start","gap-2"],[3,"value"],["badgeSize","large","severity","warn",3,"value"],["badgeSize","xlarge","severity","success",3,"value"],[1,"font-semibold","mb-4"],["styleClass","mb-4"],["image","https://primefaces.org/cdn/primeng/images/demo/avatar/amyelsner.png","size","large","shape","circle"],["image","https://primefaces.org/cdn/primeng/images/demo/avatar/asiyajavayant.png","size","large","shape","circle"],["image","https://primefaces.org/cdn/primeng/images/demo/avatar/onyamalimba.png","size","large","shape","circle"],["image","https://primefaces.org/cdn/primeng/images/demo/avatar/ionibowcher.png","size","large","shape","circle"],["image","https://primefaces.org/cdn/primeng/images/demo/avatar/xuxuefeng.png","size","large","shape","circle"],["label","+2","shape","circle","size","large"],["label","P","size","xlarge","shape","circle",1,"mr-2"],["label","V","size","large","shape","circle",1,"mr-2"],["label","U","shape","circle",1,"mr-2"],["value","4","severity","danger",1,"inline-flex"],["label","U","size","xlarge"],[1,"rounded-border","border","border-surface","p-6"],[1,"flex","mb-4"],["shape","circle","size","4rem","styleClass","mr-2"],["width","10rem","styleClass","mb-2"],["width","5rem","styleClass","mb-2"],["height",".5rem"],["width","100%","height","150px"],[1,"flex","justify-between","mt-4"],["width","4rem","height","2rem"],["value","Primary"],["severity","success","value","Success"],["severity","info","value","Info"],["severity","warn","value","Warning"],["severity","danger","value","Danger"],["value","Primary",3,"rounded"],["severity","success","value","Success",3,"rounded"],["severity","info","value","Info",3,"rounded"],["severity","warn","value","Warning",3,"rounded"],["severity","danger","value","Danger",3,"rounded"],["icon","pi pi-user","value","Primary"],["icon","pi pi-check","severity","success","value","Success"],["icon","pi pi-info-circle","severity","info","value","Info"],["icon","pi pi-exclamation-triangle","severity","warn","value","Warning"],["icon","pi pi-times","severity","danger","value","Danger"],[1,"flex","items-center","flex-col","sm:flex-row"],["label","Action","styleClass","m-1"],["label","Comedy","styleClass","m-1"],["label","Mystery","styleClass","m-1"],["label","Thriller","styleClass","m-1",3,"removable"],["label","Apple","icon","pi pi-apple","styleClass","m-1"],["label","Facebook","icon","pi pi-facebook","styleClass","m-1"],["label","Google","icon","pi pi-google","styleClass","m-1"],["label","Microsoft","icon","pi pi-microsoft","styleClass","m-1",3,"removable"],["label","Amy Elsner","image","https://primefaces.org/cdn/primeng/images/demo/avatar/amyelsner.png","styleClass","m-1"],["label","Asiya Javayant","image","https://primefaces.org/cdn/primeng/images/demo/avatar/asiyajavayant.png","styleClass","m-1"],["label","Onyama Limba","image","https://primefaces.org/cdn/primeng/images/demo/avatar/onyamalimba.png","styleClass","m-1"],["label","Xuxue Feng","image","https://primefaces.org/cdn/primeng/images/demo/avatar/xuxuefeng.png","styleClass","m-1",3,"removable"]],template:function(e,i){e&1&&(A(0,"div",0)(1,"div",1),ie(2,"ProgressBar"),L(),A(3,"div",2)(4,"div",3),ae(5,"p-progressbar",4),L(),A(6,"div",3),ae(7,"p-progressbar",4),L()()(),A(8,"div",5)(9,"div",3)(10,"div",0)(11,"div",1),ie(12,"Badge"),L(),A(13,"div",6),ae(14,"p-badge",7)(15,"p-badge",8)(16,"p-badge",9)(17,"p-badge",10)(18,"p-badge",11),L(),A(19,"div",12),ie(20,"Overlay"),L(),A(21,"div",13)(22,"p-overlaybadge",7),ae(23,"i",14),L(),A(24,"p-overlaybadge",15),ae(25,"i",16),L(),A(26,"p-overlaybadge",17),ae(27,"i",18),L()(),A(28,"div",12),ie(29,"Button"),L(),A(30,"div",6),ae(31,"p-button",19)(32,"p-button",20),L(),A(33,"div",12),ie(34,"Sizes"),L(),A(35,"div",21),ae(36,"p-badge",22)(37,"p-badge",23)(38,"p-badge",24),L()(),A(39,"div",0)(40,"div",1),ie(41,"Avatar"),L(),A(42,"div",25),ie(43,"Group"),L(),A(44,"p-avatargroup",26),ae(45,"p-avatar",27)(46,"p-avatar",28)(47,"p-avatar",29)(48,"p-avatar",30)(49,"p-avatar",31)(50,"p-avatar",32),L(),A(51,"div",12),ie(52,"Label - Circle"),L(),ae(53,"p-avatar",33)(54,"p-avatar",34)(55,"p-avatar",35),A(56,"div",12),ie(57,"Icon - Badge"),L(),A(58,"p-overlaybadge",36),ae(59,"p-avatar",37),L()(),A(60,"div",0)(61,"div",1),ie(62,"Skeleton"),L(),A(63,"div",38)(64,"div",39),ae(65,"p-skeleton",40),A(66,"div"),ae(67,"p-skeleton",41)(68,"p-skeleton",42)(69,"p-skeleton",43),L()(),ae(70,"p-skeleton",44),A(71,"div",45),ae(72,"p-skeleton",46)(73,"p-skeleton",46),L()()()(),A(74,"div",3)(75,"div",0)(76,"div",1),ie(77,"Tag"),L(),A(78,"div",25),ie(79,"Default"),L(),A(80,"div",6),ae(81,"p-tag",47)(82,"p-tag",48)(83,"p-tag",49)(84,"p-tag",50)(85,"p-tag",51),L(),A(86,"div",12),ie(87,"Pills"),L(),A(88,"div",6),ae(89,"p-tag",52)(90,"p-tag",53)(91,"p-tag",54)(92,"p-tag",55)(93,"p-tag",56),L(),A(94,"div",12),ie(95,"Icons"),L(),A(96,"div",6),ae(97,"p-tag",57)(98,"p-tag",58)(99,"p-tag",59)(100,"p-tag",60)(101,"p-tag",61),L()(),A(102,"div",0)(103,"div",1),ie(104,"Chip"),L(),A(105,"div",25),ie(106,"Basic"),L(),A(107,"div",62),ae(108,"p-chip",63)(109,"p-chip",64)(110,"p-chip",65)(111,"p-chip",66),L(),A(112,"div",12),ie(113,"Icon"),L(),A(114,"div",62),ae(115,"p-chip",67)(116,"p-chip",68)(117,"p-chip",69)(118,"p-chip",70),L(),A(119,"div",12),ie(120,"Image"),L(),A(121,"div",62),ae(122,"p-chip",71)(123,"p-chip",72)(124,"p-chip",73)(125,"p-chip",74),L()()()()),e&2&&(S(5),C("value",i.value)("showValue",!0),S(2),C("value",50)("showValue",!1),S(29),C("value",2),S(),C("value",4),S(),C("value",6),S(12),Lt(Zt(21,SS)),S(4),Lt(Zt(22,uK)),S(),Lt(Zt(23,SS)),S(34),C("rounded",!0),S(),C("rounded",!0),S(),C("rounded",!0),S(),C("rounded",!0),S(),C("rounded",!0),S(18),C("removable",!0),S(7),C("removable",!0),S(7),C("removable",!0))},dependencies:[mt,J0,Y0,oo,jr,s3,r3,yS,xc,vc,C3,wc,zi,Gi,CS,Ev,hS,Mv,wS,fS,kv],encapsulation:2})};var MS=`
    .p-fieldset {
        background: dt('fieldset.background');
        border: 1px solid dt('fieldset.border.color');
        border-radius: dt('fieldset.border.radius');
        color: dt('fieldset.color');
        padding: dt('fieldset.padding');
        margin: 0;
    }

    .p-fieldset-legend {
        background: dt('fieldset.legend.background');
        border-radius: dt('fieldset.legend.border.radius');
        border-width: dt('fieldset.legend.border.width');
        border-style: solid;
        border-color: dt('fieldset.legend.border.color');
        padding: dt('fieldset.legend.padding');
        transition:
            background dt('fieldset.transition.duration'),
            color dt('fieldset.transition.duration'),
            outline-color dt('fieldset.transition.duration'),
            box-shadow dt('fieldset.transition.duration');
    }

    .p-fieldset-toggleable > .p-fieldset-legend {
        padding: 0;
    }

    .p-fieldset-toggle-button {
        cursor: pointer;
        user-select: none;
        overflow: hidden;
        position: relative;
        text-decoration: none;
        display: flex;
        gap: dt('fieldset.legend.gap');
        align-items: center;
        justify-content: center;
        padding: dt('fieldset.legend.padding');
        background: transparent;
        border: 0 none;
        border-radius: dt('fieldset.legend.border.radius');
        transition:
            background dt('fieldset.transition.duration'),
            color dt('fieldset.transition.duration'),
            outline-color dt('fieldset.transition.duration'),
            box-shadow dt('fieldset.transition.duration');
        outline-color: transparent;
    }

    .p-fieldset-legend-label {
        font-weight: dt('fieldset.legend.font.weight');
    }

    .p-fieldset-toggle-button:focus-visible {
        box-shadow: dt('fieldset.legend.focus.ring.shadow');
        outline: dt('fieldset.legend.focus.ring.width') dt('fieldset.legend.focus.ring.style') dt('fieldset.legend.focus.ring.color');
        outline-offset: dt('fieldset.legend.focus.ring.offset');
    }

    .p-fieldset-toggleable > .p-fieldset-legend:hover {
        color: dt('fieldset.legend.hover.color');
        background: dt('fieldset.legend.hover.background');
    }

    .p-fieldset-toggle-icon {
        color: dt('fieldset.toggle.icon.color');
        transition: color dt('fieldset.transition.duration');
    }

    .p-fieldset-toggleable > .p-fieldset-legend:hover .p-fieldset-toggle-icon {
        color: dt('fieldset.toggle.icon.hover.color');
    }

    .p-fieldset .p-fieldset-content {
        padding: dt('fieldset.content.padding');
    }
`;var pK=["header"],hK=["expandicon"],mK=["collapseicon"],fK=["content"],gK=["*",[["p-header"]]],_K=["*","p-header"],bK=t=>({transitionParams:t,height:"0"}),yK=t=>({value:"hidden",params:t}),vK=t=>({transitionParams:t,height:"*"}),xK=t=>({value:"visible",params:t});function wK(t,s){if(t&1&&(at(),ae(0,"svg",9)),t&2){let e=M(3);$(e.cx("toggleIcon")),de("data-pc-section","togglericon")}}function IK(t,s){t&1&&nt(0)}function TK(t,s){if(t&1&&(A(0,"span"),z(1,IK,1,0,"ng-container",4),L()),t&2){let e=M(3);$(e.cx("toggleIcon")),de("data-pc-section","togglericon"),S(),C("ngTemplateOutlet",e.expandIconTemplate||e._expandIconTemplate)}}function CK(t,s){if(t&1&&(Ke(0),z(1,wK,1,3,"svg",7)(2,TK,2,4,"span",8),We()),t&2){let e=M(2);S(),C("ngIf",!e.expandIconTemplate&&!e._expandIconTemplate),S(),C("ngIf",e.expandIconTemplate||e._expandIconTemplate)}}function SK(t,s){if(t&1&&(at(),ae(0,"svg",11)),t&2){let e=M(3);$(e.cx("toggleIcon")),de("aria-hidden",!0)("data-pc-section","togglericon")}}function MK(t,s){t&1&&nt(0)}function kK(t,s){if(t&1&&(A(0,"span"),z(1,MK,1,0,"ng-container",4),L()),t&2){let e=M(3);$(e.cx("toggleIcon")),de("data-pc-section","togglericon"),S(),C("ngTemplateOutlet",e.collapseIconTemplate||e._collapseIconTemplate)}}function EK(t,s){if(t&1&&(Ke(0),z(1,SK,1,4,"svg",10)(2,kK,2,4,"span",8),We()),t&2){let e=M(2);S(),C("ngIf",!e.collapseIconTemplate&&!e._collapseIconTemplate),S(),C("ngIf",e.collapseIconTemplate||e._collapseIconTemplate)}}function PK(t,s){t&1&&nt(0)}function DK(t,s){if(t&1){let e=Be();Ke(0),A(1,"button",5),we("click",function(n){Q(e);let a=M();return X(a.toggle(n))})("keydown",function(n){Q(e);let a=M();return X(a.onKeyDown(n))}),z(2,CK,3,2,"ng-container",6)(3,EK,3,2,"ng-container",6)(4,PK,1,0,"ng-container",4),L(),We()}if(t&2){let e=M(),i=Gt(4);S(),$(e.cx("toggleButton")),de("id",e.id+"_header")("aria-controls",e.id+"_content")("aria-expanded",!e.collapsed)("aria-label",e.buttonAriaLabel),S(),C("ngIf",e.collapsed),S(),C("ngIf",!e.collapsed),S(),C("ngTemplateOutlet",i)}}function LK(t,s){t&1&&nt(0)}function AK(t,s){if(t&1&&(A(0,"span"),ie(1),L(),Ei(2,1),z(3,LK,1,0,"ng-container",4)),t&2){let e=M();$(e.cx("legendLabel")),de("data-pc-section","legendtitle"),S(),Et(e.legend),S(2),C("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)}}function OK(t,s){t&1&&nt(0)}var FK=`
    ${MS}

    /* For PrimeNG */
    .p-fieldset-collapsed > .p-fieldset-content-container,
    .p-fieldset-content-container.ng-animating {
        overflow: hidden;
    }
`,VK={root:({instance:t})=>["p-fieldset p-component",{"p-fieldset-toggleable":t.toggleable,"p-fieldset-collapsed":t.collapsed&&t.toggleable}],legend:"p-fieldset-legend",legendLabel:"p-fieldset-legend-label",toggleButton:"p-fieldset-toggle-button",toggleIcon:"p-fieldset-toggle-icon",contentContainer:"p-fieldset-content-container",content:"p-fieldset-content"},kS=(()=>{class t extends Rt{name="fieldset";theme=FK;classes=VK;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var Pv=(()=>{class t extends Ot{legend;toggleable;collapsed=!1;style;styleClass;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";collapsedChange=new Le;onBeforeToggle=new Le;onAfterToggle=new Le;get id(){return vi("pn_id_")}get buttonAriaLabel(){return this.legend}animating;_componentStyle=Fe(kS);headerTemplate;expandIconTemplate;collapseIconTemplate;contentTemplate;toggle(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.collapsed?this.expand():this.collapse(),this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed}),e.preventDefault()}onKeyDown(e){(e.code==="Enter"||e.code==="Space")&&(this.toggle(e),e.preventDefault())}expand(){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(){this.animating=!1}_headerTemplate;_expandIconTemplate;_collapseIconTemplate;_contentTemplate;templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"expandicon":this._expandIconTemplate=e.template;break;case"collapseicon":this._collapseIconTemplate=e.template;break;case"content":this._contentTemplate=e.template;break}})}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-fieldset"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,pK,4),xe(a,hK,4),xe(a,mK,4),xe(a,fK,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.headerTemplate=u.first),se(u=le())&&(n.expandIconTemplate=u.first),se(u=le())&&(n.collapseIconTemplate=u.first),se(u=le())&&(n.contentTemplate=u.first),se(u=le())&&(n.templates=u)}},inputs:{legend:"legend",toggleable:[2,"toggleable","toggleable",ye],collapsed:[2,"collapsed","collapsed",ye],style:"style",styleClass:"styleClass",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},features:[_t([kS]),ft],ngContentSelectors:_K,decls:9,vars:30,consts:[["legendContent",""],[3,"ngStyle"],[4,"ngIf","ngIfElse"],["role","region"],[4,"ngTemplateOutlet"],["tabindex","0","role","button",3,"click","keydown"],[4,"ngIf"],["data-p-icon","plus",3,"class",4,"ngIf"],[3,"class",4,"ngIf"],["data-p-icon","plus"],["data-p-icon","minus",3,"class",4,"ngIf"],["data-p-icon","minus"]],template:function(i,n){if(i&1){let a=Be();Ui(gK),A(0,"fieldset",1)(1,"legend"),z(2,DK,5,9,"ng-container",2)(3,AK,4,5,"ng-template",null,0,ze),L(),A(5,"div",3),we("@fieldsetContent.done",function(){return Q(a),X(n.onToggleDone())}),A(6,"div"),Ei(7),z(8,OK,1,0,"ng-container",4),L()()()}if(i&2){let a=Gt(4);$(n.cn(n.cx("root"),n.styleClass)),C("ngStyle",n.style),de("id",n.id)("data-pc-name","fieldset")("data-pc-section","root"),S(),$(n.cx("legend")),de("data-pc-section","legend"),S(),C("ngIf",n.toggleable)("ngIfElse",a),S(3),$(n.cx("contentContainer")),C("@fieldsetContent",n.collapsed?ot(24,yK,ot(22,bK,n.transitionOptions)):ot(28,xK,ot(26,vK,n.animating?n.transitionOptions:"0ms"))),de("id",n.id+"_content")("aria-labelledby",n.id+"_header")("aria-hidden",n.collapsed)("data-pc-section","toggleablecontent"),S(),$(n.cx("content")),de("data-pc-section","content"),S(2),C("ngTemplateOutlet",n.contentTemplate||n._contentTemplate)}},dependencies:[mt,Ut,Yt,fi,cg,H0,Ze],encapsulation:2,data:{animation:[qn("fieldsetContent",[ao("hidden",Oi({height:"0"})),ao("visible",Oi({height:"*"})),Fi("visible <=> hidden",[Ni("{{transitionParams}}")]),Fi("void => *",Ni(0))])]},changeDetection:0})}return t})(),ES=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[Pv,Ze,Ze]})}return t})();var PS=`
    .p-menu {
        background: dt('menu.background');
        color: dt('menu.color');
        border: 1px solid dt('menu.border.color');
        border-radius: dt('menu.border.radius');
        min-width: 12.5rem;
    }

    .p-menu-list {
        margin: 0;
        padding: dt('menu.list.padding');
        outline: 0 none;
        list-style: none;
        display: flex;
        flex-direction: column;
        gap: dt('menu.list.gap');
    }

    .p-menu-item-content {
        transition:
            background dt('menu.transition.duration'),
            color dt('menu.transition.duration');
        border-radius: dt('menu.item.border.radius');
        color: dt('menu.item.color');
    }

    .p-menu-item-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
        color: inherit;
        padding: dt('menu.item.padding');
        gap: dt('menu.item.gap');
        user-select: none;
        outline: 0 none;
    }

    .p-menu-item-label {
        line-height: 1;
    }

    .p-menu-item-icon {
        color: dt('menu.item.icon.color');
    }

    .p-menu-item.p-focus .p-menu-item-content {
        color: dt('menu.item.focus.color');
        background: dt('menu.item.focus.background');
    }

    .p-menu-item.p-focus .p-menu-item-icon {
        color: dt('menu.item.icon.focus.color');
    }

    .p-menu-item:not(.p-disabled) .p-menu-item-content:hover {
        color: dt('menu.item.focus.color');
        background: dt('menu.item.focus.background');
    }

    .p-menu-item:not(.p-disabled) .p-menu-item-content:hover .p-menu-item-icon {
        color: dt('menu.item.icon.focus.color');
    }

    .p-menu-overlay {
        box-shadow: dt('menu.shadow');
    }

    .p-menu-submenu-label {
        background: dt('menu.submenu.label.background');
        padding: dt('menu.submenu.label.padding');
        color: dt('menu.submenu.label.color');
        font-weight: dt('menu.submenu.label.font.weight');
    }

    .p-menu-separator {
        border-block-start: 1px solid dt('menu.separator.border.color');
    }
`;var RK=["pMenuItemContent",""],M_=t=>({$implicit:t}),BK=()=>({exact:!1}),NK=t=>({item:t});function qK(t,s){t&1&&nt(0)}function HK(t,s){if(t&1&&(A(0,"a",6),z(1,qK,1,0,"ng-container",7),L()),t&2){let e=M(2),i=Gt(4);$(e.cx("itemLink")),C("target",e.item.target),de("title",e.item.title)("href",e.item.url||null,Ji)("data-automationid",e.item.automationId)("tabindex",-1)("data-pc-section","action"),S(),C("ngTemplateOutlet",i)("ngTemplateOutletContext",ot(10,M_,e.item))}}function jK(t,s){t&1&&nt(0)}function GK(t,s){if(t&1&&(A(0,"a",8),z(1,jK,1,0,"ng-container",7),L()),t&2){let e=M(2),i=Gt(4);$(e.cx("itemLink")),C("routerLink",e.item.routerLink)("queryParams",e.item.queryParams)("routerLinkActiveOptions",e.item.routerLinkActiveOptions||Zt(18,BK))("target",e.item.target)("fragment",e.item.fragment)("queryParamsHandling",e.item.queryParamsHandling)("preserveFragment",e.item.preserveFragment)("skipLocationChange",e.item.skipLocationChange)("replaceUrl",e.item.replaceUrl)("state",e.item.state),de("data-automationid",e.item.automationId)("tabindex",-1)("data-pc-section","action")("title",e.item.title),S(),C("ngTemplateOutlet",i)("ngTemplateOutletContext",ot(19,M_,e.item))}}function UK(t,s){if(t&1&&(Ke(0),z(1,HK,2,12,"a",4)(2,GK,2,21,"a",5),We()),t&2){let e=M();S(),C("ngIf",!(e.item!=null&&e.item.routerLink)),S(),C("ngIf",e.item==null?null:e.item.routerLink)}}function $K(t,s){}function KK(t,s){t&1&&z(0,$K,0,0,"ng-template")}function WK(t,s){if(t&1&&(Ke(0),z(1,KK,1,0,null,7),We()),t&2){let e=M();S(),C("ngTemplateOutlet",e.itemTemplate)("ngTemplateOutletContext",ot(2,M_,e.item))}}function ZK(t,s){if(t&1&&ae(0,"span"),t&2){let e=M(2);Lt(e.item.iconStyle),$(e.cx("itemIcon",ot(4,NK,e.item)))}}function QK(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(2);$(e.cx("itemLabel")),S(),Et(e.item.label)}}function XK(t,s){if(t&1&&ae(0,"span",12),t&2){let e=M(2);C("innerHTML",e.sanitizeHtml(e.item.label),ea)}}function YK(t,s){if(t&1&&ae(0,"p-badge",13),t&2){let e=M(2);C("styleClass",e.item.badgeStyleClass)("value",e.item.badge)}}function JK(t,s){if(t&1&&z(0,ZK,1,6,"span",9)(1,QK,2,3,"span",10)(2,XK,1,1,"ng-template",null,1,ze)(4,YK,1,2,"p-badge",11),t&2){let e=Gt(3),i=M();C("ngIf",i.item.icon),S(),C("ngIf",i.item.escape!==!1)("ngIfElse",e),S(3),C("ngIf",i.item.badge)}}var eW=["start"],tW=["end"],iW=["header"],nW=["item"],aW=["submenuheader"],oW=["list"],rW=["container"],sW=(t,s)=>({showTransitionParams:t,hideTransitionParams:s}),lW=t=>({value:"visible",params:t}),DS=(t,s)=>({item:t,id:s});function cW(t,s){t&1&&nt(0)}function dW(t,s){if(t&1&&(A(0,"div"),z(1,cW,1,0,"ng-container",8),L()),t&2){let e=M(2);$(e.cx("start")),de("data-pc-section","start"),S(),C("ngTemplateOutlet",e.startTemplate??e._startTemplate)}}function uW(t,s){if(t&1&&ae(0,"li",12),t&2){let e=M(4);$(e.cx("separator"))}}function pW(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(3).$implicit;S(),Et(e.label)}}function hW(t,s){if(t&1&&ae(0,"span",16),t&2){let e=M(3).$implicit,i=M(3);C("innerHTML",i.sanitizeHtml(e.label),ea)}}function mW(t,s){if(t&1&&(Ke(0),z(1,pW,2,1,"span",15)(2,hW,1,1,"ng-template",null,2,ze),We()),t&2){let e=Gt(3),i=M(2).$implicit;S(),C("ngIf",i.escape!==!1)("ngIfElse",e)}}function fW(t,s){t&1&&nt(0)}function gW(t,s){if(t&1&&(A(0,"li",13),z(1,mW,4,2,"ng-container",7)(2,fW,1,0,"ng-container",14),L()),t&2){let e=M(),i=e.$implicit,n=e.index,a=M(3);$(a.cx("submenuLabel")),C("tooltipOptions",i.tooltipOptions),de("data-automationid",i.automationId)("id",a.menuitemId(i,a.id,n)),S(),C("ngIf",!a.submenuHeaderTemplate&&!a._submenuHeaderTemplate),S(),C("ngTemplateOutlet",a.submenuHeaderTemplate??a._submenuHeaderTemplate)("ngTemplateOutletContext",ot(8,M_,i))}}function _W(t,s){if(t&1&&ae(0,"li",12),t&2){let e=M(5);$(e.cx("separator"))}}function bW(t,s){if(t&1){let e=Be();A(0,"li",18),we("onMenuItemClick",function(n){Q(e);let a=M(),u=a.$implicit,b=a.index,T=M().index,D=M(3);return X(D.itemClick(n,D.menuitemId(u,D.id,T,b)))}),L()}if(t&2){let e=M(),i=e.$implicit,n=e.index,a=M().index,u=M(3);Lt(i.style),$(u.cn(u.cx("item",ni(13,DS,i,u.menuitemId(i,u.id,a,n))),i==null?null:i.styleClass)),C("pMenuItemContent",i)("itemTemplate",u.itemTemplate??u._itemTemplate)("tooltipOptions",i.tooltipOptions),de("data-pc-section","menuitem")("aria-label",u.label(i.label))("data-p-focused",u.isItemFocused(u.menuitemId(i,u.id,a,n)))("data-p-disabled",u.disabled(i.disabled))("aria-disabled",u.disabled(i.disabled))("id",u.menuitemId(i,u.id,a,n))}}function yW(t,s){if(t&1&&z(0,_W,1,2,"li",10)(1,bW,1,16,"li",17),t&2){let e=s.$implicit,i=M().$implicit;C("ngIf",e.separator&&(e.visible!==!1||i.visible!==!1)),S(),C("ngIf",!e.separator&&e.visible!==!1&&(e.visible!==void 0||i.visible!==!1))}}function vW(t,s){if(t&1&&z(0,uW,1,2,"li",10)(1,gW,3,10,"li",11)(2,yW,2,2,"ng-template",9),t&2){let e=s.$implicit;C("ngIf",e.separator&&e.visible!==!1),S(),C("ngIf",!e.separator),S(),C("ngForOf",e.items)}}function xW(t,s){if(t&1&&z(0,vW,3,3,"ng-template",9),t&2){let e=M(2);C("ngForOf",e.model)}}function wW(t,s){if(t&1&&ae(0,"li",12),t&2){let e=M(4);$(e.cx("separator"))}}function IW(t,s){if(t&1){let e=Be();A(0,"li",20),we("onMenuItemClick",function(n){Q(e);let a=M(),u=a.$implicit,b=a.index,T=M(3);return X(T.itemClick(n,T.menuitemId(u,T.id,b)))}),L()}if(t&2){let e=M(),i=e.$implicit,n=e.index,a=M(3);$(a.cn(a.cx("item",ni(12,DS,i,a.menuitemId(i,a.id,n))),i==null?null:i.styleClass)),C("pMenuItemContent",i)("itemTemplate",a.itemTemplate??a._itemTemplate)("ngStyle",i.style)("tooltipOptions",i.tooltipOptions),de("data-pc-section","menuitem")("aria-label",a.label(i.label))("data-p-focused",a.isItemFocused(a.menuitemId(i,a.id,n)))("data-p-disabled",a.disabled(i.disabled))("aria-disabled",a.disabled(i.disabled))("id",a.menuitemId(i,a.id,n))}}function TW(t,s){if(t&1&&z(0,wW,1,2,"li",10)(1,IW,1,15,"li",19),t&2){let e=s.$implicit;C("ngIf",e.separator&&e.visible!==!1),S(),C("ngIf",!e.separator&&e.visible!==!1)}}function CW(t,s){if(t&1&&z(0,TW,2,2,"ng-template",9),t&2){let e=M(2);C("ngForOf",e.model)}}function SW(t,s){t&1&&nt(0)}function MW(t,s){if(t&1&&(A(0,"div"),z(1,SW,1,0,"ng-container",8),L()),t&2){let e=M(2);$(e.cx("end")),de("data-pc-section","end"),S(),C("ngTemplateOutlet",e.endTemplate??e._endTemplate)}}function kW(t,s){if(t&1){let e=Be();A(0,"div",4,0),we("click",function(n){Q(e);let a=M();return X(a.onOverlayClick(n))})("@overlayAnimation.start",function(n){Q(e);let a=M();return X(a.onOverlayAnimationStart(n))})("@overlayAnimation.done",function(n){Q(e);let a=M();return X(a.onOverlayAnimationEnd(n))}),z(2,dW,2,4,"div",5),A(3,"ul",6,1),we("focus",function(n){Q(e);let a=M();return X(a.onListFocus(n))})("blur",function(n){Q(e);let a=M();return X(a.onListBlur(n))})("keydown",function(n){Q(e);let a=M();return X(a.onListKeyDown(n))}),z(5,xW,1,1,null,7)(6,CW,1,1,null,7),L(),z(7,MW,2,4,"div",5),L()}if(t&2){let e=M();Lt(e.sx("root")),$(e.cn(e.cx("root"),e.styleClass)),C("ngStyle",e.style)("@overlayAnimation",ot(24,lW,ni(21,sW,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.popup!==!0),de("data-pc-name","menu")("id",e.id),S(2),C("ngIf",e.startTemplate??e._startTemplate),S(),$(e.cx("list")),de("id",e.id+"_list")("tabindex",e.getTabIndexValue())("data-pc-section","menu")("aria-activedescendant",e.activedescendant())("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),S(2),C("ngIf",e.hasSubMenu()),S(),C("ngIf",!e.hasSubMenu()),S(),C("ngIf",e.endTemplate??e._endTemplate)}}var EW={root:({instance:t})=>({position:t.popup?"absolute":"relative"})},PW={root:({instance:t})=>["p-menu p-component",{"p-menu-overlay":t.popup}],start:"p-menu-start",list:"p-menu-list",submenuLabel:"p-menu-submenu-label",separator:"p-menu-separator",end:"p-menu-end",item:({instance:t,item:s,id:e})=>["p-menu-item",{"p-focus":t.focusedOptionId()&&e===t.focusedOptionId(),"p-disabled":t.disabled(s.disabled)},s.styleClass],itemContent:"p-menu-item-content",itemLink:"p-menu-item-link",itemIcon:({item:t})=>["p-menu-item-icon",t.icon,t.iconClass],itemLabel:"p-menu-item-label"},S_=(()=>{class t extends Rt{name="menu";theme=PS;classes=PW;inlineStyles=EW;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var DW=(()=>{class t extends Ot{item;itemTemplate;onMenuItemClick=new Le;menu;_componentStyle=Fe(S_);constructor(e){super(),this.menu=e}onItemClick(e,i){this.onMenuItemClick.emit({originalEvent:e,item:i})}static \u0275fac=function(i){return new(i||t)(Dt(Ki(()=>k_)))};static \u0275cmp=Je({type:t,selectors:[["","pMenuItemContent",""]],inputs:{item:[0,"pMenuItemContent","item"],itemTemplate:"itemTemplate"},outputs:{onMenuItemClick:"onMenuItemClick"},features:[_t([S_]),ft],attrs:RK,decls:5,vars:5,consts:[["itemContent",""],["htmlLabel",""],[3,"click"],[4,"ngIf"],["pRipple","",3,"class","target",4,"ngIf"],["routerLinkActive","p-menu-item-link-active","pRipple","",3,"routerLink","queryParams","routerLinkActiveOptions","class","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["routerLinkActive","p-menu-item-link-active","pRipple","",3,"routerLink","queryParams","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[3,"class","style",4,"ngIf"],[3,"class",4,"ngIf","ngIfElse"],[3,"styleClass","value",4,"ngIf"],[1,"p-menu-item-label",3,"innerHTML"],[3,"styleClass","value"]],template:function(i,n){if(i&1){let a=Be();A(0,"div",2),we("click",function(b){return Q(a),X(n.onItemClick(b,n.item))}),z(1,UK,3,2,"ng-container",3)(2,WK,2,4,"ng-container",3)(3,JK,5,4,"ng-template",null,0,ze),L()}i&2&&($(n.cx("itemContent")),de("data-pc-section","content"),S(),C("ngIf",!n.itemTemplate),S(),C("ngIf",n.itemTemplate))},dependencies:[mt,Ut,Yt,Ea,$o,os,sn,aa,oo,jr,Ze],encapsulation:2})}return t})(),k_=(()=>{class t extends Ot{overlayService;model;popup;style;styleClass;autoZIndex=!0;baseZIndex=0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";ariaLabel;ariaLabelledBy;id;tabindex=0;appendTo=nn(void 0);onShow=new Le;onHide=new Le;onBlur=new Le;onFocus=new Le;listViewChild;containerViewChild;$appendTo=Ai(()=>this.appendTo()||this.config.overlayAppendTo());container;scrollHandler;documentClickListener;documentResizeListener;preventDocumentDefault;target;visible;focusedOptionId=Ai(()=>this.focusedOptionIndex()!==-1?this.focusedOptionIndex():null);focusedOptionIndex=gi(-1);selectedOptionIndex=gi(-1);focused=!1;overlayVisible=!1;relativeAlign;_componentStyle=Fe(S_);constructor(e){super(),this.overlayService=e,this.id=this.id||vi("pn_id_")}toggle(e){this.visible?this.hide():this.show(e),this.preventDocumentDefault=!0}show(e){this.target=e.currentTarget,this.relativeAlign=e.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.overlayVisible=!0,this.cd.markForCheck()}ngOnInit(){super.ngOnInit(),this.popup||this.bindDocumentClickListener()}startTemplate;_startTemplate;endTemplate;_endTemplate;headerTemplate;_headerTemplate;itemTemplate;_itemTemplate;submenuHeaderTemplate;_submenuHeaderTemplate;templates;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"start":this._startTemplate=e.template;break;case"end":this._endTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;case"submenuheader":this._submenuHeaderTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}getTabIndexValue(){return this.tabindex!==void 0?this.tabindex.toString():null}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),this.attrSelector&&this.container.setAttribute(this.attrSelector,""),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),$t(this.listViewChild.nativeElement));break;case"void":this.onOverlayHide(),this.onHide.emit({});break}}onOverlayAnimationEnd(e){switch(e.toState){case"void":this.autoZIndex&&qi.clear(e.element);break}}alignOverlay(){this.relativeAlign?up(this.container,this.target):lc(this.container,this.target)}appendOverlay(){ss.appendOverlay(this.container,this.$appendTo()==="body"?this.document.body:this.$appendTo(),this.$appendTo())}restoreOverlayAppend(){this.container&&this.$appendTo()!=="self"&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&qi.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!ar()&&this.hide()}menuitemId(e,i,n,a){return e?.id??`${i}_${n}${a!==void 0?"_"+a:""}`}isItemFocused(e){return this.focusedOptionId()===e}label(e){return typeof e=="function"?e():e}disabled(e){return typeof e=="function"?e():typeof e>"u"?!1:e}activedescendant(){return this.focused?this.focusedOptionId():void 0}onListFocus(e){this.focused||(this.focused=!0,!this.popup&&this.changeFocusedOptionIndex(0),this.onFocus.emit(e))}onListBlur(e){this.focused&&(this.focused=!1,this.changeFocusedOptionIndex(-1),this.selectedOptionIndex.set(-1),this.focusedOptionIndex.set(-1),this.onBlur.emit(e))}onListKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Enter":this.onEnterKey(e);break;case"NumpadEnter":this.onEnterKey(e);break;case"Space":this.onSpaceKey(e);break;case"Escape":case"Tab":this.popup&&($t(this.target),this.hide()),this.overlayVisible&&this.hide();break;default:break}}onArrowDownKey(e){let i=this.findNextOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(i),e.preventDefault()}onArrowUpKey(e){if(e.altKey&&this.popup)$t(this.target),this.hide(),e.preventDefault();else{let i=this.findPrevOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(i),e.preventDefault()}}onHomeKey(e){this.changeFocusedOptionIndex(0),e.preventDefault()}onEndKey(e){this.changeFocusedOptionIndex(En(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]').length-1),e.preventDefault()}onEnterKey(e){let i=ei(this.containerViewChild.nativeElement,`li[id="${`${this.focusedOptionIndex()}`}"]`),n=i&&ei(i,'a[data-pc-section="action"]');this.popup&&$t(this.target),n?n.click():i&&i.click(),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}findNextOptionIndex(e){let n=[...En(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(a=>a.id===e);return n>-1?n+1:0}findPrevOptionIndex(e){let n=[...En(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(a=>a.id===e);return n>-1?n-1:0}changeFocusedOptionIndex(e){let i=En(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]');if(i.length>0){let n=e>=i.length?i.length-1:e<0?0:e;n>-1&&this.focusedOptionIndex.set(i[n].getAttribute("id"))}}itemClick(e,i){let{originalEvent:n,item:a}=e;if(this.focused||(this.focused=!0,this.onFocus.emit()),a.disabled){n.preventDefault();return}!a.url&&!a.routerLink&&n.preventDefault(),a.command&&a.command({originalEvent:n,item:a}),this.popup&&this.hide(),!this.popup&&this.focusedOptionIndex()!==i&&this.focusedOptionIndex.set(i)}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){if(!this.documentClickListener&&ii(this.platformId)){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",i=>{let n=this.containerViewChild?.nativeElement&&!this.containerViewChild?.nativeElement.contains(i.target),a=!(this.target&&(this.target===i.target||this.target.contains(i.target)));!this.popup&&n&&a&&this.onListBlur(i),this.preventDocumentDefault&&this.overlayVisible&&n&&a&&(this.hide(),this.preventDocumentDefault=!1)})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){if(!this.documentResizeListener&&ii(this.platformId)){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){!this.scrollHandler&&ii(this.platformId)&&(this.scrollHandler=new pc(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler?.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&(this.scrollHandler.unbindScrollListener(),this.scrollHandler=null)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&qi.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide()),this.popup||this.unbindDocumentClickListener(),super.ngOnDestroy()}hasSubMenu(){return this.model?.some(e=>e.items)??!1}isItemHidden(e){return e.separator?e.visible===!1||e.items&&e.items.some(i=>i.visible!==!1):e.visible===!1}static \u0275fac=function(i){return new(i||t)(Dt(sr))};static \u0275cmp=Je({type:t,selectors:[["p-menu"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,eW,4),xe(a,tW,4),xe(a,iW,4),xe(a,nW,4),xe(a,aW,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.startTemplate=u.first),se(u=le())&&(n.endTemplate=u.first),se(u=le())&&(n.headerTemplate=u.first),se(u=le())&&(n.itemTemplate=u.first),se(u=le())&&(n.submenuHeaderTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&(ut(oW,5),ut(rW,5)),i&2){let a;se(a=le())&&(n.listViewChild=a.first),se(a=le())&&(n.containerViewChild=a.first)}},inputs:{model:"model",popup:[2,"popup","popup",ye],style:"style",styleClass:"styleClass",autoZIndex:[2,"autoZIndex","autoZIndex",ye],baseZIndex:[2,"baseZIndex","baseZIndex",wt],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",id:"id",tabindex:[2,"tabindex","tabindex",wt],appendTo:[1,"appendTo"]},outputs:{onShow:"onShow",onHide:"onHide",onBlur:"onBlur",onFocus:"onFocus"},features:[_t([S_]),ft],decls:1,vars:1,consts:[["container",""],["list",""],["htmlSubmenuLabel",""],[3,"class","style","ngStyle","click",4,"ngIf"],[3,"click","ngStyle"],[3,"class",4,"ngIf"],["role","menu",3,"focus","blur","keydown"],[4,"ngIf"],[4,"ngTemplateOutlet"],["ngFor","",3,"ngForOf"],["role","separator",3,"class",4,"ngIf"],["pTooltip","","role","none",3,"class","tooltipOptions",4,"ngIf"],["role","separator"],["pTooltip","","role","none",3,"tooltipOptions"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"],[3,"innerHTML"],["pTooltip","","role","menuitem",3,"class","pMenuItemContent","itemTemplate","style","tooltipOptions","onMenuItemClick",4,"ngIf"],["pTooltip","","role","menuitem",3,"onMenuItemClick","pMenuItemContent","itemTemplate","tooltipOptions"],["pTooltip","","role","menuitem",3,"class","pMenuItemContent","itemTemplate","ngStyle","tooltipOptions","onMenuItemClick",4,"ngIf"],["pTooltip","","role","menuitem",3,"onMenuItemClick","pMenuItemContent","itemTemplate","ngStyle","tooltipOptions"]],template:function(i,n){i&1&&z(0,kW,8,26,"div",3),i&2&&C("ngIf",!n.popup||n.visible)},dependencies:[mt,Bi,Ut,Yt,fi,Ea,DW,aa,La,oo,Ze],encapsulation:2,data:{animation:[qn("overlayAnimation",[Fi(":enter",[Oi({opacity:0,transform:"scaleY(0.8)"}),Ni("{{showTransitionParams}}")]),Fi(":leave",[Ni("{{hideTransitionParams}}",Oi({opacity:0}))])])]},changeDetection:0})}return t})(),E_=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[k_,Ze,Ze]})}return t})();var LS=`
    .p-panel {
        display: block;
        border: 1px solid dt('panel.border.color');
        border-radius: dt('panel.border.radius');
        background: dt('panel.background');
        color: dt('panel.color');
    }

    .p-panel-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: dt('panel.header.padding');
        background: dt('panel.header.background');
        color: dt('panel.header.color');
        border-style: solid;
        border-width: dt('panel.header.border.width');
        border-color: dt('panel.header.border.color');
        border-radius: dt('panel.header.border.radius');
    }

    .p-panel-toggleable .p-panel-header {
        padding: dt('panel.toggleable.header.padding');
    }

    .p-panel-title {
        line-height: 1;
        font-weight: dt('panel.title.font.weight');
    }

    .p-panel-content {
        padding: dt('panel.content.padding');
    }

    .p-panel-footer {
        padding: dt('panel.footer.padding');
    }
`;var AW=["header"],OW=["icons"],FW=["content"],VW=["footer"],zW=["headericons"],RW=["contentWrapper"],BW=["*",[["p-header"]],[["p-footer"]]],NW=["*","p-header","p-footer"],qW=t=>({transitionParams:t,height:"0",opacity:"0"}),HW=t=>({value:"hidden",params:t}),jW=t=>({transitionParams:t,height:"*",opacity:"1"}),GW=t=>({value:"visible",params:t}),UW=t=>({$implicit:t});function $W(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(2);$(e.cx("title")),de("id",e.id+"_header"),S(),Et(e._header)}}function KW(t,s){t&1&&nt(0)}function WW(t,s){}function ZW(t,s){t&1&&z(0,WW,0,0,"ng-template")}function QW(t,s){t&1&&(Ke(0),at(),ae(1,"svg",11),We())}function XW(t,s){t&1&&(Ke(0),at(),ae(1,"svg",12),We())}function YW(t,s){if(t&1&&(Ke(0),z(1,QW,2,0,"ng-container",9)(2,XW,2,0,"ng-container",9),We()),t&2){let e=M(4);S(),C("ngIf",!e.collapsed),S(),C("ngIf",e.collapsed)}}function JW(t,s){}function eZ(t,s){t&1&&z(0,JW,0,0,"ng-template")}function tZ(t,s){if(t&1&&z(0,YW,3,2,"ng-container",9)(1,eZ,1,0,null,10),t&2){let e=M(3);C("ngIf",!e.headerIconsTemplate&&!e._headerIconsTemplate&&!(e.toggleButtonProps!=null&&e.toggleButtonProps.icon)),S(),C("ngTemplateOutlet",e.headerIconsTemplate||e._headerIconsTemplate)("ngTemplateOutletContext",ot(3,UW,e.collapsed))}}function iZ(t,s){if(t&1){let e=Be();A(0,"p-button",8),we("click",function(n){Q(e);let a=M(2);return X(a.onIconClick(n))})("keydown",function(n){Q(e);let a=M(2);return X(a.onKeyDown(n))}),z(1,tZ,2,5,"ng-template",null,1,ze),L()}if(t&2){let e=M(2);C("text",!0)("rounded",!0)("styleClass",e.cx("pcToggleButton"))("buttonProps",e.toggleButtonProps),de("id",e.id+"_header")("aria-label",e.buttonAriaLabel)("aria-controls",e.id+"_content")("aria-expanded",!e.collapsed)}}function nZ(t,s){if(t&1){let e=Be();A(0,"div",6),we("click",function(n){Q(e);let a=M();return X(a.onHeaderClick(n))}),z(1,$W,2,4,"span",5),Ei(2,1),z(3,KW,1,0,"ng-container",4),A(4,"div"),z(5,ZW,1,0,null,4)(6,iZ,3,8,"p-button",7),L()()}if(t&2){let e=M();$(e.cx("header")),de("id",e.id+"-titlebar"),S(),C("ngIf",e._header),S(2),C("ngTemplateOutlet",e.headerTemplate||e._headerTemplate),S(),$(e.cx("icons")),S(),C("ngTemplateOutlet",e.iconTemplate||e._iconTemplate),S(),C("ngIf",e.toggleable)}}function aZ(t,s){t&1&&nt(0)}function oZ(t,s){t&1&&nt(0)}function rZ(t,s){if(t&1&&(A(0,"div"),Ei(1,2),z(2,oZ,1,0,"ng-container",4),L()),t&2){let e=M();$(e.cx("footer")),S(2),C("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}var sZ=`
    ${LS}

    /* For PrimeNG */
    .p-panel-collapsed > .p-panel-content-container,
    .p-panel-content-container.ng-animating {
        overflow: hidden;
    }
`,lZ={root:({instance:t})=>["p-panel p-component",{"p-panel-toggleable":t.toggleable,"p-panel-expanded":!t.collapsed&&t.toggleable,"p-panel-collapsed":t.collapsed&&t.toggleable}],icons:({instance:t})=>["p-panel-icons",{"p-panel-icons-start":t.iconPos==="start","p-panel-icons-end":t.iconPos==="end","p-panel-icons-center":t.iconPos==="center"}],header:"p-panel-header",title:"p-panel-title",headerActions:"p-panel-header-actions",pcToggleButton:"p-panel-toggle-button",contentContainer:"p-panel-content-container",content:"p-panel-content",footer:"p-panel-footer"},AS=(()=>{class t extends Rt{name="panel";theme=sZ;classes=lZ;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var Dv=(()=>{class t extends Ot{toggleable;_header;collapsed;id=vi("pn_id_");styleClass;iconPos="end";showHeader=!0;toggler="icon";transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";toggleButtonProps;collapsedChange=new Le;onBeforeToggle=new Le;onAfterToggle=new Le;footerFacet;animating;headerTemplate;iconTemplate;contentTemplate;footerTemplate;headerIconsTemplate;_headerTemplate;_iconTemplate;_contentTemplate;_footerTemplate;_headerIconsTemplate;contentWrapperViewChild;get buttonAriaLabel(){return this._header}_componentStyle=Fe(AS);onHeaderClick(e){this.toggler==="header"&&this.toggle(e)}onIconClick(e){this.toggler==="icon"&&this.toggle(e)}toggle(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand():this.collapse()),this.cd.markForCheck(),e.preventDefault()}expand(){this.collapsed=!1,this.collapsedChange.emit(this.collapsed),this.updateTabIndex()}collapse(){this.collapsed=!0,this.collapsedChange.emit(this.collapsed),this.updateTabIndex()}getBlockableElement(){return this.el.nativeElement}updateTabIndex(){this.contentWrapperViewChild&&this.contentWrapperViewChild.nativeElement.querySelectorAll('input, button, select, a, textarea, [tabindex]:not([tabindex="-1"])').forEach(i=>{this.collapsed?i.setAttribute("tabindex","-1"):i.removeAttribute("tabindex")})}onKeyDown(e){(e.code==="Enter"||e.code==="Space")&&(this.toggle(e),e.preventDefault())}onToggleDone(e){this.animating=!1,this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed})}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"content":this._contentTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"icons":this._iconTemplate=e.template;break;case"headericons":this._headerIconsTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-panel"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,Ps,5),xe(a,AW,4),xe(a,OW,4),xe(a,FW,4),xe(a,VW,4),xe(a,zW,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.footerFacet=u.first),se(u=le())&&(n.headerTemplate=u.first),se(u=le())&&(n.iconTemplate=u.first),se(u=le())&&(n.contentTemplate=u.first),se(u=le())&&(n.footerTemplate=u.first),se(u=le())&&(n.headerIconsTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&ut(RW,5),i&2){let a;se(a=le())&&(n.contentWrapperViewChild=a.first)}},hostAttrs:["data-pc-name","panel"],hostVars:3,hostBindings:function(i,n){i&2&&(no("id",n.id),$(n.cn(n.cx("root"),n.styleClass)))},inputs:{toggleable:[2,"toggleable","toggleable",ye],_header:[0,"header","_header"],collapsed:[2,"collapsed","collapsed",ye],id:"id",styleClass:"styleClass",iconPos:"iconPos",showHeader:[2,"showHeader","showHeader",ye],toggler:"toggler",transitionOptions:"transitionOptions",toggleButtonProps:"toggleButtonProps"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},features:[_t([AS]),ft],ngContentSelectors:NW,decls:7,vars:20,consts:[["contentWrapper",""],["icon",""],[3,"class","click",4,"ngIf"],["role","region",3,"id"],[4,"ngTemplateOutlet"],[3,"class",4,"ngIf"],[3,"click"],["severity","secondary","type","button","role","button",3,"text","rounded","styleClass","buttonProps","click","keydown",4,"ngIf"],["severity","secondary","type","button","role","button",3,"click","keydown","text","rounded","styleClass","buttonProps"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","minus"],["data-p-icon","plus"]],template:function(i,n){if(i&1){let a=Be();Ui(BW),z(0,nZ,7,9,"div",2),A(1,"div",3),we("@panelContent.done",function(b){return Q(a),X(n.onToggleDone(b))}),A(2,"div",null,0),Ei(4),z(5,aZ,1,0,"ng-container",4),L(),z(6,rZ,3,3,"div",5),L()}i&2&&(C("ngIf",n.showHeader),S(),$(n.cx("contentContainer")),C("id",n.id+"_content")("@panelContent",n.collapsed?ot(14,HW,ot(12,qW,n.animating?n.transitionOptions:"0ms")):ot(18,GW,ot(16,jW,n.animating?n.transitionOptions:"0ms"))),de("aria-labelledby",n.id+"_header")("aria-hidden",n.collapsed)("tabindex",n.collapsed?"-1":void 0),S(),$(n.cx("content")),S(3),C("ngTemplateOutlet",n.contentTemplate||n._contentTemplate),S(),C("ngIf",n.footerFacet||n.footerTemplate||n._footerTemplate))},dependencies:[mt,Ut,Yt,H0,cg,zi,Gi,Ze],encapsulation:2,data:{animation:[qn("panelContent",[ao("hidden",Oi({height:"0"})),ao("void",Oi({height:"{{height}}"}),{params:{height:"0"}}),ao("visible",Oi({height:"*"})),Fi("visible <=> hidden",[Ni("{{transitionParams}}")]),Fi("void => hidden",Ni("{{transitionParams}}")),Fi("void => visible",Ni("{{transitionParams}}"))])]},changeDetection:0})}return t})(),OS=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[Dv,Ze,Ze]})}return t})();var FS=`
    .p-splitter {
        display: flex;
        flex-wrap: nowrap;
        border: 1px solid dt('splitter.border.color');
        background: dt('splitter.background');
        border-radius: dt('border.radius.md');
        color: dt('splitter.color');
    }

    .p-splitter-vertical {
        flex-direction: column;
    }

    .p-splitter-gutter {
        flex-grow: 0;
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1;
        background: dt('splitter.gutter.background');
    }

    .p-splitter-gutter-handle {
        border-radius: dt('splitter.handle.border.radius');
        background: dt('splitter.handle.background');
        transition:
            outline-color dt('splitter.transition.duration'),
            box-shadow dt('splitter.transition.duration');
        outline-color: transparent;
    }

    .p-splitter-gutter-handle:focus-visible {
        box-shadow: dt('splitter.handle.focus.ring.shadow');
        outline: dt('splitter.handle.focus.ring.width') dt('splitter.handle.focus.ring.style') dt('splitter.handle.focus.ring.color');
        outline-offset: dt('splitter.handle.focus.ring.offset');
    }

    .p-splitter-horizontal.p-splitter-resizing {
        cursor: col-resize;
        user-select: none;
    }

    .p-splitter-vertical.p-splitter-resizing {
        cursor: row-resize;
        user-select: none;
    }

    .p-splitter-horizontal > .p-splitter-gutter > .p-splitter-gutter-handle {
        height: dt('splitter.handle.size');
        width: 100%;
    }

    .p-splitter-vertical > .p-splitter-gutter > .p-splitter-gutter-handle {
        width: dt('splitter.handle.size');
        height: 100%;
    }

    .p-splitter-horizontal > .p-splitter-gutter {
        cursor: col-resize;
    }

    .p-splitter-vertical > .p-splitter-gutter {
        cursor: row-resize;
    }

    .p-splitterpanel {
        flex-grow: 1;
        overflow: hidden;
    }

    .p-splitterpanel-nested {
        display: flex;
    }

    .p-splitterpanel .p-splitter {
        flex-grow: 1;
        border: 0 none;
    }
`;var dZ=["panel"];function uZ(t,s){t&1&&nt(0)}function pZ(t,s){if(t&1){let e=Be();A(0,"div",4),we("mousedown",function(n){Q(e);let a=M().index,u=M();return X(u.onGutterMouseDown(n,a))})("touchstart",function(n){Q(e);let a=M().index,u=M();return X(u.onGutterTouchStart(n,a))})("touchmove",function(n){Q(e);let a=M(2);return X(a.onGutterTouchMove(n))})("touchend",function(n){Q(e);let a=M(2);return X(a.onGutterTouchEnd(n))}),A(1,"div",5),we("keyup",function(n){Q(e);let a=M(2);return X(a.onGutterKeyUp(n))})("keydown",function(n){Q(e);let a=M().index,u=M();return X(u.onGutterKeyDown(n,a))}),L()()}if(t&2){let e=M(2);$(e.cx("gutter")),de("data-p-gutter-resizing",!1)("data-pc-section","gutter"),S(),$(e.cx("gutterHandle")),C("ngStyle",e.gutterStyle()),de("aria-orientation",e.layout)("aria-valuenow",e.prevSize)("data-pc-section","gutterhandle")}}function hZ(t,s){if(t&1&&(A(0,"div",1),z(1,uZ,1,0,"ng-container",2),L(),z(2,pZ,2,10,"div",3)),t&2){let e=s.$implicit,i=s.index,n=M();$(n.cn(n.cx("panel"),n.panelStyleClass)),C("ngStyle",n.panelStyle),de("data-pc-name","splitterpanel")("data-pc-section","panel"),S(),C("ngTemplateOutlet",e),S(),C("ngIf",i!==n.panels.length-1)}}var mZ={root:({instance:t})=>["p-splitter p-component","p-splitter-"+t.layout],panel:({instance:t})=>["p-splitterpanel",{"p-splitterpanel-nested":t.nestedState()}],gutter:"p-splitter-gutter",gutterHandle:"p-splitter-gutter-handle"},fZ={root:({instance:t})=>[{display:"flex","flex-wrap":"nowrap"},t.layout==="vertical"?{"flex-direction":"column"}:""]},VS=(()=>{class t extends Rt{name="splitter";theme=FS;classes=mZ;inlineStyles=fZ;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var Lv=(()=>{class t extends Ot{styleClass;panelStyleClass;panelStyle;stateStorage="session";stateKey=null;layout="horizontal";gutterSize=4;step=5;minSizes=[];get panelSizes(){return this._panelSizes}set panelSizes(e){if(this._panelSizes=e,this.el&&this.el.nativeElement&&this.panels.length>0){let i=[...this.el.nativeElement.children].filter(a=>Ko(a,"p-splitterpanel")),n=[];this.panels.map((a,u)=>{let T=(this.panelSizes.length-1>=u?this.panelSizes[u]:null)||100/this.panels.length;n[u]=T,i[u].style.flexBasis="calc("+T+"% - "+(this.panels.length-1)*this.gutterSize+"px)"})}}onResizeEnd=new Le;onResizeStart=new Le;templates;panelChildren;splitter=Iw(Ki(()=>t));nestedState=Ai(()=>this.splitter());panels=[];dragging=!1;mouseMoveListener;mouseUpListener;touchMoveListener;touchEndListener;size;gutterElement;startPos;prevPanelElement;nextPanelElement;nextPanelSize;prevPanelSize;_panelSizes=[];prevPanelIndex;timer;prevSize;_componentStyle=Fe(VS);ngOnInit(){super.ngOnInit()}ngAfterContentInit(){this.templates&&this.templates.toArray().length>0&&this.templates.forEach(e=>{switch(e.getType()){case"panel":this.panels.push(e.template);break;default:this.panels.push(e.template);break}}),this.panelChildren&&this.panelChildren.toArray().length>0&&this.panelChildren.forEach(e=>{this.panels.push(e)})}ngAfterViewInit(){if(super.ngAfterViewInit(),ii(this.platformId)&&this.panels&&this.panels.length){let e=!1;if(this.isStateful()&&(e=this.restoreState()),!e){let i=[...this.el.nativeElement.children].filter(a=>Ko(a,"p-splitterpanel")),n=[];this.panels.map((a,u)=>{let T=(this.panelSizes.length-1>=u?this.panelSizes[u]:null)||100/this.panels.length;n[u]=T,i[u].style.flexBasis="calc("+T+"% - "+(this.panels.length-1)*this.gutterSize+"px)"}),this._panelSizes=n,this.prevSize=parseFloat(n[0]).toFixed(4)}}}resizeStart(e,i,n){this.gutterElement=e.currentTarget||e.target.parentElement,this.size=this.horizontal()?Gd(this.el.nativeElement):O0(this.el.nativeElement),n||(this.dragging=!0,this.startPos=this.horizontal()?e instanceof MouseEvent?e.pageX:e.changedTouches[0].pageX:e instanceof MouseEvent?e.pageY:e.changedTouches[0].pageY),this.prevPanelElement=this.gutterElement.previousElementSibling,this.nextPanelElement=this.gutterElement.nextElementSibling,n?(this.prevPanelSize=this.horizontal()?Dr(this.prevPanelElement,!0):gm(this.prevPanelElement,!0),this.nextPanelSize=this.horizontal()?Dr(this.nextPanelElement,!0):gm(this.nextPanelElement,!0)):(this.prevPanelSize=100*(this.horizontal()?Dr(this.prevPanelElement,!0):gm(this.prevPanelElement,!0))/this.size,this.nextPanelSize=100*(this.horizontal()?Dr(this.nextPanelElement,!0):gm(this.nextPanelElement,!0))/this.size),this.prevPanelIndex=i,Hn(this.gutterElement,"p-splitter-gutter-resizing"),this.gutterElement.setAttribute("data-p-gutter-resizing","true"),Hn(this.el.nativeElement,"p-splitter-resizing"),this.el.nativeElement.setAttribute("data-p-resizing","true"),this.onResizeStart.emit({originalEvent:e,sizes:this._panelSizes})}onResize(e,i,n){let a,u,b;n?this.horizontal()?(u=100*(this.prevPanelSize+i)/this.size,b=100*(this.nextPanelSize-i)/this.size):(u=100*(this.prevPanelSize-i)/this.size,b=100*(this.nextPanelSize+i)/this.size):(this.horizontal()?qd(this.el.nativeElement)?a=(this.startPos-e.pageX)*100/this.size:a=(e.pageX-this.startPos)*100/this.size:a=(e.pageY-this.startPos)*100/this.size,u=this.prevPanelSize+a,b=this.nextPanelSize-a),this.prevSize=parseFloat(u).toFixed(4),this.validateResize(u,b)&&(this.prevPanelElement.style.flexBasis="calc("+u+"% - "+(this.panels.length-1)*this.gutterSize+"px)",this.nextPanelElement.style.flexBasis="calc("+b+"% - "+(this.panels.length-1)*this.gutterSize+"px)",this._panelSizes[this.prevPanelIndex]=u,this._panelSizes[this.prevPanelIndex+1]=b)}resizeEnd(e){this.isStateful()&&this.saveState(),this.onResizeEnd.emit({originalEvent:e,sizes:this._panelSizes}),Pa(this.gutterElement,"p-splitter-gutter-resizing"),Pa(this.el.nativeElement,"p-splitter-resizing"),this.clear()}onGutterMouseDown(e,i){this.resizeStart(e,i),this.bindMouseListeners()}onGutterTouchStart(e,i){e.cancelable&&(this.resizeStart(e,i),this.bindTouchListeners(),e.preventDefault())}onGutterTouchMove(e){this.onResize(e),e.preventDefault()}onGutterTouchEnd(e){this.resizeEnd(e),this.unbindTouchListeners(),e.cancelable&&e.preventDefault()}repeat(e,i,n){this.resizeStart(e,i,!0),this.onResize(e,n,!0)}setTimer(e,i,n){this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,i,n)},40)}clearTimer(){this.timer&&clearTimeout(this.timer)}onGutterKeyUp(e){this.clearTimer(),this.resizeEnd(e)}onGutterKeyDown(e,i){switch(e.code){case"ArrowLeft":{this.layout==="horizontal"&&this.setTimer(e,i,this.step*-1),e.preventDefault();break}case"ArrowRight":{this.layout==="horizontal"&&this.setTimer(e,i,this.step),e.preventDefault();break}case"ArrowDown":{this.layout==="vertical"&&this.setTimer(e,i,this.step*-1),e.preventDefault();break}case"ArrowUp":{this.layout==="vertical"&&this.setTimer(e,i,this.step),e.preventDefault();break}default:break}}validateResize(e,i){return!(this.minSizes.length>=1&&this.minSizes[0]&&this.minSizes[0]>e||this.minSizes.length>1&&this.minSizes[1]&&this.minSizes[1]>i)}bindMouseListeners(){this.mouseMoveListener||(this.mouseMoveListener=this.renderer.listen(this.document,"mousemove",e=>{this.onResize(e)})),this.mouseUpListener||(this.mouseUpListener=this.renderer.listen(this.document,"mouseup",e=>{this.resizeEnd(e),this.unbindMouseListeners()}))}bindTouchListeners(){this.touchMoveListener||(this.touchMoveListener=this.renderer.listen(this.document,"touchmove",e=>{this.onResize(e.changedTouches[0])})),this.touchEndListener||(this.touchEndListener=this.renderer.listen(this.document,"touchend",e=>{this.resizeEnd(e),this.unbindTouchListeners()}))}unbindMouseListeners(){this.mouseMoveListener&&(this.mouseMoveListener(),this.mouseMoveListener=null),this.mouseUpListener&&(this.mouseUpListener(),this.mouseUpListener=null)}unbindTouchListeners(){this.touchMoveListener&&(this.touchMoveListener(),this.touchMoveListener=null),this.touchEndListener&&(this.touchEndListener(),this.touchEndListener=null)}clear(){this.dragging=!1,this.size=null,this.startPos=null,this.prevPanelElement=null,this.nextPanelElement=null,this.prevPanelSize=null,this.nextPanelSize=null,this.gutterElement=null,this.prevPanelIndex=null}isStateful(){return this.stateKey!=null}getStorage(){if(ii(this.platformId))switch(this.stateStorage){case"local":return this.document.defaultView.localStorage;case"session":return this.document.defaultView.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}else throw new Error("Storage is not a available by default on the server.")}saveState(){this.getStorage().setItem(this.stateKey,JSON.stringify(this._panelSizes))}restoreState(){let i=this.getStorage().getItem(this.stateKey);return i?(this._panelSizes=JSON.parse(i),[...this.el.nativeElement.children].filter(a=>Ko(a,"p-splitterpanel")).forEach((a,u)=>{a.style.flexBasis="calc("+this._panelSizes[u]+"% - "+(this.panels.length-1)*this.gutterSize+"px)"}),!0):!1}gutterStyle(){return this.horizontal()?{width:this.gutterSize+"px"}:{height:this.gutterSize+"px"}}horizontal(){return this.layout==="horizontal"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-splitter"]],contentQueries:function(i,n,a){if(i&1&&(vw(a,n.splitter,t,5),xe(a,di,4),xe(a,dZ,4)),i&2){xw();let u;se(u=le())&&(n.templates=u),se(u=le())&&(n.panelChildren=u)}},hostAttrs:["data-pc-name","splitter","data-pc-section","root"],hostVars:3,hostBindings:function(i,n){i&2&&(de("data-p-gutter-resizing",!1),$(n.cn(n.cx("root"),n.styleClass)))},inputs:{styleClass:"styleClass",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",stateStorage:"stateStorage",stateKey:"stateKey",layout:"layout",gutterSize:[2,"gutterSize","gutterSize",wt],step:[2,"step","step",wt],minSizes:"minSizes",panelSizes:"panelSizes"},outputs:{onResizeEnd:"onResizeEnd",onResizeStart:"onResizeStart"},features:[_t([VS]),ft],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["tabindex","-1",3,"ngStyle"],[4,"ngTemplateOutlet"],["role","separator","tabindex","-1",3,"class","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["role","separator","tabindex","-1",3,"mousedown","touchstart","touchmove","touchend"],["tabindex","0",3,"keyup","keydown","ngStyle"]],template:function(i,n){i&1&&z(0,hZ,3,7,"ng-template",0),i&2&&C("ngForOf",n.panels)},dependencies:[mt,Bi,Ut,Yt,fi,Ze],encapsulation:2,changeDetection:0})}return t})(),zS=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[Lv,Ze,Ze]})}return t})();var RS=`
    .p-tabs {
        display: flex;
        flex-direction: column;
    }

    .p-tablist {
        display: flex;
        position: relative;
    }

    .p-tabs-scrollable > .p-tablist {
        overflow: hidden;
    }

    .p-tablist-viewport {
        overflow-x: auto;
        overflow-y: hidden;
        scroll-behavior: smooth;
        scrollbar-width: none;
        overscroll-behavior: contain auto;
    }

    .p-tablist-viewport::-webkit-scrollbar {
        display: none;
    }

    .p-tablist-tab-list {
        position: relative;
        display: flex;
        background: dt('tabs.tablist.background');
        border-style: solid;
        border-color: dt('tabs.tablist.border.color');
        border-width: dt('tabs.tablist.border.width');
    }

    .p-tablist-content {
        flex-grow: 1;
    }

    .p-tablist-nav-button {
        all: unset;
        position: absolute !important;
        flex-shrink: 0;
        inset-block-start: 0;
        z-index: 2;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: dt('tabs.nav.button.background');
        color: dt('tabs.nav.button.color');
        width: dt('tabs.nav.button.width');
        transition:
            color dt('tabs.transition.duration'),
            outline-color dt('tabs.transition.duration'),
            box-shadow dt('tabs.transition.duration');
        box-shadow: dt('tabs.nav.button.shadow');
        outline-color: transparent;
        cursor: pointer;
    }

    .p-tablist-nav-button:focus-visible {
        z-index: 1;
        box-shadow: dt('tabs.nav.button.focus.ring.shadow');
        outline: dt('tabs.nav.button.focus.ring.width') dt('tabs.nav.button.focus.ring.style') dt('tabs.nav.button.focus.ring.color');
        outline-offset: dt('tabs.nav.button.focus.ring.offset');
    }

    .p-tablist-nav-button:hover {
        color: dt('tabs.nav.button.hover.color');
    }

    .p-tablist-prev-button {
        inset-inline-start: 0;
    }

    .p-tablist-next-button {
        inset-inline-end: 0;
    }

    .p-tablist-prev-button:dir(rtl),
    .p-tablist-next-button:dir(rtl) {
        transform: rotate(180deg);
    }

    .p-tab {
        flex-shrink: 0;
        cursor: pointer;
        user-select: none;
        position: relative;
        border-style: solid;
        white-space: nowrap;
        gap: dt('tabs.tab.gap');
        background: dt('tabs.tab.background');
        border-width: dt('tabs.tab.border.width');
        border-color: dt('tabs.tab.border.color');
        color: dt('tabs.tab.color');
        padding: dt('tabs.tab.padding');
        font-weight: dt('tabs.tab.font.weight');
        transition:
            background dt('tabs.transition.duration'),
            border-color dt('tabs.transition.duration'),
            color dt('tabs.transition.duration'),
            outline-color dt('tabs.transition.duration'),
            box-shadow dt('tabs.transition.duration');
        margin: dt('tabs.tab.margin');
        outline-color: transparent;
    }

    .p-tab:not(.p-disabled):focus-visible {
        z-index: 1;
        box-shadow: dt('tabs.tab.focus.ring.shadow');
        outline: dt('tabs.tab.focus.ring.width') dt('tabs.tab.focus.ring.style') dt('tabs.tab.focus.ring.color');
        outline-offset: dt('tabs.tab.focus.ring.offset');
    }

    .p-tab:not(.p-tab-active):not(.p-disabled):hover {
        background: dt('tabs.tab.hover.background');
        border-color: dt('tabs.tab.hover.border.color');
        color: dt('tabs.tab.hover.color');
    }

    .p-tab-active {
        background: dt('tabs.tab.active.background');
        border-color: dt('tabs.tab.active.border.color');
        color: dt('tabs.tab.active.color');
    }

    .p-tabpanels {
        background: dt('tabs.tabpanel.background');
        color: dt('tabs.tabpanel.color');
        padding: dt('tabs.tabpanel.padding');
        outline: 0 none;
    }

    .p-tabpanel:focus-visible {
        box-shadow: dt('tabs.tabpanel.focus.ring.shadow');
        outline: dt('tabs.tabpanel.focus.ring.width') dt('tabs.tabpanel.focus.ring.style') dt('tabs.tabpanel.focus.ring.color');
        outline-offset: dt('tabs.tabpanel.focus.ring.offset');
    }

    .p-tablist-active-bar {
        z-index: 1;
        display: block;
        position: absolute;
        inset-block-end: dt('tabs.active.bar.bottom');
        height: dt('tabs.active.bar.height');
        background: dt('tabs.active.bar.background');
        transition: 250ms cubic-bezier(0.35, 0, 0.25, 1);
    }
`;var bZ=["previcon"],yZ=["nexticon"],vZ=["content"],xZ=["prevButton"],wZ=["nextButton"],IZ=["inkbar"],TZ=["tabs"],$m=["*"];function CZ(t,s){t&1&&nt(0)}function SZ(t,s){if(t&1&&z(0,CZ,1,0,"ng-container",11),t&2){let e=M(2);C("ngTemplateOutlet",e.prevIconTemplate||e._prevIconTemplate)}}function MZ(t,s){t&1&&(at(),ae(0,"svg",10))}function kZ(t,s){if(t&1){let e=Be();A(0,"button",9,3),we("click",function(){Q(e);let n=M();return X(n.onPrevButtonClick())}),Wi(2,SZ,1,1,"ng-container")(3,MZ,1,0,":svg:svg",10),L()}if(t&2){let e=M();$(e.cx("prevButton")),de("aria-label",e.prevButtonAriaLabel)("tabindex",e.tabindex())("data-pc-group-section","navigator"),S(2),Zi(e.prevIconTemplate||e._prevIconTemplate?2:3)}}function EZ(t,s){t&1&&nt(0)}function PZ(t,s){if(t&1&&z(0,EZ,1,0,"ng-container",11),t&2){let e=M(2);C("ngTemplateOutlet",e.nextIconTemplate||e._nextIconTemplate)}}function DZ(t,s){t&1&&(at(),ae(0,"svg",12))}function LZ(t,s){if(t&1){let e=Be();A(0,"button",9,4),we("click",function(){Q(e);let n=M();return X(n.onNextButtonClick())}),Wi(2,PZ,1,1,"ng-container")(3,DZ,1,0,":svg:svg",12),L()}if(t&2){let e=M();$(e.cx("nextButton")),de("aria-label",e.nextButtonAriaLabel)("tabindex",e.tabindex())("data-pc-group-section","navigator"),S(2),Zi(e.nextIconTemplate||e._nextIconTemplate?2:3)}}function AZ(t,s){t&1&&Ei(0)}var OZ={root:({instance:t})=>["p-tabs p-component",{"p-tabs-scrollable":t.scrollable()}]},BS=(()=>{class t extends Rt{name="tabs";theme=RS;classes=OZ;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var FZ={root:"p-tablist",content:({instance:t})=>["p-tablist-content",{"p-tablist-viewport":t.scrollable()}],tabList:"p-tablist-tab-list",activeBar:"p-tablist-active-bar",prevButton:"p-tablist-prev-button p-tablist-nav-button",nextButton:"p-tablist-next-button p-tablist-nav-button"},NS=(()=>{class t extends Rt{name="tablist";classes=FZ;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var Kp=(()=>{class t extends Ot{prevIconTemplate;nextIconTemplate;templates;content;prevButton;nextButton;inkbar;tabs;pcTabs=Fe(Ki(()=>Rc));isPrevButtonEnabled=gi(!1);isNextButtonEnabled=gi(!1);resizeObserver;showNavigators=Ai(()=>this.pcTabs.showNavigators());tabindex=Ai(()=>this.pcTabs.tabindex());scrollable=Ai(()=>this.pcTabs.scrollable());_componentStyle=Fe(NS);constructor(){super(),Pr(()=>{this.pcTabs.value(),ii(this.platformId)&&setTimeout(()=>{this.updateInkBar()})})}get prevButtonAriaLabel(){return this.config.translation.aria.previous}get nextButtonAriaLabel(){return this.config.translation.aria.next}ngAfterViewInit(){super.ngAfterViewInit(),this.showNavigators()&&ii(this.platformId)&&(this.updateButtonState(),this.bindResizeObserver())}_prevIconTemplate;_nextIconTemplate;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"previcon":this._prevIconTemplate=e.template;break;case"nexticon":this._nextIconTemplate=e.template;break}})}ngOnDestroy(){this.unbindResizeObserver(),super.ngOnDestroy()}onScroll(e){this.showNavigators()&&this.updateButtonState(),e.preventDefault()}onPrevButtonClick(){let e=this.content.nativeElement,i=Gd(e),n=Math.abs(e.scrollLeft)-i,a=n<=0?0:n;e.scrollLeft=qd(e)?-1*a:a}onNextButtonClick(){let e=this.content.nativeElement,i=Gd(e)-this.getVisibleButtonWidths(),n=e.scrollLeft+i,a=e.scrollWidth-i,u=n>=a?a:n;e.scrollLeft=qd(e)?-1*u:u}updateButtonState(){let e=this.content?.nativeElement,i=this.el?.nativeElement,{scrollWidth:n,offsetWidth:a}=e,u=Math.abs(e.scrollLeft),b=Gd(e);this.isPrevButtonEnabled.set(u!==0),this.isNextButtonEnabled.set(i.offsetWidth>=a&&u!==n-b)}updateInkBar(){let e=this.content?.nativeElement,i=this.inkbar?.nativeElement,n=this.tabs?.nativeElement,a=ei(e,'[data-pc-name="tab"][data-p-active="true"]');i&&(i.style.width=Dr(a)+"px",i.style.left=Lr(a).left-Lr(n).left+"px")}getVisibleButtonWidths(){let e=this.prevButton?.nativeElement,i=this.nextButton?.nativeElement;return[e,i].reduce((n,a)=>a?n+Gd(a):n,0)}bindResizeObserver(){this.resizeObserver=new ResizeObserver(()=>this.updateButtonState()),this.resizeObserver.observe(this.el.nativeElement)}unbindResizeObserver(){this.resizeObserver&&(this.resizeObserver.unobserve(this.el.nativeElement),this.resizeObserver=null)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Je({type:t,selectors:[["p-tablist"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,bZ,4),xe(a,yZ,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.prevIconTemplate=u.first),se(u=le())&&(n.nextIconTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&(ut(vZ,5),ut(xZ,5),ut(wZ,5),ut(IZ,5),ut(TZ,5)),i&2){let a;se(a=le())&&(n.content=a.first),se(a=le())&&(n.prevButton=a.first),se(a=le())&&(n.nextButton=a.first),se(a=le())&&(n.inkbar=a.first),se(a=le())&&(n.tabs=a.first)}},hostVars:3,hostBindings:function(i,n){i&2&&(de("data-pc-name","tablist"),$(n.cx("root")))},features:[_t([NS]),ft],ngContentSelectors:$m,decls:9,vars:9,consts:[["content",""],["tabs",""],["inkbar",""],["prevButton",""],["nextButton",""],["type","button","pRipple","",3,"class"],[3,"scroll"],["role","tablist"],["role","presentation"],["type","button","pRipple","",3,"click"],["data-p-icon","chevron-left"],[4,"ngTemplateOutlet"],["data-p-icon","chevron-right"]],template:function(i,n){if(i&1){let a=Be();Ui(),Wi(0,kZ,4,6,"button",5),A(1,"div",6,0),we("scroll",function(b){return Q(a),X(n.onScroll(b))}),A(3,"div",7,1),Ei(5),ae(6,"span",8,2),L()(),Wi(8,LZ,4,6,"button",5)}i&2&&(Zi(n.showNavigators()&&n.isPrevButtonEnabled()?0:-1),S(),$(n.cx("content")),S(2),$(n.cx("tabList")),S(3),$(n.cx("activeBar")),de("data-pc-section","inkbar"),S(2),Zi(n.showNavigators()&&n.isNextButtonEnabled()?8:-1))},dependencies:[mt,Yt,mc,so,_p,sn,Ze],encapsulation:2,changeDetection:0})}return t})(),VZ={root:({instance:t})=>["p-tab",{"p-tab-active":t.active(),"p-disabled":t.disabled()}]},qS=(()=>{class t extends Rt{name="tab";classes=VZ;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var Km=(()=>{class t extends Ot{value=D0();disabled=nn(!1,{transform:ye});pcTabs=Fe(Ki(()=>Rc));pcTabList=Fe(Ki(()=>Kp));el=Fe(ua);_componentStyle=Fe(qS);ripple=Ai(()=>this.config.ripple());id=Ai(()=>`${this.pcTabs.id()}_tab_${this.value()}`);ariaControls=Ai(()=>`${this.pcTabs.id()}_tabpanel_${this.value()}`);active=Ai(()=>Wa(this.pcTabs.value(),this.value()));tabindex=Ai(()=>this.active()?this.pcTabs.tabindex():-1);mutationObserver;onFocus(e){this.pcTabs.selectOnFocus()&&this.changeActiveValue()}onClick(e){this.changeActiveValue()}onKeyDown(e){switch(e.code){case"ArrowRight":this.onArrowRightKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;default:break}e.stopPropagation()}ngAfterViewInit(){super.ngAfterViewInit(),this.bindMutationObserver()}onArrowRightKey(e){let i=this.findNextTab(e.currentTarget);i?this.changeFocusedTab(e,i):this.onHomeKey(e),e.preventDefault()}onArrowLeftKey(e){let i=this.findPrevTab(e.currentTarget);i?this.changeFocusedTab(e,i):this.onEndKey(e),e.preventDefault()}onHomeKey(e){let i=this.findFirstTab();this.changeFocusedTab(e,i),e.preventDefault()}onEndKey(e){let i=this.findLastTab();this.changeFocusedTab(e,i),e.preventDefault()}onPageDownKey(e){this.scrollInView(this.findLastTab()),e.preventDefault()}onPageUpKey(e){this.scrollInView(this.findFirstTab()),e.preventDefault()}onEnterKey(e){this.changeActiveValue(),e.preventDefault()}findNextTab(e,i=!1){let n=i?e:e.nextElementSibling;return n?bo(n,"data-p-disabled")||bo(n,"data-pc-section")==="inkbar"?this.findNextTab(n):n:null}findPrevTab(e,i=!1){let n=i?e:e.previousElementSibling;return n?bo(n,"data-p-disabled")||bo(n,"data-pc-section")==="inkbar"?this.findPrevTab(n):n:null}findFirstTab(){return this.findNextTab(this.pcTabList?.tabs?.nativeElement?.firstElementChild,!0)}findLastTab(){return this.findPrevTab(this.pcTabList?.tabs?.nativeElement?.lastElementChild,!0)}changeActiveValue(){this.pcTabs.updateValue(this.value())}changeFocusedTab(e,i){$t(i),this.scrollInView(i)}scrollInView(e){e?.scrollIntoView?.({block:"nearest"})}bindMutationObserver(){ii(this.platformId)&&(this.mutationObserver=new MutationObserver(e=>{e.forEach(()=>{this.active()&&this.pcTabList?.updateInkBar()})}),this.mutationObserver.observe(this.el.nativeElement,{childList:!0,characterData:!0,subtree:!0}))}unbindMutationObserver(){this.mutationObserver.disconnect()}ngOnDestroy(){this.mutationObserver&&this.unbindMutationObserver(),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-tab"]],hostVars:10,hostBindings:function(i,n){i&1&&we("focus",function(u){return n.onFocus(u)})("click",function(u){return n.onClick(u)})("keydown",function(u){return n.onKeyDown(u)}),i&2&&(de("data-pc-name","tab")("id",n.id())("aria-controls",n.ariaControls())("role","tab")("aria-selected",n.active())("data-p-disabled",n.disabled())("data-p-active",n.active())("tabindex",n.tabindex()),$(n.cx("root")))},inputs:{value:[1,"value"],disabled:[1,"disabled"]},outputs:{value:"valueChange"},features:[_t([qS]),_w([sn]),ft],ngContentSelectors:$m,decls:1,vars:0,template:function(i,n){i&1&&(Ui(),Ei(0))},dependencies:[mt,Ze],encapsulation:2,changeDetection:0})}return t})(),zZ={root:({instance:t})=>["p-tabpanel",{"p-tabpanel-active":t.active()}]},HS=(()=>{class t extends Rt{name="tabpanel";classes=zZ;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var Av=(()=>{class t extends Ot{pcTabs=Fe(Ki(()=>Rc));value=D0(void 0);id=Ai(()=>`${this.pcTabs.id()}_tabpanel_${this.value()}`);ariaLabelledby=Ai(()=>`${this.pcTabs.id()}_tab_${this.value()}`);active=Ai(()=>Wa(this.pcTabs.value(),this.value()));_componentStyle=Fe(HS);static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-tabpanel"]],hostVars:7,hostBindings:function(i,n){i&2&&(de("data-pc-name","tabpanel")("id",n.id())("role","tabpanel")("aria-labelledby",n.ariaLabelledby())("data-p-active",n.active()),$(n.cx("root")))},inputs:{value:[1,"value"]},outputs:{value:"valueChange"},features:[_t([HS]),ft],ngContentSelectors:$m,decls:1,vars:1,template:function(i,n){i&1&&(Ui(),Wi(0,AZ,1,0)),i&2&&Zi(n.active()?0:-1)},dependencies:[mt],encapsulation:2,changeDetection:0})}return t})(),RZ={root:"p-tabpanels"},jS=(()=>{class t extends Rt{name="tabpanels";classes=RZ;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var Ov=(()=>{class t extends Ot{_componentStyle=Fe(jS);static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-tabpanels"]],hostVars:4,hostBindings:function(i,n){i&2&&(de("data-pc-name","tabpanels")("role","presentation"),$(n.cx("root")))},features:[_t([jS]),ft],ngContentSelectors:$m,decls:1,vars:0,template:function(i,n){i&1&&(Ui(),Ei(0))},dependencies:[mt],encapsulation:2,changeDetection:0})}return t})(),Rc=(()=>{class t extends Ot{value=D0(void 0);scrollable=nn(!1,{transform:ye});lazy=nn(!1,{transform:ye});selectOnFocus=nn(!1,{transform:ye});showNavigators=nn(!0,{transform:ye});tabindex=nn(0,{transform:wt});id=gi(vi("pn_id_"));_componentStyle=Fe(BS);updateValue(e){this.value.update(()=>e)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-tabs"]],hostVars:4,hostBindings:function(i,n){i&2&&(de("data-pc-name","tabs")("id",n.id()),$(n.cx("root")))},inputs:{value:[1,"value"],scrollable:[1,"scrollable"],lazy:[1,"lazy"],selectOnFocus:[1,"selectOnFocus"],showNavigators:[1,"showNavigators"],tabindex:[1,"tabindex"]},outputs:{value:"valueChange"},features:[_t([BS]),ft],ngContentSelectors:$m,decls:1,vars:0,template:function(i,n){i&1&&(Ui(),Ei(0))},dependencies:[mt],encapsulation:2,changeDetection:0})}return t})(),P_=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[Rc,Ov,Av,Kp,Km]})}return t})();var BZ=()=>({height:"300px"}),US=()=>[20,80],NZ=()=>[10,0],qZ=()=>[50,50];function HZ(t,s){t&1&&ae(0,"p-button",32)(1,"p-button",33)(2,"p-button",34)}function jZ(t,s){t&1&&(A(0,"p-iconfield")(1,"p-inputicon"),ae(2,"i",35),L(),ae(3,"input",36),L())}function GZ(t,s){if(t&1&&ae(0,"p-splitbutton",37),t&2){let e=M();C("model",e.items)}}function UZ(t,s){t&1&&(A(0,"div",38),ie(1,"Panel 1"),L())}function $Z(t,s){t&1&&(A(0,"div",40),ie(1,"Panel 2"),L())}function KZ(t,s){t&1&&(A(0,"div",38),ie(1,"Panel 3"),L())}function WZ(t,s){t&1&&(A(0,"div",38),ie(1,"Panel 4"),L())}function ZZ(t,s){t&1&&(A(0,"p-splitter",41),z(1,KZ,2,0,"ng-template",null,3,ze)(3,WZ,2,0,"ng-template",null,3,ze),L()),t&2&&C("panelSizes",Zt(1,US))}function QZ(t,s){t&1&&(A(0,"p-splitter",39),z(1,$Z,2,0,"ng-template",null,3,ze)(3,ZZ,5,2,"ng-template",null,3,ze),L()),t&2&&C("panelSizes",Zt(1,qZ))}var D_=class t{items=[{label:"Save",icon:"pi pi-check"},{label:"Update",icon:"pi pi-upload"},{label:"Delete",icon:"pi pi-trash"},{label:"Home Page",icon:"pi pi-home"}];static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Je({type:t,selectors:[["app-panels-demo"]],decls:101,vars:9,consts:[["start",""],["center",""],["end",""],["panel",""],[1,"flex","flex-col"],[1,"card"],[1,"font-semibold","text-xl","mb-4"],[1,"flex","flex-col","md:flex-row","gap-8"],[1,"md:w-1/2"],["value","0"],[1,"m-0"],["value","1"],["value","2"],[1,"md:w-1/2","mt-6","md:mt-0"],["header","Header",3,"toggleable"],["legend","Legend",3,"toggleable"],[1,"card","mt-8"],[1,"flex","flex-col","md:flex-row"],[1,"w-full","md:w-5/12","flex","flex-col","items-center","justify-center","gap-3","py-5"],[1,"flex","flex-col","gap-2"],["for","username"],["pInputText","","id","username","type","text"],["for","password"],["pInputText","","id","password","type","password"],[1,"flex"],["label","Login","icon","pi pi-user",1,"w-full","max-w-[17.35rem]","mx-auto"],[1,"w-full","md:w-2/12"],["layout","vertical",1,"hidden!","md:flex!"],["layout","horizontal","align","center",1,"flex!","md:hidden!"],[1,"w-full","md:w-5/12","flex","items-center","justify-center","py-5"],["label","Sign Up","icon","pi pi-user-plus","severity","success","styleClass","w-full max-w-[17.35rem] mx-auto",1,"w-full"],["styleClass","mb-8",3,"panelSizes","minSizes"],["icon","pi pi-plus","severity","secondary","text","",1,"mr-2"],["icon","pi pi-print","severity","secondary","text","",1,"mr-2"],["icon","pi pi-upload","severity","secondary","text",""],[1,"pi","pi-search"],["pInputText","","placeholder","Search"],["label","Save",3,"model"],[1,"col","flex","items-center","justify-center"],["layout","vertical",3,"panelSizes"],[1,"flex","items-center","justify-center",2,"grow","1"],[3,"panelSizes"]],template:function(e,i){e&1&&(A(0,"div",4)(1,"div",5)(2,"div",6),ie(3,"Toolbar"),L(),A(4,"p-toolbar"),z(5,HZ,3,0,"ng-template",null,0,ze)(7,jZ,4,0,"ng-template",null,1,ze)(9,GZ,1,1,"ng-template",null,2,ze),L()(),A(11,"div",7)(12,"div",8)(13,"div",5)(14,"div",6),ie(15,"Accordion"),L(),A(16,"p-accordion",9)(17,"p-accordion-panel",9)(18,"p-accordion-header"),ie(19,"Header I"),L(),A(20,"p-accordion-content")(21,"p",10),ie(22," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),L()()(),A(23,"p-accordion-panel",11)(24,"p-accordion-header"),ie(25,"Header II"),L(),A(26,"p-accordion-content")(27,"p",10),ie(28," Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Consectetur, adipisci velit, sed quia non numquam eius modi. "),L()()(),A(29,"p-accordion-panel",12)(30,"p-accordion-header"),ie(31,"Header III"),L(),A(32,"p-accordion-content")(33,"p",10),ie(34," Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Consectetur, adipisci velit, sed quia non numquam eius modi. "),L()()()()(),A(35,"div",5)(36,"div",6),ie(37,"Tabs"),L(),A(38,"p-tabs",9)(39,"p-tablist")(40,"p-tab",9),ie(41,"Header I"),L(),A(42,"p-tab",11),ie(43,"Header II"),L(),A(44,"p-tab",12),ie(45,"Header III"),L()(),A(46,"p-tabpanels")(47,"p-tabpanel",9)(48,"p",10),ie(49," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),L()(),A(50,"p-tabpanel",11)(51,"p",10),ie(52," Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Consectetur, adipisci velit, sed quia non numquam eius modi. "),L()(),A(53,"p-tabpanel",12)(54,"p",10),ie(55," At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus. "),L()()()()()(),A(56,"div",13)(57,"div",5)(58,"div",6),ie(59,"Panel"),L(),A(60,"p-panel",14)(61,"p",10),ie(62," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),L()()(),A(63,"div",5)(64,"div",6),ie(65,"Fieldset"),L(),A(66,"p-fieldset",15)(67,"p",10),ie(68," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),L()()()()(),A(69,"div",16)(70,"div",6),ie(71,"Divider"),L(),A(72,"div",17)(73,"div",18)(74,"div",19)(75,"label",20),ie(76,"Username"),L(),ae(77,"input",21),L(),A(78,"div",19)(79,"label",22),ie(80,"Password"),L(),ae(81,"input",23),L(),A(82,"div",24),ae(83,"p-button",25),L()(),A(84,"div",26)(85,"p-divider",27)(86,"b"),ie(87,"OR"),L()(),A(88,"p-divider",28)(89,"b"),ie(90,"OR"),L()()(),A(91,"div",29),ae(92,"p-button",30),L()()(),A(93,"div",5)(94,"div",6),ie(95,"Splitter"),L(),A(96,"p-splitter",31),z(97,UZ,2,0,"ng-template",null,3,ze)(99,QZ,5,2,"ng-template",null,3,ze),L()()()),e&2&&(S(60),C("toggleable",!0),S(6),C("toggleable",!0),S(30),Lt(Zt(6,BZ)),C("panelSizes",Zt(7,US))("minSizes",Zt(8,NZ)))},dependencies:[mt,dn,L3,D3,zi,Gi,_p,dg,_m,P3,E3,S3,M3,k3,ES,Pv,E_,Fo,ma,i3,t3,zS,Lv,OS,Dv,P_,Rc,Ov,Av,Kp,Km,gc,cr,_c,dr],encapsulation:2})};var XZ=t=>({"background-color":t});function YZ(t,s){if(t&1&&ie(0),t&2){let e=s.$implicit;oi(" ",e.status," ")}}function JZ(t,s){if(t&1&&ie(0),t&2){let e=s.$implicit;oi(" ",e.status," ")}}function eQ(t,s){if(t&1&&ie(0),t&2){let e=s.$implicit;oi(" ",e.status," ")}}function tQ(t,s){if(t&1&&(A(0,"small",17),ie(1),L()),t&2){let e=s.$implicit;S(),Et(e.date)}}function iQ(t,s){if(t&1&&ie(0),t&2){let e=s.$implicit;oi(" ",e.status," ")}}function nQ(t,s){if(t&1&&(A(0,"span",18),ae(1,"i"),L()),t&2){let e=s.$implicit;Lt(ot(4,XZ,e.color)),S(),$(e.icon)}}function aQ(t,s){if(t&1&&ae(0,"img",22),t&2){let e=M().$implicit;C("src","/images/product/"+e.image,Ji)("alt",e.name)}}function oQ(t,s){if(t&1&&(A(0,"p-card",19),z(1,aQ,1,2,"img",20),A(2,"p"),ie(3," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Inventore sed consequuntur error repudiandae numquam deserunt quisquam repellat libero asperiores earum nam nobis, culpa ratione quam perferendis esse, cupiditate neque quas! "),L(),ae(4,"p-button",21),L()),t&2){let e=s.$implicit;C("header",e.status)("subheader",e.date),S(),C("ngIf",e.image),S(3),C("text",!0)}}function rQ(t,s){if(t&1&&ie(0),t&2){let e=s.$implicit;oi(" ",e," ")}}function sQ(t,s){if(t&1&&ie(0),t&2){let e=s.$implicit;oi(" ",e," ")}}function lQ(t,s){if(t&1&&ie(0),t&2){let e=s.$implicit;oi(" ",e," ")}}function cQ(t,s){t&1&&ie(0," \xA0 ")}var L_=class t{events1=[];events2=[];ngOnInit(){this.events1=[{status:"Ordered",date:"15/10/2020 10:30",icon:"pi pi-shopping-cart",color:"#9C27B0",image:"game-controller.jpg"},{status:"Processing",date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"},{status:"Shipped",date:"15/10/2020 16:15",icon:"pi pi-envelope",color:"#FF9800"},{status:"Delivered",date:"16/10/2020 10:00",icon:"pi pi-check",color:"#607D8B"}],this.events2=["2020","2021","2022","2023"]}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Je({type:t,selectors:[["app-timeline-demo"]],decls:61,vars:8,consts:[["content",""],["opposite",""],["marker",""],[1,"grid","grid-cols-12","gap-8"],[1,"col-span-12","sm:col-span-6"],[1,"card"],[1,"font-semibold","text-xl","mb-4"],[3,"value"],["align","right",3,"value"],["align","alternate",3,"value"],[1,"col-span-full"],["align","alternate","styleClass","customized-timeline",3,"value"],[1,"font-semibold","mb-2"],["layout","horizontal","align","top",3,"value"],[1,"font-semibold","mt-4","mb-2"],["layout","horizontal","align","bottom",3,"value"],["layout","horizontal","align","alternate",3,"value"],[1,"p-text-secondary"],[1,"flex","w-8","h-8","items-center","justify-center","text-white","rounded-full","z-10","shadow-sm"],[3,"header","subheader"],["width","200","class","shadow",3,"src","alt",4,"ngIf"],["label","Read more",3,"text"],["width","200",1,"shadow",3,"src","alt"]],template:function(e,i){e&1&&(A(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),ie(4,"Left Align"),L(),A(5,"p-timeline",7),z(6,YZ,1,1,"ng-template",null,0,ze),L()()(),A(8,"div",4)(9,"div",5)(10,"div",6),ie(11,"Right Align"),L(),A(12,"p-timeline",8),z(13,JZ,1,1,"ng-template",null,0,ze),L()()(),A(15,"div",4)(16,"div",5)(17,"div",6),ie(18,"Alternate Align"),L(),A(19,"p-timeline",9),z(20,eQ,1,1,"ng-template",null,0,ze),L()()(),A(22,"div",4)(23,"div",5)(24,"div",6),ie(25,"Opposite Content"),L(),A(26,"p-timeline",7),z(27,tQ,2,1,"ng-template",null,0,ze)(29,iQ,1,1,"ng-template",null,1,ze),L()()(),A(31,"div",10)(32,"div",5)(33,"div",6),ie(34,"Templating"),L(),A(35,"p-timeline",11),z(36,nQ,2,6,"ng-template",null,2,ze)(38,oQ,5,4,"ng-template",null,0,ze),L()()(),A(40,"div",10)(41,"div",5)(42,"div",6),ie(43,"Horizontal"),L(),A(44,"div",12),ie(45,"Top Align"),L(),A(46,"p-timeline",13),z(47,rQ,1,1,"ng-template",null,0,ze),L(),A(49,"div",14),ie(50,"Bottom Align"),L(),A(51,"p-timeline",15),z(52,sQ,1,1,"ng-template",null,0,ze),L(),A(54,"div",14),ie(55,"Alternate Align"),L(),A(56,"p-timeline",16),z(57,lQ,1,1,"ng-template",null,0,ze)(59,cQ,1,0,"ng-template",null,1,ze),L()()()()),e&2&&(S(5),C("value",i.events1),S(7),C("value",i.events1),S(7),C("value",i.events1),S(7),C("value",i.events1),S(9),C("value",i.events1),S(11),C("value",i.events2),S(5),C("value",i.events2),S(5),C("value",i.events2))},dependencies:[mt,Ut,O3,A3,zi,Gi,wp,o3],encapsulation:2})};var Wp=class t{constructor(s){this.http=s}getData(){return[{id:1e3,name:"James Butt",country:{name:"Algeria",code:"dz"},company:"Benton, John B Jr",date:"2015-09-13",status:"unqualified",verified:!0,activity:17,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:70663},{id:1001,name:"Josephine Darakjy",country:{name:"Egypt",code:"eg"},company:"Chanay, Jeffrey A Esq",date:"2019-02-09",status:"negotiation",verified:!0,activity:0,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:82429},{id:1002,name:"Art Venere",country:{name:"Panama",code:"pa"},company:"Chemel, James L Cpa",date:"2017-05-13",status:"qualified",verified:!1,activity:63,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:28334},{id:1003,name:"Lenna Paprocki",country:{name:"Slovenia",code:"si"},company:"Feltz Printing Service",date:"2020-09-15",status:"new",verified:!1,activity:37,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:88521},{id:1004,name:"Donette Foller",country:{name:"South Africa",code:"za"},company:"Printing Dimensions",date:"2016-05-20",status:"negotiation",verified:!0,activity:33,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:93905},{id:1005,name:"Simona Morasca",country:{name:"Egypt",code:"eg"},company:"Chapman, Ross E Esq",date:"2018-02-16",status:"qualified",verified:!1,activity:68,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:50041},{id:1006,name:"Mitsue Tollner",country:{name:"Paraguay",code:"py"},company:"Morlong Associates",date:"2018-02-19",status:"renewal",verified:!0,activity:54,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:58706},{id:1007,name:"Leota Dilliard",country:{name:"Serbia",code:"rs"},company:"Commercial Press",date:"2019-08-13",status:"renewal",verified:!0,activity:69,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:26640},{id:1008,name:"Sage Wieser",country:{name:"Egypt",code:"eg"},company:"Truhlar And Truhlar Attys",date:"2018-11-21",status:"unqualified",verified:!0,activity:76,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:65369},{id:1009,name:"Kris Marrier",country:{name:"Mexico",code:"mx"},company:"King, Christopher A Esq",date:"2015-07-07",status:"negotiation",verified:!1,activity:3,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:63451},{id:1010,name:"Minna Amigon",country:{name:"Romania",code:"ro"},company:"Dorl, James J Esq",date:"2018-11-07",status:"qualified",verified:!1,activity:38,representative:{name:"Anna Fali",image:"annafali.png"},balance:71169},{id:1011,name:"Abel Maclead",country:{name:"Singapore",code:"sg"},company:"Rangoni Of Florence",date:"2017-03-11",status:"qualified",verified:!0,activity:87,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:96842},{id:1012,name:"Kiley Caldarera",country:{name:"Serbia",code:"rs"},company:"Feiner Bros",date:"2015-10-20",status:"unqualified",verified:!1,activity:80,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:92734},{id:1013,name:"Graciela Ruta",country:{name:"Chile",code:"cl"},company:"Buckley Miller & Wright",date:"2016-07-25",status:"negotiation",verified:!1,activity:59,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:45250},{id:1014,name:"Cammy Albares",country:{name:"Philippines",code:"ph"},company:"Rousseaux, Michael Esq",date:"2019-06-25",status:"new",verified:!0,activity:90,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:30236},{id:1015,name:"Mattie Poquette",country:{name:"Venezuela",code:"ve"},company:"Century Communications",date:"2017-12-12",status:"negotiation",verified:!1,activity:52,representative:{name:"Anna Fali",image:"annafali.png"},balance:64533},{id:1016,name:"Meaghan Garufi",country:{name:"Malaysia",code:"my"},company:"Bolton, Wilbur Esq",date:"2018-07-04",status:"unqualified",verified:!1,activity:31,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:37279},{id:1017,name:"Gladys Rim",country:{name:"Netherlands",code:"nl"},company:"T M Byxbee Company Pc",date:"2020-02-27",status:"renewal",verified:!0,activity:48,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:27381},{id:1018,name:"Yuki Whobrey",country:{name:"Israel",code:"il"},company:"Farmers Insurance Group",date:"2017-12-21",status:"negotiation",verified:!0,activity:16,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:9257},{id:1019,name:"Fletcher Flosi",country:{name:"Argentina",code:"ar"},company:"Post Box Services Plus",date:"2016-01-04",status:"renewal",verified:!0,activity:19,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:67783},{id:1020,name:"Bette Nicka",country:{name:"Paraguay",code:"py"},company:"Sport En Art",date:"2016-10-21",status:"renewal",verified:!1,activity:100,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:4609},{id:1021,name:"Veronika Inouye",country:{name:"Ecuador",code:"ec"},company:"C 4 Network Inc",date:"2017-03-24",status:"renewal",verified:!1,activity:72,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:26565},{id:1022,name:"Willard Kolmetz",country:{name:"Tunisia",code:"tn"},company:"Ingalls, Donald R Esq",date:"2017-04-15",status:"renewal",verified:!0,activity:94,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:75876},{id:1023,name:"Maryann Royster",country:{name:"Belarus",code:"by"},company:"Franklin, Peter L Esq",date:"2017-03-11",status:"qualified",verified:!1,activity:56,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:41121},{id:1024,name:"Alisha Slusarski",country:{name:"Iceland",code:"is"},company:"Wtlz Power 107 Fm",date:"2018-03-27",status:"qualified",verified:!0,activity:7,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:91691},{id:1025,name:"Allene Iturbide",country:{name:"Italy",code:"it"},company:"Ledecky, David Esq",date:"2016-02-20",status:"qualified",verified:!0,activity:1,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:40137},{id:1026,name:"Chanel Caudy",country:{name:"Argentina",code:"ar"},company:"Professional Image Inc",date:"2018-06-24",status:"new",verified:!0,activity:26,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:21304},{id:1027,name:"Ezekiel Chui",country:{name:"Ireland",code:"ie"},company:"Sider, Donald C Esq",date:"2016-09-24",status:"new",verified:!1,activity:76,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:60454},{id:1028,name:"Willow Kusko",country:{name:"Romania",code:"ro"},company:"U Pull It",date:"2020-04-11",status:"qualified",verified:!0,activity:7,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:17565},{id:1029,name:"Bernardo Figeroa",country:{name:"Israel",code:"il"},company:"Clark, Richard Cpa",date:"2018-04-11",status:"renewal",verified:!0,activity:81,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:17774},{id:1030,name:"Ammie Corrio",country:{name:"Hungary",code:"hu"},company:"Moskowitz, Barry S",date:"2016-06-11",status:"negotiation",verified:!0,activity:56,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:49201},{id:1031,name:"Francine Vocelka",country:{name:"Honduras",code:"hn"},company:"Cascade Realty Advisors Inc",date:"2017-08-02",status:"qualified",verified:!0,activity:94,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:67126},{id:1032,name:"Ernie Stenseth",country:{name:"Australia",code:"au"},company:"Knwz Newsradio",date:"2018-06-06",status:"renewal",verified:!0,activity:68,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:76017},{id:1033,name:"Albina Glick",country:{name:"Ukraine",code:"ua"},company:"Giampetro, Anthony D",date:"2019-08-08",status:"negotiation",verified:!0,activity:85,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:91201},{id:1034,name:"Alishia Sergi",country:{name:"Qatar",code:"qa"},company:"Milford Enterprises Inc",date:"2018-05-19",status:"negotiation",verified:!1,activity:46,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:12237},{id:1035,name:"Solange Shinko",country:{name:"Cameroon",code:"cm"},company:"Mosocco, Ronald A",date:"2015-02-12",status:"qualified",verified:!0,activity:32,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:34072},{id:1036,name:"Jose Stockham",country:{name:"Italy",code:"it"},company:"Tri State Refueler Co",date:"2018-04-25",status:"qualified",verified:!0,activity:77,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:94909},{id:1037,name:"Rozella Ostrosky",country:{name:"Venezuela",code:"ve"},company:"Parkway Company",date:"2016-02-27",status:"unqualified",verified:!0,activity:66,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:57245},{id:1038,name:"Valentine Gillian",country:{name:"Paraguay",code:"py"},company:"Fbs Business Finance",date:"2019-09-17",status:"qualified",verified:!0,activity:25,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:75502},{id:1039,name:"Kati Rulapaugh",country:{name:"Puerto Rico",code:"pr"},company:"Eder Assocs Consltng Engrs Pc",date:"2016-12-03",status:"renewal",verified:!1,activity:51,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:82075},{id:1040,name:"Youlanda Schemmer",country:{name:"Bolivia",code:"bo"},company:"Tri M Tool Inc",date:"2017-12-15",status:"negotiation",verified:!0,activity:49,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:19208},{id:1041,name:"Dyan Oldroyd",country:{name:"Argentina",code:"ar"},company:"International Eyelets Inc",date:"2017-02-02",status:"qualified",verified:!1,activity:5,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:50194},{id:1042,name:"Roxane Campain",country:{name:"France",code:"fr"},company:"Rapid Trading Intl",date:"2018-12-25",status:"unqualified",verified:!1,activity:100,representative:{name:"Anna Fali",image:"annafali.png"},balance:77714},{id:1043,name:"Lavera Perin",country:{name:"Vietnam",code:"vn"},company:"Abc Enterprises Inc",date:"2018-04-10",status:"qualified",verified:!1,activity:71,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:35740},{id:1044,name:"Erick Ferencz",country:{name:"Belgium",code:"be"},company:"Cindy Turner Associates",date:"2018-05-06",status:"unqualified",verified:!0,activity:54,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:30790},{id:1045,name:"Fatima Saylors",country:{name:"Canada",code:"ca"},company:"Stanton, James D Esq",date:"2019-07-10",status:"renewal",verified:!0,activity:93,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:52343},{id:1046,name:"Jina Briddick",country:{name:"Mexico",code:"mx"},company:"Grace Pastries Inc",date:"2018-02-19",status:"unqualified",verified:!1,activity:97,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:53966},{id:1047,name:"Kanisha Waycott",country:{name:"Ecuador",code:"ec"},company:"Schroer, Gene E Esq",date:"2019-11-27",status:"new",verified:!1,activity:80,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:9920},{id:1048,name:"Emerson Bowley",country:{name:"Finland",code:"fi"},company:"Knights Inn",date:"2018-11-24",status:"new",verified:!1,activity:63,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:78069},{id:1049,name:"Blair Malet",country:{name:"Finland",code:"fi"},company:"Bollinger Mach Shp & Shipyard",date:"2018-04-19",status:"new",verified:!0,activity:92,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:65005},{id:1050,name:"Brock Bolognia",country:{name:"Bolivia",code:"bo"},company:"Orinda News",date:"2019-09-06",status:"renewal",verified:!0,activity:72,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:51038},{id:1051,name:"Lorrie Nestle",country:{name:"Germany",code:"de"},company:"Ballard Spahr Andrews",date:"2018-04-26",status:"renewal",verified:!1,activity:36,representative:{name:"Anna Fali",image:"annafali.png"},balance:28218},{id:1052,name:"Sabra Uyetake",country:{name:"Peru",code:"pe"},company:"Lowy Limousine Service",date:"2018-04-12",status:"new",verified:!1,activity:31,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:78527},{id:1053,name:"Marjory Mastella",country:{name:"Netherlands",code:"nl"},company:"Vicon Corporation",date:"2018-01-24",status:"negotiation",verified:!1,activity:89,representative:{name:"Anna Fali",image:"annafali.png"},balance:23381},{id:1054,name:"Karl Klonowski",country:{name:"Saudi Arabia",code:"sa"},company:"Rossi, Michael M",date:"2017-04-17",status:"unqualified",verified:!0,activity:27,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:64821},{id:1055,name:"Tonette Wenner",country:{name:"Australia",code:"au"},company:"Northwest Publishing",date:"2019-04-14",status:"qualified",verified:!1,activity:27,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:55334},{id:1056,name:"Amber Monarrez",country:{name:"Sweden",code:"se"},company:"Branford Wire & Mfg Co",date:"2019-09-09",status:"new",verified:!1,activity:79,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:83391},{id:1057,name:"Shenika Seewald",country:{name:"Australia",code:"au"},company:"East Coast Marketing",date:"2017-02-18",status:"renewal",verified:!0,activity:39,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:31580},{id:1058,name:"Delmy Ahle",country:{name:"Belgium",code:"be"},company:"Wye Technologies Inc",date:"2020-10-05",status:"unqualified",verified:!1,activity:55,representative:{name:"Anna Fali",image:"annafali.png"},balance:11723},{id:1059,name:"Deeanna Juhas",country:{name:"Sweden",code:"se"},company:"Healy, George W Iv",date:"2018-09-28",status:"negotiation",verified:!1,activity:79,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:8454},{id:1060,name:"Blondell Pugh",country:{name:"Ireland",code:"ie"},company:"Alpenlite Inc",date:"2016-06-16",status:"renewal",verified:!1,activity:49,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:99235},{id:1061,name:"Jamal Vanausdal",country:{name:"Morocco",code:"ma"},company:"Hubbard, Bruce Esq",date:"2017-05-25",status:"negotiation",verified:!0,activity:87,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:15656},{id:1062,name:"Cecily Hollack",country:{name:"Bolivia",code:"bo"},company:"Arthur A Oliver & Son Inc",date:"2020-05-09",status:"negotiation",verified:!0,activity:5,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:60586},{id:1063,name:"Carmelina Lindall",country:{name:"Puerto Rico",code:"pr"},company:"George Jessop Carter Jewelers",date:"2019-09-07",status:"qualified",verified:!0,activity:77,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:86239},{id:1064,name:"Maurine Yglesias",country:{name:"Taiwan",code:"tw"},company:"Schultz, Thomas C Md",date:"2015-08-10",status:"renewal",verified:!1,activity:94,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:15621},{id:1065,name:"Tawna Buvens",country:{name:"Indonesia",code:"id"},company:"H H H Enterprises Inc",date:"2018-03-20",status:"new",verified:!1,activity:25,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:77248},{id:1066,name:"Penney Weight",country:{name:"South Africa",code:"za"},company:"Hawaiian King Hotel",date:"2020-03-03",status:"qualified",verified:!1,activity:96,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:478},{id:1067,name:"Elly Morocco",country:{name:"Thailand",code:"th"},company:"Killion Industries",date:"2018-09-18",status:"qualified",verified:!0,activity:38,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:62505},{id:1068,name:"Ilene Eroman",country:{name:"Netherlands",code:"nl"},company:"Robinson, William J Esq",date:"2019-06-08",status:"new",verified:!0,activity:49,representative:{name:"Anna Fali",image:"annafali.png"},balance:91480},{id:1069,name:"Vallie Mondella",country:{name:"Latvia",code:"lv"},company:"Private Properties",date:"2018-12-06",status:"new",verified:!1,activity:16,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:21671},{id:1070,name:"Kallie Blackwood",country:{name:"Iceland",code:"is"},company:"Rowley Schlimgen Inc",date:"2017-04-05",status:"unqualified",verified:!1,activity:25,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:13775},{id:1071,name:"Johnetta Abdallah",country:{name:"Netherlands",code:"nl"},company:"Forging Specialties",date:"2015-02-02",status:"new",verified:!1,activity:16,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:60253},{id:1072,name:"Bobbye Rhym",country:{name:"Ukraine",code:"ua"},company:"Smits, Patricia Garity",date:"2018-08-17",status:"qualified",verified:!0,activity:85,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:75225},{id:1073,name:"Micaela Rhymes",country:{name:"France",code:"fr"},company:"H Lee Leonard Attorney At Law",date:"2018-09-08",status:"renewal",verified:!0,activity:92,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:3308},{id:1074,name:"Tamar Hoogland",country:{name:"Guatemala",code:"gt"},company:"A K Construction Co",date:"2018-11-13",status:"negotiation",verified:!0,activity:22,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:19711},{id:1075,name:"Moon Parlato",country:{name:"Czech Republic",code:"cz"},company:"Ambelang, Jessica M Md",date:"2019-08-18",status:"renewal",verified:!1,activity:64,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:55110},{id:1076,name:"Laurel Reitler",country:{name:"United Kingdom",code:"gb"},company:"Q A Service",date:"2015-04-02",status:"negotiation",verified:!1,activity:80,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:62392},{id:1077,name:"Delisa Crupi",country:{name:"Taiwan",code:"tw"},company:"Wood & Whitacre Contractors",date:"2017-09-15",status:"unqualified",verified:!1,activity:70,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:76530},{id:1078,name:"Viva Toelkes",country:{name:"United States",code:"us"},company:"Mark Iv Press Ltd",date:"2017-03-27",status:"qualified",verified:!1,activity:16,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:7460},{id:1079,name:"Elza Lipke",country:{name:"Ireland",code:"ie"},company:"Museum Of Science & Industry",date:"2017-06-01",status:"negotiation",verified:!0,activity:90,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:42251},{id:1080,name:"Devorah Chickering",country:{name:"Spain",code:"es"},company:"Garrison Ind",date:"2017-03-14",status:"negotiation",verified:!0,activity:96,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:36435},{id:1081,name:"Timothy Mulqueen",country:{name:"Netherlands",code:"nl"},company:"Saronix Nymph Products",date:"2018-07-09",status:"renewal",verified:!0,activity:77,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:39197},{id:1082,name:"Arlette Honeywell",country:{name:"Panama",code:"pa"},company:"Smc Inc",date:"2018-09-11",status:"negotiation",verified:!0,activity:46,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:72707},{id:1083,name:"Dominque Dickerson",country:{name:"Argentina",code:"ar"},company:"E A I Electronic Assocs Inc",date:"2017-11-12",status:"qualified",verified:!0,activity:83,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:97965},{id:1084,name:"Lettie Isenhower",country:{name:"Canada",code:"ca"},company:"Conte, Christopher A Esq",date:"2016-03-01",status:"qualified",verified:!0,activity:83,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:5823},{id:1085,name:"Myra Munns",country:{name:"Lithuania",code:"lt"},company:"Anker Law Office",date:"2016-05-21",status:"unqualified",verified:!0,activity:49,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:96471},{id:1086,name:"Stephaine Barfield",country:{name:"Belgium",code:"be"},company:"Beutelschies & Company",date:"2016-01-22",status:"new",verified:!0,activity:34,representative:{name:"Anna Fali",image:"annafali.png"},balance:33710},{id:1087,name:"Lai Gato",country:{name:"Nigeria",code:"ng"},company:"Fligg, Kenneth I Jr",date:"2016-07-26",status:"unqualified",verified:!1,activity:64,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:30611},{id:1088,name:"Stephen Emigh",country:{name:"Cuba",code:"cu"},company:"Sharp, J Daniel Esq",date:"2020-07-24",status:"renewal",verified:!1,activity:51,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:32960},{id:1089,name:"Tyra Shields",country:{name:"Honduras",code:"hn"},company:"Assink, Anne H Esq",date:"2019-11-10",status:"negotiation",verified:!1,activity:11,representative:{name:"Anna Fali",image:"annafali.png"},balance:57423},{id:1090,name:"Tammara Wardrip",country:{name:"Saudi Arabia",code:"sa"},company:"Jewel My Shop Inc",date:"2016-06-05",status:"renewal",verified:!0,activity:64,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:23027},{id:1091,name:"Cory Gibes",country:{name:"Malaysia",code:"my"},company:"Chinese Translation Resources",date:"2016-02-28",status:"new",verified:!1,activity:44,representative:{name:"Anna Fali",image:"annafali.png"},balance:84182},{id:1092,name:"Danica Bruschke",country:{name:"Taiwan",code:"tw"},company:"Stevens, Charles T",date:"2018-12-13",status:"unqualified",verified:!0,activity:62,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:25237},{id:1093,name:"Wilda Giguere",country:{name:"Iceland",code:"is"},company:"Mclaughlin, Luther W Cpa",date:"2017-06-16",status:"new",verified:!0,activity:79,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:87736},{id:1094,name:"Elvera Benimadho",country:{name:"Malaysia",code:"my"},company:"Tree Musketeers",date:"2019-02-17",status:"negotiation",verified:!0,activity:50,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:38674},{id:1095,name:"Carma Vanheusen",country:{name:"Turkey",code:"tr"},company:"Springfield Div Oh Edison Co",date:"2019-11-26",status:"renewal",verified:!1,activity:84,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:67762},{id:1096,name:"Malinda Hochard",country:{name:"Serbia",code:"rs"},company:"Logan Memorial Hospital",date:"2016-07-06",status:"new",verified:!1,activity:88,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:81299},{id:1097,name:"Natalie Fern",country:{name:"Canada",code:"ca"},company:"Kelly, Charles G Esq",date:"2019-10-02",status:"negotiation",verified:!0,activity:44,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:64794},{id:1098,name:"Lisha Centini",country:{name:"Netherlands",code:"nl"},company:"Industrial Paper Shredders Inc",date:"2018-07-05",status:"new",verified:!0,activity:7,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:7815},{id:1099,name:"Arlene Klusman",country:{name:"Jamaica",code:"jm"},company:"Beck Horizon Builders",date:"2018-05-14",status:"negotiation",verified:!0,activity:99,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:37976},{id:1100,name:"Alease Buemi",country:{name:"Costa Rica",code:"cr"},company:"Porto Cayo At Hawks Cay",date:"2018-03-14",status:"unqualified",verified:!0,activity:0,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:59594},{id:1101,name:"Louisa Cronauer",country:{name:"Costa Rica",code:"cr"},company:"Pacific Grove Museum Ntrl Hist",date:"2018-09-23",status:"qualified",verified:!1,activity:3,representative:{name:"Anna Fali",image:"annafali.png"},balance:92528},{id:1102,name:"Angella Cetta",country:{name:"Vietnam",code:"vn"},company:"Bender & Hatley Pc",date:"2018-04-10",status:"qualified",verified:!1,activity:88,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:58964},{id:1103,name:"Cyndy Goldammer",country:{name:"Burkina Faso",code:"bf"},company:"Di Cristina J & Son",date:"2017-09-18",status:"unqualified",verified:!1,activity:92,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:65860},{id:1104,name:"Rosio Cork",country:{name:"Singapore",code:"sg"},company:"Green Goddess",date:"2017-08-19",status:"negotiation",verified:!0,activity:19,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:63863},{id:1105,name:"Celeste Korando",country:{name:"Costa Rica",code:"cr"},company:"American Arts & Graphics",date:"2020-06-18",status:"negotiation",verified:!0,activity:21,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:37510},{id:1106,name:"Twana Felger",country:{name:"Croatia",code:"hr"},company:"Opryland Hotel",date:"2016-11-18",status:"negotiation",verified:!1,activity:97,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:63876},{id:1107,name:"Estrella Samu",country:{name:"Vietnam",code:"vn"},company:"Marking Devices Pubg Co",date:"2017-06-25",status:"unqualified",verified:!1,activity:27,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:93263},{id:1108,name:"Donte Kines",country:{name:"Slovakia",code:"sk"},company:"W Tc Industries Inc",date:"2019-02-16",status:"new",verified:!0,activity:35,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:57198},{id:1109,name:"Tiffiny Steffensmeier",country:{name:"Pakistan",code:"pk"},company:"Whitehall Robbins Labs Divsn",date:"2018-03-11",status:"new",verified:!0,activity:81,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:89147},{id:1110,name:"Edna Miceli",country:{name:"France",code:"fr"},company:"Sampler",date:"2017-10-15",status:"renewal",verified:!0,activity:54,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:41466},{id:1111,name:"Sue Kownacki",country:{name:"Jamaica",code:"jm"},company:"Juno Chefs Incorporated",date:"2017-03-17",status:"negotiation",verified:!1,activity:31,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:38918},{id:1112,name:"Jesusa Shin",country:{name:"Ukraine",code:"ua"},company:"Carroccio, A Thomas Esq",date:"2017-04-06",status:"renewal",verified:!1,activity:28,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:11397},{id:1113,name:"Rolland Francescon",country:{name:"United Kingdom",code:"gb"},company:"Stanley, Richard L Esq",date:"2019-02-03",status:"qualified",verified:!1,activity:45,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:40930},{id:1114,name:"Pamella Schmierer",country:{name:"Belgium",code:"be"},company:"K Cs Cstm Mouldings Windows",date:"2016-09-22",status:"unqualified",verified:!0,activity:34,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:40847},{id:1115,name:"Glory Kulzer",country:{name:"Croatia",code:"hr"},company:"Comfort Inn",date:"2017-09-27",status:"unqualified",verified:!0,activity:36,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:27832},{id:1116,name:"Shawna Palaspas",country:{name:"Estonia",code:"ee"},company:"Windsor, James L Esq",date:"2017-06-25",status:"unqualified",verified:!0,activity:69,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:89060},{id:1117,name:"Brandon Callaro",country:{name:"Romania",code:"ro"},company:"Jackson Shields Yeiser",date:"2016-07-13",status:"negotiation",verified:!0,activity:55,representative:{name:"Anna Fali",image:"annafali.png"},balance:52474},{id:1118,name:"Scarlet Cartan",country:{name:"Panama",code:"pa"},company:"Box, J Calvin Esq",date:"2018-09-13",status:"renewal",verified:!1,activity:1,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:19094},{id:1119,name:"Oretha Menter",country:{name:"Panama",code:"pa"},company:"Custom Engineering Inc",date:"2017-09-11",status:"renewal",verified:!1,activity:8,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:93756},{id:1120,name:"Ty Smith",country:{name:"United States",code:"us"},company:"Bresler Eitel Framg Gllry Ltd",date:"2019-07-06",status:"unqualified",verified:!1,activity:50,representative:{name:"Anna Fali",image:"annafali.png"},balance:77388},{id:1121,name:"Xuan Rochin",country:{name:"Colombia",code:"co"},company:"Carol, Drake Sparks Esq",date:"2018-05-22",status:"negotiation",verified:!0,activity:77,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:48759},{id:1122,name:"Lindsey Dilello",country:{name:"Austria",code:"at"},company:"Biltmore Investors Bank",date:"2017-07-18",status:"renewal",verified:!0,activity:65,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:37568},{id:1123,name:"Devora Perez",country:{name:"Uruguay",code:"uy"},company:"Desco Equipment Corp",date:"2017-10-09",status:"unqualified",verified:!0,activity:30,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:4477},{id:1124,name:"Herman Demesa",country:{name:"Paraguay",code:"py"},company:"Merlin Electric Co",date:"2019-05-23",status:"negotiation",verified:!0,activity:10,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:13764},{id:1125,name:"Rory Papasergi",country:{name:"Egypt",code:"eg"},company:"Bailey Cntl Co Div Babcock",date:"2019-03-02",status:"qualified",verified:!1,activity:22,representative:{name:"Anna Fali",image:"annafali.png"},balance:68222},{id:1126,name:"Talia Riopelle",country:{name:"Guatemala",code:"gt"},company:"Ford Brothers Wholesale Inc",date:"2017-02-18",status:"new",verified:!1,activity:69,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:29164},{id:1127,name:"Van Shire",country:{name:"Netherlands",code:"nl"},company:"Cambridge Inn",date:"2020-05-12",status:"new",verified:!1,activity:4,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:61651},{id:1128,name:"Lucina Lary",country:{name:"Switzerland",code:"ch"},company:"Matricciani, Albert J Jr",date:"2019-11-20",status:"negotiation",verified:!0,activity:11,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:79938},{id:1129,name:"Bok Isaacs",country:{name:"Chile",code:"cl"},company:"Nelson Hawaiian Ltd",date:"2016-11-10",status:"negotiation",verified:!0,activity:41,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:44037},{id:1130,name:"Rolande Spickerman",country:{name:"Panama",code:"pa"},company:"Neland Travel Agency",date:"2016-07-11",status:"renewal",verified:!0,activity:84,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:89918},{id:1131,name:"Howard Paulas",country:{name:"Indonesia",code:"id"},company:"Asendorf, J Alan Esq",date:"2017-07-17",status:"negotiation",verified:!1,activity:22,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:32372},{id:1132,name:"Kimbery Madarang",country:{name:"Senegal",code:"sn"},company:"Silberman, Arthur L Esq",date:"2018-08-19",status:"negotiation",verified:!0,activity:63,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:46478},{id:1133,name:"Thurman Manno",country:{name:"Colombia",code:"co"},company:"Honey Bee Breeding Genetics &",date:"2016-05-02",status:"qualified",verified:!0,activity:47,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:30674},{id:1134,name:"Becky Mirafuentes",country:{name:"Serbia",code:"rs"},company:"Wells Kravitz Schnitzer",date:"2018-04-13",status:"unqualified",verified:!0,activity:62,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:47714},{id:1135,name:"Beatriz Corrington",country:{name:"South Africa",code:"za"},company:"Prohab Rehabilitation Servs",date:"2020-01-04",status:"renewal",verified:!0,activity:55,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:14307},{id:1136,name:"Marti Maybury",country:{name:"Thailand",code:"th"},company:"Eldridge, Kristin K Esq",date:"2016-02-05",status:"unqualified",verified:!1,activity:3,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:82069},{id:1137,name:"Nieves Gotter",country:{name:"Latvia",code:"lv"},company:"Vlahos, John J Esq",date:"2017-03-12",status:"negotiation",verified:!1,activity:3,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:11182},{id:1138,name:"Leatha Hagele",country:{name:"Ukraine",code:"ua"},company:"Ninas Indian Grs & Videos",date:"2019-03-27",status:"unqualified",verified:!1,activity:67,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:17126},{id:1139,name:"Valentin Klimek",country:{name:"Ivory Coast",code:"ci"},company:"Schmid, Gayanne K Esq",date:"2019-08-06",status:"unqualified",verified:!0,activity:14,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:19724},{id:1140,name:"Melissa Wiklund",country:{name:"Japan",code:"jp"},company:"Moapa Valley Federal Credit Un",date:"2018-03-20",status:"qualified",verified:!0,activity:8,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:91888},{id:1141,name:"Sheridan Zane",country:{name:"Croatia",code:"hr"},company:"Kentucky Tennessee Clay Co",date:"2016-02-15",status:"qualified",verified:!0,activity:17,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:15016},{id:1142,name:"Bulah Padilla",country:{name:"Philippines",code:"ph"},company:"Admiral Party Rentals & Sales",date:"2016-02-10",status:"negotiation",verified:!1,activity:58,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:23118},{id:1143,name:"Audra Kohnert",country:{name:"Netherlands",code:"nl"},company:"Nelson, Karolyn King Esq",date:"2019-07-16",status:"unqualified",verified:!1,activity:82,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:90560},{id:1144,name:"Daren Weirather",country:{name:"Israel",code:"il"},company:"Panasystems",date:"2015-07-23",status:"negotiation",verified:!1,activity:96,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:34155},{id:1145,name:"Fernanda Jillson",country:{name:"Mexico",code:"mx"},company:"Shank, Edward L Esq",date:"2017-07-02",status:"unqualified",verified:!0,activity:92,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:6350},{id:1146,name:"Gearldine Gellinger",country:{name:"Egypt",code:"eg"},company:"Megibow & Edwards",date:"2019-08-17",status:"negotiation",verified:!0,activity:18,representative:{name:"Anna Fali",image:"annafali.png"},balance:77641},{id:1147,name:"Chau Kitzman",country:{name:"Paraguay",code:"py"},company:"Benoff, Edward Esq",date:"2019-07-04",status:"new",verified:!0,activity:9,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:43289},{id:1148,name:"Theola Frey",country:{name:"Vietnam",code:"vn"},company:"Woodbridge Free Public Library",date:"2020-03-14",status:"unqualified",verified:!0,activity:44,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:85657},{id:1149,name:"Cheryl Haroldson",country:{name:"France",code:"fr"},company:"New York Life John Thune",date:"2018-04-03",status:"new",verified:!1,activity:55,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:82733},{id:1150,name:"Laticia Merced",country:{name:"Burkina Faso",code:"bf"},company:"Alinabal Inc",date:"2017-03-04",status:"unqualified",verified:!1,activity:21,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:38004},{id:1151,name:"Carissa Batman",country:{name:"Greece",code:"gr"},company:"Poletto, Kim David Esq",date:"2016-05-05",status:"negotiation",verified:!0,activity:91,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:29038},{id:1152,name:"Lezlie Craghead",country:{name:"Panama",code:"pa"},company:"Chang, Carolyn Esq",date:"2019-05-28",status:"renewal",verified:!1,activity:30,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:75123},{id:1153,name:"Ozell Shealy",country:{name:"Pakistan",code:"pk"},company:"Silver Bros Inc",date:"2016-08-19",status:"negotiation",verified:!0,activity:14,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:33214},{id:1154,name:"Arminda Parvis",country:{name:"Indonesia",code:"id"},company:"Newtec Inc",date:"2020-02-09",status:"negotiation",verified:!0,activity:77,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:80651},{id:1155,name:"Reita Leto",country:{name:"Belgium",code:"be"},company:"Creative Business Systems",date:"2020-04-03",status:"unqualified",verified:!0,activity:58,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:5085},{id:1156,name:"Yolando Luczki",country:{name:"France",code:"fr"},company:"Dal Tile Corporation",date:"2015-01-27",status:"renewal",verified:!0,activity:78,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:93021},{id:1157,name:"Lizette Stem",country:{name:"Slovakia",code:"sk"},company:"Edward S Katz",date:"2018-08-06",status:"new",verified:!1,activity:67,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:37287},{id:1158,name:"Gregoria Pawlowicz",country:{name:"Egypt",code:"eg"},company:"Oh My Goodknits Inc",date:"2020-02-20",status:"renewal",verified:!1,activity:29,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:73070},{id:1159,name:"Carin Deleo",country:{name:"China",code:"cn"},company:"Redeker, Debbie",date:"2015-05-28",status:"qualified",verified:!0,activity:13,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:64422},{id:1160,name:"Chantell Maynerich",country:{name:"Estonia",code:"ee"},company:"Desert Sands Motel",date:"2016-09-05",status:"unqualified",verified:!0,activity:75,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:36826},{id:1161,name:"Dierdre Yum",country:{name:"Czech Republic",code:"cz"},company:"Cummins Southern Plains Inc",date:"2016-12-20",status:"negotiation",verified:!0,activity:1,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:93101},{id:1162,name:"Larae Gudroe",country:{name:"Slovenia",code:"si"},company:"Lehigh Furn Divsn Lehigh",date:"2015-11-28",status:"unqualified",verified:!1,activity:13,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:60177},{id:1163,name:"Latrice Tolfree",country:{name:"Jamaica",code:"jm"},company:"United Van Lines Agent",date:"2018-11-11",status:"renewal",verified:!1,activity:73,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:47198},{id:1164,name:"Kerry Theodorov",country:{name:"Romania",code:"ro"},company:"Capitol Reporters",date:"2016-11-05",status:"unqualified",verified:!0,activity:76,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:71305},{id:1165,name:"Dorthy Hidvegi",country:{name:"Poland",code:"pl"},company:"Kwik Kopy Printing",date:"2020-08-13",status:"qualified",verified:!0,activity:60,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:17526},{id:1166,name:"Fannie Lungren",country:{name:"Belarus",code:"by"},company:"Centro Inc",date:"2015-07-06",status:"negotiation",verified:!0,activity:24,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:16596},{id:1167,name:"Evangelina Radde",country:{name:"Ivory Coast",code:"ci"},company:"Campbell, Jan Esq",date:"2020-02-25",status:"unqualified",verified:!0,activity:93,representative:{name:"Anna Fali",image:"annafali.png"},balance:56870},{id:1168,name:"Novella Degroot",country:{name:"Slovenia",code:"si"},company:"Evans, C Kelly Esq",date:"2017-12-19",status:"unqualified",verified:!1,activity:30,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:82928},{id:1169,name:"Clay Hoa",country:{name:"Paraguay",code:"py"},company:"Scat Enterprises",date:"2016-02-22",status:"negotiation",verified:!1,activity:93,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:64181},{id:1170,name:"Jennifer Fallick",country:{name:"Australia",code:"au"},company:"Nagle, Daniel J Esq",date:"2016-12-24",status:"unqualified",verified:!0,activity:88,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:30561},{id:1171,name:"Irma Wolfgramm",country:{name:"Belgium",code:"be"},company:"Serendiquity Bed & Breakfast",date:"2020-10-18",status:"negotiation",verified:!0,activity:70,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:24617},{id:1172,name:"Eun Coody",country:{name:"Taiwan",code:"tw"},company:"Ray Carolyne Realty",date:"2018-02-12",status:"qualified",verified:!0,activity:61,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:77860},{id:1173,name:"Sylvia Cousey",country:{name:"Ireland",code:"ie"},company:"Berg, Charles E",date:"2018-06-10",status:"unqualified",verified:!1,activity:91,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:25664},{id:1174,name:"Nana Wrinkles",country:{name:"Austria",code:"at"},company:"Ray, Milbern D",date:"2017-04-11",status:"renewal",verified:!0,activity:98,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:98113},{id:1175,name:"Layla Springe",country:{name:"South Africa",code:"za"},company:"Chadds Ford Winery",date:"2019-07-27",status:"unqualified",verified:!0,activity:97,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:14763},{id:1176,name:"Joesph Degonia",country:{name:"Serbia",code:"rs"},company:"A R Packaging",date:"2020-04-23",status:"renewal",verified:!0,activity:56,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:31317},{id:1177,name:"Annabelle Boord",country:{name:"Guatemala",code:"gt"},company:"Corn Popper",date:"2020-09-16",status:"negotiation",verified:!0,activity:76,representative:{name:"Anna Fali",image:"annafali.png"},balance:30883},{id:1178,name:"Stephaine Vinning",country:{name:"Australia",code:"au"},company:"Birite Foodservice Distr",date:"2016-05-14",status:"negotiation",verified:!0,activity:43,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:93785},{id:1179,name:"Nelida Sawchuk",country:{name:"South Africa",code:"za"},company:"Anchorage Museum Of Hist & Art",date:"2018-06-22",status:"qualified",verified:!0,activity:58,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:68380},{id:1180,name:"Marguerita Hiatt",country:{name:"United Kingdom",code:"gb"},company:"Haber, George D Md",date:"2018-10-25",status:"qualified",verified:!1,activity:72,representative:{name:"Anna Fali",image:"annafali.png"},balance:93454},{id:1181,name:"Carmela Cookey",country:{name:"France",code:"fr"},company:"Royal Pontiac Olds Inc",date:"2018-07-19",status:"negotiation",verified:!1,activity:24,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:30570},{id:1182,name:"Junita Brideau",country:{name:"Indonesia",code:"id"},company:"Leonards Antiques Inc",date:"2015-03-15",status:"negotiation",verified:!0,activity:86,representative:{name:"Anna Fali",image:"annafali.png"},balance:79506},{id:1183,name:"Claribel Varriano",country:{name:"Ecuador",code:"ec"},company:"Meca",date:"2017-04-14",status:"unqualified",verified:!0,activity:15,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:8654},{id:1184,name:"Benton Skursky",country:{name:"Iceland",code:"is"},company:"Nercon Engineering & Mfg Inc",date:"2015-02-19",status:"negotiation",verified:!0,activity:9,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:13368},{id:1185,name:"Hillary Skulski",country:{name:"France",code:"fr"},company:"Replica I",date:"2016-03-25",status:"unqualified",verified:!0,activity:82,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:92631},{id:1186,name:"Merilyn Bayless",country:{name:"Jamaica",code:"jm"},company:"20 20 Printing Inc",date:"2020-10-13",status:"unqualified",verified:!0,activity:13,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:4989},{id:1187,name:"Teri Ennaco",country:{name:"Pakistan",code:"pk"},company:"Publishers Group West",date:"2019-12-21",status:"unqualified",verified:!0,activity:57,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:77668},{id:1188,name:"Merlyn Lawler",country:{name:"Germany",code:"de"},company:"Nischwitz, Jeffrey L Esq",date:"2016-02-26",status:"renewal",verified:!0,activity:45,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:3525},{id:1189,name:"Georgene Montezuma",country:{name:"Senegal",code:"sn"},company:"Payne Blades & Wellborn Pa",date:"2018-10-11",status:"new",verified:!0,activity:64,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:45838},{id:1190,name:"Jettie Mconnell",country:{name:"Denmark",code:"dk"},company:"Coldwell Bnkr Wright Real Est",date:"2015-10-18",status:"negotiation",verified:!1,activity:74,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:49148},{id:1191,name:"Lemuel Latzke",country:{name:"Colombia",code:"co"},company:"Computer Repair Service",date:"2016-02-13",status:"negotiation",verified:!1,activity:79,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:96709},{id:1192,name:"Melodie Knipp",country:{name:"Finland",code:"fi"},company:"Fleetwood Building Block Inc",date:"2018-03-08",status:"negotiation",verified:!1,activity:19,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:23253},{id:1193,name:"Candida Corbley",country:{name:"Poland",code:"pl"},company:"Colts Neck Medical Assocs Inc",date:"2017-12-02",status:"negotiation",verified:!0,activity:11,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:40836},{id:1194,name:"Karan Karpin",country:{name:"Estonia",code:"ee"},company:"New England Taxidermy",date:"2019-01-07",status:"negotiation",verified:!0,activity:4,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:60719},{id:1195,name:"Andra Scheyer",country:{name:"Romania",code:"ro"},company:"Ludcke, George O Esq",date:"2016-08-14",status:"qualified",verified:!0,activity:62,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:17419},{id:1196,name:"Felicidad Poullion",country:{name:"Greece",code:"gr"},company:"Mccorkle, Tom S Esq",date:"2016-03-05",status:"renewal",verified:!0,activity:64,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:94052},{id:1197,name:"Belen Strassner",country:{name:"Ivory Coast",code:"ci"},company:"Eagle Software Inc",date:"2015-12-14",status:"qualified",verified:!0,activity:91,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:54241},{id:1198,name:"Gracia Melnyk",country:{name:"Costa Rica",code:"cr"},company:"Juvenile & Adult Super",date:"2019-06-01",status:"unqualified",verified:!0,activity:40,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:87668},{id:1199,name:"Jolanda Hanafan",country:{name:"Cameroon",code:"cm"},company:"Perez, Joseph J Esq",date:"2015-12-09",status:"qualified",verified:!0,activity:27,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:99417},{id:1200,name:"Barrett Toyama",country:{name:"Thailand",code:"th"},company:"Case Foundation Co",date:"2019-08-16",status:"new",verified:!0,activity:82,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:89792},{id:1201,name:"Helga Fredicks",country:{name:"Guatemala",code:"gt"},company:"Eis Environmental Engrs Inc",date:"2018-06-20",status:"new",verified:!0,activity:33,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:42356},{id:1202,name:"Ashlyn Pinilla",country:{name:"Japan",code:"jp"},company:"Art Crafters",date:"2018-04-11",status:"unqualified",verified:!0,activity:5,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:90979},{id:1203,name:"Fausto Agramonte",country:{name:"Belgium",code:"be"},company:"Marriott Hotels Resorts Suites",date:"2019-06-25",status:"new",verified:!1,activity:22,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:45082},{id:1204,name:"Ronny Caiafa",country:{name:"Argentina",code:"ar"},company:"Remaco Inc",date:"2020-07-21",status:"new",verified:!0,activity:61,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:9871},{id:1205,name:"Marge Limmel",country:{name:"Cameroon",code:"cm"},company:"Bjork, Robert D Jr",date:"2015-03-12",status:"unqualified",verified:!0,activity:90,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:47043},{id:1206,name:"Norah Waymire",country:{name:"United States",code:"us"},company:"Carmichael, Jeffery L Esq",date:"2019-06-11",status:"renewal",verified:!0,activity:48,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:92763},{id:1207,name:"Aliza Baltimore",country:{name:"Malaysia",code:"my"},company:"Andrews, J Robert Esq",date:"2020-11-25",status:"unqualified",verified:!0,activity:59,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:18075},{id:1208,name:"Mozell Pelkowski",country:{name:"Latvia",code:"lv"},company:"Winship & Byrne",date:"2018-04-13",status:"unqualified",verified:!0,activity:94,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:34393},{id:1209,name:"Viola Bitsuie",country:{name:"Denmark",code:"dk"},company:"Burton & Davis",date:"2018-07-07",status:"new",verified:!0,activity:94,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:16410},{id:1210,name:"Franklyn Emard",country:{name:"Iceland",code:"is"},company:"Olympic Graphic Arts",date:"2018-02-25",status:"qualified",verified:!0,activity:95,representative:{name:"Anna Fali",image:"annafali.png"},balance:1017},{id:1211,name:"Willodean Konopacki",country:{name:"Hong Kong",code:"hk"},company:"Magnuson",date:"2017-10-03",status:"renewal",verified:!1,activity:20,representative:{name:"Anna Fali",image:"annafali.png"},balance:77843},{id:1212,name:"Beckie Silvestrini",country:{name:"Poland",code:"pl"},company:"A All American Travel Inc",date:"2016-11-26",status:"renewal",verified:!0,activity:81,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:30549},{id:1213,name:"Rebecka Gesick",country:{name:"Philippines",code:"ph"},company:"Polykote Inc",date:"2019-06-22",status:"renewal",verified:!0,activity:45,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:51738},{id:1214,name:"Frederica Blunk",country:{name:"Lithuania",code:"lt"},company:"Jets Cybernetics",date:"2019-06-07",status:"renewal",verified:!0,activity:56,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:13111},{id:1215,name:"Glen Bartolet",country:{name:"Germany",code:"de"},company:"Metlab Testing Services",date:"2015-02-13",status:"negotiation",verified:!0,activity:99,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:85802},{id:1216,name:"Freeman Gochal",country:{name:"Slovenia",code:"si"},company:"Kellermann, William T Esq",date:"2019-08-27",status:"negotiation",verified:!1,activity:2,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:89221},{id:1217,name:"Vincent Meinerding",country:{name:"United States",code:"us"},company:"Arturi, Peter D Esq",date:"2018-06-18",status:"new",verified:!0,activity:58,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:32661},{id:1218,name:"Rima Bevelacqua",country:{name:"Taiwan",code:"tw"},company:"Mcauley Mfg Co",date:"2019-05-18",status:"new",verified:!0,activity:31,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:18809},{id:1219,name:"Glendora Sarbacher",country:{name:"Lithuania",code:"lt"},company:"Defur Voran Hanley Radcliff",date:"2018-04-21",status:"new",verified:!0,activity:79,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:94374},{id:1220,name:"Avery Steier",country:{name:"Mexico",code:"mx"},company:"Dill Dill Carr & Stonbraker Pc",date:"2017-07-27",status:"negotiation",verified:!0,activity:63,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:45436},{id:1221,name:"Cristy Lother",country:{name:"Burkina Faso",code:"bf"},company:"Kleensteel",date:"2018-05-19",status:"renewal",verified:!0,activity:55,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:72645},{id:1222,name:"Nicolette Brossart",country:{name:"Egypt",code:"eg"},company:"Goulds Pumps Inc Slurry Pump",date:"2015-05-26",status:"new",verified:!1,activity:25,representative:{name:"Anna Fali",image:"annafali.png"},balance:61023},{id:1223,name:"Tracey Modzelewski",country:{name:"Denmark",code:"dk"},company:"Kansas City Insurance Report",date:"2019-07-02",status:"renewal",verified:!0,activity:4,representative:{name:"Anna Fali",image:"annafali.png"},balance:13685},{id:1224,name:"Virgina Tegarden",country:{name:"Cameroon",code:"cm"},company:"Berhanu International Foods",date:"2017-10-09",status:"qualified",verified:!0,activity:62,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:84436},{id:1225,name:"Tiera Frankel",country:{name:"India",code:"in"},company:"Roland Ashcroft",date:"2018-03-27",status:"unqualified",verified:!0,activity:90,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:61860},{id:1226,name:"Alaine Bergesen",country:{name:"Peru",code:"pe"},company:"Hispanic Magazine",date:"2017-08-10",status:"qualified",verified:!0,activity:34,representative:{name:"Anna Fali",image:"annafali.png"},balance:76679},{id:1227,name:"Earleen Mai",country:{name:"Italy",code:"it"},company:"Little Sheet Metal Co",date:"2016-06-22",status:"negotiation",verified:!0,activity:38,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:14959},{id:1228,name:"Leonida Gobern",country:{name:"Cuba",code:"cu"},company:"Holmes, Armstead J Esq",date:"2020-02-24",status:"renewal",verified:!0,activity:96,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:14174},{id:1229,name:"Ressie Auffrey",country:{name:"Japan",code:"jp"},company:"Faw, James C Cpa",date:"2016-10-21",status:"negotiation",verified:!1,activity:28,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:80328},{id:1230,name:"Justine Mugnolo",country:{name:"Argentina",code:"ar"},company:"Evans Rule Company",date:"2016-02-21",status:"negotiation",verified:!0,activity:83,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:56392},{id:1231,name:"Eladia Saulter",country:{name:"Switzerland",code:"ch"},company:"Tyee Productions Inc",date:"2016-03-10",status:"new",verified:!0,activity:16,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:17176},{id:1232,name:"Chaya Malvin",country:{name:"Cuba",code:"cu"},company:"Dunnells & Duvall",date:"2016-07-22",status:"renewal",verified:!0,activity:12,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:90141},{id:1233,name:"Gwenn Suffield",country:{name:"Austria",code:"at"},company:"Deltam Systems Inc",date:"2019-06-23",status:"qualified",verified:!0,activity:67,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:38187},{id:1234,name:"Salena Karpel",country:{name:"Puerto Rico",code:"pr"},company:"Hammill Mfg Co",date:"2016-08-02",status:"renewal",verified:!0,activity:0,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:35596},{id:1235,name:"Yoko Fishburne",country:{name:"Croatia",code:"hr"},company:"Sams Corner Store",date:"2017-08-06",status:"unqualified",verified:!0,activity:73,representative:{name:"Anna Fali",image:"annafali.png"},balance:73926},{id:1236,name:"Taryn Moyd",country:{name:"Serbia",code:"rs"},company:"Siskin, Mark J Esq",date:"2016-12-18",status:"negotiation",verified:!0,activity:57,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:38375},{id:1237,name:"Katina Polidori",country:{name:"Nigeria",code:"ng"},company:"Cape & Associates Real Estate",date:"2016-08-25",status:"unqualified",verified:!0,activity:37,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:35932},{id:1238,name:"Rickie Plumer",country:{name:"Turkey",code:"tr"},company:"Merrill Lynch",date:"2018-11-04",status:"unqualified",verified:!0,activity:71,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:28331},{id:1239,name:"Alex Loader",country:{name:"Italy",code:"it"},company:"Sublett, Scott Esq",date:"2016-01-07",status:"unqualified",verified:!1,activity:22,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:33549},{id:1240,name:"Lashon Vizarro",country:{name:"Ecuador",code:"ec"},company:"Sentry Signs",date:"2019-08-02",status:"negotiation",verified:!0,activity:46,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:63860},{id:1241,name:"Lauran Burnard",country:{name:"Czech Republic",code:"cz"},company:"Professionals Unlimited",date:"2016-04-27",status:"renewal",verified:!0,activity:30,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:34992},{id:1242,name:"Ceola Setter",country:{name:"Taiwan",code:"tw"},company:"Southern Steel Shelving Co",date:"2017-05-13",status:"qualified",verified:!0,activity:43,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:97068},{id:1243,name:"My Rantanen",country:{name:"Philippines",code:"ph"},company:"Bosco, Paul J",date:"2017-09-11",status:"negotiation",verified:!0,activity:60,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:2316},{id:1244,name:"Lorrine Worlds",country:{name:"Argentina",code:"ar"},company:"Longo, Nicholas J Esq",date:"2018-05-10",status:"renewal",verified:!0,activity:51,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:89374},{id:1245,name:"Peggie Sturiale",country:{name:"Malaysia",code:"my"},company:"Henry County Middle School",date:"2019-11-03",status:"renewal",verified:!0,activity:41,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:51152},{id:1246,name:"Marvel Raymo",country:{name:"Belgium",code:"be"},company:"Edison Supply & Equipment Co",date:"2016-03-08",status:"renewal",verified:!0,activity:9,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:39848},{id:1247,name:"Daron Dinos",country:{name:"Hungary",code:"hu"},company:"Wolf, Warren R Esq",date:"2016-03-25",status:"unqualified",verified:!0,activity:30,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:35060},{id:1248,name:"An Fritz",country:{name:"Netherlands",code:"nl"},company:"Linguistic Systems Inc",date:"2017-08-04",status:"negotiation",verified:!0,activity:86,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:23037},{id:1249,name:"Portia Stimmel",country:{name:"Australia",code:"au"},company:"Peace Christian Center",date:"2020-01-13",status:"qualified",verified:!0,activity:30,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:35637},{id:1250,name:"Rhea Aredondo",country:{name:"Greece",code:"gr"},company:"Double B Foods Inc",date:"2016-06-19",status:"qualified",verified:!0,activity:68,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:70379},{id:1251,name:"Benedict Sama",country:{name:"Israel",code:"il"},company:"Alexander & Alexander Inc",date:"2018-08-18",status:"negotiation",verified:!0,activity:79,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:99271},{id:1252,name:"Alyce Arias",country:{name:"Egypt",code:"eg"},company:"Fairbanks Scales",date:"2018-09-14",status:"new",verified:!0,activity:77,representative:{name:"Anna Fali",image:"annafali.png"},balance:69658},{id:1253,name:"Heike Berganza",country:{name:"Bulgaria",code:"bg"},company:"Cali Sportswear Cutting Dept",date:"2019-01-21",status:"unqualified",verified:!0,activity:95,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:78159},{id:1254,name:"Carey Dopico",country:{name:"Saudi Arabia",code:"sa"},company:"Garofani, John Esq",date:"2020-05-25",status:"negotiation",verified:!0,activity:35,representative:{name:"Anna Fali",image:"annafali.png"},balance:84097},{id:1255,name:"Dottie Hellickson",country:{name:"Chile",code:"cl"},company:"Thompson Fabricating Co",date:"2016-02-12",status:"qualified",verified:!0,activity:7,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:54606},{id:1256,name:"Deandrea Hughey",country:{name:"South Africa",code:"za"},company:"Century 21 Krall Real Estate",date:"2018-09-26",status:"unqualified",verified:!0,activity:96,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:2730},{id:1257,name:"Kimberlie Duenas",country:{name:"Bulgaria",code:"bg"},company:"Mid Contntl Rlty & Prop Mgmt",date:"2015-07-27",status:"qualified",verified:!0,activity:96,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:71836},{id:1258,name:"Martina Staback",country:{name:"Luxembourg",code:"lu"},company:"Ace Signs Inc",date:"2017-02-14",status:"new",verified:!0,activity:47,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:37044},{id:1259,name:"Skye Fillingim",country:{name:"Belgium",code:"be"},company:"Rodeway Inn",date:"2017-02-12",status:"new",verified:!0,activity:86,representative:{name:"Anna Fali",image:"annafali.png"},balance:5990},{id:1260,name:"Jade Farrar",country:{name:"Mexico",code:"mx"},company:"Bonnet & Daughter",date:"2017-02-23",status:"new",verified:!0,activity:73,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:7878},{id:1261,name:"Charlene Hamilton",country:{name:"India",code:"in"},company:"Oshins & Gibbons",date:"2017-09-23",status:"unqualified",verified:!0,activity:32,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:38077},{id:1262,name:"Geoffrey Acey",country:{name:"Hong Kong",code:"hk"},company:"Price Business Services",date:"2019-10-11",status:"negotiation",verified:!0,activity:98,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:24537},{id:1263,name:"Stevie Westerbeck",country:{name:"Lithuania",code:"lt"},company:"Wise, Dennis W Md",date:"2017-08-01",status:"renewal",verified:!0,activity:57,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:19164},{id:1264,name:"Pamella Fortino",country:{name:"Panama",code:"pa"},company:"Super 8 Motel",date:"2018-09-03",status:"new",verified:!0,activity:100,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:21880},{id:1265,name:"Harrison Haufler",country:{name:"Malaysia",code:"my"},company:"John Wagner Associates",date:"2016-08-25",status:"qualified",verified:!0,activity:85,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:14975},{id:1266,name:"Johnna Engelberg",country:{name:"Thailand",code:"th"},company:"Thrifty Oil Co",date:"2019-06-02",status:"renewal",verified:!0,activity:1,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:28001},{id:1267,name:"Buddy Cloney",country:{name:"Hungary",code:"hu"},company:"Larkfield Photo",date:"2020-05-14",status:"qualified",verified:!0,activity:9,representative:{name:"Anna Fali",image:"annafali.png"},balance:44811},{id:1268,name:"Dalene Riden",country:{name:"Bolivia",code:"bo"},company:"Silverman Planetarium",date:"2019-08-23",status:"renewal",verified:!0,activity:31,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:70963},{id:1269,name:"Jerry Zurcher",country:{name:"Ukraine",code:"ua"},company:"J & F Lumber",date:"2015-05-11",status:"renewal",verified:!0,activity:52,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:27808},{id:1270,name:"Haydee Denooyer",country:{name:"Ivory Coast",code:"ci"},company:"Cleaning Station Inc",date:"2016-04-17",status:"qualified",verified:!0,activity:80,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:41216},{id:1271,name:"Joseph Cryer",country:{name:"Philippines",code:"ph"},company:"Ames Stationers",date:"2019-11-26",status:"qualified",verified:!0,activity:53,representative:{name:"Anna Fali",image:"annafali.png"},balance:8819},{id:1272,name:"Deonna Kippley",country:{name:"South Africa",code:"za"},company:"Midas Muffler Shops",date:"2017-08-26",status:"qualified",verified:!0,activity:52,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:77610},{id:1273,name:"Raymon Calvaresi",country:{name:"South Africa",code:"za"},company:"Seaboard Securities Inc",date:"2017-07-09",status:"qualified",verified:!0,activity:45,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:80612},{id:1274,name:"Alecia Bubash",country:{name:"Poland",code:"pl"},company:"Petersen, James E Esq",date:"2016-05-19",status:"new",verified:!1,activity:28,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:45311},{id:1275,name:"Ma Layous",country:{name:"Latvia",code:"lv"},company:"Development Authority",date:"2016-02-11",status:"qualified",verified:!1,activity:2,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:88737},{id:1276,name:"Detra Coyier",country:{name:"Ivory Coast",code:"ci"},company:"Schott Fiber Optics Inc",date:"2019-06-05",status:"negotiation",verified:!0,activity:95,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:13224},{id:1277,name:"Terrilyn Rodeigues",country:{name:"Thailand",code:"th"},company:"Stuart J Agins",date:"2016-08-04",status:"renewal",verified:!0,activity:35,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:64656},{id:1278,name:"Salome Lacovara",country:{name:"Romania",code:"ro"},company:"Mitsumi Electronics Corp",date:"2015-06-05",status:"unqualified",verified:!0,activity:78,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:61947},{id:1279,name:"Garry Keetch",country:{name:"Luxembourg",code:"lu"},company:"Italian Express Franchise Corp",date:"2015-06-20",status:"unqualified",verified:!0,activity:86,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:6380},{id:1280,name:"Matthew Neither",country:{name:"United Kingdom",code:"gb"},company:"American Council On Sci & Hlth",date:"2018-06-24",status:"qualified",verified:!0,activity:4,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:80112},{id:1281,name:"Theodora Restrepo",country:{name:"Paraguay",code:"py"},company:"Kleri, Patricia S Esq",date:"2017-08-15",status:"renewal",verified:!0,activity:66,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:42038},{id:1282,name:"Noah Kalafatis",country:{name:"Saudi Arabia",code:"sa"},company:"Twiggs Abrams Blanchard",date:"2020-06-24",status:"negotiation",verified:!0,activity:35,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:36052},{id:1283,name:"Carmen Sweigard",country:{name:"Bolivia",code:"bo"},company:"Maui Research & Technology Pk",date:"2019-08-08",status:"new",verified:!0,activity:96,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:51660},{id:1284,name:"Lavonda Hengel",country:{name:"Hungary",code:"hu"},company:"Bradley Nameplate Corp",date:"2019-10-25",status:"negotiation",verified:!0,activity:48,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:56142},{id:1285,name:"Junita Stoltzman",country:{name:"Turkey",code:"tr"},company:"Geonex Martel Inc",date:"2015-03-19",status:"negotiation",verified:!0,activity:64,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:21631},{id:1286,name:"Herminia Nicolozakes",country:{name:"Venezuela",code:"ve"},company:"Sea Island Div Of Fstr Ind Inc",date:"2019-09-09",status:"negotiation",verified:!0,activity:0,representative:{name:"Anna Fali",image:"annafali.png"},balance:59171},{id:1287,name:"Casie Good",country:{name:"Japan",code:"jp"},company:"Papay, Debbie J Esq",date:"2016-11-27",status:"new",verified:!0,activity:87,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:97858},{id:1288,name:"Reena Maisto",country:{name:"Panama",code:"pa"},company:"Lane Promotions",date:"2016-08-22",status:"new",verified:!0,activity:16,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:90388},{id:1289,name:"Mirta Mallett",country:{name:"Singapore",code:"sg"},company:"Stephen Kennerly Archts Inc Pc",date:"2017-11-27",status:"renewal",verified:!0,activity:14,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:68632},{id:1290,name:"Cathrine Pontoriero",country:{name:"Finland",code:"fi"},company:"Business Systems Of Wis Inc",date:"2020-02-07",status:"negotiation",verified:!0,activity:58,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:95552},{id:1291,name:"Filiberto Tawil",country:{name:"Panama",code:"pa"},company:"Flash, Elena Salerno Esq",date:"2018-01-28",status:"negotiation",verified:!0,activity:0,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:39725},{id:1292,name:"Raul Upthegrove",country:{name:"Panama",code:"pa"},company:"Neeley, Gregory W Esq",date:"2019-11-16",status:"renewal",verified:!0,activity:59,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:62251},{id:1293,name:"Sarah Candlish",country:{name:"Hong Kong",code:"hk"},company:"Alabama Educational Tv Comm",date:"2019-06-09",status:"negotiation",verified:!0,activity:30,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:73523},{id:1294,name:"Lucy Treston",country:{name:"Jamaica",code:"jm"},company:"Franz Inc",date:"2017-02-07",status:"negotiation",verified:!0,activity:59,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:41331},{id:1295,name:"Judy Aquas",country:{name:"Romania",code:"ro"},company:"Plantation Restaurant",date:"2020-09-14",status:"renewal",verified:!0,activity:86,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:24208},{id:1296,name:"Yvonne Tjepkema",country:{name:"United Kingdom",code:"gb"},company:"Radio Communications Co",date:"2017-01-06",status:"renewal",verified:!0,activity:33,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:56409},{id:1297,name:"Kayleigh Lace",country:{name:"Denmark",code:"dk"},company:"Dentalaw Divsn Hlth Care",date:"2019-11-04",status:"negotiation",verified:!0,activity:70,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:70025},{id:1298,name:"Felix Hirpara",country:{name:"Panama",code:"pa"},company:"American Speedy Printing Ctrs",date:"2015-03-13",status:"new",verified:!0,activity:8,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:88115},{id:1299,name:"Tresa Sweely",country:{name:"Germany",code:"de"},company:"Grayson, Grant S Esq",date:"2019-12-22",status:"negotiation",verified:!0,activity:22,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:69703},{id:1300,name:"Kristeen Turinetti",country:{name:"Burkina Faso",code:"bf"},company:"Jeanerette Middle School",date:"2017-09-28",status:"new",verified:!0,activity:67,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:10718},{id:1301,name:"Jenelle Regusters",country:{name:"Hungary",code:"hu"},company:"Haavisto, Brian F Esq",date:"2019-07-27",status:"qualified",verified:!0,activity:13,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:29825},{id:1302,name:"Renea Monterrubio",country:{name:"Greece",code:"gr"},company:"Wmmt Radio Station",date:"2016-03-28",status:"negotiation",verified:!0,activity:73,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:90351},{id:1303,name:"Olive Matuszak",country:{name:"Germany",code:"de"},company:"Colony Paints Sales Ofc & Plnt",date:"2018-04-15",status:"unqualified",verified:!0,activity:70,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:75682},{id:1304,name:"Ligia Reiber",country:{name:"Cameroon",code:"cm"},company:"Floral Expressions",date:"2017-02-02",status:"negotiation",verified:!0,activity:51,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:74935},{id:1305,name:"Christiane Eschberger",country:{name:"Romania",code:"ro"},company:"Casco Services Inc",date:"2018-03-27",status:"unqualified",verified:!0,activity:81,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:5254},{id:1306,name:"Goldie Schirpke",country:{name:"Paraguay",code:"py"},company:"Reuter, Arthur C Jr",date:"2015-04-21",status:"renewal",verified:!0,activity:8,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:37306},{id:1307,name:"Loreta Timenez",country:{name:"Burkina Faso",code:"bf"},company:"Kaminski, Katherine Andritsaki",date:"2015-07-17",status:"negotiation",verified:!0,activity:29,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:70520},{id:1308,name:"Fabiola Hauenstein",country:{name:"Czech Republic",code:"cz"},company:"Sidewinder Products Corp",date:"2015-12-12",status:"renewal",verified:!0,activity:42,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:74510},{id:1309,name:"Amie Perigo",country:{name:"Russia",code:"ru"},company:"General Foam Corporation",date:"2016-06-13",status:"new",verified:!0,activity:55,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:74410},{id:1310,name:"Raina Brachle",country:{name:"Greece",code:"gr"},company:"Ikg Borden Divsn Harsco Corp",date:"2016-11-28",status:"negotiation",verified:!0,activity:12,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:56116},{id:1311,name:"Erinn Canlas",country:{name:"United Kingdom",code:"gb"},company:"Anchor Computer Inc",date:"2018-12-08",status:"negotiation",verified:!0,activity:89,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:46518},{id:1312,name:"Cherry Lietz",country:{name:"Bulgaria",code:"bg"},company:"Sebring & Co",date:"2017-11-04",status:"qualified",verified:!0,activity:22,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:92213},{id:1313,name:"Kattie Vonasek",country:{name:"Austria",code:"at"},company:"H A C Farm Lines Co Optv Assoc",date:"2017-02-17",status:"negotiation",verified:!0,activity:58,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:6405},{id:1314,name:"Lilli Scriven",country:{name:"Egypt",code:"eg"},company:"Hunter, John J Esq",date:"2017-04-15",status:"qualified",verified:!0,activity:79,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:92900},{id:1315,name:"Whitley Tomasulo",country:{name:"Qatar",code:"qa"},company:"Freehold Fence Co",date:"2017-11-16",status:"qualified",verified:!0,activity:6,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:86727},{id:1316,name:"Barbra Adkin",country:{name:"Nigeria",code:"ng"},company:"Binswanger",date:"2019-07-24",status:"qualified",verified:!0,activity:64,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:48040},{id:1317,name:"Hermila Thyberg",country:{name:"Argentina",code:"ar"},company:"Chilton Malting Co",date:"2016-11-05",status:"qualified",verified:!0,activity:57,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:24026},{id:1318,name:"Jesusita Flister",country:{name:"Ukraine",code:"ua"},company:"Schoen, Edward J Jr",date:"2017-03-03",status:"negotiation",verified:!0,activity:29,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:76388},{id:1319,name:"Caitlin Julia",country:{name:"Israel",code:"il"},company:"Helderman, Seymour Cpa",date:"2018-03-13",status:"renewal",verified:!0,activity:19,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:89068},{id:1320,name:"Roosevelt Hoffis",country:{name:"Puerto Rico",code:"pr"},company:"Denbrook, Myron",date:"2019-04-14",status:"new",verified:!0,activity:49,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:12727},{id:1321,name:"Helaine Halter",country:{name:"Estonia",code:"ee"},company:"Lippitt, Mike",date:"2019-09-28",status:"renewal",verified:!0,activity:62,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:83411},{id:1322,name:"Lorean Martabano",country:{name:"Slovakia",code:"sk"},company:"Hiram, Hogg P Esq",date:"2017-03-23",status:"negotiation",verified:!0,activity:8,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:44242},{id:1323,name:"France Buzick",country:{name:"Nigeria",code:"ng"},company:"In Travel Agency",date:"2016-12-14",status:"renewal",verified:!0,activity:22,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:5644},{id:1324,name:"Justine Ferrario",country:{name:"Ukraine",code:"ua"},company:"Newhart Foods Inc",date:"2015-09-07",status:"unqualified",verified:!0,activity:7,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:29321},{id:1325,name:"Adelina Nabours",country:{name:"Mexico",code:"mx"},company:"Courtyard By Marriott",date:"2018-05-26",status:"renewal",verified:!0,activity:59,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:13353},{id:1326,name:"Derick Dhamer",country:{name:"Hungary",code:"hu"},company:"Studer, Eugene A Esq",date:"2020-07-04",status:"new",verified:!0,activity:72,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:53454},{id:1327,name:"Jerry Dallen",country:{name:"Egypt",code:"eg"},company:"Seashore Supply Co Waretown",date:"2015-10-23",status:"renewal",verified:!1,activity:21,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:30074},{id:1328,name:"Leota Ragel",country:{name:"Qatar",code:"qa"},company:"Mayar Silk Inc",date:"2019-06-15",status:"negotiation",verified:!0,activity:74,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:36310},{id:1329,name:"Jutta Amyot",country:{name:"Cameroon",code:"cm"},company:"National Medical Excess Corp",date:"2019-09-01",status:"negotiation",verified:!0,activity:8,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:27563},{id:1330,name:"Aja Gehrett",country:{name:"Sweden",code:"se"},company:"Stero Company",date:"2018-01-28",status:"qualified",verified:!0,activity:46,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:45163},{id:1331,name:"Kirk Herritt",country:{name:"Morocco",code:"ma"},company:"Hasting, H Duane Esq",date:"2018-10-24",status:"renewal",verified:!1,activity:2,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:52970},{id:1332,name:"Leonora Mauson",country:{name:"Hong Kong",code:"hk"},company:"Insty Prints",date:"2019-02-02",status:"negotiation",verified:!0,activity:8,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:18922},{id:1333,name:"Winfred Brucato",country:{name:"Austria",code:"at"},company:"Glenridge Manor Mobile Home Pk",date:"2019-08-16",status:"renewal",verified:!0,activity:8,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:59632},{id:1334,name:"Tarra Nachor",country:{name:"Panama",code:"pa"},company:"Circuit Solution Inc",date:"2019-07-10",status:"negotiation",verified:!0,activity:88,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:6733},{id:1335,name:"Corinne Loder",country:{name:"Brazil",code:"br"},company:"Local Office",date:"2016-05-21",status:"negotiation",verified:!0,activity:85,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:22704},{id:1336,name:"Dulce Labreche",country:{name:"South Africa",code:"za"},company:"Lee Kilkelly Paulson & Kabaker",date:"2019-11-10",status:"qualified",verified:!0,activity:24,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:82613},{id:1337,name:"Kate Keneipp",country:{name:"Latvia",code:"lv"},company:"Davis, Maxon R Esq",date:"2019-06-20",status:"negotiation",verified:!0,activity:44,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:97960},{id:1338,name:"Kaitlyn Ogg",country:{name:"Tunisia",code:"tn"},company:"Garrison, Paul E Esq",date:"2019-08-01",status:"negotiation",verified:!0,activity:91,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:63123},{id:1339,name:"Sherita Saras",country:{name:"Taiwan",code:"tw"},company:"Black History Resource Center",date:"2017-06-09",status:"unqualified",verified:!0,activity:79,representative:{name:"Anna Fali",image:"annafali.png"},balance:38090},{id:1340,name:"Lashawnda Stuer",country:{name:"Indonesia",code:"id"},company:"Rodriguez, J Christopher Esq",date:"2018-01-08",status:"negotiation",verified:!0,activity:6,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:58826},{id:1341,name:"Ernest Syrop",country:{name:"Jamaica",code:"jm"},company:"Grant Family Health Center",date:"2016-10-06",status:"unqualified",verified:!0,activity:90,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:22419},{id:1342,name:"Nobuko Halsey",country:{name:"Argentina",code:"ar"},company:"Goeman Wood Products Inc",date:"2019-01-02",status:"unqualified",verified:!0,activity:72,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:86006},{id:1343,name:"Lavonna Wolny",country:{name:"Czech Republic",code:"cz"},company:"Linhares, Kenneth A Esq",date:"2019-03-09",status:"negotiation",verified:!0,activity:77,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:40641},{id:1344,name:"Lashaunda Lizama",country:{name:"Ecuador",code:"ec"},company:"Earnhardt Printing",date:"2016-02-16",status:"negotiation",verified:!0,activity:76,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:73493},{id:1345,name:"Mariann Bilden",country:{name:"Argentina",code:"ar"},company:"H P G Industrys Inc",date:"2019-12-15",status:"negotiation",verified:!0,activity:20,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:87704},{id:1346,name:"Helene Rodenberger",country:{name:"Bolivia",code:"bo"},company:"Bailey Transportation Prod Inc",date:"2016-09-22",status:"unqualified",verified:!0,activity:26,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:19662},{id:1347,name:"Roselle Estell",country:{name:"Hungary",code:"hu"},company:"Mcglynn Bliss Pc",date:"2016-11-25",status:"negotiation",verified:!0,activity:80,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:80534},{id:1348,name:"Samira Heintzman",country:{name:"Vietnam",code:"vn"},company:"Mutual Fish Co",date:"2019-11-26",status:"qualified",verified:!0,activity:70,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:19473},{id:1349,name:"Margart Meisel",country:{name:"Serbia",code:"rs"},company:"Yeates, Arthur L Aia",date:"2019-10-27",status:"negotiation",verified:!0,activity:77,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:89796},{id:1350,name:"Kristofer Bennick",country:{name:"Tunisia",code:"tn"},company:"Logan, Ronald J Esq",date:"2016-02-13",status:"negotiation",verified:!0,activity:5,representative:{name:"Anna Fali",image:"annafali.png"},balance:54429},{id:1351,name:"Weldon Acuff",country:{name:"Estonia",code:"ee"},company:"Advantage Martgage Company",date:"2019-10-22",status:"qualified",verified:!0,activity:38,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:16134},{id:1352,name:"Shalon Shadrick",country:{name:"Iceland",code:"is"},company:"Germer And Gertz Llp",date:"2015-01-03",status:"negotiation",verified:!0,activity:66,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:9173},{id:1353,name:"Denise Patak",country:{name:"Uruguay",code:"uy"},company:"Spence Law Offices",date:"2016-11-03",status:"qualified",verified:!0,activity:77,representative:{name:"Anna Fali",image:"annafali.png"},balance:42857},{id:1354,name:"Louvenia Beech",country:{name:"Ecuador",code:"ec"},company:"John Ortiz Nts Therapy Center",date:"2016-04-11",status:"renewal",verified:!0,activity:62,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:54300},{id:1355,name:"Audry Yaw",country:{name:"Portugal",code:"pt"},company:"Mike Uchrin Htg & Air Cond Inc",date:"2017-11-22",status:"unqualified",verified:!0,activity:12,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:94652},{id:1356,name:"Kristel Ehmann",country:{name:"Israel",code:"il"},company:"Mccoy, Joy Reynolds Esq",date:"2016-06-23",status:"new",verified:!0,activity:67,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:88295},{id:1357,name:"Vincenza Zepp",country:{name:"Pakistan",code:"pk"},company:"Kbor 1600 Am",date:"2016-01-04",status:"qualified",verified:!0,activity:25,representative:{name:"Anna Fali",image:"annafali.png"},balance:92710},{id:1358,name:"Elouise Gwalthney",country:{name:"Netherlands",code:"nl"},company:"Quality Inn Northwest",date:"2016-04-05",status:"negotiation",verified:!0,activity:14,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:25145},{id:1359,name:"Venita Maillard",country:{name:"Poland",code:"pl"},company:"Wallace Church Assoc Inc",date:"2016-03-23",status:"negotiation",verified:!0,activity:69,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:61630},{id:1360,name:"Kasandra Semidey",country:{name:"Indonesia",code:"id"},company:"Can Tron",date:"2015-09-03",status:"new",verified:!0,activity:25,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:66134},{id:1361,name:"Xochitl Discipio",country:{name:"Slovakia",code:"sk"},company:"Ravaal Enterprises Inc",date:"2016-11-14",status:"qualified",verified:!0,activity:47,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:14822},{id:1362,name:"Maile Linahan",country:{name:"Nigeria",code:"ng"},company:"Thompson Steel Company Inc",date:"2016-07-24",status:"new",verified:!0,activity:0,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:17759},{id:1363,name:"Krissy Rauser",country:{name:"Thailand",code:"th"},company:"Anderson, Mark A Esq",date:"2020-03-06",status:"renewal",verified:!0,activity:33,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:14922},{id:1364,name:"Pete Dubaldi",country:{name:"Bolivia",code:"bo"},company:"Womack & Galich",date:"2015-11-22",status:"unqualified",verified:!0,activity:31,representative:{name:"Anna Fali",image:"annafali.png"},balance:96575},{id:1365,name:"Linn Paa",country:{name:"Bolivia",code:"bo"},company:"Valerie & Company",date:"2015-08-12",status:"unqualified",verified:!0,activity:26,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:5847},{id:1366,name:"Paris Wide",country:{name:"Uruguay",code:"uy"},company:"Gehring Pumps Inc",date:"2018-10-21",status:"negotiation",verified:!0,activity:90,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:22929},{id:1367,name:"Wynell Dorshorst",country:{name:"Romania",code:"ro"},company:"Haehnel, Craig W Esq",date:"2018-05-10",status:"new",verified:!0,activity:60,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:31837},{id:1368,name:"Quentin Birkner",country:{name:"Senegal",code:"sn"},company:"Spoor Behrins Campbell & Young",date:"2019-02-03",status:"unqualified",verified:!0,activity:68,representative:{name:"Anna Fali",image:"annafali.png"},balance:27095},{id:1369,name:"Regenia Kannady",country:{name:"Portugal",code:"pt"},company:"Ken Jeter Store Equipment Inc",date:"2018-07-13",status:"new",verified:!0,activity:74,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:43696},{id:1370,name:"Sheron Louissant",country:{name:"France",code:"fr"},company:"Potter, Brenda J Cpa",date:"2017-01-04",status:"qualified",verified:!0,activity:86,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:79897},{id:1371,name:"Izetta Funnell",country:{name:"Hong Kong",code:"hk"},company:"Baird Kurtz & Dobson",date:"2019-11-05",status:"new",verified:!0,activity:67,representative:{name:"Anna Fali",image:"annafali.png"},balance:27264},{id:1372,name:"Rodolfo Butzen",country:{name:"Taiwan",code:"tw"},company:"Minor, Cynthia A Esq",date:"2020-09-25",status:"negotiation",verified:!0,activity:17,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:16490},{id:1373,name:"Zona Colla",country:{name:"Switzerland",code:"ch"},company:"Solove, Robert A Esq",date:"2020-10-08",status:"negotiation",verified:!0,activity:64,representative:{name:"Anna Fali",image:"annafali.png"},balance:21990},{id:1374,name:"Serina Zagen",country:{name:"Paraguay",code:"py"},company:"Mark Ii Imports Inc",date:"2018-07-14",status:"negotiation",verified:!0,activity:46,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:11918},{id:1375,name:"Paz Sahagun",country:{name:"Colombia",code:"co"},company:"White Sign Div Ctrl Equip Co",date:"2018-03-23",status:"negotiation",verified:!0,activity:49,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:13268},{id:1376,name:"Markus Lukasik",country:{name:"Burkina Faso",code:"bf"},company:"M & M Store Fixtures Co Inc",date:"2018-03-21",status:"negotiation",verified:!0,activity:23,representative:{name:"Anna Fali",image:"annafali.png"},balance:15941},{id:1377,name:"Jaclyn Bachman",country:{name:"Slovakia",code:"sk"},company:"Judah Caster & Wheel Co",date:"2020-10-20",status:"new",verified:!0,activity:10,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:53132},{id:1378,name:"Cyril Daufeldt",country:{name:"India",code:"in"},company:"Galaxy International Inc",date:"2019-02-11",status:"qualified",verified:!0,activity:79,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:47531},{id:1379,name:"Gayla Schnitzler",country:{name:"Brazil",code:"br"},company:"Sigma Corp Of America",date:"2017-09-15",status:"new",verified:!0,activity:14,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:88950},{id:1380,name:"Erick Nievas",country:{name:"Argentina",code:"ar"},company:"Soward, Anne Esq",date:"2018-10-07",status:"negotiation",verified:!1,activity:28,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:88497},{id:1381,name:"Jennie Drymon",country:{name:"Egypt",code:"eg"},company:"Osborne, Michelle M Esq",date:"2016-09-14",status:"negotiation",verified:!0,activity:80,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:60634},{id:1382,name:"Mitsue Scipione",country:{name:"Ecuador",code:"ec"},company:"Students In Free Entrprs Natl",date:"2019-07-28",status:"qualified",verified:!0,activity:24,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:21164},{id:1383,name:"Ciara Ventura",country:{name:"Sweden",code:"se"},company:"Johnson, Robert M Esq",date:"2018-04-02",status:"renewal",verified:!1,activity:24,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:83645},{id:1384,name:"Galen Cantres",country:{name:"Saudi Arabia",code:"sa"},company:"Del Charro Apartments",date:"2020-02-16",status:"unqualified",verified:!0,activity:61,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:32433},{id:1385,name:"Truman Feichtner",country:{name:"Iceland",code:"is"},company:"Legal Search Inc",date:"2019-10-16",status:"renewal",verified:!0,activity:98,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:96983},{id:1386,name:"Gail Kitty",country:{name:"Pakistan",code:"pk"},company:"Service Supply Co Inc",date:"2020-01-15",status:"negotiation",verified:!0,activity:67,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:72211},{id:1387,name:"Dalene Schoeneck",country:{name:"Latvia",code:"lv"},company:"Sameshima, Douglas J Esq",date:"2019-11-27",status:"negotiation",verified:!0,activity:85,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:40262},{id:1388,name:"Gertude Witten",country:{name:"Morocco",code:"ma"},company:"Thompson, John Randolph Jr",date:"2017-08-13",status:"negotiation",verified:!0,activity:40,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:91139},{id:1389,name:"Lizbeth Kohl",country:{name:"Serbia",code:"rs"},company:"E T Balancing Co Inc",date:"2019-04-20",status:"qualified",verified:!0,activity:57,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:79659},{id:1390,name:"Glenn Berray",country:{name:"Poland",code:"pl"},company:"Griswold, John E Esq",date:"2017-08-13",status:"negotiation",verified:!0,activity:68,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:93576},{id:1391,name:"Lashandra Klang",country:{name:"Bulgaria",code:"bg"},company:"Acqua Group",date:"2016-06-08",status:"negotiation",verified:!0,activity:32,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:93576},{id:1392,name:"Lenna Newville",country:{name:"Venezuela",code:"ve"},company:"Brooks, Morris J Jr",date:"2020-09-12",status:"qualified",verified:!0,activity:82,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:93576},{id:1393,name:"Laurel Pagliuca",country:{name:"Russia",code:"ru"},company:"Printing Images Corp",date:"2017-05-26",status:"unqualified",verified:!0,activity:21,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:2009},{id:1394,name:"Mireya Frerking",country:{name:"Belarus",code:"by"},company:"Roberts Supply Co Inc",date:"2017-04-21",status:"renewal",verified:!0,activity:54,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:35341},{id:1395,name:"Annelle Tagala",country:{name:"Colombia",code:"co"},company:"Vico Products Mfg Co",date:"2017-10-02",status:"negotiation",verified:!0,activity:53,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:13077},{id:1396,name:"Dean Ketelsen",country:{name:"Ivory Coast",code:"ci"},company:"J M Custom Design Millwork",date:"2019-07-25",status:"negotiation",verified:!0,activity:98,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:83423},{id:1397,name:"Levi Munis",country:{name:"Pakistan",code:"pk"},company:"Farrell & Johnson Office Equip",date:"2017-06-24",status:"negotiation",verified:!0,activity:39,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:14350},{id:1398,name:"Sylvie Ryser",country:{name:"India",code:"in"},company:"Millers Market & Deli",date:"2016-02-23",status:"unqualified",verified:!0,activity:89,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:98864},{id:1399,name:"Sharee Maile",country:{name:"Ireland",code:"ie"},company:"Holiday Inn Naperville",date:"2020-07-17",status:"renewal",verified:!0,activity:0,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:29326},{id:1400,name:"Cordelia Storment",country:{name:"Guatemala",code:"gt"},company:"Burrows, Jon H Esq",date:"2020-02-17",status:"negotiation",verified:!0,activity:45,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:81198},{id:1401,name:"Mollie Mcdoniel",country:{name:"Vietnam",code:"vn"},company:"Dock Seal Specialty",date:"2017-08-13",status:"unqualified",verified:!0,activity:59,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:82391},{id:1402,name:"Brett Mccullan",country:{name:"Senegal",code:"sn"},company:"Five Star Limousines Of Tx Inc",date:"2015-05-21",status:"qualified",verified:!0,activity:9,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:48071},{id:1403,name:"Teddy Pedrozo",country:{name:"Burkina Faso",code:"bf"},company:"Barkan, Neal J Esq",date:"2019-02-19",status:"negotiation",verified:!0,activity:38,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:14593},{id:1404,name:"Tasia Andreason",country:{name:"Venezuela",code:"ve"},company:"Campbell, Robert A",date:"2016-03-06",status:"renewal",verified:!0,activity:25,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:8750},{id:1405,name:"Hubert Walthall",country:{name:"Mexico",code:"mx"},company:"Dee, Deanna",date:"2020-12-19",status:"renewal",verified:!0,activity:32,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:39655},{id:1406,name:"Arthur Farrow",country:{name:"Brazil",code:"br"},company:"Young, Timothy L Esq",date:"2019-02-05",status:"negotiation",verified:!0,activity:55,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:71713},{id:1407,name:"Vilma Berlanga",country:{name:"Tunisia",code:"tn"},company:"Wells, D Fred Esq",date:"2016-02-09",status:"unqualified",verified:!1,activity:26,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:81056},{id:1408,name:"Billye Miro",country:{name:"Hungary",code:"hu"},company:"Gray, Francine H Esq",date:"2015-09-05",status:"new",verified:!0,activity:70,representative:{name:"Anna Fali",image:"annafali.png"},balance:34220},{id:1409,name:"Glenna Slayton",country:{name:"Iceland",code:"is"},company:"Toledo Iv Care",date:"2016-03-10",status:"unqualified",verified:!0,activity:86,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:21459},{id:1410,name:"Mitzie Hudnall",country:{name:"Iceland",code:"is"},company:"Cangro Transmission Co",date:"2020-05-04",status:"new",verified:!0,activity:19,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:51281},{id:1411,name:"Bernardine Rodefer",country:{name:"Switzerland",code:"ch"},company:"Sat Poly Inc",date:"2020-10-19",status:"negotiation",verified:!0,activity:69,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:53841},{id:1412,name:"Staci Schmaltz",country:{name:"Iceland",code:"is"},company:"Midwest Contracting & Mfg Inc",date:"2018-03-14",status:"unqualified",verified:!0,activity:81,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:34878},{id:1413,name:"Nichelle Meteer",country:{name:"Denmark",code:"dk"},company:"Print Doctor",date:"2016-09-23",status:"renewal",verified:!0,activity:39,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:85399},{id:1414,name:"Janine Rhoden",country:{name:"Nigeria",code:"ng"},company:"Nordic Group Inc",date:"2018-08-13",status:"qualified",verified:!0,activity:95,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:29237},{id:1415,name:"Ettie Hoopengardner",country:{name:"Switzerland",code:"ch"},company:"Jackson Millwork Co",date:"2017-07-24",status:"renewal",verified:!1,activity:23,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:12179},{id:1416,name:"Eden Jayson",country:{name:"Sweden",code:"se"},company:"Harris Corporation",date:"2018-03-15",status:"renewal",verified:!0,activity:9,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:27840},{id:1417,name:"Lynelle Auber",country:{name:"Netherlands",code:"nl"},company:"United Cerebral Palsy Of Ne Pa",date:"2020-12-11",status:"negotiation",verified:!0,activity:0,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:51958},{id:1418,name:"Merissa Tomblin",country:{name:"Jamaica",code:"jm"},company:"One Day Surgery Center Inc",date:"2018-03-05",status:"new",verified:!0,activity:50,representative:{name:"Anna Fali",image:"annafali.png"},balance:33138},{id:1419,name:"Golda Kaniecki",country:{name:"Burkina Faso",code:"bf"},company:"Calaveras Prospect",date:"2019-04-17",status:"negotiation",verified:!0,activity:91,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:82539},{id:1420,name:"Catarina Gleich",country:{name:"Malaysia",code:"my"},company:"Terk, Robert E Esq",date:"2017-01-26",status:"unqualified",verified:!0,activity:12,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:5619},{id:1421,name:"Virgie Kiel",country:{name:"Latvia",code:"lv"},company:"Cullen, Terrence P Esq",date:"2016-06-28",status:"renewal",verified:!0,activity:89,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:44763},{id:1422,name:"Jolene Ostolaza",country:{name:"Puerto Rico",code:"pr"},company:"Central Die Casting Mfg Co Inc",date:"2016-08-08",status:"negotiation",verified:!0,activity:85,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:97208},{id:1423,name:"Keneth Borgman",country:{name:"Qatar",code:"qa"},company:"Centerline Engineering",date:"2019-02-04",status:"unqualified",verified:!0,activity:41,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:93316},{id:1424,name:"Rikki Nayar",country:{name:"Norway",code:"no"},company:"Targan & Kievit Pa",date:"2017-03-06",status:"negotiation",verified:!0,activity:47,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:23786},{id:1425,name:"Elke Sengbusch",country:{name:"Canada",code:"ca"},company:"Riley Riper Hollin & Colagreco",date:"2019-05-28",status:"renewal",verified:!0,activity:76,representative:{name:"Anna Fali",image:"annafali.png"},balance:98367},{id:1426,name:"Hoa Sarao",country:{name:"Sweden",code:"se"},company:"Kaplan, Joel S Esq",date:"2020-08-13",status:"negotiation",verified:!0,activity:0,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:68683},{id:1427,name:"Trinidad Mcrae",country:{name:"Burkina Faso",code:"bf"},company:"Water Office",date:"2020-12-26",status:"renewal",verified:!0,activity:76,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:85602},{id:1428,name:"Mari Lueckenbach",country:{name:"Cuba",code:"cu"},company:"Westbrooks, Nelson E Jr",date:"2017-10-27",status:"new",verified:!0,activity:34,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:14402},{id:1429,name:"Selma Husser",country:{name:"Morocco",code:"ma"},company:"Armon Communications",date:"2018-02-16",status:"negotiation",verified:!0,activity:84,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:81608},{id:1430,name:"Antione Onofrio",country:{name:"Taiwan",code:"tw"},company:"Jacobs & Gerber Inc",date:"2017-11-07",status:"negotiation",verified:!0,activity:37,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:15573},{id:1431,name:"Luisa Jurney",country:{name:"Canada",code:"ca"},company:"Forest Fire Laboratory",date:"2018-06-12",status:"unqualified",verified:!0,activity:96,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:50121},{id:1432,name:"Clorinda Heimann",country:{name:"Israel",code:"il"},company:"Haughey, Charles Jr",date:"2016-11-03",status:"negotiation",verified:!0,activity:63,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:93911},{id:1433,name:"Dick Wenzinger",country:{name:"Mexico",code:"mx"},company:"Wheaton Plastic Products",date:"2017-04-05",status:"negotiation",verified:!0,activity:92,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:66383},{id:1434,name:"Ahmed Angalich",country:{name:"Australia",code:"au"},company:"Reese Plastics",date:"2018-11-20",status:"unqualified",verified:!0,activity:83,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:89183},{id:1435,name:"Iluminada Ohms",country:{name:"Croatia",code:"hr"},company:"Nazette Marner Good Wendt",date:"2015-08-18",status:"negotiation",verified:!0,activity:66,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:9752},{id:1436,name:"Joanna Leinenbach",country:{name:"Thailand",code:"th"},company:"Levinson Axelrod Wheaton",date:"2016-02-11",status:"negotiation",verified:!0,activity:64,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:2623},{id:1437,name:"Caprice Suell",country:{name:"Algeria",code:"dz"},company:"Egnor, W Dan Esq",date:"2018-07-09",status:"unqualified",verified:!0,activity:99,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:87620},{id:1438,name:"Stephane Myricks",country:{name:"Honduras",code:"hn"},company:"Portland Central Thriftlodge",date:"2018-05-28",status:"renewal",verified:!0,activity:51,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:14625},{id:1439,name:"Quentin Swayze",country:{name:"Tunisia",code:"tn"},company:"Ulbrich Trucking",date:"2019-02-11",status:"negotiation",verified:!0,activity:37,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:39339},{id:1440,name:"Annmarie Castros",country:{name:"Jamaica",code:"jm"},company:"Tipiak Inc",date:"2015-08-24",status:"qualified",verified:!0,activity:46,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:77704},{id:1441,name:"Shonda Greenbush",country:{name:"Costa Rica",code:"cr"},company:"Saint George Well Drilling",date:"2018-06-01",status:"negotiation",verified:!0,activity:16,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:75326},{id:1442,name:"Cecil Lapage",country:{name:"Malaysia",code:"my"},company:"Hawkes, Douglas D",date:"2018-11-09",status:"qualified",verified:!0,activity:43,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:71364},{id:1443,name:"Jeanice Claucherty",country:{name:"Lithuania",code:"lt"},company:"Accurel Systems Intrntl Corp",date:"2016-06-02",status:"qualified",verified:!0,activity:48,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:73360},{id:1444,name:"Josphine Villanueva",country:{name:"Japan",code:"jp"},company:"Santa Cruz Community Internet",date:"2019-11-08",status:"unqualified",verified:!0,activity:39,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:59442},{id:1445,name:"Daniel Perruzza",country:{name:"Malaysia",code:"my"},company:"Gersh & Danielson",date:"2017-09-24",status:"renewal",verified:!0,activity:86,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:84338},{id:1446,name:"Cassi Wildfong",country:{name:"Tunisia",code:"tn"},company:"Cobb, James O Esq",date:"2015-09-08",status:"qualified",verified:!0,activity:85,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:72545},{id:1447,name:"Britt Galam",country:{name:"Poland",code:"pl"},company:"Wheatley Trucking Company",date:"2020-10-26",status:"new",verified:!0,activity:69,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:53307},{id:1448,name:"Adell Lipkin",country:{name:"Saudi Arabia",code:"sa"},company:"Systems Graph Inc Ab Dick Dlr",date:"2017-05-09",status:"unqualified",verified:!0,activity:92,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:12178},{id:1449,name:"Jacqueline Rowling",country:{name:"Qatar",code:"qa"},company:"John Hancock Mutl Life Ins Co",date:"2019-06-28",status:"negotiation",verified:!0,activity:79,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:35576},{id:1450,name:"Lonny Weglarz",country:{name:"Chile",code:"cl"},company:"History Division Of State",date:"2016-08-12",status:"new",verified:!0,activity:49,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:20507},{id:1451,name:"Lonna Diestel",country:{name:"Philippines",code:"ph"},company:"Dimmock, Thomas J Esq",date:"2017-02-10",status:"negotiation",verified:!0,activity:9,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:56415},{id:1452,name:"Cristal Samara",country:{name:"Australia",code:"au"},company:"Intermed Inc",date:"2016-08-17",status:"qualified",verified:!0,activity:99,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:33427},{id:1453,name:"Kenneth Grenet",country:{name:"Croatia",code:"hr"},company:"Bank Of New York",date:"2020-07-24",status:"negotiation",verified:!0,activity:78,representative:{name:"Anna Fali",image:"annafali.png"},balance:44004},{id:1454,name:"Elli Mclaird",country:{name:"Switzerland",code:"ch"},company:"Sportmaster Intrnatl",date:"2017-06-10",status:"qualified",verified:!0,activity:61,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:37227},{id:1455,name:"Alline Jeanty",country:{name:"Denmark",code:"dk"},company:"W W John Holden Inc",date:"2015-12-08",status:"renewal",verified:!0,activity:74,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:44560},{id:1456,name:"Sharika Eanes",country:{name:"Chile",code:"cl"},company:"Maccani & Delp",date:"2018-08-16",status:"qualified",verified:!0,activity:14,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:50922},{id:1457,name:"Nu Mcnease",country:{name:"Pakistan",code:"pk"},company:"Amazonia Film Project",date:"2018-07-03",status:"negotiation",verified:!0,activity:47,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:61262},{id:1458,name:"Daniela Comnick",country:{name:"Tunisia",code:"tn"},company:"Water & Sewer Department",date:"2017-07-07",status:"negotiation",verified:!0,activity:31,representative:{name:"Anna Fali",image:"annafali.png"},balance:13459},{id:1459,name:"Cecilia Colaizzo",country:{name:"Costa Rica",code:"cr"},company:"Switchcraft Inc",date:"2019-06-08",status:"negotiation",verified:!0,activity:21,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:52299},{id:1460,name:"Leslie Threets",country:{name:"Sweden",code:"se"},company:"C W D C Metal Fabricators",date:"2016-11-26",status:"unqualified",verified:!0,activity:50,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:61040},{id:1461,name:"Nan Koppinger",country:{name:"Norway",code:"no"},company:"Shimotani, Grace T",date:"2020-11-15",status:"negotiation",verified:!0,activity:94,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:91297},{id:1462,name:"Izetta Dewar",country:{name:"Cuba",code:"cu"},company:"Lisatoni, Jean Esq",date:"2019-11-22",status:"renewal",verified:!0,activity:41,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:39947},{id:1463,name:"Tegan Arceo",country:{name:"Iceland",code:"is"},company:"Ceramic Tile Sales Inc",date:"2016-08-07",status:"new",verified:!0,activity:79,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:78224},{id:1464,name:"Ruthann Keener",country:{name:"Morocco",code:"ma"},company:"Maiden Craft Inc",date:"2019-04-25",status:"negotiation",verified:!0,activity:43,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:22727},{id:1465,name:"Joni Breland",country:{name:"Uruguay",code:"uy"},company:"Carriage House Cllsn Rpr Inc",date:"2018-07-20",status:"new",verified:!0,activity:18,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:70650},{id:1466,name:"Vi Rentfro",country:{name:"Malaysia",code:"my"},company:"Video Workshop",date:"2018-10-01",status:"negotiation",verified:!0,activity:99,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:45956},{id:1467,name:"Colette Kardas",country:{name:"Honduras",code:"hn"},company:"Fresno Tile Center Inc",date:"2017-08-22",status:"new",verified:!0,activity:14,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:72627},{id:1468,name:"Malcolm Tromblay",country:{name:"Uruguay",code:"uy"},company:"Versatile Sash & Woodwork",date:"2019-11-25",status:"renewal",verified:!0,activity:23,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:80176},{id:1469,name:"Ryan Harnos",country:{name:"Paraguay",code:"py"},company:"Warner Electric Brk & Cltch Co",date:"2019-02-12",status:"qualified",verified:!0,activity:71,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:97227},{id:1470,name:"Jess Chaffins",country:{name:"Belarus",code:"by"},company:"New York Public Library",date:"2017-02-12",status:"qualified",verified:!0,activity:91,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:63121},{id:1471,name:"Sharen Bourbon",country:{name:"Saudi Arabia",code:"sa"},company:"Mccaleb, John A Esq",date:"2017-06-13",status:"renewal",verified:!0,activity:35,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:44726},{id:1472,name:"Nickolas Juvera",country:{name:"Finland",code:"fi"},company:"United Oil Co Inc",date:"2019-01-06",status:"negotiation",verified:!0,activity:14,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:70748},{id:1473,name:"Gary Nunlee",country:{name:"Turkey",code:"tr"},company:"Irving Foot Center",date:"2015-07-22",status:"renewal",verified:!0,activity:72,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:71061},{id:1474,name:"Diane Devreese",country:{name:"Bolivia",code:"bo"},company:"Acme Supply Co",date:"2018-05-13",status:"renewal",verified:!0,activity:78,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:7486},{id:1475,name:"Roslyn Chavous",country:{name:"Israel",code:"il"},company:"Mcrae, James L",date:"2018-03-20",status:"negotiation",verified:!0,activity:45,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:58495},{id:1476,name:"Glory Schieler",country:{name:"Italy",code:"it"},company:"Mcgraths Seafood",date:"2017-05-13",status:"negotiation",verified:!0,activity:34,representative:{name:"Anna Fali",image:"annafali.png"},balance:96252},{id:1477,name:"Rasheeda Sayaphon",country:{name:"Latvia",code:"lv"},company:"Kummerer, J Michael Esq",date:"2017-02-21",status:"negotiation",verified:!0,activity:12,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:71454},{id:1478,name:"Alpha Palaia",country:{name:"Costa Rica",code:"cr"},company:"Stoffer, James M Jr",date:"2017-07-21",status:"renewal",verified:!0,activity:4,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:81894},{id:1479,name:"Refugia Jacobos",country:{name:"China",code:"cn"},company:"North Central Fl Sfty Cncl",date:"2020-11-25",status:"negotiation",verified:!0,activity:18,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:31601},{id:1480,name:"Shawnda Yori",country:{name:"Luxembourg",code:"lu"},company:"Fiorucci Foods Usa Inc",date:"2018-05-09",status:"unqualified",verified:!0,activity:11,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:12090},{id:1481,name:"Mona Delasancha",country:{name:"Hong Kong",code:"hk"},company:"Sign All",date:"2017-10-06",status:"renewal",verified:!0,activity:61,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:24073},{id:1482,name:"Gilma Liukko",country:{name:"Morocco",code:"ma"},company:"Sammys Steak Den",date:"2018-10-06",status:"unqualified",verified:!0,activity:34,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:35129},{id:1483,name:"Janey Gabisi",country:{name:"Israel",code:"il"},company:"Dobscha, Stephen F Esq",date:"2019-05-22",status:"unqualified",verified:!0,activity:38,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:25518},{id:1484,name:"Lili Paskin",country:{name:"Costa Rica",code:"cr"},company:"Morgan Custom Homes",date:"2018-06-11",status:"unqualified",verified:!0,activity:69,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:7300},{id:1485,name:"Loren Asar",country:{name:"Italy",code:"it"},company:"Olsen Payne & Company",date:"2017-12-11",status:"unqualified",verified:!0,activity:16,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:82949},{id:1486,name:"Dorothy Chesterfield",country:{name:"Spain",code:"es"},company:"Cowan & Kelly",date:"2015-08-11",status:"renewal",verified:!0,activity:31,representative:{name:"Anna Fali",image:"annafali.png"},balance:25044},{id:1487,name:"Gail Similton",country:{name:"Malaysia",code:"my"},company:"Johnson, Wes Esq",date:"2016-08-10",status:"qualified",verified:!0,activity:63,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:97553},{id:1488,name:"Catalina Tillotson",country:{name:"Pakistan",code:"pk"},company:"Icn Pharmaceuticals Inc",date:"2018-08-04",status:"negotiation",verified:!0,activity:13,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:38294},{id:1489,name:"Lawrence Lorens",country:{name:"Egypt",code:"eg"},company:"New England Sec Equip Co Inc",date:"2020-04-15",status:"negotiation",verified:!0,activity:82,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:56617},{id:1490,name:"Carlee Boulter",country:{name:"Vietnam",code:"vn"},company:"Tippett, Troy M Ii",date:"2016-09-22",status:"renewal",verified:!0,activity:71,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:76817},{id:1491,name:"Thaddeus Ankeny",country:{name:"Qatar",code:"qa"},company:"Atc Contracting",date:"2015-03-08",status:"unqualified",verified:!0,activity:78,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:80787},{id:1492,name:"Jovita Oles",country:{name:"Sweden",code:"se"},company:"Pagano, Philip G Esq",date:"2019-07-18",status:"negotiation",verified:!0,activity:42,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:4158},{id:1493,name:"Alesia Hixenbaugh",country:{name:"Thailand",code:"th"},company:"Kwikprint",date:"2017-07-24",status:"negotiation",verified:!1,activity:23,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:66993},{id:1494,name:"Lai Harabedian",country:{name:"Serbia",code:"rs"},company:"Buergi & Madden Scale",date:"2018-11-11",status:"new",verified:!0,activity:28,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:53330},{id:1495,name:"Brittni Gillaspie",country:{name:"Senegal",code:"sn"},company:"Inner Label",date:"2019-11-23",status:"renewal",verified:!0,activity:14,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:72342},{id:1496,name:"Raylene Kampa",country:{name:"Belgium",code:"be"},company:"Hermar Inc",date:"2020-04-22",status:"unqualified",verified:!0,activity:65,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:53660},{id:1497,name:"Flo Bookamer",country:{name:"Argentina",code:"ar"},company:"Simonton Howe & Schneider Pc",date:"2020-08-10",status:"unqualified",verified:!0,activity:30,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:44528},{id:1498,name:"Jani Biddy",country:{name:"Switzerland",code:"ch"},company:"Warehouse Office & Paper Prod",date:"2019-11-07",status:"negotiation",verified:!1,activity:20,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:69613},{id:1499,name:"Chauncey Motley",country:{name:"Argentina",code:"ar"},company:"Affiliated With Travelodge",date:"2019-04-23",status:"renewal",verified:!0,activity:42,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:88090}]}getCustomersMini(){return Promise.resolve(this.getData().slice(0,5))}getCustomersSmall(){return Promise.resolve(this.getData().slice(0,10))}getCustomersMedium(){return Promise.resolve(this.getData().slice(0,50))}getCustomersLarge(){return Promise.resolve(this.getData().slice(0,200))}getCustomersXLarge(){return Promise.resolve(this.getData())}getCustomers(s){return this.http.get("https://www.primefaces.org/data/customers",{params:s}).toPromise()}static \u0275fac=function(e){return new(e||t)(mw(L0))};static \u0275prov=yt({token:t,factory:t.\u0275fac})};var pQ=["filter"],hQ=()=>["name","country.name","representative.name","status"],$S=()=>({"min-width":"60rem"}),KS=()=>({"min-width":"12rem"}),mQ=()=>({height:"0.5rem"}),WS=t=>({"font-bold":t});function fQ(t,s){if(t&1){let e=Be();A(0,"div",18)(1,"button",19),we("click",function(){Q(e);let n=M(),a=Gt(4);return X(n.clear(a))}),L(),A(2,"p-iconfield",20)(3,"p-inputicon"),ae(4,"i",21),L(),A(5,"input",22),we("input",function(n){Q(e);let a=M(),u=Gt(4);return X(a.onGlobalFilter(u,n))}),L()()()}}function gQ(t,s){t&1&&(A(0,"div",36)(1,"span",37),ie(2,"Agent Picker"),L()())}function _Q(t,s){if(t&1&&(A(0,"div",39),ae(1,"img",40),A(2,"span"),ie(3),L()()),t&2){let e=s.$implicit;S(),C("src",Es("https://primefaces.org/cdn/primeng/images/demo/avatar/",e.image),Ji)("alt",e.label),S(2),Et(e.name)}}function bQ(t,s){if(t&1){let e=Be();A(0,"p-multiselect",38),we("onChange",function(n){let a=Q(e).filterCallback;return X(a(n.value))}),z(1,_Q,4,4,"ng-template",null,10,ze),L()}if(t&2){let e=s.$implicit,i=M(2);C("ngModel",e)("options",i.representatives)}}function yQ(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=s.$implicit;$("customer-badge status-"+e.value),S(),Et(e.label)}}function vQ(t,s){if(t&1){let e=Be();A(0,"p-select",41),we("onChange",function(n){let a=Q(e).filterCallback;return X(a(n.value))}),z(1,yQ,2,3,"ng-template",null,10,ze),L()}if(t&2){let e=s.$implicit,i=M(2);Lt(Zt(4,KS)),C("ngModel",e)("options",i.statuses)}}function xQ(t,s){if(t&1){let e=Be();A(0,"p-slider",42),we("onSlideEnd",function(n){let a=Q(e).filterCallback;return X(a(n.values))}),L(),A(1,"div",43)(2,"span"),ie(3),L(),A(4,"span"),ie(5),L()()}if(t&2){let e=M(2);Lt(Zt(6,KS)),C("ngModel",e.activityValues)("range",!0),S(3),Et(e.activityValues[0]),S(2),Et(e.activityValues[1])}}function wQ(t,s){t&1&&(A(0,"tr")(1,"th",23)(2,"div",24),ie(3," Name "),ae(4,"p-columnFilter",25),L()(),A(5,"th",23)(6,"div",24),ie(7," Country "),ae(8,"p-columnFilter",26),L()(),A(9,"th",27)(10,"div",24),ie(11," Agent "),A(12,"p-columnFilter",28),z(13,gQ,3,0,"ng-template",null,2,ze)(15,bQ,3,2,"ng-template",null,9,ze),L()()(),A(17,"th",29)(18,"div",24),ie(19," Date "),ae(20,"p-columnFilter",30),L()(),A(21,"th",29)(22,"div",24),ie(23," Balance "),ae(24,"p-columnFilter",31),L()(),A(25,"th",23)(26,"div",24),ie(27," Status "),A(28,"p-columnFilter",32),z(29,vQ,3,5,"ng-template",null,9,ze),L()()(),A(31,"th",23)(32,"div",24),ie(33," Activity "),A(34,"p-columnFilter",33),z(35,xQ,6,7,"ng-template",null,9,ze),L()()(),A(37,"th",34)(38,"div",24),ie(39," Verified "),ae(40,"p-columnFilter",35),L()()()),t&2&&(S(12),C("showMatchModes",!1)("showOperator",!1)("showAddButton",!1),S(22),C("showMatchModes",!1)("showOperator",!1)("showAddButton",!1))}function IQ(t,s){if(t&1&&(A(0,"tr")(1,"td"),ie(2),L(),A(3,"td")(4,"div",44),ae(5,"img",45),A(6,"span"),ie(7),L()()(),A(8,"td")(9,"div",44),ae(10,"img",46),A(11,"span",47),ie(12),L()()(),A(13,"td"),ie(14),sc(15,"date"),L(),A(16,"td"),ie(17),sc(18,"currency"),L(),A(19,"td"),ae(20,"p-tag",48),L(),A(21,"td"),ae(22,"p-progressbar",49),L(),A(23,"td",50),ae(24,"p-tag",48),L()()),t&2){let e=s.$implicit,i=M();S(2),oi(" ",e.name," "),S(3),$("flag flag-"+e.country.code),S(2),Et(e.country.name),S(3),C("src",Es("https://primefaces.org/cdn/primeng/images/demo/avatar/",e.representative.image),Ji)("alt",e.representative.name),S(2),Et(e.representative.name),S(2),oi(" ",P0(15,18,e.date,"MM/dd/yyyy")," "),S(3),oi(" ",pm(18,21,e.balance,"USD","symbol")," "),S(3),C("value",e.status.toLowerCase())("severity",i.getSeverity(e.status.toLowerCase())),S(2),Lt(Zt(25,mQ)),C("value",e.activity)("showValue",!1),S(2),C("value",e.status.toLowerCase())("severity",i.getSeverity(e.status.toLowerCase()))}}function TQ(t,s){t&1&&(A(0,"tr")(1,"td",51),ie(2,"No customers found."),L()())}function CQ(t,s){t&1&&(A(0,"tr")(1,"td",51),ie(2,"Loading customers data. Please wait."),L()())}function SQ(t,s){if(t&1&&(A(0,"tr")(1,"th",52),ie(2,"Name"),L(),A(3,"th",53),ie(4,"Id"),L(),A(5,"th",54),ie(6,"Country"),L(),A(7,"th",54),ie(8,"Date"),L(),A(9,"th",54),ie(10,"Company"),L(),A(11,"th",54),ie(12,"Status"),L(),A(13,"th",54),ie(14,"Activity"),L(),A(15,"th",54),ie(16,"Representative"),L(),A(17,"th",55),ie(18,"Balance"),L()()),t&2){let e=M();S(17),C("frozen",e.balanceFrozen)("ngClass",ot(2,WS,e.balanceFrozen))}}function MQ(t,s){if(t&1&&(A(0,"tr")(1,"td",56),ie(2),L(),A(3,"td",53),ie(4),L(),A(5,"td"),ie(6),L(),A(7,"td"),ie(8),L(),A(9,"td"),ie(10),L(),A(11,"td"),ie(12),L(),A(13,"td"),ie(14),L(),A(15,"td"),ie(16),L(),A(17,"td",57),ie(18),L()()),t&2){let e=s.$implicit,i=M();S(2),Et(e.name),S(2),Et(e.id),S(2),Et(e.country.name),S(2),Et(e.date),S(2),Et(e.company),S(2),Et(e.status),S(2),Et(e.activity),S(2),Et(e.representative.name),S(),C("frozen",i.balanceFrozen)("ngClass",ot(11,WS,i.balanceFrozen)),S(),oi(" ",i.formatCurrency(e.balance)," ")}}function kQ(t,s){if(t&1){let e=Be();A(0,"button",58),we("click",function(){Q(e);let n=M();return X(n.expandAll())}),L(),ae(1,"div",59)}if(t&2){let e=M();C("icon",Es("pi pi-fw ",e.isExpanded?"pi-minus":"pi-plus"))("label",ww(e.isExpanded?"Collapse All":"Expand All"))}}function EQ(t,s){t&1&&(A(0,"tr"),ae(1,"th",60),A(2,"th",61),ie(3,"Name "),ae(4,"p-sortIcon",62),L(),A(5,"th"),ie(6,"Image"),L(),A(7,"th",63),ie(8,"Price "),ae(9,"p-sortIcon",64),L(),A(10,"th",65),ie(11,"Category "),ae(12,"p-sortIcon",66),L(),A(13,"th",67),ie(14,"Reviews "),ae(15,"p-sortIcon",68),L(),A(16,"th",69),ie(17,"Status "),ae(18,"p-sortIcon",70),L()())}function PQ(t,s){if(t&1&&(A(0,"tr")(1,"td"),ae(2,"p-button",71),L(),A(3,"td"),ie(4),L(),A(5,"td"),ae(6,"img",72),L(),A(7,"td"),ie(8),sc(9,"currency"),L(),A(10,"td"),ie(11),L(),A(12,"td"),ae(13,"p-rating",73),L(),A(14,"td"),ae(15,"p-tag",74),L()()),t&2){let e=s.$implicit,i=s.expanded,n=M();S(2),C("pRowToggler",e)("text",!0)("rounded",!0)("plain",!0)("icon",i?"pi pi-chevron-down":"pi pi-chevron-right"),S(2),Et(e.name),S(2),C("src","https://primefaces.org/cdn/primeng/images/demo/product/"+e.image,Ji)("alt",e.name),S(2),Et(P0(9,14,e.price,"USD")),S(3),Et(e.category),S(2),C("ngModel",e.rating)("readonly",!0),S(2),C("value",e.inventoryStatus)("severity",n.getSeverity(e.inventoryStatus))}}function DQ(t,s){t&1&&(A(0,"tr")(1,"th",78),ie(2,"Id "),ae(3,"p-sortIcon",64),L(),A(4,"th",79),ie(5," Customer "),ae(6,"p-sortIcon",80),L(),A(7,"th",81),ie(8,"Date "),ae(9,"p-sortIcon",82),L(),A(10,"th",83),ie(11," Amount "),ae(12,"p-sortIcon",84),L(),A(13,"th",85),ie(14," Status "),ae(15,"p-sortIcon",86),L(),ae(16,"th",87),L())}function LQ(t,s){if(t&1&&(A(0,"tr")(1,"td"),ie(2),L(),A(3,"td"),ie(4),L(),A(5,"td"),ie(6),L(),A(7,"td"),ie(8),sc(9,"currency"),L(),A(10,"td"),ae(11,"p-tag",74),L(),A(12,"td"),ae(13,"p-button",88),L()()),t&2){let e=s.$implicit,i=M(2);S(2),Et(e.id),S(2),Et(e.customer),S(2),Et(e.date),S(2),oi(" ",P0(9,6,e.amount,"USD")," "),S(3),C("value",e.status)("severity",i.getSeverity(e.status))}}function AQ(t,s){t&1&&(A(0,"tr")(1,"td",89),ie(2,"There are no order for this product yet."),L()())}function OQ(t,s){if(t&1&&(A(0,"tr")(1,"td",75)(2,"div",76)(3,"h5"),ie(4),L(),A(5,"p-table",77),z(6,DQ,17,0,"ng-template",null,2,ze)(8,LQ,14,9,"ng-template",null,3,ze)(10,AQ,3,0,"ng-template",null,4,ze),L()()()()),t&2){let e=s.$implicit;S(4),oi("Orders for ",e.name),S(),C("value",e.orders)}}function FQ(t,s){t&1&&(A(0,"tr")(1,"th"),ie(2,"Name"),L(),A(3,"th"),ie(4,"Country"),L(),A(5,"th"),ie(6,"Company"),L(),A(7,"th"),ie(8,"Status"),L(),A(9,"th"),ie(10,"Date"),L()())}function VQ(t,s){if(t&1&&(A(0,"tr",90)(1,"td",91)(2,"div",44),ae(3,"img",46),A(4,"span",37),ie(5),L()()()()),t&2){let e=s.$implicit;S(3),C("src",Es("https://primefaces.org/cdn/primeng/images/demo/avatar/",e.representative.image),Ji)("alt",e.representative.name),S(2),Et(e.representative.name)}}function zQ(t,s){if(t&1&&(A(0,"tr")(1,"td",92),ie(2),L()()),t&2){let e=s.$implicit,i=M();S(2),oi("Total Customers: ",i.calculateCustomerTotal(e.representative.name))}}function RQ(t,s){if(t&1&&(A(0,"tr")(1,"td"),ie(2),L(),A(3,"td")(4,"div",44),ae(5,"img",93),A(6,"span"),ie(7),L()()(),A(8,"td"),ie(9),L(),A(10,"td"),ae(11,"p-tag",74),L(),A(12,"td"),ie(13),L()()),t&2){let e=s.$implicit,i=M();S(2),oi(" ",e.name," "),S(3),$("flag flag-"+e.country.code),S(2),Et(e.country.name),S(2),oi(" ",e.company," "),S(2),C("value",e.status)("severity",i.getSeverity(e.status)),S(2),oi(" ",e.date," ")}}var A_=class t{constructor(s,e){this.customerService=s;this.productService=e}customers1=[];customers2=[];customers3=[];selectedCustomers1=[];selectedCustomer={};representatives=[];statuses=[];products=[];rowGroupMetadata;expandedRows={};activityValues=[0,100];isExpanded=!1;balanceFrozen=!1;loading=!0;filter;ngOnInit(){this.customerService.getCustomersLarge().then(s=>{this.customers1=s,this.loading=!1,this.customers1.forEach(e=>e.date=new Date(e.date))}),this.customerService.getCustomersMedium().then(s=>this.customers2=s),this.customerService.getCustomersLarge().then(s=>this.customers3=s),this.productService.getProductsWithOrdersSmall().then(s=>this.products=s),this.representatives=[{name:"Amy Elsner",image:"amyelsner.png"},{name:"Anna Fali",image:"annafali.png"},{name:"Asiya Javayant",image:"asiyajavayant.png"},{name:"Bernardo Dominic",image:"bernardodominic.png"},{name:"Elwin Sharvill",image:"elwinsharvill.png"},{name:"Ioni Bowcher",image:"ionibowcher.png"},{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},{name:"Onyama Limba",image:"onyamalimba.png"},{name:"Stephen Shaw",image:"stephenshaw.png"},{name:"XuXue Feng",image:"xuxuefeng.png"}],this.statuses=[{label:"Unqualified",value:"unqualified"},{label:"Qualified",value:"qualified"},{label:"New",value:"new"},{label:"Negotiation",value:"negotiation"},{label:"Renewal",value:"renewal"},{label:"Proposal",value:"proposal"}]}onSort(){this.updateRowGroupMetaData()}updateRowGroupMetaData(){if(this.rowGroupMetadata={},this.customers3)for(let s=0;s<this.customers3.length;s++){let i=this.customers3[s]?.representative?.name||"";if(s===0)this.rowGroupMetadata[i]={index:0,size:1};else{let a=this.customers3[s-1]?.representative?.name;i===a?this.rowGroupMetadata[i].size++:this.rowGroupMetadata[i]={index:s,size:1}}}}expandAll(){B0.isEmpty(this.expandedRows)?(this.expandedRows=this.products.reduce((s,e)=>(e.id&&(s[e.id]=!0),s),{}),this.isExpanded=!0):this.collapseAll()}collapseAll(){this.expandedRows={},this.isExpanded=!1}formatCurrency(s){return s.toLocaleString("en-US",{style:"currency",currency:"USD"})}onGlobalFilter(s,e){s.filterGlobal(e.target.value,"contains")}clear(s){s.clear(),this.filter.nativeElement.value=""}getSeverity(s){switch(s){case"qualified":case"instock":case"INSTOCK":case"DELIVERED":case"delivered":return"success";case"negotiation":case"lowstock":case"LOWSTOCK":case"PENDING":case"pending":return"warn";case"unqualified":case"outofstock":case"OUTOFSTOCK":case"CANCELLED":case"cancelled":return"danger";default:return"info"}}calculateCustomerTotal(s){let e=0;if(this.customers2)for(let i of this.customers2)i.representative?.name===s&&e++;return e}static \u0275fac=function(e){return new(e||t)(Dt(Wp),Dt(Vo))};static \u0275cmp=Je({type:t,selectors:[["app-table-demo"]],viewQuery:function(e,i){if(e&1&&ut(pQ,5),e&2){let n;se(n=le())&&(i.filter=n.first)}},features:[_t([cc,rr,Wp,Vo])],decls:48,vars:21,consts:[["dt1",""],["caption",""],["header",""],["body",""],["emptymessage",""],["loadingbody",""],["expandedrow",""],["groupheader",""],["groupfooter",""],["filter",""],["item",""],[1,"card"],[1,"font-semibold","text-xl","mb-4"],["dataKey","id","responsiveLayout","scroll",3,"value","rows","loading","rowHover","showGridlines","paginator","globalFilterFields"],["offIcon","pi pi-lock-open","offLabel","Balance",3,"ngModelChange","ngModel","onIcon","onLabel"],["scrollHeight","400px","styleClass","mt-4",3,"value","scrollable"],["dataKey","id",3,"value","tableStyle","expandedRowKeys"],["sortField","representative.name","sortMode","single","scrollHeight","400px","rowGroupMode","subheader","groupRowsBy","representative.name",3,"value","scrollable","tableStyle"],[1,"flex","justify-between","items-center","flex-column","sm:flex-row"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click"],["iconPosition","left",1,"ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",3,"input"],[2,"min-width","12rem"],[1,"flex","justify-between","items-center"],["type","text","field","name","display","menu","placeholder","Search by name"],["type","text","field","country.name","display","menu","placeholder","Search by country"],[2,"min-width","14rem"],["field","representative","matchMode","in","display","menu",3,"showMatchModes","showOperator","showAddButton"],[2,"min-width","10rem"],["type","date","field","date","display","menu","placeholder","mm/dd/yyyy"],["type","numeric","field","balance","display","menu","currency","USD"],["field","status","matchMode","equals","display","menu"],["field","activity","matchMode","between","display","menu",3,"showMatchModes","showOperator","showAddButton"],[2,"min-width","8rem"],["type","boolean","field","verified","display","menu"],[1,"px-3","pt-3","pb-0"],[1,"font-bold"],["placeholder","Any","optionLabel","name","styleClass","w-full",3,"onChange","ngModel","options"],[1,"flex","items-center","gap-2","w-44"],["width","32",3,"alt","src"],["placeholder","Any",3,"onChange","ngModel","options"],["styleClass","m-3",3,"onSlideEnd","ngModel","range"],[1,"flex","items-center","justify-between","px-2"],[1,"flex","items-center","gap-2"],["src","https://primefaces.org/cdn/primeng/images/demo/flag/flag_placeholder.png","width","30"],["width","32",2,"vertical-align","middle",3,"alt","src"],[1,"image-text"],["styleClass","dark:bg-surface-900!",3,"value","severity"],[3,"value","showValue"],[1,"text-center"],["colspan","8"],["pFrozenColumn","",1,"font-bold",2,"min-width","200px"],[2,"min-width","100px"],[2,"min-width","200px"],["alignFrozen","right","pFrozenColumn","",2,"min-width","200px",3,"frozen","ngClass"],["pFrozenColumn","",1,"font-bold"],["alignFrozen","right","pFrozenColumn","",3,"frozen","ngClass"],["pButton","",3,"click","icon","label"],[1,"flex","table-header"],[2,"width","5rem"],["pSortableColumn","name"],["field","name"],["pSortableColumn","price"],["field","price"],["pSortableColumn","category"],["field","category"],["pSortableColumn","rating"],["field","rating"],["pSortableColumn","inventoryStatus"],["field","inventoryStatus"],["type","button","pRipple","",3,"pRowToggler","text","rounded","plain","icon"],["width","50",1,"shadow-lg",3,"src","alt"],[3,"ngModel","readonly"],[3,"value","severity"],["colspan","7"],[1,"p-4"],["dataKey","id",3,"value"],["pSortableColumn","id"],["pSortableColumn","customer"],["field","customer"],["pSortableColumn","date"],["field","date"],["pSortableColumn","amount"],["field","amount"],["pSortableColumn","status"],["field","status"],[2,"width","4rem"],["type","button","icon","pi pi-search"],["colspan","6"],["pRowGroupHeader",""],["colspan","5"],["colspan","5",1,"text-right","font-bold","pr-12"],["src","https://primefaces.org/cdn/primeng/images/demo/flag/flag_placeholder.png",2,"width","20px"]],template:function(e,i){if(e&1){let n=Be();A(0,"div",11)(1,"div",12),ie(2,"Filtering"),L(),A(3,"p-table",13,0),z(5,fQ,6,0,"ng-template",null,1,ze)(7,wQ,41,6,"ng-template",null,2,ze)(9,IQ,25,26,"ng-template",null,3,ze)(11,TQ,3,0,"ng-template",null,4,ze)(13,CQ,3,0,"ng-template",null,5,ze),L()(),A(15,"div",11)(16,"div",12),ie(17,"Frozen Columns"),L(),A(18,"p-togglebutton",14),ci("ngModelChange",function(u){return Q(n),li(i.balanceFrozen,u)||(i.balanceFrozen=u),X(u)}),L(),A(19,"p-table",15),z(20,SQ,19,4,"ng-template",null,2,ze)(22,MQ,19,13,"ng-template",null,3,ze),L()(),A(24,"div",11)(25,"div",12),ie(26,"Row Expansion"),L(),A(27,"p-table",16),z(28,kQ,2,4,"ng-template",null,1,ze)(30,EQ,19,0,"ng-template",null,2,ze)(32,PQ,16,17,"ng-template",null,3,ze)(34,OQ,12,2,"ng-template",null,6,ze),L()(),A(36,"div",11)(37,"div",12),ie(38,"Grouping"),L(),A(39,"p-table",17),z(40,FQ,11,0,"ng-template",null,2,ze)(42,VQ,6,4,"ng-template",null,7,ze)(44,zQ,3,1,"ng-template",null,8,ze)(46,RQ,14,8,"ng-template",null,3,ze),L()()}e&2&&(S(3),C("value",i.customers1)("rows",10)("loading",i.loading)("rowHover",!0)("showGridlines",!0)("paginator",!0)("globalFilterFields",Zt(18,hQ)),S(15),si("ngModel",i.balanceFrozen),C("onIcon","pi pi-lock")("onLabel","Balance"),S(),C("value",i.customers2)("scrollable",!0),S(8),C("value",i.products)("tableStyle",Zt(19,$S))("expandedRowKeys",i.expandedRows),S(12),C("value",i.customers3)("scrollable",!0)("tableStyle",Zt(20,$S)))},dependencies:[X0,Q0,b3,_3,g3,x3,y3,w3,c_,Hp,yc,bc,_c,dr,xc,vc,Fo,ma,i_,Np,J0,Y0,U0,G0,fc,mt,ka,dn,ia,na,zi,Os,Gi,og,ag,_p,sn,gc,cr,Mw,Sw],styles:[".p-datatable-frozen-tbody[_ngcontent-%COMP%], .p-datatable-scrollable[_ngcontent-%COMP%]   .p-frozen-column[_ngcontent-%COMP%]{font-weight:700}"]})};var ZS=`
    .p-drawer {
        display: flex;
        flex-direction: column;
        transform: translate3d(0px, 0px, 0px);
        position: relative;
        transition: transform 0.3s;
        background: dt('drawer.background');
        color: dt('drawer.color');
        border: 1px solid dt('drawer.border.color');
        box-shadow: dt('drawer.shadow');
    }

    .p-drawer-content {
        overflow-y: auto;
        flex-grow: 1;
        padding: dt('drawer.content.padding');
    }

    .p-drawer-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-shrink: 0;
        padding: dt('drawer.header.padding');
    }

    .p-drawer-footer {
        padding: dt('drawer.footer.padding');
    }

    .p-drawer-title {
        font-weight: dt('drawer.title.font.weight');
        font-size: dt('drawer.title.font.size');
    }

    .p-drawer-full .p-drawer {
        transition: none;
        transform: none;
        width: 100vw !important;
        height: 100vh !important;
        max-height: 100%;
        top: 0px !important;
        left: 0px !important;
        border-width: 1px;
    }

    .p-drawer-left .p-drawer-enter-from,
    .p-drawer-left .p-drawer-leave-to {
        transform: translateX(-100%);
    }

    .p-drawer-right .p-drawer-enter-from,
    .p-drawer-right .p-drawer-leave-to {
        transform: translateX(100%);
    }

    .p-drawer-top .p-drawer-enter-from,
    .p-drawer-top .p-drawer-leave-to {
        transform: translateY(-100%);
    }

    .p-drawer-bottom .p-drawer-enter-from,
    .p-drawer-bottom .p-drawer-leave-to {
        transform: translateY(100%);
    }

    .p-drawer-full .p-drawer-enter-from,
    .p-drawer-full .p-drawer-leave-to {
        opacity: 0;
    }

    .p-drawer-full .p-drawer-enter-active,
    .p-drawer-full .p-drawer-leave-active {
        transition: opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    .p-drawer-left .p-drawer {
        width: 20rem;
        height: 100%;
        border-inline-end-width: 1px;
    }

    .p-drawer-right .p-drawer {
        width: 20rem;
        height: 100%;
        border-inline-start-width: 1px;
    }

    .p-drawer-top .p-drawer {
        height: 10rem;
        width: 100%;
        border-block-end-width: 1px;
    }

    .p-drawer-bottom .p-drawer {
        height: 10rem;
        width: 100%;
        border-block-start-width: 1px;
    }

    .p-drawer-left .p-drawer-content,
    .p-drawer-right .p-drawer-content,
    .p-drawer-top .p-drawer-content,
    .p-drawer-bottom .p-drawer-content {
        width: 100%;
        height: 100%;
    }

    .p-drawer-open {
        display: flex;
    }

    .p-drawer-mask:dir(rtl) {
        flex-direction: row-reverse;
    }
`;var BQ=["header"],NQ=["footer"],qQ=["content"],HQ=["closeicon"],jQ=["headless"],GQ=["container"],UQ=["closeButton"],$Q=["*"],KQ=(t,s)=>({transform:t,transition:s}),WQ=t=>({value:"visible",params:t});function ZQ(t,s){t&1&&nt(0)}function QQ(t,s){if(t&1&&z(0,ZQ,1,0,"ng-container",4),t&2){let e=M(2);C("ngTemplateOutlet",e.headlessTemplate||e._headlessTemplate)}}function XQ(t,s){t&1&&nt(0)}function YQ(t,s){if(t&1&&(A(0,"div"),ie(1),L()),t&2){let e=M(3);$(e.cx("title")),S(),Et(e.header)}}function JQ(t,s){t&1&&(at(),ae(0,"svg",11)),t&2&&de("data-pc-section","closeicon")}function eX(t,s){}function tX(t,s){t&1&&z(0,eX,0,0,"ng-template")}function iX(t,s){if(t&1&&z(0,JQ,1,1,"svg",10)(1,tX,1,0,null,4),t&2){let e=M(4);C("ngIf",!e.closeIconTemplate&&!e._closeIconTemplate),S(),C("ngTemplateOutlet",e.closeIconTemplate||e._closeIconTemplate)}}function nX(t,s){if(t&1){let e=Be();A(0,"p-button",9),we("onClick",function(n){Q(e);let a=M(3);return X(a.close(n))})("keydown.enter",function(n){Q(e);let a=M(3);return X(a.close(n))}),z(1,iX,2,2,"ng-template",null,1,ze),L()}if(t&2){let e=M(3);C("ngClass",e.cx("pcCloseButton"))("buttonProps",e.closeButtonProps)("ariaLabel",e.ariaCloseLabel),de("data-pc-section","closebutton")("data-pc-group-section","iconcontainer")}}function aX(t,s){t&1&&nt(0)}function oX(t,s){t&1&&nt(0)}function rX(t,s){if(t&1&&(Ke(0),A(1,"div",5),z(2,oX,1,0,"ng-container",4),L(),We()),t&2){let e=M(3);S(),C("ngClass",e.cx("footer")),de("data-pc-section","footer"),S(),C("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}function sX(t,s){if(t&1&&(A(0,"div",5),z(1,XQ,1,0,"ng-container",4)(2,YQ,2,3,"div",6)(3,nX,3,5,"p-button",7),L(),A(4,"div",5),Ei(5),z(6,aX,1,0,"ng-container",4),L(),z(7,rX,3,3,"ng-container",8)),t&2){let e=M(2);C("ngClass",e.cx("header")),de("data-pc-section","header"),S(),C("ngTemplateOutlet",e.headerTemplate||e._headerTemplate),S(),C("ngIf",e.header),S(),C("ngIf",e.showCloseIcon&&e.closable),S(),C("ngClass",e.cx("content")),de("data-pc-section","content"),S(2),C("ngTemplateOutlet",e.contentTemplate||e._contentTemplate),S(),C("ngIf",e.footerTemplate||e._footerTemplate)}}function lX(t,s){if(t&1){let e=Be();A(0,"div",3,0),we("@panelState.start",function(n){Q(e);let a=M();return X(a.onAnimationStart(n))})("@panelState.done",function(n){Q(e);let a=M();return X(a.onAnimationEnd(n))})("keydown",function(n){Q(e);let a=M();return X(a.onKeyDown(n))}),Wi(2,QQ,1,1,"ng-container")(3,sX,8,9),L()}if(t&2){let e=M();Lt(e.style),$(e.cn(e.cx("root"),e.styleClass)),C("@panelState",ot(11,WQ,ni(8,KQ,e.transformOptions,e.transitionOptions))),de("data-pc-name","sidebar")("data-pc-section","root"),S(2),Zi(e.headlessTemplate||e._headlessTemplate?2:3)}}var cX=`
    ${ZS}

    /** For PrimeNG **/
    .p-drawer {
        position: fixed;
        display: flex;
        flex-direction: column;
    }

    .p-drawer-left {
        top: 0;
        left: 0;
        width: 20rem;
        height: 100%;
    }

    .p-drawer-right {
        top: 0;
        right: 0;
        width: 20rem;
        height: 100%;
    }

    .p-drawer-top {
        top: 0;
        left: 0;
        width: 100%;
        height: 10rem;
    }

    .p-drawer-bottom {
        bottom: 0;
        left: 0;
        width: 100%;
        height: 10rem;
    }

    .p-drawer-full {
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        -webkit-transition: none;
        transition: none;
    }

    .p-overlay-mask-enter {
        animation: p-overlay-mask-enter-animation 150ms forwards;
    }

    .p-overlay-mask-leave {
        animation: p-overlay-mask-leave-animation 150ms forwards;
    }

    @keyframes p-overlay-mask-enter-animation {
        from {
            background-color: transparent;
        }
        to {
            background-color: rgba(0, 0, 0, 0.4);
        }
    }
    @keyframes p-overlay-mask-leave-animation {
        from {
            background-color: rgba(0, 0, 0, 0.4);
        }
        to {
            background-color: transparent;
        }
    }
`,dX={mask:({instance:t})=>["p-drawer-mask",{"p-overlay-mask p-overlay-mask-enter":t.modal},{"p-drawer-full":t.fullScreen}],root:({instance:t})=>["p-drawer p-component",{"p-drawer-full":t.fullScreen,"p-drawer-open":t.visible},`p-drawer-${t.position}`],header:"p-drawer-header",title:"p-drawer-title",pcCloseButton:"p-drawer-close-button",content:"p-drawer-content",footer:"p-drawer-footer"},QS=(()=>{class t extends Rt{name="drawer";theme=cX;classes=dX;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var uX=wb([Oi({transform:"{{transform}}",opacity:0}),Ni("{{transition}}")]),pX=wb([Ni("{{transition}}",Oi({transform:"{{transform}}",opacity:0}))]),Fv=(()=>{class t extends Ot{appendTo="body";blockScroll=!1;style;styleClass;ariaCloseLabel;autoZIndex=!0;baseZIndex=0;modal=!0;closeButtonProps={severity:"secondary",text:!0,rounded:!0};dismissible=!0;showCloseIcon=!0;closeOnEscape=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";get visible(){return this._visible}set visible(e){this._visible=e}get position(){return this._position}set position(e){if(this._position=e,e==="full"){this.transformOptions="none";return}switch(e){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break}}get fullScreen(){return this._fullScreen}set fullScreen(e){this._fullScreen=e,e&&(this.transformOptions="none")}header;maskStyle;closable=!0;onShow=new Le;onHide=new Le;visibleChange=new Le;containerViewChild;closeButtonViewChild;initialized;_visible;_position="left";_fullScreen=!1;container;transformOptions="translate3d(-100%, 0px, 0px)";mask;maskClickListener;documentEscapeListener;animationEndListener;_componentStyle=Fe(QS);ngAfterViewInit(){super.ngAfterViewInit(),this.initialized=!0}headerTemplate;footerTemplate;contentTemplate;closeIconTemplate;headlessTemplate;_headerTemplate;_footerTemplate;_contentTemplate;_closeIconTemplate;_headlessTemplate;templates;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"closeicon":this._closeIconTemplate=e.template;break;case"headless":this._headlessTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}onKeyDown(e){e.code==="Escape"&&this.hide(!1)}show(){this.container.setAttribute(this.attrSelector,""),this.autoZIndex&&qi.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({}),this.visibleChange.emit(!0)}hide(e=!0){e&&this.onHide.emit({}),this.modal&&this.disableModality()}close(e){this.hide(),this.visibleChange.emit(!1),e.preventDefault()}enableModality(){let e=this.document.querySelectorAll(".p-drawer-open"),i=e.length,n=i==1?String(parseInt(this.container.style.zIndex)-1):String(parseInt(e[i-1].style.zIndex)-1);this.mask||(this.mask=this.renderer.createElement("div"),rs(this.mask,"style",this.getMaskStyle()),rs(this.mask,"style",`z-index: ${n}`),Hn(this.mask,this.cx("mask")),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",a=>{this.dismissible&&this.close(a)})),this.renderer.appendChild(this.document.body,this.mask),this.blockScroll&&hp())}getMaskStyle(){return this.maskStyle?Object.entries(this.maskStyle).map(([e,i])=>`${e}: ${i}`).join("; "):""}disableModality(){this.mask&&(Pa(this.mask,"p-overlay-mask-enter"),Hn(this.mask,"p-overlay-mask-leave"),this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyModal.bind(this)))}destroyModal(){this.unbindMaskClickListener(),this.mask&&this.renderer.removeChild(this.document.body,this.mask),this.blockScroll&&uc(),this.unbindAnimationEndListener(),this.mask=null}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener();break}}onAnimationEnd(e){switch(e.toState){case"void":this.hide(!1),qi.clear(this.container),this.unbindGlobalListeners();break}}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):pp(this.appendTo,this.container))}bindDocumentEscapeListener(){let e=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentEscapeListener=this.renderer.listen(e,"keydown",i=>{i.which==27&&parseInt(this.container.style.zIndex)===qi.get(this.container)&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindGlobalListeners(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}ngOnDestroy(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.renderer.appendChild(this.el.nativeElement,this.container),this.container&&this.autoZIndex&&qi.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-drawer"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,BQ,4),xe(a,NQ,4),xe(a,qQ,4),xe(a,HQ,4),xe(a,jQ,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.headerTemplate=u.first),se(u=le())&&(n.footerTemplate=u.first),se(u=le())&&(n.contentTemplate=u.first),se(u=le())&&(n.closeIconTemplate=u.first),se(u=le())&&(n.headlessTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&(ut(GQ,5),ut(UQ,5)),i&2){let a;se(a=le())&&(n.containerViewChild=a.first),se(a=le())&&(n.closeButtonViewChild=a.first)}},inputs:{appendTo:"appendTo",blockScroll:[2,"blockScroll","blockScroll",ye],style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:[2,"autoZIndex","autoZIndex",ye],baseZIndex:[2,"baseZIndex","baseZIndex",wt],modal:[2,"modal","modal",ye],closeButtonProps:"closeButtonProps",dismissible:[2,"dismissible","dismissible",ye],showCloseIcon:[2,"showCloseIcon","showCloseIcon",ye],closeOnEscape:[2,"closeOnEscape","closeOnEscape",ye],transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen",header:"header",maskStyle:"maskStyle",closable:[2,"closable","closable",ye]},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},features:[_t([QS]),ft],ngContentSelectors:$Q,decls:1,vars:1,consts:[["container",""],["icon",""],["role","complementary",3,"class","style","keydown",4,"ngIf"],["role","complementary",3,"keydown"],[4,"ngTemplateOutlet"],[3,"ngClass"],[3,"class",4,"ngIf"],[3,"ngClass","buttonProps","ariaLabel","onClick","keydown.enter",4,"ngIf"],[4,"ngIf"],[3,"onClick","keydown.enter","ngClass","buttonProps","ariaLabel"],["data-p-icon","times",4,"ngIf"],["data-p-icon","times"]],template:function(i,n){i&1&&(Ui(),z(0,lX,4,13,"div",2)),i&2&&C("ngIf",n.visible)},dependencies:[mt,ka,Ut,Yt,Gi,Ar,Ze],encapsulation:2,data:{animation:[qn("panelState",[Fi("void => visible",[Ib(uX)]),Fi("visible => void",[Ib(pX)])])]},changeDetection:0})}return t})(),XS=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[Fv,Ze,Ze]})}return t})();var YS=`
    .p-confirmpopup {
        position: absolute;
        margin-top: dt('confirmpopup.gutter');
        top: 0;
        left: 0;
        background: dt('confirmpopup.background');
        color: dt('confirmpopup.color');
        border: 1px solid dt('confirmpopup.border.color');
        border-radius: dt('confirmpopup.border.radius');
        box-shadow: dt('confirmpopup.shadow');
    }

    .p-confirmpopup-content {
        display: flex;
        align-items: center;
        padding: dt('confirmpopup.content.padding');
        gap: dt('confirmpopup.content.gap');
    }

    .p-confirmpopup-icon {
        font-size: dt('confirmpopup.icon.size');
        width: dt('confirmpopup.icon.size');
        height: dt('confirmpopup.icon.size');
        color: dt('confirmpopup.icon.color');
    }

    .p-confirmpopup-footer {
        display: flex;
        justify-content: flex-end;
        gap: dt('confirmpopup.footer.gap');
        padding: dt('confirmpopup.footer.padding');
    }

    .p-confirmpopup-footer button {
        width: auto;
    }

    .p-confirmpopup-footer button:last-child {
        margin: 0;
    }

    .p-confirmpopup-flipped {
        margin-block-start: calc(dt('confirmpopup.gutter') * -1);
        margin-block-end: dt('confirmpopup.gutter');
    }

    .p-confirmpopup-enter-from {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-confirmpopup-leave-to {
        opacity: 0;
    }

    .p-confirmpopup-enter-active {
        transition:
            transform 0.12s cubic-bezier(0, 0, 0.2, 1),
            opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-confirmpopup-leave-active {
        transition: opacity 0.1s linear;
    }

    .p-confirmpopup:after,
    .p-confirmpopup:before {
        bottom: 100%;
        left: calc(dt('confirmpopup.arrow.offset') + dt('confirmpopup.arrow.left'));
        content: ' ';
        height: 0;
        width: 0;
        position: absolute;
        pointer-events: none;
    }

    .p-confirmpopup:after {
        border-width: calc(dt('confirmpopup.gutter') - 2px);
        margin-left: calc(-1 * (dt('confirmpopup.gutter') - 2px));
        border-style: solid;
        border-color: transparent;
        border-bottom-color: dt('confirmpopup.background');
    }

    .p-confirmpopup:before {
        border-width: dt('confirmpopup.gutter');
        margin-left: calc(-1 * dt('confirmpopup.gutter'));
        border-style: solid;
        border-color: transparent;
        border-bottom-color: dt('confirmpopup.border.color');
    }

    .p-confirmpopup-flipped:after,
    .p-confirmpopup-flipped:before {
        bottom: auto;
        top: 100%;
    }

    .p-confirmpopup-flipped:after {
        border-bottom-color: transparent;
        border-top-color: dt('confirmpopup.background');
    }

    .p-confirmpopup-flipped:before {
        border-bottom-color: transparent;
        border-top-color: dt('confirmpopup.border.color');
    }
`;var mX=["content"],fX=["accepticon"],gX=["rejecticon"],_X=["headless"],bX=(t,s)=>({showTransitionParams:t,hideTransitionParams:s}),yX=t=>({value:"open",params:t}),e4=t=>({$implicit:t});function vX(t,s){t&1&&nt(0)}function xX(t,s){if(t&1&&(Ke(0),z(1,vX,1,0,"ng-container",9),We()),t&2){let e=M(2);S(),C("ngTemplateOutlet",e.headlessTemplate||e._headlessTemplate)("ngTemplateOutletContext",ot(2,e4,e.confirmation))}}function wX(t,s){t&1&&nt(0)}function IX(t,s){if(t&1&&(Ke(0),z(1,wX,1,0,"ng-container",9),We()),t&2){let e=M(3);S(),C("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",ot(2,e4,e.confirmation))}}function TX(t,s){if(t&1&&ae(0,"i"),t&2){let e=M(4);$(e.cx("icon"))}}function CX(t,s){if(t&1&&(z(0,TX,1,2,"i",12),A(1,"span"),ie(2),L()),t&2){let e=M(3);C("ngIf",e.confirmation==null?null:e.confirmation.icon),S(),$(e.cx("message")),S(),Et(e.confirmation==null?null:e.confirmation.message)}}function SX(t,s){if(t&1&&ae(0,"i"),t&2){let e=M(5);$(e.confirmation==null?null:e.confirmation.rejectIcon)}}function MX(t,s){}function kX(t,s){t&1&&z(0,MX,0,0,"ng-template",null,4,ze)}function EX(t,s){if(t&1&&z(0,SX,1,2,"i",14)(1,kX,2,0,null,15),t&2){let e=M(4);C("ngIf",e.confirmation==null?null:e.confirmation.rejectIcon)("ngIfElse",e.rejecticon),S(),C("ngTemplateOutlet",e.rejectIconTemplate||e._rejectIconTemplate)}}function PX(t,s){if(t&1){let e=Be();A(0,"p-button",13),we("onClick",function(){Q(e);let n=M(3);return X(n.onReject())}),z(1,EX,2,3,"ng-template",null,3,ze),L()}if(t&2){let e=M(3);$(e.cx("pcRejectButton")),C("label",e.rejectButtonLabel)("styleClass",e.confirmation==null?null:e.confirmation.rejectButtonStyleClass)("size",(e.confirmation.rejectButtonProps==null?null:e.confirmation.rejectButtonProps.size)||"small")("text",(e.confirmation.rejectButtonProps==null?null:e.confirmation.rejectButtonProps.text)||!1)("buttonProps",e.getRejectButtonProps())("autofocus",e.autoFocusReject),de("aria-label",e.rejectButtonLabel)}}function DX(t,s){if(t&1&&ae(0,"i"),t&2){let e=M(5);$(e.confirmation==null?null:e.confirmation.acceptIcon)}}function LX(t,s){}function AX(t,s){t&1&&z(0,LX,0,0,"ng-template",null,5,ze)}function OX(t,s){if(t&1&&z(0,DX,1,2,"i",14)(1,AX,2,0,null,15),t&2){let e=M(4);C("ngIf",e.confirmation==null?null:e.confirmation.acceptIcon)("ngIfElse",e.accepticontemplate),S(),C("ngTemplateOutlet",e.acceptIconTemplate||e._acceptIconTemplate)}}function FX(t,s){if(t&1){let e=Be();A(0,"p-button",16),we("onClick",function(){Q(e);let n=M(3);return X(n.onAccept())}),z(1,OX,2,3,"ng-template",null,3,ze),L()}if(t&2){let e=M(3);$(e.cx("pcAcceptButton")),C("label",e.acceptButtonLabel)("styleClass",e.confirmation==null?null:e.confirmation.acceptButtonStyleClass)("size",(e.confirmation.acceptButtonProps==null?null:e.confirmation.acceptButtonProps.size)||"small")("buttonProps",e.getAcceptButtonProps())("autofocus",e.autoFocusAccept),de("aria-label",e.acceptButtonLabel)}}function VX(t,s){if(t&1&&(A(0,"div",null,1),z(2,IX,2,4,"ng-container",8)(3,CX,3,4,"ng-template",null,2,ze),L(),A(5,"div"),z(6,PX,3,9,"p-button",10)(7,FX,3,8,"p-button",11),L()),t&2){let e=Gt(4),i=M(2);$(i.cx("content")),S(2),C("ngIf",i.contentTemplate||i._contentTemplate)("ngIfElse",e),S(3),$(i.cx("footer")),S(),C("ngIf",(i.confirmation==null?null:i.confirmation.rejectVisible)!==!1),S(),C("ngIf",(i.confirmation==null?null:i.confirmation.acceptVisible)!==!1)}}function zX(t,s){if(t&1){let e=Be();A(0,"div",7),we("click",function(n){Q(e);let a=M();return X(a.onOverlayClick(n))})("@animation.start",function(n){Q(e);let a=M();return X(a.onAnimationStart(n))})("@animation.done",function(n){Q(e);let a=M();return X(a.onAnimationEnd(n))}),z(1,xX,2,4,"ng-container",8)(2,VX,8,8,"ng-template",null,0,ze),L()}if(t&2){let e=Gt(3),i=M();$(i.cn(i.cx("root"),i.styleClass)),C("ngStyle",i.style)("@animation",ot(9,yX,ni(6,bX,i.showTransitionOptions,i.hideTransitionOptions))),S(),C("ngIf",i.headlessTemplate||i._headlessTemplate)("ngIfElse",e)}}var RX={root:()=>["p-confirmpopup p-component"],content:"p-confirmpopup-content",icon:({instance:t})=>["p-confirmpopup-icon",t.confirmation?.icon],message:"p-confirmpopup-message",footer:"p-confirmpopup-footer",pcRejectButton:"p-confirmpopup-reject-button",pcAcceptButton:"p-confirmpopup-accept-button"},JS=(()=>{class t extends Rt{name="confirmpopup";theme=YS;classes=RX;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var Vv=(()=>{class t extends Ot{el;confirmationService;renderer;cd;overlayService;document;key;defaultFocus="accept";showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autoZIndex=!0;baseZIndex=0;style;styleClass;get visible(){return this._visible}set visible(e){this._visible=e,this.cd.markForCheck()}container;subscription;confirmation;autoFocusAccept=!1;autoFocusReject=!1;contentTemplate;acceptIconTemplate;rejectIconTemplate;headlessTemplate;_contentTemplate;_acceptIconTemplate;_rejectIconTemplate;_headlessTemplate;_visible;documentClickListener;documentResizeListener;scrollHandler;window;_componentStyle=Fe(JS);constructor(e,i,n,a,u,b){super(),this.el=e,this.confirmationService=i,this.renderer=n,this.cd=a,this.overlayService=u,this.document=b,this.window=this.document.defaultView,this.subscription=this.confirmationService.requireConfirmation$.subscribe(T=>{if(!T){this.hide();return}T.key===this.key&&(this.confirmation=T,Object.keys(T).forEach(R=>{this[R]=T[R]}),this.confirmation.accept&&(this.confirmation.acceptEvent=new Le,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new Le,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0)})}templates;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;case"rejecticon":this._rejectIconTemplate=e.template;break;case"accepticon":this._acceptIconTemplate=e.template;break;case"headless":this._headlessTemplate=e.template;break}})}option(e,i){let n=this;if(n.hasOwnProperty(e))return i?n[i]:n[e]}onEscapeKeydown(e){this.confirmation&&this.confirmation.closeOnEscape&&this.onReject()}onAnimationStart(e){e.toState==="open"&&(this.container=e.element,this.renderer.appendChild(this.document.body,this.container),this.align(),this.bindListeners(),this.autoFocusAccept=this.defaultFocus===void 0||this.defaultFocus==="accept",this.autoFocusReject=this.defaultFocus==="reject")}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy();break}}getAcceptButtonProps(){return this.option("acceptButtonProps")}getRejectButtonProps(){return this.option("rejectButtonProps")}align(){if(this.autoZIndex&&qi.set("overlay",this.container,this.config.zIndex.overlay),!this.confirmation)return;lc(this.container,this.confirmation?.target,!1);let e=Lr(this.container),i=Lr(this.confirmation?.target),n=0;e.left<i.left&&(n=i.left-e.left),this.container.style.setProperty("--p-confirmpopup-arrow-left",`${n}px`),e.top<i.top&&Hn(this.container,"p-confirm-popup-flipped")}hide(){this.visible=!1}onAccept(){this.confirmation?.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(),$t(this.confirmation?.target)}onReject(){this.confirmation?.rejectEvent&&this.confirmation.rejectEvent.emit(),this.hide(),$t(this.confirmation?.target)}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}bindListeners(){setTimeout(()=>{this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener()})}unbindListeners(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}bindDocumentClickListener(){if(!this.documentClickListener){let e=z0()?"touchstart":"click",i=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(i,e,n=>{if(this.confirmation&&this.confirmation.dismissableMask!==!1){let a=this.confirmation.target;this.container!==n.target&&!this.container?.contains(n.target)&&a!==n.target&&!a.contains(n.target)&&this.hide()}})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}onWindowResize(){this.visible&&!ar()&&this.hide()}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new pc(this.confirmation?.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unsubscribeConfirmationSubscriptions(){this.confirmation&&(this.confirmation.acceptEvent&&this.confirmation.acceptEvent.unsubscribe(),this.confirmation.rejectEvent&&this.confirmation.rejectEvent.unsubscribe())}onContainerDestroy(){this.unbindListeners(),this.unsubscribeConfirmationSubscriptions(),this.autoZIndex&&qi.clear(this.container),this.confirmation=null,this.container=null}restoreAppend(){this.container&&this.renderer.removeChild(this.document.body,this.container),this.onContainerDestroy()}get acceptButtonLabel(){return this.confirmation?.acceptLabel||this.config.getTranslation(yo.ACCEPT)}get rejectButtonLabel(){return this.confirmation?.rejectLabel||this.config.getTranslation(yo.REJECT)}ngOnDestroy(){this.restoreAppend(),this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)(Dt(ua),Dt(cc),Dt(ac),Dt(nr),Dt(sr),Dt(qr))};static \u0275cmp=Je({type:t,selectors:[["p-confirmpopup"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,mX,4),xe(a,fX,4),xe(a,gX,4),xe(a,_X,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.contentTemplate=u.first),se(u=le())&&(n.acceptIconTemplate=u.first),se(u=le())&&(n.rejectIconTemplate=u.first),se(u=le())&&(n.headlessTemplate=u.first),se(u=le())&&(n.templates=u)}},hostBindings:function(i,n){i&1&&we("keydown.escape",function(u){return n.onEscapeKeydown(u)},cp)},inputs:{key:"key",defaultFocus:"defaultFocus",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autoZIndex:[2,"autoZIndex","autoZIndex",ye],baseZIndex:[2,"baseZIndex","baseZIndex",wt],style:"style",styleClass:"styleClass",visible:"visible"},features:[_t([JS]),ft],decls:1,vars:1,consts:[["notHeadless",""],["content",""],["withoutContentTemplate",""],["icon",""],["rejecticon",""],["accepticontemplate",""],["pFocusTrap","","role","alertdialog",3,"class","ngStyle","click",4,"ngIf"],["pFocusTrap","","role","alertdialog",3,"click","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"label","class","styleClass","size","text","buttonProps","autofocus","onClick",4,"ngIf"],["type","button",3,"label","class","styleClass","size","buttonProps","autofocus","onClick",4,"ngIf"],[3,"class",4,"ngIf"],["type","button",3,"onClick","label","styleClass","size","text","buttonProps","autofocus"],[3,"class",4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["type","button",3,"onClick","label","styleClass","size","buttonProps","autofocus"]],template:function(i,n){i&1&&z(0,zX,4,11,"div",6),i&2&&C("ngIf",n.visible)},dependencies:[mt,Ut,Yt,fi,Ze,zi,Gi,xp],encapsulation:2,data:{animation:[qn("animation",[ao("void",Oi({transform:"scaleY(0.8)",opacity:0})),ao("open",Oi({transform:"translateY(0)",opacity:1})),Fi("void => open",Ni("{{showTransitionParams}}")),Fi("open => void",Ni("{{hideTransitionParams}}"))])]},changeDetection:0})}return t})(),t4=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[Vv,Ze,Ze]})}return t})();var NX=()=>({width:"30vw"}),qX=()=>({"960px":"75vw"}),i4=()=>({width:"auto"}),HX=()=>({width:"450px"}),O_=()=>({marginRight:"0.25em"}),jX=()=>({width:"350px"});function GX(t,s){if(t&1){let e=Be();A(0,"p-button",34),we("click",function(){Q(e);let n=M();return X(n.close())}),L()}}function UX(t,s){t&1&&(A(0,"tr")(1,"th"),ie(2,"Name"),L(),A(3,"th"),ie(4,"Image"),L(),A(5,"th"),ie(6,"Price"),L()())}function $X(t,s){if(t&1&&(A(0,"tr",35)(1,"td"),ie(2),L(),A(3,"td"),ae(4,"img",36),L(),A(5,"td"),ie(6),L()()),t&2){let e=s.$implicit;C("pSelectableRow",e),S(2),Et(e.name),S(2),C("src","https://primefaces.org/cdn/primeng/images/demo/product/"+e.image,Ji)("alt",e.name),S(2),Et(e.price)}}function KX(t,s){if(t&1){let e=Be();A(0,"p-button",37),we("click",function(){Q(e);let n=M();return X(n.closeConfirmation())}),L(),A(1,"p-button",38),we("click",function(){Q(e);let n=M();return X(n.closeConfirmation())}),L()}}var F_=class t{constructor(s,e,i){this.productService=s;this.confirmationService=e;this.messageService=i}images=[];display=!1;products=[];visibleLeft=!1;visibleRight=!1;visibleTop=!1;visibleBottom=!1;visibleFull=!1;displayConfirmation=!1;selectedProduct;ngOnInit(){this.productService.getProductsSmall().then(s=>this.products=s),this.images=[],this.images.push({source:"assets/demo/images/sopranos/sopranos1.jpg",thumbnail:"assets/demo/images/sopranos/sopranos1_small.jpg",title:"Sopranos 1"}),this.images.push({source:"assets/demo/images/sopranos/sopranos2.jpg",thumbnail:"assets/demo/images/sopranos/sopranos2_small.jpg",title:"Sopranos 2"}),this.images.push({source:"assets/demo/images/sopranos/sopranos3.jpg",thumbnail:"assets/demo/images/sopranos/sopranos3_small.jpg",title:"Sopranos 3"}),this.images.push({source:"assets/demo/images/sopranos/sopranos4.jpg",thumbnail:"assets/demo/images/sopranos/sopranos4_small.jpg",title:"Sopranos 4"})}confirm(s){this.confirmationService.confirm({key:"confirm2",target:s.target||new EventTarget,message:"Are you sure that you want to proceed?",icon:"pi pi-exclamation-triangle",accept:()=>{this.messageService.add({severity:"info",summary:"Confirmed",detail:"You have accepted"})},reject:()=>{this.messageService.add({severity:"error",summary:"Rejected",detail:"You have rejected"})}})}open(){this.display=!0}close(){this.display=!1}toggleDataTable(s,e){s.toggle(e)}onProductSelect(s,e){s.hide(),this.messageService.add({severity:"info",summary:"Product Selected",detail:e?.data.name,life:3e3})}openConfirmation(){this.displayConfirmation=!0}closeConfirmation(){this.displayConfirmation=!1}static \u0275fac=function(e){return new(e||t)(Dt(Vo),Dt(cc),Dt(rr))};static \u0275cmp=Je({type:t,selectors:[["app-overlay-demo"]],features:[_t([cc,rr,Vo])],decls:71,vars:42,consts:[["footer",""],["op2",""],["header",""],["body",""],["popup",""],[1,"flex","flex-col","md:flex-row","gap-8"],[1,"md:w-1/2"],[1,"card"],[1,"font-semibold","text-xl","mb-4"],["header","Dialog",3,"visibleChange","visible","breakpoints","modal"],[1,"leading-normal","m-0"],["label","Show",3,"click"],[1,"flex","flex-wrap","gap-2"],["type","button","label","Show",3,"click"],["id","overlay_panel"],["selectionMode","single","dataKey","id",3,"selectionChange","onRowSelect","value","selection","rows","paginator"],[1,"inline-flex","gap-4"],["pInputText","","type","text","placeholder","Username","pTooltip","Your username"],["type","button","label","Save","pTooltip","Click to proceed"],["header","Drawer",3,"visibleChange","visible"],["header","Drawer","position","right",3,"visibleChange","visible"],["header","Drawer","position","top",3,"visibleChange","visible"],["header","Drawer","position","bottom",3,"visibleChange","visible"],["header","Drawer","position","full",3,"visibleChange","visible"],["icon","pi pi-arrow-right",3,"click"],["icon","pi pi-arrow-left",3,"click"],["icon","pi pi-arrow-down",3,"click"],["icon","pi pi-arrow-up",3,"click"],["icon","pi pi-external-link",3,"click"],["icon","pi pi-check","label","Confirm",1,"mr-2",3,"click"],["label","Delete","icon","pi pi-trash","severity","danger",3,"click"],["header","Confirmation",3,"visibleChange","visible","modal"],[1,"flex","items-center","justify-center"],[1,"pi","pi-exclamation-triangle","mr-4",2,"font-size","2rem"],["label","Save",3,"click"],[3,"pSelectableRow"],[1,"w-16","shadow-sm",3,"src","alt"],["label","No","icon","pi pi-times","text","","severity","secondary",3,"click"],["label","Yes","icon","pi pi-check","severity","danger","outlined","","autofocus","",3,"click"]],template:function(e,i){if(e&1){let n=Be();A(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8),ie(4,"Dialog"),L(),A(5,"p-dialog",9),ci("visibleChange",function(u){return Q(n),li(i.display,u)||(i.display=u),X(u)}),A(6,"p",10),ie(7," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),L(),z(8,GX,1,0,"ng-template",null,0,ze),L(),A(10,"p-button",11),we("click",function(){return Q(n),X(i.open())}),L()(),A(11,"div",7)(12,"div",8),ie(13,"Popover"),L(),A(14,"div",12)(15,"p-button",13),we("click",function(u){Q(n);let b=Gt(17);return X(i.toggleDataTable(b,u))}),L(),A(16,"p-popover",14,1)(18,"p-table",15),ci("selectionChange",function(u){return Q(n),li(i.selectedProduct,u)||(i.selectedProduct=u),X(u)}),we("onRowSelect",function(u){Q(n);let b=Gt(17);return X(i.onProductSelect(b,u))}),z(19,UX,7,0,"ng-template",null,2,ze)(21,$X,7,5,"ng-template",null,3,ze),L()(),ae(23,"p-toast"),L()(),A(24,"div",7)(25,"div",8),ie(26,"Tooltip"),L(),A(27,"div",16),ae(28,"input",17)(29,"p-button",18),L()()(),A(30,"div",6)(31,"div",7)(32,"div",8),ie(33,"Drawer"),L(),A(34,"p-drawer",19),ci("visibleChange",function(u){return Q(n),li(i.visibleLeft,u)||(i.visibleLeft=u),X(u)}),A(35,"p"),ie(36," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),L()(),A(37,"p-drawer",20),ci("visibleChange",function(u){return Q(n),li(i.visibleRight,u)||(i.visibleRight=u),X(u)}),A(38,"p"),ie(39," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),L()(),A(40,"p-drawer",21),ci("visibleChange",function(u){return Q(n),li(i.visibleTop,u)||(i.visibleTop=u),X(u)}),A(41,"p"),ie(42," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),L()(),A(43,"p-drawer",22),ci("visibleChange",function(u){return Q(n),li(i.visibleBottom,u)||(i.visibleBottom=u),X(u)}),A(44,"p"),ie(45," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),L()(),A(46,"p-drawer",23),ci("visibleChange",function(u){return Q(n),li(i.visibleFull,u)||(i.visibleFull=u),X(u)}),A(47,"p"),ie(48," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),L()(),A(49,"p-button",24),we("click",function(){return Q(n),X(i.visibleLeft=!0)}),L(),A(50,"p-button",25),we("click",function(){return Q(n),X(i.visibleRight=!0)}),L(),A(51,"p-button",26),we("click",function(){return Q(n),X(i.visibleTop=!0)}),L(),A(52,"p-button",27),we("click",function(){return Q(n),X(i.visibleBottom=!0)}),L(),A(53,"p-button",28),we("click",function(){return Q(n),X(i.visibleFull=!0)}),L()(),A(54,"div",7)(55,"div",8),ie(56,"ConfirmPopup"),L(),ae(57,"p-confirmpopup"),A(58,"p-button",29,4),we("click",function(u){return Q(n),X(i.confirm(u))}),L()(),A(60,"div",7)(61,"div",8),ie(62,"ConfirmDialog"),L(),A(63,"p-button",30),we("click",function(){return Q(n),X(i.openConfirmation())}),L(),A(64,"p-dialog",31),ci("visibleChange",function(u){return Q(n),li(i.displayConfirmation,u)||(i.displayConfirmation=u),X(u)}),A(65,"div",32),ae(66,"i",33),A(67,"span"),ie(68,"Are you sure you want to proceed?"),L()(),z(69,KX,2,0,"ng-template",null,0,ze),L()()()()}e&2&&(S(5),Lt(Zt(32,NX)),si("visible",i.display),C("breakpoints",Zt(33,qX))("modal",!0),S(5),Lt(Zt(34,i4)),S(6),Lt(Zt(35,HX)),S(2),C("value",i.products),si("selection",i.selectedProduct),C("rows",5)("paginator",!0),S(16),si("visible",i.visibleLeft),S(3),si("visible",i.visibleRight),S(3),si("visible",i.visibleTop),S(3),si("visible",i.visibleBottom),S(3),si("visible",i.visibleFull),S(3),Lt(Zt(36,O_)),S(),Lt(Zt(37,O_)),S(),Lt(Zt(38,O_)),S(),Lt(Zt(39,O_)),S(11),Lt(Zt(40,i4)),S(),Lt(Zt(41,jX)),si("visible",i.displayConfirmation),C("modal",!0))},dependencies:[fc,vp,a3,n3,zi,Gi,XS,Fv,Gw,jw,t4,Vv,Fo,ma,dn,aa,La,X0,Q0,v3],encapsulation:2})};var WX=["colgroup"],ZX=["caption"],QX=["header"],XX=["body"],YX=["footer"],JX=["summary"],eY=["emptymessage"],tY=["paginatorleft"],iY=["paginatorright"],nY=["paginatordropdownitem"],aY=["frozenheader"],oY=["frozenbody"],rY=["frozenfooter"],sY=["frozencolgroup"],lY=["loadingicon"],cY=["reorderindicatorupicon"],dY=["reorderindicatordownicon"],uY=["sorticon"],pY=["checkboxicon"],hY=["headercheckboxicon"],mY=["togglericon"],fY=["paginatorfirstpagelinkicon"],gY=["paginatorlastpagelinkicon"],_Y=["paginatorpreviouspagelinkicon"],bY=["paginatornextpagelinkicon"],yY=["loader"],vY=["resizeHelper"],xY=["reorderIndicatorUp"],wY=["reorderIndicatorDown"],IY=["table"],TY=["scrollableView"],CY=["scrollableFrozenView"],xl=t=>({$implicit:t}),SY=(t,s)=>({left:t,width:s}),MY=(t,s)=>[t,s],kY=t=>({width:t});function EY(t,s){if(t&1&&ae(0,"i"),t&2){let e=M(2);$(e.cn(e.cx("loadingIcon"),"pi-spin"+e.loadingIcon))}}function PY(t,s){if(t&1&&(at(),ae(0,"svg",11)),t&2){let e=M(3);$(e.cx("loadingIcon")),C("spin",!0)}}function DY(t,s){}function LY(t,s){t&1&&z(0,DY,0,0,"ng-template")}function AY(t,s){if(t&1&&(A(0,"span"),z(1,LY,1,0,null,12),L()),t&2){let e=M(3);$(e.cx("loadingIcon")),S(),C("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)}}function OY(t,s){if(t&1&&(Ke(0),z(1,PY,1,3,"svg",10)(2,AY,2,3,"span",6),We()),t&2){let e=M(2);S(),C("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),S(),C("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function FY(t,s){if(t&1&&(A(0,"div")(1,"div"),z(2,EY,1,2,"i",6)(3,OY,3,2,"ng-container",9),L()()),t&2){let e=M();$(e.cx("loading")),S(),$(e.cx("mask")),S(),C("ngIf",e.loadingIcon),S(),C("ngIf",!e.loadingIcon)}}function VY(t,s){t&1&&nt(0)}function zY(t,s){if(t&1&&(A(0,"div"),z(1,VY,1,0,"ng-container",12),L()),t&2){let e=M();$(e.cx("header")),S(),C("ngTemplateOutlet",e.captionTemplate||e._captionTemplate)}}function RY(t,s){t&1&&nt(0)}function BY(t,s){if(t&1&&z(0,RY,1,0,"ng-container",12),t&2){let e=M(3);C("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate)}}function NY(t,s){t&1&&z(0,BY,1,1,"ng-template",14)}function qY(t,s){t&1&&nt(0)}function HY(t,s){if(t&1&&z(0,qY,1,0,"ng-container",12),t&2){let e=M(3);C("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate)}}function jY(t,s){t&1&&z(0,HY,1,1,"ng-template",15)}function GY(t,s){t&1&&nt(0)}function UY(t,s){if(t&1&&z(0,GY,1,0,"ng-container",12),t&2){let e=M(3);C("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate)}}function $Y(t,s){t&1&&z(0,UY,1,1,"ng-template",16)}function KY(t,s){t&1&&nt(0)}function WY(t,s){if(t&1&&z(0,KY,1,0,"ng-container",12),t&2){let e=M(3);C("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function ZY(t,s){t&1&&z(0,WY,1,1,"ng-template",17)}function QY(t,s){if(t&1){let e=Be();A(0,"p-paginator",13),we("onPageChange",function(n){Q(e);let a=M();return X(a.onPageChange(n))}),z(1,NY,1,0,null,9)(2,jY,1,0,null,9)(3,$Y,1,0,null,9)(4,ZY,1,0,null,9),L()}if(t&2){let e=M();C("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("styleClass",e.cx("pcPaginator"))("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate??e._paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate??e._paginatorRightTemplate)("appendTo",e.paginatorDropdownAppendTo)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate??e._paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("locale",e.paginatorLocale),S(),C("ngIf",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate),S(),C("ngIf",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate),S(),C("ngIf",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate),S(),C("ngIf",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function XY(t,s){t&1&&nt(0)}function YY(t,s){t&1&&nt(0)}function JY(t,s){t&1&&nt(0)}function eJ(t,s){if(t&1&&(A(0,"div")(1,"table",18,0),z(3,XY,1,0,"ng-container",19),A(4,"thead",20),z(5,YY,1,0,"ng-container",19),L(),ae(6,"tbody",21),A(7,"tfoot",20),z(8,JY,1,0,"ng-container",19),L()()()),t&2){let e=M();$(e.cx("wrapper")),S(),C("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),S(2),C("ngTemplateOutlet",e.colGroupTemplate||e._colGroupTemplate)("ngTemplateOutletContext",ot(18,xl,e.columns)),S(),$(e.cx("thead")),S(),C("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)("ngTemplateOutletContext",ot(20,xl,e.columns)),S(),$(e.cx("tbody")),C("pTreeTableBody",e.columns)("pTreeTableBodyTemplate",e.bodyTemplate??e._bodyTemplate),S(),$(e.cx("tfoot")),S(),C("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)("ngTemplateOutletContext",ot(22,xl,e.columns))}}function tJ(t,s){if(t&1&&ae(0,"div",24,2),t&2){let e=M(2);C("ngClass",ni(5,MY,e.cx("scrollableView"),e.cx("frozenView")))("ttScrollableView",e.frozenColumns)("frozen",!0)("ngStyle",ot(8,kY,e.frozenWidth))("scrollHeight",e.scrollHeight)}}function iJ(t,s){if(t&1&&(A(0,"div"),z(1,tJ,2,10,"div",22),ae(2,"div",23,1),L()),t&2){let e=M();$(e.cx("scrollableWrapper")),S(),C("ngIf",e.frozenColumns||e.frozenBodyTemplate||e._frozenBodyTemplate),S(),$(e.cx("scrollableView")),C("ttScrollableView",e.columns)("frozen",!1)("scrollHeight",e.scrollHeight)("ngStyle",ni(9,SY,e.frozenWidth,"calc(100% - "+e.frozenWidth+")"))}}function nJ(t,s){t&1&&nt(0)}function aJ(t,s){if(t&1&&z(0,nJ,1,0,"ng-container",12),t&2){let e=M(3);C("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate)}}function oJ(t,s){t&1&&z(0,aJ,1,1,"ng-template",14)}function rJ(t,s){t&1&&nt(0)}function sJ(t,s){if(t&1&&z(0,rJ,1,0,"ng-container",12),t&2){let e=M(3);C("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate)}}function lJ(t,s){t&1&&z(0,sJ,1,1,"ng-template",15)}function cJ(t,s){t&1&&nt(0)}function dJ(t,s){if(t&1&&z(0,cJ,1,0,"ng-container",12),t&2){let e=M(3);C("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate)}}function uJ(t,s){t&1&&z(0,dJ,1,1,"ng-template",16)}function pJ(t,s){t&1&&nt(0)}function hJ(t,s){if(t&1&&z(0,pJ,1,0,"ng-container",12),t&2){let e=M(3);C("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function mJ(t,s){t&1&&z(0,hJ,1,1,"ng-template",17)}function fJ(t,s){if(t&1){let e=Be();A(0,"p-paginator",13),we("onPageChange",function(n){Q(e);let a=M();return X(a.onPageChange(n))}),z(1,oJ,1,0,null,9)(2,lJ,1,0,null,9)(3,uJ,1,0,null,9)(4,mJ,1,0,null,9),L()}if(t&2){let e=M();C("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("styleClass",e.cx("pcPaginator"))("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate??e._paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate??e._paginatorRightTemplate)("appendTo",e.paginatorDropdownAppendTo)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate??e._paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("locale",e.paginatorLocale),S(),C("ngIf",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate),S(),C("ngIf",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate),S(),C("ngIf",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate),S(),C("ngIf",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function gJ(t,s){t&1&&nt(0)}function _J(t,s){if(t&1&&(A(0,"div"),z(1,gJ,1,0,"ng-container",12),L()),t&2){let e=M();$(e.cx("footer")),S(),C("ngTemplateOutlet",e.summaryTemplate||e._summaryTemplate)}}function bJ(t,s){if(t&1&&ae(0,"div",null,3),t&2){let e=M();$(e.cx("columnResizerHelper")),Nn("display","none")}}function yJ(t,s){t&1&&(at(),ae(0,"svg",26))}function vJ(t,s){}function xJ(t,s){t&1&&z(0,vJ,0,0,"ng-template")}function wJ(t,s){if(t&1&&(A(0,"span",null,4),z(2,yJ,1,0,"svg",25)(3,xJ,1,0,null,12),L()),t&2){let e=M();$(e.cx("reorderIndicatorUp")),Nn("display","none"),S(2),C("ngIf",!e.reorderIndicatorUpIconTemplate&&!e._reorderIndicatorUpIconTemplate),S(),C("ngTemplateOutlet",e.reorderIndicatorUpIconTemplate||e._reorderIndicatorUpIconTemplate)}}function IJ(t,s){t&1&&(at(),ae(0,"svg",28))}function TJ(t,s){}function CJ(t,s){t&1&&z(0,TJ,0,0,"ng-template")}function SJ(t,s){if(t&1&&(A(0,"span",null,5),z(2,IJ,1,0,"svg",27)(3,CJ,1,0,null,12),L()),t&2){let e=M();$(e.cx("reorderIndicatorDown")),Nn("display","none"),S(2),C("ngIf",!e.reorderIndicatorDownIconTemplate&&!e._reorderIndicatorDownIconTemplate),S(),C("ngTemplateOutlet",e.reorderIndicatorDownIconTemplate||e._reorderIndicatorDownIconTemplate)}}var MJ=["pTreeTableBody",""],kJ=(t,s,e,i)=>({$implicit:t,node:s,rowData:e,columns:i}),EJ=(t,s)=>({$implicit:t,frozen:s});function PJ(t,s){t&1&&nt(0)}function DJ(t,s){if(t&1&&(Ke(0),z(1,PJ,1,0,"ng-container",2),We()),t&2){let e=M().$implicit,i=M();S(),C("ngTemplateOutlet",i.template)("ngTemplateOutletContext",Nd(2,kJ,e,e.node,e.node.data,i.columns))}}function LJ(t,s){if(t&1&&z(0,DJ,2,7,"ng-container",1),t&2){let e=s.$implicit;C("ngIf",e.visible)}}function AJ(t,s){t&1&&nt(0)}function OJ(t,s){if(t&1&&(Ke(0),z(1,AJ,1,0,"ng-container",2),We()),t&2){let e=M();S(),C("ngTemplateOutlet",e.tt.emptyMessageTemplate)("ngTemplateOutletContext",ni(2,EJ,e.columns,e.frozen))}}var FJ=["scrollHeader"],VJ=["scrollHeaderBox"],zJ=["scrollBody"],RJ=["scrollTable"],BJ=["loadingTable"],NJ=["scrollFooter"],qJ=["scrollFooterBox"],HJ=["scrollableAligner"],jJ=["scroller"],GJ=["ttScrollableView",""],UJ=t=>({height:t}),n4=(t,s)=>({$implicit:t,options:s}),$J=t=>({options:t}),KJ=(t,s)=>({"max-height":t,"overflow-y":s}),WJ=()=>({});function ZJ(t,s){t&1&&nt(0)}function QJ(t,s){t&1&&nt(0)}function XJ(t,s){t&1&&nt(0)}function YJ(t,s){if(t&1&&z(0,XJ,1,0,"ng-container",12),t&2){let e=s.$implicit,i=s.options;M(2);let n=Gt(11);C("ngTemplateOutlet",n)("ngTemplateOutletContext",ni(2,n4,e,i))}}function JJ(t,s){t&1&&nt(0)}function eee(t,s){if(t&1&&z(0,JJ,1,0,"ng-container",12),t&2){let e=s.options,i=M(3);C("ngTemplateOutlet",i.tt.loaderTemplate||i.tt._loaderTemplate)("ngTemplateOutletContext",ot(2,$J,e))}}function tee(t,s){t&1&&(Ke(0),z(1,eee,1,4,"ng-template",null,5,ze),We())}function iee(t,s){if(t&1){let e=Be();A(0,"p-scroller",17,3),we("onLazyLoad",function(n){Q(e);let a=M();return X(a.tt.onLazyItemLoad(n))}),z(2,YJ,1,5,"ng-template",null,4,ze)(4,tee,3,0,"ng-container",15),L()}if(t&2){let e=M();Lt(ot(9,UJ,e.tt.scrollHeight!=="flex"?e.tt.scrollHeight:void 0)),C("items",e.tt.serializedValue)("styleClass",e.cx("scrollableBody"))("scrollHeight",e.scrollHeight!=="flex"?void 0:"100%")("itemSize",e.tt.virtualScrollItemSize||e.tt._virtualRowHeight)("lazy",e.tt.lazy)("options",e.tt.virtualScrollOptions),S(4),C("ngIf",e.tt.loaderTemplate||e.tt._loaderTemplate)}}function nee(t,s){t&1&&nt(0)}function aee(t,s){if(t&1&&(Ke(0),A(1,"div",11,6),z(3,nee,1,0,"ng-container",12),L(),We()),t&2){let e=M(),i=Gt(11);S(),$(e.cx("scrollableBody")),C("ngStyle",ni(5,KJ,e.tt.scrollHeight!=="flex"?e.scrollHeight:void 0,!e.frozen&&e.tt.scrollHeight?"scroll":void 0)),S(2),C("ngTemplateOutlet",i)("ngTemplateOutletContext",ni(9,n4,e.serializedValue,Zt(8,WJ)))}}function oee(t,s){t&1&&nt(0)}function ree(t,s){t&1&&ae(0,"div",null,8),t&2&&Nn("background-color","transparent")}function see(t,s){if(t&1&&(A(0,"table",18,7),z(2,oee,1,0,"ng-container",12),ae(3,"tbody",19),L(),z(4,ree,2,2,"div",20)),t&2){let e=s.$implicit,i=s.options,n=M();Lt(i.contentStyle),$(n.tt.tableStyleClass),C("ngClass",i.contentStyleClass)("ngStyle",n.tt.tableStyle),S(2),C("ngTemplateOutlet",n.frozen?n.tt.frozenColGroupTemplate||n.tt._frozenColGroupTemplate||n.tt.colGroupTemplate||n.tt._colGroupTemplate:n.tt.colGroupTemplate||n.tt._colGroupTemplate)("ngTemplateOutletContext",ot(15,xl,n.columns)),S(),$(n.cx("tbody")),C("pTreeTableBody",n.columns)("pTreeTableBodyTemplate",n.frozen?n.tt.frozenBodyTemplate||n.tt._frozenBodyTemplate||n.tt.bodyTemplate||n.tt._bodyTemplate:n.tt.bodyTemplate||n.tt._bodyTemplate)("serializedNodes",e)("frozen",n.frozen),S(),C("ngIf",n.frozen)}}function lee(t,s){t&1&&nt(0)}function cee(t,s){t&1&&nt(0)}function dee(t,s){if(t&1&&(A(0,"div",null,9)(2,"div",null,10)(4,"table",21),z(5,lee,1,0,"ng-container",12),A(6,"tfoot",13),z(7,cee,1,0,"ng-container",12),L()()()()),t&2){let e=M();$(e.cx("scrollableFooter")),S(2),$(e.cx("scrollableFooterBox")),S(2),$(e.cx("scrollableFooterTable")),C("ngClass",e.tt.tableStyleClass)("ngStyle",e.tt.tableStyle),S(),C("ngTemplateOutlet",e.frozen?e.tt.frozenColGroupTemplate||e.tt._frozenColGroupTemplate||e.tt.colGroupTemplate||e.tt._colGroupTemplate:e.tt.colGroupTemplate||e.tt._colGroupTemplate)("ngTemplateOutletContext",ot(14,xl,e.columns)),S(),$(e.cx("tfoot")),S(),C("ngTemplateOutlet",e.frozen?e.tt.frozenFooterTemplate||e.tt._frozenFooterTemplate||e.tt.footerTemplate||e.tt._footerTemplate:e.tt.footerTemplate||e.tt._footerTemplate)("ngTemplateOutletContext",ot(16,xl,e.columns))}}var uee=(t,s)=>({$implicit:t,partialSelected:s});function pee(t,s){}function hee(t,s){t&1&&z(0,pee,0,0,"ng-template")}function mee(t,s){if(t&1&&z(0,hee,1,0,null,3),t&2){let e=M(2);C("ngTemplateOutlet",e.tt.checkboxIconTemplate||e.tt._checkboxIconTemplate)("ngTemplateOutletContext",ni(2,uee,e.checked,e.partialChecked))}}function fee(t,s){t&1&&(Ke(0),z(1,mee,1,5,"ng-template",2),We())}function gee(t,s){t&1&&(at(),ae(0,"svg",5)),t&2&&de("aria-hidden",!0)}function _ee(t,s){t&1&&(at(),ae(0,"svg",6)),t&2&&de("aria-hidden",!0)}function bee(t,s){if(t&1&&(Ke(0),z(1,gee,1,1,"svg",3)(2,_ee,1,1,"svg",4),We()),t&2){let e=M();S(),C("ngIf",e.rowNode.node.expanded),S(),C("ngIf",!e.rowNode.node.expanded)}}function yee(t,s){}function vee(t,s){t&1&&z(0,yee,0,0,"ng-template")}var xee=`
/* For PrimeNG */
.p-treetable {
    position: relative;
}

.p-treetable table {
    border-collapse: collapse;
    width: 100%;
    table-layout: fixed;
}

.p-treetable .p-sortable-column {
    cursor: pointer;
    user-select: none;
}

.p-treetable .p-sortable-column .p-column-title,
.p-treetable .p-sortable-column .p-sortable-column-icon,
.p-treetable .p-sortable-column .p-sortable-column-badge {
    vertical-align: middle;
}

.p-treetable-sort-icon {
    color: dt('treetable.sort.icon.color');
    font-size: dt('treetable.sort.icon.size');
    width: dt('treetable.sort.icon.size');
    height: dt('treetable.sort.icon.size');
    transition: color dt('treetable.transition.duration');
}

.p-treetable .p-sortable-column .p-sortable-column-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.p-treetable-auto-layout>.p-treetable-wrapper {
    overflow-x: auto;
}

.p-treetable-auto-layout>.p-treetable-wrapper>table {
    table-layout: auto;
}

.p-treetable-hoverable-rows .p-treetable-tbody>tr {
    cursor: pointer;
}

.p-treetable-toggler {
    cursor: pointer;
    user-select: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    vertical-align: middle;
    overflow: hidden;
    position: relative;
}


/* Scrollable */
.p-treetable-scrollable-wrapper {
    position: relative;
}

.p-treetable-scrollable-header,
.p-treetable-scrollable-footer {
    overflow: hidden;
    flex-shrink: 0;
}

.p-treetable-scrollable-body {
    overflow: auto;
    position: relative;
}

.p-treetable-virtual-table {
    position: absolute;
}

/* Frozen Columns */
.p-treetable-frozen-view .p-treetable-scrollable-body {
    overflow: hidden;
}

.p-treetable-frozen-view>.p-treetable-scrollable-body>table>.p-treetable-tbody>tr>td:last-child {
    border-right: 0 none;
}

.p-treetable-unfrozen-view {
    position: absolute;
    top: 0;
}

/* Flex Scrollable */
.p-treetable-flex-scrollable {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
}

.p-treetable-flex-scrollable .p-treetable-scrollable-wrapper,
.p-treetable-flex-scrollable .p-treetable-scrollable-view {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
}

.p-treetable-flex-scrollable .p-treetable-virtual-scrollable-body {
    flex: 1;
}

/* Resizable */
.p-treetable-resizable>.p-treetable-wrapper {
    overflow-x: auto;
}

.p-treetable-resizable .p-treetable-thead>tr>th,
.p-treetable-resizable .p-treetable-tfoot>tr>td,
.p-treetable-resizable .p-treetable-tbody>tr>td {
    overflow: hidden;
}

.p-treetable-resizable .p-resizable-column {
    background-clip: padding-box;
    position: relative;
}

.p-treetable-resizable-fit .p-resizable-column:last-child .p-column-resizer {
    display: none;
}

.p-treetable .p-column-resizer {
    display: block;
    position: absolute;
    top: 0;
    right: 0;
    margin: 0;
    width: dt('treetable.column.resizer.width');
    height: 100%;
    padding: 0px;
    cursor: col-resize;
    border: 1px solid transparent;
}

.p-treetable .p-column-resizer-helper {
    width: dt('treetable.resize.indicator.width');
    position: absolute;
    z-index: 10;
    display: none;
    background: dt('treetable.resize.indicator.color');
}

.p-treetable .p-row-editor-init,
.p-treetable .p-row-editor-save,
.p-treetable .p-row-editor-cancel {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}


/* Reorder */
.p-treetable-reorder-indicator-up,
.p-treetable-reorder-indicator-down {
    position: absolute;
    display: none;
}

[ttReorderableColumn] {
    cursor: move;
}

/* Loader */
.p-treetable-mask {
    position: absolute !important;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

.p-treetable-loading-icon {
    font-size: dt('treetable.loading.icon.size');
    width: dt('treetable.loading.icon.size');
    height: dt('treetable.loading.icon.size');
}

/* Virtual Scroll */
.p-treetable .p-scroller-loading {
    transform: none !important;
    min-height: 0;
    position: sticky;
    top: 0;
    left: 0;
}

.p-treetable .p-paginator-top {
    border-color: dt('treetable.paginator.top.border.color');
    border-style: solid;
    border-width: dt('treetable.paginator.top.border.width');
}

.p-treetable .p-paginator-bottom {
    border-color: dt('treetable.paginator.bottom.border.color');
    border-style: solid;
    border-width: dt('treetable.paginator.bottom.border.width');
}

.p-treetable .p-treetable-header {
    background: dt('treetable.header.background');
    color: dt('treetable.header.color');
    border-color: dt('treetable.header.border.color');
    border-style: solid;
    border-width: dt('treetable.header.border.width');
    padding: dt('treetable.header.padding');
    font-weight: dt('treetable.column.title.font.weight');
}

.p-treetable .p-treetable-footer {
    background: dt('treetable.footer.background');
    color: dt('treetable.footer.color');
    border-color: dt('treetable.footer.border.color');
    border-style: solid;
    border-width: dt('treetable.footer.border.width');
    padding: dt('treetable.footer.padding');
    font-weight: dt('treetable.column.footer.font.weight');
}

.p-treetable .p-treetable-thead>tr>th {
    padding: dt('treetable.header.cell.padding');
    background: dt('treetable.header.cell.background');
    border-color: dt('treetable.header.cell.border.color');
    border-style: solid;
    border-width: 0 0 1px 0;
    color: dt('treetable.header.cell.color');
    font-weight: dt('treetable.column.title.font.weight');
    text-align: start;
    transition: background dt('treetable.transition.duration'), color dt('treetable.transition.duration'), border-color dt('treetable.transition.duration'),
            outline-color dt('treetable.transition.duration'), box-shadow dt('treetable.transition.duration');
}

.p-treetable .p-treetable-tfoot>tr>td {
    text-align: start;
    padding: dt('treetable.footer.cell.padding');
    border-color: dt('treetable.footer.cell.border.color');
    border-style: solid;
    border-width: 0 0 1px 0;
    color: dt('treetable.footer.cell.color');
    background: dt('treetable.footer.cell.background');
    font-weight: dt('treetable.column.footer.font.weight');
}

.p-treetable .p-sortable-column {
    cursor: pointer;
    user-select: none;
    outline-color: transparent;
    vertical-align: middle;
}

.p-treetable .p-sortable-column .p-sortable-column-icon {
    color: dt('treetable.sort.icon.color');
    transition: color dt('treetable.transition.duration');
}


.p-treetable .p-sortable-column:not(.p-treetable-column-sorted):hover {
    background: dt('treetable.header.cell.hover.background');
    color: dt('treetable.header.cell.hover.color');
}

.p-treetable .p-sortable-column:not(.p-treetable-column-sorted):hover .p-sortable-column-icon {
    color: dt('treetable.sort.icon.hover.color');
}

.p-treetable .p-sortable-column.p-treetable-column-sorted {
    background: dt('treetable.header.cell.selected.background');
    color: dt('treetable.header.cell.selected.color');
}

.p-treetable .p-sortable-column.p-treetable-column-sorted .p-sortable-column-icon {
    color: dt('treetable.header.cell.selected.color');
}

.p-treetable .p-sortable-column:focus-visible {
    box-shadow: dt('treetable.header.cell.focus.ring.shadow');
    outline: dt('treetable.header.cell.focus.ring.width') dt('treetable.header.cell.focus.ring.style') dt('treetable.header.cell.focus.ring.color');
    outline-offset: dt('treetable.header.cell.focus.ring.offset');
}

.p-treetable-hoverable .p-treetable-selectable-row {
    cursor: pointer;
}

.p-treetable .p-treetable-tbody > tr {
    outline-color: transparent;
    background: dt('treetable.row.background');
    color: dt('treetable.row.color');
    transition: background dt('treetable.transition.duration'), color dt('treetable.transition.duration'), border-color dt('treetable.transition.duration'),
            outline-color dt('treetable.transition.duration'), box-shadow dt('treetable.transition.duration');
}

.p-treetable .p-treetable-tbody>tr>td {
    text-align: start;
    border-color: dt('treetable.body.cell.border.color');
    border-style: solid;
    border-width: 0 0 1px 0;
    padding: dt('treetable.body.cell.padding');
}

.p-treetable .p-treetable-tbody>tr>td .p-treetable-toggler {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    width: dt('treetable.node.toggle.button.size');
    height: dt('treetable.node.toggle.button.size');
    color: dt('treetable.node.toggle.button.color');
    border: 0 none;
    background: transparent;
    cursor: pointer;
    border-radius: dt('treetable.node.toggle.button.border.radius');
    transition: background dt('treetable.transition.duration'), color dt('treetable.transition.duration'), border-color dt('treetable.transition.duration'),
            outline-color dt('treetable.transition.duration'), box-shadow dt('treetable.transition.duration');
    outline-color: transparent;
    user-select: none;
}

.p-treetable .p-treetable-tbody>tr>td .p-treetable-toggler:enabled:hover {
    color: dt('treetable.node.toggle.button.hover.color');
    background: dt('treetable.node.toggle.button.hover.background');
}

.p-treetable .p-treetable-tbody>tr>tr.treetable-row-selected .p-treetable-toggler:hover {
    background: dt('treetable.node.toggle.button.selected.hover.background');
    color: dt('treetable.node.toggle.button.selected.hover.color');
}

.p-treetable .p-treetable-tbody>tr>td .p-treetable-toggler:focus-visible {
    box-shadow: dt('treetable.node.toggle.button.focus.ring.shadow');
    outline: dt('treetable.node.toggle.button.focus.ring.width') dt('treetable.node.toggle.button.focus.ring.style') dt('treetable.node.toggle.button.focus.ring.color');
    outline-offset: dt('treetable.node.toggle.button.focus.ring.offset');
}


.p-treetable .p-treetable-tbody>tr.p-treetable-row-selected {
    background: dt('treetable.row.selected.background');
    color: dt('treetable.row.selected.color');
}

.p-treetable-tbody > tr:focus-visible,
.p-treetable-tbody > tr.p-treetable-contextmenu-row-selected {
    box-shadow: dt('treetable.row.focus.ring.shadow');
    outline: dt('treetable.row.focus.ring.width') dt('treetable.row.focus.ring.style') dt('treetable.row.focus.ring.color');
    outline-offset: dt('treetable.row.focus.ring.offset');
}

.p-treetable .p-treetable-tbody>tr.p-treetable-row-selected .p-treetable-toggler {
    color: inherit;
}

.p-treetable .p-treetable-tbody>tr.p-treetable-row-selected .p-treetable-toggler:hover {
    background: dt('treetable.node.toggle.button.selected.hover.background');
    color: dt('treetable.node.toggle.button.selected.hover.color');
}

.p-treetable.p-treetable-hoverable-rows .p-treetable-tbody>tr:not(.p-treetable-row-selected):hover {
    background: dt('treetable.row.hover.background');
    color: dt('treetable.row.hover.color');
}

.p-treetable-gridlines .p-treetable-header {
    border-width: 1px 1px 0 1px;
}

.p-treetable-gridlines .p-treetable-footer {
    border-width: 0 1px 1px 1px;
}

.p-treetable-gridlines .p-treetable-paginator-top {
    border-width: 1px 1px 0 1px;
}

.p-treetable-gridlines .p-treetable-paginator-bottom {
    border-width: 0 1px 1px 1px;
}

.p-treetable-gridlines .p-treetable-thead > tr > th {
    border-width: 1px 0 1px 1px;
}

.p-treetable-gridlines .p-treetable-thead > tr > th:last-child {
    border-width: 1px;
}

.p-treetable-gridlines .p-treetable-tbody > tr > td {
    border-width: 1px 0 0 1px;
}

.p-treetable-gridlines .p-treetable-tbody > tr > td:last-child {
    border-width: 1px 1px 0 1px;
}

.p-treetable-gridlines .p-treetable-tbody > tr:last-child > td {
    border-width: 1px 0 1px 1px;
}

.p-treetable-gridlines .p-treetable-tbody > tr:last-child > td:last-child {
    border-width: 1px;
}

.p-treetable-gridlines .p-treetable-tfoot > tr > td {
    border-width: 1px 0 1px 1px;
}

.p-treetable-gridlines .p-treetable-tfoot > tr > td:last-child {
    border-width: 1px 1px 1px 1px;
}

.p-treetable.p-treetable-gridlines .p-treetable-thead + .p-treetable-tfoot > tr > td {
    border-width: 0 0 1px 1px;
}

.p-treetable.p-treetable-gridlines .p-treetable-thead + .p-treetable-tfoot > tr > td:last-child {
    border-width: 0 1px 1px 1px;
}

.p-treetable.p-treetable-gridlines:has(.p-treetable-thead):has(.p-treetable-tbody) .p-treetable-tbody > tr > td {
    border-width: 0 0 1px 1px;
}

.p-treetable.p-treetable-gridlines:has(.p-treetable-thead):has(.p-treetable-tbody) .p-treetable-tbody > tr > td:last-child {
    border-width: 0 1px 1px 1px;
}

.p-treetable.p-treetable-gridlines:has(.p-treetable-tbody):has(.p-treetable-tfoot) .p-treetable-tbody > tr:last-child > td {
    border-width: 0 0 0 1px;
}

.p-treetable.p-treetable-gridlines:has(.p-treetable-tbody):has(.p-treetable-tfoot) .p-treetable-tbody > tr:last-child > td:last-child {
    border-width: 0 1px 0 1px;
}

.p-treetable.p-treetable-sm .p-treetable-header {
    padding: 0.65625rem 0.875rem;
}

.p-treetable.p-treetable-sm .p-treetable-thead>tr>th {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-sm .p-treetable-tbody>tr>td {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-sm .p-treetable-tfoot>tr>td {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-sm .p-treetable-footer {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-lg .p-treetable-header {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-thead>tr>th {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-tbody>tr>td {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-tfoot>tr>td {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-footer {
    padding: 0.9375rem 1.25rem;
}

p-treetabletoggler + p-treetablecheckbox .p-checkbox,
p-treetable-toggler + p-treetable-checkbox .p-checkbox,
p-tree-table-toggler + p-tree-table-checkbox .p-checkbox {
    vertical-align: middle;
}

p-treetabletoggler + p-treetablecheckbox + span,
p-treetable-toggler + p-treetable-checkbox + span,
p-tree-table-toggler + p-tree-table-checkbox + span {
    vertical-align: middle;
}

p-treetable-sort-icon {
    display: inline-flex;
    align-items: center;
    gap: dt('treetable.header.cell.gap');
}
`,wee={root:({instance:t})=>["p-treetable p-component",{"p-treetable-gridlines":t.showGridlines,"p-treetable-hoverable-rows":t.rowHover||t.selectionMode==="single"||t.selectionMode==="multiple","p-treetable-auto-layout":t.autoLayout,"p-treetable-resizable":t.resizableColumns,"p-treetable-resizable-fit":t.resizableColumns&&t.columnResizeMode==="fit","p-treetable-flex-scrollable":t.scrollable&&t.scrollHeight==="flex"}],loading:"p-treetable-loading",mask:"p-treetable-mask p-overlay-mask",loadingIcon:"p-treetable-loading-icon",header:"p-treetable-header",pcPaginator:({instance:t})=>["p-treetable-paginator-"+t.paginatorPosition,t.paginatorStyleClass],tableContainer:"p-treetable-table-container",table:({instance:t})=>({"p-treetable-table":!0,"p-treetable-scrollable-table":t.scrollable,"p-treetable-resizable-table":t.resizableColumns,"p-treetable-resizable-table-fit":t.resizableColumns&&t.columnResizeMode==="fit"}),thead:"p-treetable-thead",sortableColumn:({instance:t})=>({"p-sortable-column":t.isEnabled(),"p-treetable-column-sorted":t.sorted}),sortableColumnIcon:"p-treetable-sort-icon",sortableColumnBadge:"p-sortable-column-badge",columnResizer:"p-treetable-column-resizer",columnHeaderContent:"p-treetable-column-header-content",columnTitle:"p-treetable-column-title",sortIcon:"p-treetable-sort-icon",pcSortBadge:"p-treetable-sort-badge",tbody:"p-treetable-tbody",row:({instance:t})=>({"p-treetable-row-selected":t.selected}),contextMenuRow:({instance:t})=>({"p-treetable-contextmenu-row-selected":t.selected}),toggler:"p-treetable-toggler",nodeToggleButton:"p-treetable-node-toggle-button",nodeToggleIcon:"p-treetable-node-toggle-icon",pcNodeCheckbox:"p-treetable-node-checkbox",tfoot:"p-treetable-tfoot",footerCell:({instance:t})=>({"p-treetable-frozen-column":t.columnProp("frozen")}),footer:"p-treetable-footer",columnResizeIndicator:"p-treetable-column-resize-indicator",wrapper:"p-treetable-wrapper",scrollableWrapper:"p-treetable-scrollable-wrapper",scrollableView:"p-treetable-scrollable-view",frozenView:"p-treetable-frozen-view",columnResizerHelper:"p-column-resizer-helper",reorderIndicatorUp:"p-treetable-reorder-indicator-up",reorderIndicatorDown:"p-treetable-reorder-indicator-down",scrollableHeader:"p-treetable-scrollable-header",scrollableHeaderBox:"p-treetable-scrollable-header-box",scrollableHeaderTable:"p-treetable-scrollable-header-table",scrollableBody:"p-treetable-scrollable-body",scrollableFooter:"p-treetable-scrollable-footer",scrollableFooterBox:"p-treetable-scrollable-footer-box",scrollableFooterTable:"p-treetable-scrollable-footer-table"},Zr=(()=>{class t extends Rt{name="treetable";theme=xee;classes=wee;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var Wm=(()=>{class t{sortSource=new rn;selectionSource=new rn;contextMenuSource=new rn;uiUpdateSource=new rn;totalRecordsSource=new rn;sortSource$=this.sortSource.asObservable();selectionSource$=this.selectionSource.asObservable();contextMenuSource$=this.contextMenuSource.asObservable();uiUpdateSource$=this.uiUpdateSource.asObservable();totalRecordsSource$=this.totalRecordsSource.asObservable();onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onUIUpdate(e){this.uiUpdateSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})(),Bc=(()=>{class t extends Ot{_componentStyle=Fe(Zr);columns;styleClass;tableStyle;tableStyleClass;autoLayout;lazy=!1;lazyLoadOnInit=!0;paginator;rows;first=0;pageLinks=5;rowsPerPageOptions;alwaysShowPaginator=!0;paginatorPosition="bottom";paginatorStyleClass;paginatorDropdownAppendTo;currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showFirstLastIcon=!0;showPageLinks=!0;defaultSortOrder=1;sortMode="single";resetPageOnSort=!0;customSort;selectionMode;contextMenuSelection;contextMenuSelectionMode="separate";dataKey;metaKeySelection=!1;compareSelectionBy="deepEquals";rowHover;loading;loadingIcon;showLoader=!0;scrollable;scrollHeight;virtualScroll;virtualScrollItemSize;virtualScrollOptions;virtualScrollDelay=150;frozenWidth;frozenColumns;resizableColumns;columnResizeMode="fit";reorderableColumns;contextMenu;rowTrackBy=(e,i)=>i;filters={};globalFilterFields;filterDelay=300;filterMode="lenient";filterLocale;paginatorLocale;get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get value(){return this._value}set value(e){this._value=e}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(e){this._virtualRowHeight=e,console.log("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}get selectionKeys(){return this._selectionKeys}set selectionKeys(e){this._selectionKeys=e,this.selectionKeysChange.emit(this._selectionKeys)}showGridlines=!1;selectionChange=new Le;contextMenuSelectionChange=new Le;onFilter=new Le;onNodeExpand=new Le;onNodeCollapse=new Le;onPage=new Le;onSort=new Le;onLazyLoad=new Le;sortFunction=new Le;onColResize=new Le;onColReorder=new Le;onNodeSelect=new Le;onNodeUnselect=new Le;onContextMenuSelect=new Le;onHeaderCheckboxToggle=new Le;onEditInit=new Le;onEditComplete=new Le;onEditCancel=new Le;selectionKeysChange=new Le;resizeHelperViewChild;reorderIndicatorUpViewChild;reorderIndicatorDownViewChild;tableViewChild;scrollableViewChild;scrollableFrozenViewChild;_value=[];_virtualRowHeight=28;_selectionKeys;serializedValue;_totalRecords=0;_multiSortMeta;_sortField;_sortOrder=1;filteredNodes;filterTimeout;_colGroupTemplate;colGroupTemplate;_captionTemplate;captionTemplate;_headerTemplate;headerTemplate;_bodyTemplate;bodyTemplate;_footerTemplate;footerTemplate;_summaryTemplate;summaryTemplate;_emptyMessageTemplate;emptyMessageTemplate;_paginatorLeftTemplate;paginatorLeftTemplate;_paginatorRightTemplate;paginatorRightTemplate;_paginatorDropdownItemTemplate;paginatorDropdownItemTemplate;_frozenHeaderTemplate;frozenHeaderTemplate;_frozenBodyTemplate;frozenBodyTemplate;_frozenFooterTemplate;frozenFooterTemplate;_frozenColGroupTemplate;frozenColGroupTemplate;_loadingIconTemplate;loadingIconTemplate;_reorderIndicatorUpIconTemplate;reorderIndicatorUpIconTemplate;_reorderIndicatorDownIconTemplate;reorderIndicatorDownIconTemplate;_sortIconTemplate;sortIconTemplate;_checkboxIconTemplate;checkboxIconTemplate;_headerCheckboxIconTemplate;headerCheckboxIconTemplate;_togglerIconTemplate;togglerIconTemplate;_paginatorFirstPageLinkIconTemplate;paginatorFirstPageLinkIconTemplate;_paginatorLastPageLinkIconTemplate;paginatorLastPageLinkIconTemplate;_paginatorPreviousPageLinkIconTemplate;paginatorPreviousPageLinkIconTemplate;_paginatorNextPageLinkIconTemplate;paginatorNextPageLinkIconTemplate;_loaderTemplate;loaderTemplate;lastResizerHelperX;reorderIconWidth;reorderIconHeight;draggedColumn;dropPosition;preventSelectionSetterPropagation;_selection;selectedKeys={};rowTouched;editingCell;editingCellData;editingCellField;editingCellClick;documentEditListener;initialized;toggleRowIndex;ngOnInit(){super.ngOnInit(),this.lazy&&this.lazyLoadOnInit&&!this.virtualScroll&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.initialized=!0}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"reorderindicatorupicon":this.reorderIndicatorUpIconTemplate=e.template;break;case"reorderindicatordownicon":this.reorderIndicatorDownIconTemplate=e.template;break;case"sorticon":this.sortIconTemplate=e.template;break;case"checkboxicon":this.checkboxIconTemplate=e.template;break;case"headercheckboxicon":this.headerCheckboxIconTemplate=e.template;break;case"togglericon":this.togglerIconTemplate=e.template;break;case"paginatorfirstpagelinkicon":this.paginatorFirstPageLinkIconTemplate=e.template;break;case"paginatorlastpagelinkicon":this.paginatorLastPageLinkIconTemplate=e.template;break;case"paginatorpreviouspagelinkicon":this.paginatorPreviousPageLinkIconTemplate=e.template;break;case"paginatornextpagelinkicon":this.paginatorNextPageLinkIconTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break}})}filterService=Fe(Hr);tableService=Fe(Wm);zone=Fe(pa);ngOnChanges(e){super.ngOnChanges(e),e.value&&(this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,this.sortMode=="single"&&this.sortField?this.sortSingle():this.sortMode=="multiple"&&this.multiSortMeta?this.sortMultiple():this.hasFilter()&&this._filter()),this.updateSerializedValue(),this.tableService.onUIUpdate(this.value)),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,this.sortMode==="multiple"&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateselectedKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}updateSerializedValue(){this.serializedValue=[],this.paginator?this.serializePageNodes():this.serializeNodes(null,this.filteredNodes||this.value,0,!0)}serializeNodes(e,i,n,a){if(i&&i.length)for(let u of i){u.parent=e;let b={node:u,parent:e,level:n,visible:a&&(e?e.expanded:!0)};this.serializedValue.push(b),b.visible&&u.expanded&&this.serializeNodes(u,u.children,n+1,b.visible)}}serializePageNodes(){let e=this.filteredNodes||this.value;if(this.serializedValue=[],e&&e.length){let i=this.lazy?0:this.first;for(let n=i;n<i+this.rows;n++){let a=e[n];a&&(this.serializedValue.push({node:a,parent:null,level:0,visible:!0}),this.serializeNodes(a,a.children,1,!0))}}}updateselectedKeys(){if(this.dataKey&&this._selection)if(this.selectedKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectedKeys[String(Vi(e.data,this.dataKey))]=1;else this.selectedKeys[String(Vi(this._selection.data,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.serializePageNodes(),this.onPage.emit({first:this.first,rows:this.rows}),this.tableService.onUIUpdate(this.value),this.scrollable&&this.resetScrollTop()}sort(e){let i=e.originalEvent;if(this.sortMode==="single"&&(this._sortOrder=this.sortField===e.field?this.sortOrder*-1:this.defaultSortOrder,this._sortField=e.field,this.sortSingle(),this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.sortMode==="multiple"){let n=i.metaKey||i.ctrlKey,a=this.getSortMeta(e.field);a?n?a.order=a.order*-1:(this._multiSortMeta=[{field:e.field,order:a.order*-1}],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()):((!n||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}}sortSingle(){if(this.sortField&&this.sortOrder){this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortNodes(this.value),this.hasFilter()&&this._filter());let e={field:this.sortField,order:this.sortOrder};this.onSort.emit(e),this.tableService.onSort(e),this.updateSerializedValue()}}sortNodes(e){if(!(!e||e.length===0)){this.customSort?this.sortFunction.emit({data:e,mode:this.sortMode,field:this.sortField,order:this.sortOrder}):e.sort((i,n)=>{let a=Vi(i.data,this.sortField),u=Vi(n.data,this.sortField),b=null;return a==null&&u!=null?b=-1:a!=null&&u==null?b=1:a==null&&u==null?b=0:typeof a=="string"&&typeof u=="string"?b=a.localeCompare(u,void 0,{numeric:!0}):b=a<u?-1:a>u?1:0,this.sortOrder*b});for(let i of e)this.sortNodes(i.children)}}sortMultiple(){this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortMultipleNodes(this.value),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.updateSerializedValue(),this.tableService.onSort(this.multiSortMeta))}sortMultipleNodes(e){if(!(!e||e.length===0)){this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):e.sort((i,n)=>this.multisortField(i,n,this.multiSortMeta,0));for(let i of e)this.sortMultipleNodes(i.children)}}multisortField(e,i,n,a){if(hn(this.multiSortMeta)||hn(n[a]))return 0;let u=Vi(e.data,n[a].field),b=Vi(i.data,n[a].field),T=null;if(u==null&&b!=null?T=-1:u!=null&&b==null?T=1:u==null&&b==null&&(T=0),typeof u=="string"||u instanceof String){if(u.localeCompare&&u!=b)return n[a].order*u.localeCompare(b,void 0,{numeric:!0})}else T=u<b?-1:1;return u==b?n.length-1>a?this.multisortField(e,i,n,a+1):0:n[a].order*T}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length){for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===e)return this.multiSortMeta[i]}return null}isSorted(e){if(this.sortMode==="single")return this.sortField&&this.sortField===e;if(this.sortMode==="multiple"){let i=!1;if(this.multiSortMeta){for(let n=0;n<this.multiSortMeta.length;n++)if(this.multiSortMeta[n].field==e){i=!0;break}}return i}}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}onLazyItemLoad(e){this.onLazyLoad.emit(Ma(ri(ri({},this.createLazyLoadMetadata()),e),{rows:e.last-e.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.scrollableViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e)}scrollTo(e){this.scrollableViewChild&&this.scrollableViewChild.scrollTo(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollTo(e)}isEmpty(){let e=this.filteredNodes||this.value;return e==null||e.length==0}getBlockableElement(){return this.el.nativeElement.children[0]}onColumnResizeBegin(e){let i=Lr(this.el?.nativeElement).left;this.lastResizerHelperX=e.pageX-i+this.el?.nativeElement.scrollLeft,e.preventDefault()}onColumnResize(e){let i=Lr(this.el?.nativeElement).left;Hn(this.el?.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.el?.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-i+this.el?.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(e,i){let n=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,a=i.offsetWidth,u=a+n,b=i.style.minWidth||15;if(a+n>parseInt(b)){if(this.columnResizeMode==="fit"){let T=i.nextElementSibling;for(;!T.offsetParent;)T=T.nextElementSibling;if(T){let D=T.offsetWidth-n,R=T.style.minWidth||15;if(u>15&&D>parseInt(R))if(this.scrollable){let U=this.findParentScrollableView(i),Y=ei(U,".p-treetable-scrollable-body table")||ei(U,".p-scroller-viewport table"),oe=ei(U,"table.p-treetable-scrollable-header-table"),J=ei(U,"table.p-treetable-scrollable-footer-table"),ke=fm(i);this.resizeColGroup(oe,ke,u,D),this.resizeColGroup(Y,ke,u,D),this.resizeColGroup(J,ke,u,D)}else i.style.width=u+"px",T&&(T.style.width=D+"px")}}else if(this.columnResizeMode==="expand")if(this.scrollable){let T=this.findParentScrollableView(i),D=ei(T,".p-treetable-scrollable-body")||ei(T,".p-scroller-viewport"),R=ei(T,".p-treetable-scrollable-header"),U=ei(T,".p-treetable-scrollable-footer"),Y=ei(T,".p-treetable-scrollable-body table")||ei(T,".p-scroller-viewport table"),oe=ei(T,"table.p-treetable-scrollable-header-table"),J=ei(T,"table.p-treetable-scrollable-footer-table");Y.style.width=Y.offsetWidth+n+"px",oe.style.width=oe.offsetWidth+n+"px",J&&(J.style.width=J.offsetWidth+n+"px");let ke=fm(i),Te=i?Y.offsetWidth+n:u,qe=i?oe.offsetWidth+n:u,et=this.el?.nativeElement.offsetWidth>=Te,bt=(xt,lt,vt,qt)=>{xt&&lt&&(xt.style.width=qt?vt+hm(D)+"px":"auto",lt.style.width=vt+"px")};bt(D,Y,Te,et),bt(R,oe,qe,et),bt(U,J,qe,et),this.resizeColGroup(oe,ke,u,null),this.resizeColGroup(Y,ke,u,null),this.resizeColGroup(J,ke,u,null)}else{this.tableViewChild.nativeElement.style.width=this.tableViewChild?.nativeElement.offsetWidth+n+"px",i.style.width=u+"px";let T=this.tableViewChild?.nativeElement.style.width;this.el.nativeElement.style.width=T+"px"}this.onColResize.emit({element:i,delta:n})}this.resizeHelperViewChild.nativeElement.style.display="none",Pa(this.el?.nativeElement,"p-unselectable-text")}findParentScrollableView(e){if(e){let i=e.parentElement;for(;i&&!Ko(i,"p-treetable-scrollable-view");)i=i.parentElement;return i}else return null}resizeColGroup(e,i,n,a){if(e){let u=e.children[0].nodeName==="COLGROUP"?e.children[0]:null;if(u){let b=u.children[i],T=b.nextElementSibling;b.style.width=n+"px",T&&a&&(T.style.width=a+"px")}else throw"Scrollable tables require a colgroup to support resizable columns"}}onColumnDragStart(e,i){this.reorderIconWidth=mm(this.reorderIndicatorUpViewChild?.nativeElement),this.reorderIconHeight=F0(this.reorderIndicatorDownViewChild?.nativeElement),this.draggedColumn=i,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,i){if(this.reorderableColumns&&this.draggedColumn&&i){e.preventDefault();let n=Lr(this.el?.nativeElement),a=Lr(i);if(this.draggedColumn!=i){let u=a.left-n.left,b=n.top-a.top,T=a.left+i.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=a.top-n.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=a.top-n.top+i.offsetHeight+"px",e.pageX>T?(this.reorderIndicatorUpViewChild.nativeElement.style.left=u+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=u+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=u-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=u-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,i){if(e.preventDefault(),this.draggedColumn){let n=ss.indexWithinGroup(this.draggedColumn,"ttreorderablecolumn"),a=ss.indexWithinGroup(i,"ttreorderablecolumn"),u=n!=a;u&&(a-n==1&&this.dropPosition===-1||n-a==1&&this.dropPosition===1)&&(u=!1),u&&a<n&&this.dropPosition===1&&(a=a+1),u&&a>n&&this.dropPosition===-1&&(a=a-1),u&&(Nw(this.columns,n,a),this.onColReorder.emit({dragIndex:n,dropIndex:a,columns:this.columns})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}handleRowClick(e){let i=e.originalEvent.target.nodeName;if(!(i=="INPUT"||i=="BUTTON"||i=="A"||Ko(e.originalEvent.target,"p-clickable"))){if(this.selectionMode){this.preventSelectionSetterPropagation=!0;let n=e.rowNode,a=this.isSelected(n.node),u=this.rowTouched?!1:this.metaKeySelection,b=this.dataKey?String(Vi(n.node.data,this.dataKey)):null;if(u){let T=e.originalEvent,D=T.metaKey||T.ctrlKey;if(a&&D){if(this.isSingleSelectionMode())this._selection=null,this.selectedKeys={},this.selectionChange.emit(null);else{let R=this.findIndexInSelection(n.node);this._selection=this.selection.filter((U,Y)=>Y!=R),this.selectionChange.emit(this.selection),b&&delete this.selectedKeys[b]}this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:n.node,type:"row"})}else this.isSingleSelectionMode()?(this._selection=n.node,this.selectionChange.emit(n.node),b&&(this.selectedKeys={},this.selectedKeys[b]=1)):this.isMultipleSelectionMode()&&(D?this._selection=this.selection||[]:(this._selection=[],this.selectedKeys={}),this._selection=[...this.selection,n.node],this.selectionChange.emit(this.selection),b&&(this.selectedKeys[b]=1)),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:n.node,type:"row",index:e.rowIndex})}else if(this.selectionMode==="single")a?(this._selection=null,this.selectedKeys={},this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:n.node,type:"row"})):(this._selection=n.node,this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:n.node,type:"row",index:e.rowIndex}),b&&(this.selectedKeys={},this.selectedKeys[b]=1));else if(this.selectionMode==="multiple")if(a){let T=this.findIndexInSelection(n.node);this._selection=this.selection.filter((D,R)=>R!=T),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:n.node,type:"row"}),b&&delete this.selectedKeys[b]}else this._selection=this.selection?[...this.selection,n.node]:[n.node],this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:n.node,type:"row",index:e.rowIndex}),b&&(this.selectedKeys[b]=1);this.tableService.onSelectionChange()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){let i=e.rowNode.node;if(this.contextMenuSelectionMode==="separate")this.contextMenuSelection=i,this.contextMenuSelectionChange.emit(i),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:i}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(i);else if(this.contextMenuSelectionMode==="joint"){this.preventSelectionSetterPropagation=!0;let n=this.isSelected(i),a=this.dataKey?String(Vi(i.data,this.dataKey)):null;n||(this.isSingleSelectionMode()?(this.selection=i,this.selectionChange.emit(i)):this.isMultipleSelectionMode()&&(this.selection=[i],this.selectionChange.emit(this.selection)),a&&(this.selectedKeys[a]=1)),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:i})}}}toggleNodeWithCheckbox(e){this.selection=this.selection||[],this.preventSelectionSetterPropagation=!0;let i=e.rowNode.node;this.isSelected(i)?(this.propagateSelectionDown(i,!1),e.rowNode.parent&&this.propagateSelectionUp(i.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e,node:i})):(this.propagateSelectionDown(i,!0),e.rowNode.parent&&this.propagateSelectionUp(i.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e,node:i})),this.tableService.onSelectionChange()}toggleNodesWithCheckbox(e,i){let n=this.filteredNodes||this.value;this._selection=i&&n?n.slice():[],this.toggleAll(i),i||(this._selection=[],this.selectedKeys={}),this.preventSelectionSetterPropagation=!0,this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:i})}toggleAll(e){let i=this.filteredNodes||this.value;if(this.selectionKeys){if(i&&i.length){for(let n of i)this.propagateDown(n,e);this.selectionKeysChange.emit(this.selectionKeys)}}else if(i&&i.length)for(let n of i)this.propagateSelectionDown(n,e)}propagateSelectionUp(e,i){if(e.children&&e.children.length){let a=0,u=!1,b=this.dataKey?String(Vi(e.data,this.dataKey)):null;for(let T of e.children)this.isSelected(T)?a++:T.partialSelected&&(u=!0);if(i&&a==e.children.length)this._selection=[...this.selection||[],e],e.partialSelected=!1,b&&(this.selectedKeys[b]=1);else{if(!i){let T=this.findIndexInSelection(e);T>=0&&(this._selection=this.selection.filter((D,R)=>R!=T),b&&delete this.selectedKeys[b])}u||a>0&&a!=e.children.length?e.partialSelected=!0:e.partialSelected=!1}}let n=e.parent;e.checked=i,n&&this.propagateSelectionUp(n,i)}propagateSelectionDown(e,i){let n=this.findIndexInSelection(e),a=this.dataKey?String(Vi(e.data,this.dataKey)):null;if(i&&n==-1?(this._selection=[...this.selection||[],e],a&&(this.selectedKeys[a]=1)):!i&&n>-1&&(this._selection=this.selection.filter((u,b)=>b!=n),a&&delete this.selectedKeys[a]),e.partialSelected=!1,e.checked=i,e.children&&e.children.length)for(let u of e.children)this.propagateSelectionDown(u,i)}isSelected(e){return e&&this.selection?this.dataKey?e.hasOwnProperty("checked")?e.checked:this.selectedKeys[Vi(e.data,this.dataKey)]!==void 0:Array.isArray(this.selection)?this.findIndexInSelection(e)>-1:this.equals(e,this.selection):!1}isNodeSelected(e){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.nodeKey(e)]?.checked===!0:!1}isNodePartialSelected(e){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.nodeKey(e)]?.partialChecked===!0:!1}nodeKey(e){return Vi(e,this.dataKey)||Vi(e?.data,this.dataKey)}toggleCheckbox(e){let{rowNode:i,check:n,originalEvent:a}=e,u=i.node;this.selectionKeys?(this.propagateDown(u,n),u.parent&&this.propagateUp(u.parent,n),this.selectionKeysChange.emit(this.selectionKeys)):this.toggleNodeWithCheckbox({originalEvent:a,rowNode:i}),this.tableService.onSelectionChange()}propagateDown(e,i){if(i?this.selectionKeys[this.nodeKey(e)]={checked:!0,partialChecked:!1}:delete this.selectionKeys[this.nodeKey(e)],e.children&&e.children.length)for(let n of e.children)this.propagateDown(n,i)}propagateUp(e,i){let n=0,a=!1;for(let b of e.children)this.selectionKeys[this.nodeKey(b)]&&this.selectionKeys[this.nodeKey(b)].checked?n++:this.selectionKeys[this.nodeKey(b)]&&this.selectionKeys[this.nodeKey(b)].partialChecked&&(a=!0);i&&n===e.children.length?this.selectionKeys[this.nodeKey(e)]={checked:!0,partialChecked:!1}:(i||delete this.selectionKeys[this.nodeKey(e)],a||n>0&&n!==e.children.length?this.selectionKeys[this.nodeKey(e)]={checked:!1,partialChecked:!0}:this.selectionKeys[this.nodeKey(e)]={checked:!1,partialChecked:!1});let u=e.parent;u&&this.propagateUp(u,i)}findIndexInSelection(e){let i=-1;if(this.selection&&this.selection.length){for(let n=0;n<this.selection.length;n++)if(this.equals(e,this.selection[n])){i=n;break}}return i}isSingleSelectionMode(){return this.selectionMode==="single"}isMultipleSelectionMode(){return this.selectionMode==="multiple"}equals(e,i){return this.compareSelectionBy==="equals"?Wa(e,i):Wa(e.data,i.data,this.dataKey)}filter(e,i,n){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[i]&&delete this.filters[i]:this.filters[i]={value:e,matchMode:n},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay)}filterGlobal(e,i){this.filter(e,"global",i)}isFilterBlank(e){return e!=null?!!(typeof e=="string"&&e.trim().length==0||Array.isArray(e)&&e.length==0):!0}_filter(){if(this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(!this.hasFilter())this.filteredNodes=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0);else{let i;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");i=this.globalFilterFields||this.columns}this.filteredNodes=[];let n=this.filterMode==="strict",a=!1;for(let u of this.value){let b=ri({},u),T=!0,D=!1,R;for(let Y in this.filters)if(this.filters.hasOwnProperty(Y)&&Y!=="global"){let oe=this.filters[Y],J=Y,ke=oe.value,Te=oe.matchMode||"startsWith",qe=this.filterService.filters[Te];if(R={filterField:J,filterValue:ke,filterConstraint:qe,isStrictMode:n},(n&&!(this.findFilteredNodes(b,R)||this.isFilterMatched(b,R))||!n&&!(this.isFilterMatched(b,R)||this.findFilteredNodes(b,R)))&&(T=!1),!T)break}if(this.filters.global&&!D&&i){let Y=ri({},b),oe,J=this.filters.global.value,ke=this.filterService.filters[this.filters.global.matchMode];R={filterField:oe,filterValue:J,filterConstraint:ke,isStrictMode:n,globalFilterFieldsArray:i},(n&&(this.findFilteredNodes(Y,R)||this.isFilterMatched(Y,R))||!n&&(this.isFilterMatched(Y,R)||this.findFilteredNodes(Y,R)))&&(D=!0,b=Y)}let U=T;this.filters.global&&(U=T&&D),U&&this.filteredNodes.push(b),a=a||!T||D||T&&this.filteredNodes.length>0||!D&&this.filteredNodes.length===0}a||(this.filteredNodes=null),this.paginator&&(this.totalRecords=this.filteredNodes?this.filteredNodes.length:this.value?this.value.length:0)}this.cd.markForCheck()}this.first=0;let e=this.filteredNodes||this.value;this.onFilter.emit({filters:this.filters,filteredValue:e}),this.tableService.onUIUpdate(e),this.updateSerializedValue(),this.scrollable&&this.resetScrollTop()}findFilteredNodes(e,i){if(e){let n=!1;if(e.children){let a=[...e.children];e.children=[];for(let u of a){let b=ri({},u);this.isFilterMatched(b,i)&&(n=!0,e.children.push(b))}}if(n)return!0}}isFilterMatched(e,i){let{filterField:n,filterValue:a,filterConstraint:u,isStrictMode:b,globalFilterFieldsArray:T}=i,D=!1,R=U=>u(Vi(e.data,U),a,this.filterLocale);return D=T?.length?T.some(U=>R(U.field||U)):R(n),(!D||b&&!this.isNodeLeaf(e))&&(D=this.findFilteredNodes(e,{filterField:n,filterValue:a,filterConstraint:u,isStrictMode:b,globalFilterFieldsArray:T})||D),D}isNodeLeaf(e){return e.leaf===!1?!1:!(e.children&&e.children.length)}hasFilter(){let e=!0;for(let i in this.filters)if(this.filters.hasOwnProperty(i)){e=!1;break}return!e}reset(){this._sortField=null,this._sortOrder=1,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredNodes=null,this.filters={},this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}updateEditingCell(e,i,n){this.editingCell=e,this.editingCellData=i,this.editingCellField=n,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&En(this.editingCell,".ng-invalid.ng-dirty").length===0}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=this.renderer.listen(this.document,"click",e=>{this.editingCell&&!this.editingCellClick&&this.isEditingCellValid()&&(Pa(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData}),this.editingCellField=null,this.editingCellData=null,this.unbindDocumentEditListener()),this.editingCellClick=!1}))}unbindDocumentEditListener(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.editingCellField=null,this.editingCellData=null,this.initialized=null,super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-treeTable"],["p-treetable"],["p-tree-table"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,WX,4),xe(a,ZX,4),xe(a,QX,4),xe(a,XX,4),xe(a,YX,4),xe(a,JX,4),xe(a,eY,4),xe(a,tY,4),xe(a,iY,4),xe(a,nY,4),xe(a,aY,4),xe(a,oY,4),xe(a,rY,4),xe(a,sY,4),xe(a,lY,4),xe(a,cY,4),xe(a,dY,4),xe(a,uY,4),xe(a,pY,4),xe(a,hY,4),xe(a,mY,4),xe(a,fY,4),xe(a,gY,4),xe(a,_Y,4),xe(a,bY,4),xe(a,yY,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n._colGroupTemplate=u.first),se(u=le())&&(n._captionTemplate=u.first),se(u=le())&&(n._headerTemplate=u.first),se(u=le())&&(n._bodyTemplate=u.first),se(u=le())&&(n._footerTemplate=u.first),se(u=le())&&(n._summaryTemplate=u.first),se(u=le())&&(n._emptyMessageTemplate=u.first),se(u=le())&&(n._paginatorLeftTemplate=u.first),se(u=le())&&(n._paginatorRightTemplate=u.first),se(u=le())&&(n._paginatorDropdownItemTemplate=u.first),se(u=le())&&(n._frozenHeaderTemplate=u.first),se(u=le())&&(n._frozenBodyTemplate=u.first),se(u=le())&&(n._frozenFooterTemplate=u.first),se(u=le())&&(n._frozenColGroupTemplate=u.first),se(u=le())&&(n._loadingIconTemplate=u.first),se(u=le())&&(n._reorderIndicatorUpIconTemplate=u.first),se(u=le())&&(n._reorderIndicatorDownIconTemplate=u.first),se(u=le())&&(n._sortIconTemplate=u.first),se(u=le())&&(n._checkboxIconTemplate=u.first),se(u=le())&&(n._headerCheckboxIconTemplate=u.first),se(u=le())&&(n._togglerIconTemplate=u.first),se(u=le())&&(n._paginatorFirstPageLinkIconTemplate=u.first),se(u=le())&&(n._paginatorLastPageLinkIconTemplate=u.first),se(u=le())&&(n._paginatorPreviousPageLinkIconTemplate=u.first),se(u=le())&&(n._paginatorNextPageLinkIconTemplate=u.first),se(u=le())&&(n._loaderTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&(ut(vY,5),ut(xY,5),ut(wY,5),ut(IY,5),ut(TY,5),ut(CY,5)),i&2){let a;se(a=le())&&(n.resizeHelperViewChild=a.first),se(a=le())&&(n.reorderIndicatorUpViewChild=a.first),se(a=le())&&(n.reorderIndicatorDownViewChild=a.first),se(a=le())&&(n.tableViewChild=a.first),se(a=le())&&(n.scrollableViewChild=a.first),se(a=le())&&(n.scrollableFrozenViewChild=a.first)}},hostVars:3,hostBindings:function(i,n){i&2&&(de("data-scrollselectors",".p-treetable-scrollable-body"),$(n.cn(n.cx("root"),n.styleClass)))},inputs:{columns:"columns",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",autoLayout:[2,"autoLayout","autoLayout",ye],lazy:[2,"lazy","lazy",ye],lazyLoadOnInit:[2,"lazyLoadOnInit","lazyLoadOnInit",ye],paginator:[2,"paginator","paginator",ye],rows:[2,"rows","rows",wt],first:[2,"first","first",wt],pageLinks:[2,"pageLinks","pageLinks",wt],rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:[2,"alwaysShowPaginator","alwaysShowPaginator",ye],paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[2,"showCurrentPageReport","showCurrentPageReport",ye],showJumpToPageDropdown:[2,"showJumpToPageDropdown","showJumpToPageDropdown",ye],showFirstLastIcon:[2,"showFirstLastIcon","showFirstLastIcon",ye],showPageLinks:[2,"showPageLinks","showPageLinks",ye],defaultSortOrder:[2,"defaultSortOrder","defaultSortOrder",wt],sortMode:"sortMode",resetPageOnSort:[2,"resetPageOnSort","resetPageOnSort",ye],customSort:[2,"customSort","customSort",ye],selectionMode:"selectionMode",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:[2,"metaKeySelection","metaKeySelection",ye],compareSelectionBy:"compareSelectionBy",rowHover:[2,"rowHover","rowHover",ye],loading:[2,"loading","loading",ye],loadingIcon:"loadingIcon",showLoader:[2,"showLoader","showLoader",ye],scrollable:[2,"scrollable","scrollable",ye],scrollHeight:"scrollHeight",virtualScroll:[2,"virtualScroll","virtualScroll",ye],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",wt],virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:[2,"virtualScrollDelay","virtualScrollDelay",wt],frozenWidth:"frozenWidth",frozenColumns:"frozenColumns",resizableColumns:[2,"resizableColumns","resizableColumns",ye],columnResizeMode:"columnResizeMode",reorderableColumns:[2,"reorderableColumns","reorderableColumns",ye],contextMenu:"contextMenu",rowTrackBy:"rowTrackBy",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:[2,"filterDelay","filterDelay",wt],filterMode:"filterMode",filterLocale:"filterLocale",paginatorLocale:"paginatorLocale",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",value:"value",virtualRowHeight:"virtualRowHeight",selectionKeys:"selectionKeys",showGridlines:[2,"showGridlines","showGridlines",ye]},outputs:{selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onFilter:"onFilter",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onPage:"onPage",onSort:"onSort",onLazyLoad:"onLazyLoad",sortFunction:"sortFunction",onColResize:"onColResize",onColReorder:"onColReorder",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onContextMenuSelect:"onContextMenuSelect",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",selectionKeysChange:"selectionKeysChange"},standalone:!1,features:[_t([Wm,Zr]),ft,Eo],decls:10,vars:10,consts:[["table",""],["scrollableView",""],["scrollableFrozenView",""],["resizeHelper",""],["reorderIndicatorUp",""],["reorderIndicatorDown",""],[3,"class",4,"ngIf"],[3,"rows","first","totalRecords","pageLinkSize","styleClass","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","appendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","locale","onPageChange",4,"ngIf"],[3,"class","display",4,"ngIf"],[4,"ngIf"],["data-p-icon","spinner",3,"spin","class",4,"ngIf"],["data-p-icon","spinner",3,"spin"],[4,"ngTemplateOutlet"],[3,"onPageChange","rows","first","totalRecords","pageLinkSize","styleClass","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","appendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","locale"],["pTemplate","firstpagelinkicon"],["pTemplate","previouspagelinkicon"],["pTemplate","lastpagelinkicon"],["pTemplate","nextpagelinkicon"],["role","table",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup"],["role","rowgroup",3,"pTreeTableBody","pTreeTableBodyTemplate"],[3,"ngClass","ttScrollableView","frozen","ngStyle","scrollHeight",4,"ngIf"],[3,"ttScrollableView","frozen","scrollHeight","ngStyle"],[3,"ngClass","ttScrollableView","frozen","ngStyle","scrollHeight"],["data-p-icon","arrow-down",4,"ngIf"],["data-p-icon","arrow-down"],["data-p-icon","arrow-up",4,"ngIf"],["data-p-icon","arrow-up"]],template:function(i,n){i&1&&z(0,FY,4,6,"div",6)(1,zY,2,3,"div",6)(2,QY,5,21,"p-paginator",7)(3,eJ,9,24,"div",6)(4,iJ,4,12,"div",6)(5,fJ,5,21,"p-paginator",7)(6,_J,2,3,"div",6)(7,bJ,2,4,"div",8)(8,wJ,4,6,"span",8)(9,SJ,4,6,"span",8),i&2&&(C("ngIf",n.loading&&n.showLoader),S(),C("ngIf",n.captionTemplate||n._captionTemplate),S(),C("ngIf",n.paginator&&(n.paginatorPosition==="top"||n.paginatorPosition=="both")),S(),C("ngIf",!n.scrollable),S(),C("ngIf",n.scrollable),S(),C("ngIf",n.paginator&&(n.paginatorPosition==="bottom"||n.paginatorPosition=="both")),S(),C("ngIf",n.summaryTemplate||n._summaryTemplate),S(),C("ngIf",n.resizableColumns),S(),C("ngIf",n.reorderableColumns),S(),C("ngIf",n.reorderableColumns))},dependencies:()=>[ka,Ut,Yt,fi,W0,di,As,Mb,kb,Iee,a4],encapsulation:2})}return t})(),a4=(()=>{class t{tt;treeTableService;cd;columns;template;frozen;serializedNodes;scrollerOptions;subscription;constructor(e,i,n){this.tt=e,this.treeTableService=i,this.cd=n,this.subscription=this.tt.tableService.uiUpdateSource$.subscribe(()=>{this.tt.virtualScroll&&this.cd.detectChanges()})}getScrollerOption(e,i){return this.tt.virtualScroll?(i=i||this.scrollerOptions,i?i[e]:null):null}getRowIndex(e){let i=this.getScrollerOption("getItemOptions");return i?i(e).index:e}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)(Dt(Bc),Dt(Wm),Dt(nr))};static \u0275cmp=Je({type:t,selectors:[["","pTreeTableBody",""]],inputs:{columns:[0,"pTreeTableBody","columns"],template:[0,"pTreeTableBodyTemplate","template"],frozen:[2,"frozen","frozen",ye],serializedNodes:"serializedNodes",scrollerOptions:"scrollerOptions"},standalone:!1,attrs:MJ,decls:2,vars:3,consts:[["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){i&1&&z(0,LJ,1,1,"ng-template",0)(1,OJ,2,5,"ng-container",1),i&2&&(C("ngForOf",n.serializedNodes||n.tt.serializedValue)("ngForTrackBy",n.tt.rowTrackBy),S(),C("ngIf",n.tt.isEmpty()))},dependencies:[Bi,Ut,Yt],encapsulation:2})}return t})(),Iee=(()=>{class t extends Ot{tt;el;zone;columns;frozen;scrollHeaderViewChild;scrollHeaderBoxViewChild;scrollBodyViewChild;scrollTableViewChild;scrollLoadingTableViewChild;scrollFooterViewChild;scrollFooterBoxViewChild;scrollableAlignerViewChild;scroller;headerScrollListener;bodyScrollListener;footerScrollListener;frozenSiblingBody;totalRecordsSubscription;_scrollHeight;preventBodyScrollPropagation;_componentStyle=Fe(Zr);get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e,e!=null&&(e.includes("%")||e.includes("calc"))&&console.log('Percentage scroll height calculation is removed in favor of the more performant CSS based flex mode, use scrollHeight="flex" instead.')}constructor(e,i,n){super(),this.tt=e,this.el=i,this.zone=n}ngAfterViewInit(){if(super.ngAfterViewInit(),ii(this.platformId)){if(this.frozen)this.scrollableAlignerViewChild&&this.scrollableAlignerViewChild.nativeElement&&(this.scrollableAlignerViewChild.nativeElement.style.height=Aw()+"px");else{(this.tt.frozenColumns||this.tt.frozenBodyTemplate||this.tt._frozenBodyTemplate)&&Hn(this.el.nativeElement,"p-treetable-unfrozen-view");let e=this.el.nativeElement.previousElementSibling;if(e&&(this.tt.virtualScroll?this.frozenSiblingBody=ei(e,".p-scroller-viewport"):this.frozenSiblingBody=ei(e,".p-treetable-scrollable-body")),this.scrollHeight){let i=hm();this.scrollHeaderBoxViewChild.nativeElement.style.paddingRight=i+"px",this.scrollFooterBoxViewChild&&this.scrollFooterBoxViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.paddingRight=i+"px")}}this.bindEvents()}}bindEvents(){ii(this.platformId)&&this.zone.runOutsideAngular(()=>{this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.headerScrollListener=this.renderer.listen(this.scrollHeaderBoxViewChild?.nativeElement,"scroll",this.onHeaderScroll.bind(this))),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.footerScrollListener=this.renderer.listen(this.scrollFooterViewChild.nativeElement,"scroll",this.onFooterScroll.bind(this))),this.frozen||(this.tt.virtualScroll?this.bodyScrollListener=this.renderer.listen((this.scroller?.getElementRef()).nativeElement,"scroll",this.onBodyScroll.bind(this)):this.bodyScrollListener=this.renderer.listen(this.scrollBodyViewChild?.nativeElement,"scroll",this.onBodyScroll.bind(this)))})}unbindEvents(){ii(this.platformId)&&(this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&this.headerScrollListener&&(this.headerScrollListener(),this.headerScrollListener=null),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&this.footerScrollListener&&(this.footerScrollListener(),this.footerScrollListener=null),this.scrollBodyViewChild&&this.scrollBodyViewChild.nativeElement&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null),this.scroller&&this.scroller.getElementRef()&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null))}onHeaderScroll(){let e=this.scrollHeaderViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onFooterScroll(){let e=this.scrollFooterViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onBodyScroll(e){if(this.preventBodyScrollPropagation){this.preventBodyScrollPropagation=!1;return}this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.frozenSiblingBody&&(this.frozenSiblingBody.scrollTop=e.target.scrollTop)}scrollToVirtualIndex(e){this.scroller&&this.scroller.scrollToIndex(e)}scrollTo(e){this.scroller?this.scroller.scrollTo(e):this.scrollBodyViewChild?.nativeElement.scrollTo?this.scrollBodyViewChild.nativeElement.scrollTo(e):(this.scrollBodyViewChild.nativeElement.scrollLeft=e.left,this.scrollBodyViewChild.nativeElement.scrollTop=e.top)}ngOnDestroy(){super.ngOnDestroy(),this.unbindEvents(),this.frozenSiblingBody=null}static \u0275fac=function(i){return new(i||t)(Dt(Bc),Dt(ua),Dt(pa))};static \u0275cmp=Je({type:t,selectors:[["","ttScrollableView",""]],viewQuery:function(i,n){if(i&1&&(ut(FJ,5),ut(VJ,5),ut(zJ,5),ut(RJ,5),ut(BJ,5),ut(NJ,5),ut(qJ,5),ut(HJ,5),ut(jJ,5)),i&2){let a;se(a=le())&&(n.scrollHeaderViewChild=a.first),se(a=le())&&(n.scrollHeaderBoxViewChild=a.first),se(a=le())&&(n.scrollBodyViewChild=a.first),se(a=le())&&(n.scrollTableViewChild=a.first),se(a=le())&&(n.scrollLoadingTableViewChild=a.first),se(a=le())&&(n.scrollFooterViewChild=a.first),se(a=le())&&(n.scrollFooterBoxViewChild=a.first),se(a=le())&&(n.scrollableAlignerViewChild=a.first),se(a=le())&&(n.scroller=a.first)}},inputs:{columns:[0,"ttScrollableView","columns"],frozen:[2,"frozen","frozen",ye],scrollHeight:"scrollHeight"},standalone:!1,features:[_t([Zr]),ft],attrs:GJ,decls:13,vars:20,consts:[["scrollHeader",""],["scrollHeaderBox",""],["buildInItems",""],["scroller",""],["content",""],["loader",""],["scrollBody",""],["scrollTable",""],["scrollableAligner",""],["scrollFooter",""],["scrollFooterBox",""],[3,"ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup"],[3,"items","styleClass","style","scrollHeight","itemSize","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],[3,"class",4,"ngIf"],[3,"onLazyLoad","items","styleClass","scrollHeight","itemSize","lazy","options"],["role","table",3,"ngClass","ngStyle"],["role","rowgroup",3,"pTreeTableBody","pTreeTableBodyTemplate","serializedNodes","frozen"],[3,"background-color",4,"ngIf"],[3,"ngClass","ngStyle"]],template:function(i,n){i&1&&(A(0,"div",null,0)(2,"div",null,1)(4,"table",11),z(5,ZJ,1,0,"ng-container",12),A(6,"thead",13),z(7,QJ,1,0,"ng-container",12),L()()()(),z(8,iee,5,11,"p-scroller",14)(9,aee,4,12,"ng-container",15)(10,see,5,17,"ng-template",null,2,ze)(12,dee,8,18,"div",16)),i&2&&($(n.cx("scrollableHeader")),S(2),$(n.cx("scrollableHeaderBox")),S(2),$(n.cn(n.cx("scrollableHeaderTable"),n.tt.tableStyleClass)),C("ngStyle",n.tt.tableStyle),S(),C("ngTemplateOutlet",n.frozen?n.tt.frozenColGroupTemplate||n.tt._frozenColGroupTemplate||n.tt.colGroupTemplate||n.tt._colGroupTemplate:n.tt.colGroupTemplate||n.tt._colGroupTemplate)("ngTemplateOutletContext",ot(16,xl,n.columns)),S(),$(n.cx("thead")),S(),C("ngTemplateOutlet",n.frozen?n.tt.frozenHeaderTemplate||n.tt._frozenHeaderTemplate||n.tt.headerTemplate||n.tt._headerTemplate:n.tt.headerTemplate||n.tt._headerTemplate)("ngTemplateOutletContext",ot(18,xl,n.columns)),S(),C("ngIf",n.tt.virtualScroll),S(),C("ngIf",!n.tt.virtualScroll),S(3),C("ngIf",n.tt.footerTemplate||n.tt._footerTemplate))},dependencies:()=>[ka,Ut,Yt,fi,ls,a4],encapsulation:2})}return t})();var o4=(()=>{class t extends Ot{tt;tableService;rowNode;ttSelectableRowDisabled;selected;subscription;_componentStyle=Fe(Zr);constructor(e,i){super(),this.tt=e,this.tableService=i,this.isEnabled()&&(this.subscription=this.tt.tableService.selectionSource$.subscribe(()=>{this.selected=this.tt.isSelected(this.rowNode.node)}))}ngOnInit(){super.ngOnInit(),this.isEnabled()&&(this.selected=this.tt.isSelected(this.rowNode.node))}onClick(e){this.isEnabled()&&this.tt.handleRowClick({originalEvent:e,rowNode:this.rowNode})}onKeyDown(e){switch(e.code){case"Enter":case"Space":this.onEnterKey(e);break;default:break}}onTouchEnd(e){this.isEnabled()&&this.tt.handleRowTouchEnd(e)}onEnterKey(e){this.tt.selectionMode==="checkbox"?this.tt.toggleNodeWithCheckbox({originalEvent:e,rowNode:this.rowNode}):this.onClick(e),e.preventDefault()}isEnabled(){return this.ttSelectableRowDisabled!==!0}ngOnDestroy(){super.ngOnDestroy(),this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)(Dt(Bc),Dt(Wm))};static \u0275dir=oc({type:t,selectors:[["","ttSelectableRow",""]],hostVars:3,hostBindings:function(i,n){i&1&&we("click",function(u){return n.onClick(u)})("keydown",function(u){return n.onKeyDown(u)})("touchend",function(u){return n.onTouchEnd(u)}),i&2&&(de("aria-checked",n.selected),$(n.cx("row")))},inputs:{rowNode:[0,"ttSelectableRow","rowNode"],ttSelectableRowDisabled:[2,"ttSelectableRowDisabled","ttSelectableRowDisabled",ye]},standalone:!1,features:[_t([Zr]),ft]})}return t})();var r4=(()=>{class t extends Ot{tt;tableService;cd;disabled;rowNode;checked;partialChecked;focused;subscription;_componentStyle=Fe(Zr);constructor(e,i,n){super(),this.tt=e,this.tableService=i,this.cd=n,this.subscription=this.tt.tableService.selectionSource$.subscribe(()=>{this.tt.selectionKeys?(this.checked=this.tt.isNodeSelected(this.rowNode.node),this.partialChecked=this.tt.isNodePartialSelected(this.rowNode.node)):(this.checked=this.tt.isSelected(this.rowNode.node),this.partialChecked=this.rowNode.node.partialSelected),this.cd.markForCheck()})}ngOnInit(){super.ngOnInit(),this.tt.selectionKeys?(this.checked=this.tt.isNodeSelected(this.rowNode.node),this.partialChecked=this.tt.isNodePartialSelected(this.rowNode.node)):(this.checked=this.tt.isSelected(this.rowNode.node),this.partialChecked=this.rowNode.node.partialSelected)}onClick(e){if(!this.disabled)if(this.tt.selectionKeys){let i=!this.checked;this.tt.toggleCheckbox({originalEvent:e,check:i,rowNode:this.rowNode})}else this.tt.toggleNodeWithCheckbox({originalEvent:e,rowNode:this.rowNode});Ow()}onFocus(){this.focused=!0}onBlur(){this.focused=!1}ngOnDestroy(){super.ngOnDestroy(),this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)(Dt(Bc),Dt(Wm),Dt(nr))};static \u0275cmp=Je({type:t,selectors:[["p-treeTableCheckbox"],["p-treetable-checkbox"],["p-tree-table-checkbox"]],inputs:{disabled:[2,"disabled","disabled",ye],rowNode:[0,"value","rowNode"]},standalone:!1,features:[_t([Zr]),ft],decls:2,vars:7,consts:[[3,"onChange","ngModel","binary","disabled","indeterminate","styleClass","tabIndex"],[4,"ngIf"],["pTemplate","icon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){i&1&&(A(0,"p-checkbox",0),we("onChange",function(u){return n.onClick(u)}),z(1,fee,2,0,"ng-container",1),L()),i&2&&(C("ngModel",n.checked)("binary",!0)("disabled",n.disabled)("indeterminate",n.partialChecked)("styleClass",n.cx("pcNodeCheckbox"))("tabIndex",-1),S(),C("ngIf",n.tt.checkboxIconTemplate||n.tt._checkboxIconTemplate))},dependencies:()=>[Ut,Yt,di,Gr,ia,na],encapsulation:2,changeDetection:0})}return t})();var s4=(()=>{class t extends Ot{tt;el;zone;get level(){return this.rowNode?.level+1}get styleClass(){return this.rowNode?.node.styleClass||""}get expanded(){return this.rowNode?.node.expanded}rowNode;_componentStyle=Fe(Zr);constructor(e,i,n){super(),this.tt=e,this.el=i,this.zone=n}onKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"Tab":this.onTabKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;default:break}}onArrowDownKey(e){let i=this.el?.nativeElement?.nextElementSibling;i&&this.focusRowChange(e.currentTarget,i),e.preventDefault()}onArrowUpKey(e){let i=this.el?.nativeElement?.previousElementSibling;i&&this.focusRowChange(e.currentTarget,i),e.preventDefault()}onArrowRightKey(e){let i=e.currentTarget;!(ei(i,"button").style.visibility==="hidden")&&!this.expanded&&this.rowNode.node.children&&(this.expand(e),i.tabIndex=-1),e.preventDefault()}onArrowLeftKey(e){let i=this.tt.el?.nativeElement,n=En(i,'[aria-expanded="true"]'),a=n[n.length-1];this.expanded&&this.collapse(e),a&&(this.tt.toggleRowIndex=fm(a)),this.restoreFocus(),e.preventDefault()}onHomeKey(e){let i=ei(this.tt.el?.nativeElement,`tr[aria-level="${this.level}"]`);i&&$t(i),e.preventDefault()}onEndKey(e){let i=En(this.tt.el?.nativeElement,`tr[aria-level="${this.level}"]`),n=i[i.length-1];$t(n),e.preventDefault()}onTabKey(e){let i=this.el.nativeElement?[...En(this.el.nativeElement.parentNode,"tr")]:void 0;if(i&&Wt(i)){let n=i.some(a=>bo(a,"data-p-highlight")||a.getAttribute("aria-checked")==="true");if(i.forEach(a=>{a.tabIndex=-1}),n){let a=i.filter(u=>bo(u,"data-p-highlight")||u.getAttribute("aria-checked")==="true");a[0].tabIndex=0;return}i[0].tabIndex=0}}expand(e){this.tt.toggleRowIndex=fm(this.el.nativeElement),this.rowNode.node.expanded=!0,this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),this.rowNode.node.children?this.restoreFocus(this.tt.toggleRowIndex+1):this.restoreFocus(),this.tt.onNodeExpand.emit({originalEvent:e,node:this.rowNode.node})}collapse(e){this.rowNode.node.expanded=!1,this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),this.tt.onNodeCollapse.emit({originalEvent:e,node:this.rowNode.node})}focusRowChange(e,i,n){e.tabIndex="-1",i.tabIndex="0",$t(i)}restoreFocus(e){this.zone.runOutsideAngular(()=>{setTimeout(()=>{let i=this.tt.el?.nativeElement,n=ei(i,".p-treetable-tbody").children[e||this.tt.toggleRowIndex],a=[...En(i,"tr")];a&&a.forEach(u=>{n.isSameNode(u)||(u.tabIndex=-1)}),n&&(n.tabIndex=0,n.focus())},25)})}static \u0275fac=function(i){return new(i||t)(Dt(Bc),Dt(ua),Dt(pa))};static \u0275dir=oc({type:t,selectors:[["","ttRow",""]],hostVars:7,hostBindings:function(i,n){i&1&&we("keydown",function(u){return n.onKeyDown(u)}),i&2&&(no("tabIndex","0")("role",n.row),de("aria-expanded",n.expanded)("aria-level",n.level)("data-pc-section",n.row),$("p-element "+n.styleClass))},inputs:{rowNode:[0,"ttRow","rowNode"]},standalone:!1,features:[_t([Zr]),ft]})}return t})(),l4=(()=>{class t extends Ot{tt;rowNode;_componentStyle=Fe(Zr);constructor(e){super(),this.tt=e}get toggleButtonAriaLabel(){return this.config.translation?this.rowNode.expanded?this.config.translation.aria.collapseRow:this.config.translation.aria.expandRow:void 0}onClick(e){this.rowNode.node.expanded=!this.rowNode.node.expanded,this.rowNode.node.expanded?this.tt.onNodeExpand.emit({originalEvent:e,node:this.rowNode.node}):this.tt.onNodeCollapse.emit({originalEvent:e,node:this.rowNode.node}),this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),e.preventDefault()}static \u0275fac=function(i){return new(i||t)(Dt(Bc))};static \u0275cmp=Je({type:t,selectors:[["p-treeTableToggler"],["p-treetabletoggler"],["p-treetable-toggler"]],inputs:{rowNode:"rowNode"},standalone:!1,features:[_t([Zr]),ft],decls:3,vars:14,consts:[["type","button","tabindex","-1","pRipple","",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","chevron-down",4,"ngIf"],["data-p-icon","chevron-right",4,"ngIf"],["data-p-icon","chevron-down"],["data-p-icon","chevron-right"]],template:function(i,n){i&1&&(A(0,"button",0),we("click",function(u){return n.onClick(u)}),z(1,bee,3,2,"ng-container",1)(2,vee,1,0,null,2),L()),i&2&&($(n.cx("toggler")),Nn("visibility",n.rowNode.node.leaf===!1||n.rowNode.node.children&&n.rowNode.node.children.length?"visible":"hidden")("margin-inline-start",n.rowNode.level*16+"px"),de("data-pc-section","rowtoggler")("data-pc-group-section","rowactionbutton")("aria-label",n.toggleButtonAriaLabel),S(),C("ngIf",!n.tt.togglerIconTemplate&&!n.tt._togglerIconTemplate),S(),C("ngTemplateOutlet",n.tt.togglerIconTemplate||n.tt._togglerIconTemplate)("ngTemplateOutletContext",ot(12,xl,n.rowNode.node.expanded)))},dependencies:()=>[Ut,Yt,sn,Da,so],encapsulation:2})}return t})(),c4=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[mt,Z0,ls,As,Mb,kb,Qw,Yw,Xw,oo,fp,Da,so,Gr,Ze,dn,Ze]})}return t})();var Cee=()=>({"min-width":"50rem"});function See(t,s){if(t&1&&(A(0,"th"),ie(1),L()),t&2){let e=s.$implicit;S(),oi(" ",e.header," ")}}function Mee(t,s){if(t&1&&(A(0,"tr"),z(1,See,2,1,"th",7),L()),t&2){let e=s.$implicit;S(),C("ngForOf",e)}}function kee(t,s){if(t&1&&ae(0,"p-treeTableToggler",12),t&2){let e=M(2).$implicit;C("rowNode",e)}}function Eee(t,s){if(t&1&&ae(0,"p-treeTableCheckbox",13),t&2){let e=M(2).$implicit;C("value",e)}}function Pee(t,s){if(t&1&&(A(0,"td")(1,"span",9),z(2,kee,1,1,"p-treeTableToggler",10)(3,Eee,1,1,"p-treeTableCheckbox",11),ie(4),L()()),t&2){let e=s.$implicit,i=s.index,n=M().rowData;S(2),C("ngIf",i===0),S(),C("ngIf",i===0),S(),oi(" ",n[e.field]," ")}}function Dee(t,s){if(t&1&&(A(0,"tr",8),z(1,Pee,5,3,"td",7),L()),t&2){let e=s.$implicit,i=s.columns;C("ttRow",e)("ttSelectableRow",e),S(),C("ngForOf",i)}}var V_=class t{treeValue=[];treeTableValue=[];selectedTreeValue=[];selectedTreeTableValue={};cols=[];nodeService=Fe(Vc);ngOnInit(){this.nodeService.getFiles().then(s=>this.treeValue=s),this.nodeService.getTreeTableNodes().then(s=>this.treeTableValue=s),this.cols=[{field:"name",header:"Name"},{field:"size",header:"Size"},{field:"type",header:"Type"}],this.selectedTreeTableValue={"0-0":{partialChecked:!1,checked:!0}}}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Je({type:t,selectors:[["app-tree-demo"]],features:[_t([Vc])],decls:12,vars:8,consts:[["header",""],["body",""],[1,"card"],[1,"font-semibold","text-xl"],["selectionMode","checkbox",3,"selectionChange","value","selection"],[1,"font-semibold","text-xl","mb-4"],["selectionMode","checkbox","dataKey","key",3,"selectionKeysChange","value","columns","selectionKeys","scrollable","tableStyle"],[4,"ngFor","ngForOf"],[3,"ttRow","ttSelectableRow"],[1,"flex","items-center","gap-2"],[3,"rowNode",4,"ngIf"],[3,"value",4,"ngIf"],[3,"rowNode"],[3,"value"]],template:function(e,i){if(e&1){let n=Be();A(0,"div",2)(1,"div",3),ie(2,"Tree"),L(),A(3,"p-tree",4),ci("selectionChange",function(u){return Q(n),li(i.selectedTreeValue,u)||(i.selectedTreeValue=u),X(u)}),L()(),A(4,"div",2)(5,"div",5),ie(6,"TreeTable"),L(),A(7,"p-treetable",6),ci("selectionKeysChange",function(u){return Q(n),li(i.selectedTreeTableValue,u)||(i.selectedTreeTableValue=u),X(u)}),z(8,Mee,2,1,"ng-template",null,0,ze)(10,Dee,2,3,"ng-template",null,1,ze),L()()}e&2&&(S(3),C("value",i.treeValue),si("selection",i.selectedTreeValue),S(4),C("value",i.treeTableValue)("columns",i.cols),si("selectionKeys",i.selectedTreeTableValue),C("scrollable",!0)("tableStyle",Zt(7,Cee)))},dependencies:[mt,Bi,Ut,dn,$T,qp,c4,Bc,l4,s4,o4,r4],encapsulation:2})};var d4=`
    .p-breadcrumb {
        background: dt('breadcrumb.background');
        padding: dt('breadcrumb.padding');
        overflow-x: auto;
    }

    .p-breadcrumb-list {
        margin: 0;
        padding: 0;
        list-style-type: none;
        display: flex;
        align-items: center;
        flex-wrap: nowrap;
        gap: dt('breadcrumb.gap');
    }

    .p-breadcrumb-separator {
        display: flex;
        align-items: center;
        color: dt('breadcrumb.separator.color');
    }

    .p-breadcrumb-separator-icon:dir(rtl) {
        transform: rotate(180deg);
    }

    .p-breadcrumb::-webkit-scrollbar {
        display: none;
    }

    .p-breadcrumb-item-link {
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: dt('breadcrumb.item.gap');
        transition:
            background dt('breadcrumb.transition.duration'),
            color dt('breadcrumb.transition.duration'),
            outline-color dt('breadcrumb.transition.duration'),
            box-shadow dt('breadcrumb.transition.duration');
        border-radius: dt('breadcrumb.item.border.radius');
        outline-color: transparent;
        color: dt('breadcrumb.item.color');
    }

    .p-breadcrumb-item-link:focus-visible {
        box-shadow: dt('breadcrumb.item.focus.ring.shadow');
        outline: dt('breadcrumb.item.focus.ring.width') dt('breadcrumb.item.focus.ring.style') dt('breadcrumb.item.focus.ring.color');
        outline-offset: dt('breadcrumb.item.focus.ring.offset');
    }

    .p-breadcrumb-item-link:hover .p-breadcrumb-item-label {
        color: dt('breadcrumb.item.hover.color');
    }

    .p-breadcrumb-item-label {
        transition: inherit;
    }

    .p-breadcrumb-item-icon {
        color: dt('breadcrumb.item.icon.color');
        transition: inherit;
    }

    .p-breadcrumb-item-link:hover .p-breadcrumb-item-icon {
        color: dt('breadcrumb.item.icon.hover.color');
    }
`;var Lee=["item"],Aee=["separator"],p4=t=>({$implicit:t}),h4=()=>({exact:!1}),Oee=t=>({menuitem:t});function Fee(t,s){}function Vee(t,s){t&1&&z(0,Fee,0,0,"ng-template")}function zee(t,s){if(t&1&&z(0,Vee,1,0,null,8),t&2){let e=M(2);C("ngTemplateOutlet",e.itemTemplate||e._itemTemplate)("ngTemplateOutletContext",ot(2,p4,e.home))}}function Ree(t,s){if(t&1&&ae(0,"span",15),t&2){let e=M(4);$(e.cn(e.cx("itemIcon"),e.home.icon)),C("ngStyle",e.home==null?null:e.home.style)}}function Bee(t,s){if(t&1&&(at(),ae(0,"svg",16)),t&2){let e=M(4);$(e.cx("itemIcon"))}}function Nee(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(5);$(e.cx("itemLabel")),S(),Et(e.home.label)}}function qee(t,s){if(t&1&&ae(0,"span",18),t&2){let e=M(5);$(e.cx("itemLabel")),C("innerHTML",e.home.label,ea)}}function Hee(t,s){if(t&1&&(Ke(0),z(1,Nee,2,3,"span",17)(2,qee,1,3,"ng-template",null,0,ze),We()),t&2){let e=Gt(3),i=M(4);S(),C("ngIf",i.home.escape!==!1)("ngIfElse",e)}}function jee(t,s){if(t&1){let e=Be();A(0,"a",11),we("click",function(n){Q(e);let a=M(3);return X(a.onClick(n,a.home))}),z(1,Ree,1,3,"span",12)(2,Bee,1,2,"svg",13)(3,Hee,4,2,"ng-container",14),L()}if(t&2){let e=M(3);$(e.cx("itemLink")),C("href",e.home.url?e.home.url:null,Ji)("target",e.home.target),de("aria-label",e.homeAriaLabel)("title",e.home.title)("tabindex",e.home.disabled?null:"0"),S(),C("ngIf",e.home.icon),S(),C("ngIf",!e.home.icon),S(),C("ngIf",e.home.label)}}function Gee(t,s){if(t&1&&ae(0,"span"),t&2){let e=M(4);Lt(e.home.iconStyle),$(e.cn(e.cx("itemIcon"),e.home.icon))}}function Uee(t,s){if(t&1&&(at(),ae(0,"svg",16)),t&2){let e=M(4);$(e.cx("itemIcon"))}}function $ee(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(5);$(e.cx("itemLabel")),S(),Et(e.home.label)}}function Kee(t,s){if(t&1&&ae(0,"span",18),t&2){let e=M(5);$(e.cx("itemLabel")),C("innerHTML",e.home.label,ea)}}function Wee(t,s){if(t&1&&(Ke(0),z(1,$ee,2,3,"span",17)(2,Kee,1,3,"ng-template",null,1,ze),We()),t&2){let e=Gt(3),i=M(4);S(),C("ngIf",i.home.escape!==!1)("ngIfElse",e)}}function Zee(t,s){if(t&1){let e=Be();A(0,"a",19),we("click",function(n){Q(e);let a=M(3);return X(a.onClick(n,a.home))}),z(1,Gee,1,4,"span",20)(2,Uee,1,2,"svg",13)(3,Wee,4,2,"ng-container",14),L()}if(t&2){let e=M(3);$(e.cx("itemLink")),C("routerLink",e.home.routerLink)("queryParams",e.home.queryParams)("routerLinkActiveOptions",e.home.routerLinkActiveOptions||Zt(18,h4))("target",e.home.target)("fragment",e.home.fragment)("queryParamsHandling",e.home.queryParamsHandling)("preserveFragment",e.home.preserveFragment)("skipLocationChange",e.home.skipLocationChange)("replaceUrl",e.home.replaceUrl)("state",e.home.state),de("aria-label",e.homeAriaLabel)("title",e.home.title)("tabindex",e.home.disabled?null:"0"),S(),C("ngIf",e.home.icon),S(),C("ngIf",!e.home.icon),S(),C("ngIf",e.home.label)}}function Qee(t,s){if(t&1&&z(0,jee,4,10,"a",9)(1,Zee,4,19,"a",10),t&2){let e=M(2);C("ngIf",!e.home.routerLink),S(),C("ngIf",e.home.routerLink)}}function Xee(t,s){if(t&1&&(A(0,"li",7),Wi(1,zee,1,4)(2,Qee,2,2),L()),t&2){let e=M();$(e.cn(e.cx("homeItem"),e.home.styleClass)),C("ngStyle",e.home.style)("tooltipOptions",e.home.tooltipOptions),de("id",e.home.id)("data-pc-section","home"),S(),Zi(e.itemTemplate||e._itemTemplate?1:2)}}function Yee(t,s){t&1&&(at(),ae(0,"svg",23))}function Jee(t,s){}function ete(t,s){t&1&&z(0,Jee,0,0,"ng-template")}function tte(t,s){if(t&1&&(A(0,"li"),z(1,Yee,1,0,"svg",21)(2,ete,1,0,null,22),L()),t&2){let e=M();$(e.cx("separator")),de("data-pc-section","separator"),S(),C("ngIf",!e.separatorTemplate&&!e._separatorTemplate),S(),C("ngTemplateOutlet",e.separatorTemplate||e._separatorTemplate)}}function ite(t,s){}function nte(t,s){t&1&&z(0,ite,0,0,"ng-template")}function ate(t,s){if(t&1&&z(0,nte,1,0,null,8),t&2){let e=M(2).$implicit,i=M();C("ngTemplateOutlet",i.itemTemplate||i._itemTemplate)("ngTemplateOutletContext",ot(2,p4,e))}}function ote(t,s){if(t&1&&ae(0,"span"),t&2){let e=M(5).$implicit,i=M();Lt(e==null?null:e.iconStyle),$(i.cn(i.cx("itemIcon"),e==null?null:e.icon))}}function rte(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(6).$implicit,i=M();$(i.cx("itemLabel")),S(),Et(e==null?null:e.label)}}function ste(t,s){if(t&1&&ae(0,"span",18),t&2){let e=M(6).$implicit,i=M();$(i.cx("itemLabel")),C("innerHTML",e==null?null:e.label,ea)}}function lte(t,s){if(t&1&&(Ke(0),z(1,rte,2,3,"span",17)(2,ste,1,3,"ng-template",null,2,ze),We()),t&2){let e=Gt(3),i=M(5).$implicit;S(),C("ngIf",(i==null?null:i.escape)!==!1)("ngIfElse",e)}}function cte(t,s){if(t&1&&(Ke(0),z(1,ote,1,4,"span",20)(2,lte,4,2,"ng-container",14),We()),t&2){let e=M(4).$implicit;S(),C("ngIf",e==null?null:e.icon),S(),C("ngIf",e==null?null:e.label)}}function dte(t,s){if(t&1){let e=Be();A(0,"a",27),we("click",function(n){Q(e);let a=M(3).$implicit,u=M();return X(u.onClick(n,a))}),z(1,cte,3,2,"ng-container",14),L()}if(t&2){let e=M(3).$implicit,i=M();$(i.cx("itemLink")),C("target",e==null?null:e.target),de("href",e!=null&&e.url?e==null?null:e.url:null,Ji)("title",e==null?null:e.title)("tabindex",e!=null&&e.disabled?null:"0"),S(),C("ngIf",!i.itemTemplate&&!i._itemTemplate)}}function ute(t,s){if(t&1&&ae(0,"span"),t&2){let e=M(4).$implicit,i=M();Lt(e==null?null:e.iconStyle),$(i.cn(i.cx("itemIcon"),e==null?null:e.icon))}}function pte(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(5).$implicit,i=M();$(i.cx("itemLabel")),S(),Et(e==null?null:e.label)}}function hte(t,s){if(t&1&&ae(0,"span",18),t&2){let e=M(5).$implicit,i=M();$(i.cx("itemLabel")),C("innerHTML",e==null?null:e.label,ea)}}function mte(t,s){if(t&1&&(Ke(0),z(1,pte,2,3,"span",17)(2,hte,1,3,"ng-template",null,3,ze),We()),t&2){let e=Gt(3),i=M(4).$implicit;S(),C("ngIf",(i==null?null:i.escape)!==!1)("ngIfElse",e)}}function fte(t,s){if(t&1){let e=Be();A(0,"a",19),we("click",function(n){Q(e);let a=M(3).$implicit,u=M();return X(u.onClick(n,a))}),z(1,ute,1,4,"span",20)(2,mte,4,2,"ng-container",14),L()}if(t&2){let e=M(3).$implicit,i=M();$(i.cx("itemLink")),C("routerLink",e==null?null:e.routerLink)("queryParams",e==null?null:e.queryParams)("routerLinkActiveOptions",(e==null?null:e.routerLinkActiveOptions)||Zt(16,h4))("target",e==null?null:e.target)("fragment",e==null?null:e.fragment)("queryParamsHandling",e==null?null:e.queryParamsHandling)("preserveFragment",e==null?null:e.preserveFragment)("skipLocationChange",e==null?null:e.skipLocationChange)("replaceUrl",e==null?null:e.replaceUrl)("state",e==null?null:e.state),de("title",e==null?null:e.title)("tabindex",e!=null&&e.disabled?null:"0"),S(),C("ngIf",e==null?null:e.icon),S(),C("ngIf",e==null?null:e.label)}}function gte(t,s){if(t&1&&z(0,dte,2,7,"a",26)(1,fte,3,17,"a",10),t&2){let e=M(2).$implicit;C("ngIf",!(e!=null&&e.routerLink)),S(),C("ngIf",e==null?null:e.routerLink)}}function _te(t,s){if(t&1&&(A(0,"li",25),Wi(1,ate,1,4)(2,gte,2,2),L()),t&2){let e=M().$implicit,i=M();Lt(e.style),$(i.cn(i.cx("item",ot(8,Oee,e)),e.styleClass)),C("tooltipOptions",e.tooltipOptions),de("id",e.id)("data-pc-section","menuitem"),S(),Zi(i.itemTemplate||i._itemTemplate?1:2)}}function bte(t,s){t&1&&(at(),ae(0,"svg",23))}function yte(t,s){}function vte(t,s){t&1&&z(0,yte,0,0,"ng-template")}function xte(t,s){if(t&1&&(A(0,"li"),z(1,bte,1,0,"svg",21)(2,vte,1,0,null,22),L()),t&2){let e=M(2);$(e.cx("separator")),de("data-pc-section","separator"),S(),C("ngIf",!e.separatorTemplate&&!e._separatorTemplate),S(),C("ngTemplateOutlet",e.separatorTemplate||e._separatorTemplate)}}function wte(t,s){if(t&1&&z(0,_te,3,10,"li",24)(1,xte,3,5,"li",5),t&2){let e=s.$implicit,i=s.last;C("ngIf",e.visible!==!1),S(),C("ngIf",!i&&e.visible!==!1)}}var Ite={root:()=>["p-breadcrumb p-component"],list:"p-breadcrumb-list",homeItem:"p-breadcrumb-home-item",separator:"p-breadcrumb-separator",item:({menuitem:t})=>["p-breadcrumb-item",{"p-disabled":t.disabled}],itemLink:"p-breadcrumb-item-link",itemIcon:"p-breadcrumb-item-icon",itemLabel:"p-breadcrumb-item-label"},u4=(()=>{class t extends Rt{name="breadcrumb";theme=d4;classes=Ite;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var zv=(()=>{class t extends Ot{router;model;style;styleClass;home;homeAriaLabel;onItemClick=new Le;_componentStyle=Fe(u4);constructor(e){super(),this.router=e}onClick(e,i){if(i.disabled){e.preventDefault();return}!i.url&&!i.routerLink&&e.preventDefault(),i.command&&i.command({originalEvent:e,item:i}),this.onItemClick.emit({originalEvent:e,item:i})}itemTemplate;separatorTemplate;templates;_separatorTemplate;_itemTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"separator":this._separatorTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}static \u0275fac=function(i){return new(i||t)(Dt(Ew))};static \u0275cmp=Je({type:t,selectors:[["p-breadcrumb"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,Lee,5),xe(a,Aee,5),xe(a,di,4)),i&2){let u;se(u=le())&&(n.itemTemplate=u.first),se(u=le())&&(n.separatorTemplate=u.first),se(u=le())&&(n.templates=u)}},inputs:{model:"model",style:"style",styleClass:"styleClass",home:"home",homeAriaLabel:"homeAriaLabel"},outputs:{onItemClick:"onItemClick"},features:[_t([u4]),ft],decls:5,vars:12,consts:[["htmlHomeLabel",""],["htmlHomeRouteLabel",""],["htmlLabel",""],["htmlRouteLabel",""],["pTooltip","",3,"class","ngStyle","tooltipOptions",4,"ngIf"],[3,"class",4,"ngIf"],["ngFor","",3,"ngForOf"],["pTooltip","",3,"ngStyle","tooltipOptions"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"href","class","target","click",4,"ngIf"],[3,"routerLink","queryParams","routerLinkActiveOptions","class","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],[3,"click","href","target"],[3,"class","ngStyle",4,"ngIf"],["data-p-icon","home",3,"class",4,"ngIf"],[4,"ngIf"],[3,"ngStyle"],["data-p-icon","home"],[3,"class",4,"ngIf","ngIfElse"],[3,"innerHTML"],[3,"click","routerLink","queryParams","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[3,"class","style",4,"ngIf"],["data-p-icon","chevron-right",4,"ngIf"],[4,"ngTemplateOutlet"],["data-p-icon","chevron-right"],["pTooltip","",3,"class","style","tooltipOptions",4,"ngIf"],["pTooltip","",3,"tooltipOptions"],[3,"class","target","click",4,"ngIf"],[3,"click","target"]],template:function(i,n){i&1&&(A(0,"nav")(1,"ol"),z(2,Xee,3,7,"li",4)(3,tte,3,5,"li",5)(4,wte,2,2,"ng-template",6),L()()),i&2&&(Lt(n.style),$(n.cn(n.cx("root"),n.styleClass)),de("data-pc-name","breadcrumb")("data-pc-section","root"),S(),$(n.cx("list")),de("data-pc-section","menu"),S(),C("ngIf",n.home&&n.home.visible!==!1),S(),C("ngIf",n.model&&n.home),S(),C("ngForOf",n.model))},dependencies:[mt,Bi,Ut,Yt,fi,Ea,$o,aa,La,so,B3,Ze],encapsulation:2,changeDetection:0})}return t})(),m4=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[zv,Ze,Ze]})}return t})();var f4=`
    .p-contextmenu {
        background: dt('contextmenu.background');
        color: dt('contextmenu.color');
        border: 1px solid dt('contextmenu.border.color');
        border-radius: dt('contextmenu.border.radius');
        box-shadow: dt('contextmenu.shadow');
        min-width: 12.5rem;
    }

    .p-contextmenu-root-list,
    .p-contextmenu-submenu {
        margin: 0;
        padding: dt('contextmenu.list.padding');
        list-style: none;
        outline: 0 none;
        display: flex;
        flex-direction: column;
        gap: dt('contextmenu.list.gap');
    }

    .p-contextmenu-submenu {
        position: absolute;
        display: flex;
        flex-direction: column;
        min-width: 100%;
        z-index: 1;
        background: dt('contextmenu.background');
        color: dt('contextmenu.color');
        border: 1px solid dt('contextmenu.border.color');
        border-radius: dt('contextmenu.border.radius');
        box-shadow: dt('contextmenu.shadow');
    }

    .p-contextmenu-item {
        position: relative;
    }

    .p-contextmenu-item-content {
        transition:
            background dt('contextmenu.transition.duration'),
            color dt('contextmenu.transition.duration');
        border-radius: dt('contextmenu.item.border.radius');
        color: dt('contextmenu.item.color');
    }

    .p-contextmenu-item-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
        color: inherit;
        padding: dt('contextmenu.item.padding');
        gap: dt('contextmenu.item.gap');
        user-select: none;
    }

    .p-contextmenu-item-label {
        line-height: 1;
    }

    .p-contextmenu-item-icon {
        color: dt('contextmenu.item.icon.color');
    }

    .p-contextmenu-submenu-icon {
        color: dt('contextmenu.submenu.icon.color');
        margin-left: auto;
        font-size: dt('contextmenu.submenu.icon.size');
        width: dt('contextmenu.submenu.icon.size');
        height: dt('contextmenu.submenu.icon.size');
    }

    .p-contextmenu-submenu-icon:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
    }

    .p-contextmenu-item.p-focus > .p-contextmenu-item-content {
        color: dt('contextmenu.item.focus.color');
        background: dt('contextmenu.item.focus.background');
    }

    .p-contextmenu-item.p-focus > .p-contextmenu-item-content .p-contextmenu-item-icon {
        color: dt('contextmenu.item.icon.focus.color');
    }

    .p-contextmenu-item.p-focus > .p-contextmenu-item-content .p-contextmenu-submenu-icon {
        color: dt('contextmenu.submenu.icon.focus.color');
    }

    .p-contextmenu-item:not(.p-disabled) > .p-contextmenu-item-content:hover {
        color: dt('contextmenu.item.focus.color');
        background: dt('contextmenu.item.focus.background');
    }

    .p-contextmenu-item:not(.p-disabled) > .p-contextmenu-item-content:hover .p-contextmenu-item-icon {
        color: dt('contextmenu.item.icon.focus.color');
    }

    .p-contextmenu-item:not(.p-disabled) > .p-contextmenu-item-content:hover .p-contextmenu-submenu-icon {
        color: dt('contextmenu.submenu.icon.focus.color');
    }

    .p-contextmenu-item-active > .p-contextmenu-item-content {
        color: dt('contextmenu.item.active.color');
        background: dt('contextmenu.item.active.background');
    }

    .p-contextmenu-item-active > .p-contextmenu-item-content .p-contextmenu-item-icon {
        color: dt('contextmenu.item.icon.active.color');
    }

    .p-contextmenu-item-active > .p-contextmenu-item-content .p-contextmenu-submenu-icon {
        color: dt('contextmenu.submenu.icon.active.color');
    }

    .p-contextmenu-separator {
        border-block-start: 1px solid dt('contextmenu.separator.border.color');
    }

    .p-contextmenu-enter-from,
    .p-contextmenu-leave-active {
        opacity: 0;
    }

    .p-contextmenu-enter-active {
        transition: opacity 250ms;
    }

    .p-contextmenu-mobile .p-contextmenu-submenu {
        position: static;
        box-shadow: none;
        border: 0 none;
        padding-inline-start: dt('tieredmenu.submenu.mobile.indent');
        padding-inline-end: 0;
    }

    .p-contextmenu-mobile .p-contextmenu-submenu-icon {
        transition: transform 0.2s;
        transform: rotate(90deg);
    }

    .p-contextmenu-mobile .p-contextmenu-item-active > .p-contextmenu-item-content .p-contextmenu-submenu-icon {
        transform: rotate(-90deg);
    }
`;var Cte=["sublist"],Ste=(t,s)=>({instance:t,processedItem:s}),g4=()=>({class:"p-contextmenu-submenu-icon"}),Mte=()=>({exact:!1}),kte=t=>({$implicit:t});function Ete(t,s){if(t&1&&ae(0,"li",8),t&2){let e=M().$implicit,i=M(2);Lt(i.getItemProp(e,"style")),$(i.cn(i.cx("separator"),i.getItemProp(e,"styleClass"))),de("id",i.getItemId(e))("data-pc-section","separator")}}function Pte(t,s){if(t&1&&ae(0,"span",19),t&2){let e=M(4).$implicit,i=M(2);$(i.cn(i.cx("itemIcon"),i.getItemProp(e,"icon"))),C("ngStyle",i.getItemProp(e,"iconStyle")),de("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function Dte(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(4).$implicit,i=M(2);$(i.cx("itemLabel")),de("data-pc-section","label"),S(),oi(" ",i.getItemLabel(e)," ")}}function Lte(t,s){if(t&1&&ae(0,"span",20),t&2){let e=M(4).$implicit,i=M(2);$(i.cx("itemLabel")),C("innerHTML",i.getItemLabel(e),ea),de("data-pc-section","label")}}function Ate(t,s){if(t&1&&ae(0,"p-badge",21),t&2){let e=M(4).$implicit,i=M(2);$(i.getItemProp(e,"badgeStyleClass")),C("value",i.getItemProp(e,"badge"))}}function Ote(t,s){if(t&1&&(at(),ae(0,"svg",24)),t&2){let e=M(7);$(e.cx("submenuIcon")),de("data-pc-section","submenuicon")("aria-hidden",!0)}}function Fte(t,s){}function Vte(t,s){t&1&&z(0,Fte,0,0,"ng-template",25),t&2&&C("data-pc-section","submenuicon")("aria-hidden",!0)}function zte(t,s){if(t&1&&(Ke(0),z(1,Ote,1,4,"svg",22)(2,Vte,1,2,null,23),We()),t&2){let e=M(6);S(),C("ngIf",!e.contextMenu.submenuIconTemplate&&!e.contextMenu._submenuIconTemplate),S(),C("ngTemplateOutlet",e.contextMenu.submenuIconTemplate||e.contextMenu._submenuIconTemplate)("ngTemplateOutletContext",Zt(3,g4))}}function Rte(t,s){if(t&1&&(A(0,"a",15),z(1,Pte,1,6,"span",16)(2,Dte,2,4,"span",17)(3,Lte,1,4,"ng-template",null,2,ze)(5,Ate,1,3,"p-badge",18)(6,zte,3,4,"ng-container",11),L()),t&2){let e=Gt(4),i=M(3).$implicit,n=M(2);$(n.cx("itemLink")),C("target",n.getItemProp(i,"target")),de("href",n.getItemProp(i,"url"),Ji)("data-automationid",n.getItemProp(i,"automationId"))("data-pc-section","action")("tabindex",-1),S(),C("ngIf",n.getItemProp(i,"icon")),S(),C("ngIf",n.getItemProp(i,"escape"))("ngIfElse",e),S(3),C("ngIf",n.getItemProp(i,"badge")),S(),C("ngIf",n.isItemGroup(i))}}function Bte(t,s){if(t&1&&ae(0,"span",19),t&2){let e=M(4).$implicit,i=M(2);$(i.cn(i.cx("itemIcon"),i.getItemProp(e,"icon"))),C("ngStyle",i.getItemProp(e,"iconStyle")),de("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function Nte(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(4).$implicit,i=M(2);$(i.cx("itemLabel")),de("data-pc-section","label"),S(),oi(" ",i.getItemLabel(e)," ")}}function qte(t,s){if(t&1&&ae(0,"span",20),t&2){let e=M(4).$implicit,i=M(2);$(i.cx("itemLabel")),C("innerHTML",i.getItemLabel(e),ea),de("data-pc-section","label")}}function Hte(t,s){if(t&1&&ae(0,"p-badge",21),t&2){let e=M(4).$implicit,i=M(2);$(i.getItemProp(e,"badgeStyleClass")),C("value",i.getItemProp(e,"badge"))}}function jte(t,s){if(t&1&&(at(),ae(0,"svg",24)),t&2){let e=M(7);$(e.cx("submenuIcon")),de("data-pc-section","submenuicon")("aria-hidden",!0)}}function Gte(t,s){}function Ute(t,s){t&1&&z(0,Gte,0,0,"ng-template",25),t&2&&C("data-pc-section","submenuicon")("aria-hidden",!0)}function $te(t,s){if(t&1&&(Ke(0),z(1,jte,1,4,"svg",22)(2,Ute,1,2,null,23),We()),t&2){let e=M(6);S(),C("ngIf",!e.contextMenu.submenuIconTemplate&&!e.contextMenu._submenuIconTemplate),S(),C("ngTemplateOutlet",!e.contextMenu.submenuIconTemplate||!e.contextMenu._submenuIconTemplate)("ngTemplateOutletContext",Zt(3,g4))}}function Kte(t,s){if(t&1&&(A(0,"a",26),z(1,Bte,1,6,"span",16)(2,Nte,2,4,"span",17)(3,qte,1,4,"ng-template",null,2,ze)(5,Hte,1,3,"p-badge",18)(6,$te,3,4,"ng-container",11),L()),t&2){let e=Gt(4),i=M(3).$implicit,n=M(2);$(n.cx("itemLink")),C("routerLink",n.getItemProp(i,"routerLink"))("queryParams",n.getItemProp(i,"queryParams"))("routerLinkActiveOptions",n.getItemProp(i,"routerLinActiveOptions")||Zt(20,Mte))("target",n.getItemProp(i,"target"))("fragment",n.getItemProp(i,"fragment"))("queryParamsHandling",n.getItemProp(i,"queryParamsHandling"))("preserveFragment",n.getItemProp(i,"preserveFragment"))("skipLocationChange",n.getItemProp(i,"skipLocationChange"))("replaceUrl",n.getItemProp(i,"replaceUrl"))("state",n.getItemProp(i,"state")),de("data-automationid",n.getItemProp(i,"automationId"))("tabindex",-1)("data-pc-section","action"),S(),C("ngIf",n.getItemProp(i,"icon")),S(),C("ngIf",n.getItemProp(i,"escape"))("ngIfElse",e),S(3),C("ngIf",n.getItemProp(i,"badge")),S(),C("ngIf",n.isItemGroup(i))}}function Wte(t,s){if(t&1&&(Ke(0),z(1,Rte,7,12,"a",13)(2,Kte,7,21,"a",14),We()),t&2){let e=M(2).$implicit,i=M(2);S(),C("ngIf",!i.getItemProp(e,"routerLink")),S(),C("ngIf",i.getItemProp(e,"routerLink"))}}function Zte(t,s){}function Qte(t,s){t&1&&z(0,Zte,0,0,"ng-template")}function Xte(t,s){if(t&1&&(Ke(0),z(1,Qte,1,0,null,23),We()),t&2){let e=M(2).$implicit,i=M(2);S(),C("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",ot(2,kte,e.item))}}function Yte(t,s){if(t&1){let e=Be();A(0,"p-contextmenu-sub",27),we("itemClick",function(n){Q(e);let a=M(4);return X(a.itemClick.emit(n))})("itemMouseEnter",function(n){Q(e);let a=M(4);return X(a.onItemMouseEnter(n))}),L()}if(t&2){let e=M(2).$implicit,i=M(2);C("items",e.items)("itemTemplate",i.itemTemplate)("menuId",i.menuId)("visible",i.isItemActive(e)&&i.isItemGroup(e))("activeItemPath",i.activeItemPath)("focusedItemId",i.focusedItemId)("level",i.level+1)}}function Jte(t,s){if(t&1){let e=Be();A(0,"li",9,1)(2,"div",10),we("click",function(n){Q(e);let a=M().$implicit,u=M(2);return X(u.onItemClick(n,a))})("mouseenter",function(n){Q(e);let a=M().$implicit,u=M(2);return X(u.onItemMouseEnter({$event:n,processedItem:a}))}),z(3,Wte,3,2,"ng-container",11)(4,Xte,2,4,"ng-container",11),L(),z(5,Yte,1,7,"p-contextmenu-sub",12),L()}if(t&2){let e=M(),i=e.$implicit,n=e.index,a=M(2);Lt(a.getItemProp(i,"style")),$(a.cn(a.cx("item",ni(23,Ste,a,i)),a.getItemProp(i,"styleClass"))),C("tooltipOptions",a.getItemProp(i,"tooltipOptions")),de("id",a.getItemId(i))("data-pc-section","menuitem")("data-p-highlight",a.isItemActive(i))("data-p-focused",a.isItemFocused(i))("data-p-disabled",a.isItemDisabled(i))("aria-label",a.getItemLabel(i))("aria-disabled",a.isItemDisabled(i)||void 0)("aria-haspopup",a.isItemGroup(i)&&!a.getItemProp(i,"to")?"menu":void 0)("aria-expanded",a.isItemGroup(i)?a.isItemActive(i):void 0)("aria-level",a.level+1)("aria-setsize",a.getAriaSetSize())("aria-posinset",a.getAriaPosInset(n)),S(2),$(a.cx("itemContent")),de("data-pc-section","content"),S(),C("ngIf",!a.itemTemplate),S(),C("ngIf",a.itemTemplate),S(),C("ngIf",a.isItemVisible(i)&&a.isItemGroup(i))}}function eie(t,s){if(t&1&&z(0,Ete,1,6,"li",6)(1,Jte,6,26,"li",7),t&2){let e=s.$implicit,i=M(2);C("ngIf",i.isItemVisible(e)&&i.getItemProp(e,"separator")),S(),C("ngIf",i.isItemVisible(e)&&!i.getItemProp(e,"separator"))}}function tie(t,s){if(t&1){let e=Be();A(0,"ul",4,0),we("@overlayAnimation.start",function(n){Q(e);let a=Gt(1),u=M();return X(u.onEnter(n,a))})("keydown",function(n){Q(e);let a=M();return X(a.menuKeydown.emit(n))})("focus",function(n){Q(e);let a=M();return X(a.menuFocus.emit(n))})("blur",function(n){Q(e);let a=M();return X(a.menuBlur.emit(n))}),z(2,eie,2,2,"ng-template",5),L()}if(t&2){let e=M();$(e.root?e.cx("rootList"):e.cx("submenu")),C("@overlayAnimation",e.visible)("tabindex",e.tabindex),de("id",e.menuId+"_list")("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy)("aria-activedescendant",e.focusedItemId)("aria-orientation","vertical")("data-pc-section","menu"),S(2),C("ngForOf",e.items)}}var iie=["item"],nie=["submenuicon"],aie=["rootmenu"],oie=["container"],rie=()=>({value:"visible"});function sie(t,s){if(t&1){let e=Be();A(0,"div",3,0),we("@overlayAnimation.start",function(n){Q(e);let a=M();return X(a.onOverlayAnimationStart(n))})("@overlayAnimation.done",function(n){Q(e);let a=M();return X(a.onOverlayAnimationEnd(n))}),A(2,"p-contextmenu-sub",4,1),we("itemClick",function(n){Q(e);let a=M();return X(a.onItemClick(n))})("menuFocus",function(n){Q(e);let a=M();return X(a.onMenuFocus(n))})("menuBlur",function(n){Q(e);let a=M();return X(a.onMenuBlur(n))})("menuKeydown",function(n){Q(e);let a=M();return X(a.onKeyDown(n))})("itemMouseEnter",function(n){Q(e);let a=M();return X(a.onItemMouseEnter(n))}),L()()}if(t&2){let e=M();Lt(e.sx("root")),$(e.cn(e.cx("root"),e.styleClass)),C("ngStyle",e.style)("@overlayAnimation",Zt(21,rie)),de("data-pc-section","root")("data-pc-name","contextmenu")("id",e.id),S(2),C("root",!0)("items",e.processedItems)("itemTemplate",e.itemTemplate||e._itemTemplate)("menuId",e.id)("tabindex",e.disabled?-1:e.tabindex)("ariaLabel",e.ariaLabel)("ariaLabelledBy",e.ariaLabelledBy)("baseZIndex",e.baseZIndex)("autoZIndex",e.autoZIndex)("visible",e.submenuVisible())("focusedItemId",e.focused?e.focusedItemId:void 0)("activeItemPath",e.activeItemPath())}}var lie={root:{position:"absolute"}},cie={root:()=>["p-contextmenu p-component"],rootList:"p-contextmenu-root-list",item:({instance:t,processedItem:s})=>["p-contextmenu-item",{"p-contextmenu-item-active":t.isItemActive(s),"p-focus":t.isItemFocused(s),"p-disabled":t.isItemDisabled(s),"p-contextmenu-mobile":t.queryMatches}],itemContent:"p-contextmenu-item-content",itemLink:"p-contextmenu-item-link",itemIcon:"p-contextmenu-item-icon",itemLabel:"p-contextmenu-item-label",submenuIcon:"p-contextmenu-submenu-icon",submenu:"p-contextmenu-submenu",separator:"p-contextmenu-separator"},z_=(()=>{class t extends Rt{name="contextmenu";theme=f4;classes=cie;inlineStyles=lie;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var die=(()=>{class t extends Ot{contextMenu;visible=!1;items;itemTemplate;root=!1;autoZIndex=!0;baseZIndex=0;popup;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath;tabindex=0;itemClick=new Le;itemMouseEnter=new Le;menuFocus=new Le;menuBlur=new Le;menuKeydown=new Le;sublistViewChild;_componentStyle=Fe(z_);constructor(e){super(),this.contextMenu=e}getItemProp(e,i,n=null){return e&&e.item?Lo(e.item[i],n):void 0}getItemId(e){return e.item&&e.item?.id?e.item.id:`${this.menuId}_${e.key}`}getItemKey(e){return this.getItemId(e)}getItemLabel(e){return this.getItemProp(e,"label")}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(i=>this.isItemVisible(i)&&this.getItemProp(i,"separator")).length+1}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemActive(e){if(this.activeItemPath)return this.activeItemPath.some(i=>i.key===e.key)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return Wt(e.items)}onItemMouseEnter(e){let{event:i,processedItem:n}=e;this.itemMouseEnter.emit({originalEvent:i,processedItem:n})}onItemClick(e,i){this.getItemProp(i,"command",{originalEvent:e,item:i.item}),this.itemClick.emit({originalEvent:e,processedItem:i,isFocus:!0})}onEnter(e,i){if(e.fromState==="void"&&e.toState){let n=e.element;this.position(n)}}position(e){let i=e.parentElement.parentElement,n=Lr(e.parentElement.parentElement),a=Tb(),u=e.offsetParent?e.offsetWidth:mm(e),b=Dr(i.children[0]);e.style.top="0px",parseInt(n.left,10)+b+u>a.width-hm()?e.style.left=-1*u+"px":e.style.left=b+"px"}static \u0275fac=function(i){return new(i||t)(Dt(Ki(()=>R_)))};static \u0275cmp=Je({type:t,selectors:[["p-contextMenuSub"],["p-contextmenu-sub"]],viewQuery:function(i,n){if(i&1&&ut(Cte,5),i&2){let a;se(a=le())&&(n.sublistViewChild=a.first)}},inputs:{visible:[2,"visible","visible",ye],items:"items",itemTemplate:"itemTemplate",root:[2,"root","root",ye],autoZIndex:[2,"autoZIndex","autoZIndex",ye],baseZIndex:[2,"baseZIndex","baseZIndex",wt],popup:[2,"popup","popup",ye],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[2,"level","level",wt],focusedItemId:"focusedItemId",activeItemPath:"activeItemPath",tabindex:[2,"tabindex","tabindex",wt]},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[_t([z_]),ft],decls:1,vars:1,consts:[["sublist",""],["listItem",""],["htmlLabel",""],["role","menu",3,"class","tabindex","keydown","focus","blur",4,"ngIf"],["role","menu",3,"keydown","focus","blur","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"style","class",4,"ngIf"],["role","menuitem","pTooltip","",3,"style","class","tooltipOptions",4,"ngIf"],["role","separator"],["role","menuitem","pTooltip","",3,"tooltipOptions"],[3,"click","mouseenter"],[4,"ngIf"],[3,"items","itemTemplate","menuId","visible","activeItemPath","focusedItemId","level","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","class",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActiveOptions","target","class","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target"],[3,"class","ngStyle",4,"ngIf"],[3,"class",4,"ngIf","ngIfElse"],[3,"class","value",4,"ngIf"],[3,"ngStyle"],[3,"innerHTML"],[3,"value"],["data-p-icon","angle-right",3,"class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","angle-right"],[3,"data-pc-section","aria-hidden"],["pRipple","",3,"routerLink","queryParams","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[3,"itemClick","itemMouseEnter","items","itemTemplate","menuId","visible","activeItemPath","focusedItemId","level"]],template:function(i,n){i&1&&z(0,tie,3,11,"ul",3),i&2&&C("ngIf",n.root?!0:n.visible)},dependencies:[t,mt,Bi,Ut,Yt,fi,Ea,$o,sn,aa,La,Ls,oo,jr,Ze],encapsulation:2,data:{animation:[qn("overlayAnimation",[Fi(":enter",[Oi({opacity:0})]),Fi(":leave",[Oi({opacity:0})])])]}})}return t})(),R_=(()=>{class t extends Ot{overlayService;set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}triggerEvent="contextmenu";target;global;style;styleClass;autoZIndex=!0;baseZIndex=0;id;breakpoint="960px";ariaLabel;ariaLabelledBy;pressDelay=500;appendTo=nn(void 0);onShow=new Le;onHide=new Le;rootmenu;containerViewChild;container;outsideClickListener;resizeListener;triggerEventListener;documentClickListener;documentTriggerListener;touchEndListener;pageX;pageY;visible=gi(!1);focused=!1;activeItemPath=gi([]);focusedItemInfo=gi({index:-1,level:0,parentKey:"",item:null});submenuVisible=gi(!1);$appendTo=Ai(()=>this.appendTo()||this.config.overlayAppendTo());searchValue="";searchTimeout;_processedItems;_model;pressTimer;matchMediaListener;query;queryMatches;_componentStyle=Fe(z_);get visibleItems(){let e=this.activeItemPath().find(i=>i.key===this.focusedItemInfo().parentKey);return e?e.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let e=this.focusedItemInfo();return e.item&&e.item?.id?e.item.id:e.index!==-1?`${this.id}${Wt(e.parentKey)?"_"+e.parentKey:""}_${e.index}`:null}constructor(e){super(),this.overlayService=e,Pr(()=>{let i=this.activeItemPath();Wt(i)?this.bindGlobalListeners():this.visible()||this.unbindGlobalListeners()})}ngOnInit(){super.ngOnInit(),this.id=this.id||vi("pn_id_"),this.bindMatchMediaListener(),this.bindTriggerEventListener()}isMobile(){return z0()||Fw()}bindTriggerEventListener(){ii(this.platformId)&&(this.triggerEventListener||(this.isMobile()?this.global?(this.triggerEventListener=this.renderer.listen(this.document,"touchstart",this.onTouchStart.bind(this)),this.touchEndListener=this.renderer.listen(this.document,"touchend",this.onTouchEnd.bind(this))):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,"touchstart",this.onTouchStart.bind(this)),this.touchEndListener=this.renderer.listen(this.target,"touchend",this.onTouchEnd.bind(this))):this.global?this.triggerEventListener=this.renderer.listen(this.document,this.triggerEvent,e=>{this.show(e)}):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,this.triggerEvent,e=>{this.show(e)}))))}bindGlobalListeners(){if(ii(this.platformId)){if(!this.documentClickListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",i=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(i)&&!i.ctrlKey&&i.button!==2&&this.triggerEvent!=="click"&&this.hide()})}this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{this.hide()}))}}itemTemplate;submenuIconTemplate;templates;_submenuIconTemplate;_itemTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"submenuicon":this._submenuIconTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}createProcessedItems(e,i=0,n={},a=""){let u=[];return e&&e.forEach((b,T)=>{let D=(a!==""?a+"_":"")+T,R={item:b,index:T,level:i,key:D,parent:n,parentKey:a};R.items=this.createProcessedItems(b.items,i+1,R,D),u.push(R)}),u}bindMatchMediaListener(){if(ii(this.platformId)&&!this.matchMediaListener){let e=window.matchMedia(`(max-width: ${this.breakpoint})`);this.query=e,this.queryMatches=e.matches,this.matchMediaListener=()=>{this.queryMatches=e.matches},e.addEventListener("change",this.matchMediaListener)}}unbindMatchMediaListener(){this.matchMediaListener&&(this.query.removeEventListener("change",this.matchMediaListener),this.matchMediaListener=null)}getItemProp(e,i){return e?Lo(e[i]):void 0}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isProcessedItemGroup(e){return e&&Wt(e.items)}isSelected(e){return this.activeItemPath().some(i=>i.key===e.key)}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&Wt(e.items)}onItemClick(e){let{processedItem:i}=e,n=this.isProcessedItemGroup(i);if(this.isSelected(i)){let{index:u,key:b,level:T,parentKey:D,item:R}=i;this.activeItemPath.set(this.activeItemPath().filter(U=>b!==U.key&&b.startsWith(U.key))),this.focusedItemInfo.set({index:u,level:T,parentKey:D,item:R}),$t(this.rootmenu.sublistViewChild.nativeElement)}else n?this.onItemChange(e):this.hide()}onItemMouseEnter(e){this.onItemChange(e,"hover")}onKeyDown(e){let i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!i&&or(e.key)&&this.searchItems(e,e.key);break}}onArrowDownKey(e){let i=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}onArrowRightKey(e){let i=this.visibleItems[this.focusedItemInfo().index];this.isProccessedItemGroup(i)&&(this.onItemChange({originalEvent:e,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item}),this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()}onArrowUpKey(e){if(e.altKey){if(this.focusedItemInfo().index!==-1){let i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:e,processedItem:i})}this.hide(),e.preventDefault()}else{let i=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}}onArrowLeftKey(e){let i=this.visibleItems[this.focusedItemInfo().index],n=this.activeItemPath().find(b=>b.key===i.parentKey);hn(i.parent)||(this.focusedItemInfo.set({index:-1,parentKey:n?n.parentKey:"",item:i.item}),this.searchValue="",this.onArrowDownKey(e));let u=this.activeItemPath().filter(b=>b.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(u),e.preventDefault()}onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){this.hide();let i=this.findVisibleItem(this.findFirstFocusedItemIndex()),n=this.focusedItemInfo();this.focusedItemInfo.set(Ma(ri({},n),{index:this.findFirstFocusedItemIndex(),item:i.item})),e.preventDefault()}onTabKey(e){if(this.focusedItemInfo().index!==-1){let i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:e,processedItem:i})}this.hide()}onEnterKey(e){if(this.focusedItemInfo().index!==-1){let i=ei(this.rootmenu.el.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),n=i&&ei(i,'a[data-pc-section="action"]');n?n.click():i&&i.click();let a=this.visibleItems[this.focusedItemInfo().index];if(!this.isProccessedItemGroup(a)){let b=this.focusedItemInfo();this.focusedItemInfo.set(Ma(ri({},b),{index:this.findFirstFocusedItemIndex()}))}}e.preventDefault()}onItemChange(e,i){let{processedItem:n,isFocus:a}=e;if(hn(n))return;let{index:u,key:b,level:T,parentKey:D,items:R}=n,U=Wt(R),Y=this.activeItemPath().filter(oe=>oe.parentKey!==D&&oe.parentKey!==b);U&&(Y.push(n),this.submenuVisible.set(!0)),this.focusedItemInfo.set({index:u,level:T,parentKey:D,item:n.item}),a&&$t(this.rootmenu.sublistViewChild.nativeElement),!(i==="hover"&&this.queryMatches)&&this.activeItemPath.set(Y)}onMenuFocus(e){this.focused=!0;let i=this.focusedItemInfo().index!==-1?this.focusedItemInfo():{index:-1,level:0,parentKey:"",item:null};this.focusedItemInfo.set(i)}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue=""}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.position(),this.moveOnTop(),this.attrSelector&&this.container.setAttribute(this.attrSelector,""),this.appendOverlay(),this.bindGlobalListeners(),$t(this.rootmenu.sublistViewChild.nativeElement);break}}onOverlayAnimationEnd(e){switch(e.toState){case"void":this.onOverlayHide();break}}appendOverlay(){ss.appendOverlay(this.container,this.$appendTo()==="body"?this.document.body:this.$appendTo(),this.$appendTo())}moveOnTop(){this.autoZIndex&&this.containerViewChild&&qi.set("menu",this.containerViewChild.nativeElement,this.baseZIndex+this.config.zIndex.menu)}onOverlayHide(){this.unbindGlobalListeners(),this.cd.destroyed||(this.target=null),this.container&&this.autoZIndex&&qi.clear(this.container),this.container=null}onTouchStart(e){this.pressTimer=setTimeout(()=>{this.show(e)},this.pressDelay)}onTouchEnd(){clearTimeout(this.pressTimer)}hide(){this.visible.set(!1),this.onHide.emit(),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null})}toggle(e){this.visible()?this.hide():this.show(e)}show(e){this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),$t(this.rootmenu?.sublistViewChild?.nativeElement),this.pageX=e.pageX,this.pageY=e.pageY,this.onShow.emit(),this.visible()?this.position():this.visible.set(!0),e.stopPropagation(),e.preventDefault()}position(){let e=this.pageX+1,i=this.pageY+1,n=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetWidth:mm(this.containerViewChild.nativeElement),a=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetHeight:F0(this.containerViewChild.nativeElement),u=Tb();e+n-this.document.scrollingElement.scrollLeft>u.width&&(e-=n),i+a-this.document.scrollingElement.scrollTop>u.height&&(i-=a),e<this.document.scrollingElement.scrollLeft&&(e=this.document.scrollingElement.scrollLeft),i<this.document.scrollingElement.scrollTop&&(i=this.document.scrollingElement.scrollTop),this.containerViewChild.nativeElement.style.left=e+"px",this.containerViewChild.nativeElement.style.top=i+"px"}searchItems(e,i){this.searchValue=(this.searchValue||"")+i;let n=-1,a=!1;return this.focusedItemInfo().index!==-1?(n=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(u=>this.isItemMatched(u)),n=n===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(u=>this.isItemMatched(u)):n+this.focusedItemInfo().index):n=this.visibleItems.findIndex(u=>this.isItemMatched(u)),n!==-1&&(a=!0),n===-1&&this.focusedItemInfo().index===-1&&(n=this.findFirstFocusedItemIndex()),n!==-1&&this.changeFocusedItemIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),a}findVisibleItem(e){return Wt(this.visibleItems)?this.visibleItems[e]:null}findLastFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return ta(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){let i=e>0?ta(this.visibleItems.slice(0,e),n=>this.isValidItem(n)):-1;return i>-1?i:e}findNextItemIndex(e){let i=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(n=>this.isValidItem(n)):-1;return i>-1?i+e+1:e}findFirstFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}changeFocusedItemIndex(e,i){let n=this.findVisibleItem(i),a=this.focusedItemInfo();a.index!==i&&(this.focusedItemInfo.set(Ma(ri({},a),{index:i,item:n.item})),this.scrollInView())}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedItemId,n=ei(this.rootmenu.el.nativeElement,`li[id="${i}"]`);n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"})}bindResizeListener(){ii(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{this.hide()})))}isOutsideClicked(e){return!(this.containerViewChild.nativeElement.isSameNode(e.target)||this.containerViewChild.nativeElement.contains(e.target))}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}unbindGlobalListeners(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null),this.documentTriggerListener&&(this.documentTriggerListener(),this.documentTriggerListener=null),this.resizeListener&&(this.resizeListener(),this.resizeListener=null),this.touchEndListener&&(this.touchEndListener(),this.touchEndListener=null)}unbindTriggerEventListener(){this.triggerEventListener&&(this.triggerEventListener(),this.triggerEventListener=null)}removeAppendedElements(){this.$appendTo()&&this.containerViewChild&&this.$appendTo()==="body"&&this.renderer.removeChild(this.document.body,this.containerViewChild.nativeElement)}ngOnDestroy(){this.unbindGlobalListeners(),this.unbindTriggerEventListener(),this.unbindMatchMediaListener(),this.removeAppendedElements(),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||t)(Dt(sr))};static \u0275cmp=Je({type:t,selectors:[["p-contextMenu"],["p-contextmenu"],["p-context-menu"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,iie,4),xe(a,nie,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.itemTemplate=u.first),se(u=le())&&(n.submenuIconTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&(ut(aie,5),ut(oie,5)),i&2){let a;se(a=le())&&(n.rootmenu=a.first),se(a=le())&&(n.containerViewChild=a.first)}},inputs:{model:"model",triggerEvent:"triggerEvent",target:"target",global:[2,"global","global",ye],style:"style",styleClass:"styleClass",autoZIndex:[2,"autoZIndex","autoZIndex",ye],baseZIndex:[2,"baseZIndex","baseZIndex",wt],id:"id",breakpoint:"breakpoint",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",pressDelay:[2,"pressDelay","pressDelay",wt],appendTo:[1,"appendTo"]},outputs:{onShow:"onShow",onHide:"onHide"},features:[_t([z_]),ft],decls:1,vars:1,consts:[["container",""],["rootmenu",""],[3,"class","style","ngStyle",4,"ngIf"],[3,"ngStyle"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","root","items","itemTemplate","menuId","tabindex","ariaLabel","ariaLabelledBy","baseZIndex","autoZIndex","visible","focusedItemId","activeItemPath"]],template:function(i,n){i&1&&z(0,sie,4,22,"div",2),i&2&&C("ngIf",n.visible())},dependencies:[mt,Ut,fi,die,Ea,aa,oo,Ze],encapsulation:2,data:{animation:[qn("overlayAnimation",[Fi(":enter",[Oi({opacity:0}),Ni("250ms")]),Fi(":leave",[Ni(".1s linear",Oi({opacity:0}))])])]},changeDetection:0})}return t})(),_4=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[R_,Ze,Ze]})}return t})();var b4=`
    .p-megamenu {
        position: relative;
        display: flex;
        align-items: center;
        background: dt('megamenu.background');
        border: 1px solid dt('megamenu.border.color');
        border-radius: dt('megamenu.border.radius');
        color: dt('megamenu.color');
        gap: dt('megamenu.gap');
    }

    .p-megamenu-start,
    .p-megamenu-end {
        display: flex;
        align-items: center;
    }

    .p-megamenu-root-list {
        margin: 0;
        padding: 0;
        list-style: none;
        outline: 0 none;
        align-items: center;
        display: flex;
        flex-wrap: wrap;
        gap: dt('megamenu.gap');
    }

    .p-megamenu-root-list > .p-megamenu-item > .p-megamenu-item-content {
        border-radius: dt('megamenu.base.item.border.radius');
    }

    .p-megamenu-root-list > .p-megamenu-item > .p-megamenu-item-content > .p-megamenu-item-link {
        padding: dt('megamenu.base.item.padding');
    }

    .p-megamenu-item-content {
        transition:
            background dt('megamenu.transition.duration'),
            color dt('megamenu.transition.duration');
        border-radius: dt('megamenu.item.border.radius');
        color: dt('megamenu.item.color');
    }

    .p-megamenu-item-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
        color: inherit;
        padding: dt('megamenu.item.padding');
        gap: dt('megamenu.item.gap');
        user-select: none;
        outline: 0 none;
    }

    .p-megamenu-item-label {
        line-height: 1;
    }

    .p-megamenu-item-icon {
        color: dt('megamenu.item.icon.color');
    }

    .p-megamenu-submenu-icon {
        color: dt('megamenu.submenu.icon.color');
        font-size: dt('megamenu.submenu.icon.size');
        width: dt('megamenu.submenu.icon.size');
        height: dt('megamenu.submenu.icon.size');
    }

    .p-megamenu-item.p-focus > .p-megamenu-item-content {
        color: dt('megamenu.item.focus.color');
        background: dt('megamenu.item.focus.background');
    }

    .p-megamenu-item.p-focus > .p-megamenu-item-content .p-megamenu-item-icon {
        color: dt('megamenu.item.icon.focus.color');
    }

    .p-megamenu-item.p-focus > .p-megamenu-item-content .p-megamenu-submenu-icon {
        color: dt('megamenu.submenu.icon.focus.color');
    }

    .p-megamenu-item:not(.p-disabled) > .p-megamenu-item-content:hover {
        color: dt('megamenu.item.focus.color');
        background: dt('megamenu.item.focus.background');
    }

    .p-megamenu-item:not(.p-disabled) > .p-megamenu-item-content:hover .p-megamenu-item-icon {
        color: dt('megamenu.item.icon.focus.color');
    }

    .p-megamenu-item:not(.p-disabled) > .p-megamenu-item-content:hover .p-megamenu-submenu-icon {
        color: dt('megamenu.submenu.icon.focus.color');
    }

    .p-megamenu-item-active > .p-megamenu-item-content {
        color: dt('megamenu.item.active.color');
        background: dt('megamenu.item.active.background');
    }

    .p-megamenu-item-active > .p-megamenu-item-content .p-megamenu-item-icon {
        color: dt('megamenu.item.icon.active.color');
    }

    .p-megamenu-item-active > .p-megamenu-item-content .p-megamenu-submenu-icon {
        color: dt('megamenu.submenu.icon.active.color');
    }

    .p-megamenu-overlay {
        display: none;
        position: absolute;
        width: auto;
        z-index: 1;
        left: 0;
        min-width: 100%;
        padding: dt('megamenu.overlay.padding');
        background: dt('megamenu.overlay.background');
        color: dt('megamenu.overlay.color');
        border: 1px solid dt('megamenu.overlay.border.color');
        border-radius: dt('megamenu.overlay.border.radius');
        box-shadow: dt('megamenu.overlay.shadow');
    }

    .p-megamenu-overlay:dir(rtl) {
        left: auto;
        right: 0;
    }

    .p-megamenu-root-list > .p-megamenu-item-active > .p-megamenu-overlay {
        display: block;
    }

    .p-megamenu-submenu {
        margin: 0;
        list-style: none;
        padding: dt('megamenu.submenu.padding');
        min-width: 12.5rem;
        display: flex;
        flex-direction: column;
        gap: dt('megamenu.submenu.gap');
    }

    .p-megamenu-submenu-label {
        padding: dt('megamenu.submenu.label.padding');
        color: dt('megamenu.submenu.label.color');
        font-weight: dt('megamenu.submenu.label.font.weight');
        background: dt('megamenu.submenu.label.background');
    }

    .p-megamenu-separator {
        border-block-start: 1px solid dt('megamenu.separator.border.color');
    }

    .p-megamenu-horizontal {
        align-items: center;
        padding: dt('megamenu.horizontal.orientation.padding');
    }

    .p-megamenu-horizontal .p-megamenu-root-list {
        display: flex;
        align-items: center;
        flex-wrap: wrap;
        gap: dt('megamenu.horizontal.orientation.gap');
    }

    .p-megamenu-horizontal .p-megamenu-end {
        margin-left: auto;
        align-self: center;
    }

    .p-megamenu-horizontal .p-megamenu-end:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
    }

    .p-megamenu-vertical {
        display: inline-flex;
        min-width: 12.5rem;
        flex-direction: column;
        align-items: stretch;
        padding: dt('megamenu.vertical.orientation.padding');
    }

    .p-megamenu-vertical .p-megamenu-root-list {
        align-items: stretch;
        flex-direction: column;
        gap: dt('megamenu.vertical.orientation.gap');
    }

    .p-megamenu-vertical .p-megamenu-root-list > .p-megamenu-item-active > .p-megamenu-overlay {
        left: 100%;
        top: 0;
    }

    .p-megamenu-vertical .p-megamenu-root-list > .p-megamenu-item-active > .p-megamenu-overlay:dir(rtl) {
        left: auto;
        right: 100%;
    }

    .p-megamenu-vertical .p-megamenu-root-list > .p-megamenu-item > .p-megamenu-item-content .p-megamenu-submenu-icon {
        margin-left: auto;
    }

    .p-megamenu-vertical .p-megamenu-root-list > .p-megamenu-item > .p-megamenu-item-content .p-megamenu-submenu-icon:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
        transform: rotate(180deg);
    }

    .p-megamenu-grid {
        display: flex;
    }

    .p-megamenu-col-2,
    .p-megamenu-col-3,
    .p-megamenu-col-4,
    .p-megamenu-col-6,
    .p-megamenu-col-12 {
        flex: 0 0 auto;
        padding: dt('megamenu.overlay.gap');
    }

    .p-megamenu-col-2 {
        width: 16.6667%;
    }

    .p-megamenu-col-3 {
        width: 25%;
    }

    .p-megamenu-col-4 {
        width: 33.3333%;
    }

    .p-megamenu-col-6 {
        width: 50%;
    }

    .p-megamenu-col-12 {
        width: 100%;
    }

    .p-megamenu-button {
        display: none;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        width: dt('megamenu.mobile.button.size');
        height: dt('megamenu.mobile.button.size');
        position: relative;
        color: dt('megamenu.mobile.button.color');
        border: 0 none;
        background: transparent;
        border-radius: dt('megamenu.mobile.button.border.radius');
        transition:
            background dt('megamenu.transition.duration'),
            color dt('megamenu.transition.duration'),
            outline-color dt('megamenu.transition.duration'),
            box-shadow dt('megamenu.transition.duration');
        outline-color: transparent;
    }

    .p-megamenu-button:hover {
        color: dt('megamenu.mobile.button.hover.color');
        background: dt('megamenu.mobile.button.hover.background');
    }

    .p-megamenu-button:focus-visible {
        box-shadow: dt('megamenu.mobile.button.focus.ring.shadow');
        outline: dt('megamenu.mobile.button.focus.ring.width') dt('megamenu.mobile.button.focus.ring.style') dt('megamenu.mobile.button.focus.ring.color');
        outline-offset: dt('megamenu.mobile.button.focus.ring.offset');
    }

    .p-megamenu-mobile {
        display: flex;
    }

    .p-megamenu-mobile .p-megamenu-button {
        display: flex;
    }

    .p-megamenu-mobile .p-megamenu-root-list {
        position: absolute;
        display: none;
        flex-direction: column;
        top: 100%;
        left: 0;
        z-index: 1;
        width: 100%;
        padding: dt('megamenu.submenu.padding');
        gap: dt('megamenu.submenu.gap');
        background: dt('megamenu.overlay.background');
        border: 1px solid dt('megamenu.overlay.border.color');
        box-shadow: dt('megamenu.overlay.shadow');
    }

    .p-megamenu-mobile .p-megamenu-root-list:dir(rtl) {
        left: auto;
        right: 0;
    }

    .p-megamenu-mobile-active .p-megamenu-root-list {
        display: block;
    }

    .p-megamenu-mobile .p-megamenu-root-list .p-megamenu-item {
        width: 100%;
        position: static;
    }

    .p-megamenu-mobile .p-megamenu-overlay {
        position: static;
        border: 0 none;
        border-radius: 0;
        box-shadow: none;
    }

    .p-megamenu-mobile .p-megamenu-grid {
        flex-wrap: wrap;
        overflow: auto;
        max-height: 90%;
    }

    .p-megamenu-mobile .p-megamenu-root-list > .p-megamenu-item > .p-megamenu-item-content .p-megamenu-submenu-icon {
        margin-left: auto;
        transition: transform 0.2s;
    }

    .p-megamenu-mobile .p-megamenu-root-list > .p-megamenu-item > .p-megamenu-item-content .p-megamenu-submenu-icon:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
    }

    .p-megamenu-mobile .p-megamenu-root-list > .p-megamenu-item-active > .p-megamenu-item-content .p-megamenu-submenu-icon {
        transform: rotate(-180deg);
    }
`;var pie=["menubar"],y4=t=>({processedItem:t}),hie=()=>({exact:!1}),mie=t=>({$implicit:t});function fie(t,s){if(t&1&&(A(0,"li",8),ie(1),L()),t&2){let e=M(2);Lt(e.getItemProp(e.submenu,"style")),$(e.cn(e.cx("submenuLabel"),e.getItemProp(e.submenu,"class"))),S(),oi(" ",e.getItemLabel(e.submenu)," ")}}function gie(t,s){if(t&1&&ae(0,"li",11),t&2){let e=M().$implicit,i=M(2);Lt(i.getItemProp(e,"style")),$(i.cn(i.cx("separator"),i.getItemProp(e,"class"))),de("id",i.getItemId(e))("data-pc-section","separator")}}function _ie(t,s){if(t&1&&ae(0,"span",22),t&2){let e=M(4).$implicit,i=M(2);$(i.cn(i.cx("itemIcon"),i.getItemProp(e,"icon"))),C("ngStyle",i.getItemProp(e,"iconStyle")),de("data-pc-section","icon")("tabindex",-1)}}function bie(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(4).$implicit,i=M(2);$(i.cx("itemLabel")),de("data-pc-section","label"),S(),oi(" ",i.getItemLabel(e)," ")}}function yie(t,s){if(t&1&&ae(0,"span",23),t&2){let e=M(4).$implicit,i=M(2);$(i.cx("itemLabel")),C("innerHTML",i.getItemLabel(e),ea),de("data-pc-section","label")}}function vie(t,s){if(t&1&&ae(0,"p-badge",24),t&2){let e=M(4).$implicit,i=M(2);$(i.getItemProp(e,"badgeStyleClass")),C("value",i.getItemProp(e,"badge"))}}function xie(t,s){if(t&1&&(at(),ae(0,"svg",28)),t&2){let e=M(8);$(e.cx("submenuIcon")),de("data-pc-section","submenuicon")("aria-hidden",!0)}}function wie(t,s){if(t&1&&(at(),ae(0,"svg",30)),t&2){let e=M(9);$(e.cx("submenuIcon")),de("data-pc-section","submenuicon")("aria-hidden",!0)}}function Iie(t,s){if(t&1&&z(0,wie,1,4,"svg",29),t&2){let e=M(8);C("ngIf",e.orientation==="vertical")}}function Tie(t,s){if(t&1&&(Ke(0),Wi(1,xie,1,4,":svg:svg",26)(2,Iie,1,1,":svg:svg",27),We()),t&2){let e=M(7);S(),Zi(e.orientation==="horizontal"||e.mobileActive?1:2)}}function Cie(t,s){}function Sie(t,s){t&1&&z(0,Cie,0,0,"ng-template",31),t&2&&C("data-pc-section","submenuicon")("aria-hidden",!0)}function Mie(t,s){if(t&1&&(Ke(0),z(1,Tie,3,1,"ng-container",14)(2,Sie,1,2,null,25),We()),t&2){let e=M(6);S(),C("ngIf",!e.megaMenu.submenuIconTemplate&&!e.megaMenu._submenuIconTemplate),S(),C("ngTemplateOutlet",e.megaMenu.submenuIconTemplate||e.megaMenu._submenuIconTemplate)}}function kie(t,s){if(t&1&&(A(0,"a",18),z(1,_ie,1,5,"span",19)(2,bie,2,4,"span",20)(3,yie,1,4,"ng-template",null,2,ze)(5,vie,1,3,"p-badge",21)(6,Mie,3,2,"ng-container",14),L()),t&2){let e=Gt(4),i=M(3).$implicit,n=M(2);$(n.cx("itemLink")),C("target",n.getItemProp(i,"target")),de("href",n.getItemProp(i,"url"),Ji)("data-automationid",n.getItemProp(i,"automationId"))("data-pc-section","action")("tabindex",-1),S(),C("ngIf",n.getItemProp(i,"icon")),S(),C("ngIf",n.getItemProp(i,"escape"))("ngIfElse",e),S(3),C("ngIf",n.getItemProp(i,"badge")),S(),C("ngIf",n.isItemGroup(i))}}function Eie(t,s){if(t&1&&ae(0,"span",22),t&2){let e=M(4).$implicit,i=M(2);$(i.cn(i.cx("itemIcon"),i.getItemProp(e,"icon"))),C("ngStyle",i.getItemProp(e,"iconStyle")),de("data-pc-section","icon")("tabindex",-1)}}function Pie(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(4).$implicit,i=M(2);$(i.cx("itemLabel")),S(),Et(i.getItemLabel(e))}}function Die(t,s){if(t&1&&ae(0,"span",23),t&2){let e=M(4).$implicit,i=M(2);$(i.cx("itemLabel")),C("innerHTML",i.getItemLabel(e),ea),de("data-pc-section","label")}}function Lie(t,s){if(t&1&&ae(0,"p-badge",34),t&2){let e=M(4).$implicit,i=M(2);C("styleClass",i.getItemProp(e,"badgeStyleClass"))("value",i.getItemProp(e,"badge"))}}function Aie(t,s){if(t&1&&(at(),ae(0,"svg",28)),t&2){let e=M(8);$(e.cx("submenuIcon")),de("data-pc-section","submenuicon")("aria-hidden",!0)}}function Oie(t,s){if(t&1&&(at(),ae(0,"svg",30)),t&2){let e=M(8);$(e.cx("submenuIcon")),de("data-pc-section","submenuicon")("aria-hidden",!0)}}function Fie(t,s){if(t&1&&(Ke(0),z(1,Aie,1,4,"svg",35)(2,Oie,1,4,"svg",29),We()),t&2){let e=M(7);S(),C("ngIf",e.orientation==="horizontal"),S(),C("ngIf",e.orientation==="vertical")}}function Vie(t,s){}function zie(t,s){t&1&&z(0,Vie,0,0,"ng-template",31),t&2&&C("data-pc-section","submenuicon")("aria-hidden",!0)}function Rie(t,s){if(t&1&&(Ke(0),z(1,Fie,3,2,"ng-container",14)(2,zie,1,2,null,25),We()),t&2){let e=M(6);S(),C("ngIf",!e.megaMenu.submenuIconTemplate&&!e.megaMenu._submenuIconTemplate),S(),C("ngTemplateOutlet",e.megaMenu.submenuIconTemplate||e.megaMenu._submenuIconTemplate)}}function Bie(t,s){if(t&1&&(A(0,"a",32),z(1,Eie,1,5,"span",19)(2,Pie,2,3,"span",20)(3,Die,1,4,"ng-template",null,3,ze)(5,Lie,1,2,"p-badge",33)(6,Rie,3,2,"ng-container",14),L()),t&2){let e=Gt(4),i=M(3).$implicit,n=M(2);$(n.cx("itemLink")),C("routerLink",n.getItemProp(i,"routerLink"))("queryParams",n.getItemProp(i,"queryParams"))("routerLinkActive","p-megamenu-item-link-active")("routerLinkActiveOptions",n.getItemProp(i,"routerLinkActiveOptions")||Zt(21,hie))("target",n.getItemProp(i,"target"))("fragment",n.getItemProp(i,"fragment"))("queryParamsHandling",n.getItemProp(i,"queryParamsHandling"))("preserveFragment",n.getItemProp(i,"preserveFragment"))("skipLocationChange",n.getItemProp(i,"skipLocationChange"))("replaceUrl",n.getItemProp(i,"replaceUrl"))("state",n.getItemProp(i,"state")),de("data-automationid",n.getItemProp(i,"automationId"))("tabindex",-1)("data-pc-section","action"),S(),C("ngIf",n.getItemProp(i,"icon")),S(),C("ngIf",n.getItemProp(i,"escape"))("ngIfElse",e),S(3),C("ngIf",n.getItemProp(i,"badge")),S(),C("ngIf",n.isItemGroup(i))}}function Nie(t,s){if(t&1&&(Ke(0),z(1,kie,7,12,"a",16)(2,Bie,7,22,"a",17),We()),t&2){let e=M(2).$implicit,i=M(2);S(),C("ngIf",!i.getItemProp(e,"routerLink")),S(),C("ngIf",i.getItemProp(e,"routerLink"))}}function qie(t,s){}function Hie(t,s){t&1&&z(0,qie,0,0,"ng-template")}function jie(t,s){if(t&1&&(Ke(0),z(1,Hie,1,0,null,36),We()),t&2){let e=M(2).$implicit,i=M(2);S(),C("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",ot(2,mie,e.item))}}function Gie(t,s){if(t&1){let e=Be();A(0,"p-megamenu-sub",39),we("itemClick",function(n){Q(e);let a=M(6);return X(a.itemClick.emit(n))})("itemMouseEnter",function(n){Q(e);let a=M(6);return X(a.onItemMouseEnter(n))}),L()}if(t&2){let e=s.$implicit,i=M(6);C("id",i.getSubListId(e))("submenu",e)("items",e.items)("itemTemplate",i.itemTemplate)("mobileActive",i.mobileActive)("menuId",i.menuId)("focusedItemId",i.focusedItemId)("level",i.level+1)("root",!1)}}function Uie(t,s){if(t&1&&(A(0,"div"),z(1,Gie,1,9,"p-megamenu-sub",38),L()),t&2){let e=s.$implicit,i=M(3).$implicit,n=M(2);$(n.cx("column",ot(3,y4,i))),S(),C("ngForOf",e)}}function $ie(t,s){if(t&1&&(A(0,"div")(1,"div"),z(2,Uie,2,5,"div",37),L()()),t&2){let e=M(2).$implicit,i=M(2);$(i.cx("overlay")),de("data-pc-section","panel"),S(),$(i.cx("grid")),de("data-pc-section","grid"),S(),C("ngForOf",e.items)}}function Kie(t,s){if(t&1){let e=Be();A(0,"li",12,1)(2,"div",13),we("click",function(n){Q(e);let a=M().$implicit,u=M(2);return X(u.onItemClick(n,a))})("mouseenter",function(n){Q(e);let a=M().$implicit,u=M(2);return X(u.onItemMouseEnter({$event:n,processedItem:a}))}),z(3,Nie,3,2,"ng-container",14)(4,jie,2,4,"ng-container",14),L(),z(5,$ie,3,7,"div",15),L()}if(t&2){let e=M(),i=e.$implicit,n=e.index,a=M(2);$(a.cn(a.cx("item",ot(22,y4,i)),a.getItemProp(i,"styleClass"))),C("ngStyle",a.getItemProp(i,"style"))("tooltipOptions",a.getItemProp(i,"tooltipOptions")),de("id",a.getItemId(i))("data-pc-section","menuitem")("data-p-highlight",a.isItemActive(i))("data-p-focused",a.isItemFocused(i))("data-p-disabled",a.isItemDisabled(i))("aria-label",a.getItemLabel(i))("aria-disabled",a.isItemDisabled(i)||void 0)("aria-haspopup",a.isItemGroup(i)&&!a.getItemProp(i,"to")?"menu":void 0)("aria-expanded",a.isItemGroup(i)?a.isItemActive(i):void 0)("aria-level",a.level+1)("aria-setsize",a.getAriaSetSize())("aria-posinset",a.getAriaPosInset(n)),S(2),$(a.cx("itemContent")),de("data-pc-section","content"),S(),C("ngIf",!a.itemTemplate),S(),C("ngIf",a.itemTemplate),S(),C("ngIf",a.isItemVisible(i)&&a.isItemGroup(i))}}function Wie(t,s){if(t&1&&z(0,gie,1,6,"li",9)(1,Kie,6,24,"li",10),t&2){let e=s.$implicit,i=M(2);C("ngIf",i.isItemVisible(e)&&i.getItemProp(e,"separator")),S(),C("ngIf",i.isItemVisible(e)&&!i.getItemProp(e,"separator"))}}function Zie(t,s){if(t&1){let e=Be();A(0,"ul",5,0),we("keydown",function(n){Q(e);let a=M();return X(a.menuKeydown.emit(n))})("focus",function(n){Q(e);let a=M();return X(a.menuFocus.emit(n))})("blur",function(n){Q(e);let a=M();return X(a.menuBlur.emit(n))}),z(2,fie,2,5,"li",6)(3,Wie,2,2,"ng-template",7),L()}if(t&2){let e=M();Lt(e.sx("rootList")),$(e.root?e.cx("rootList"):e.cx("submenu")),C("tabindex",e.tabindex),de("role",e.root?"menubar":"menu")("id",e.id)("aria-orientation",e.orientation)("aria-activedescendant",e.focusedItemId)("data-pc-section",e.root?"root":"submenu"),S(2),C("ngIf",e.submenu),S(),C("ngForOf",e.items)}}var Qie=["start"],Xie=["end"],Yie=["menuicon"],Jie=["submenuicon"],ene=["item"],tne=["button"],ine=["buttonicon"],nne=["menubutton"],ane=["rootmenu"];function one(t,s){t&1&&nt(0)}function rne(t,s){if(t&1&&(A(0,"div"),z(1,one,1,0,"ng-container",4),L()),t&2){let e=M();$(e.cx("start")),S(),C("ngTemplateOutlet",e.startTemplate||e._startTemplate)}}function sne(t,s){t&1&&(at(),ae(0,"svg",9))}function lne(t,s){}function cne(t,s){t&1&&z(0,lne,0,0,"ng-template")}function dne(t,s){if(t&1){let e=Be();A(0,"a",7,1),we("click",function(n){Q(e);let a=M(2);return X(a.menuButtonClick(n))})("keydown",function(n){Q(e);let a=M(2);return X(a.menuButtonKeydown(n))}),z(2,sne,1,0,"svg",8)(3,cne,1,0,null,4),L()}if(t&2){let e=M(2);$(e.cx("button")),de("aria-haspopup",!!(e.model.length&&e.model.length>0))("aria-expanded",e.mobileActive)("aria-controls",e.id)("aria-label",e.config.translation.aria.navigation),S(2),C("ngIf",!e.buttonIconTemplate&&!e._buttonIconTemplate),S(),C("ngTemplateOutlet",e.buttonIconTemplate||e._buttonIconTemplate)}}function une(t,s){if(t&1&&(Ke(0),z(1,dne,4,8,"a",6),We()),t&2){let e=M();S(),C("ngIf",e.model&&e.model.length>0)}}function pne(t,s){t&1&&nt(0)}function hne(t,s){t&1&&nt(0)}function mne(t,s){if(t&1&&(A(0,"div"),z(1,hne,1,0,"ng-container",4),L()),t&2){let e=M();$(e.cx("end")),S(),C("ngTemplateOutlet",e.endTemplate||e._endTemplate)}}var fne={rootList:({instance:t})=>({"max-height":t.scrollHeight,overflow:"auto"})},gne={root:({instance:t})=>["p-megamenu p-component",{"p-megamenu-mobile":t.queryMatches,"p-megamenu-mobile-active":t.mobileActive,"p-megamenu-horizontal":t.orientation==="horizontal","p-megamenu-vertical":t.orientation==="vertical"}],start:"p-megamenu-start",button:"p-megamenu-button",rootList:"p-megamenu-root-list",submenuLabel:({instance:t,processedItem:s})=>["p-megamenu-submenu-label",{"p-disabled":t.isItemDisabled(s)}],item:({instance:t,processedItem:s})=>["p-megamenu-item",t.getItemProp(s,"styleClass"),t.getItemProp(s,"class"),{"p-megamenu-item-active":t.isItemActive(s),"p-focus":t.isItemFocused(s),"p-disabled":t.isItemDisabled(s)}],itemContent:"p-megamenu-item-content",itemLink:"p-megamenu-item-link",itemIcon:"p-megamenu-item-icon",itemLabel:"p-megamenu-item-label",submenuIcon:"p-megamenu-submenu-icon",overlay:"p-megamenu-overlay",grid:"p-megamenu-grid",column:({instance:t,processedItem:s})=>{let e=t.isItemGroup(s)?s.items.length:0,i;if(t.megaMenu.queryMatches)i="p-megamenu-col-12";else switch(e){case 2:i="p-megamenu-col-6";break;case 3:i="p-megamenu-col-4";break;case 4:i="p-megamenu-col-3";break;case 6:i="p-megamenu-col-2";break;default:i="p-megamenu-col-12";break}return i},submenu:"p-megamenu-submenu",separator:"p-megamenu-separator",end:"p-megamenu-end"},Rv=(()=>{class t extends Rt{name="megamenu";theme=b4;classes=gne;inlineStyles=fne;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var _ne=(()=>{class t extends Ot{id;items;itemTemplate;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;disabled=!1;orientation;activeItem;submenu;queryMatches=!1;mobileActive=!1;scrollHeight;tabindex=0;root=!1;itemClick=new Le;itemMouseEnter=new Le;menuFocus=new Le;menuBlur=new Le;menuKeydown=new Le;menubarViewChild;megaMenu=Fe(Ki(()=>B_));_componentStyle=Fe(Rv);onItemClick(e,i){this.getItemProp(i,"command",{originalEvent:e,item:i.item}),this.itemClick.emit({originalEvent:e,processedItem:i,isFocus:!0})}getItemProp(e,i,n=null){return e&&e.item?Lo(e.item[i],n):void 0}getItemId(e){return e.item&&e.item?.id?e.item.id:`${this.menuId}_${e.key}`}getSubListId(e){return`${this.getItemId(e)}_list`}getItemLabel(e){return this.getItemProp(e,"label")}isSubmenuVisible(e){return this.submenu&&!this.root?this.isItemVisible(e):!0}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemActive(e){return Wt(this.activeItem)?this.activeItem.key===e.key:!1}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return Wt(e.items)}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(i=>this.isItemVisible(i)&&this.getItemProp(i,"separator")).length+1}onItemMouseEnter(e){let{event:i,processedItem:n}=e;this.itemMouseEnter.emit({originalEvent:i,processedItem:n})}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-megaMenuSub"],["p-megamenu-sub"]],viewQuery:function(i,n){if(i&1&&ut(pie,7),i&2){let a;se(a=le())&&(n.menubarViewChild=a.first)}},inputs:{id:"id",items:"items",itemTemplate:"itemTemplate",menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[2,"level","level",wt],focusedItemId:"focusedItemId",disabled:[2,"disabled","disabled",ye],orientation:"orientation",activeItem:"activeItem",submenu:"submenu",queryMatches:[2,"queryMatches","queryMatches",ye],mobileActive:[2,"mobileActive","mobileActive",ye],scrollHeight:"scrollHeight",tabindex:[2,"tabindex","tabindex",wt],root:[2,"root","root",ye]},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[ft],decls:1,vars:1,consts:[["menubar",""],["listItem",""],["htmlLabel",""],["htmlRouteLabel",""],[3,"class","style","tabindex","keydown","focus","blur",4,"ngIf"],[3,"keydown","focus","blur","tabindex"],["role","presentation",3,"class","style",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","presentation"],["role","separator",3,"style","class",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","class","tooltipOptions",4,"ngIf"],["role","separator"],["role","menuitem","pTooltip","",3,"ngStyle","tooltipOptions"],[3,"click","mouseenter"],[4,"ngIf"],[3,"class",4,"ngIf"],["pRipple","",3,"target","class",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","class","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target"],[3,"class","ngStyle",4,"ngIf"],[3,"class",4,"ngIf","ngIfElse"],[3,"class","value",4,"ngIf"],[3,"ngStyle"],[3,"innerHTML"],[3,"value"],[4,"ngTemplateOutlet"],["data-p-icon","angle-down",3,"class"],["data-p-icon","angle-right",3,"class"],["data-p-icon","angle-down"],["data-p-icon","angle-right",3,"class",4,"ngIf"],["data-p-icon","angle-right"],[3,"data-pc-section","aria-hidden"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[3,"styleClass","value",4,"ngIf"],[3,"styleClass","value"],["data-p-icon","angle-down",3,"class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class",4,"ngFor","ngForOf"],[3,"id","submenu","items","itemTemplate","mobileActive","menuId","focusedItemId","level","root","itemClick","itemMouseEnter",4,"ngFor","ngForOf"],[3,"itemClick","itemMouseEnter","id","submenu","items","itemTemplate","mobileActive","menuId","focusedItemId","level","root"]],template:function(i,n){i&1&&z(0,Zie,4,12,"ul",4),i&2&&C("ngIf",n.isSubmenuVisible(n.submenu))},dependencies:[t,mt,Bi,Ut,Yt,fi,Ea,$o,os,sn,aa,La,hc,Ls,oo,jr,Ze],encapsulation:2})}return t})(),B_=(()=>{class t extends Ot{set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}styleClass;orientation="horizontal";id;ariaLabel;ariaLabelledBy;breakpoint="960px";scrollHeight="20rem";disabled=!1;tabindex=0;startTemplate;endTemplate;menuIconTemplate;submenuIconTemplate;itemTemplate;buttonTemplate;buttonIconTemplate;templates;menubuttonViewChild;rootmenu;_startTemplate;_endTemplate;_menuIconTemplate;_submenuIconTemplate;_itemTemplate;_buttonTemplate;_buttonIconTemplate;outsideClickListener;resizeListener;dirty=!1;focused=!1;activeItem=gi(null);focusedItemInfo=gi({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;_componentStyle=Fe(Rv);matchMediaListener;query;queryMatches=!1;mobileActive=!1;get visibleItems(){let e=Wt(this.activeItem())?this.activeItem():null;return e?e.items.reduce((i,n)=>(n.forEach(a=>{a.items.forEach(u=>{i.push(u)})}),i),[]):this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let e=this.focusedItemInfo();return e?.item&&e.item?.id?e.item.id:Wt(e.key)?`${this.id}_${e.key}`:null}constructor(){super(),Pr(()=>{let e=this.activeItem();Wt(e)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){super.ngOnInit(),this.bindMatchMediaListener(),this.id=this.id||vi("pn_id_")}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"start":this._startTemplate=e.template;break;case"end":this._endTemplate=e.template;break;case"menuicon":this._menuIconTemplate=e.template;break;case"submenuicon":this._submenuIconTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;case"button":this._buttonTemplate=e.template;break;case"buttonicon":this._buttonIconTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}bindMatchMediaListener(){if(ii(this.platformId)&&!this.matchMediaListener){let e=window.matchMedia(`(max-width: ${this.breakpoint})`);this.query=e,this.queryMatches=e.matches,this.matchMediaListener=()=>{this.queryMatches=e.matches,this.mobileActive=!1,this.cd.markForCheck()},e.addEventListener("change",this.matchMediaListener)}}unbindMatchMediaListener(){this.matchMediaListener&&(this.query.removeEventListener("change",this.matchMediaListener),this.matchMediaListener=null)}createProcessedItems(e,i=0,n={},a="",u){let b=[];return e&&e.forEach((T,D)=>{let R=(a!==""?a+"_":"")+(u!==void 0?u+"_":"")+D,U={item:T,index:D,level:i,key:R,parent:n,parentKey:a,columnIndex:u!==void 0?u:n.columnIndex!==void 0?n.columnIndex:D};U.items=i===0&&T.items&&T.items.length>0?T.items.map((Y,oe)=>this.createProcessedItems(Y,i+1,U,R,oe)):this.createProcessedItems(T.items,i+1,U,R),b.push(U)}),b}getItemProp(e,i){return e?Lo(e[i]):void 0}onItemClick(e){let{originalEvent:i,processedItem:n}=e,a=this.isProcessedItemGroup(n),u=hn(n.parent);if(this.isSelected(n)){let{index:T,key:D,parentKey:R,item:U}=n;this.activeItem.set(null),this.focusedItemInfo.set({index:T,key:D,parentKey:R,item:U}),this.dirty=!u,this.mobileActive||$t(this.rootmenu?.menubarViewChild?.nativeElement,{preventScroll:!0})}else a?this.onItemChange(e):this.hide(i)}onItemMouseEnter(e){!this.mobileActive&&this.dirty&&this.onItemChange(e)}menuButtonClick(e){this.toggle(e)}menuButtonKeydown(e){(e.code==="Enter"||e.code==="NumpadEnter"||e.code==="Space")&&this.menuButtonClick(e)}toggle(e){this.mobileActive?(this.mobileActive=!1,qi.clear(this.rootmenu.el.nativeElement),this.hide()):(this.mobileActive=!0,qi.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu),setTimeout(()=>{this.show()},0)),this.bindOutsideClickListener(),e.preventDefault()}show(){this.focusedItemInfo.set({index:this.findFirstFocusedItemIndex(),level:0,parentKey:""}),$t(this.rootmenu?.el.nativeElement)}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedItemId,n;i===null&&this.queryMatches?n=this.menubuttonViewChild.nativeElement:n=ei(this.rootmenu?.menubarViewChild?.nativeElement,`li[id="${i}"]`),n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"})}onItemChange(e){let{processedItem:i,isFocus:n}=e;if(hn(i))return;let{index:a,key:u,parentKey:b,items:T,item:D}=i,R=Wt(T);R&&this.activeItem.set(i),this.focusedItemInfo.set({index:a,key:u,parentKey:b,item:D}),R&&(this.dirty=!0),n&&$t(this.rootmenu?.menubarViewChild?.nativeElement)}hide(e,i){this.mobileActive&&(this.mobileActive=!1,setTimeout(()=>{$t(this.menubuttonViewChild?.nativeElement),this.scrollInView()},100)),this.activeItem.set(null),this.focusedItemInfo.set({index:-1,key:"",parentKey:"",item:null}),i&&$t(this.rootmenu?.menubarViewChild?.nativeElement),this.dirty=!1}onMenuFocus(e){if(this.focused=!0,this.focusedItemInfo().index===-1){let i=this.findFirstFocusedItemIndex(),n=this.findVisibleItem(i);this.focusedItemInfo.set({index:i,key:n.key,parentKey:n.parentKey,item:n.item})}}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1}onKeyDown(e){let i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!i&&or(e.key)&&this.searchItems(e,e.key);break}}findFirstFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}isProcessedItemGroup(e){return e&&Wt(e.items)}isSelected(e){return Wt(this.activeItem())?this.activeItem().key===e.key:!1}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&Wt(e.items)}searchItems(e,i){this.searchValue=(this.searchValue||"")+i;let n=-1,a=!1;return this.focusedItemInfo().index!==-1?(n=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(u=>this.isItemMatched(u)),n=n===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(u=>this.isItemMatched(u)):n+this.focusedItemInfo().index):n=this.visibleItems.findIndex(u=>this.isItemMatched(u)),n!==-1&&(a=!0),n===-1&&this.focusedItemInfo().index===-1&&(n=this.findFirstFocusedItemIndex()),n!==-1&&this.changeFocusedItemInfo(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),a}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}changeFocusedItemInfo(e,i){let n=this.findVisibleItem(i);if(Wt(n)){let{key:a,parentKey:u,item:b}=n;this.focusedItemInfo.set({index:i,key:a||"",parentKey:u,item:b})}this.scrollInView()}onArrowDownKey(e){if(this.orientation==="horizontal")if(Wt(this.activeItem())&&this.activeItem().key===this.focusedItemInfo().key){let{key:n,item:a}=this.activeItem();this.focusedItemInfo.set({index:-1,key:"",parentKey:n,item:a})}else{let n=this.findVisibleItem(this.focusedItemInfo().index);if(this.isProccessedItemGroup(n)){let{parentKey:u,key:b,item:T}=n;this.onItemChange({originalEvent:e,processedItem:n}),this.focusedItemInfo.set({index:-1,key:b,parentKey:u,item:T}),this.searchValue=""}}let i=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemInfo(e,i),e.preventDefault()}onArrowRightKey(e){let i=this.findVisibleItem(this.focusedItemInfo().index);if(this.isProccessedItemGroup(i)){if(this.orientation==="vertical")if(Wt(this.activeItem())&&this.activeItem().key===i.key)this.focusedItemInfo.set({index:-1,key:"",parentKey:this.activeItem().key,item:i.item});else{let u=this.findVisibleItem(this.focusedItemInfo().index);this.isProccessedItemGroup(u)&&(this.onItemChange({originalEvent:e,processedItem:u}),this.focusedItemInfo.set({index:-1,key:u.key,parentKey:u.parentKey,item:u.item}),this.searchValue="")}let a=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemInfo(e,a)}else{let a=i.columnIndex+1,u=this.visibleItems.findIndex(b=>b.columnIndex===a);u!==-1&&this.changeFocusedItemInfo(e,u)}e.preventDefault()}onArrowUpKey(e){if(e.altKey&&this.orientation==="horizontal"){if(this.focusedItemInfo().index!==-1){let i=this.findVisibleItem(this.focusedItemInfo().index);!this.isProccessedItemGroup(i)&&Wt(this.activeItem)&&(this.focusedItemInfo().index===0?(this.focusedItemInfo.set({index:this.activeItem().index,key:this.activeItem().key,parentKey:this.activeItem().parentKey,item:i.item}),this.activeItem.set(null)):this.changeFocusedItemInfo(e,this.findFirstItemIndex()))}e.preventDefault()}else{let i=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemInfo(e,i),e.preventDefault()}}onArrowLeftKey(e){let i=this.findVisibleItem(this.focusedItemInfo().index);if(this.isProccessedItemGroup(i)){if(this.orientation==="horizontal"){let a=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemInfo(e,a)}}else{this.orientation==="vertical"&&Wt(this.activeItem())&&i.columnIndex===0&&(this.focusedItemInfo.set({index:this.activeItem().index,key:this.activeItem().key,parentKey:this.activeItem().parentKey,item:i.item}),this.activeItem.set(null));let a=i.columnIndex-1,u=this.visibleItems.findIndex(b=>b.columnIndex===a);u!==-1&&this.changeFocusedItemInfo(e,u)}e.preventDefault()}onHomeKey(e){this.changeFocusedItemInfo(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemInfo(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){Wt(this.activeItem())&&(this.focusedItemInfo.set({index:this.activeItem().index,key:this.activeItem().key,item:this.activeItem().item}),this.activeItem.set(null)),e.preventDefault()}onTabKey(e){if(this.focusedItemInfo().index!==-1){let i=this.findVisibleItem(this.focusedItemInfo().index);!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:e,processedItem:i})}this.hide()}onEnterKey(e){if(this.focusedItemInfo().index!==-1){let i=ei(this.rootmenu?.el?.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),n=i&&ei(i,'a[data-pc-section="action"]');n?n.click():i&&i.click();let a=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(a)&&this.changeFocusedItemInfo(e,this.findFirstFocusedItemIndex())}e.preventDefault()}findVisibleItem(e){return Wt(this.visibleItems)?this.visibleItems[e]:null}findLastFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return ta(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){let i=e>0?ta(this.visibleItems.slice(0,e),n=>this.isValidItem(n)):-1;return i>-1?i:e}findNextItemIndex(e){let i=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(n=>this.isValidItem(n)):-1;return i>-1?i+e+1:e}bindResizeListener(){this.resizeListener||(this.resizeListener=e=>{ar()||this.hide(e,!0),this.mobileActive=!1},window.addEventListener("resize",this.resizeListener))}bindOutsideClickListener(){ii(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",e=>{this.el?.nativeElement!==e.target&&!this.el?.nativeElement.contains(e.target)&&this.hide()})))}unbindOutsideClickListener(){this.outsideClickListener&&(this.outsideClickListener(),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}ngOnDestroy(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindMatchMediaListener(),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Je({type:t,selectors:[["p-megaMenu"],["p-megamenu"],["p-mega-menu"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,Qie,4),xe(a,Xie,4),xe(a,Yie,4),xe(a,Jie,4),xe(a,ene,4),xe(a,tne,4),xe(a,ine,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.startTemplate=u.first),se(u=le())&&(n.endTemplate=u.first),se(u=le())&&(n.menuIconTemplate=u.first),se(u=le())&&(n.submenuIconTemplate=u.first),se(u=le())&&(n.itemTemplate=u.first),se(u=le())&&(n.buttonTemplate=u.first),se(u=le())&&(n.buttonIconTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&(ut(nne,5),ut(ane,5)),i&2){let a;se(a=le())&&(n.menubuttonViewChild=a.first),se(a=le())&&(n.rootmenu=a.first)}},hostAttrs:["data-pc-section","root","data-pc-name","megamenu"],hostVars:3,hostBindings:function(i,n){i&2&&(no("id",n.id),$(n.cn(n.cx("root"),n.styleClass)))},inputs:{model:"model",styleClass:"styleClass",orientation:"orientation",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",breakpoint:"breakpoint",scrollHeight:"scrollHeight",disabled:[2,"disabled","disabled",ye],tabindex:[2,"tabindex","tabindex",wt]},features:[_t([Rv]),ft],decls:6,vars:20,consts:[["rootmenu",""],["menubutton",""],[3,"class",4,"ngIf"],[4,"ngIf"],[4,"ngTemplateOutlet"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","itemTemplate","items","menuId","root","orientation","ariaLabel","disabled","tabindex","activeItem","level","ariaLabelledBy","focusedItemId","mobileActive","queryMatches","scrollHeight"],["role","button","tabindex","0",3,"class","click","keydown",4,"ngIf"],["role","button","tabindex","0",3,"click","keydown"],["data-p-icon","bars",4,"ngIf"],["data-p-icon","bars"]],template:function(i,n){if(i&1){let a=Be();z(0,rne,2,3,"div",2)(1,une,2,1,"ng-container",3)(2,pne,1,0,"ng-container",4),A(3,"p-megamenu-sub",5,0),we("itemClick",function(b){return Q(a),X(n.onItemClick(b))})("menuFocus",function(b){return Q(a),X(n.onMenuFocus(b))})("menuBlur",function(b){return Q(a),X(n.onMenuBlur(b))})("menuKeydown",function(b){return Q(a),X(n.onKeyDown(b))})("itemMouseEnter",function(b){return Q(a),X(n.onItemMouseEnter(b))}),L(),z(5,mne,2,3,"div",2)}i&2&&(C("ngIf",n.startTemplate||n._startTemplate),S(),C("ngIf",!n.buttonTemplate&&!n._buttonTemplate),S(),C("ngTemplateOutlet",n.buttonTemplate||n._buttonTemplate),S(),C("itemTemplate",n.itemTemplate||n._itemTemplate)("items",n.processedItems)("menuId",n.id)("root",!0)("orientation",n.orientation)("ariaLabel",n.ariaLabel)("disabled",n.disabled)("tabindex",n.disabled?-1:n.tabindex)("activeItem",n.activeItem())("level",0)("ariaLabelledBy",n.ariaLabelledBy)("focusedItemId",n.focused?n.focusedItemId:void 0)("mobileActive",n.mobileActive)("queryMatches",n.queryMatches)("scrollHeight",n.scrollHeight),de("id",n.id+"_list"),S(2),C("ngIf",n.endTemplate||n._endTemplate))},dependencies:[mt,Ut,Yt,Ea,_ne,aa,lg,oo,Ze],encapsulation:2,changeDetection:0})}return t})(),v4=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[B_,Ze,Ze]})}return t})();var x4=`
    .p-panelmenu {
        display: flex;
        flex-direction: column;
        gap: dt('panelmenu.gap');
    }

    .p-panelmenu-panel {
        background: dt('panelmenu.panel.background');
        border-width: dt('panelmenu.panel.border.width');
        border-style: solid;
        border-color: dt('panelmenu.panel.border.color');
        color: dt('panelmenu.panel.color');
        border-radius: dt('panelmenu.panel.border.radius');
        padding: dt('panelmenu.panel.padding');
    }

    .p-panelmenu-panel:first-child {
        border-width: dt('panelmenu.panel.first.border.width');
        border-start-start-radius: dt('panelmenu.panel.first.top.border.radius');
        border-start-end-radius: dt('panelmenu.panel.first.top.border.radius');
    }

    .p-panelmenu-panel:last-child {
        border-width: dt('panelmenu.panel.last.border.width');
        border-end-start-radius: dt('panelmenu.panel.last.bottom.border.radius');
        border-end-end-radius: dt('panelmenu.panel.last.bottom.border.radius');
    }

    .p-panelmenu-header {
        outline: 0 none;
    }

    .p-panelmenu-header-content {
        border-radius: dt('panelmenu.item.border.radius');
        transition:
            background dt('panelmenu.transition.duration'),
            color dt('panelmenu.transition.duration'),
            outline-color dt('panelmenu.transition.duration'),
            box-shadow dt('panelmenu.transition.duration');
        outline-color: transparent;
        color: dt('panelmenu.item.color');
    }

    .p-panelmenu-header-link {
        display: flex;
        gap: dt('panelmenu.item.gap');
        padding: dt('panelmenu.item.padding');
        align-items: center;
        user-select: none;
        cursor: pointer;
        position: relative;
        text-decoration: none;
        color: inherit;
    }

    .p-panelmenu-header-icon,
    .p-panelmenu-item-icon {
        color: dt('panelmenu.item.icon.color');
    }

    .p-panelmenu-submenu-icon {
        color: dt('panelmenu.submenu.icon.color');
    }

    .p-panelmenu-submenu-icon:dir(rtl) {
        transform: rotate(180deg);
    }

    .p-panelmenu-header:not(.p-disabled):focus-visible .p-panelmenu-header-content {
        background: dt('panelmenu.item.focus.background');
        color: dt('panelmenu.item.focus.color');
    }

    .p-panelmenu-header:not(.p-disabled):focus-visible .p-panelmenu-header-content .p-panelmenu-header-icon {
        color: dt('panelmenu.item.icon.focus.color');
    }

    .p-panelmenu-header:not(.p-disabled):focus-visible .p-panelmenu-header-content .p-panelmenu-submenu-icon {
        color: dt('panelmenu.submenu.icon.focus.color');
    }

    .p-panelmenu-header:not(.p-disabled) .p-panelmenu-header-content:hover {
        background: dt('panelmenu.item.focus.background');
        color: dt('panelmenu.item.focus.color');
    }

    .p-panelmenu-header:not(.p-disabled) .p-panelmenu-header-content:hover .p-panelmenu-header-icon {
        color: dt('panelmenu.item.icon.focus.color');
    }

    .p-panelmenu-header:not(.p-disabled) .p-panelmenu-header-content:hover .p-panelmenu-submenu-icon {
        color: dt('panelmenu.submenu.icon.focus.color');
    }

    .p-panelmenu-submenu {
        margin: 0;
        padding: 0 0 0 dt('panelmenu.submenu.indent');
        outline: 0;
        list-style: none;
    }

    .p-panelmenu-submenu:dir(rtl) {
        padding: 0 dt('panelmenu.submenu.indent') 0 0;
    }

    .p-panelmenu-item-link {
        display: flex;
        gap: dt('panelmenu.item.gap');
        padding: dt('panelmenu.item.padding');
        align-items: center;
        user-select: none;
        cursor: pointer;
        text-decoration: none;
        color: inherit;
        position: relative;
        overflow: hidden;
    }

    .p-panelmenu-item-label {
        line-height: 1;
    }

    .p-panelmenu-item-content {
        border-radius: dt('panelmenu.item.border.radius');
        transition:
            background dt('panelmenu.transition.duration'),
            color dt('panelmenu.transition.duration'),
            outline-color dt('panelmenu.transition.duration'),
            box-shadow dt('panelmenu.transition.duration');
        color: dt('panelmenu.item.color');
        outline-color: transparent;
    }

    .p-panelmenu-item.p-focus > .p-panelmenu-item-content {
        background: dt('panelmenu.item.focus.background');
        color: dt('panelmenu.item.focus.color');
    }

    .p-panelmenu-item.p-focus > .p-panelmenu-item-content .p-panelmenu-item-icon {
        color: dt('panelmenu.item.focus.color');
    }

    .p-panelmenu-item.p-focus > .p-panelmenu-item-content .p-panelmenu-submenu-icon {
        color: dt('panelmenu.submenu.icon.focus.color');
    }

    .p-panelmenu-item:not(.p-disabled) > .p-panelmenu-item-content:hover {
        background: dt('panelmenu.item.focus.background');
        color: dt('panelmenu.item.focus.color');
    }

    .p-panelmenu-item:not(.p-disabled) > .p-panelmenu-item-content:hover .p-panelmenu-item-icon {
        color: dt('panelmenu.item.icon.focus.color');
    }

    .p-panelmenu-item:not(.p-disabled) > .p-panelmenu-item-content:hover .p-panelmenu-submenu-icon {
        color: dt('panelmenu.submenu.icon.focus.color');
    }
`;var yne=["list"],Bv=t=>({processedItem:t}),w4=()=>({exact:!1}),I4=t=>({$implicit:t});function vne(t,s){if(t&1&&ae(0,"li",6),t&2){let e=M().$implicit,i=M();$(i.cn(i.cx("separator"),i.getItemProp(e,"styleClass")))}}function xne(t,s){if(t&1&&(at(),ae(0,"svg",19)),t&2){let e=M(6).$implicit,i=M();$(i.cn(i.cx("submenuIcon"),i.getItemProp(e,"icon"))),C("ngStyle",i.getItemProp(e,"iconStyle"))}}function wne(t,s){if(t&1&&(at(),ae(0,"svg",20)),t&2){let e=M(6).$implicit,i=M();$(i.cn(i.cx("submenuIcon"),i.getItemProp(e,"icon"))),C("ngStyle",i.getItemProp(e,"iconStyle"))}}function Ine(t,s){if(t&1&&(Ke(0),z(1,xne,1,3,"svg",17)(2,wne,1,3,"svg",18),We()),t&2){let e=M(5).$implicit,i=M();S(),C("ngIf",i.isItemActive(e)),S(),C("ngIf",!i.isItemActive(e))}}function Tne(t,s){}function Cne(t,s){t&1&&z(0,Tne,0,0,"ng-template")}function Sne(t,s){if(t&1&&(Ke(0),z(1,Ine,3,2,"ng-container",9)(2,Cne,1,0,null,16),We()),t&2){let e=M(5);S(),C("ngIf",!e.panelMenu.submenuIconTemplate&&!e.panelMenu._submenuIconTemplate),S(),C("ngTemplateOutlet",e.panelMenu.submenuIconTemplate||e.panelMenu._submenuIconTemplate)}}function Mne(t,s){if(t&1&&ae(0,"span",21),t&2){let e=M(4).$implicit,i=M();$(i.cx("itemIcon",ot(3,Bv,e))),C("ngStyle",i.getItemProp(e,"iconStyle"))}}function kne(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(4).$implicit,i=M();$(i.cx("itemLabel")),S(),Et(i.getItemProp(e,"label"))}}function Ene(t,s){if(t&1&&ae(0,"span",22),t&2){let e=M(4).$implicit,i=M();$(i.cx("itemLabel")),C("innerHTML",i.getItemProp(e,"label"),ea)}}function Pne(t,s){if(t&1&&(A(0,"a",13),z(1,Sne,3,2,"ng-container",9)(2,Mne,1,5,"span",14)(3,kne,2,3,"span",15)(4,Ene,1,3,"ng-template",null,1,ze),L()),t&2){let e=Gt(5),i=M(3).$implicit,n=M();$(n.cx("itemLink")),C("target",n.getItemProp(i,"target")),de("href",n.getItemProp(i,"url"),Ji)("data-pc-section","action")("tabindex",n.parentExpanded?"0":"-1"),S(),C("ngIf",n.isItemGroup(i)),S(),C("ngIf",i.icon),S(),C("ngIf",(i.item==null?null:i.item.escape)!==!1)("ngIfElse",e)}}function Dne(t,s){if(t&1&&(at(),ae(0,"svg",19)),t&2){let e=M(6).$implicit,i=M();$(i.cn(i.cx("submenuIcon"),i.getItemProp(e,"icon"))),C("ngStyle",i.getItemProp(e,"iconStyle"))}}function Lne(t,s){if(t&1&&(at(),ae(0,"svg",20)),t&2){let e=M(6).$implicit,i=M();$(i.cn(i.cx("submenuIcon"),i.getItemProp(e,"icon"))),C("ngStyle",i.getItemProp(e,"iconStyle"))}}function Ane(t,s){if(t&1&&(Ke(0),z(1,Dne,1,3,"svg",17)(2,Lne,1,3,"svg",18),We()),t&2){let e=M(5).$implicit,i=M();S(),C("ngIf",i.isItemActive(e)),S(),C("ngIf",!i.isItemActive(e))}}function One(t,s){}function Fne(t,s){t&1&&z(0,One,0,0,"ng-template")}function Vne(t,s){if(t&1&&(Ke(0),z(1,Ane,3,2,"ng-container",9)(2,Fne,1,0,null,16),We()),t&2){let e=M(5);S(),C("ngIf",!e.panelMenu.submenuIconTemplate&&!e.panelMenu._submenuIconTemplate),S(),C("ngTemplateOutlet",e.panelMenu.submenuIconTemplate&&e.panelMenu._submenuIconTemplate)}}function zne(t,s){if(t&1&&ae(0,"span",21),t&2){let e=M(4).$implicit,i=M();$(i.cn(i.cx("itemIcon"),i.getItemProp(e,"icon"))),C("ngStyle",i.getItemProp(e,"iconStyle"))}}function Rne(t,s){if(t&1&&ae(0,"span",22),t&2){let e=M(4).$implicit,i=M();$(i.cx("itemLabel")),C("innerHTML",i.getItemProp(e,"label"),ea)}}function Bne(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(4).$implicit,i=M();$(i.cn(i.cx("badge"),i.getItemProp(e,"badgeStyleClass"))),S(),Et(e.badge)}}function Nne(t,s){if(t&1&&(A(0,"a",23),z(1,Vne,3,2,"ng-container",9)(2,zne,1,3,"span",14)(3,Rne,1,3,"span",24)(4,Bne,2,3,"span",25),L()),t&2){let e=M(3).$implicit,i=M();$(i.cx("itemLink")),C("routerLink",i.getItemProp(e,"routerLink"))("queryParams",i.getItemProp(e,"queryParams"))("routerLinkActive","p-panelmenu-item-link-active")("routerLinkActiveOptions",i.getItemProp(e,"routerLinkActiveOptions")||Zt(20,w4))("target",i.getItemProp(e,"target"))("fragment",i.getItemProp(e,"fragment"))("queryParamsHandling",i.getItemProp(e,"queryParamsHandling"))("preserveFragment",i.getItemProp(e,"preserveFragment"))("skipLocationChange",i.getItemProp(e,"skipLocationChange"))("replaceUrl",i.getItemProp(e,"replaceUrl"))("state",i.getItemProp(e,"state")),de("title",i.getItemProp(e,"title"))("data-pc-section","action")("tabindex",i.parentExpanded?"0":"-1"),S(),C("ngIf",i.isItemGroup(e)),S(),C("ngIf",e.icon),S(),C("ngIf",i.getItemProp(e,"label")),S(),C("ngIf",e.badge)}}function qne(t,s){if(t&1&&(Ke(0),z(1,Pne,6,10,"a",11)(2,Nne,5,21,"a",12),We()),t&2){let e=M(2).$implicit,i=M();S(),C("ngIf",!i.getItemProp(e,"routerLink")),S(),C("ngIf",i.getItemProp(e,"routerLink"))}}function Hne(t,s){}function jne(t,s){t&1&&z(0,Hne,0,0,"ng-template")}function Gne(t,s){if(t&1&&(Ke(0),z(1,jne,1,0,null,26),We()),t&2){let e=M(2).$implicit,i=M();S(),C("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",ot(2,I4,e.item))}}function Une(t,s){if(t&1){let e=Be();A(0,"p-panelmenu-sub",27),we("itemToggle",function(n){Q(e);let a=M(3);return X(a.onItemToggle(n))}),L()}if(t&2){let e=M(2).$implicit,i=M();C("id",i.getItemId(e)+"_list")("panelId",i.panelId)("items",e==null?null:e.items)("itemTemplate",i.itemTemplate)("transitionOptions",i.transitionOptions)("focusedItemId",i.focusedItemId)("activeItemPath",i.activeItemPath)("level",i.level+1)("parentExpanded",!!i.parentExpanded&&i.isItemExpanded(e))}}function $ne(t,s){if(t&1){let e=Be();A(0,"li",7)(1,"div",8),we("click",function(n){Q(e);let a=M().$implicit,u=M();return X(u.onItemClick(n,a))}),z(2,qne,3,2,"ng-container",9)(3,Gne,2,4,"ng-container",9),L(),A(4,"div"),z(5,Une,1,9,"p-panelmenu-sub",10),L()()}if(t&2){let e=M(),i=e.$implicit,n=e.index,a=M();$(a.cn(a.cx("item",ot(18,Bv,i)),a.getItemProp(i,"styleClass"))),C("ngStyle",a.getItemProp(i,"style"))("pTooltip",a.getItemProp(i,"tooltip"))("tooltipOptions",a.getItemProp(i,"tooltipOptions")),de("id",a.getItemId(i))("aria-label",a.getItemProp(i,"label"))("aria-expanded",a.isItemGroup(i)?a.isItemActive(i):void 0)("aria-level",a.level+1)("aria-setsize",a.getAriaSetSize())("aria-posinset",a.getAriaPosInset(n))("data-p-disabled",a.isItemDisabled(i)),S(),$(a.cx("itemContent")),S(),C("ngIf",!a.itemTemplate),S(),C("ngIf",a.itemTemplate),S(),C("@submenu",a.getAnimation(i)),S(),C("ngIf",a.isItemVisible(i)&&a.isItemGroup(i)&&a.isItemExpanded(i))}}function Kne(t,s){if(t&1&&z(0,vne,1,2,"li",4)(1,$ne,6,20,"li",5),t&2){let e=s.$implicit,i=M();C("ngIf",e.separator),S(),C("ngIf",!e.separator&&i.isItemVisible(e))}}var Wne=["submenu"],Zne=["submenuicon"],Qne=["headericon"],Xne=["item"],Yne=["container"],Jne=t=>({item:t});function eae(t,s){if(t&1&&(at(),ae(0,"svg",17)),t&2){let e=M(7);$(e.cx("headerIcon"))}}function tae(t,s){if(t&1&&(at(),ae(0,"svg",18)),t&2){let e=M(7);$(e.cx("headerIcon"))}}function iae(t,s){if(t&1&&(Ke(0),z(1,eae,1,2,"svg",15)(2,tae,1,2,"svg",16),We()),t&2){let e=M(5).$implicit,i=M();S(),C("ngIf",i.isItemActive(e)),S(),C("ngIf",!i.isItemActive(e))}}function nae(t,s){}function aae(t,s){t&1&&z(0,nae,0,0,"ng-template")}function oae(t,s){if(t&1&&(Ke(0),z(1,iae,3,2,"ng-container",6)(2,aae,1,0,null,14),We()),t&2){let e=M(5);S(),C("ngIf",!e.headerIconTemplate&&!e._headerIconTemplate),S(),C("ngTemplateOutlet",e.headerIconTemplate||e._headerIconTemplate)}}function rae(t,s){if(t&1&&ae(0,"span",4),t&2){let e=M(4).$implicit,i=M();$(i.cn(i.cx("headerIcon"),e.icon)),C("ngStyle",i.getItemProp(e,"iconStyle"))}}function sae(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(4).$implicit,i=M();$(i.cx("headerLabel")),S(),Et(i.getItemProp(e,"label"))}}function lae(t,s){if(t&1&&ae(0,"span",19),t&2){let e=M(4).$implicit,i=M();$(i.cx("headerLabel")),C("innerHTML",i.getItemProp(e,"label"),ea)}}function cae(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(4).$implicit,i=M();$(i.cn(i.cx("badge"),i.getItemProp(e,"badgeStyleClass"))),S(),Et(i.getItemProp(e,"badge"))}}function dae(t,s){if(t&1&&(A(0,"a",11),z(1,oae,3,2,"ng-container",6)(2,rae,1,3,"span",3)(3,sae,2,3,"span",12)(4,lae,1,3,"ng-template",null,0,ze)(6,cae,2,3,"span",13),L()),t&2){let e=Gt(5),i=M(3).$implicit,n=M();$(n.cx("headerLink")),C("target",n.getItemProp(i,"target")),de("href",n.getItemProp(i,"url"),Ji)("tabindex",-1)("title",n.getItemProp(i,"title"))("data-pc-section","headeraction"),S(),C("ngIf",n.isItemGroup(i)),S(),C("ngIf",i.icon),S(),C("ngIf",n.getItemProp(i,"escape")!==!1)("ngIfElse",e),S(3),C("ngIf",n.getItemProp(i,"badge"))}}function uae(t,s){if(t&1&&(Ke(0),z(1,dae,7,12,"a",10),We()),t&2){let e=M(2).$implicit,i=M();S(),C("ngIf",!i.getItemProp(e,"routerLink"))}}function pae(t,s){t&1&&nt(0)}function hae(t,s){if(t&1&&(at(),ae(0,"svg",17)),t&2){let e=M(6);$(e.cx("headerIcon"))}}function mae(t,s){if(t&1&&(at(),ae(0,"svg",18)),t&2){let e=M(6);$(e.cx("headerIcon"))}}function fae(t,s){if(t&1&&(Ke(0),z(1,hae,1,2,"svg",15)(2,mae,1,2,"svg",16),We()),t&2){let e=M(4).$implicit,i=M();S(),C("ngIf",i.isItemActive(e)),S(),C("ngIf",!i.isItemActive(e))}}function gae(t,s){}function _ae(t,s){t&1&&z(0,gae,0,0,"ng-template")}function bae(t,s){if(t&1&&(Ke(0),z(1,fae,3,2,"ng-container",6)(2,_ae,1,0,null,14),We()),t&2){let e=M(4);S(),C("ngIf",!e.headerIconTemplate&&!e._headerIconTemplate),S(),C("ngTemplateOutlet",e.headerIconTemplate||e._headerIconTemplate)}}function yae(t,s){if(t&1&&ae(0,"span",4),t&2){let e=M(3).$implicit,i=M();$(i.cn(i.cx("headerIcon"),e.icon)),C("ngStyle",i.getItemProp(e,"iconStyle"))}}function vae(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(3).$implicit,i=M();$(i.cx("headerLabel")),S(),Et(i.getItemProp(e,"label"))}}function xae(t,s){if(t&1&&ae(0,"span",19),t&2){let e=M(3).$implicit,i=M();$(i.cx("headerLabel")),C("innerHTML",i.getItemProp(e,"label"),ea)}}function wae(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(3).$implicit,i=M();$(i.cn(i.cx("badge"),i.getItemProp(e,"badgeStyleClass"))),S(),Et(i.getItemProp(e,"badge"))}}function Iae(t,s){if(t&1&&(A(0,"a",20),z(1,bae,3,2,"ng-container",6)(2,yae,1,3,"span",3)(3,vae,2,3,"span",12)(4,xae,1,3,"ng-template",null,1,ze)(6,wae,2,3,"span",13),L()),t&2){let e=Gt(5),i=M(2).$implicit,n=M();$(n.cx("headerLink")),C("routerLink",n.getItemProp(i,"routerLink"))("queryParams",n.getItemProp(i,"queryParams"))("routerLinkActive","p-panelmenu-item-link-active")("routerLinkActiveOptions",n.getItemProp(i,"routerLinkActiveOptions")||Zt(20,w4))("target",n.getItemProp(i,"target"))("fragment",n.getItemProp(i,"fragment"))("queryParamsHandling",n.getItemProp(i,"queryParamsHandling"))("preserveFragment",n.getItemProp(i,"preserveFragment"))("skipLocationChange",n.getItemProp(i,"skipLocationChange"))("replaceUrl",n.getItemProp(i,"replaceUrl"))("state",n.getItemProp(i,"state")),de("tabindex",-1)("data-pc-section","headeraction"),S(),C("ngIf",n.isItemGroup(i)),S(),C("ngIf",i.icon),S(),C("ngIf",n.getItemProp(i,"escape")!==!1)("ngIfElse",e),S(3),C("ngIf",n.getItemProp(i,"badge"))}}function Tae(t,s){if(t&1){let e=Be();A(0,"div",21),we("@rootItem.done",function(){Q(e);let n=M(3);return X(n.onToggleDone())}),A(1,"div")(2,"p-panelMenuList",22),we("headerFocus",function(n){Q(e);let a=M(3);return X(a.updateFocusedHeader(n))}),L()()()}if(t&2){let e=M(2),i=e.$implicit,n=e.index,a=M();$(a.cx("contentContainer",ot(17,Bv,i))),C("@rootItem",a.getAnimation(i)),de("id",a.getContentId(i,n))("aria-labelledby",a.getHeaderId(i,n))("data-pc-section","toggleablecontent"),S(),$(a.cx("content")),de("data-pc-section","menucontent"),S(),C("panelId",a.getPanelId(n,i))("items",a.getItemProp(i,"items"))("itemTemplate",a.itemTemplate||a._itemTemplate)("transitionOptions",a.transitionOptions)("root",!0)("activeItem",a.activeItem())("tabindex",a.tabindex)("parentExpanded",a.isItemActive(i))}}function Cae(t,s){if(t&1){let e=Be();A(0,"div",4)(1,"div",5),we("click",function(n){Q(e);let a=M(),u=a.$implicit,b=a.index,T=M();return X(T.onHeaderClick(n,u,b))})("keydown",function(n){Q(e);let a=M(),u=a.$implicit,b=a.index,T=M();return X(T.onHeaderKeyDown(n,u,b))}),A(2,"div"),z(3,uae,2,1,"ng-container",6)(4,pae,1,0,"ng-container",7)(5,Iae,7,21,"a",8),L()(),z(6,Tae,3,19,"div",9),L()}if(t&2){let e=M(),i=e.$implicit,n=e.index,a=M();$(a.cn(a.cx("panel"),a.getItemProp(i,"headerClass"))),C("ngStyle",a.getItemProp(i,"style")),de("data-pc-section","panel"),S(),$(a.cn(a.cx("header",ot(25,Jne,i)),a.getItemProp(i,"styleClass"))),C("ngStyle",a.getItemProp(i,"style"))("pTooltip",a.getItemProp(i,"tooltip"))("tabindex",0)("tooltipOptions",a.getItemProp(i,"tooltipOptions")),de("id",a.getHeaderId(i,n))("aria-expanded",a.isItemActive(i))("aria-label",a.getItemProp(i,"label"))("aria-controls",a.getContentId(i,n))("aria-disabled",a.isItemDisabled(i))("data-p-highlight",a.isItemActive(i))("data-p-disabled",a.isItemDisabled(i))("data-pc-section","header"),S(),$(a.cx("headerContent")),S(),C("ngIf",!a.itemTemplate&&!a._itemTemplate),S(),C("ngTemplateOutlet",a.itemTemplate)("ngTemplateOutletContext",ot(27,I4,i)),S(),C("ngIf",a.getItemProp(i,"routerLink")),S(),C("ngIf",a.isItemGroup(i))}}function Sae(t,s){if(t&1&&(Ke(0),z(1,Cae,7,29,"div",3),We()),t&2){let e=s.$implicit,i=M();S(),C("ngIf",i.isItemVisible(e))}}var Mae=`
    ${x4}
    /*For PrimeNG*/
    .p-panelmenu-item:not(.ng-animating) {
        overflow: hidden;
    }

    .p-panelmenu-panel {
        overflow: hidden;
    }

    .p-panelmenu-root-list,
    .p-panelmenu-submenu,
    .p-panelmenu-item-link {
        outline: 0 none;
    }
`,kae={root:()=>["p-panelmenu p-component"],panel:"p-panelmenu-panel",header:({instance:t,item:s})=>["p-panelmenu-header",{"p-panelmenu-header-active":t.isItemActive(s)&&!!s.items,"p-disabled":t.isItemDisabled(s)}],headerContent:"p-panelmenu-header-content",headerLink:"p-panelmenu-header-link",headerIcon:"p-panelmenu-header-icon",headerLabel:"p-panelmenu-header-label",contentContainer:({instance:t,processedItem:s})=>["p-panelmenu-content-container",{"p-panelmenu-expanded":t.isItemActive(s)}],content:"p-panelmenu-content",rootList:"p-panelmenu-root-list",item:({instance:t,processedItem:s})=>["p-panelmenu-item",{"p-focus":t.isItemFocused(s)&&!t.isItemDisabled(s),"p-disabled":t.isItemDisabled(s)}],itemContent:"p-panelmenu-item-content",itemLink:"p-panelmenu-item-link",itemIcon:"p-panelmenu-item-icon",itemLabel:"p-panelmenu-item-label",submenuIcon:"p-panelmenu-submenu-icon",submenu:"p-panelmenu-submenu",separator:"p-menuitem-separator",badge:"p-menuitem-badge"},N_=(()=>{class t extends Rt{name="panelmenu";theme=Mae;classes=kae;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var Eae=(()=>{class t extends Ot{panelId;focusedItemId;items;itemTemplate;level=0;activeItemPath;root;tabindex;transitionOptions;parentExpanded;itemToggle=new Le;menuFocus=new Le;menuBlur=new Le;menuKeyDown=new Le;listViewChild;panelMenu=Fe(Ki(()=>q_));_componentStyle=Fe(N_);getItemId(e){return e.item?.id??`${this.panelId}_${e.key}`}getItemKey(e){return this.getItemId(e)}getItemClass(e){return{"p-panelmenu-item":!0,"p-disabled":this.isItemDisabled(e),"p-focus":this.isItemFocused(e)}}getItemProp(e,i,n){return e&&e.item?Lo(e.item[i],n):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isItemExpanded(e){return e.expanded}isItemActive(e){return this.isItemExpanded(e)||this.activeItemPath.some(i=>i&&i.key===e.key)}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return Wt(e.items)}getAnimation(e){return this.isItemActive(e)?{value:"visible",params:{transitionParams:this.transitionOptions,height:"*"}}:{value:"hidden",params:{transitionParams:this.transitionOptions,height:"0"}}}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(i=>this.isItemVisible(i)&&this.getItemProp(i,"separator")).length+1}onItemClick(e,i){this.isItemDisabled(i)||(this.getItemProp(i,"command",{originalEvent:e,item:i.item}),this.itemToggle.emit({processedItem:i,expanded:!this.isItemActive(i)}))}onItemToggle(e){this.itemToggle.emit(e)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-panelMenuSub"],["p-panelmenu-sub"]],viewQuery:function(i,n){if(i&1&&ut(yne,5),i&2){let a;se(a=le())&&(n.listViewChild=a.first)}},inputs:{panelId:"panelId",focusedItemId:"focusedItemId",items:"items",itemTemplate:"itemTemplate",level:[2,"level","level",wt],activeItemPath:"activeItemPath",root:[2,"root","root",ye],tabindex:[2,"tabindex","tabindex",wt],transitionOptions:"transitionOptions",parentExpanded:[2,"parentExpanded","parentExpanded",ye]},outputs:{itemToggle:"itemToggle",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeyDown:"menuKeyDown"},features:[_t([N_]),ft],decls:3,vars:7,consts:[["list",""],["htmlLabel",""],["role","tree",3,"focusin","focusout","keydown","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"class",4,"ngIf"],["role","treeitem",3,"class","ngStyle","pTooltip","tooltipOptions",4,"ngIf"],["role","separator"],["role","treeitem",3,"ngStyle","pTooltip","tooltipOptions"],[3,"click"],[4,"ngIf"],[3,"id","panelId","items","itemTemplate","transitionOptions","focusedItemId","activeItemPath","level","parentExpanded","itemToggle",4,"ngIf"],[3,"class","target",4,"ngIf"],[3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","class","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],[3,"target"],[3,"class","ngStyle",4,"ngIf"],[3,"class",4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["data-p-icon","chevron-down",3,"class","ngStyle",4,"ngIf"],["data-p-icon","chevron-right",3,"class","ngStyle",4,"ngIf"],["data-p-icon","chevron-down",3,"ngStyle"],["data-p-icon","chevron-right",3,"ngStyle"],[3,"ngStyle"],[3,"innerHTML"],[3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[3,"class","innerHTML",4,"ngIf"],[3,"class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemToggle","id","panelId","items","itemTemplate","transitionOptions","focusedItemId","activeItemPath","level","parentExpanded"]],template:function(i,n){if(i&1){let a=Be();A(0,"ul",2,0),we("focusin",function(b){return Q(a),X(n.menuFocus.emit(b))})("focusout",function(b){return Q(a),X(n.menuBlur.emit(b))})("keydown",function(b){return Q(a),X(n.menuKeyDown.emit(b))}),z(2,Kne,2,2,"ng-template",3),L()}i&2&&($(n.root?n.cn(n.cx("rootList"),n.cx("submenu")):n.cx("submenu")),C("tabindex",-1),de("aria-activedescendant",n.focusedItemId)("data-pc-section","menu")("aria-hidden",!n.parentExpanded),S(2),C("ngForOf",n.items))},dependencies:[t,mt,Bi,Ut,Yt,fi,Ea,$o,os,aa,La,Da,so,Ze],encapsulation:2,data:{animation:[qn("submenu",[ao("hidden",Oi({height:"0"})),ao("visible",Oi({height:"*"})),Fi("visible <=> hidden",[Ni("{{transitionParams}}")]),Fi("void => *",Ni(0))])]}})}return t})(),Pae=(()=>{class t extends Ot{panelId;id;items;itemTemplate;parentExpanded;expanded;transitionOptions;root;tabindex;activeItem;itemToggle=new Le;headerFocus=new Le;subMenuViewChild;searchTimeout;searchValue;focused;focusedItem=gi(null);activeItemPath=gi([]);processedItems=gi([]);visibleItems=Ai(()=>{let e=this.processedItems();return this.flatItems(e)});get focusedItemId(){let e=this.focusedItem();return e&&e.item?.id?e.item.id:Wt(this.focusedItem())?`${this.panelId}_${this.focusedItem().key}`:void 0}ngOnChanges(e){this.processedItems.set(this.createProcessedItems(e?.items?.currentValue||this.items||[]))}getItemProp(e,i){return e&&e.item?Lo(e.item[i]):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemActive(e){return this.activeItemPath().some(i=>i.key===e.parentKey)}isItemGroup(e){return Wt(e.items)}isElementInPanel(e,i){let n=e.currentTarget.closest('[data-pc-section="panel"]');return n&&n.contains(i)}isItemMatched(e){return this.isValidItem(e)&&this.getItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isVisibleItem(e){return!!e&&(e.level===0||this.isItemActive(e))&&this.isItemVisible(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e)&&!e.separator}findFirstItem(){return this.visibleItems().find(e=>this.isValidItem(e))}findLastItem(){return Cb(this.visibleItems(),e=>this.isValidItem(e))}findItemByEventTarget(e){let i=e;for(;i&&i.tagName?.toLowerCase()!=="li";)i=i?.parentNode;return i?.id&&this.visibleItems().find(n=>this.isValidItem(n)&&`${this.panelId}_${n.key}`===i.id)}createProcessedItems(e,i=0,n={},a=""){let u=[];return e&&e.forEach((b,T)=>{let D=(a!==""?a+"_":"")+T,R={icon:b.icon,expanded:b.expanded,separator:b.separator,item:b,index:T,level:i,key:D,parent:n,parentKey:a};R.items=this.createProcessedItems(b.items,i+1,R,D),u.push(R)}),u}findProcessedItemByItemKey(e,i,n=0){if(i=i||this.processedItems(),i&&i.length)for(let a=0;a<i.length;a++){let u=i[a];if(this.getItemProp(u,"key")===e)return u;let b=this.findProcessedItemByItemKey(e,u.items,n+1);if(b)return b}}flatItems(e,i=[]){return e&&e.forEach(n=>{this.isVisibleItem(n)&&(i.push(n),this.flatItems(n.items,i))}),i}changeFocusedItem(e){let{originalEvent:i,processedItem:n,focusOnNext:a,selfCheck:u,allowHeaderFocus:b=!0}=e;Wt(this.focusedItem())&&this.focusedItem().key!==n.key?(this.focusedItem.set(n),this.scrollInView()):b&&this.headerFocus.emit({originalEvent:i,focusOnNext:a,selfCheck:u})}scrollInView(){let e=ei(this.subMenuViewChild.listViewChild.nativeElement,`li[id="${`${this.focusedItemId}`}"]`);e&&e.scrollIntoView&&e.scrollIntoView({block:"nearest",inline:"nearest"})}onFocus(e){if(!this.focused){this.focused=!0;let i=this.focusedItem()||(this.isElementInPanel(e,e.relatedTarget)?this.findItemByEventTarget(e.target)||this.findFirstItem():this.findLastItem());e.relatedTarget!==null&&this.focusedItem.set(i)}}onBlur(e){let i=e.relatedTarget;this.focused&&!this.el.nativeElement.contains(i)&&(this.focused=!1,this.focusedItem.set(null),this.searchValue="")}onItemToggle(e){let{processedItem:i,expanded:n}=e;i.item&&(i.item.expanded=!i.item.expanded),this.processedItems.set(this.createProcessedItems(this.items||[],0,{},""));let a=this.activeItemPath().filter(u=>u.parentKey!==i.parentKey);n&&a.push(i),this.activeItemPath.set(a),this.focusedItem.set(i)}onKeyDown(e){let i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":case"Tab":case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!i&&or(e.key)&&this.searchItems(e,e.key);break}}onArrowDownKey(e){let i=Wt(this.focusedItem())?this.findNextItem(this.focusedItem()):this.findFirstItem();this.changeFocusedItem({originalEvent:e,processedItem:i,focusOnNext:!0}),e.preventDefault()}onArrowUpKey(e){let i=Wt(this.focusedItem())?this.findPrevItem(this.focusedItem()):this.findLastItem();this.changeFocusedItem({originalEvent:e,processedItem:i,selfCheck:!0}),e.preventDefault()}onArrowLeftKey(e){if(Wt(this.focusedItem())){if(this.activeItemPath().some(n=>n.key===this.focusedItem().key)){let n=this.activeItemPath().filter(a=>a.key!==this.focusedItem().key);this.activeItemPath.set(n)}else{let n=Wt(this.focusedItem().parent)?this.focusedItem().parent:this.focusedItem();this.focusedItem.set(n)}e.preventDefault()}}onArrowRightKey(e){if(Wt(this.focusedItem())){if(this.isItemGroup(this.focusedItem()))if(this.activeItemPath().some(a=>a.key===this.focusedItem().key))this.onArrowDownKey(e);else{let a=this.activeItemPath().filter(u=>u.parentKey!==this.focusedItem().parentKey);a.push(this.focusedItem()),this.activeItemPath.set(a)}e.preventDefault()}}onHomeKey(e){this.changeFocusedItem({originalEvent:e,processedItem:this.findFirstItem(),allowHeaderFocus:!1}),e.preventDefault()}onEndKey(e){this.changeFocusedItem({originalEvent:e,processedItem:this.findLastItem(),focusOnNext:!0,allowHeaderFocus:!1}),e.preventDefault()}onEnterKey(e){if(Wt(this.focusedItem())){let i=ei(this.subMenuViewChild.listViewChild.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),n=i&&(ei(i,'[data-pc-section="action"]')||ei(i,"a,button"));n?n.click():i&&i.click()}e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}findNextItem(e){let i=this.visibleItems().findIndex(a=>a.key===e.key);return(i<this.visibleItems().length-1?this.visibleItems().slice(i+1).find(a=>this.isValidItem(a)):void 0)||e}findPrevItem(e){let i=this.visibleItems().findIndex(a=>a.key===e.key);return(i>0?Cb(this.visibleItems().slice(0,i),a=>this.isValidItem(a)):void 0)||e}searchItems(e,i){this.searchValue=(this.searchValue||"")+i;let n=null,a=!1;if(Wt(this.focusedItem())){let u=this.visibleItems().findIndex(b=>b.key===this.focusedItem().key);n=this.visibleItems().slice(u).find(b=>this.isItemMatched(b)),n=hn(n)?this.visibleItems().slice(0,u).find(b=>this.isItemMatched(b)):n}else n=this.visibleItems().find(u=>this.isItemMatched(u));return Wt(n)&&(a=!0),hn(n)&&hn(this.focusedItem())&&(n=this.findFirstItem()),Wt(n)&&this.changeFocusedItem({originalEvent:e,processedItem:n,allowHeaderFocus:!1}),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),a}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-panelMenuList"],["p-panel-menu-list"]],viewQuery:function(i,n){if(i&1&&ut(Wne,5),i&2){let a;se(a=le())&&(n.subMenuViewChild=a.first)}},inputs:{panelId:"panelId",id:"id",items:"items",itemTemplate:"itemTemplate",parentExpanded:[2,"parentExpanded","parentExpanded",ye],expanded:[2,"expanded","expanded",ye],transitionOptions:"transitionOptions",root:[2,"root","root",ye],tabindex:[2,"tabindex","tabindex",wt],activeItem:"activeItem"},outputs:{itemToggle:"itemToggle",headerFocus:"headerFocus"},features:[ft,Eo],decls:2,vars:10,consts:[["submenu",""],[3,"itemToggle","keydown","menuFocus","menuBlur","root","id","panelId","tabindex","itemTemplate","focusedItemId","activeItemPath","transitionOptions","items","parentExpanded"]],template:function(i,n){if(i&1){let a=Be();A(0,"p-panelmenu-sub",1,0),we("itemToggle",function(b){return Q(a),X(n.onItemToggle(b))})("keydown",function(b){return Q(a),X(n.onKeyDown(b))})("menuFocus",function(b){return Q(a),X(n.onFocus(b))})("menuBlur",function(b){return Q(a),X(n.onBlur(b))}),L()}i&2&&C("root",!0)("id",n.panelId+"_list")("panelId",n.panelId)("tabindex",n.tabindex)("itemTemplate",n.itemTemplate)("focusedItemId",n.focused?n.focusedItemId:void 0)("activeItemPath",n.activeItemPath())("transitionOptions",n.transitionOptions)("items",n.processedItems())("parentExpanded",n.parentExpanded)},dependencies:[mt,Eae,Ea,aa,Ze],encapsulation:2,changeDetection:0})}return t})(),q_=(()=>{class t extends Ot{model;styleClass;multiple=!1;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";id;tabindex=0;containerViewChild;submenuIconTemplate;headerIconTemplate;itemTemplate;templates;_submenuIconTemplate;_headerIconTemplate;_itemTemplate;animating;activeItem=gi(null);_componentStyle=Fe(N_);ngOnInit(){super.ngOnInit(),this.id=this.id||vi("pn_id_")}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"submenuicon":this._submenuIconTemplate=e.template;break;case"headericon":this._headerIconTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}collapseAll(){for(let e of this.model)e.expanded&&(e.expanded=!1);this.cd.detectChanges()}onToggleDone(){this.animating=!1,this.cd.markForCheck()}changeActiveItem(e,i,n,a=!1){if(!this.isItemDisabled(i)){let u=a?i:this.activeItem&&Wa(i,this.activeItem)?null:i;this.activeItem.set(u)}}getAnimation(e){return e.expanded?{value:"visible",params:{transitionParams:this.animating?this.transitionOptions:"0ms",height:"*"}}:{value:"hidden",params:{transitionParams:this.transitionOptions,height:"0"}}}getItemProp(e,i){return e?Lo(e[i]):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isItemActive(e){return e.expanded}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemGroup(e){return Wt(e.items)}getPanelId(e,i){return i&&i.id?i.id:`${this.id}_${e}`}getHeaderId(e,i){return e.id?e.id+"_header":`${this.getPanelId(i)}_header`}getContentId(e,i){return e.id?e.id+"_content":`${this.getPanelId(i)}_content`}updateFocusedHeader(e){let{originalEvent:i,focusOnNext:n,selfCheck:a}=e,u=i.currentTarget.closest('[data-pc-section="panel"]'),b=a?ei(u,'[data-pc-section="header"]'):n?this.findNextHeader(u):this.findPrevHeader(u);b?this.changeFocusedHeader(i,b):n?this.onHeaderHomeKey(i):this.onHeaderEndKey(i)}changeFocusedHeader(e,i){i&&$t(i)}findNextHeader(e,i=!1){let n=i?e:e.nextElementSibling,a=ei(n,'[data-pc-section="header"]');return a?bo(a,"data-p-disabled")?this.findNextHeader(a.parentElement):a:null}findPrevHeader(e,i=!1){let n=i?e:e.previousElementSibling,a=ei(n,'[data-pc-section="header"]');return a?bo(a,"data-p-disabled")?this.findPrevHeader(a.parentElement):a:null}findFirstHeader(){return this.findNextHeader(this.containerViewChild.nativeElement.firstElementChild,!0)}findLastHeader(){return this.findPrevHeader(this.containerViewChild.nativeElement.lastElementChild,!0)}onHeaderClick(e,i,n){if(this.isItemDisabled(i)){e.preventDefault();return}if(i.command&&i.command({originalEvent:e,item:i}),!this.multiple)for(let a of this.model)i!==a&&a.expanded&&(a.expanded=!1);i.expanded=!i.expanded,this.changeActiveItem(e,i,n),this.animating=!0,$t(e.currentTarget)}onHeaderKeyDown(e,i,n){switch(e.code){case"ArrowDown":this.onHeaderArrowDownKey(e);break;case"ArrowUp":this.onHeaderArrowUpKey(e);break;case"Home":this.onHeaderHomeKey(e);break;case"End":this.onHeaderEndKey(e);break;case"Enter":case"Space":this.onHeaderEnterKey(e,i,n);break;default:break}}onHeaderArrowDownKey(e){let i=bo(e.currentTarget,"data-p-highlight")===!0?ei(e.currentTarget.nextElementSibling,'[data-pc-section="menu"]'):null;i?$t(i):this.updateFocusedHeader({originalEvent:e,focusOnNext:!0}),e.preventDefault()}onHeaderArrowUpKey(e){let i=this.findPrevHeader(e.currentTarget.parentElement)||this.findLastHeader(),n=bo(i,"data-p-highlight")===!0?ei(i.nextElementSibling,'[data-pc-section="menu"]'):null;n?$t(n):this.updateFocusedHeader({originalEvent:e,focusOnNext:!1}),e.preventDefault()}onHeaderHomeKey(e){this.changeFocusedHeader(e,this.findFirstHeader()),e.preventDefault()}onHeaderEndKey(e){this.changeFocusedHeader(e,this.findLastHeader()),e.preventDefault()}onHeaderEnterKey(e,i,n){let a=ei(e.currentTarget,'[data-pc-section="headeraction"]');a?a.click():this.onHeaderClick(e,i,n),e.preventDefault()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-panelMenu"],["p-panelmenu"],["p-panel-menu"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,Zne,4),xe(a,Qne,4),xe(a,Xne,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.submenuIconTemplate=u.first),se(u=le())&&(n.headerIconTemplate=u.first),se(u=le())&&(n.itemTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&ut(Yne,5),i&2){let a;se(a=le())&&(n.containerViewChild=a.first)}},hostAttrs:["data-pc-section","root","data-pc-name","panelmenu"],hostVars:2,hostBindings:function(i,n){i&2&&$(n.cn(n.cx("root"),n.styleClass))},inputs:{model:"model",styleClass:"styleClass",multiple:[2,"multiple","multiple",ye],transitionOptions:"transitionOptions",id:"id",tabindex:[2,"tabindex","tabindex",wt]},features:[_t([N_]),ft],decls:1,vars:1,consts:[["htmlLabel",""],["htmlRouteLabel",""],[4,"ngFor","ngForOf"],[3,"class","ngStyle",4,"ngIf"],[3,"ngStyle"],["role","button",3,"click","keydown","ngStyle","pTooltip","tabindex","tooltipOptions"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","class","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["role","region",3,"class",4,"ngIf"],[3,"target","class",4,"ngIf"],[3,"target"],[3,"class",4,"ngIf","ngIfElse"],[3,"class",4,"ngIf"],[4,"ngTemplateOutlet"],["data-p-icon","chevron-down",3,"class",4,"ngIf"],["data-p-icon","chevron-right",3,"class",4,"ngIf"],["data-p-icon","chevron-down"],["data-p-icon","chevron-right"],[3,"innerHTML"],[3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["role","region"],[3,"headerFocus","panelId","items","itemTemplate","transitionOptions","root","activeItem","tabindex","parentExpanded"]],template:function(i,n){i&1&&z(0,Sae,2,1,"ng-container",2),i&2&&C("ngForOf",n.model)},dependencies:[mt,Bi,Ut,Yt,fi,Pae,Ea,$o,os,aa,La,Da,so,Ze],encapsulation:2,data:{animation:[qn("rootItem",[ao("hidden",Oi({height:"0",visibility:"hidden"})),ao("visible",Oi({height:"*",visibility:"*"})),Fi("visible <=> hidden",[Ni("{{transitionParams}}")]),Fi("void => *",Ni(0))])]},changeDetection:0})}return t})(),T4=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[q_,Ze,Ze]})}return t})();var C4=`
    .p-menubar {
        display: flex;
        align-items: center;
        background: dt('menubar.background');
        border: 1px solid dt('menubar.border.color');
        border-radius: dt('menubar.border.radius');
        color: dt('menubar.color');
        padding: dt('menubar.padding');
        gap: dt('menubar.gap');
    }

    .p-menubar-start,
    .p-megamenu-end {
        display: flex;
        align-items: center;
    }

    .p-menubar-root-list,
    .p-menubar-submenu {
        display: flex;
        margin: 0;
        padding: 0;
        list-style: none;
        outline: 0 none;
    }

    .p-menubar-root-list {
        align-items: center;
        flex-wrap: wrap;
        gap: dt('menubar.gap');
    }

    .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content {
        border-radius: dt('menubar.base.item.border.radius');
    }

    .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content > .p-menubar-item-link {
        padding: dt('menubar.base.item.padding');
    }

    .p-menubar-item-content {
        transition:
            background dt('menubar.transition.duration'),
            color dt('menubar.transition.duration');
        border-radius: dt('menubar.item.border.radius');
        color: dt('menubar.item.color');
    }

    .p-menubar-item-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
        color: inherit;
        padding: dt('menubar.item.padding');
        gap: dt('menubar.item.gap');
        user-select: none;
        outline: 0 none;
    }

    .p-menubar-item-label {
        line-height: 1;
    }

    .p-menubar-item-icon {
        color: dt('menubar.item.icon.color');
    }

    .p-menubar-submenu-icon {
        color: dt('menubar.submenu.icon.color');
        margin-left: auto;
        font-size: dt('menubar.submenu.icon.size');
        width: dt('menubar.submenu.icon.size');
        height: dt('menubar.submenu.icon.size');
    }

    .p-menubar-submenu .p-menubar-submenu-icon:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
    }

    .p-menubar-item.p-focus > .p-menubar-item-content {
        color: dt('menubar.item.focus.color');
        background: dt('menubar.item.focus.background');
    }

    .p-menubar-item.p-focus > .p-menubar-item-content .p-menubar-item-icon {
        color: dt('menubar.item.icon.focus.color');
    }

    .p-menubar-item.p-focus > .p-menubar-item-content .p-menubar-submenu-icon {
        color: dt('menubar.submenu.icon.focus.color');
    }

    .p-menubar-item:not(.p-disabled) > .p-menubar-item-content:hover {
        color: dt('menubar.item.focus.color');
        background: dt('menubar.item.focus.background');
    }

    .p-menubar-item:not(.p-disabled) > .p-menubar-item-content:hover .p-menubar-item-icon {
        color: dt('menubar.item.icon.focus.color');
    }

    .p-menubar-item:not(.p-disabled) > .p-menubar-item-content:hover .p-menubar-submenu-icon {
        color: dt('menubar.submenu.icon.focus.color');
    }

    .p-menubar-item-active > .p-menubar-item-content {
        color: dt('menubar.item.active.color');
        background: dt('menubar.item.active.background');
    }

    .p-menubar-item-active > .p-menubar-item-content .p-menubar-item-icon {
        color: dt('menubar.item.icon.active.color');
    }

    .p-menubar-item-active > .p-menubar-item-content .p-menubar-submenu-icon {
        color: dt('menubar.submenu.icon.active.color');
    }

    .p-menubar-submenu {
        display: none;
        position: absolute;
        min-width: 12.5rem;
        z-index: 1;
        background: dt('menubar.submenu.background');
        border: 1px solid dt('menubar.submenu.border.color');
        border-radius: dt('menubar.submenu.border.radius');
        box-shadow: dt('menubar.submenu.shadow');
        color: dt('menubar.submenu.color');
        flex-direction: column;
        padding: dt('menubar.submenu.padding');
        gap: dt('menubar.submenu.gap');
    }

    .p-menubar-submenu .p-menubar-separator {
        border-block-start: 1px solid dt('menubar.separator.border.color');
    }

    .p-menubar-submenu .p-menubar-item {
        position: relative;
    }

    .p-menubar-submenu > .p-menubar-item-active > .p-menubar-submenu {
        display: block;
        left: 100%;
        top: 0;
    }

    .p-menubar-end {
        margin-left: auto;
        align-self: center;
    }

    .p-menubar-end:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
    }

    .p-menubar-button {
        display: none;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        width: dt('menubar.mobile.button.size');
        height: dt('menubar.mobile.button.size');
        position: relative;
        color: dt('menubar.mobile.button.color');
        border: 0 none;
        background: transparent;
        border-radius: dt('menubar.mobile.button.border.radius');
        transition:
            background dt('menubar.transition.duration'),
            color dt('menubar.transition.duration'),
            outline-color dt('menubar.transition.duration');
        outline-color: transparent;
    }

    .p-menubar-button:hover {
        color: dt('menubar.mobile.button.hover.color');
        background: dt('menubar.mobile.button.hover.background');
    }

    .p-menubar-button:focus-visible {
        box-shadow: dt('menubar.mobile.button.focus.ring.shadow');
        outline: dt('menubar.mobile.button.focus.ring.width') dt('menubar.mobile.button.focus.ring.style') dt('menubar.mobile.button.focus.ring.color');
        outline-offset: dt('menubar.mobile.button.focus.ring.offset');
    }

    .p-menubar-mobile {
        position: relative;
    }

    .p-menubar-mobile .p-menubar-button {
        display: flex;
    }

    .p-menubar-mobile .p-menubar-root-list {
        position: absolute;
        display: none;
        width: 100%;
        flex-direction: column;
        top: 100%;
        left: 0;
        z-index: 1;
        padding: dt('menubar.submenu.padding');
        background: dt('menubar.submenu.background');
        border: 1px solid dt('menubar.submenu.border.color');
        box-shadow: dt('menubar.submenu.shadow');
        border-radius: dt('menubar.submenu.border.radius');
        gap: dt('menubar.submenu.gap');
    }

    .p-menubar-mobile .p-menubar-root-list:dir(rtl) {
        left: auto;
        right: 0;
    }

    .p-menubar-mobile .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content > .p-menubar-item-link {
        padding: dt('menubar.item.padding');
    }

    .p-menubar-mobile-active .p-menubar-root-list {
        display: flex;
    }

    .p-menubar-mobile .p-menubar-root-list .p-menubar-item {
        width: 100%;
        position: static;
    }

    .p-menubar-mobile .p-menubar-root-list .p-menubar-separator {
        border-block-start: 1px solid dt('menubar.separator.border.color');
    }

    .p-menubar-mobile .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content .p-menubar-submenu-icon {
        margin-left: auto;
        transition: transform 0.2s;
    }

    .p-menubar-mobile .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content .p-menubar-submenu-icon:dir(rtl),
    .p-menubar-mobile .p-menubar-submenu-icon:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
    }

    .p-menubar-mobile .p-menubar-root-list > .p-menubar-item-active > .p-menubar-item-content .p-menubar-submenu-icon {
        transform: rotate(-180deg);
    }

    .p-menubar-mobile .p-menubar-submenu .p-menubar-submenu-icon {
        transition: transform 0.2s;
        transform: rotate(90deg);
    }

    .p-menubar-mobile .p-menubar-item-active > .p-menubar-item-content .p-menubar-submenu-icon {
        transform: rotate(-90deg);
    }

    .p-menubar-mobile .p-menubar-submenu {
        width: 100%;
        position: static;
        box-shadow: none;
        border: 0 none;
        padding-inline-start: dt('menubar.submenu.mobile.indent');
        padding-inline-end: 0;
    }
`;var S4=(t,s)=>({instance:t,processedItem:s}),Lae=()=>({exact:!1}),Aae=(t,s)=>({$implicit:t,root:s});function Oae(t,s){if(t&1&&ae(0,"li",6),t&2){let e=M().$implicit,i=M();Lt(i.getItemProp(e,"style")),$(i.cn(i.cx("separator"),e==null?null:e.styleClass)),de("id",i.getItemId(e))("data-pc-section","separator")}}function Fae(t,s){if(t&1&&ae(0,"span"),t&2){let e=M(4).$implicit,i=M();Lt(i.getItemProp(e,"iconStyle")),$(i.cn(i.cx("itemIcon"),i.getItemProp(e,"icon"))),de("data-pc-section","icon")("tabindex",-1)}}function Vae(t,s){if(t&1&&(A(0,"span",17),ie(1),L()),t&2){let e=M(4).$implicit,i=M();$(i.cx("itemLabel")),C("id",i.getItemLabelId(e)),de("data-pc-section","label"),S(),oi(" ",i.getItemLabel(e)," ")}}function zae(t,s){if(t&1&&ae(0,"span",18),t&2){let e=M(4).$implicit,i=M();$(i.cx("itemLabel")),C("innerHTML",i.getItemLabel(e),ea)("id",i.getItemLabelId(e)),de("data-pc-section","label")}}function Rae(t,s){if(t&1&&ae(0,"p-badge",19),t&2){let e=M(4).$implicit,i=M();$(i.getItemProp(e,"badgeStyleClass")),C("value",i.getItemProp(e,"badge"))}}function Bae(t,s){if(t&1&&(at(),ae(0,"svg",23)),t&2){let e=M(7);$(e.cx("submenuIcon")),de("data-pc-section","submenuicon")}}function Nae(t,s){if(t&1&&(at(),ae(0,"svg",24)),t&2){let e=M(7);$(e.cx("submenuIcon")),de("data-pc-section","submenuicon")}}function qae(t,s){if(t&1&&(Ke(0),z(1,Bae,1,3,"svg",21)(2,Nae,1,3,"svg",22),We()),t&2){let e=M(6);S(),C("ngIf",e.root),S(),C("ngIf",!e.root)}}function Hae(t,s){}function jae(t,s){t&1&&z(0,Hae,0,0,"ng-template",25),t&2&&C("data-pc-section","submenuicon")}function Gae(t,s){if(t&1&&(Ke(0),z(1,qae,3,2,"ng-container",9)(2,jae,1,1,null,20),We()),t&2){let e=M(5);S(),C("ngIf",!e.submenuiconTemplate),S(),C("ngTemplateOutlet",e.submenuiconTemplate)}}function Uae(t,s){if(t&1&&(A(0,"a",13),z(1,Fae,1,6,"span",14)(2,Vae,2,5,"span",15)(3,zae,1,5,"ng-template",null,1,ze)(5,Rae,1,3,"p-badge",16)(6,Gae,3,2,"ng-container",9),L()),t&2){let e=Gt(4),i=M(3).$implicit,n=M();$(n.cx("itemLink")),de("href",n.getItemProp(i,"url"),Ji)("data-automationid",n.getItemProp(i,"automationId"))("data-pc-section","action")("target",n.getItemProp(i,"target"))("tabindex",-1),S(),C("ngIf",n.getItemProp(i,"icon")),S(),C("ngIf",n.getItemProp(i,"escape"))("ngIfElse",e),S(3),C("ngIf",n.getItemProp(i,"badge")),S(),C("ngIf",n.isItemGroup(i))}}function $ae(t,s){if(t&1&&ae(0,"span",29),t&2){let e=M(4).$implicit,i=M();$(i.cn(i.cx("itemIcon"),i.getItemProp(e,"icon"))),C("ngStyle",i.getItemProp(e,"iconStyle")),de("data-pc-section","icon")("tabindex",-1)}}function Kae(t,s){if(t&1&&(A(0,"span"),ie(1),L()),t&2){let e=M(4).$implicit,i=M();$(i.cx("itemLabel")),S(),Et(i.getItemLabel(e))}}function Wae(t,s){if(t&1&&ae(0,"span",30),t&2){let e=M(4).$implicit,i=M();$(i.cx("itemLabel")),C("innerHTML",i.getItemLabel(e),ea),de("data-pc-section","label")}}function Zae(t,s){if(t&1&&ae(0,"p-badge",19),t&2){let e=M(4).$implicit,i=M();$(i.getItemProp(e,"badgeStyleClass")),C("value",i.getItemProp(e,"badge"))}}function Qae(t,s){if(t&1&&(at(),ae(0,"svg",23)),t&2){let e=M(7);$(e.cx("submenuIcon")),de("data-pc-section","submenuicon")}}function Xae(t,s){if(t&1&&(at(),ae(0,"svg",24)),t&2){let e=M(7);$(e.cx("submenuIcon")),de("data-pc-section","submenuicon")}}function Yae(t,s){if(t&1&&(Ke(0),z(1,Qae,1,3,"svg",21)(2,Xae,1,3,"svg",22),We()),t&2){let e=M(6);S(),C("ngIf",e.root),S(),C("ngIf",!e.root)}}function Jae(t,s){}function eoe(t,s){t&1&&z(0,Jae,0,0,"ng-template",25),t&2&&C("data-pc-section","submenuicon")}function toe(t,s){if(t&1&&(Ke(0),z(1,Yae,3,2,"ng-container",9)(2,eoe,1,1,null,20),We()),t&2){let e=M(5);S(),C("ngIf",!e.submenuiconTemplate),S(),C("ngTemplateOutlet",e.submenuiconTemplate)}}function ioe(t,s){if(t&1&&(A(0,"a",26),z(1,$ae,1,5,"span",27)(2,Kae,2,3,"span",28)(3,Wae,1,4,"ng-template",null,2,ze)(5,Zae,1,3,"p-badge",16)(6,toe,3,2,"ng-container",9),L()),t&2){let e=Gt(4),i=M(3).$implicit,n=M();$(n.cx("itemLink")),C("routerLink",n.getItemProp(i,"routerLink"))("queryParams",n.getItemProp(i,"queryParams"))("routerLinkActive","p-menubar-item-link-active")("routerLinkActiveOptions",n.getItemProp(i,"routerLinkActiveOptions")||Zt(21,Lae))("target",n.getItemProp(i,"target"))("fragment",n.getItemProp(i,"fragment"))("queryParamsHandling",n.getItemProp(i,"queryParamsHandling"))("preserveFragment",n.getItemProp(i,"preserveFragment"))("skipLocationChange",n.getItemProp(i,"skipLocationChange"))("replaceUrl",n.getItemProp(i,"replaceUrl"))("state",n.getItemProp(i,"state")),de("data-automationid",n.getItemProp(i,"automationId"))("tabindex",-1)("data-pc-section","action"),S(),C("ngIf",n.getItemProp(i,"icon")),S(),C("ngIf",n.getItemProp(i,"escape"))("ngIfElse",e),S(3),C("ngIf",n.getItemProp(i,"badge")),S(),C("ngIf",n.isItemGroup(i))}}function noe(t,s){if(t&1&&(Ke(0),z(1,Uae,7,12,"a",11)(2,ioe,7,22,"a",12),We()),t&2){let e=M(2).$implicit,i=M();S(),C("ngIf",!i.getItemProp(e,"routerLink")),S(),C("ngIf",i.getItemProp(e,"routerLink"))}}function aoe(t,s){}function ooe(t,s){t&1&&z(0,aoe,0,0,"ng-template")}function roe(t,s){if(t&1&&(Ke(0),z(1,ooe,1,0,null,31),We()),t&2){let e=M(2).$implicit,i=M();S(),C("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",ni(2,Aae,e.item,i.root))}}function soe(t,s){if(t&1){let e=Be();A(0,"ul",32),we("itemClick",function(n){Q(e);let a=M(3);return X(a.itemClick.emit(n))})("itemMouseEnter",function(n){Q(e);let a=M(3);return X(a.onItemMouseEnter(n))}),L()}if(t&2){let e=M(2).$implicit,i=M();C("itemTemplate",i.itemTemplate)("items",e.items)("mobileActive",i.mobileActive)("autoDisplay",i.autoDisplay)("menuId",i.menuId)("activeItemPath",i.activeItemPath)("focusedItemId",i.focusedItemId)("level",i.level+1)("inlineStyles",i.sx("submenu",!0,ni(10,S4,i,e))),de("aria-labelledby",i.getItemLabelId(e))}}function loe(t,s){if(t&1){let e=Be();A(0,"li",7,0)(2,"div",8),we("click",function(n){Q(e);let a=M().$implicit,u=M();return X(u.onItemClick(n,a))})("mouseenter",function(n){Q(e);let a=M().$implicit,u=M();return X(u.onItemMouseEnter({$event:n,processedItem:a}))}),z(3,noe,3,2,"ng-container",9)(4,roe,2,5,"ng-container",9),L(),z(5,soe,1,13,"ul",10),L()}if(t&2){let e=M(),i=e.$implicit,n=e.index,a=M();Lt(a.getItemProp(i,"style")),$(a.cn(a.cx("item",ni(22,S4,a,i)),a.getItemProp(i,"styleClass"))),C("tooltipOptions",a.getItemProp(i,"tooltipOptions")),de("id",a.getItemId(i))("data-pc-section","menuitem")("data-p-highlight",a.isItemActive(i))("data-p-focused",a.isItemFocused(i))("data-p-disabled",a.isItemDisabled(i))("aria-label",a.getItemLabel(i))("aria-disabled",a.isItemDisabled(i)||void 0)("aria-haspopup",a.isItemGroup(i)&&!a.getItemProp(i,"to")?"menu":void 0)("aria-expanded",a.isItemGroup(i)?a.isItemActive(i):void 0)("aria-setsize",a.getAriaSetSize())("aria-posinset",a.getAriaPosInset(n)),S(2),$(a.cx("itemContent")),de("data-pc-section","content"),S(),C("ngIf",!a.itemTemplate),S(),C("ngIf",a.itemTemplate),S(),C("ngIf",a.isItemVisible(i)&&a.isItemGroup(i))}}function coe(t,s){if(t&1&&z(0,Oae,1,6,"li",4)(1,loe,6,25,"li",5),t&2){let e=s.$implicit,i=M();C("ngIf",i.isItemVisible(e)&&i.getItemProp(e,"separator")),S(),C("ngIf",i.isItemVisible(e)&&!i.getItemProp(e,"separator"))}}var doe=["start"],uoe=["end"],poe=["item"],hoe=["menuicon"],moe=["submenuicon"],foe=["menubutton"],goe=["rootmenu"],_oe=["*"];function boe(t,s){t&1&&nt(0)}function yoe(t,s){if(t&1&&(A(0,"div"),z(1,boe,1,0,"ng-container",7),L()),t&2){let e=M();$(e.cx("start")),S(),C("ngTemplateOutlet",e.startTemplate||e._startTemplate)}}function voe(t,s){t&1&&(at(),ae(0,"svg",10))}function xoe(t,s){}function woe(t,s){t&1&&z(0,xoe,0,0,"ng-template")}function Ioe(t,s){if(t&1){let e=Be();A(0,"a",8,2),we("click",function(n){Q(e);let a=M();return X(a.menuButtonClick(n))})("keydown",function(n){Q(e);let a=M();return X(a.menuButtonKeydown(n))}),z(2,voe,1,0,"svg",9)(3,woe,1,0,null,7),L()}if(t&2){let e=M();$(e.cx("button")),de("aria-haspopup",!!(e.model.length&&e.model.length>0))("aria-expanded",e.mobileActive)("aria-controls",e.id)("aria-label",e.config.translation.aria.navigation)("data-pc-section","button"),S(2),C("ngIf",!e.menuIconTemplate&&!e._menuIconTemplate),S(),C("ngTemplateOutlet",e.menuIconTemplate||e._menuIconTemplate)}}function Toe(t,s){t&1&&nt(0)}function Coe(t,s){if(t&1&&(A(0,"div"),z(1,Toe,1,0,"ng-container",7),L()),t&2){let e=M();$(e.cx("end")),S(),C("ngTemplateOutlet",e.endTemplate||e._endTemplate)}}function Soe(t,s){if(t&1&&(A(0,"div"),Ei(1),L()),t&2){let e=M();$(e.cx("end"))}}var Moe={submenu:({instance:t,processedItem:s})=>({display:t.isItemActive(s)?"flex":"none"})},koe={root:({instance:t})=>["p-menubar p-component",{"p-menubar-mobile":t.queryMatches,"p-menubar-mobile-active":t.mobileActive}],start:"p-menubar-start",button:"p-menubar-button",rootList:"p-menubar-root-list",item:({instance:t,processedItem:s})=>["p-menubar-item",{"p-menubar-item-active":t.isItemActive(s),"p-focus":t.isItemFocused(s),"p-disabled":t.isItemDisabled(s)}],itemContent:"p-menubar-item-content",itemLink:"p-menubar-item-link",itemIcon:"p-menubar-item-icon",itemLabel:"p-menubar-item-label",submenuIcon:"p-menubar-submenu-icon",submenu:"p-menubar-submenu",separator:"p-menubar-separator",end:"p-menubar-end"},Nv=(()=>{class t extends Rt{name="menubar";theme=C4;classes=koe;inlineStyles=Moe;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var qv=(()=>{class t{autoHide;autoHideDelay;mouseLeaves=new rn;mouseLeft$=this.mouseLeaves.pipe(dw(()=>S0(this.autoHideDelay)),k0(e=>this.autoHide&&e));static \u0275fac=function(i){return new(i||t)};static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})(),Eoe=(()=>{class t extends Ot{items;itemTemplate;root=!1;autoZIndex=!0;baseZIndex=0;mobileActive;autoDisplay;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath;inlineStyles;submenuiconTemplate;itemClick=new Le;itemMouseEnter=new Le;menuFocus=new Le;menuBlur=new Le;menuKeydown=new Le;mouseLeaveSubscriber;menubarService=Fe(qv);_componentStyle=Fe(Nv);ngOnInit(){super.ngOnInit(),this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>{this.cd.markForCheck()})}onItemClick(e,i){this.getItemProp(i,"command",{originalEvent:e,item:i.item}),this.itemClick.emit({originalEvent:e,processedItem:i,isFocus:!0})}getItemProp(e,i,n=null){return e&&e.item?Lo(e.item[i],n):void 0}getItemId(e){return e.item&&e.item?.id?e.item.id:`${this.menuId}_${e.key}`}getItemLabelId(e){return`${this.menuId}_${e.key}_label`}getItemLabel(e){return this.getItemProp(e,"label")}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemActive(e){if(this.activeItemPath)return this.activeItemPath.some(i=>i.key===e.key)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return Wt(e.items)}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(i=>this.isItemVisible(i)&&this.getItemProp(i,"separator")).length+1}onItemMouseEnter(e){if(this.autoDisplay){let{event:i,processedItem:n}=e;this.itemMouseEnter.emit({originalEvent:i,processedItem:n})}}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe(),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-menubarSub"],["p-menubarsub"],["","pMenubarSub",""]],hostAttrs:["data-pc-section","menu","role","menubar"],hostVars:6,hostBindings:function(i,n){i&2&&(no("id",n.root?n.menuId:null),de("aria-activedescendant",n.focusedItemId),Lt(n.inlineStyles),$(n.level===0?n.cx("rootList"):n.cx("submenu")))},inputs:{items:"items",itemTemplate:"itemTemplate",root:[2,"root","root",ye],autoZIndex:[2,"autoZIndex","autoZIndex",ye],baseZIndex:[2,"baseZIndex","baseZIndex",wt],mobileActive:[2,"mobileActive","mobileActive",ye],autoDisplay:[2,"autoDisplay","autoDisplay",ye],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[2,"level","level",wt],focusedItemId:"focusedItemId",activeItemPath:"activeItemPath",inlineStyles:"inlineStyles",submenuiconTemplate:"submenuiconTemplate"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[ft],decls:1,vars:1,consts:[["listItem",""],["htmlLabel",""],["htmlRouteLabel",""],["ngFor","",3,"ngForOf"],["role","separator",3,"style","class",4,"ngIf"],["role","menuitem","pTooltip","",3,"style","class","tooltipOptions",4,"ngIf"],["role","separator"],["role","menuitem","pTooltip","",3,"tooltipOptions"],[3,"click","mouseenter"],[4,"ngIf"],["pMenubarSub","",3,"itemTemplate","items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","inlineStyles","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"class",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","class","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple",""],[3,"class","style",4,"ngIf"],[3,"class","id",4,"ngIf","ngIfElse"],[3,"class","value",4,"ngIf"],[3,"id"],[3,"innerHTML","id"],[3,"value"],[4,"ngTemplateOutlet"],["data-p-icon","angle-down",3,"class",4,"ngIf"],["data-p-icon","angle-right",3,"class",4,"ngIf"],["data-p-icon","angle-down"],["data-p-icon","angle-right"],[3,"data-pc-section"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[3,"class","ngStyle",4,"ngIf"],[3,"class",4,"ngIf","ngIfElse"],[3,"ngStyle"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["pMenubarSub","",3,"itemClick","itemMouseEnter","itemTemplate","items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","inlineStyles"]],template:function(i,n){i&1&&z(0,coe,2,2,"ng-template",3),i&2&&C("ngForOf",n.items)},dependencies:[t,mt,Bi,Ut,Yt,fi,Ea,$o,os,sn,aa,La,hc,Ls,oo,jr,Ze],encapsulation:2})}return t})(),Hv=(()=>{class t extends Ot{document;platformId;el;renderer;cd;menubarService;set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}styleClass;autoZIndex=!0;baseZIndex=0;autoDisplay=!0;autoHide;breakpoint="960px";autoHideDelay=100;id;ariaLabel;ariaLabelledBy;onFocus=new Le;onBlur=new Le;menubutton;rootmenu;mobileActive;matchMediaListener;query;queryMatches;outsideClickListener;resizeListener;mouseLeaveSubscriber;dirty=!1;focused=!1;activeItemPath=gi([]);number=gi(0);focusedItemInfo=gi({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_componentStyle=Fe(Nv);_model;get visibleItems(){let e=this.activeItemPath().find(i=>i.key===this.focusedItemInfo().parentKey);return e?e.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let e=this.focusedItemInfo();return e.item&&e.item?.id?e.item.id:e.index!==-1?`${this.id}${Wt(e.parentKey)?"_"+e.parentKey:""}_${e.index}`:null}constructor(e,i,n,a,u,b){super(),this.document=e,this.platformId=i,this.el=n,this.renderer=a,this.cd=u,this.menubarService=b,Pr(()=>{let T=this.activeItemPath();Wt(T)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){super.ngOnInit(),this.bindMatchMediaListener(),this.menubarService.autoHide=this.autoHide,this.menubarService.autoHideDelay=this.autoHideDelay,this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>{this.hide()}),this.id=this.id||vi("pn_id_")}startTemplate;endTemplate;itemTemplate;menuIconTemplate;submenuIconTemplate;templates;_startTemplate;_endTemplate;_itemTemplate;_menuIconTemplate;_submenuIconTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"start":this._startTemplate=e.template;break;case"end":this._endTemplate=e.template;break;case"menuicon":this._menuIconTemplate=e.template;break;case"submenuicon":this._submenuIconTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}createProcessedItems(e,i=0,n={},a=""){let u=[];return e&&e.forEach((b,T)=>{let D=(a!==""?a+"_":"")+T,R={item:b,index:T,level:i,key:D,parent:n,parentKey:a};R.items=this.createProcessedItems(b.items,i+1,R,D),u.push(R)}),u}bindMatchMediaListener(){if(ii(this.platformId)&&!this.matchMediaListener){let e=window.matchMedia(`(max-width: ${this.breakpoint})`);this.query=e,this.queryMatches=e.matches,this.matchMediaListener=()=>{this.queryMatches=e.matches,this.mobileActive=!1,this.cd.markForCheck()},e.addEventListener("change",this.matchMediaListener)}}unbindMatchMediaListener(){this.matchMediaListener&&(this.query.removeEventListener("change",this.matchMediaListener),this.matchMediaListener=null)}getItemProp(e,i){return e?Lo(e[i]):void 0}menuButtonClick(e){this.toggle(e)}menuButtonKeydown(e){(e.code==="Enter"||e.code==="Space")&&this.menuButtonClick(e)}onItemClick(e){let{originalEvent:i,processedItem:n}=e,a=this.isProcessedItemGroup(n),u=hn(n.parent);if(this.isSelected(n)){let{index:T,key:D,level:R,parentKey:U,item:Y}=n;this.activeItemPath.set(this.activeItemPath().filter(oe=>D!==oe.key&&D.startsWith(oe.key))),this.focusedItemInfo.set({index:T,level:R,parentKey:U,item:Y}),this.dirty=!u,$t(this.rootmenu.el.nativeElement)}else if(a)this.onItemChange(e);else{let T=u?n:this.activeItemPath().find(D=>D.parentKey==="");this.hide(i),this.changeFocusedItemIndex(i,T?T.index:-1),this.mobileActive=!1,$t(this.rootmenu.el.nativeElement)}}onItemMouseEnter(e){ar()?this.onItemChange({event:e,processedItem:e.processedItem,focus:this.autoDisplay},"hover"):this.dirty&&this.onItemChange(e,"hover")}onMouseLeave(e){let i=this.menubarService.autoHide,n=this.menubarService.autoHideDelay;i&&setTimeout(()=>{this.menubarService.mouseLeaves.next(!0)},n)}changeFocusedItemIndex(e,i){let n=this.findVisibleItem(i);if(this.focusedItemInfo().index!==i){let a=this.focusedItemInfo();this.focusedItemInfo.set(Ma(ri({},a),{item:n.item,index:i})),this.scrollInView()}}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedItemId,n=ei(this.rootmenu.el.nativeElement,`li[id="${i}"]`);n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"})}onItemChange(e,i){let{processedItem:n,isFocus:a}=e;if(hn(n))return;let{index:u,key:b,level:T,parentKey:D,items:R,item:U}=n,Y=Wt(R),oe=this.activeItemPath().filter(J=>J.parentKey!==D&&J.parentKey!==b);Y&&oe.push(n),this.focusedItemInfo.set({index:u,level:T,parentKey:D,item:U}),Y&&(this.dirty=!0),a&&$t(this.rootmenu.el.nativeElement),!(i==="hover"&&this.queryMatches)&&this.activeItemPath.set(oe)}toggle(e){this.mobileActive?(this.mobileActive=!1,qi.clear(this.rootmenu.el.nativeElement),this.hide()):(this.mobileActive=!0,qi.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu),setTimeout(()=>{this.show()},0)),this.bindOutsideClickListener(),e.preventDefault()}hide(e,i){this.mobileActive&&setTimeout(()=>{$t(this.menubutton.nativeElement)},0),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),i&&$t(this.rootmenu?.el.nativeElement),this.dirty=!1}show(){let e=this.findVisibleItem(this.findFirstFocusedItemIndex());this.focusedItemInfo.set({index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:e?.item}),$t(this.rootmenu?.el.nativeElement)}onMenuFocus(e){this.focused=!0;let i=this.findVisibleItem(this.findFirstFocusedItemIndex()),n=this.focusedItemInfo().index!==-1?this.focusedItemInfo():{index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:i?.item};this.focusedItemInfo.set(n),this.onFocus.emit(e)}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1,this.onBlur.emit(e)}onKeyDown(e){let i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!i&&or(e.key)&&this.searchItems(e,e.key);break}}findVisibleItem(e){return Wt(this.visibleItems)?this.visibleItems[e]:null}findFirstFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}isProcessedItemGroup(e){return e&&Wt(e.items)}isSelected(e){return this.activeItemPath().some(i=>i.key===e.key)}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&Wt(e.items)}searchItems(e,i){this.searchValue=(this.searchValue||"")+i;let n=-1,a=!1;return this.focusedItemInfo().index!==-1?(n=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(u=>this.isItemMatched(u)),n=n===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(u=>this.isItemMatched(u)):n+this.focusedItemInfo().index):n=this.visibleItems.findIndex(u=>this.isItemMatched(u)),n!==-1&&(a=!0),n===-1&&this.focusedItemInfo().index===-1&&(n=this.findFirstFocusedItemIndex()),n!==-1&&this.changeFocusedItemIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),a}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}onArrowDownKey(e){let i=this.visibleItems[this.focusedItemInfo().index];if(i?hn(i.parent):null)this.isProccessedItemGroup(i)&&(this.onItemChange({originalEvent:e,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item}),this.onArrowRightKey(e));else{let a=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,a),e.preventDefault()}}onArrowRightKey(e){let i=this.visibleItems[this.focusedItemInfo().index];if(i?this.activeItemPath().find(a=>a.key===i.parentKey):null)this.isProccessedItemGroup(i)&&(this.onItemChange({originalEvent:e,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item}),this.onArrowDownKey(e));else{let a=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,a),e.preventDefault()}}onArrowUpKey(e){let i=this.visibleItems[this.focusedItemInfo().index];if(hn(i.parent)){if(this.isProccessedItemGroup(i)){this.onItemChange({originalEvent:e,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item});let u=this.findLastItemIndex();this.changeFocusedItemIndex(e,u)}}else{let a=this.activeItemPath().find(u=>u.key===i.parentKey);if(this.focusedItemInfo().index===0){this.focusedItemInfo.set({index:-1,parentKey:a?a.parentKey:"",item:i.item}),this.searchValue="",this.onArrowLeftKey(e);let u=this.activeItemPath().filter(b=>b.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(u)}else{let u=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,u)}}e.preventDefault()}onArrowLeftKey(e){let i=this.visibleItems[this.focusedItemInfo().index],n=i?this.activeItemPath().find(a=>a.key===i.parentKey):null;if(n){this.onItemChange({originalEvent:e,processedItem:n});let a=this.activeItemPath().filter(u=>u.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(a),e.preventDefault()}else{let a=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,a),e.preventDefault()}}onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){this.hide(e,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),e.preventDefault()}onTabKey(e){if(this.focusedItemInfo().index!==-1){let i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:e,processedItem:i})}this.hide()}onEnterKey(e){if(this.focusedItemInfo().index!==-1){let i=ei(this.rootmenu.el.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),n=i&&ei(i,'a[data-pc-section="action"]');n?n.click():i&&i.click()}e.preventDefault()}findLastFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return ta(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){let i=e>0?ta(this.visibleItems.slice(0,e),n=>this.isValidItem(n)):-1;return i>-1?i:e}findNextItemIndex(e){let i=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(n=>this.isValidItem(n)):-1;return i>-1?i+e+1:e}bindResizeListener(){ii(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{ar()||this.hide(e,!0),this.mobileActive=!1})))}bindOutsideClickListener(){ii(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",e=>{let i=this.rootmenu.el.nativeElement!==e.target&&!this.rootmenu.el.nativeElement.contains(e.target),n=this.mobileActive&&this.menubutton.nativeElement!==e.target&&!this.menubutton.nativeElement.contains(e.target);i&&(n?this.mobileActive=!1:this.hide())})))}unbindOutsideClickListener(){this.outsideClickListener&&(this.outsideClickListener(),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe(),this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindMatchMediaListener(),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||t)(Dt(qr),Dt(nc),Dt(ua),Dt(ac),Dt(nr),Dt(qv))};static \u0275cmp=Je({type:t,selectors:[["p-menubar"]],contentQueries:function(i,n,a){if(i&1&&(xe(a,doe,4),xe(a,uoe,4),xe(a,poe,4),xe(a,hoe,4),xe(a,moe,4),xe(a,di,4)),i&2){let u;se(u=le())&&(n.startTemplate=u.first),se(u=le())&&(n.endTemplate=u.first),se(u=le())&&(n.itemTemplate=u.first),se(u=le())&&(n.menuIconTemplate=u.first),se(u=le())&&(n.submenuIconTemplate=u.first),se(u=le())&&(n.templates=u)}},viewQuery:function(i,n){if(i&1&&(ut(foe,5),ut(goe,5)),i&2){let a;se(a=le())&&(n.menubutton=a.first),se(a=le())&&(n.rootmenu=a.first)}},hostAttrs:["data-pc-section","root","data-pc-name","menubar"],hostVars:2,hostBindings:function(i,n){i&2&&$(n.cn(n.cx("root"),n.styleClass))},inputs:{model:"model",styleClass:"styleClass",autoZIndex:[2,"autoZIndex","autoZIndex",ye],baseZIndex:[2,"baseZIndex","baseZIndex",wt],autoDisplay:[2,"autoDisplay","autoDisplay",ye],autoHide:[2,"autoHide","autoHide",ye],breakpoint:"breakpoint",autoHideDelay:[2,"autoHideDelay","autoHideDelay",wt],id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onFocus:"onFocus",onBlur:"onBlur"},features:[_t([qv,Nv]),ft],ngContentSelectors:_oe,decls:7,vars:17,consts:[["rootmenu",""],["legacy",""],["menubutton",""],[3,"class",4,"ngIf"],["tabindex","0","role","button",3,"class","click","keydown",4,"ngIf"],["pMenubarSub","","tabindex","0",3,"itemClick","focus","blur","keydown","itemMouseEnter","mouseleave","items","itemTemplate","menuId","root","baseZIndex","autoZIndex","mobileActive","autoDisplay","focusedItemId","submenuiconTemplate","activeItemPath"],[3,"class",4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["tabindex","0","role","button",3,"click","keydown"],["data-p-icon","bars",4,"ngIf"],["data-p-icon","bars"]],template:function(i,n){if(i&1){let a=Be();Ui(),z(0,yoe,2,3,"div",3)(1,Ioe,4,9,"a",4),A(2,"ul",5,0),we("itemClick",function(b){return Q(a),X(n.onItemClick(b))})("focus",function(b){return Q(a),X(n.onMenuFocus(b))})("blur",function(b){return Q(a),X(n.onMenuBlur(b))})("keydown",function(b){return Q(a),X(n.onKeyDown(b))})("itemMouseEnter",function(b){return Q(a),X(n.onItemMouseEnter(b))})("mouseleave",function(b){return Q(a),X(n.onMouseLeave(b))}),L(),z(4,Coe,2,3,"div",6)(5,Soe,2,2,"ng-template",null,1,ze)}if(i&2){let a=Gt(6);C("ngIf",n.startTemplate||n._startTemplate),S(),C("ngIf",n.model&&n.model.length>0),S(),C("items",n.processedItems)("itemTemplate",n.itemTemplate)("menuId",n.id)("root",!0)("baseZIndex",n.baseZIndex)("autoZIndex",n.autoZIndex)("mobileActive",n.mobileActive)("autoDisplay",n.autoDisplay)("focusedItemId",n.focused?n.focusedItemId:void 0)("submenuiconTemplate",n.submenuIconTemplate||n._submenuIconTemplate)("activeItemPath",n.activeItemPath()),de("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledBy),S(2),C("ngIf",n.endTemplate||n._endTemplate)("ngIfElse",a)}},dependencies:[mt,Ut,Yt,Ea,Eoe,aa,lg,oo,Ze],encapsulation:2,changeDetection:0})}return t})(),M4=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[Hv,Ze,Ze]})}return t})();function Doe(t,s){t&1&&(A(0,"p-iconfield"),ae(1,"p-inputicon",18)(2,"input",19),L())}var H_=class t{nestedMenuItems=[{label:"Customers",icon:"pi pi-fw pi-table",items:[{label:"New",icon:"pi pi-fw pi-user-plus",items:[{label:"Customer",icon:"pi pi-fw pi-plus"},{label:"Duplicate",icon:"pi pi-fw pi-copy"}]},{label:"Edit",icon:"pi pi-fw pi-user-edit"}]},{label:"Orders",icon:"pi pi-fw pi-shopping-cart",items:[{label:"View",icon:"pi pi-fw pi-list"},{label:"Search",icon:"pi pi-fw pi-search"}]},{label:"Shipments",icon:"pi pi-fw pi-envelope",items:[{label:"Tracker",icon:"pi pi-fw pi-compass"},{label:"Map",icon:"pi pi-fw pi-map-marker"},{label:"Manage",icon:"pi pi-fw pi-pencil"}]},{label:"Profile",icon:"pi pi-fw pi-user",items:[{label:"Settings",icon:"pi pi-fw pi-cog"},{label:"Billing",icon:"pi pi-fw pi-file"}]},{label:"Quit",icon:"pi pi-fw pi-sign-out"}];breadcrumbHome={icon:"pi pi-home",to:"/"};breadcrumbItems=[{label:"Computer"},{label:"Notebook"},{label:"Accessories"},{label:"Backpacks"},{label:"Item"}];tieredMenuItems=[{label:"Customers",icon:"pi pi-fw pi-table",items:[{label:"New",icon:"pi pi-fw pi-user-plus",items:[{label:"Customer",icon:"pi pi-fw pi-plus"},{label:"Duplicate",icon:"pi pi-fw pi-copy"}]},{label:"Edit",icon:"pi pi-fw pi-user-edit"}]},{label:"Orders",icon:"pi pi-fw pi-shopping-cart",items:[{label:"View",icon:"pi pi-fw pi-list"},{label:"Search",icon:"pi pi-fw pi-search"}]},{label:"Shipments",icon:"pi pi-fw pi-envelope",items:[{label:"Tracker",icon:"pi pi-fw pi-compass"},{label:"Map",icon:"pi pi-fw pi-map-marker"},{label:"Manage",icon:"pi pi-fw pi-pencil"}]},{label:"Profile",icon:"pi pi-fw pi-user",items:[{label:"Settings",icon:"pi pi-fw pi-cog"},{label:"Billing",icon:"pi pi-fw pi-file"}]},{separator:!0},{label:"Quit",icon:"pi pi-fw pi-sign-out"}];overlayMenuItems=[{label:"Save",icon:"pi pi-save"},{label:"Update",icon:"pi pi-refresh"},{label:"Delete",icon:"pi pi-trash"},{separator:!0},{label:"Home",icon:"pi pi-home"}];menuItems=[{label:"Customers",items:[{label:"New",icon:"pi pi-fw pi-plus"},{label:"Edit",icon:"pi pi-fw pi-user-edit"}]},{label:"Orders",items:[{label:"View",icon:"pi pi-fw pi-list"},{label:"Search",icon:"pi pi-fw pi-search"}]}];contextMenuItems=[{label:"Save",icon:"pi pi-save"},{label:"Update",icon:"pi pi-refresh"},{label:"Delete",icon:"pi pi-trash"},{separator:!0},{label:"Options",icon:"pi pi-cog"}];megaMenuItems=[{label:"Fashion",icon:"pi pi-fw pi-tag",items:[[{label:"Woman",items:[{label:"Woman Item"},{label:"Woman Item"},{label:"Woman Item"}]},{label:"Men",items:[{label:"Men Item"},{label:"Men Item"},{label:"Men Item"}]}],[{label:"Kids",items:[{label:"Kids Item"},{label:"Kids Item"}]},{label:"Luggage",items:[{label:"Luggage Item"},{label:"Luggage Item"},{label:"Luggage Item"}]}]]},{label:"Electronics",icon:"pi pi-fw pi-desktop",items:[[{label:"Computer",items:[{label:"Computer Item"},{label:"Computer Item"}]},{label:"Camcorder",items:[{label:"Camcorder Item"},{label:"Camcorder Item"},{label:"Camcorder Item"}]}],[{label:"TV",items:[{label:"TV Item"},{label:"TV Item"}]},{label:"Audio",items:[{label:"Audio Item"},{label:"Audio Item"},{label:"Audio Item"}]}],[{label:"Sports.7",items:[{label:"Sports.7.1"},{label:"Sports.7.2"}]}]]},{label:"Furniture",icon:"pi pi-fw pi-image",items:[[{label:"Living Room",items:[{label:"Living Room Item"},{label:"Living Room Item"}]},{label:"Kitchen",items:[{label:"Kitchen Item"},{label:"Kitchen Item"},{label:"Kitchen Item"}]}],[{label:"Bedroom",items:[{label:"Bedroom Item"},{label:"Bedroom Item"}]},{label:"Outdoor",items:[{label:"Outdoor Item"},{label:"Outdoor Item"},{label:"Outdoor Item"}]}]]},{label:"Sports",icon:"pi pi-fw pi-star",items:[[{label:"Basketball",items:[{label:"Basketball Item"},{label:"Basketball Item"}]},{label:"Football",items:[{label:"Football Item"},{label:"Football Item"},{label:"Football Item"}]}],[{label:"Tennis",items:[{label:"Tennis Item"},{label:"Tennis Item"}]}]]}];panelMenuItems=[{label:"Customers",icon:"pi pi-fw pi-table",items:[{label:"New",icon:"pi pi-fw pi-user-plus",items:[{label:"Customer",icon:"pi pi-fw pi-plus"},{label:"Duplicate",icon:"pi pi-fw pi-copy"}]},{label:"Edit",icon:"pi pi-fw pi-user-edit"}]},{label:"Orders",icon:"pi pi-fw pi-shopping-cart",items:[{label:"View",icon:"pi pi-fw pi-list"},{label:"Search",icon:"pi pi-fw pi-search"}]},{label:"Shipments",icon:"pi pi-fw pi-envelope",items:[{label:"Tracker",icon:"pi pi-fw pi-compass"},{label:"Map",icon:"pi pi-fw pi-map-marker"},{label:"Manage",icon:"pi pi-fw pi-pencil"}]},{label:"Profile",icon:"pi pi-fw pi-user",items:[{label:"Settings",icon:"pi pi-fw pi-cog"},{label:"Billing",icon:"pi pi-fw pi-file"}]}];static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Je({type:t,selectors:[["app-menu-demo"]],decls:73,vars:20,consts:[["end",""],["menu",""],["anchor",""],[1,"card"],[1,"font-semibold","text-xl","mb-4"],[3,"model"],[3,"model","home"],[1,"flex","flex-col","md:flex-row","gap-8"],[1,"md:w-1/2"],[3,"value"],[1,"flex","flex-col","md:flex-row","gap-8","mt-6"],[1,"md:w-1/3"],[3,"popup","model"],["type","button","pButton","","icon","pi pi-chevron-down","label","Options",2,"width","auto",3,"click"],[3,"target","model"],[1,"flex","flex-col","md:flex-row","gap-8","mt-8"],[1,"font-semibold","text-xl","mb-4","mt-8"],["orientation","vertical",3,"model"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Search"]],template:function(e,i){if(e&1){let n=Be();A(0,"div",3)(1,"div",4),ie(2,"Menubar"),L(),A(3,"p-menubar",5),z(4,Doe,3,0,"ng-template",null,0,ze),L()(),A(6,"div",3)(7,"div",4),ie(8,"Breadcrumb"),L(),ae(9,"p-breadcrumb",6),L(),A(10,"div",7)(11,"div",8)(12,"div",3)(13,"div",4),ie(14,"Steps"),L(),A(15,"p-stepper",9)(16,"p-step-list")(17,"p-step",9),ie(18,"Header I"),L(),A(19,"p-step",9),ie(20,"Header II"),L(),A(21,"p-step",9),ie(22,"Header III"),L()()()()(),A(23,"div",8)(24,"div",3)(25,"div",4),ie(26,"TabMenu"),L(),A(27,"p-tabs",9)(28,"p-tablist")(29,"p-tab",9),ie(30,"Header I"),L(),A(31,"p-tab",9),ie(32,"Header II"),L(),A(33,"p-tab",9),ie(34,"Header III"),L()()()()()(),A(35,"div",10)(36,"div",11)(37,"div",3)(38,"div",4),ie(39,"Tiered Menu"),L(),ae(40,"p-tieredmenu",5),L()(),A(41,"div",11)(42,"div",3)(43,"div",4),ie(44,"Plain Menu"),L(),ae(45,"p-menu",5),L()(),A(46,"div",11)(47,"div",3)(48,"div",4),ie(49,"Overlay Menu"),L(),ae(50,"p-menu",12,1),A(52,"button",13),we("click",function(u){Q(n);let b=Gt(51);return X(b.toggle(u))}),L()(),A(53,"div",3,2)(55,"div",4),ie(56,"Context Menu"),L(),ie(57," Right click to display. "),ae(58,"p-contextmenu",14),L()()(),A(59,"div",15)(60,"div",8)(61,"div",3)(62,"div",4),ie(63,"MegaMenu | Horizontal"),L(),ae(64,"p-megamenu",5),A(65,"div",16),ie(66,"MegaMenu | Vertical"),L(),ae(67,"p-megamenu",17),L()(),A(68,"div",8)(69,"div",3)(70,"div",4),ie(71,"PanelMenu"),L(),ae(72,"p-panelmenu",5),L()()()}if(e&2){let n=Gt(54);S(3),C("model",i.nestedMenuItems),S(6),C("model",i.breadcrumbItems)("home",i.breadcrumbHome),S(6),C("value",1),S(2),C("value",1),S(2),C("value",2),S(2),C("value",3),S(6),C("value",0),S(2),C("value",0),S(2),C("value",1),S(2),C("value",2),S(7),C("model",i.tieredMenuItems),S(5),C("model",i.menuItems),S(5),C("popup",!0)("model",i.overlayMenuItems),S(8),C("target",n)("model",i.contextMenuItems),S(6),C("model",i.megaMenuItems),S(3),C("model",i.megaMenuItems),S(5),C("model",i.panelMenuItems)}},dependencies:[mt,m4,zv,W3,Cp,gc,cr,_c,dr,E_,k_,zi,Os,_4,R_,v4,B_,T4,q_,P_,Rc,Kp,Km,M4,Hv,Fo,ma,R3,z3,F3,V3],encapsulation:2})};var Xa=ow(Uv());var $v=[{id:1,name:"H\xE0 N\u1ED9i",lng:105.8342,lat:21.0278,description:"Th\u1EE7 \u0111\xF4 c\u1EE7a Vi\u1EC7t Nam, n\u01A1i c\xF3 nhi\u1EC1u di t\xEDch l\u1ECBch s\u1EED v\xE0 v\u0103n h\xF3a.",category:"Th\xE0nh ph\u1ED1"},{id:2,name:"Th\xE0nh ph\u1ED1 H\u1ED3 Ch\xED Minh",lng:106.6297,lat:10.8231,description:"Th\xE0nh ph\u1ED1 l\u1EDBn nh\u1EA5t Vi\u1EC7t Nam, trung t\xE2m kinh t\u1EBF n\u0103ng \u0111\u1ED9ng.",category:"Th\xE0nh ph\u1ED1"},{id:3,name:"\u0110\xE0 N\u1EB5ng",lng:108.2022,lat:16.0544,description:"Th\xE0nh ph\u1ED1 \u0111\xE1ng s\u1ED1ng v\u1EDBi b\xE3i bi\u1EC3n \u0111\u1EB9p v\xE0 c\u01A1 s\u1EDF h\u1EA1 t\u1EA7ng hi\u1EC7n \u0111\u1EA1i.",category:"Th\xE0nh ph\u1ED1"},{id:4,name:"H\u1ED9i An",lng:108.338,lat:15.8801,description:"Ph\u1ED1 c\u1ED5 H\u1ED9i An - Di s\u1EA3n v\u0103n h\xF3a th\u1EBF gi\u1EDBi v\u1EDBi ki\u1EBFn tr\xFAc \u0111\u1ED9c \u0111\xE1o.",category:"Di s\u1EA3n"},{id:5,name:"Hu\u1EBF",lng:107.5909,lat:16.4637,description:"C\u1ED1 \u0111\xF4 Hu\u1EBF v\u1EDBi \u0110\u1EA1i N\u1ED9i v\xE0 nhi\u1EC1u l\u0103ng t\u1EA9m vua ch\xFAa.",category:"Di s\u1EA3n"},{id:6,name:"H\u1EA1 Long",lng:107.0431,lat:20.9101,description:"V\u1ECBnh H\u1EA1 Long - Di s\u1EA3n thi\xEAn nhi\xEAn th\u1EBF gi\u1EDBi v\u1EDBi c\u1EA3nh quan tuy\u1EC7t \u0111\u1EB9p.",category:"Di s\u1EA3n"},{id:7,name:"Nha Trang",lng:109.1967,lat:12.2388,description:"Th\xE0nh ph\u1ED1 bi\u1EC3n n\u1ED5i ti\u1EBFng v\u1EDBi b\xE3i t\u1EAFm \u0111\u1EB9p v\xE0 \u0111\u1EDDi s\u1ED1ng du l\u1ECBch s\xF4i \u0111\u1ED9ng.",category:"Du l\u1ECBch"},{id:8,name:"Ph\xFA Qu\u1ED1c",lng:103.986,lat:10.2269,description:"\u0110\u1EA3o ng\u1ECDc Ph\xFA Qu\u1ED1c v\u1EDBi b\xE3i bi\u1EC3n hoang s\u01A1 v\xE0 h\u1EC7 sinh th\xE1i phong ph\xFA.",category:"Du l\u1ECBch"},{id:9,name:"\u0110\xE0 L\u1EA1t",lng:108.4583,lat:11.9404,description:"Th\xE0nh ph\u1ED1 ng\xE0n hoa v\u1EDBi kh\xED h\u1EADu m\xE1t m\u1EBB quanh n\u0103m.",category:"Du l\u1ECBch"},{id:10,name:"Sa Pa",lng:103.8409,lat:22.3364,description:"V\xF9ng n\xFAi ph\xEDa B\u1EAFc v\u1EDBi ru\u1ED9ng b\u1EADc thang tuy\u1EC7t \u0111\u1EB9p.",category:"Du l\u1ECBch"}],j_=class t{static CLUSTER_SOURCE_ID="locations";maps=new Map;markers=[];showStandalonePopup=!1;standalonePopup=null;layoutService=Fe(yp);themeSubscription=null;currentMapStyle="";ngOnInit(){this.initBasicMap(),this.initMarkersMap(),this.initStandalonePopupMap(),this.initClusterMap(),this.initRichPopupMap(),this.themeSubscription=this.layoutService.configUpdate$.subscribe(()=>{this.updateMapThemes()})}ngOnDestroy(){this.markers.forEach(s=>s.remove()),this.maps.forEach(s=>s.remove()),this.maps.clear(),this.markers=[],this.themeSubscription?.unsubscribe()}getMapStyle(){return this.layoutService.isDarkTheme()?"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json":"https://basemaps.cartocdn.com/gl/positron-gl-style/style.json"}updateMapThemes(){let s=this.getMapStyle();s!==this.currentMapStyle&&(this.currentMapStyle=s,this.maps.forEach(e=>{e.setStyle(s)}))}initBasicMap(){let s=new Xa.default.Map({container:"basic-map",style:this.getMapStyle(),center:[106.6297,15.5],zoom:5,attributionControl:!1});s.addControl(new Xa.default.NavigationControl,"top-right"),s.addControl(new Xa.default.FullscreenControl,"top-right"),this.maps.set("basic",s)}initMarkersMap(){let s=new Xa.default.Map({container:"markers-map",style:this.getMapStyle(),center:[106.6297,15.5],zoom:5,attributionControl:!1});s.addControl(new Xa.default.NavigationControl,"top-right");let e=()=>{$v.slice(0,5).forEach(i=>{let n=document.createElement("div");n.className="marker",n.style.width="24px",n.style.height="24px",n.style.borderRadius="50%",n.style.backgroundColor="#3b82f6",n.style.border="2px solid white",n.style.boxShadow="0 2px 4px rgba(0,0,0,0.3)";let a=new Xa.default.Popup({offset:25,closeButton:!0}).setHTML(`
                    <div class="popup-content">
                        <h4>${i.name}</h4>
                        <p>${i.description}</p>
                    </div>
                `),u=new Xa.default.Marker(n).setLngLat([i.lng,i.lat]).setPopup(a).addTo(s);this.markers.push(u)})};s.on("load",e),s.on("style.load",()=>{s.isStyleLoaded()&&e()}),this.maps.set("markers",s)}initStandalonePopupMap(){let s=new Xa.default.Map({container:"standalone-popup-map",style:this.getMapStyle(),center:[105.8342,21.0278],zoom:13,attributionControl:!1});s.addControl(new Xa.default.NavigationControl,"top-right"),this.maps.set("standalone",s)}toggleStandalonePopup(){let s=this.maps.get("standalone");s&&(this.showStandalonePopup=!this.showStandalonePopup,this.showStandalonePopup?(this.standalonePopup=new Xa.default.Popup({closeOnClick:!1,closeButton:!0}).setLngLat([105.8342,21.0278]).setHTML(`
                    <div class="popup-content">
                        <h4>H\xE0 N\u1ED9i - Th\u1EE7 \u0110\xF4</h4>
                        <p>Th\xE0nh ph\u1ED1 ng\xE0n n\u0103m v\u0103n hi\u1EBFn v\u1EDBi nhi\u1EC1u di t\xEDch l\u1ECBch s\u1EED.</p>
                        <p style="margin-top: 0.5rem; font-size: 0.85rem;">
                            <strong>D\xE2n s\u1ED1:</strong> ~8.5 tri\u1EC7u ng\u01B0\u1EDDi
                        </p>
                    </div>
                `).addTo(s),this.standalonePopup.on("close",()=>{this.showStandalonePopup=!1,this.standalonePopup=null})):this.standalonePopup&&(this.standalonePopup.remove(),this.standalonePopup=null))}initClusterMap(){let s=new Xa.default.Map({container:"cluster-map",style:this.getMapStyle(),center:[106.6297,15.5],zoom:5,attributionControl:!1});s.addControl(new Xa.default.NavigationControl,"top-right");let e=()=>{let i={type:"FeatureCollection",features:$v.map(n=>({type:"Feature",geometry:{type:"Point",coordinates:[n.lng,n.lat]},properties:{name:n.name,description:n.description,category:n.category}}))};s.addSource(t.CLUSTER_SOURCE_ID,{type:"geojson",data:i,cluster:!0,clusterMaxZoom:14,clusterRadius:50}),s.addLayer({id:"clusters",type:"circle",source:t.CLUSTER_SOURCE_ID,filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#22c55e",5,"#eab308",10,"#ef4444"],"circle-radius":["step",["get","point_count"],20,5,30,10,40]}}),s.addLayer({id:"cluster-count",type:"symbol",source:t.CLUSTER_SOURCE_ID,filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-size":12},paint:{"text-color":"#ffffff"}}),s.addLayer({id:"unclustered-point",type:"circle",source:t.CLUSTER_SOURCE_ID,filter:["!",["has","point_count"]],paint:{"circle-color":"#3b82f6","circle-radius":8,"circle-stroke-width":2,"circle-stroke-color":"#fff"}}),s.on("click","clusters",n=>{let a=s.queryRenderedFeatures(n.point,{layers:["clusters"]}),u=a[0].properties.cluster_id;s.getSource(t.CLUSTER_SOURCE_ID).getClusterExpansionZoom(u,(T,D)=>{T||s.easeTo({center:a[0].geometry.coordinates,zoom:D})})}),s.on("click","unclustered-point",n=>{let a=n.features[0].geometry.coordinates.slice(),{name:u,description:b}=n.features[0].properties;new Xa.default.Popup().setLngLat(a).setHTML(`
                    <div class="popup-content">
                        <h4>${u}</h4>
                        <p>${b}</p>
                    </div>
                `).addTo(s)}),s.on("mouseenter","clusters",()=>{s.getCanvas().style.cursor="pointer"}),s.on("mouseleave","clusters",()=>{s.getCanvas().style.cursor=""}),s.on("mouseenter","unclustered-point",()=>{s.getCanvas().style.cursor="pointer"}),s.on("mouseleave","unclustered-point",()=>{s.getCanvas().style.cursor=""})};s.on("load",e),s.on("style.load",()=>{s.isStyleLoaded()&&!s.getSource(t.CLUSTER_SOURCE_ID)&&e()}),this.maps.set("cluster",s)}initRichPopupMap(){let s=new Xa.default.Map({container:"rich-popup-map",style:this.getMapStyle(),center:[106.6297,15.5],zoom:5,attributionControl:!1});s.addControl(new Xa.default.NavigationControl,"top-right"),s.addControl(new Xa.default.FullscreenControl,"top-right");let e={"H\xE0 N\u1ED9i":"https://images.unsplash.com/photo-1509023464722-18d996393ca8?w=300&h=150&fit=crop","Th\xE0nh ph\u1ED1 H\u1ED3 Ch\xED Minh":"https://images.unsplash.com/photo-1583417319070-4a69db38a482?w=300&h=150&fit=crop","\u0110\xE0 N\u1EB5ng":"https://images.unsplash.com/photo-1559592413-7cec4d0cae2b?w=300&h=150&fit=crop","H\u1ED9i An":"https://images.unsplash.com/photo-1557750255-c76072a7aad1?w=300&h=150&fit=crop",Hu\u1EBF:"https://images.unsplash.com/photo-1588668214407-6ea9a6d8c272?w=300&h=150&fit=crop","H\u1EA1 Long":"https://images.unsplash.com/photo-1528127269322-539801943592?w=300&h=150&fit=crop","Nha Trang":"https://images.unsplash.com/photo-1572967771481-0c4e4e6e0fce?w=300&h=150&fit=crop","Ph\xFA Qu\u1ED1c":"https://images.unsplash.com/photo-1552465011-b4e21bf6e79a?w=300&h=150&fit=crop","\u0110\xE0 L\u1EA1t":"https://images.unsplash.com/photo-1599802090336-0a5935f41d01?w=300&h=150&fit=crop","Sa Pa":"https://images.unsplash.com/photo-1583417319070-4a69db38a482?w=300&h=150&fit=crop"},i=()=>{$v.forEach(n=>{let a=document.createElement("div");a.className="marker",a.style.width="30px",a.style.height="30px",a.style.borderRadius="50%";let u={"Th\xE0nh ph\u1ED1":"#3b82f6","Di s\u1EA3n":"#ef4444","Du l\u1ECBch":"#22c55e"};a.style.backgroundColor=u[n.category]||"#6b7280",a.style.border="3px solid white",a.style.boxShadow="0 2px 8px rgba(0,0,0,0.3)";let b=e[n.name]||"https://images.unsplash.com/photo-1552832230-c0197dd311b5?w=300&h=150&fit=crop",T=new Xa.default.Popup({offset:25,closeButton:!0,maxWidth:"300px"}).setHTML(`
                    <div class="rich-popup-content">
                        <img src="${b}" alt="${n.name}" />
                        <div class="content">
                            <span class="category">${n.category}</span>
                            <h4>${n.name}</h4>
                            <p>${n.description}</p>
                        </div>
                    </div>
                `),D=new Xa.default.Marker(a).setLngLat([n.lng,n.lat]).setPopup(T).addTo(s);this.markers.push(D)})};s.on("load",i),s.on("style.load",()=>{s.isStyleLoaded()&&i()}),this.maps.set("rich",s)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Je({type:t,selectors:[["app-map-demo"]],decls:37,vars:2,consts:[[1,"card"],[1,"font-semibold","text-2xl","mb-4"],[1,"text-muted-color","mb-4","line-height-3"],[1,"grid","grid-cols-12","gap-6"],[1,"col-span-12","lg:col-span-6"],[1,"font-semibold","text-xl","mb-3"],["id","basic-map",1,"w-full","h-[400px]","rounded-border"],["id","markers-map",1,"w-full","h-[400px]","rounded-border"],[1,"mb-3"],["size","small",3,"onClick","label","severity"],["id","standalone-popup-map",1,"w-full","h-[400px]","rounded-border"],[1,"text-sm","text-muted-color","mb-3"],["id","cluster-map",1,"w-full","h-[400px]","rounded-border"],[1,"col-span-12"],["id","rich-popup-map",1,"w-full","h-[500px]","rounded-border"]],template:function(e,i){e&1&&(A(0,"div",0)(1,"div",1),ie(2,"B\u1EA3n \u0110\u1ED3 Demo"),L(),A(3,"p",2),ie(4," Trang demo t\xEDch h\u1EE3p th\u01B0 vi\u1EC7n b\u1EA3n \u0111\u1ED3 v\u1EDBi c\xE1c t\xEDnh n\u0103ng: hi\u1EC3n th\u1ECB marker, popup, cluster v\xE0 controls. "),L(),A(5,"div",3)(6,"div",4)(7,"div",0)(8,"h3",5),ie(9,"B\u1EA3n \u0110\u1ED3 C\u01A1 B\u1EA3n"),L(),ae(10,"div",6),L()(),A(11,"div",4)(12,"div",0)(13,"h3",5),ie(14,"Markers & Popups"),L(),ae(15,"div",7),L()(),A(16,"div",4)(17,"div",0)(18,"h3",5),ie(19,"Standalone Popup"),L(),A(20,"div",8)(21,"p-button",9),we("onClick",function(){return i.toggleStandalonePopup()}),L()(),ae(22,"div",10),L()(),A(23,"div",4)(24,"div",0)(25,"h3",5),ie(26,"Cluster Demo"),L(),A(27,"p",11),ie(28," C\xE1c marker \u0111\u01B0\u1EE3c nh\xF3m l\u1EA1i khi zoom out, click v\xE0o cluster \u0111\u1EC3 zoom in. "),L(),ae(29,"div",12),L()(),A(30,"div",13)(31,"div",0)(32,"h3",5),ie(33,"Rich Popups v\u1EDBi N\u1ED9i Dung Chi Ti\u1EBFt"),L(),A(34,"p",11),ie(35," Click v\xE0o c\xE1c marker \u0111\u1EC3 xem popup v\u1EDBi h\xECnh \u1EA3nh v\xE0 th\xF4ng tin chi ti\u1EBFt. "),L(),ae(36,"div",14),L()()()()),e&2&&(S(21),C("label",i.showStandalonePopup?"\u1EA8n Popup":"Hi\u1EC3n Th\u1ECB Popup")("severity",i.showStandalonePopup?"secondary":"primary"))},dependencies:[mt,zi,Gi,wp],styles:[`.maplibregl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgb(0,0,0,0)}.maplibregl-canvas{left:0;position:absolute;top:0}.maplibregl-map:fullscreen{height:100%;width:100%}.maplibregl-ctrl-group button.maplibregl-ctrl-compass{touch-action:none}.maplibregl-canvas-container.maplibregl-interactive,.maplibregl-ctrl-group button.maplibregl-ctrl-compass{cursor:grab;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-canvas-container.maplibregl-interactive.maplibregl-track-pointer{cursor:pointer}.maplibregl-canvas-container.maplibregl-interactive:active,.maplibregl-ctrl-group button.maplibregl-ctrl-compass:active{cursor:grabbing}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-canvas-container.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:pinch-zoom}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:none}.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures,.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-ctrl-bottom-left,.maplibregl-ctrl-bottom-right,.maplibregl-ctrl-top-left,.maplibregl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}.maplibregl-ctrl-top-left{left:0;top:0}.maplibregl-ctrl-top-right{right:0;top:0}.maplibregl-ctrl-bottom-left{bottom:0;left:0}.maplibregl-ctrl-bottom-right{bottom:0;right:0}.maplibregl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.maplibregl-ctrl-top-left .maplibregl-ctrl{float:left;margin:10px 0 0 10px}.maplibregl-ctrl-top-right .maplibregl-ctrl{float:right;margin:10px 10px 0 0}.maplibregl-ctrl-bottom-left .maplibregl-ctrl{float:left;margin:0 0 10px 10px}.maplibregl-ctrl-bottom-right .maplibregl-ctrl{float:right;margin:0 10px 10px 0}.maplibregl-ctrl-group{background:#fff;border-radius:4px}.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px #0000001a}@media (forced-colors:active){.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.maplibregl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;padding:0;width:29px}.maplibregl-ctrl-group button+button{border-top:1px solid #ddd}.maplibregl-ctrl button .maplibregl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}@media (forced-colors:active){.maplibregl-ctrl-icon{background-color:transparent}.maplibregl-ctrl-group button+button{border-top:1px solid ButtonText}}.maplibregl-ctrl button::-moz-focus-inner{border:0;padding:0}.maplibregl-ctrl-attrib-button:focus,.maplibregl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl button:disabled{cursor:not-allowed}.maplibregl-ctrl button:disabled .maplibregl-ctrl-icon{opacity:.25}@media (hover:hover){.maplibregl-ctrl button:not(:disabled):hover{background-color:#0000000d}}.maplibregl-ctrl button:not(:disabled):active{background-color:#0000000d}.maplibregl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.maplibregl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.maplibregl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.maplibregl-ctrl-group button:focus:only-child{border-radius:inherit}.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-globe .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='none' stroke='%23333' viewBox='0 0 22 22'%3E%3Ccircle cx='11' cy='11' r='8.5'/%3E%3Cpath d='M17.5 11c0 4.819-3.02 8.5-6.5 8.5S4.5 15.819 4.5 11 7.52 2.5 11 2.5s6.5 3.681 6.5 8.5Z'/%3E%3Cpath d='M13.5 11c0 2.447-.331 4.64-.853 6.206-.262.785-.562 1.384-.872 1.777-.314.399-.58.517-.775.517s-.461-.118-.775-.517c-.31-.393-.61-.992-.872-1.777C8.831 15.64 8.5 13.446 8.5 11s.331-4.64.853-6.206c.262-.785.562-1.384.872-1.777.314-.399.58-.517.775-.517s.461.118.775.517c.31.393.61.992.872 1.777.522 1.565.853 3.76.853 6.206Z'/%3E%3Cpath d='M11 7.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138q.07-.058.224-.138c.299-.151.763-.302 1.379-.434C7.378 5.666 9.091 5.5 11 5.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138q-.07.058-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428ZM4.486 6.436ZM11 16.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138 1.3 1.3 0 0 1 .224-.138c.299-.151.763-.302 1.379-.434C7.378 14.666 9.091 14.5 11 14.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138a1.3 1.3 0 0 1-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428Zm-6.514-1.064ZM11 12.5c-2.46 0-4.672-.222-6.255-.574-.796-.177-1.406-.38-1.805-.59a1.5 1.5 0 0 1-.39-.272.3.3 0 0 1-.047-.064.3.3 0 0 1 .048-.064c.066-.073.189-.167.389-.272.399-.21 1.009-.413 1.805-.59C6.328 9.722 8.54 9.5 11 9.5s4.672.222 6.256.574c.795.177 1.405.38 1.804.59.2.105.323.2.39.272a.3.3 0 0 1 .047.064.3.3 0 0 1-.048.064 1.4 1.4 0 0 1-.389.272c-.399.21-1.009.413-1.804.59-1.584.352-3.796.574-6.256.574Zm-8.501-1.51v.002zm0 .018v.002zm17.002.002v-.002zm0-.018v-.002z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-globe-enabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='none' stroke='%2333b5e5' viewBox='0 0 22 22'%3E%3Ccircle cx='11' cy='11' r='8.5'/%3E%3Cpath d='M17.5 11c0 4.819-3.02 8.5-6.5 8.5S4.5 15.819 4.5 11 7.52 2.5 11 2.5s6.5 3.681 6.5 8.5Z'/%3E%3Cpath d='M13.5 11c0 2.447-.331 4.64-.853 6.206-.262.785-.562 1.384-.872 1.777-.314.399-.58.517-.775.517s-.461-.118-.775-.517c-.31-.393-.61-.992-.872-1.777C8.831 15.64 8.5 13.446 8.5 11s.331-4.64.853-6.206c.262-.785.562-1.384.872-1.777.314-.399.58-.517.775-.517s.461.118.775.517c.31.393.61.992.872 1.777.522 1.565.853 3.76.853 6.206Z'/%3E%3Cpath d='M11 7.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138q.07-.058.224-.138c.299-.151.763-.302 1.379-.434C7.378 5.666 9.091 5.5 11 5.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138q-.07.058-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428ZM4.486 6.436ZM11 16.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138 1.3 1.3 0 0 1 .224-.138c.299-.151.763-.302 1.379-.434C7.378 14.666 9.091 14.5 11 14.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138a1.3 1.3 0 0 1-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428Zm-6.514-1.064ZM11 12.5c-2.46 0-4.672-.222-6.255-.574-.796-.177-1.406-.38-1.805-.59a1.5 1.5 0 0 1-.39-.272.3.3 0 0 1-.047-.064.3.3 0 0 1 .048-.064c.066-.073.189-.167.389-.272.399-.21 1.009-.413 1.805-.59C6.328 9.722 8.54 9.5 11 9.5s4.672.222 6.256.574c.795.177 1.405.38 1.804.59.2.105.323.2.39.272a.3.3 0 0 1 .047.064.3.3 0 0 1-.048.064 1.4 1.4 0 0 1-.389.272c-.399.21-1.009.413-1.804.59-1.584.352-3.796.574-6.256.574Zm-8.501-1.51v.002zm0 .018v.002zm17.002.002v-.002zm0-.018v-.002z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-terrain .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%23333' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-terrain-enabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%2333b5e5' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23aaa' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-waiting .maplibregl-ctrl-icon{animation:maplibregl-spin 2s linear infinite}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23999' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23666' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}}@keyframes maplibregl-spin{0%{transform:rotate(0)}to{transform:rotate(1turn)}}a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E");background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}a.maplibregl-ctrl-logo.maplibregl-compact{width:14px}@media (forced-colors:active){a.maplibregl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}.maplibregl-ctrl.maplibregl-ctrl-attrib{background-color:#ffffff80;margin:0;padding:0 5px}@media screen{.maplibregl-ctrl-attrib.maplibregl-compact{background-color:#fff;border-radius:12px;box-sizing:content-box;color:#000;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.maplibregl-ctrl-attrib.maplibregl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact-show,.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-inner{display:none}.maplibregl-ctrl-attrib-button{background-color:#ffffff80;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E");border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;list-style:none}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button::-webkit-details-marker{display:none}.maplibregl-ctrl-bottom-left .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-top-left .maplibregl-ctrl-attrib-button{left:0}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-inner{display:block}.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-button{background-color:#0000000d}.maplibregl-ctrl-bottom-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;right:0}.maplibregl-ctrl-top-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{right:0;top:0}.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{left:0;top:0}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;left:0}}@media screen and (forced-colors:active){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}@media screen and (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}.maplibregl-ctrl-attrib a{color:#000000bf;text-decoration:none}.maplibregl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.maplibregl-attrib-empty{display:none}.maplibregl-ctrl-scale{background-color:#ffffffbf;border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px;white-space:nowrap}.maplibregl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}.maplibregl-popup-anchor-top,.maplibregl-popup-anchor-top-left,.maplibregl-popup-anchor-top-right{flex-direction:column}.maplibregl-popup-anchor-bottom,.maplibregl-popup-anchor-bottom-left,.maplibregl-popup-anchor-bottom-right{flex-direction:column-reverse}.maplibregl-popup-anchor-left{flex-direction:row}.maplibregl-popup-anchor-right{flex-direction:row-reverse}.maplibregl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}.maplibregl-popup-anchor-top .maplibregl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}.maplibregl-popup-anchor-top-left .maplibregl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}.maplibregl-popup-anchor-top-right .maplibregl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}.maplibregl-popup-anchor-bottom .maplibregl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.maplibregl-popup-anchor-left .maplibregl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.maplibregl-popup-anchor-right .maplibregl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}.maplibregl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}.maplibregl-popup-close-button:hover{background-color:#0000000d}.maplibregl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px #0000001a;padding:15px 10px;pointer-events:auto;position:relative}.maplibregl-popup-anchor-top-left .maplibregl-popup-content{border-top-left-radius:0}.maplibregl-popup-anchor-top-right .maplibregl-popup-content{border-top-right-radius:0}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-content{border-bottom-left-radius:0}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-content{border-bottom-right-radius:0}.maplibregl-popup-track-pointer{display:none}.maplibregl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-map:hover .maplibregl-popup-track-pointer{display:flex}.maplibregl-map:active .maplibregl-popup-track-pointer{display:none}.maplibregl-marker{left:0;position:absolute;top:0;transition:opacity .2s;will-change:transform}.maplibregl-user-location-dot,.maplibregl-user-location-dot:before{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}.maplibregl-user-location-dot:before{animation:maplibregl-user-location-dot-pulse 2s infinite;content:"";position:absolute}.maplibregl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px #00000059;box-sizing:border-box;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px}@keyframes maplibregl-user-location-dot-pulse{0%{opacity:1;transform:scale(1)}70%{opacity:0;transform:scale(3)}to{opacity:0;transform:scale(1)}}.maplibregl-user-location-dot-stale{background-color:#aaa}.maplibregl-user-location-dot-stale:after{display:none}.maplibregl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}.maplibregl-crosshair,.maplibregl-crosshair .maplibregl-interactive,.maplibregl-crosshair .maplibregl-interactive:active{cursor:crosshair}.maplibregl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}.maplibregl-cooperative-gesture-screen{align-items:center;background:#0006;color:#fff;display:flex;font-size:1.4em;inset:0;justify-content:center;line-height:1.2;opacity:0;padding:1rem;pointer-events:none;position:absolute;transition:opacity 1s ease 1s;z-index:99999}.maplibregl-cooperative-gesture-screen.maplibregl-show{opacity:1;transition:opacity .05s}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:none}@media (hover:none),(pointer:coarse){.maplibregl-cooperative-gesture-screen .maplibregl-desktop-message{display:none}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:block}}.maplibregl-pseudo-fullscreen{height:100%!important;left:0!important;position:fixed!important;top:0!important;width:100%!important;z-index:99999}.maplibregl-popup-content{padding:0;border-radius:8px;box-shadow:0 2px 8px #00000026}.maplibregl-popup-close-button{font-size:20px;padding:4px 8px;color:#666}.maplibregl-popup-close-button:hover{background-color:#0000000d;color:#333}.marker{cursor:pointer;transition:transform .2s}.marker:hover{transform:scale(1.1)}.cluster-marker{cursor:pointer;transition:transform .2s}.cluster-marker:hover{transform:scale(1.15)}.popup-content{padding:1rem;min-width:200px}.popup-content h4{margin:0 0 .5rem;font-size:1.1rem;font-weight:600;color:var(--text-color)}.popup-content p{margin:0;color:var(--text-color-secondary);font-size:.9rem}.rich-popup-content{max-width:300px}.rich-popup-content img{width:100%;height:150px;object-fit:cover;border-radius:8px 8px 0 0}.rich-popup-content .content{padding:1rem}.rich-popup-content h4{margin:0 0 .5rem;font-size:1.2rem;font-weight:600;color:var(--text-color)}.rich-popup-content .category{display:inline-block;padding:.25rem .75rem;background:var(--primary-color);color:#fff;border-radius:12px;font-size:.75rem;margin-bottom:.5rem}.rich-popup-content p{margin:0;color:var(--text-color-secondary);line-height:1.5}
/*! tailwindcss v4.1.11 | MIT License | https://tailwindcss.com */
`],encapsulation:2})};var E4=`
    .p-progressspinner {
        position: relative;
        margin: 0 auto;
        width: 100px;
        height: 100px;
        display: inline-block;
    }

    .p-progressspinner::before {
        content: '';
        display: block;
        padding-top: 100%;
    }

    .p-progressspinner-spin {
        height: 100%;
        transform-origin: center center;
        width: 100%;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        margin: auto;
        animation: p-progressspinner-rotate 2s linear infinite;
    }

    .p-progressspinner-circle {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: 0;
        stroke: dt('progressspinner.colorOne');
        animation:
            p-progressspinner-dash 1.5s ease-in-out infinite,
            p-progressspinner-color 6s ease-in-out infinite;
        stroke-linecap: round;
    }

    @keyframes p-progressspinner-rotate {
        100% {
            transform: rotate(360deg);
        }
    }
    @keyframes p-progressspinner-dash {
        0% {
            stroke-dasharray: 1, 200;
            stroke-dashoffset: 0;
        }
        50% {
            stroke-dasharray: 89, 200;
            stroke-dashoffset: -35px;
        }
        100% {
            stroke-dasharray: 89, 200;
            stroke-dashoffset: -124px;
        }
    }
    @keyframes p-progressspinner-color {
        100%,
        0% {
            stroke: dt('progressspinner.color.one');
        }
        40% {
            stroke: dt('progressspinner.color.two');
        }
        66% {
            stroke: dt('progressspinner.color.three');
        }
        80%,
        90% {
            stroke: dt('progressspinner.color.four');
        }
    }
`;var Loe={root:()=>["p-progressspinner"],spin:"p-progressspinner-spin",circle:"p-progressspinner-circle"},P4=(()=>{class t extends Rt{name="progressspinner";theme=E4;classes=Loe;static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275prov=yt({token:t,factory:t.\u0275fac})}return t})();var Kv=(()=>{class t extends Ot{styleClass;strokeWidth="2";fill="none";animationDuration="2s";ariaLabel;_componentStyle=Fe(P4);static \u0275fac=(()=>{let e;return function(n){return(e||(e=st(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-progressSpinner"],["p-progress-spinner"],["p-progressspinner"]],hostVars:7,hostBindings:function(i,n){i&2&&(de("aria-label",n.ariaLabel)("role","progressbar")("data-pc-name","progressspinner")("data-pc-section","root")("aria-busy",!0),$(n.cn(n.cx("root"),n.styleClass)))},inputs:{styleClass:"styleClass",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration",ariaLabel:"ariaLabel"},features:[_t([P4]),ft],decls:2,vars:9,consts:[["viewBox","25 25 50 50"],["cx","50","cy","50","r","20","stroke-miterlimit","10"]],template:function(i,n){i&1&&(at(),A(0,"svg",0),ae(1,"circle",1),L()),i&2&&($(n.cx("spin")),Nn("animation-duration",n.animationDuration),de("data-pc-section","root"),S(),$(n.cx("circle")),de("fill",n.fill)("stroke-width",n.strokeWidth))},dependencies:[mt,Ze],encapsulation:2,changeDetection:0})}return t})(),D4=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=zt({type:t});static \u0275inj=Vt({imports:[Kv,Ze,Ze]})}return t})();var Nc=ow(Uv());var G_=class t{OVERPASS_API_URL="https://overpass-api.de/api/interpreter";http=Fe(L0);executeQuery(s){let e=encodeURIComponent(s),i=`${this.OVERPASS_API_URL}?data=${e}`;return this.http.get(i).pipe(C0(n=>{if(!this.isValidOverpassResponse(n))throw new Error("Ph\u1EA3n h\u1ED3i t\u1EEB Overpass API kh\xF4ng h\u1EE3p l\u1EC7");return this.convertToGeoJSON(n)}),cw(n=>(console.error("L\u1ED7i khi g\u1ECDi Overpass API:",n),lw(()=>new Error("Kh\xF4ng th\u1EC3 l\u1EA5y d\u1EEF li\u1EC7u t\u1EEB Overpass API")))))}getLamDongBoundaries(){return this.executeQuery(`
            [out:json][timeout:25];
            area["name"~"L\xE2m \u0110\u1ED3ng"]["admin_level"="4"]->.lamdong;
            (
                relation(area.lamdong)["admin_level"="6"]["boundary"="administrative"];
            );
            out body;
            >;
            out skel qt;
        `)}convertToGeoJSON(s){let e=[],i=new Map;return s.elements.forEach(n=>{n.type==="node"&&n.lat!==void 0&&n.lon!==void 0&&i.set(n.id,{lat:n.lat,lon:n.lon})}),s.elements.forEach(n=>{if(n.type==="relation"||n.type==="way"){let a=this.elementToFeature(n,i);a&&e.push(a)}}),{type:"FeatureCollection",features:e}}elementToFeature(s,e){if(s.geometry&&s.geometry.length>0){let i=s.geometry.map(a=>[a.lon,a.lat]),n=i.length>3&&i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1];return{type:"Feature",geometry:{type:n?"Polygon":"LineString",coordinates:n?[i]:i},properties:ri({id:s.id,type:s.type},s.tags)}}if(s.type==="way"&&s.nodes){let i=s.nodes.map(n=>{let a=e.get(n);return a?[a.lon,a.lat]:null}).filter(n=>n!==null);if(i.length>0){let n=i.length>3&&i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1];return{type:"Feature",geometry:{type:n?"Polygon":"LineString",coordinates:n?[i]:i},properties:ri({id:s.id,type:s.type},s.tags)}}}return null}getAdministrativeBoundaries(s,e){let i=this.sanitizeQueryInput(s),n=this.sanitizeQueryInput(e),a=`
            [out:json][timeout:25];
            area["name"~"${i}"]["admin_level"="${n}"]->.searchArea;
            (
                relation(area.searchArea)["boundary"="administrative"];
            );
            out body;
            >;
            out skel qt;
        `;return this.executeQuery(a)}isValidOverpassResponse(s){return!s||typeof s!="object"||!s.elements||!Array.isArray(s.elements)?!1:(s.version===void 0&&console.warn("Overpass response thi\u1EBFu tr\u01B0\u1EDDng version",{hasElements:s.elements?.length,hasGenerator:!!s.generator}),!0)}sanitizeQueryInput(s){return s.replace(/[^\w\s\-]/g,"")}static \u0275fac=function(e){return new(e||t)};static \u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"})};function Ooe(t,s){if(t&1&&ae(0,"p-message",11),t&2){let e=M();C("text",e.errorMessage)}}function Foe(t,s){t&1&&(A(0,"div",14),ae(1,"p-progressSpinner",24),L())}function Voe(t,s){if(t&1&&(A(0,"div",23)(1,"div",25)(2,"div",26),ae(3,"i",27),A(4,"div")(5,"p",28),ie(6),L(),A(7,"p",29),ie(8,"Click v\xE0o c\xE1c ranh gi\u1EDBi \u0111\u1EC3 xem th\xF4ng tin chi ti\u1EBFt"),L()()()()()),t&2){let e=M();S(6),oi("\u0110\xE3 t\u1EA3i ",e.featureCount," ranh gi\u1EDBi h\xE0nh ch\xEDnh")}}var U_=class t{map=null;overpassService=Fe(G_);layoutService=Fe(yp);themeSubscription=null;loading=!1;errorMessage="";featureCount=0;areaName="L\xE2m \u0110\u1ED3ng";adminLevel="6";selectedStyle="default";adminLevelOptions=[{label:"C\u1EA5p 4 (T\u1EC9nh/Th\xE0nh ph\u1ED1)",value:"4"},{label:"C\u1EA5p 6 (Qu\u1EADn/Huy\u1EC7n)",value:"6"},{label:"C\u1EA5p 8 (Ph\u01B0\u1EDDng/X\xE3)",value:"8"}];styleOptions=[{label:"M\u1EB7c \u0111\u1ECBnh",value:"default"},{label:"\u0110\u1EADm m\xE0u",value:"bold"},{label:"Pastel",value:"pastel"},{label:"Neon",value:"neon"}];sampleQuery=`[out:json][timeout:25];
area["name"~"L\xE2m \u0110\u1ED3ng"]["admin_level"="4"]->.lamdong;
relation(area.lamdong)["admin_level"="6"]["boundary"="administrative"];
out body;
>;
out skel qt;`;ngOnInit(){setTimeout(()=>{this.initMap(),this.loadData()},0),this.themeSubscription=this.layoutService.configUpdate$.subscribe(()=>{this.updateMapTheme()})}ngOnDestroy(){this.map&&(this.map.remove(),this.map=null),this.themeSubscription?.unsubscribe()}getMapStyle(){return this.layoutService.isDarkTheme()?"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json":"https://basemaps.cartocdn.com/gl/positron-gl-style/style.json"}updateMapTheme(){this.map&&this.map.setStyle(this.getMapStyle())}initMap(){this.map=new Nc.default.Map({container:"overpass-map",style:this.getMapStyle(),center:[108.4583,11.9404],zoom:8}),this.map.addControl(new Nc.default.NavigationControl,"top-right"),this.map.addControl(new Nc.default.FullscreenControl,"top-right"),this.map.addControl(new Nc.default.ScaleControl,"bottom-left"),this.map.addControl(new Nc.default.AttributionControl,"bottom-right")}loadData(){!this.map||!this.areaName||(this.loading=!0,this.errorMessage="",this.featureCount=0,this.clearMapLayers(),this.overpassService.getAdministrativeBoundaries(this.areaName,this.adminLevel).subscribe({next:s=>{if(this.loading=!1,this.featureCount=s.features.length,s.features.length===0){this.errorMessage="Kh\xF4ng t\xECm th\u1EA5y d\u1EEF li\u1EC7u cho khu v\u1EF1c n\xE0y. Vui l\xF2ng th\u1EED l\u1EA1i v\u1EDBi t\xEAn kh\xE1c.";return}this.renderBoundaries(s)},error:s=>{this.loading=!1,this.errorMessage="L\u1ED7i khi t\u1EA3i d\u1EEF li\u1EC7u: "+s.message,console.error("Error loading Overpass data:",s)}}))}clearMapLayers(){this.map&&(this.map.getLayer("boundaries-fill")&&this.map.removeLayer("boundaries-fill"),this.map.getLayer("boundaries-outline")&&this.map.removeLayer("boundaries-outline"),this.map.getLayer("boundaries-highlight")&&this.map.removeLayer("boundaries-highlight"),this.map.getSource("boundaries")&&this.map.removeSource("boundaries"))}renderBoundaries(s){if(!this.map)return;let e=this.map,i=()=>{e.addSource("boundaries",{type:"geojson",data:s});let n=this.getStyleConfig();if(e.addLayer({id:"boundaries-fill",type:"fill",source:"boundaries",paint:{"fill-color":n.fillColor,"fill-opacity":n.fillOpacity}}),e.addLayer({id:"boundaries-outline",type:"line",source:"boundaries",paint:{"line-color":n.strokeColor,"line-width":n.strokeWidth}}),e.addLayer({id:"boundaries-highlight",type:"line",source:"boundaries",paint:{"line-color":"#ff6b6b","line-width":3,"line-opacity":0}}),e.on("click","boundaries-fill",a=>{if(a.features&&a.features.length>0){let b=a.features[0].properties,T=`
                        <div class="boundary-popup">
                            <h4>${b.name||b["name:vi"]||"Kh\xF4ng r\xF5 t\xEAn"}</h4>
                            <div class="info-row">
                                <span class="info-label">Lo\u1EA1i:</span>
                                <span class="info-value">${b.boundary||"N/A"}</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">C\u1EA5p h\xE0nh ch\xEDnh:</span>
                                <span class="info-value">${b.admin_level||"N/A"}</span>
                            </div>
                            ${b.population?`
                                <div class="info-row">
                                    <span class="info-label">D\xE2n s\u1ED1:</span>
                                    <span class="info-value">${Number(b.population).toLocaleString()}</span>
                                </div>
                            `:""}
                            ${b.wikipedia&&b.wikipedia.includes(":")?`
                                <div class="info-row">
                                    <span class="info-label">Wikipedia:</span>
                                    <span class="info-value"><a href="https://vi.wikipedia.org/wiki/${encodeURIComponent(b.wikipedia.split(":")[1])}" target="_blank" rel="noopener noreferrer">Xem</a></span>
                                </div>
                            `:""}
                        </div>
                    `;new Nc.default.Popup().setLngLat(a.lngLat).setHTML(T).addTo(e)}}),e.on("mouseenter","boundaries-fill",()=>{e.getCanvas().style.cursor="pointer"}),e.on("mousemove","boundaries-fill",a=>{a.features&&a.features.length>0&&e.setPaintProperty("boundaries-highlight","line-opacity",1)}),e.on("mouseleave","boundaries-fill",()=>{e.getCanvas().style.cursor="",e.setPaintProperty("boundaries-highlight","line-opacity",0)}),s.features.length>0){let a=new Nc.default.LngLatBounds;s.features.forEach(u=>{u.geometry.type==="Polygon"?u.geometry.coordinates[0].forEach(b=>{a.extend(b)}):u.geometry.type==="MultiPolygon"?u.geometry.coordinates.forEach(b=>{b[0].forEach(T=>{a.extend(T)})}):u.geometry.type==="LineString"&&u.geometry.coordinates.forEach(b=>{a.extend(b)})}),e.fitBounds(a,{padding:50,maxZoom:12})}};e.isStyleLoaded()?(this.clearMapLayers(),i()):e.once("load",()=>{i()})}getStyleConfig(){switch(this.selectedStyle){case"bold":return{fillColor:"#3b82f6",fillOpacity:.4,strokeColor:"#1e40af",strokeWidth:3};case"pastel":return{fillColor:"#a5b4fc",fillOpacity:.3,strokeColor:"#6366f1",strokeWidth:2};case"neon":return{fillColor:"#22d3ee",fillOpacity:.3,strokeColor:"#06b6d4",strokeWidth:2.5};default:return{fillColor:"#3b82f6",fillOpacity:.2,strokeColor:"#2563eb",strokeWidth:2}}}applyStyle(){if(!this.map||!this.map.getLayer("boundaries-fill"))return;let s=this.getStyleConfig();this.map.setPaintProperty("boundaries-fill","fill-color",s.fillColor),this.map.setPaintProperty("boundaries-fill","fill-opacity",s.fillOpacity),this.map.setPaintProperty("boundaries-outline","line-color",s.strokeColor),this.map.setPaintProperty("boundaries-outline","line-width",s.strokeWidth)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Je({type:t,selectors:[["app-map-overpass-turbo-demo"]],decls:40,vars:11,consts:[[1,"card"],[1,"font-semibold","text-2xl","mb-4"],[1,"text-muted-color","mb-4","line-height-3"],[1,"grid","grid-cols-12","gap-4","mb-4"],[1,"col-span-12","md:col-span-6","lg:col-span-3"],[1,"block","text-sm","font-medium","mb-2"],["type","text","pInputText","","placeholder","VD: L\xE2m \u0110\u1ED3ng",1,"w-full",3,"ngModelChange","ngModel"],["optionLabel","label","optionValue","value","placeholder","Ch\u1ECDn c\u1EA5p",1,"w-full",3,"ngModelChange","ngModel","options"],["optionLabel","label","optionValue","value","placeholder","Ch\u1ECDn style",1,"w-full",3,"ngModelChange","onChange","ngModel","options"],[1,"col-span-12","md:col-span-6","lg:col-span-3","flex","items-end"],["label","T\u1EA3i d\u1EEF li\u1EC7u","icon","pi pi-refresh",1,"w-full",3,"onClick","loading","disabled"],["severity","error",1,"mb-4","w-full",3,"text"],[1,"border","border-surface-200","dark:border-surface-700","rounded-lg","overflow-hidden","relative",2,"height","600px"],["id","overpass-map",1,"w-full","h-full"],[1,"absolute","inset-0","bg-surface-0/80","dark:bg-surface-900/80","flex","justify-center","items-center","z-10"],[1,"mt-4","grid","grid-cols-12","gap-4"],[1,"col-span-12","md:col-span-6"],[1,"card","bg-primary-50","dark:bg-primary-950/30"],[1,"text-lg","font-semibold","mb-2"],[1,"text-muted-color","mb-2","text-sm"],[1,"text-muted-color","text-sm"],[1,"card","bg-blue-50","dark:bg-blue-950/30"],[1,"text-xs","bg-surface-100","dark:bg-surface-800","p-3","rounded","overflow-x-auto"],[1,"mt-4"],["styleClass","w-16 h-16","strokeWidth","4","animationDuration","1s"],[1,"card","bg-green-50","dark:bg-green-950/30"],[1,"flex","items-center","gap-3"],[1,"pi","pi-info-circle","text-2xl","text-green-600"],[1,"font-semibold"],[1,"text-sm","text-muted-color"]],template:function(e,i){e&1&&(A(0,"div",0)(1,"div",1),ie(2,"B\u1EA3n \u0110\u1ED3 Overpass Turbo - Ranh Gi\u1EDBi H\xE0nh Ch\xEDnh"),L(),A(3,"p",2),ie(4," Demo t\xEDch h\u1EE3p Overpass Turbo API \u0111\u1EC3 truy v\u1EA5n v\xE0 hi\u1EC3n th\u1ECB ranh gi\u1EDBi h\xE0nh ch\xEDnh c\u1EE7a t\u1EC9nh L\xE2m \u0110\u1ED3ng t\u1EEB OpenStreetMap. "),L(),A(5,"div",3)(6,"div",4)(7,"label",5),ie(8,"T\u1EC9nh/Th\xE0nh ph\u1ED1"),L(),A(9,"input",6),ci("ngModelChange",function(a){return li(i.areaName,a)||(i.areaName=a),a}),L()(),A(10,"div",4)(11,"label",5),ie(12,"C\u1EA5p h\xE0nh ch\xEDnh"),L(),A(13,"p-select",7),ci("ngModelChange",function(a){return li(i.adminLevel,a)||(i.adminLevel=a),a}),L()(),A(14,"div",4)(15,"label",5),ie(16,"Style hi\u1EC3n th\u1ECB"),L(),A(17,"p-select",8),ci("ngModelChange",function(a){return li(i.selectedStyle,a)||(i.selectedStyle=a),a}),we("onChange",function(){return i.applyStyle()}),L()(),A(18,"div",9)(19,"p-button",10),we("onClick",function(){return i.loadData()}),L()()(),Wi(20,Ooe,1,1,"p-message",11),A(21,"div",12),ae(22,"div",13),Wi(23,Foe,2,0,"div",14),L(),A(24,"div",15)(25,"div",16)(26,"div",17)(27,"h3",18),ie(28,"Th\xF4ng tin Overpass Turbo API"),L(),A(29,"p",19),ie(30," Overpass API l\xE0 m\u1ED9t d\u1ECBch v\u1EE5 web-based \u0111\u1EC3 truy v\u1EA5n d\u1EEF li\u1EC7u t\u1EEB OpenStreetMap. "),L(),A(31,"p",20),ie(32," API n\xE0y cho ph\xE9p th\u1EF1c hi\u1EC7n c\xE1c truy v\u1EA5n ph\u1EE9c t\u1EA1p \u0111\u1EC3 l\u1EA5y d\u1EEF li\u1EC7u \u0111\u1ECBa l\xFD nh\u01B0 ranh gi\u1EDBi h\xE0nh ch\xEDnh, \u0111\u01B0\u1EDDng ph\u1ED1, c\xE1c \u0111\u1ECBa \u0111i\u1EC3m quan tr\u1ECDng v\xE0 nhi\u1EC1u th\xF4ng tin kh\xE1c. "),L()()(),A(33,"div",16)(34,"div",21)(35,"h3",18),ie(36,"Truy v\u1EA5n m\u1EABu"),L(),A(37,"pre",22),ie(38),L()()()(),Wi(39,Voe,9,1,"div",23),L()),e&2&&(S(9),si("ngModel",i.areaName),S(4),si("ngModel",i.adminLevel),C("options",i.adminLevelOptions),S(4),si("ngModel",i.selectedStyle),C("options",i.styleOptions),S(2),C("loading",i.loading)("disabled",i.loading||!i.areaName),S(),Zi(i.errorMessage?20:-1),S(3),Zi(i.loading?23:-1),S(15),Et(i.sampleQuery),S(),Zi(i.featureCount>0?39:-1))},dependencies:[mt,zi,Gi,wp,D4,Kv,tg,eg,yc,bc,Fo,ma,dn,bp,ia,na],styles:[`.maplibregl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgb(0,0,0,0)}.maplibregl-canvas{left:0;position:absolute;top:0}.maplibregl-map:fullscreen{height:100%;width:100%}.maplibregl-ctrl-group button.maplibregl-ctrl-compass{touch-action:none}.maplibregl-canvas-container.maplibregl-interactive,.maplibregl-ctrl-group button.maplibregl-ctrl-compass{cursor:grab;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-canvas-container.maplibregl-interactive.maplibregl-track-pointer{cursor:pointer}.maplibregl-canvas-container.maplibregl-interactive:active,.maplibregl-ctrl-group button.maplibregl-ctrl-compass:active{cursor:grabbing}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-canvas-container.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:pinch-zoom}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:none}.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures,.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-ctrl-bottom-left,.maplibregl-ctrl-bottom-right,.maplibregl-ctrl-top-left,.maplibregl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}.maplibregl-ctrl-top-left{left:0;top:0}.maplibregl-ctrl-top-right{right:0;top:0}.maplibregl-ctrl-bottom-left{bottom:0;left:0}.maplibregl-ctrl-bottom-right{bottom:0;right:0}.maplibregl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.maplibregl-ctrl-top-left .maplibregl-ctrl{float:left;margin:10px 0 0 10px}.maplibregl-ctrl-top-right .maplibregl-ctrl{float:right;margin:10px 10px 0 0}.maplibregl-ctrl-bottom-left .maplibregl-ctrl{float:left;margin:0 0 10px 10px}.maplibregl-ctrl-bottom-right .maplibregl-ctrl{float:right;margin:0 10px 10px 0}.maplibregl-ctrl-group{background:#fff;border-radius:4px}.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px #0000001a}@media (forced-colors:active){.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.maplibregl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;padding:0;width:29px}.maplibregl-ctrl-group button+button{border-top:1px solid #ddd}.maplibregl-ctrl button .maplibregl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}@media (forced-colors:active){.maplibregl-ctrl-icon{background-color:transparent}.maplibregl-ctrl-group button+button{border-top:1px solid ButtonText}}.maplibregl-ctrl button::-moz-focus-inner{border:0;padding:0}.maplibregl-ctrl-attrib-button:focus,.maplibregl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl button:disabled{cursor:not-allowed}.maplibregl-ctrl button:disabled .maplibregl-ctrl-icon{opacity:.25}@media (hover:hover){.maplibregl-ctrl button:not(:disabled):hover{background-color:#0000000d}}.maplibregl-ctrl button:not(:disabled):active{background-color:#0000000d}.maplibregl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.maplibregl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.maplibregl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.maplibregl-ctrl-group button:focus:only-child{border-radius:inherit}.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-globe .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='none' stroke='%23333' viewBox='0 0 22 22'%3E%3Ccircle cx='11' cy='11' r='8.5'/%3E%3Cpath d='M17.5 11c0 4.819-3.02 8.5-6.5 8.5S4.5 15.819 4.5 11 7.52 2.5 11 2.5s6.5 3.681 6.5 8.5Z'/%3E%3Cpath d='M13.5 11c0 2.447-.331 4.64-.853 6.206-.262.785-.562 1.384-.872 1.777-.314.399-.58.517-.775.517s-.461-.118-.775-.517c-.31-.393-.61-.992-.872-1.777C8.831 15.64 8.5 13.446 8.5 11s.331-4.64.853-6.206c.262-.785.562-1.384.872-1.777.314-.399.58-.517.775-.517s.461.118.775.517c.31.393.61.992.872 1.777.522 1.565.853 3.76.853 6.206Z'/%3E%3Cpath d='M11 7.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138q.07-.058.224-.138c.299-.151.763-.302 1.379-.434C7.378 5.666 9.091 5.5 11 5.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138q-.07.058-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428ZM4.486 6.436ZM11 16.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138 1.3 1.3 0 0 1 .224-.138c.299-.151.763-.302 1.379-.434C7.378 14.666 9.091 14.5 11 14.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138a1.3 1.3 0 0 1-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428Zm-6.514-1.064ZM11 12.5c-2.46 0-4.672-.222-6.255-.574-.796-.177-1.406-.38-1.805-.59a1.5 1.5 0 0 1-.39-.272.3.3 0 0 1-.047-.064.3.3 0 0 1 .048-.064c.066-.073.189-.167.389-.272.399-.21 1.009-.413 1.805-.59C6.328 9.722 8.54 9.5 11 9.5s4.672.222 6.256.574c.795.177 1.405.38 1.804.59.2.105.323.2.39.272a.3.3 0 0 1 .047.064.3.3 0 0 1-.048.064 1.4 1.4 0 0 1-.389.272c-.399.21-1.009.413-1.804.59-1.584.352-3.796.574-6.256.574Zm-8.501-1.51v.002zm0 .018v.002zm17.002.002v-.002zm0-.018v-.002z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-globe-enabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='none' stroke='%2333b5e5' viewBox='0 0 22 22'%3E%3Ccircle cx='11' cy='11' r='8.5'/%3E%3Cpath d='M17.5 11c0 4.819-3.02 8.5-6.5 8.5S4.5 15.819 4.5 11 7.52 2.5 11 2.5s6.5 3.681 6.5 8.5Z'/%3E%3Cpath d='M13.5 11c0 2.447-.331 4.64-.853 6.206-.262.785-.562 1.384-.872 1.777-.314.399-.58.517-.775.517s-.461-.118-.775-.517c-.31-.393-.61-.992-.872-1.777C8.831 15.64 8.5 13.446 8.5 11s.331-4.64.853-6.206c.262-.785.562-1.384.872-1.777.314-.399.58-.517.775-.517s.461.118.775.517c.31.393.61.992.872 1.777.522 1.565.853 3.76.853 6.206Z'/%3E%3Cpath d='M11 7.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138q.07-.058.224-.138c.299-.151.763-.302 1.379-.434C7.378 5.666 9.091 5.5 11 5.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138q-.07.058-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428ZM4.486 6.436ZM11 16.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138 1.3 1.3 0 0 1 .224-.138c.299-.151.763-.302 1.379-.434C7.378 14.666 9.091 14.5 11 14.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138a1.3 1.3 0 0 1-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428Zm-6.514-1.064ZM11 12.5c-2.46 0-4.672-.222-6.255-.574-.796-.177-1.406-.38-1.805-.59a1.5 1.5 0 0 1-.39-.272.3.3 0 0 1-.047-.064.3.3 0 0 1 .048-.064c.066-.073.189-.167.389-.272.399-.21 1.009-.413 1.805-.59C6.328 9.722 8.54 9.5 11 9.5s4.672.222 6.256.574c.795.177 1.405.38 1.804.59.2.105.323.2.39.272a.3.3 0 0 1 .047.064.3.3 0 0 1-.048.064 1.4 1.4 0 0 1-.389.272c-.399.21-1.009.413-1.804.59-1.584.352-3.796.574-6.256.574Zm-8.501-1.51v.002zm0 .018v.002zm17.002.002v-.002zm0-.018v-.002z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-terrain .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%23333' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-terrain-enabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%2333b5e5' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23aaa' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-waiting .maplibregl-ctrl-icon{animation:maplibregl-spin 2s linear infinite}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23999' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23666' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}}@keyframes maplibregl-spin{0%{transform:rotate(0)}to{transform:rotate(1turn)}}a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E");background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}a.maplibregl-ctrl-logo.maplibregl-compact{width:14px}@media (forced-colors:active){a.maplibregl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}.maplibregl-ctrl.maplibregl-ctrl-attrib{background-color:#ffffff80;margin:0;padding:0 5px}@media screen{.maplibregl-ctrl-attrib.maplibregl-compact{background-color:#fff;border-radius:12px;box-sizing:content-box;color:#000;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.maplibregl-ctrl-attrib.maplibregl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact-show,.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-inner{display:none}.maplibregl-ctrl-attrib-button{background-color:#ffffff80;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E");border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;list-style:none}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button::-webkit-details-marker{display:none}.maplibregl-ctrl-bottom-left .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-top-left .maplibregl-ctrl-attrib-button{left:0}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-inner{display:block}.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-button{background-color:#0000000d}.maplibregl-ctrl-bottom-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;right:0}.maplibregl-ctrl-top-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{right:0;top:0}.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{left:0;top:0}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;left:0}}@media screen and (forced-colors:active){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}@media screen and (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}.maplibregl-ctrl-attrib a{color:#000000bf;text-decoration:none}.maplibregl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.maplibregl-attrib-empty{display:none}.maplibregl-ctrl-scale{background-color:#ffffffbf;border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px;white-space:nowrap}.maplibregl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}.maplibregl-popup-anchor-top,.maplibregl-popup-anchor-top-left,.maplibregl-popup-anchor-top-right{flex-direction:column}.maplibregl-popup-anchor-bottom,.maplibregl-popup-anchor-bottom-left,.maplibregl-popup-anchor-bottom-right{flex-direction:column-reverse}.maplibregl-popup-anchor-left{flex-direction:row}.maplibregl-popup-anchor-right{flex-direction:row-reverse}.maplibregl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}.maplibregl-popup-anchor-top .maplibregl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}.maplibregl-popup-anchor-top-left .maplibregl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}.maplibregl-popup-anchor-top-right .maplibregl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}.maplibregl-popup-anchor-bottom .maplibregl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.maplibregl-popup-anchor-left .maplibregl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.maplibregl-popup-anchor-right .maplibregl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}.maplibregl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}.maplibregl-popup-close-button:hover{background-color:#0000000d}.maplibregl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px #0000001a;padding:15px 10px;pointer-events:auto;position:relative}.maplibregl-popup-anchor-top-left .maplibregl-popup-content{border-top-left-radius:0}.maplibregl-popup-anchor-top-right .maplibregl-popup-content{border-top-right-radius:0}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-content{border-bottom-left-radius:0}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-content{border-bottom-right-radius:0}.maplibregl-popup-track-pointer{display:none}.maplibregl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-map:hover .maplibregl-popup-track-pointer{display:flex}.maplibregl-map:active .maplibregl-popup-track-pointer{display:none}.maplibregl-marker{left:0;position:absolute;top:0;transition:opacity .2s;will-change:transform}.maplibregl-user-location-dot,.maplibregl-user-location-dot:before{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}.maplibregl-user-location-dot:before{animation:maplibregl-user-location-dot-pulse 2s infinite;content:"";position:absolute}.maplibregl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px #00000059;box-sizing:border-box;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px}@keyframes maplibregl-user-location-dot-pulse{0%{opacity:1;transform:scale(1)}70%{opacity:0;transform:scale(3)}to{opacity:0;transform:scale(1)}}.maplibregl-user-location-dot-stale{background-color:#aaa}.maplibregl-user-location-dot-stale:after{display:none}.maplibregl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}.maplibregl-crosshair,.maplibregl-crosshair .maplibregl-interactive,.maplibregl-crosshair .maplibregl-interactive:active{cursor:crosshair}.maplibregl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}.maplibregl-cooperative-gesture-screen{align-items:center;background:#0006;color:#fff;display:flex;font-size:1.4em;inset:0;justify-content:center;line-height:1.2;opacity:0;padding:1rem;pointer-events:none;position:absolute;transition:opacity 1s ease 1s;z-index:99999}.maplibregl-cooperative-gesture-screen.maplibregl-show{opacity:1;transition:opacity .05s}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:none}@media (hover:none),(pointer:coarse){.maplibregl-cooperative-gesture-screen .maplibregl-desktop-message{display:none}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:block}}.maplibregl-pseudo-fullscreen{height:100%!important;left:0!important;position:fixed!important;top:0!important;width:100%!important;z-index:99999}.maplibregl-popup-content{padding:1rem;border-radius:8px;box-shadow:0 2px 12px #00000026;min-width:250px}.maplibregl-popup-close-button{font-size:20px;padding:4px 8px;color:#666}.maplibregl-popup-close-button:hover{background-color:#0000000d;color:#333}.boundary-popup h4{margin:0 0 .75rem;font-size:1.1rem;font-weight:600;color:var(--text-color);border-bottom:2px solid var(--primary-color);padding-bottom:.5rem}.boundary-popup .info-row{display:flex;justify-content:space-between;padding:.25rem 0;font-size:.9rem}.boundary-popup .info-label{font-weight:500;color:var(--text-color-secondary)}.boundary-popup .info-value{color:var(--text-color);font-weight:600}
/*! tailwindcss v4.1.11 | MIT License | https://tailwindcss.com */
`],encapsulation:2})};var V5e=[{path:"button",data:{breadcrumb:"Button"},component:ug},{path:"charts",data:{breadcrumb:"Charts"},component:Xg},{path:"file",data:{breadcrumb:"File"},component:Yg},{path:"formlayout",data:{breadcrumb:"Form Layout"},component:Jg},{path:"input",data:{breadcrumb:"Input"},component:y_},{path:"list",data:{breadcrumb:"List"},component:x_},{path:"media",data:{breadcrumb:"Media"},component:I_},{path:"message",data:{breadcrumb:"Message"},component:T_},{path:"misc",data:{breadcrumb:"Misc"},component:C_},{path:"panel",data:{breadcrumb:"Panel"},component:D_},{path:"timeline",data:{breadcrumb:"Timeline"},component:L_},{path:"table",data:{breadcrumb:"Table"},component:A_},{path:"overlay",data:{breadcrumb:"Overlay"},component:F_},{path:"tree",data:{breadcrumb:"Tree"},component:V_},{path:"menu",data:{breadcrumb:"Menu"},component:H_},{path:"map",data:{breadcrumb:"Map Demo"},component:j_},{path:"map-overpass-turbo",data:{breadcrumb:"Map Overpass Turbo"},component:U_},{path:"**",redirectTo:"/notfound"}];export{V5e as default};
