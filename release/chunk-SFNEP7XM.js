import{a as Rx,b as Nx,c as iw,d as nw,e as dp,f as $1,g as yw,h as vw,i as xw,j as ww,k as pp,l as Iw,m as Lf}from"./chunk-PUR5SQ6T.js";import{a as Of,b as Vf,c as Tw,d as Cw,e as zf,f as Bf,g as Do,h as Lw,i as Aw}from"./chunk-PXT7HR56.js";import{a as Mw,b as kw,c as Ew,d as Pw,e as Dw,f as Fw,g as Ow,h as Vw,i as zw,j as Bw,k as Rw}from"./chunk-2PJKZF6L.js";import{a as dc,b as Sw}from"./chunk-7ESLZBWW.js";import{A as Yx,B as lp,C as Jx,D as ew,E as tw,F as cp,G as rw,H as sw,I as lw,J as cw,K as up,L as Jr,M as Ga,N as ya,O as sc,P as lc,Q as Sf,R as Mf,S as uw,T as dw,U as kf,V as pw,W as hw,X as mw,Y as fw,Z as gw,_ as _w,a as qx,b as jx,ba as bw,c as ic,ca as Ef,d as Hx,da as cc,e as Cs,ea as uc,f as yf,fa as Pf,g as G1,ga as Df,h as U1,ha as Af,i as Gx,ia as Ff,j as Ma,k as nc,l as ao,m as Lu,n as vf,o as np,p as $x,q as Kx,r as Wx,s as Qx,t as sp,u as ac,v as ir,w as oc,x as nr,y as rc,z as Xx}from"./chunk-M772ALOX.js";import{a as Ux}from"./chunk-C2OJCTJO.js";import{a as rp}from"./chunk-5DJH7VSQ.js";import{d as Cx,e as Tr,f as rl,j as io}from"./chunk-PBFXY3SB.js";import{$ as em,$a as tc,A as Sx,Aa as Jo,Ab as Jn,B as Ho,Ba as H1,Bb as Zx,C as Bn,Ca as Vx,D as Sa,Da as xi,Db as ln,E as q1,F as Mx,Fa as Jl,Fb as tr,G as uf,Gb as wf,H as ku,Hb as If,I as Xd,Ia as zr,Ib as Tf,J as kx,Ja as er,Jb as Cf,K as Cr,Ka as Br,Kb as sa,L as df,La as ec,Lb as Po,Ma as ws,Mb as Rr,N as Yd,Na as ui,Nb as aw,O as Ex,Oa as Xe,Ob as ow,P as Jh,Pa as _o,Q as Px,Qa as zx,Ra as gf,T as da,U as ti,V as Wt,Va as Vt,W as go,Wa as Bx,X as Eu,Y as Pu,Ya as Ot,Z as pf,Za as sl,_ as hf,_a as Jd,aa as tm,ab as ep,ba as mf,bb as _f,ca as Sr,da as im,db as Zi,f as Ca,fa as Du,fb as ko,g as ji,ga as Dx,gb as bf,h as $t,hb as Is,ia as ff,ib as Go,ja as Vr,k as bi,ka as Lx,kb as Ts,l as ei,lb as tp,m as wx,mb as no,n as Ix,na as Yr,nb as ip,o as Tx,oa as dn,ob as Ss,p as mt,pa as Ax,pb as Mr,q as ci,qa as Fx,qb as pn,ra as Gt,rb as ap,sa as Ai,sb as xf,ta as Ha,tb as Ms,ua as vn,ub as qi,v as cf,va as j1,vb as Fi,wa as Xn,wb as Eo,xa as Mo,xb as op,ya as Ox,zb as Yn}from"./chunk-4QJ5GKRY.js";import{$b as _x,$c as Ki,Aa as ot,Ab as Ui,Ac as Yl,B as sx,Bc as sf,Ca as Ja,Cb as fx,Cc as Yh,Db as gx,Dc as Be,Eb as T,Fb as L,Ga as Xh,Gb as D,Hb as oe,I as lx,Ib as qo,Ic as Vi,Jb as jo,Jc as Or,K as cx,Kb as ua,Lb as We,M as ux,Mb as Qe,Mc as sn,Nb as nt,Nc as vx,O as dx,Ob as Re,P as px,Pb as eo,Pc as lf,Qc as xs,Sb as Ie,Sc as xx,Ua as ba,Ub as M,Uc as we,Va as an,Vb as $i,Vc as Tt,Wb as Pi,Xb as ve,Ya as Zd,Yb as dt,Za as S,Zb as le,_b as ce,_c as ra,a as ai,ac as bx,b as Ta,ba as nn,bb as Su,bc as Ut,bd as Ri,ca as St,cb as At,cc as Zn,cd as to,d as I6,da as jt,dc as rf,dd as Ni,e as ox,ec as Ft,ed as R1,fc as K,ga as hx,gc as ne,gd as N1,ha as lt,hc as Dt,ib as Je,ic as ni,jb as Ht,kb as B1,kc as oi,lc as ri,ma as Z,mb as gt,mc as si,na as X,nb as mx,nc as yx,oa as it,ob as B,oc as vs,pc as bt,qb as Fe,qc as Kt,ra as Zh,rb as fo,rc as rt,s as Xl,sc as li,tc as Ir,uc as Mu,va as Ei,y as rx,yb as ue,za as wr,zb as Gi}from"./chunk-UFNSFZ2P.js";var Uy=I6((Hy,Gy)=>{"use strict";(function(t,s){typeof Hy=="object"&&typeof Gy<"u"?Gy.exports=s():typeof define=="function"&&define.amd?define(s):(t=typeof globalThis<"u"?globalThis:t||self,t.maplibregl=s())})(Hy,function(){"use strict";var t={},s={};function e(n,a,p){if(s[n]=p,n==="index"){var y="var sharedModule = {}; ("+s.shared+")(sharedModule); ("+s.worker+")(sharedModule);",C={};return s.shared(C),s.index(t,C),typeof window<"u"&&t.setWorkerUrl(window.URL.createObjectURL(new Blob([y],{type:"text/javascript"}))),t}}e("shared",["exports"],function(n){"use strict";function a(c,o,l,d){return new(l||(l=Promise))(function(m,g){function _(E){try{I(d.next(E))}catch(F){g(F)}}function x(E){try{I(d.throw(E))}catch(F){g(F)}}function I(E){var F;E.done?m(E.value):(F=E.value,F instanceof l?F:new l(function(V){V(F)})).then(_,x)}I((d=d.apply(c,o||[])).next())})}function p(c,o){this.x=c,this.y=o}function y(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var C,A;typeof SuppressedError=="function"&&SuppressedError,p.prototype={clone(){return new p(this.x,this.y)},add(c){return this.clone()._add(c)},sub(c){return this.clone()._sub(c)},multByPoint(c){return this.clone()._multByPoint(c)},divByPoint(c){return this.clone()._divByPoint(c)},mult(c){return this.clone()._mult(c)},div(c){return this.clone()._div(c)},rotate(c){return this.clone()._rotate(c)},rotateAround(c,o){return this.clone()._rotateAround(c,o)},matMult(c){return this.clone()._matMult(c)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(c){return this.x===c.x&&this.y===c.y},dist(c){return Math.sqrt(this.distSqr(c))},distSqr(c){let o=c.x-this.x,l=c.y-this.y;return o*o+l*l},angle(){return Math.atan2(this.y,this.x)},angleTo(c){return Math.atan2(this.y-c.y,this.x-c.x)},angleWith(c){return this.angleWithSep(c.x,c.y)},angleWithSep(c,o){return Math.atan2(this.x*o-this.y*c,this.x*c+this.y*o)},_matMult(c){let o=c[2]*this.x+c[3]*this.y;return this.x=c[0]*this.x+c[1]*this.y,this.y=o,this},_add(c){return this.x+=c.x,this.y+=c.y,this},_sub(c){return this.x-=c.x,this.y-=c.y,this},_mult(c){return this.x*=c,this.y*=c,this},_div(c){return this.x/=c,this.y/=c,this},_multByPoint(c){return this.x*=c.x,this.y*=c.y,this},_divByPoint(c){return this.x/=c.x,this.y/=c.y,this},_unit(){return this._div(this.mag()),this},_perp(){let c=this.y;return this.y=this.x,this.x=-c,this},_rotate(c){let o=Math.cos(c),l=Math.sin(c),d=l*this.x+o*this.y;return this.x=o*this.x-l*this.y,this.y=d,this},_rotateAround(c,o){let l=Math.cos(c),d=Math.sin(c),m=o.y+d*(this.x-o.x)+l*(this.y-o.y);return this.x=o.x+l*(this.x-o.x)-d*(this.y-o.y),this.y=m,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:p},p.convert=function(c){if(c instanceof p)return c;if(Array.isArray(c))return new p(+c[0],+c[1]);if(c.x!==void 0&&c.y!==void 0)return new p(+c.x,+c.y);throw new Error("Expected [x, y] or {x, y} point format")};var R=function(){if(A)return C;function c(o,l,d,m){this.cx=3*o,this.bx=3*(d-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(m-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=l,this.p2x=d,this.p2y=m}return A=1,C=c,c.prototype={sampleCurveX:function(o){return((this.ax*o+this.bx)*o+this.cx)*o},sampleCurveY:function(o){return((this.ay*o+this.by)*o+this.cy)*o},sampleCurveDerivativeX:function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},solveCurveX:function(o,l){if(l===void 0&&(l=1e-6),o<0)return 0;if(o>1)return 1;for(var d=o,m=0;m<8;m++){var g=this.sampleCurveX(d)-o;if(Math.abs(g)<l)return d;var _=this.sampleCurveDerivativeX(d);if(Math.abs(_)<1e-6)break;d-=g/_}var x=0,I=1;for(d=o,m=0;m<20&&(g=this.sampleCurveX(d),!(Math.abs(g-o)<l));m++)o>g?x=d:I=d,d=.5*(I-x)+x;return d},solve:function(o,l){return this.sampleCurveY(this.solveCurveX(o,l))}},C}(),$=y(R);let Y,re;function te(){return Y==null&&(Y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),Y}function Me(){if(re==null&&(re=!1,te())){let o=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(o){for(let d=0;d<5*5;d++){let m=4*d;o.fillStyle=`rgb(${m},${m+1},${m+2})`,o.fillRect(d%5,Math.floor(d/5),1,1)}let l=o.getImageData(0,0,5,5).data;for(let d=0;d<5*5*4;d++)if(d%4!=3&&l[d]!==d){re=!0;break}}}return re||!1}var ke=1e-6,je=typeof Float32Array<"u"?Float32Array:Array;function Ye(){var c=new je(9);return je!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[5]=0,c[6]=0,c[7]=0),c[0]=1,c[4]=1,c[8]=1,c}function _t(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function wt(){var c=new je(3);return je!=Float32Array&&(c[0]=0,c[1]=0,c[2]=0),c}function st(c){var o=c[0],l=c[1],d=c[2];return Math.sqrt(o*o+l*l+d*d)}function yt(c,o,l){var d=new je(3);return d[0]=c,d[1]=o,d[2]=l,d}function Rt(c,o,l){return c[0]=o[0]+l[0],c[1]=o[1]+l[1],c[2]=o[2]+l[2],c}function Mt(c,o,l){return c[0]=o[0]*l,c[1]=o[1]*l,c[2]=o[2]*l,c}function Xt(c,o,l){var d=o[0],m=o[1],g=o[2],_=l[0],x=l[1],I=l[2];return c[0]=m*I-g*x,c[1]=g*_-d*I,c[2]=d*x-m*_,c}var mi,hi=st;function Ci(c,o,l){var d=o[0],m=o[1],g=o[2],_=o[3];return c[0]=l[0]*d+l[4]*m+l[8]*g+l[12]*_,c[1]=l[1]*d+l[5]*m+l[9]*g+l[13]*_,c[2]=l[2]*d+l[6]*m+l[10]*g+l[14]*_,c[3]=l[3]*d+l[7]*m+l[11]*g+l[15]*_,c}function kn(){var c=new je(4);return je!=Float32Array&&(c[0]=0,c[1]=0,c[2]=0),c[3]=1,c}function ka(c,o,l,d){var m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"zyx",g=Math.PI/360;o*=g,d*=g,l*=g;var _=Math.sin(o),x=Math.cos(o),I=Math.sin(l),E=Math.cos(l),F=Math.sin(d),V=Math.cos(d);switch(m){case"xyz":c[0]=_*E*V+x*I*F,c[1]=x*I*V-_*E*F,c[2]=x*E*F+_*I*V,c[3]=x*E*V-_*I*F;break;case"xzy":c[0]=_*E*V-x*I*F,c[1]=x*I*V-_*E*F,c[2]=x*E*F+_*I*V,c[3]=x*E*V+_*I*F;break;case"yxz":c[0]=_*E*V+x*I*F,c[1]=x*I*V-_*E*F,c[2]=x*E*F-_*I*V,c[3]=x*E*V+_*I*F;break;case"yzx":c[0]=_*E*V+x*I*F,c[1]=x*I*V+_*E*F,c[2]=x*E*F-_*I*V,c[3]=x*E*V-_*I*F;break;case"zxy":c[0]=_*E*V-x*I*F,c[1]=x*I*V+_*E*F,c[2]=x*E*F+_*I*V,c[3]=x*E*V-_*I*F;break;case"zyx":c[0]=_*E*V-x*I*F,c[1]=x*I*V+_*E*F,c[2]=x*E*F-_*I*V,c[3]=x*E*V+_*I*F;break;default:throw new Error("Unknown angle order "+m)}return c}function Si(){var c=new je(2);return je!=Float32Array&&(c[0]=0,c[1]=0),c}function Yi(c,o){var l=new je(2);return l[0]=c,l[1]=o,l}wt(),mi=new je(4),je!=Float32Array&&(mi[0]=0,mi[1]=0,mi[2]=0,mi[3]=0),wt(),yt(1,0,0),yt(0,1,0),kn(),kn(),Ye(),Si();let di=8192;function Ea(c,o,l){return o*(di/(c.tileSize*Math.pow(2,l-c.tileID.overscaledZ)))}function Tn(c,o){return(c%o+o)%o}function Fo(c,o,l){return c*(1-l)+o*l}function kr(c){if(c<=0)return 0;if(c>=1)return 1;let o=c*c,l=o*c;return 4*(c<.5?l:3*(c-o)+l-.75)}function vo(c,o,l,d){let m=new $(c,o,l,d);return g=>m.solve(g)}let ea=vo(.25,.1,.25,1);function xa(c,o,l){return Math.min(l,Math.max(o,c))}function oo(c,o,l){let d=l-o,m=((c-o)%d+d)%d+o;return m===o?l:m}function jn(c,...o){for(let l of o)for(let d in l)c[d]=l[d];return c}let Fs=1;function lr(c,o,l){let d={};for(let m in c)d[m]=o.call(this,c[m],m,c);return d}function kc(c,o,l){let d={};for(let m in c)o.call(this,c[m],m,c)&&(d[m]=c[m]);return d}function cr(c){return Array.isArray(c)?c.map(cr):typeof c=="object"&&c?lr(c,cr):c}let Ec={};function Pa(c){Ec[c]||(typeof console<"u"&&console.warn(c),Ec[c]=!0)}function Uo(c,o,l){return(l.y-c.y)*(o.x-c.x)>(o.y-c.y)*(l.x-c.x)}function Er(c){return typeof WorkerGlobalScope<"u"&&c!==void 0&&c instanceof WorkerGlobalScope}let Hn=null;function as(c){return typeof ImageBitmap<"u"&&c instanceof ImageBitmap}let Os="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function gl(c,o,l,d,m){return a(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");let g=new VideoFrame(c,{timestamp:0});try{let _=g?.format;if(!_||!_.startsWith("BGR")&&!_.startsWith("RGB"))throw new Error(`Unrecognized format ${_}`);let x=_.startsWith("BGR"),I=new Uint8ClampedArray(d*m*4);if(yield g.copyTo(I,function(E,F,V,N,q){let G=4*Math.max(-F,0),U=(Math.max(0,V)-V)*N*4+G,Q=4*N,ae=Math.max(0,F),ge=Math.max(0,V);return{rect:{x:ae,y:ge,width:Math.min(E.width,F+N)-ae,height:Math.min(E.height,V+q)-ge},layout:[{offset:U,stride:Q}]}}(c,o,l,d,m)),x)for(let E=0;E<I.length;E+=4){let F=I[E];I[E]=I[E+2],I[E+2]=F}return I}finally{g.close()}})}let os,ur;function _l(c,o,l,d){return c.addEventListener(o,l,d),{unsubscribe:()=>{c.removeEventListener(o,l,d)}}}function bl(c){return c*Math.PI/180}function xo(c){return c/Math.PI*180}let ze={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},ee={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},J="AbortError";class de extends Error{constructor(o=J){super(o instanceof Error?o.message:o),this.name=J,o instanceof Error&&o.stack&&(this.stack=o.stack)}}function Ee(c){return c.name===J}let De={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Ne(c){return De.REGISTERED_PROTOCOLS[c.substring(0,c.indexOf("://"))]}let Oe="global-dispatcher";class Le extends Error{constructor(o,l,d,m){super(`AJAXError: ${l} (${o}): ${d}`),this.status=o,this.statusText=l,this.url=d,this.body=m}}let Ke=()=>Er(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,ft=function(c,o){if(/:\/\//.test(c.url)&&!/^https?:|^file:/.test(c.url)){let d=Ne(c.url);if(d)return d(c,o);if(Er(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:c,targetMapId:Oe},o)}if(!(/^file:/.test(l=c.url)||/^file:/.test(Ke())&&!/^\w+:/.test(l))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(d,m){return a(this,void 0,void 0,function*(){let g=new Request(d.url,{method:d.method||"GET",body:d.body,credentials:d.credentials,headers:d.headers,cache:d.cache,referrer:Ke(),signal:m.signal}),_,x;d.type!=="json"||g.headers.has("Accept")||g.headers.set("Accept","application/json");try{_=yield fetch(g)}catch(E){throw Ee(E)?E:new Le(0,E.message,d.url,new Blob)}if(!_.ok){let E=yield _.blob();throw new Le(_.status,_.statusText,d.url,E)}x=d.type==="arrayBuffer"||d.type==="image"?_.arrayBuffer():d.type==="json"?_.json():_.text();let I=yield x;return m.signal.throwIfAborted(),{data:I,cacheControl:_.headers.get("Cache-Control"),expires:_.headers.get("Expires")}})}(c,o);if(Er(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:c,mustQueue:!0,targetMapId:Oe},o)}var l;return function(d,m){return new Promise((g,_)=>{var x;let I=new XMLHttpRequest;I.open(d.method||"GET",d.url,!0),d.type!=="arrayBuffer"&&d.type!=="image"||(I.responseType="arraybuffer");for(let E in d.headers)I.setRequestHeader(E,d.headers[E]);d.type==="json"&&(I.responseType="text",!((x=d.headers)===null||x===void 0)&&x.Accept||I.setRequestHeader("Accept","application/json")),I.withCredentials=d.credentials==="include",I.onerror=()=>{_(new Error(I.statusText))},I.onload=()=>{if(!m.signal.aborted)if((I.status>=200&&I.status<300||I.status===0)&&I.response!==null){let E=I.response;if(d.type==="json")try{E=JSON.parse(I.response)}catch(F){return void _(F)}g({data:E,cacheControl:I.getResponseHeader("Cache-Control"),expires:I.getResponseHeader("Expires")})}else{let E=new Blob([I.response],{type:I.getResponseHeader("Content-Type")});_(new Le(I.status,I.statusText,d.url,E))}},m.signal.addEventListener("abort",()=>{I.abort(),_(new de(m.signal.reason))}),I.send(d.body)})}(c,o)};function ct(c){if(!c||c.indexOf("://")<=0||c.indexOf("data:image/")===0||c.indexOf("blob:")===0)return!0;let o=new URL(c),l=window.location;return o.protocol===l.protocol&&o.host===l.host}function zt(c,o,l){l[c]&&l[c].indexOf(o)!==-1||(l[c]=l[c]||[],l[c].push(o))}function Qt(c,o,l){if(l&&l[c]){let d=l[c].indexOf(o);d!==-1&&l[c].splice(d,1)}}class fi{constructor(o,l={}){jn(this,l),this.type=o}}class cn extends fi{constructor(o,l={}){super("error",jn({error:o},l))}}class Wi{on(o,l){return this._listeners=this._listeners||{},zt(o,l,this._listeners),{unsubscribe:()=>{this.off(o,l)}}}off(o,l){return Qt(o,l,this._listeners),Qt(o,l,this._oneTimeListeners),this}once(o,l){return l?(this._oneTimeListeners=this._oneTimeListeners||{},zt(o,l,this._oneTimeListeners),this):new Promise(d=>this.once(o,d))}fire(o,l){typeof o=="string"&&(o=new fi(o,l||{}));let d=o.type;if(this.listens(d)){o.target=this;let m=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];for(let x of m)x.call(this,o);let g=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];for(let x of g)Qt(d,x,this._oneTimeListeners),x.call(this,o);let _=this._eventedParent;_&&(jn(o,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),_.fire(o))}else o instanceof cn&&console.error(o.error);return this}listens(o){return this._listeners&&this._listeners[o]&&this._listeners[o].length>0||this._oneTimeListeners&&this._oneTimeListeners[o]&&this._oneTimeListeners[o].length>0||this._eventedParent&&this._eventedParent.listens(o)}setEventedParent(o,l){return this._eventedParent=o,this._eventedParentData=l,this}}var He={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number",length:2},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},"font-faces":{type:"fontFaces"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},encoding:{type:"enum",values:{mvt:{},mlt:{}},default:"mvt"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"filter"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},filter:{type:"boolean",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"expression_name",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}},interpolation:{type:"array",value:"interpolation_name",minimum:1},interpolation_name:{type:"enum",values:{linear:{syntax:{overloads:[{parameters:[],"output-type":"interpolation"}],parameters:[]}},exponential:{syntax:{overloads:[{parameters:["base"],"output-type":"interpolation"}],parameters:[{name:"base",type:"number literal"}]}},"cubic-bezier":{syntax:{overloads:[{parameters:["x1","y1","x2","y2"],"output-type":"interpolation"}],parameters:[{name:"x1",type:"number literal"},{name:"y1",type:"number literal"},{name:"x2",type:"number literal"},{name:"y2",type:"number literal"}]}}}}};let hn=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Ra(c,o){let l={};for(let d in c)d!=="ref"&&(l[d]=c[d]);return hn.forEach(d=>{d in o&&(l[d]=o[d])}),l}function gi(c,o){if(Array.isArray(c)){if(!Array.isArray(o)||c.length!==o.length)return!1;for(let l=0;l<c.length;l++)if(!gi(c[l],o[l]))return!1;return!0}if(typeof c=="object"&&c!==null&&o!==null){if(typeof o!="object"||Object.keys(c).length!==Object.keys(o).length)return!1;for(let l in c)if(!gi(c[l],o[l]))return!1;return!0}return c===o}function on(c,o){c.push(o)}function Na(c,o,l){on(l,{command:"addSource",args:[c,o[c]]})}function Cn(c,o,l){on(o,{command:"removeSource",args:[c]}),l[c]=!0}function Gn(c,o,l,d){Cn(c,l,d),Na(c,o,l)}function mn(c,o,l){let d;for(d in c[l])if(Object.prototype.hasOwnProperty.call(c[l],d)&&d!=="data"&&!gi(c[l][d],o[l][d]))return!1;for(d in o[l])if(Object.prototype.hasOwnProperty.call(o[l],d)&&d!=="data"&&!gi(c[l][d],o[l][d]))return!1;return!0}function ma(c,o,l,d,m,g){c=c||{},o=o||{};for(let _ in c)Object.prototype.hasOwnProperty.call(c,_)&&(gi(c[_],o[_])||l.push({command:g,args:[d,_,o[_],m]}));for(let _ in o)Object.prototype.hasOwnProperty.call(o,_)&&!Object.prototype.hasOwnProperty.call(c,_)&&(gi(c[_],o[_])||l.push({command:g,args:[d,_,o[_],m]}))}function Pc(c){return c.id}function Dc(c,o){return c[o.id]=o,c}class vt{constructor(o,l,d,m){this.message=(o?`${o}: `:"")+d,m&&(this.identifier=m),l!=null&&l.__line__&&(this.line=l.__line__)}}function ro(c,...o){for(let l of o)for(let d in l)c[d]=l[d];return c}class so extends Error{constructor(o,l){super(l),this.message=l,this.key=o}}class Hu{constructor(o,l=[]){this.parent=o,this.bindings={};for(let[d,m]of l)this.bindings[d]=m}concat(o){return new Hu(this,o)}get(o){if(this.bindings[o])return this.bindings[o];if(this.parent)return this.parent.get(o);throw new Error(`${o} not found in scope.`)}has(o){return!!this.bindings[o]||!!this.parent&&this.parent.has(o)}}let $o={kind:"null"},Pt={kind:"number"},wi={kind:"string"},Ii={kind:"boolean"},Oo={kind:"color"},Gu={kind:"projectionDefinition"},Hr={kind:"object"},yi={kind:"value"},Lc={kind:"collator"},Ac={kind:"formatted"},Uu={kind:"padding"},yl={kind:"colorArray"},Fc={kind:"numberArray"},vl={kind:"resolvedImage"},Oc={kind:"variableAnchorOffsetCollection"};function lo(c,o){return{kind:"array",itemType:c,N:o}}function rn(c){if(c.kind==="array"){let o=rn(c.itemType);return typeof c.N=="number"?`array<${o}, ${c.N}>`:c.itemType.kind==="value"?"array":`array<${o}>`}return c.kind}let $u=[$o,Pt,wi,Ii,Oo,Gu,Ac,Hr,lo(yi),Uu,Fc,yl,vl,Oc];function xl(c,o){if(o.kind==="error")return null;if(c.kind==="array"){if(o.kind==="array"&&(o.N===0&&o.itemType.kind==="value"||!xl(c.itemType,o.itemType))&&(typeof c.N!="number"||c.N===o.N))return null}else{if(c.kind===o.kind)return null;if(c.kind==="value"){for(let l of $u)if(!xl(l,o))return null}}return`Expected ${rn(c)} but found ${rn(o)} instead.`}function Vc(c,o){return o.some(l=>l.kind===c.kind)}function Vs(c,o){return o.some(l=>l==="null"?c===null:l==="array"?Array.isArray(c):l==="object"?c&&!Array.isArray(c)&&typeof c=="object":l===typeof c)}function dr(c,o){return c.kind==="array"&&o.kind==="array"?c.itemType.kind===o.itemType.kind&&typeof c.N=="number":c.kind===o.kind}let Pm=.96422,zs=.82521,Ku=4/29,Un=6/29,Dm=3*Un*Un,Lm=Un*Un*Un,zc=Math.PI/180,Am=180/Math.PI;function Fm(c){return(c%=360)<0&&(c+=360),c}function Om([c,o,l,d]){let m,g,_=Op((.2225045*(c=Wu(c))+.7168786*(o=Wu(o))+.0606169*(l=Wu(l)))/1);c===o&&o===l?m=g=_:(m=Op((.4360747*c+.3850649*o+.1430804*l)/Pm),g=Op((.0139322*c+.0971045*o+.7141733*l)/zs));let x=116*_-16;return[x<0?0:x,500*(m-_),200*(_-g),d]}function Wu(c){return c<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function Op(c){return c>Lm?Math.pow(c,1/3):c/Dm+Ku}function Vp([c,o,l,d]){let m=(c+16)/116,g=isNaN(o)?m:m+o/500,_=isNaN(l)?m:m-l/200;return m=1*Bp(m),g=Pm*Bp(g),_=zs*Bp(_),[zp(3.1338561*g-1.6168667*m-.4906146*_),zp(-.9787684*g+1.9161415*m+.033454*_),zp(.0719453*g-.2289914*m+1.4052427*_),d]}function zp(c){return(c=c<=.00304?12.92*c:1.055*Math.pow(c,1/2.4)-.055)<0?0:c>1?1:c}function Bp(c){return c>Un?c*c*c:Dm*(c-Ku)}let m_=Object.hasOwn||function(c,o){return Object.prototype.hasOwnProperty.call(c,o)};function Bc(c,o){return m_(c,o)?c[o]:void 0}function Qu(c){return parseInt(c.padEnd(2,c),16)/255}function Vm(c,o){return wl(o?c/100:c,0,1)}function wl(c,o,l){return Math.min(Math.max(o,c),l)}function Rp(c){return!c.some(Number.isNaN)}let Rc={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function rs(c,o,l){return c+l*(o-c)}function Il(c,o,l){return c.map((d,m)=>rs(d,o[m],l))}class Ti{constructor(o,l,d,m=1,g=!0){this.r=o,this.g=l,this.b=d,this.a=m,g||(this.r*=m,this.g*=m,this.b*=m,m||this.overwriteGetter("rgb",[o,l,d,m]))}static parse(o){if(o instanceof Ti)return o;if(typeof o!="string")return;let l=function(d){if((d=d.toLowerCase().trim())==="transparent")return[0,0,0,0];let m=Bc(Rc,d);if(m){let[_,x,I]=m;return[_/255,x/255,I/255,1]}if(d.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(d)){let _=d.length<6?1:2,x=1;return[Qu(d.slice(x,x+=_)),Qu(d.slice(x,x+=_)),Qu(d.slice(x,x+=_)),Qu(d.slice(x,x+_)||"ff")]}if(d.startsWith("rgb")){let _=d.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(_){let[x,I,E,F,V,N,q,G,U,Q,ae,ge]=_,se=[F||" ",q||" ",Q].join("");if(se==="  "||se==="  /"||se===",,"||se===",,,"){let pe=[E,N,U].join(""),ye=pe==="%%%"?100:pe===""?255:0;if(ye){let Te=[wl(+I/ye,0,1),wl(+V/ye,0,1),wl(+G/ye,0,1),ae?Vm(+ae,ge):1];if(Rp(Te))return Te}}return}}let g=d.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(g){let[_,x,I,E,F,V,N,q,G]=g,U=[I||" ",F||" ",N].join("");if(U==="  "||U==="  /"||U===",,"||U===",,,"){let Q=[+x,wl(+E,0,100),wl(+V,0,100),q?Vm(+q,G):1];if(Rp(Q))return function([ae,ge,se,pe]){function ye(Te){let Ve=(Te+ae/30)%12,at=ge*Math.min(se,1-se);return se-at*Math.max(-1,Math.min(Ve-3,9-Ve,1))}return ae=Fm(ae),ge/=100,se/=100,[ye(0),ye(8),ye(4),pe]}(Q)}}}(o);return l?new Ti(...l,!1):void 0}get rgb(){let{r:o,g:l,b:d,a:m}=this,g=m||1/0;return this.overwriteGetter("rgb",[o/g,l/g,d/g,m])}get hcl(){return this.overwriteGetter("hcl",function(o){let[l,d,m,g]=Om(o),_=Math.sqrt(d*d+m*m);return[Math.round(1e4*_)?Fm(Math.atan2(m,d)*Am):NaN,_,l,g]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Om(this.rgb))}overwriteGetter(o,l){return Object.defineProperty(this,o,{value:l}),l}toString(){let[o,l,d,m]=this.rgb;return`rgba(${[o,l,d].map(g=>Math.round(255*g)).join(",")},${m})`}static interpolate(o,l,d,m="rgb"){switch(m){case"rgb":{let[g,_,x,I]=Il(o.rgb,l.rgb,d);return new Ti(g,_,x,I,!1)}case"hcl":{let[g,_,x,I]=o.hcl,[E,F,V,N]=l.hcl,q,G;if(isNaN(g)||isNaN(E))isNaN(g)?isNaN(E)?q=NaN:(q=E,x!==1&&x!==0||(G=F)):(q=g,V!==1&&V!==0||(G=_));else{let se=E-g;E>g&&se>180?se-=360:E<g&&g-E>180&&(se+=360),q=g+d*se}let[U,Q,ae,ge]=function([se,pe,ye,Te]){return se=isNaN(se)?0:se*zc,Vp([ye,Math.cos(se)*pe,Math.sin(se)*pe,Te])}([q,G??rs(_,F,d),rs(x,V,d),rs(I,N,d)]);return new Ti(U,Q,ae,ge,!1)}case"lab":{let[g,_,x,I]=Vp(Il(o.lab,l.lab,d));return new Ti(g,_,x,I,!1)}}}}Ti.black=new Ti(0,0,0,1),Ti.white=new Ti(1,1,1,1),Ti.transparent=new Ti(0,0,0,0),Ti.red=new Ti(1,0,0,1);class Np{constructor(o,l,d){this.sensitivity=o?l?"variant":"case":l?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(o,l){return this.collator.compare(o,l)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}let f_=["bottom","center","top"];class qp{constructor(o,l,d,m,g,_){this.text=o,this.image=l,this.scale=d,this.fontStack=m,this.textColor=g,this.verticalAlign=_}}class wo{constructor(o){this.sections=o}static fromString(o){return new wo([new qp(o,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(o=>o.text.length!==0||o.image&&o.image.name.length!==0)}static factory(o){return o instanceof wo?o:wo.fromString(o)}toString(){return this.sections.length===0?"":this.sections.map(o=>o.text).join("")}}class Wa{constructor(o){this.values=o.slice()}static parse(o){if(o instanceof Wa)return o;if(typeof o=="number")return new Wa([o,o,o,o]);if(Array.isArray(o)&&!(o.length<1||o.length>4)){for(let l of o)if(typeof l!="number")return;switch(o.length){case 1:o=[o[0],o[0],o[0],o[0]];break;case 2:o=[o[0],o[1],o[0],o[1]];break;case 3:o=[o[0],o[1],o[2],o[1]]}return new Wa(o)}}toString(){return JSON.stringify(this.values)}static interpolate(o,l,d){return new Wa(Il(o.values,l.values,d))}}class On{constructor(o){this.values=o.slice()}static parse(o){if(o instanceof On)return o;if(typeof o=="number")return new On([o]);if(Array.isArray(o)){for(let l of o)if(typeof l!="number")return;return new On(o)}}toString(){return JSON.stringify(this.values)}static interpolate(o,l,d){return new On(Il(o.values,l.values,d))}}class pi{constructor(o){this.values=o.slice()}static parse(o){if(o instanceof pi)return o;if(typeof o=="string"){let d=Ti.parse(o);return d?new pi([d]):void 0}if(!Array.isArray(o))return;let l=[];for(let d of o){if(typeof d!="string")return;let m=Ti.parse(d);if(!m)return;l.push(m)}return new pi(l)}toString(){return JSON.stringify(this.values)}static interpolate(o,l,d,m="rgb"){let g=[];if(o.values.length!=l.values.length)throw new Error(`colorArray: Arrays have mismatched length (${o.values.length} vs. ${l.values.length}), cannot interpolate.`);for(let _=0;_<o.values.length;_++)g.push(Ti.interpolate(o.values[_],l.values[_],d,m));return new pi(g)}}class fn extends Error{constructor(o){super(o),this.name="RuntimeError"}toJSON(){return this.message}}let ss=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class co{constructor(o){this.values=o.slice()}static parse(o){if(o instanceof co)return o;if(Array.isArray(o)&&!(o.length<1)&&o.length%2==0){for(let l=0;l<o.length;l+=2){let d=o[l],m=o[l+1];if(typeof d!="string"||!ss.has(d)||!Array.isArray(m)||m.length!==2||typeof m[0]!="number"||typeof m[1]!="number")return}return new co(o)}}toString(){return JSON.stringify(this.values)}static interpolate(o,l,d){let m=o.values,g=l.values;if(m.length!==g.length)throw new fn(`Cannot interpolate values of different length. from: ${o.toString()}, to: ${l.toString()}`);let _=[];for(let x=0;x<m.length;x+=2){if(m[x]!==g[x])throw new fn(`Cannot interpolate values containing mismatched anchors. from[${x}]: ${m[x]}, to[${x}]: ${g[x]}`);_.push(m[x]);let[I,E]=m[x+1],[F,V]=g[x+1];_.push([rs(I,F,d),rs(E,V,d)])}return new co(_)}}class Vo{constructor(o){this.name=o.name,this.available=o.available}toString(){return this.name}static fromString(o){return o?new Vo({name:o,available:!1}):null}}class uo{constructor(o,l,d){this.from=o,this.to=l,this.transition=d}static interpolate(o,l,d){return new uo(o,l,d)}static parse(o){return o instanceof uo?o:Array.isArray(o)&&o.length===3&&typeof o[0]=="string"&&typeof o[1]=="string"&&typeof o[2]=="number"?new uo(o[0],o[1],o[2]):typeof o=="object"&&typeof o.from=="string"&&typeof o.to=="string"&&typeof o.transition=="number"?new uo(o.from,o.to,o.transition):typeof o=="string"?new uo(o,o,1):void 0}}function Tl(c,o,l,d){return typeof c=="number"&&c>=0&&c<=255&&typeof o=="number"&&o>=0&&o<=255&&typeof l=="number"&&l>=0&&l<=255?d===void 0||typeof d=="number"&&d>=0&&d<=1?null:`Invalid rgba value [${[c,o,l,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof d=="number"?[c,o,l,d]:[c,o,l]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function ls(c){if(c===null||typeof c=="string"||typeof c=="boolean"||typeof c=="number"||c instanceof uo||c instanceof Ti||c instanceof Np||c instanceof wo||c instanceof Wa||c instanceof On||c instanceof pi||c instanceof co||c instanceof Vo)return!0;if(Array.isArray(c)){for(let o of c)if(!ls(o))return!1;return!0}if(typeof c=="object"){for(let o in c)if(!ls(c[o]))return!1;return!0}return!1}function ta(c){if(c===null)return $o;if(typeof c=="string")return wi;if(typeof c=="boolean")return Ii;if(typeof c=="number")return Pt;if(c instanceof Ti)return Oo;if(c instanceof uo)return Gu;if(c instanceof Np)return Lc;if(c instanceof wo)return Ac;if(c instanceof Wa)return Uu;if(c instanceof On)return Fc;if(c instanceof pi)return yl;if(c instanceof co)return Oc;if(c instanceof Vo)return vl;if(Array.isArray(c)){let o=c.length,l;for(let d of c){let m=ta(d);if(l){if(l===m)continue;l=yi;break}l=m}return lo(l||yi,o)}return Hr}function Bs(c){let o=typeof c;return c===null?"":o==="string"||o==="number"||o==="boolean"?String(c):c instanceof Ti||c instanceof uo||c instanceof wo||c instanceof Wa||c instanceof On||c instanceof pi||c instanceof co||c instanceof Vo?c.toString():JSON.stringify(c)}class Pr{constructor(o,l){this.type=o,this.value=l}static parse(o,l){if(o.length!==2)return l.error(`'literal' expression requires exactly one argument, but found ${o.length-1} instead.`);if(!ls(o[1]))return l.error("invalid value");let d=o[1],m=ta(d),g=l.expectedType;return m.kind!=="array"||m.N!==0||!g||g.kind!=="array"||typeof g.N=="number"&&g.N!==0||(m=g),new Pr(m,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}let Zu={string:wi,number:Pt,boolean:Ii,object:Hr};class Io{constructor(o,l){this.type=o,this.args=l}static parse(o,l){if(o.length<2)return l.error("Expected at least one argument.");let d,m=1,g=o[0];if(g==="array"){let x,I;if(o.length>2){let E=o[1];if(typeof E!="string"||!(E in Zu)||E==="object")return l.error('The item type argument of "array" must be one of string, number, boolean',1);x=Zu[E],m++}else x=yi;if(o.length>3){if(o[2]!==null&&(typeof o[2]!="number"||o[2]<0||o[2]!==Math.floor(o[2])))return l.error('The length argument to "array" must be a positive integer literal',2);I=o[2],m++}d=lo(x,I)}else{if(!Zu[g])throw new Error(`Types doesn't contain name = ${g}`);d=Zu[g]}let _=[];for(;m<o.length;m++){let x=l.parse(o[m],m,yi);if(!x)return null;_.push(x)}return new Io(d,_)}evaluate(o){for(let l=0;l<this.args.length;l++){let d=this.args[l].evaluate(o);if(!xl(this.type,ta(d)))return d;if(l===this.args.length-1)throw new fn(`Expected value to be of type ${rn(this.type)}, but found ${rn(ta(d))} instead.`)}throw new Error}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}}let Rs={"to-boolean":Ii,"to-color":Oo,"to-number":Pt,"to-string":wi};class Gr{constructor(o,l){this.type=o,this.args=l}static parse(o,l){if(o.length<2)return l.error("Expected at least one argument.");let d=o[0];if(!Rs[d])throw new Error(`Can't parse ${d} as it is not part of the known types`);if((d==="to-boolean"||d==="to-string")&&o.length!==2)return l.error("Expected one argument.");let m=Rs[d],g=[];for(let _=1;_<o.length;_++){let x=l.parse(o[_],_,yi);if(!x)return null;g.push(x)}return new Gr(m,g)}evaluate(o){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(o);case"color":{let l,d;for(let m of this.args){if(l=m.evaluate(o),d=null,l instanceof Ti)return l;if(typeof l=="string"){let g=o.parseColor(l);if(g)return g}else if(Array.isArray(l)&&(d=l.length<3||l.length>4?`Invalid rgba value ${JSON.stringify(l)}: expected an array containing either three or four numeric values.`:Tl(l[0],l[1],l[2],l[3]),!d))return new Ti(l[0]/255,l[1]/255,l[2]/255,l[3])}throw new fn(d||`Could not parse color from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"padding":{let l;for(let d of this.args){l=d.evaluate(o);let m=Wa.parse(l);if(m)return m}throw new fn(`Could not parse padding from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"numberArray":{let l;for(let d of this.args){l=d.evaluate(o);let m=On.parse(l);if(m)return m}throw new fn(`Could not parse numberArray from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"colorArray":{let l;for(let d of this.args){l=d.evaluate(o);let m=pi.parse(l);if(m)return m}throw new fn(`Could not parse colorArray from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"variableAnchorOffsetCollection":{let l;for(let d of this.args){l=d.evaluate(o);let m=co.parse(l);if(m)return m}throw new fn(`Could not parse variableAnchorOffsetCollection from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"number":{let l=null;for(let d of this.args){if(l=d.evaluate(o),l===null)return 0;let m=Number(l);if(!isNaN(m))return m}throw new fn(`Could not convert ${JSON.stringify(l)} to number.`)}case"formatted":return wo.fromString(Bs(this.args[0].evaluate(o)));case"resolvedImage":return Vo.fromString(Bs(this.args[0].evaluate(o)));case"projectionDefinition":return this.args[0].evaluate(o);default:return Bs(this.args[0].evaluate(o))}}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}}let zm=["Unknown","Point","LineString","Polygon"];class jp{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?zm[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(o){let l=this._parseColorCache.get(o);return l||(l=Ti.parse(o),this._parseColorCache.set(o,l)),l}}class Ns{constructor(o,l,d=[],m,g=new Hu,_=[]){this.registry=o,this.path=d,this.key=d.map(x=>`[${x}]`).join(""),this.scope=g,this.errors=_,this.expectedType=m,this._isConstant=l}parse(o,l,d,m,g={}){return l?this.concat(l,d,m)._parse(o,g):this._parse(o,g)}_parse(o,l){function d(m,g,_){return _==="assert"?new Io(g,[m]):_==="coerce"?new Gr(g,[m]):m}if(o!==null&&typeof o!="string"&&typeof o!="boolean"&&typeof o!="number"||(o=["literal",o]),Array.isArray(o)){if(o.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');let m=o[0];if(typeof m!="string")return this.error(`Expression name must be a string, but found ${typeof m} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;let g=this.registry[m];if(g){let _=g.parse(o,this);if(!_)return null;if(this.expectedType){let x=this.expectedType,I=_.type;if(x.kind!=="string"&&x.kind!=="number"&&x.kind!=="boolean"&&x.kind!=="object"&&x.kind!=="array"||I.kind!=="value"){if(x.kind==="projectionDefinition"&&["string","array"].includes(I.kind)||["color","formatted","resolvedImage"].includes(x.kind)&&["value","string"].includes(I.kind)||["padding","numberArray"].includes(x.kind)&&["value","number","array"].includes(I.kind)||x.kind==="colorArray"&&["value","string","array"].includes(I.kind)||x.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(I.kind))_=d(_,x,l.typeAnnotation||"coerce");else if(this.checkSubtype(x,I))return null}else _=d(_,x,l.typeAnnotation||"assert")}if(!(_ instanceof Pr)&&_.type.kind!=="resolvedImage"&&this._isConstant(_)){let x=new jp;try{_=new Pr(_.type,_.evaluate(x))}catch(I){return this.error(I.message),null}}return _}return this.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(o===void 0?"'undefined' value invalid. Use null instead.":typeof o=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof o} instead.`)}concat(o,l,d){let m=typeof o=="number"?this.path.concat(o):this.path,g=d?this.scope.concat(d):this.scope;return new Ns(this.registry,this._isConstant,m,l||null,g,this.errors)}error(o,...l){let d=`${this.key}${l.map(m=>`[${m}]`).join("")}`;this.errors.push(new so(d,o))}checkSubtype(o,l){let d=xl(o,l);return d&&this.error(d),d}}class gn{constructor(o,l){this.type=l.type,this.bindings=[].concat(o),this.result=l}evaluate(o){return this.result.evaluate(o)}eachChild(o){for(let l of this.bindings)o(l[1]);o(this.result)}static parse(o,l){if(o.length<4)return l.error(`Expected at least 3 arguments, but found ${o.length-1} instead.`);let d=[];for(let g=1;g<o.length-1;g+=2){let _=o[g];if(typeof _!="string")return l.error(`Expected string, but found ${typeof _} instead.`,g);if(/[^a-zA-Z0-9_]/.test(_))return l.error("Variable names must contain only alphanumeric characters or '_'.",g);let x=l.parse(o[g+1],g+1);if(!x)return null;d.push([_,x])}let m=l.parse(o[o.length-1],o.length-1,l.expectedType,d);return m?new gn(d,m):null}outputDefined(){return this.result.outputDefined()}}class Cl{constructor(o,l){this.type=l.type,this.name=o,this.boundExpression=l}static parse(o,l){if(o.length!==2||typeof o[1]!="string")return l.error("'var' expression requires exactly one string literal argument.");let d=o[1];return l.scope.has(d)?new Cl(d,l.scope.get(d)):l.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(o){return this.boundExpression.evaluate(o)}eachChild(){}outputDefined(){return!1}}class Oi{constructor(o,l,d){this.type=o,this.index=l,this.input=d}static parse(o,l){if(o.length!==3)return l.error(`Expected 2 arguments, but found ${o.length-1} instead.`);let d=l.parse(o[1],1,Pt),m=l.parse(o[2],2,lo(l.expectedType||yi));return d&&m?new Oi(m.type.itemType,d,m):null}evaluate(o){let l=this.index.evaluate(o),d=this.input.evaluate(o);if(l<0)throw new fn(`Array index out of bounds: ${l} < 0.`);if(l>=d.length)throw new fn(`Array index out of bounds: ${l} > ${d.length-1}.`);if(l!==Math.floor(l))throw new fn(`Array index must be an integer, but found ${l} instead.`);return d[l]}eachChild(o){o(this.index),o(this.input)}outputDefined(){return!1}}class vi{constructor(o,l){this.type=Ii,this.needle=o,this.haystack=l}static parse(o,l){if(o.length!==3)return l.error(`Expected 2 arguments, but found ${o.length-1} instead.`);let d=l.parse(o[1],1,yi),m=l.parse(o[2],2,yi);return d&&m?Vc(d.type,[Ii,wi,Pt,$o,yi])?new vi(d,m):l.error(`Expected first argument to be of type boolean, string, number or null, but found ${rn(d.type)} instead`):null}evaluate(o){let l=this.needle.evaluate(o),d=this.haystack.evaluate(o);if(!d)return!1;if(!Vs(l,["boolean","string","number","null"]))throw new fn(`Expected first argument to be of type boolean, string, number or null, but found ${rn(ta(l))} instead.`);if(!Vs(d,["string","array"]))throw new fn(`Expected second argument to be of type array or string, but found ${rn(ta(d))} instead.`);return d.indexOf(l)>=0}eachChild(o){o(this.needle),o(this.haystack)}outputDefined(){return!0}}class Sl{constructor(o,l,d){this.type=Pt,this.needle=o,this.haystack=l,this.fromIndex=d}static parse(o,l){if(o.length<=2||o.length>=5)return l.error(`Expected 2 or 3 arguments, but found ${o.length-1} instead.`);let d=l.parse(o[1],1,yi),m=l.parse(o[2],2,yi);if(!d||!m)return null;if(!Vc(d.type,[Ii,wi,Pt,$o,yi]))return l.error(`Expected first argument to be of type boolean, string, number or null, but found ${rn(d.type)} instead`);if(o.length===4){let g=l.parse(o[3],3,Pt);return g?new Sl(d,m,g):null}return new Sl(d,m)}evaluate(o){let l=this.needle.evaluate(o),d=this.haystack.evaluate(o);if(!Vs(l,["boolean","string","number","null"]))throw new fn(`Expected first argument to be of type boolean, string, number or null, but found ${rn(ta(l))} instead.`);let m;if(this.fromIndex&&(m=this.fromIndex.evaluate(o)),Vs(d,["string"])){let g=d.indexOf(l,m);return g===-1?-1:[...d.slice(0,g)].length}if(Vs(d,["array"]))return d.indexOf(l,m);throw new fn(`Expected second argument to be of type array or string, but found ${rn(ta(d))} instead.`)}eachChild(o){o(this.needle),o(this.haystack),this.fromIndex&&o(this.fromIndex)}outputDefined(){return!1}}class zi{constructor(o,l,d,m,g,_){this.inputType=o,this.type=l,this.input=d,this.cases=m,this.outputs=g,this.otherwise=_}static parse(o,l){if(o.length<5)return l.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if(o.length%2!=1)return l.error("Expected an even number of arguments.");let d,m;l.expectedType&&l.expectedType.kind!=="value"&&(m=l.expectedType);let g={},_=[];for(let E=2;E<o.length-1;E+=2){let F=o[E],V=o[E+1];Array.isArray(F)||(F=[F]);let N=l.concat(E);if(F.length===0)return N.error("Expected at least one branch label.");for(let G of F){if(typeof G!="number"&&typeof G!="string")return N.error("Branch labels must be numbers or strings.");if(typeof G=="number"&&Math.abs(G)>Number.MAX_SAFE_INTEGER)return N.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof G=="number"&&Math.floor(G)!==G)return N.error("Numeric branch labels must be integer values.");if(d){if(N.checkSubtype(d,ta(G)))return null}else d=ta(G);if(g[String(G)]!==void 0)return N.error("Branch labels must be unique.");g[String(G)]=_.length}let q=l.parse(V,E,m);if(!q)return null;m=m||q.type,_.push(q)}let x=l.parse(o[1],1,yi);if(!x)return null;let I=l.parse(o[o.length-1],o.length-1,m);return I?x.type.kind!=="value"&&l.concat(1).checkSubtype(d,x.type)?null:new zi(d,m,x,g,_,I):null}evaluate(o){let l=this.input.evaluate(o);return(ta(l)===this.inputType&&this.outputs[this.cases[l]]||this.otherwise).evaluate(o)}eachChild(o){o(this.input),this.outputs.forEach(o),o(this.otherwise)}outputDefined(){return this.outputs.every(o=>o.outputDefined())&&this.otherwise.outputDefined()}}class Nc{constructor(o,l,d){this.type=o,this.branches=l,this.otherwise=d}static parse(o,l){if(o.length<4)return l.error(`Expected at least 3 arguments, but found only ${o.length-1}.`);if(o.length%2!=0)return l.error("Expected an odd number of arguments.");let d;l.expectedType&&l.expectedType.kind!=="value"&&(d=l.expectedType);let m=[];for(let _=1;_<o.length-1;_+=2){let x=l.parse(o[_],_,Ii);if(!x)return null;let I=l.parse(o[_+1],_+1,d);if(!I)return null;m.push([x,I]),d=d||I.type}let g=l.parse(o[o.length-1],o.length-1,d);if(!g)return null;if(!d)throw new Error("Can't infer output type");return new Nc(d,m,g)}evaluate(o){for(let[l,d]of this.branches)if(l.evaluate(o))return d.evaluate(o);return this.otherwise.evaluate(o)}eachChild(o){for(let[l,d]of this.branches)o(l),o(d);o(this.otherwise)}outputDefined(){return this.branches.every(([o,l])=>l.outputDefined())&&this.otherwise.outputDefined()}}class Ko{constructor(o,l,d,m){this.type=o,this.input=l,this.beginIndex=d,this.endIndex=m}static parse(o,l){if(o.length<=2||o.length>=5)return l.error(`Expected 2 or 3 arguments, but found ${o.length-1} instead.`);let d=l.parse(o[1],1,yi),m=l.parse(o[2],2,Pt);if(!d||!m)return null;if(!Vc(d.type,[lo(yi),wi,yi]))return l.error(`Expected first argument to be of type array or string, but found ${rn(d.type)} instead`);if(o.length===4){let g=l.parse(o[3],3,Pt);return g?new Ko(d.type,d,m,g):null}return new Ko(d.type,d,m)}evaluate(o){let l=this.input.evaluate(o),d=this.beginIndex.evaluate(o),m;if(this.endIndex&&(m=this.endIndex.evaluate(o)),Vs(l,["string"]))return[...l].slice(d,m).join("");if(Vs(l,["array"]))return l.slice(d,m);throw new fn(`Expected first argument to be of type array or string, but found ${rn(ta(l))} instead.`)}eachChild(o){o(this.input),o(this.beginIndex),this.endIndex&&o(this.endIndex)}outputDefined(){return!1}}function Ml(c,o){let l=c.length-1,d,m,g=0,_=l,x=0;for(;g<=_;)if(x=Math.floor((g+_)/2),d=c[x],m=c[x+1],d<=o){if(x===l||o<m)return x;g=x+1}else{if(!(d>o))throw new fn("Input is not a number.");_=x-1}return 0}class cs{constructor(o,l,d){this.type=o,this.input=l,this.labels=[],this.outputs=[];for(let[m,g]of d)this.labels.push(m),this.outputs.push(g)}static parse(o,l){if(o.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return l.error("Expected an even number of arguments.");let d=l.parse(o[1],1,Pt);if(!d)return null;let m=[],g=null;l.expectedType&&l.expectedType.kind!=="value"&&(g=l.expectedType);for(let _=1;_<o.length;_+=2){let x=_===1?-1/0:o[_],I=o[_+1],E=_,F=_+1;if(typeof x!="number")return l.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',E);if(m.length&&m[m.length-1][0]>=x)return l.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',E);let V=l.parse(I,F,g);if(!V)return null;g=g||V.type,m.push([x,V])}return new cs(g,d,m)}evaluate(o){let l=this.labels,d=this.outputs;if(l.length===1)return d[0].evaluate(o);let m=this.input.evaluate(o);if(m<=l[0])return d[0].evaluate(o);let g=l.length;return m>=l[g-1]?d[g-1].evaluate(o):d[Ml(l,m)].evaluate(o)}eachChild(o){o(this.input);for(let l of this.outputs)o(l)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}}function Bm(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var qc,Hp,g_=function(){if(Hp)return qc;function c(o,l,d,m){this.cx=3*o,this.bx=3*(d-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(m-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=l,this.p2x=d,this.p2y=m}return Hp=1,qc=c,c.prototype={sampleCurveX:function(o){return((this.ax*o+this.bx)*o+this.cx)*o},sampleCurveY:function(o){return((this.ay*o+this.by)*o+this.cy)*o},sampleCurveDerivativeX:function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},solveCurveX:function(o,l){if(l===void 0&&(l=1e-6),o<0)return 0;if(o>1)return 1;for(var d=o,m=0;m<8;m++){var g=this.sampleCurveX(d)-o;if(Math.abs(g)<l)return d;var _=this.sampleCurveDerivativeX(d);if(Math.abs(_)<1e-6)break;d-=g/_}var x=0,I=1;for(d=o,m=0;m<20&&(g=this.sampleCurveX(d),!(Math.abs(g-o)<l));m++)o>g?x=d:I=d,d=.5*(I-x)+x;return d},solve:function(o,l){return this.sampleCurveY(this.solveCurveX(o,l))}},qc}(),Rm=Bm(g_);class po{constructor(o,l,d,m,g){this.type=o,this.operator=l,this.interpolation=d,this.input=m,this.labels=[],this.outputs=[];for(let[_,x]of g)this.labels.push(_),this.outputs.push(x)}static interpolationFactor(o,l,d,m){let g=0;if(o.name==="exponential")g=Dr(l,o.base,d,m);else if(o.name==="linear")g=Dr(l,1,d,m);else if(o.name==="cubic-bezier"){let _=o.controlPoints;g=new Rm(_[0],_[1],_[2],_[3]).solve(Dr(l,1,d,m))}return g}static parse(o,l){let[d,m,g,..._]=o;if(!Array.isArray(m)||m.length===0)return l.error("Expected an interpolation type expression.",1);if(m[0]==="linear")m={name:"linear"};else if(m[0]==="exponential"){let E=m[1];if(typeof E!="number")return l.error("Exponential interpolation requires a numeric base.",1,1);m={name:"exponential",base:E}}else{if(m[0]!=="cubic-bezier")return l.error(`Unknown interpolation type ${String(m[0])}`,1,0);{let E=m.slice(1);if(E.length!==4||E.some(F=>typeof F!="number"||F<0||F>1))return l.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);m={name:"cubic-bezier",controlPoints:E}}}if(o.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return l.error("Expected an even number of arguments.");if(g=l.parse(g,2,Pt),!g)return null;let x=[],I=null;d!=="interpolate-hcl"&&d!=="interpolate-lab"||l.expectedType==yl?l.expectedType&&l.expectedType.kind!=="value"&&(I=l.expectedType):I=Oo;for(let E=0;E<_.length;E+=2){let F=_[E],V=_[E+1],N=E+3,q=E+4;if(typeof F!="number")return l.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',N);if(x.length&&x[x.length-1][0]>=F)return l.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',N);let G=l.parse(V,q,I);if(!G)return null;I=I||G.type,x.push([F,G])}return dr(I,Pt)||dr(I,Gu)||dr(I,Oo)||dr(I,Uu)||dr(I,Fc)||dr(I,yl)||dr(I,Oc)||dr(I,lo(Pt))?new po(I,d,m,g,x):l.error(`Type ${rn(I)} is not interpolatable.`)}evaluate(o){let l=this.labels,d=this.outputs;if(l.length===1)return d[0].evaluate(o);let m=this.input.evaluate(o);if(m<=l[0])return d[0].evaluate(o);let g=l.length;if(m>=l[g-1])return d[g-1].evaluate(o);let _=Ml(l,m),x=po.interpolationFactor(this.interpolation,m,l[_],l[_+1]),I=d[_].evaluate(o),E=d[_+1].evaluate(o);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return rs(I,E,x);case"color":return Ti.interpolate(I,E,x);case"padding":return Wa.interpolate(I,E,x);case"colorArray":return pi.interpolate(I,E,x);case"numberArray":return On.interpolate(I,E,x);case"variableAnchorOffsetCollection":return co.interpolate(I,E,x);case"array":return Il(I,E,x);case"projectionDefinition":return uo.interpolate(I,E,x)}case"interpolate-hcl":switch(this.type.kind){case"color":return Ti.interpolate(I,E,x,"hcl");case"colorArray":return pi.interpolate(I,E,x,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return Ti.interpolate(I,E,x,"lab");case"colorArray":return pi.interpolate(I,E,x,"lab")}}}eachChild(o){o(this.input);for(let l of this.outputs)o(l)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}}function Dr(c,o,l,d){let m=d-l,g=c-l;return m===0?0:o===1?g/m:(Math.pow(o,g)-1)/(Math.pow(o,m)-1)}let En={color:Ti.interpolate,number:rs,padding:Wa.interpolate,numberArray:On.interpolate,colorArray:pi.interpolate,variableAnchorOffsetCollection:co.interpolate,array:Il};class qs{constructor(o,l){this.type=o,this.args=l}static parse(o,l){if(o.length<2)return l.error("Expected at least one argument.");let d=null,m=l.expectedType;m&&m.kind!=="value"&&(d=m);let g=[];for(let x of o.slice(1)){let I=l.parse(x,1+g.length,d,void 0,{typeAnnotation:"omit"});if(!I)return null;d=d||I.type,g.push(I)}if(!d)throw new Error("No output type");let _=m&&g.some(x=>xl(m,x.type));return new qs(_?yi:d,g)}evaluate(o){let l,d=null,m=0;for(let g of this.args)if(m++,d=g.evaluate(o),d&&d instanceof Vo&&!d.available&&(l||(l=d.name),d=null,m===this.args.length&&(d=l)),d!==null)break;return d}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}}function Gp(c,o){return c==="=="||c==="!="?o.kind==="boolean"||o.kind==="string"||o.kind==="number"||o.kind==="null"||o.kind==="value":o.kind==="string"||o.kind==="number"||o.kind==="value"}function jc(c,o,l,d){return d.compare(o,l)===0}function $n(c,o,l){let d=c!=="=="&&c!=="!=";return class Q4{constructor(g,_,x){this.type=Ii,this.lhs=g,this.rhs=_,this.collator=x,this.hasUntypedArgument=g.type.kind==="value"||_.type.kind==="value"}static parse(g,_){if(g.length!==3&&g.length!==4)return _.error("Expected two or three arguments.");let x=g[0],I=_.parse(g[1],1,yi);if(!I)return null;if(!Gp(x,I.type))return _.concat(1).error(`"${x}" comparisons are not supported for type '${rn(I.type)}'.`);let E=_.parse(g[2],2,yi);if(!E)return null;if(!Gp(x,E.type))return _.concat(2).error(`"${x}" comparisons are not supported for type '${rn(E.type)}'.`);if(I.type.kind!==E.type.kind&&I.type.kind!=="value"&&E.type.kind!=="value")return _.error(`Cannot compare types '${rn(I.type)}' and '${rn(E.type)}'.`);d&&(I.type.kind==="value"&&E.type.kind!=="value"?I=new Io(E.type,[I]):I.type.kind!=="value"&&E.type.kind==="value"&&(E=new Io(I.type,[E])));let F=null;if(g.length===4){if(I.type.kind!=="string"&&E.type.kind!=="string"&&I.type.kind!=="value"&&E.type.kind!=="value")return _.error("Cannot use collator to compare non-string types.");if(F=_.parse(g[3],3,Lc),!F)return null}return new Q4(I,E,F)}evaluate(g){let _=this.lhs.evaluate(g),x=this.rhs.evaluate(g);if(d&&this.hasUntypedArgument){let I=ta(_),E=ta(x);if(I.kind!==E.kind||I.kind!=="string"&&I.kind!=="number")throw new fn(`Expected arguments for "${c}" to be (string, string) or (number, number), but found (${I.kind}, ${E.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){let I=ta(_),E=ta(x);if(I.kind!=="string"||E.kind!=="string")return o(g,_,x)}return this.collator?l(g,_,x,this.collator.evaluate(g)):o(g,_,x)}eachChild(g){g(this.lhs),g(this.rhs),this.collator&&g(this.collator)}outputDefined(){return!0}}}let Nm=$n("==",function(c,o,l){return o===l},jc),Up=$n("!=",function(c,o,l){return o!==l},function(c,o,l,d){return!jc(0,o,l,d)}),qm=$n("<",function(c,o,l){return o<l},function(c,o,l,d){return d.compare(o,l)<0}),__=$n(">",function(c,o,l){return o>l},function(c,o,l,d){return d.compare(o,l)>0}),kl=$n("<=",function(c,o,l){return o<=l},function(c,o,l,d){return d.compare(o,l)<=0}),Xu=$n(">=",function(c,o,l){return o>=l},function(c,o,l,d){return d.compare(o,l)>=0});class El{constructor(o,l,d){this.type=Lc,this.locale=d,this.caseSensitive=o,this.diacriticSensitive=l}static parse(o,l){if(o.length!==2)return l.error("Expected one argument.");let d=o[1];if(typeof d!="object"||Array.isArray(d))return l.error("Collator options argument must be an object.");let m=l.parse(d["case-sensitive"]!==void 0&&d["case-sensitive"],1,Ii);if(!m)return null;let g=l.parse(d["diacritic-sensitive"]!==void 0&&d["diacritic-sensitive"],1,Ii);if(!g)return null;let _=null;return d.locale&&(_=l.parse(d.locale,1,wi),!_)?null:new El(m,g,_)}evaluate(o){return new Np(this.caseSensitive.evaluate(o),this.diacriticSensitive.evaluate(o),this.locale?this.locale.evaluate(o):null)}eachChild(o){o(this.caseSensitive),o(this.diacriticSensitive),this.locale&&o(this.locale)}outputDefined(){return!1}}class $p{constructor(o,l,d,m,g){this.type=wi,this.number=o,this.locale=l,this.currency=d,this.minFractionDigits=m,this.maxFractionDigits=g}static parse(o,l){if(o.length!==3)return l.error("Expected two arguments.");let d=l.parse(o[1],1,Pt);if(!d)return null;let m=o[2];if(typeof m!="object"||Array.isArray(m))return l.error("NumberFormat options argument must be an object.");let g=null;if(m.locale&&(g=l.parse(m.locale,1,wi),!g))return null;let _=null;if(m.currency&&(_=l.parse(m.currency,1,wi),!_))return null;let x=null;if(m["min-fraction-digits"]&&(x=l.parse(m["min-fraction-digits"],1,Pt),!x))return null;let I=null;return m["max-fraction-digits"]&&(I=l.parse(m["max-fraction-digits"],1,Pt),!I)?null:new $p(d,g,_,x,I)}evaluate(o){return new Intl.NumberFormat(this.locale?this.locale.evaluate(o):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(o):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(o):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(o):void 0}).format(this.number.evaluate(o))}eachChild(o){o(this.number),this.locale&&o(this.locale),this.currency&&o(this.currency),this.minFractionDigits&&o(this.minFractionDigits),this.maxFractionDigits&&o(this.maxFractionDigits)}outputDefined(){return!1}}class Hc{constructor(o){this.type=Ac,this.sections=o}static parse(o,l){if(o.length<2)return l.error("Expected at least one argument.");let d=o[1];if(!Array.isArray(d)&&typeof d=="object")return l.error("First argument must be an image or text section.");let m=[],g=!1;for(let _=1;_<=o.length-1;++_){let x=o[_];if(g&&typeof x=="object"&&!Array.isArray(x)){g=!1;let I=null;if(x["font-scale"]&&(I=l.parse(x["font-scale"],1,Pt),!I))return null;let E=null;if(x["text-font"]&&(E=l.parse(x["text-font"],1,lo(wi)),!E))return null;let F=null;if(x["text-color"]&&(F=l.parse(x["text-color"],1,Oo),!F))return null;let V=null;if(x["vertical-align"]){if(typeof x["vertical-align"]=="string"&&!f_.includes(x["vertical-align"]))return l.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${x["vertical-align"]}' instead.`);if(V=l.parse(x["vertical-align"],1,wi),!V)return null}let N=m[m.length-1];N.scale=I,N.font=E,N.textColor=F,N.verticalAlign=V}else{let I=l.parse(o[_],1,yi);if(!I)return null;let E=I.type.kind;if(E!=="string"&&E!=="value"&&E!=="null"&&E!=="resolvedImage")return l.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");g=!0,m.push({content:I,scale:null,font:null,textColor:null,verticalAlign:null})}}return new Hc(m)}evaluate(o){return new wo(this.sections.map(l=>{let d=l.content.evaluate(o);return ta(d)===vl?new qp("",d,null,null,null,l.verticalAlign?l.verticalAlign.evaluate(o):null):new qp(Bs(d),null,l.scale?l.scale.evaluate(o):null,l.font?l.font.evaluate(o).join(","):null,l.textColor?l.textColor.evaluate(o):null,l.verticalAlign?l.verticalAlign.evaluate(o):null)}))}eachChild(o){for(let l of this.sections)o(l.content),l.scale&&o(l.scale),l.font&&o(l.font),l.textColor&&o(l.textColor),l.verticalAlign&&o(l.verticalAlign)}outputDefined(){return!1}}class Pl{constructor(o){this.type=vl,this.input=o}static parse(o,l){if(o.length!==2)return l.error("Expected two arguments.");let d=l.parse(o[1],1,wi);return d?new Pl(d):l.error("No image name provided.")}evaluate(o){let l=this.input.evaluate(o),d=Vo.fromString(l);return d&&o.availableImages&&(d.available=o.availableImages.indexOf(l)>-1),d}eachChild(o){o(this.input)}outputDefined(){return!1}}class Dl{constructor(o){this.type=Pt,this.input=o}static parse(o,l){if(o.length!==2)return l.error(`Expected 1 argument, but found ${o.length-1} instead.`);let d=l.parse(o[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?l.error(`Expected argument of type string or array, but found ${rn(d.type)} instead.`):new Dl(d):null}evaluate(o){let l=this.input.evaluate(o);if(typeof l=="string")return[...l].length;if(Array.isArray(l))return l.length;throw new fn(`Expected value to be of type string or array, but found ${rn(ta(l))} instead.`)}eachChild(o){o(this.input)}outputDefined(){return!1}}let fa=8192;function jm(c,o){let l=(180+c[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c[1]*Math.PI/360)))/360,m=Math.pow(2,o.z);return[Math.round(l*m*fa),Math.round(d*m*fa)]}function Ll(c,o){let l=Math.pow(2,o.z);return[(m=(c[0]/fa+o.x)/l,360*m-180),(d=(c[1]/fa+o.y)/l,360/Math.PI*Math.atan(Math.exp((180-360*d)*Math.PI/180))-90)];var d,m}function Gc(c,o){c[0]=Math.min(c[0],o[0]),c[1]=Math.min(c[1],o[1]),c[2]=Math.max(c[2],o[0]),c[3]=Math.max(c[3],o[1])}function js(c,o){return!(c[0]<=o[0]||c[2]>=o[2]||c[1]<=o[1]||c[3]>=o[3])}function b_(c,o,l){let d=c[0]-o[0],m=c[1]-o[1],g=c[0]-l[0],_=c[1]-l[1];return d*_-g*m==0&&d*g<=0&&m*_<=0}function Yu(c,o,l,d){return(m=[d[0]-l[0],d[1]-l[1]])[0]*(g=[o[0]-c[0],o[1]-c[1]])[1]-m[1]*g[0]!=0&&!(!Kp(c,o,l,d)||!Kp(l,d,c,o));var m,g}function y_(c,o,l){for(let d of l)for(let m=0;m<d.length-1;++m)if(Yu(c,o,d[m],d[m+1]))return!0;return!1}function Al(c,o,l=!1){let d=!1;for(let x of o)for(let I=0;I<x.length-1;I++){if(b_(c,x[I],x[I+1]))return l;(g=x[I])[1]>(m=c)[1]!=(_=x[I+1])[1]>m[1]&&m[0]<(_[0]-g[0])*(m[1]-g[1])/(_[1]-g[1])+g[0]&&(d=!d)}var m,g,_;return d}function Ju(c,o){for(let l of o)if(Al(c,l))return!0;return!1}function Hm(c,o){for(let l of c)if(!Al(l,o))return!1;for(let l=0;l<c.length-1;++l)if(y_(c[l],c[l+1],o))return!1;return!0}function Gm(c,o){for(let l of o)if(Hm(c,l))return!0;return!1}function Kp(c,o,l,d){let m=d[0]-l[0],g=d[1]-l[1],_=(c[0]-l[0])*g-m*(c[1]-l[1]),x=(o[0]-l[0])*g-m*(o[1]-l[1]);return _>0&&x<0||_<0&&x>0}function Wp(c,o,l){let d=[];for(let m=0;m<c.length;m++){let g=[];for(let _=0;_<c[m].length;_++){let x=jm(c[m][_],l);Gc(o,x),g.push(x)}d.push(g)}return d}function Qp(c,o,l){let d=[];for(let m=0;m<c.length;m++){let g=Wp(c[m],o,l);d.push(g)}return d}function Um(c,o,l,d){if(c[0]<l[0]||c[0]>l[2]){let m=.5*d,g=c[0]-l[0]>m?-d:l[0]-c[0]>m?d:0;g===0&&(g=c[0]-l[2]>m?-d:l[2]-c[0]>m?d:0),c[0]+=g}Gc(o,c)}function $m(c,o,l,d){let m=Math.pow(2,d.z)*fa,g=[d.x*fa,d.y*fa],_=[];for(let x of c)for(let I of x){let E=[I.x+g[0],I.y+g[1]];Um(E,o,l,m),_.push(E)}return _}function Km(c,o,l,d){let m=Math.pow(2,d.z)*fa,g=[d.x*fa,d.y*fa],_=[];for(let I of c){let E=[];for(let F of I){let V=[F.x+g[0],F.y+g[1]];Gc(o,V),E.push(V)}_.push(E)}if(o[2]-o[0]<=m/2){(x=o)[0]=x[1]=1/0,x[2]=x[3]=-1/0;for(let I of _)for(let E of I)Um(E,o,l,m)}var x;return _}class Hs{constructor(o,l){this.type=Ii,this.geojson=o,this.geometries=l}static parse(o,l){if(o.length!==2)return l.error(`'within' expression requires exactly one argument, but found ${o.length-1} instead.`);if(ls(o[1])){let d=o[1];if(d.type==="FeatureCollection"){let m=[];for(let g of d.features){let{type:_,coordinates:x}=g.geometry;_==="Polygon"&&m.push(x),_==="MultiPolygon"&&m.push(...x)}if(m.length)return new Hs(d,{type:"MultiPolygon",coordinates:m})}else if(d.type==="Feature"){let m=d.geometry.type;if(m==="Polygon"||m==="MultiPolygon")return new Hs(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new Hs(d,d)}return l.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(o){if(o.geometry()!=null&&o.canonicalID()!=null){if(o.geometryType()==="Point")return function(l,d){let m=[1/0,1/0,-1/0,-1/0],g=[1/0,1/0,-1/0,-1/0],_=l.canonicalID();if(d.type==="Polygon"){let x=Wp(d.coordinates,g,_),I=$m(l.geometry(),m,g,_);if(!js(m,g))return!1;for(let E of I)if(!Al(E,x))return!1}if(d.type==="MultiPolygon"){let x=Qp(d.coordinates,g,_),I=$m(l.geometry(),m,g,_);if(!js(m,g))return!1;for(let E of I)if(!Ju(E,x))return!1}return!0}(o,this.geometries);if(o.geometryType()==="LineString")return function(l,d){let m=[1/0,1/0,-1/0,-1/0],g=[1/0,1/0,-1/0,-1/0],_=l.canonicalID();if(d.type==="Polygon"){let x=Wp(d.coordinates,g,_),I=Km(l.geometry(),m,g,_);if(!js(m,g))return!1;for(let E of I)if(!Hm(E,x))return!1}if(d.type==="MultiPolygon"){let x=Qp(d.coordinates,g,_),I=Km(l.geometry(),m,g,_);if(!js(m,g))return!1;for(let E of I)if(!Gm(E,x))return!1}return!0}(o,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let Wm=class{constructor(c=[],o=(l,d)=>l<d?-1:l>d?1:0){if(this.data=c,this.length=this.data.length,this.compare=o,this.length>0)for(let l=(this.length>>1)-1;l>=0;l--)this._down(l)}push(c){this.data.push(c),this._up(this.length++)}pop(){if(this.length===0)return;let c=this.data[0],o=this.data.pop();return--this.length>0&&(this.data[0]=o,this._down(0)),c}peek(){return this.data[0]}_up(c){let{data:o,compare:l}=this,d=o[c];for(;c>0;){let m=c-1>>1,g=o[m];if(l(d,g)>=0)break;o[c]=g,c=m}o[c]=d}_down(c){let{data:o,compare:l}=this,d=this.length>>1,m=o[c];for(;c<d;){let g=1+(c<<1),_=g+1;if(_<this.length&&l(o[_],o[g])<0&&(g=_),l(o[g],m)>=0)break;o[c]=o[g],c=g}o[c]=m}};function Zp(c,o,l=0,d=c.length-1,m=Qm){for(;d>l;){if(d-l>600){let I=d-l+1,E=o-l+1,F=Math.log(I),V=.5*Math.exp(2*F/3),N=.5*Math.sqrt(F*V*(I-V)/I)*(E-I/2<0?-1:1);Zp(c,o,Math.max(l,Math.floor(o-E*V/I+N)),Math.min(d,Math.floor(o+(I-E)*V/I+N)),m)}let g=c[o],_=l,x=d;for(Fl(c,l,o),m(c[d],g)>0&&Fl(c,l,d);_<x;){for(Fl(c,_,x),_++,x--;m(c[_],g)<0;)_++;for(;m(c[x],g)>0;)x--}m(c[l],g)===0?Fl(c,l,x):(x++,Fl(c,x,d)),x<=o&&(l=x+1),o<=x&&(d=x-1)}}function Fl(c,o,l){let d=c[o];c[o]=c[l],c[l]=d}function Qm(c,o){return c<o?-1:c>o?1:0}function ed(c,o){if(c.length<=1)return[c];let l=[],d,m;for(let g of c){let _=x_(g);_!==0&&(g.area=Math.abs(_),m===void 0&&(m=_<0),m===_<0?(d&&l.push(d),d=[g]):d.push(g))}if(d&&l.push(d),o>1)for(let g=0;g<l.length;g++)l[g].length<=o||(Zp(l[g],o,1,l[g].length-1,v_),l[g]=l[g].slice(0,o));return l}function v_(c,o){return o.area-c.area}function x_(c){let o=0;for(let l,d,m=0,g=c.length,_=g-1;m<g;_=m++)l=c[m],d=c[_],o+=(d.x-l.x)*(l.y+d.y);return o}let Zm=1/298.257223563,Uc=Zm*(2-Zm),Xm=Math.PI/180;class Xp{constructor(o){let l=6378.137*Xm*1e3,d=Math.cos(o*Xm),m=1/(1-Uc*(1-d*d)),g=Math.sqrt(m);this.kx=l*g*d,this.ky=l*g*m*(1-Uc)}distance(o,l){let d=this.wrap(o[0]-l[0])*this.kx,m=(o[1]-l[1])*this.ky;return Math.sqrt(d*d+m*m)}pointOnLine(o,l){let d,m,g,_,x=1/0;for(let I=0;I<o.length-1;I++){let E=o[I][0],F=o[I][1],V=this.wrap(o[I+1][0]-E)*this.kx,N=(o[I+1][1]-F)*this.ky,q=0;V===0&&N===0||(q=(this.wrap(l[0]-E)*this.kx*V+(l[1]-F)*this.ky*N)/(V*V+N*N),q>1?(E=o[I+1][0],F=o[I+1][1]):q>0&&(E+=V/this.kx*q,F+=N/this.ky*q)),V=this.wrap(l[0]-E)*this.kx,N=(l[1]-F)*this.ky;let G=V*V+N*N;G<x&&(x=G,d=E,m=F,g=I,_=q)}return{point:[d,m],index:g,t:Math.max(0,Math.min(1,_))}}wrap(o){for(;o<-180;)o+=360;for(;o>180;)o-=360;return o}}function Ym(c,o){return o[0]-c[0]}function td(c){return c[1]-c[0]+1}function pr(c,o){return c[1]>=c[0]&&c[1]<o}function id(c,o){if(c[0]>c[1])return[null,null];let l=td(c);if(o){if(l===2)return[c,null];let m=Math.floor(l/2);return[[c[0],c[0]+m],[c[0]+m,c[1]]]}if(l===1)return[c,null];let d=Math.floor(l/2)-1;return[[c[0],c[0]+d],[c[0]+d+1,c[1]]]}function Yp(c,o){if(!pr(o,c.length))return[1/0,1/0,-1/0,-1/0];let l=[1/0,1/0,-1/0,-1/0];for(let d=o[0];d<=o[1];++d)Gc(l,c[d]);return l}function Jp(c){let o=[1/0,1/0,-1/0,-1/0];for(let l of c)for(let d of l)Gc(o,d);return o}function eh(c){return c[0]!==-1/0&&c[1]!==-1/0&&c[2]!==1/0&&c[3]!==1/0}function nd(c,o,l){if(!eh(c)||!eh(o))return NaN;let d=0,m=0;return c[2]<o[0]&&(d=o[0]-c[2]),c[0]>o[2]&&(d=c[0]-o[2]),c[1]>o[3]&&(m=c[1]-o[3]),c[3]<o[1]&&(m=o[1]-c[3]),l.distance([0,0],[d,m])}function Gs(c,o,l){let d=l.pointOnLine(o,c);return l.distance(c,d.point)}function th(c,o,l,d,m){let g=Math.min(Gs(c,[l,d],m),Gs(o,[l,d],m)),_=Math.min(Gs(l,[c,o],m),Gs(d,[c,o],m));return Math.min(g,_)}function w_(c,o,l,d,m){if(!pr(o,c.length)||!pr(d,l.length))return 1/0;let g=1/0;for(let _=o[0];_<o[1];++_){let x=c[_],I=c[_+1];for(let E=d[0];E<d[1];++E){let F=l[E],V=l[E+1];if(Yu(x,I,F,V))return 0;g=Math.min(g,th(x,I,F,V,m))}}return g}function Jm(c,o,l,d,m){if(!pr(o,c.length)||!pr(d,l.length))return NaN;let g=1/0;for(let _=o[0];_<=o[1];++_)for(let x=d[0];x<=d[1];++x)if(g=Math.min(g,m.distance(c[_],l[x])),g===0)return g;return g}function I_(c,o,l){if(Al(c,o,!0))return 0;let d=1/0;for(let m of o){let g=m[0],_=m[m.length-1];if(g!==_&&(d=Math.min(d,Gs(c,[_,g],l)),d===0))return d;let x=l.pointOnLine(m,c);if(d=Math.min(d,l.distance(c,x.point)),d===0)return d}return d}function T_(c,o,l,d){if(!pr(o,c.length))return NaN;for(let g=o[0];g<=o[1];++g)if(Al(c[g],l,!0))return 0;let m=1/0;for(let g=o[0];g<o[1];++g){let _=c[g],x=c[g+1];for(let I of l)for(let E=0,F=I.length,V=F-1;E<F;V=E++){let N=I[V],q=I[E];if(Yu(_,x,N,q))return 0;m=Math.min(m,th(_,x,N,q,d))}}return m}function e0(c,o){for(let l of c)for(let d of l)if(Al(d,o,!0))return!0;return!1}function C_(c,o,l,d=1/0){let m=Jp(c),g=Jp(o);if(d!==1/0&&nd(m,g,l)>=d)return d;if(js(m,g)){if(e0(c,o))return 0}else if(e0(o,c))return 0;let _=1/0;for(let x of c)for(let I=0,E=x.length,F=E-1;I<E;F=I++){let V=x[F],N=x[I];for(let q of o)for(let G=0,U=q.length,Q=U-1;G<U;Q=G++){let ae=q[Q],ge=q[G];if(Yu(V,N,ae,ge))return 0;_=Math.min(_,th(V,N,ae,ge,l))}}return _}function Qi(c,o,l,d,m,g){if(!g)return;let _=nd(Yp(d,g),m,l);_<o&&c.push([_,g,[0,0]])}function ad(c,o,l,d,m,g,_){if(!g||!_)return;let x=nd(Yp(d,g),Yp(m,_),l);x<o&&c.push([x,g,_])}function od(c,o,l,d,m=1/0){let g=Math.min(d.distance(c[0],l[0][0]),m);if(g===0)return g;let _=new Wm([[0,[0,c.length-1],[0,0]]],Ym),x=Jp(l);for(;_.length>0;){let I=_.pop();if(I[0]>=g)continue;let E=I[1],F=o?50:100;if(td(E)<=F){if(!pr(E,c.length))return NaN;if(o){let V=T_(c,E,l,d);if(isNaN(V)||V===0)return V;g=Math.min(g,V)}else for(let V=E[0];V<=E[1];++V){let N=I_(c[V],l,d);if(g=Math.min(g,N),g===0)return 0}}else{let V=id(E,o);Qi(_,g,d,c,x,V[0]),Qi(_,g,d,c,x,V[1])}}return g}function rd(c,o,l,d,m,g=1/0){let _=Math.min(g,m.distance(c[0],l[0]));if(_===0)return _;let x=new Wm([[0,[0,c.length-1],[0,l.length-1]]],Ym);for(;x.length>0;){let I=x.pop();if(I[0]>=_)continue;let E=I[1],F=I[2],V=o?50:100,N=d?50:100;if(td(E)<=V&&td(F)<=N){if(!pr(E,c.length)&&pr(F,l.length))return NaN;let q;if(o&&d)q=w_(c,E,l,F,m),_=Math.min(_,q);else if(o&&!d){let G=c.slice(E[0],E[1]+1);for(let U=F[0];U<=F[1];++U)if(q=Gs(l[U],G,m),_=Math.min(_,q),_===0)return _}else if(!o&&d){let G=l.slice(F[0],F[1]+1);for(let U=E[0];U<=E[1];++U)if(q=Gs(c[U],G,m),_=Math.min(_,q),_===0)return _}else q=Jm(c,E,l,F,m),_=Math.min(_,q)}else{let q=id(E,o),G=id(F,d);ad(x,_,m,c,l,q[0],G[0]),ad(x,_,m,c,l,q[0],G[1]),ad(x,_,m,c,l,q[1],G[0]),ad(x,_,m,c,l,q[1],G[1])}}return _}function ih(c){return c.type==="MultiPolygon"?c.coordinates.map(o=>({type:"Polygon",coordinates:o})):c.type==="MultiLineString"?c.coordinates.map(o=>({type:"LineString",coordinates:o})):c.type==="MultiPoint"?c.coordinates.map(o=>({type:"Point",coordinates:o})):[c]}class Us{constructor(o,l){this.type=Pt,this.geojson=o,this.geometries=l}static parse(o,l){if(o.length!==2)return l.error(`'distance' expression requires exactly one argument, but found ${o.length-1} instead.`);if(ls(o[1])){let d=o[1];if(d.type==="FeatureCollection")return new Us(d,d.features.map(m=>ih(m.geometry)).flat());if(d.type==="Feature")return new Us(d,ih(d.geometry));if("type"in d&&"coordinates"in d)return new Us(d,ih(d))}return l.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(o){if(o.geometry()!=null&&o.canonicalID()!=null){if(o.geometryType()==="Point")return function(l,d){let m=l.geometry(),g=m.flat().map(I=>Ll([I.x,I.y],l.canonical));if(m.length===0)return NaN;let _=new Xp(g[0][1]),x=1/0;for(let I of d){switch(I.type){case"Point":x=Math.min(x,rd(g,!1,[I.coordinates],!1,_,x));break;case"LineString":x=Math.min(x,rd(g,!1,I.coordinates,!0,_,x));break;case"Polygon":x=Math.min(x,od(g,!1,I.coordinates,_,x))}if(x===0)return x}return x}(o,this.geometries);if(o.geometryType()==="LineString")return function(l,d){let m=l.geometry(),g=m.flat().map(I=>Ll([I.x,I.y],l.canonical));if(m.length===0)return NaN;let _=new Xp(g[0][1]),x=1/0;for(let I of d){switch(I.type){case"Point":x=Math.min(x,rd(g,!0,[I.coordinates],!1,_,x));break;case"LineString":x=Math.min(x,rd(g,!0,I.coordinates,!0,_,x));break;case"Polygon":x=Math.min(x,od(g,!0,I.coordinates,_,x))}if(x===0)return x}return x}(o,this.geometries);if(o.geometryType()==="Polygon")return function(l,d){let m=l.geometry();if(m.length===0||m[0].length===0)return NaN;let g=ed(m,0).map(I=>I.map(E=>E.map(F=>Ll([F.x,F.y],l.canonical)))),_=new Xp(g[0][0][0][1]),x=1/0;for(let I of d)for(let E of g){switch(I.type){case"Point":x=Math.min(x,od([I.coordinates],!1,E,_,x));break;case"LineString":x=Math.min(x,od(I.coordinates,!0,E,_,x));break;case"Polygon":x=Math.min(x,C_(E,I.coordinates,_,x))}if(x===0)return x}return x}(o,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class $c{constructor(o){this.type=yi,this.key=o}static parse(o,l){if(o.length!==2)return l.error(`Expected 1 argument, but found ${o.length-1} instead.`);let d=o[1];return d==null?l.error("Global state property must be defined."):typeof d!="string"?l.error(`Global state property must be string, but found ${typeof o[1]} instead.`):new $c(d)}evaluate(o){var l;let d=(l=o.globals)===null||l===void 0?void 0:l.globalState;return d&&Object.keys(d).length!==0?Bc(d,this.key):null}eachChild(){}outputDefined(){return!1}}let Ol={"==":Nm,"!=":Up,">":__,"<":qm,">=":Xu,"<=":kl,array:Io,at:Oi,boolean:Io,case:Nc,coalesce:qs,collator:El,format:Hc,image:Pl,in:vi,"index-of":Sl,interpolate:po,"interpolate-hcl":po,"interpolate-lab":po,length:Dl,let:gn,literal:Pr,match:zi,number:Io,"number-format":$p,object:Io,slice:Ko,step:cs,string:Io,"to-boolean":Gr,"to-color":Gr,"to-number":Gr,"to-string":Gr,var:Cl,within:Hs,distance:Us,"global-state":$c};class Wo{constructor(o,l,d,m){this.name=o,this.type=l,this._evaluate=d,this.args=m}evaluate(o){return this._evaluate(o,this.args)}eachChild(o){this.args.forEach(o)}outputDefined(){return!1}static parse(o,l){let d=o[0],m=Wo.definitions[d];if(!m)return l.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);let g=Array.isArray(m)?m[0]:m.type,_=Array.isArray(m)?[[m[1],m[2]]]:m.overloads,x=_.filter(([E])=>!Array.isArray(E)||E.length===o.length-1),I=null;for(let[E,F]of x){I=new Ns(l.registry,sd,l.path,null,l.scope);let V=[],N=!1;for(let q=1;q<o.length;q++){let G=o[q],U=Array.isArray(E)?E[q-1]:E.type,Q=I.parse(G,1+V.length,U);if(!Q){N=!0;break}V.push(Q)}if(!N)if(Array.isArray(E)&&E.length!==V.length)I.error(`Expected ${E.length} arguments, but found ${V.length} instead.`);else{for(let q=0;q<V.length;q++){let G=Array.isArray(E)?E[q]:E.type,U=V[q];I.concat(q+1).checkSubtype(G,U.type)}if(I.errors.length===0)return new Wo(d,g,F,V)}}if(x.length===1)l.errors.push(...I.errors);else{let E=(x.length?x:_).map(([V])=>{return N=V,Array.isArray(N)?`(${N.map(rn).join(", ")})`:`(${rn(N.type)}...)`;var N}).join(" | "),F=[];for(let V=1;V<o.length;V++){let N=l.parse(o[V],1+F.length);if(!N)return null;F.push(rn(N.type))}l.error(`Expected arguments of type ${E}, but found (${F.join(", ")}) instead.`)}return null}static register(o,l){Wo.definitions=l;for(let d in l)o[d]=Wo}}function t0(c,[o,l,d,m]){o=o.evaluate(c),l=l.evaluate(c),d=d.evaluate(c);let g=m?m.evaluate(c):1,_=Tl(o,l,d,g);if(_)throw new fn(_);return new Ti(o/255,l/255,d/255,g,!1)}function i0(c,o){return c in o}function nh(c,o){let l=o[c];return l===void 0?null:l}function $s(c){return{type:c}}function sd(c){if(c instanceof Cl)return sd(c.boundExpression);if(c instanceof Wo&&c.name==="error"||c instanceof El||c instanceof Hs||c instanceof Us||c instanceof $c)return!1;let o=c instanceof Gr||c instanceof Io,l=!0;return c.eachChild(d=>{l=o?l&&sd(d):l&&d instanceof Pr}),!!l&&ld(c)&&cd(c,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"])}function ld(c){if(c instanceof Wo&&(c.name==="get"&&c.args.length===1||c.name==="feature-state"||c.name==="has"&&c.args.length===1||c.name==="properties"||c.name==="geometry-type"||c.name==="id"||/^filter-/.test(c.name))||c instanceof Hs||c instanceof Us)return!1;let o=!0;return c.eachChild(l=>{o&&!ld(l)&&(o=!1)}),o}function Kc(c){if(c instanceof Wo&&c.name==="feature-state")return!1;let o=!0;return c.eachChild(l=>{o&&!Kc(l)&&(o=!1)}),o}function cd(c,o){if(c instanceof Wo&&o.indexOf(c.name)>=0)return!1;let l=!0;return c.eachChild(d=>{l&&!cd(d,o)&&(l=!1)}),l}function n0(c){return{result:"success",value:c}}function Vl(c){return{result:"error",value:c}}function zl(c){return c["property-type"]==="data-driven"||c["property-type"]==="cross-faded-data-driven"}function a0(c){return!!c.expression&&c.expression.parameters.indexOf("zoom")>-1}function ah(c){return!!c.expression&&c.expression.interpolated}function Mi(c){return c instanceof Number?"number":c instanceof String?"string":c instanceof Boolean?"boolean":Array.isArray(c)?"array":c===null?"null":typeof c}function ud(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)&&ta(c)===Hr}function S_(c){return c}function o0(c,o){let l=c.stops&&typeof c.stops[0][0]=="object",d=l||!(l||c.property!==void 0),m=c.type||(ah(o)?"exponential":"interval"),g=function(F){switch(F.type){case"color":return Ti.parse;case"padding":return Wa.parse;case"numberArray":return On.parse;case"colorArray":return pi.parse;default:return null}}(o);if(g&&((c=ro({},c)).stops&&(c.stops=c.stops.map(F=>[F[0],g(F[1])])),c.default=g(c.default?c.default:o.default)),c.colorSpace&&(_=c.colorSpace)!=="rgb"&&_!=="hcl"&&_!=="lab")throw new Error(`Unknown color space: "${c.colorSpace}"`);var _;let x=function(F){switch(F){case"exponential":return r0;case"interval":return k_;case"categorical":return M_;case"identity":return E_;default:throw new Error(`Unknown function type "${F}"`)}}(m),I,E;if(m==="categorical"){I=Object.create(null);for(let F of c.stops)I[F[0]]=F[1];E=typeof c.stops[0][0]}if(l){let F={},V=[];for(let G=0;G<c.stops.length;G++){let U=c.stops[G],Q=U[0].zoom;F[Q]===void 0&&(F[Q]={zoom:Q,type:c.type,property:c.property,default:c.default,stops:[]},V.push(Q)),F[Q].stops.push([U[0].value,U[1]])}let N=[];for(let G of V)N.push([F[G].zoom,o0(F[G],o)]);let q={name:"linear"};return{kind:"composite",interpolationType:q,interpolationFactor:po.interpolationFactor.bind(void 0,q),zoomStops:N.map(G=>G[0]),evaluate:({zoom:G},U)=>r0({stops:N,base:c.base},o,G).evaluate(G,U)}}if(d){let F=m==="exponential"?{name:"exponential",base:c.base!==void 0?c.base:1}:null;return{kind:"camera",interpolationType:F,interpolationFactor:po.interpolationFactor.bind(void 0,F),zoomStops:c.stops.map(V=>V[0]),evaluate:({zoom:V})=>x(c,o,V,I,E)}}return{kind:"source",evaluate(F,V){let N=V&&V.properties?V.properties[c.property]:void 0;return N===void 0?Wc(c.default,o.default):x(c,o,N,I,E)}}}function Wc(c,o,l){return c!==void 0?c:o!==void 0?o:l!==void 0?l:void 0}function M_(c,o,l,d,m){return Wc(typeof l===m?d[l]:void 0,c.default,o.default)}function k_(c,o,l){if(Mi(l)!=="number")return Wc(c.default,o.default);let d=c.stops.length;if(d===1||l<=c.stops[0][0])return c.stops[0][1];if(l>=c.stops[d-1][0])return c.stops[d-1][1];let m=Ml(c.stops.map(g=>g[0]),l);return c.stops[m][1]}function r0(c,o,l){let d=c.base!==void 0?c.base:1;if(Mi(l)!=="number")return Wc(c.default,o.default);let m=c.stops.length;if(m===1||l<=c.stops[0][0])return c.stops[0][1];if(l>=c.stops[m-1][0])return c.stops[m-1][1];let g=Ml(c.stops.map(F=>F[0]),l),_=function(F,V,N,q){let G=q-N,U=F-N;return G===0?0:V===1?U/G:(Math.pow(V,U)-1)/(Math.pow(V,G)-1)}(l,d,c.stops[g][0],c.stops[g+1][0]),x=c.stops[g][1],I=c.stops[g+1][1],E=En[o.type]||S_;return typeof x.evaluate=="function"?{evaluate(...F){let V=x.evaluate.apply(void 0,F),N=I.evaluate.apply(void 0,F);if(V!==void 0&&N!==void 0)return E(V,N,_,c.colorSpace)}}:E(x,I,_,c.colorSpace)}function E_(c,o,l){switch(o.type){case"color":l=Ti.parse(l);break;case"formatted":l=wo.fromString(l.toString());break;case"resolvedImage":l=Vo.fromString(l.toString());break;case"padding":l=Wa.parse(l);break;case"colorArray":l=pi.parse(l);break;case"numberArray":l=On.parse(l);break;default:Mi(l)===o.type||o.type==="enum"&&o.values[l]||(l=void 0)}return Wc(l,c.default,o.default)}Wo.register(Ol,{error:[{kind:"error"},[wi],(c,[o])=>{throw new fn(o.evaluate(c))}],typeof:[wi,[yi],(c,[o])=>rn(ta(o.evaluate(c)))],"to-rgba":[lo(Pt,4),[Oo],(c,[o])=>{let[l,d,m,g]=o.evaluate(c).rgb;return[255*l,255*d,255*m,g]}],rgb:[Oo,[Pt,Pt,Pt],t0],rgba:[Oo,[Pt,Pt,Pt,Pt],t0],has:{type:Ii,overloads:[[[wi],(c,[o])=>i0(o.evaluate(c),c.properties())],[[wi,Hr],(c,[o,l])=>i0(o.evaluate(c),l.evaluate(c))]]},get:{type:yi,overloads:[[[wi],(c,[o])=>nh(o.evaluate(c),c.properties())],[[wi,Hr],(c,[o,l])=>nh(o.evaluate(c),l.evaluate(c))]]},"feature-state":[yi,[wi],(c,[o])=>nh(o.evaluate(c),c.featureState||{})],properties:[Hr,[],c=>c.properties()],"geometry-type":[wi,[],c=>c.geometryType()],id:[yi,[],c=>c.id()],zoom:[Pt,[],c=>c.globals.zoom],"heatmap-density":[Pt,[],c=>c.globals.heatmapDensity||0],elevation:[Pt,[],c=>c.globals.elevation||0],"line-progress":[Pt,[],c=>c.globals.lineProgress||0],accumulated:[yi,[],c=>c.globals.accumulated===void 0?null:c.globals.accumulated],"+":[Pt,$s(Pt),(c,o)=>{let l=0;for(let d of o)l+=d.evaluate(c);return l}],"*":[Pt,$s(Pt),(c,o)=>{let l=1;for(let d of o)l*=d.evaluate(c);return l}],"-":{type:Pt,overloads:[[[Pt,Pt],(c,[o,l])=>o.evaluate(c)-l.evaluate(c)],[[Pt],(c,[o])=>-o.evaluate(c)]]},"/":[Pt,[Pt,Pt],(c,[o,l])=>o.evaluate(c)/l.evaluate(c)],"%":[Pt,[Pt,Pt],(c,[o,l])=>o.evaluate(c)%l.evaluate(c)],ln2:[Pt,[],()=>Math.LN2],pi:[Pt,[],()=>Math.PI],e:[Pt,[],()=>Math.E],"^":[Pt,[Pt,Pt],(c,[o,l])=>Math.pow(o.evaluate(c),l.evaluate(c))],sqrt:[Pt,[Pt],(c,[o])=>Math.sqrt(o.evaluate(c))],log10:[Pt,[Pt],(c,[o])=>Math.log(o.evaluate(c))/Math.LN10],ln:[Pt,[Pt],(c,[o])=>Math.log(o.evaluate(c))],log2:[Pt,[Pt],(c,[o])=>Math.log(o.evaluate(c))/Math.LN2],sin:[Pt,[Pt],(c,[o])=>Math.sin(o.evaluate(c))],cos:[Pt,[Pt],(c,[o])=>Math.cos(o.evaluate(c))],tan:[Pt,[Pt],(c,[o])=>Math.tan(o.evaluate(c))],asin:[Pt,[Pt],(c,[o])=>Math.asin(o.evaluate(c))],acos:[Pt,[Pt],(c,[o])=>Math.acos(o.evaluate(c))],atan:[Pt,[Pt],(c,[o])=>Math.atan(o.evaluate(c))],min:[Pt,$s(Pt),(c,o)=>Math.min(...o.map(l=>l.evaluate(c)))],max:[Pt,$s(Pt),(c,o)=>Math.max(...o.map(l=>l.evaluate(c)))],abs:[Pt,[Pt],(c,[o])=>Math.abs(o.evaluate(c))],round:[Pt,[Pt],(c,[o])=>{let l=o.evaluate(c);return l<0?-Math.round(-l):Math.round(l)}],floor:[Pt,[Pt],(c,[o])=>Math.floor(o.evaluate(c))],ceil:[Pt,[Pt],(c,[o])=>Math.ceil(o.evaluate(c))],"filter-==":[Ii,[wi,yi],(c,[o,l])=>c.properties()[o.value]===l.value],"filter-id-==":[Ii,[yi],(c,[o])=>c.id()===o.value],"filter-type-==":[Ii,[wi],(c,[o])=>c.geometryType()===o.value],"filter-<":[Ii,[wi,yi],(c,[o,l])=>{let d=c.properties()[o.value],m=l.value;return typeof d==typeof m&&d<m}],"filter-id-<":[Ii,[yi],(c,[o])=>{let l=c.id(),d=o.value;return typeof l==typeof d&&l<d}],"filter->":[Ii,[wi,yi],(c,[o,l])=>{let d=c.properties()[o.value],m=l.value;return typeof d==typeof m&&d>m}],"filter-id->":[Ii,[yi],(c,[o])=>{let l=c.id(),d=o.value;return typeof l==typeof d&&l>d}],"filter-<=":[Ii,[wi,yi],(c,[o,l])=>{let d=c.properties()[o.value],m=l.value;return typeof d==typeof m&&d<=m}],"filter-id-<=":[Ii,[yi],(c,[o])=>{let l=c.id(),d=o.value;return typeof l==typeof d&&l<=d}],"filter->=":[Ii,[wi,yi],(c,[o,l])=>{let d=c.properties()[o.value],m=l.value;return typeof d==typeof m&&d>=m}],"filter-id->=":[Ii,[yi],(c,[o])=>{let l=c.id(),d=o.value;return typeof l==typeof d&&l>=d}],"filter-has":[Ii,[yi],(c,[o])=>o.value in c.properties()],"filter-has-id":[Ii,[],c=>c.id()!==null&&c.id()!==void 0],"filter-type-in":[Ii,[lo(wi)],(c,[o])=>o.value.indexOf(c.geometryType())>=0],"filter-id-in":[Ii,[lo(yi)],(c,[o])=>o.value.indexOf(c.id())>=0],"filter-in-small":[Ii,[wi,lo(yi)],(c,[o,l])=>l.value.indexOf(c.properties()[o.value])>=0],"filter-in-large":[Ii,[wi,lo(yi)],(c,[o,l])=>function(d,m,g,_){for(;g<=_;){let x=g+_>>1;if(m[x]===d)return!0;m[x]>d?_=x-1:g=x+1}return!1}(c.properties()[o.value],l.value,0,l.value.length-1)],all:{type:Ii,overloads:[[[Ii,Ii],(c,[o,l])=>o.evaluate(c)&&l.evaluate(c)],[$s(Ii),(c,o)=>{for(let l of o)if(!l.evaluate(c))return!1;return!0}]]},any:{type:Ii,overloads:[[[Ii,Ii],(c,[o,l])=>o.evaluate(c)||l.evaluate(c)],[$s(Ii),(c,o)=>{for(let l of o)if(l.evaluate(c))return!0;return!1}]]},"!":[Ii,[Ii],(c,[o])=>!o.evaluate(c)],"is-supported-script":[Ii,[wi],(c,[o])=>{let l=c.globals&&c.globals.isSupportedScript;return!l||l(o.evaluate(c))}],upcase:[wi,[wi],(c,[o])=>o.evaluate(c).toUpperCase()],downcase:[wi,[wi],(c,[o])=>o.evaluate(c).toLowerCase()],concat:[wi,$s(yi),(c,o)=>o.map(l=>Bs(l.evaluate(c))).join("")],"resolved-locale":[wi,[Lc],(c,[o])=>o.evaluate(c).resolvedLocale()]});class oh{constructor(o,l,d){this.expression=o,this._warningHistory={},this._evaluator=new jp,this._defaultValue=l?function(m){if(m.type==="color"&&ud(m.default))return new Ti(0,0,0,0);switch(m.type){case"color":return Ti.parse(m.default)||null;case"padding":return Wa.parse(m.default)||null;case"numberArray":return On.parse(m.default)||null;case"colorArray":return pi.parse(m.default)||null;case"variableAnchorOffsetCollection":return co.parse(m.default)||null;case"projectionDefinition":return uo.parse(m.default)||null;default:return m.default===void 0?null:m.default}}(l):null,this._enumValues=l&&l.type==="enum"?l.values:null,this._globalState=d}evaluateWithoutErrorHandling(o,l,d,m,g,_){return this._globalState&&(o=Ks(o,this._globalState)),this._evaluator.globals=o,this._evaluator.feature=l,this._evaluator.featureState=d,this._evaluator.canonical=m,this._evaluator.availableImages=g||null,this._evaluator.formattedSection=_,this.expression.evaluate(this._evaluator)}evaluate(o,l,d,m,g,_){this._globalState&&(o=Ks(o,this._globalState)),this._evaluator.globals=o,this._evaluator.feature=l||null,this._evaluator.featureState=d||null,this._evaluator.canonical=m,this._evaluator.availableImages=g||null,this._evaluator.formattedSection=_||null;try{let x=this.expression.evaluate(this._evaluator);if(x==null||typeof x=="number"&&x!=x)return this._defaultValue;if(this._enumValues&&!(x in this._enumValues))throw new fn(`Expected value to be one of ${Object.keys(this._enumValues).map(I=>JSON.stringify(I)).join(", ")}, but found ${JSON.stringify(x)} instead.`);return x}catch(x){return this._warningHistory[x.message]||(this._warningHistory[x.message]=!0,typeof console<"u"&&console.warn(x.message)),this._defaultValue}}}function Bl(c){return Array.isArray(c)&&c.length>0&&typeof c[0]=="string"&&c[0]in Ol}function Qc(c,o,l){let d=new Ns(Ol,sd,[],o?function(g){let _={color:Oo,string:wi,number:Pt,enum:wi,boolean:Ii,formatted:Ac,padding:Uu,numberArray:Fc,colorArray:yl,projectionDefinition:Gu,resolvedImage:vl,variableAnchorOffsetCollection:Oc};return g.type==="array"?lo(_[g.value]||yi,g.length):_[g.type]}(o):void 0),m=d.parse(c,void 0,void 0,void 0,o&&o.type==="string"?{typeAnnotation:"coerce"}:void 0);return m?n0(new oh(m,o,l)):Vl(d.errors)}class dd{constructor(o,l,d){this.kind=o,this._styleExpression=l,this.isStateDependent=o!=="constant"&&!Kc(l.expression),this.globalStateRefs=us(l.expression),this._globalState=d}evaluateWithoutErrorHandling(o,l,d,m,g,_){return this._globalState&&(o=Ks(o,this._globalState)),this._styleExpression.evaluateWithoutErrorHandling(o,l,d,m,g,_)}evaluate(o,l,d,m,g,_){return this._globalState&&(o=Ks(o,this._globalState)),this._styleExpression.evaluate(o,l,d,m,g,_)}}class rh{constructor(o,l,d,m,g){this.kind=o,this.zoomStops=d,this._styleExpression=l,this.isStateDependent=o!=="camera"&&!Kc(l.expression),this.globalStateRefs=us(l.expression),this.interpolationType=m,this._globalState=g}evaluateWithoutErrorHandling(o,l,d,m,g,_){return this._globalState&&(o=Ks(o,this._globalState)),this._styleExpression.evaluateWithoutErrorHandling(o,l,d,m,g,_)}evaluate(o,l,d,m,g,_){return this._globalState&&(o=Ks(o,this._globalState)),this._styleExpression.evaluate(o,l,d,m,g,_)}interpolationFactor(o,l,d){return this.interpolationType?po.interpolationFactor(this.interpolationType,o,l,d):0}}function sh(c,o,l){let d=Qc(c,o,l);if(d.result==="error")return d;let m=d.value.expression,g=ld(m);if(!g&&!zl(o))return Vl([new so("","data expressions not supported")]);let _=cd(m,["zoom"]);if(!_&&!a0(o))return Vl([new so("","zoom expressions not supported")]);let x=hd(m);return x||_?x instanceof so?Vl([x]):x instanceof po&&!ah(o)?Vl([new so("",'"interpolate" expressions cannot be used with this property')]):n0(x?new rh(g?"camera":"composite",d.value,x.labels,x instanceof po?x.interpolation:void 0,l):new dd(g?"constant":"source",d.value,l)):Vl([new so("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class pd{constructor(o,l){this._parameters=o,this._specification=l,ro(this,o0(this._parameters,this._specification))}static deserialize(o){return new pd(o._parameters,o._specification)}static serialize(o){return{_parameters:o._parameters,_specification:o._specification}}}function hd(c){let o=null;if(c instanceof gn)o=hd(c.result);else if(c instanceof qs){for(let l of c.args)if(o=hd(l),o)break}else(c instanceof cs||c instanceof po)&&c.input instanceof Wo&&c.input.name==="zoom"&&(o=c);return o instanceof so||c.eachChild(l=>{let d=hd(l);d instanceof so?o=d:!o&&d?o=new so("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):o&&d&&o!==d&&(o=new so("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),o}function us(c,o=new Set){return c instanceof $c&&o.add(c.key),c.eachChild(l=>{us(l,o)}),o}function Ks(c,o){let{zoom:l,heatmapDensity:d,elevation:m,lineProgress:g,isSupportedScript:_,accumulated:x}=c??{};return{zoom:l,heatmapDensity:d,elevation:m,lineProgress:g,isSupportedScript:_,accumulated:x,globalState:o}}function lh(c){if(c===!0||c===!1)return!0;if(!Array.isArray(c)||c.length===0)return!1;switch(c[0]){case"has":return c.length>=2&&c[1]!=="$id"&&c[1]!=="$type";case"in":return c.length>=3&&(typeof c[1]!="string"||Array.isArray(c[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return c.length!==3||Array.isArray(c[1])||Array.isArray(c[2]);case"any":case"all":for(let o of c.slice(1))if(!lh(o)&&typeof o!="boolean")return!1;return!0;default:return!0}}let P_={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Zc(c,o){if(c==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};lh(c)||(c=Xc(c));let l=Qc(c,P_,o);if(l.result==="error")throw new Error(l.value.map(d=>`${d.key}: ${d.message}`).join(", "));return{filter:(d,m,g)=>l.value.evaluate(d,m,{},g),needGeometry:s0(c),getGlobalStateRefs:()=>us(l.value.expression)}}function D_(c,o){return c<o?-1:c>o?1:0}function s0(c){if(!Array.isArray(c))return!1;if(c[0]==="within"||c[0]==="distance")return!0;for(let o=1;o<c.length;o++)if(s0(c[o]))return!0;return!1}function Xc(c){if(!c)return!0;let o=c[0];return c.length<=1?o!=="any":o==="=="?md(c[1],c[2],"=="):o==="!="?Yc(md(c[1],c[2],"==")):o==="<"||o===">"||o==="<="||o===">="?md(c[1],c[2],o):o==="any"?(l=c.slice(1),["any"].concat(l.map(Xc))):o==="all"?["all"].concat(c.slice(1).map(Xc)):o==="none"?["all"].concat(c.slice(1).map(Xc).map(Yc)):o==="in"?l0(c[1],c.slice(2)):o==="!in"?Yc(l0(c[1],c.slice(2))):o==="has"?c0(c[1]):o!=="!has"||Yc(c0(c[1]));var l}function md(c,o,l){switch(c){case"$type":return[`filter-type-${l}`,o];case"$id":return[`filter-id-${l}`,o];default:return[`filter-${l}`,c,o]}}function l0(c,o){if(o.length===0)return!1;switch(c){case"$type":return["filter-type-in",["literal",o]];case"$id":return["filter-id-in",["literal",o]];default:return o.length>200&&!o.some(l=>typeof l!=typeof o[0])?["filter-in-large",c,["literal",o.sort(D_)]]:["filter-in-small",c,["literal",o]]}}function c0(c){switch(c){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",c]}}function Yc(c){return["!",c]}function fd(c){let o=typeof c;if(o==="number"||o==="boolean"||o==="string"||c==null)return JSON.stringify(c);if(Array.isArray(c)){let m="[";for(let g of c)m+=`${fd(g)},`;return`${m}]`}let l=Object.keys(c).sort(),d="{";for(let m=0;m<l.length;m++)d+=`${JSON.stringify(l[m])}:${fd(c[l[m]])},`;return`${d}}`}function u0(c){let o="";for(let l of hn)o+=`/${fd(c[l])}`;return o}function d0(c){let o=c.value;return o?[new vt(c.key,o,"constants have been deprecated as of v8")]:[]}function ia(c){return c instanceof Number||c instanceof String||c instanceof Boolean?c.valueOf():c}function Ws(c){if(Array.isArray(c))return c.map(Ws);if(c instanceof Object&&!(c instanceof Number||c instanceof String||c instanceof Boolean)){let o={};for(let l in c)o[l]=Ws(c[l]);return o}return ia(c)}function zo(c){let o=c.key,l=c.value,d=c.valueSpec||{},m=c.objectElementValidators||{},g=c.style,_=c.styleSpec,x=c.validateSpec,I=[],E=Mi(l);if(E!=="object")return[new vt(o,l,`object expected, ${E} found`)];for(let F in l){let V=F.split(".")[0],N=Bc(d,V)||d["*"],q;if(Bc(m,V))q=m[V];else if(Bc(d,V)){if(l[F]===void 0)continue;q=x}else if(m["*"])q=m["*"];else{if(!d["*"]){I.push(new vt(o,l[F],`unknown property "${F}"`));continue}q=x}I=I.concat(q({key:(o&&`${o}.`)+F,value:l[F],valueSpec:N,style:g,styleSpec:_,object:l,objectKey:F,validateSpec:x},l))}for(let F in d)m[F]||d[F].required&&d[F].default===void 0&&l[F]===void 0&&I.push(new vt(o,l,`missing required property "${F}"`));return I}function gd(c){let o=c.value,l=c.valueSpec,d=c.style,m=c.styleSpec,g=c.key,_=c.arrayElementValidator||c.validateSpec;if(Mi(o)!=="array")return[new vt(g,o,`array expected, ${Mi(o)} found`)];if(l.length&&o.length!==l.length)return[new vt(g,o,`array length ${l.length} expected, length ${o.length} found`)];let x={type:l.value,values:l.values};m.$version<7&&(x.function=l.function),Mi(l.value)==="object"&&(x=l.value);let I=[];for(let E=0;E<o.length;E++)I=I.concat(_({array:o,arrayIndex:E,value:o[E],valueSpec:x,validateSpec:c.validateSpec,style:d,styleSpec:m,key:`${g}[${E}]`}));return I}function Jc(c){let o=c.key,l=c.value,d=c.valueSpec,m=Mi(l);return m==="number"&&l!=l&&(m="NaN"),m!=="number"?[new vt(o,l,`number expected, ${m} found`)]:"minimum"in d&&l<d.minimum?[new vt(o,l,`${l} is less than the minimum value ${d.minimum}`)]:"maximum"in d&&l>d.maximum?[new vt(o,l,`${l} is greater than the maximum value ${d.maximum}`)]:[]}function _d(c){let o=c.valueSpec,l=ia(c.value.type),d,m,g,_={},x=l!=="categorical"&&c.value.property===void 0,I=!x,E=Mi(c.value.stops)==="array"&&Mi(c.value.stops[0])==="array"&&Mi(c.value.stops[0][0])==="object",F=zo({key:c.key,value:c.value,valueSpec:c.styleSpec.function,validateSpec:c.validateSpec,style:c.style,styleSpec:c.styleSpec,objectElementValidators:{stops:function(q){if(l==="identity")return[new vt(q.key,q.value,'identity function may not have a "stops" property')];let G=[],U=q.value;return G=G.concat(gd({key:q.key,value:U,valueSpec:q.valueSpec,validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec,arrayElementValidator:V})),Mi(U)==="array"&&U.length===0&&G.push(new vt(q.key,U,"array must have at least one stop")),G},default:function(q){return q.validateSpec({key:q.key,value:q.value,valueSpec:o,validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec})}}});return l==="identity"&&x&&F.push(new vt(c.key,c.value,'missing required property "property"')),l==="identity"||c.value.stops||F.push(new vt(c.key,c.value,'missing required property "stops"')),l==="exponential"&&c.valueSpec.expression&&!ah(c.valueSpec)&&F.push(new vt(c.key,c.value,"exponential functions not supported")),c.styleSpec.$version>=8&&(I&&!zl(c.valueSpec)?F.push(new vt(c.key,c.value,"property functions not supported")):x&&!a0(c.valueSpec)&&F.push(new vt(c.key,c.value,"zoom functions not supported"))),l!=="categorical"&&!E||c.value.property!==void 0||F.push(new vt(c.key,c.value,'"property" property is required')),F;function V(q){let G=[],U=q.value,Q=q.key;if(Mi(U)!=="array")return[new vt(Q,U,`array expected, ${Mi(U)} found`)];if(U.length!==2)return[new vt(Q,U,`array length 2 expected, length ${U.length} found`)];if(E){if(Mi(U[0])!=="object")return[new vt(Q,U,`object expected, ${Mi(U[0])} found`)];if(U[0].zoom===void 0)return[new vt(Q,U,"object stop key must have zoom")];if(U[0].value===void 0)return[new vt(Q,U,"object stop key must have value")];if(g&&g>ia(U[0].zoom))return[new vt(Q,U[0].zoom,"stop zoom values must appear in ascending order")];ia(U[0].zoom)!==g&&(g=ia(U[0].zoom),m=void 0,_={}),G=G.concat(zo({key:`${Q}[0]`,value:U[0],valueSpec:{zoom:{}},validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec,objectElementValidators:{zoom:Jc,value:N}}))}else G=G.concat(N({key:`${Q}[0]`,value:U[0],validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec},U));return Bl(Ws(U[1]))?G.concat([new vt(`${Q}[1]`,U[1],"expressions are not allowed in function stops.")]):G.concat(q.validateSpec({key:`${Q}[1]`,value:U[1],valueSpec:o,validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec}))}function N(q,G){let U=Mi(q.value),Q=ia(q.value),ae=q.value!==null?q.value:G;if(d){if(U!==d)return[new vt(q.key,ae,`${U} stop domain type must match previous stop domain type ${d}`)]}else d=U;if(U!=="number"&&U!=="string"&&U!=="boolean")return[new vt(q.key,ae,"stop domain value must be a number, string, or boolean")];if(U!=="number"&&l!=="categorical"){let ge=`number expected, ${U} found`;return zl(o)&&l===void 0&&(ge+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new vt(q.key,ae,ge)]}return l!=="categorical"||U!=="number"||isFinite(Q)&&Math.floor(Q)===Q?l!=="categorical"&&U==="number"&&m!==void 0&&Q<m?[new vt(q.key,ae,"stop domain values must appear in ascending order")]:(m=Q,l==="categorical"&&Q in _?[new vt(q.key,ae,"stop domain values must be unique")]:(_[Q]=!0,[])):[new vt(q.key,ae,`integer expected, found ${Q}`)]}}function ds(c){let o=(c.expressionContext==="property"?sh:Qc)(Ws(c.value),c.valueSpec);if(o.result==="error")return o.value.map(d=>new vt(`${c.key}${d.key}`,c.value,d.message));let l=o.value.expression||o.value._styleExpression.expression;if(c.expressionContext==="property"&&c.propertyKey==="text-font"&&!l.outputDefined())return[new vt(c.key,c.value,`Invalid data expression for "${c.propertyKey}". Output values must be contained as literals within the expression.`)];if(c.expressionContext==="property"&&c.propertyType==="layout"&&!Kc(l))return[new vt(c.key,c.value,'"feature-state" data expressions are not supported with layout properties.')];if(c.expressionContext==="filter"&&!Kc(l))return[new vt(c.key,c.value,'"feature-state" data expressions are not supported with filters.')];if(c.expressionContext&&c.expressionContext.indexOf("cluster")===0){if(!cd(l,["zoom","feature-state"]))return[new vt(c.key,c.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(c.expressionContext==="cluster-initial"&&!ld(l))return[new vt(c.key,c.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function eu(c){let o=c.key,l=c.value,d=Mi(l);return d!=="string"?[new vt(o,l,`color expected, ${d} found`)]:Ti.parse(String(l))?[]:[new vt(o,l,`color expected, "${l}" found`)]}function Qs(c){let o=c.key,l=c.value,d=c.valueSpec,m=[];return Array.isArray(d.values)?d.values.indexOf(ia(l))===-1&&m.push(new vt(o,l,`expected one of [${d.values.join(", ")}], ${JSON.stringify(l)} found`)):Object.keys(d.values).indexOf(ia(l))===-1&&m.push(new vt(o,l,`expected one of [${Object.keys(d.values).join(", ")}], ${JSON.stringify(l)} found`)),m}function Rl(c){return lh(Ws(c.value))?ds(ro({},c,{expressionContext:"filter",valueSpec:{value:"boolean"}})):p0(c)}function p0(c){let o=c.value,l=c.key;if(Mi(o)!=="array")return[new vt(l,o,`array expected, ${Mi(o)} found`)];let d=c.styleSpec,m,g=[];if(o.length<1)return[new vt(l,o,"filter array must have at least 1 element")];switch(g=g.concat(Qs({key:`${l}[0]`,value:o[0],valueSpec:d.filter_operator,style:c.style,styleSpec:c.styleSpec})),ia(o[0])){case"<":case"<=":case">":case">=":o.length>=2&&ia(o[1])==="$type"&&g.push(new vt(l,o,`"$type" cannot be use with operator "${o[0]}"`));case"==":case"!=":o.length!==3&&g.push(new vt(l,o,`filter array for operator "${o[0]}" must have 3 elements`));case"in":case"!in":o.length>=2&&(m=Mi(o[1]),m!=="string"&&g.push(new vt(`${l}[1]`,o[1],`string expected, ${m} found`)));for(let _=2;_<o.length;_++)m=Mi(o[_]),ia(o[1])==="$type"?g=g.concat(Qs({key:`${l}[${_}]`,value:o[_],valueSpec:d.geometry_type,style:c.style,styleSpec:c.styleSpec})):m!=="string"&&m!=="number"&&m!=="boolean"&&g.push(new vt(`${l}[${_}]`,o[_],`string, number, or boolean expected, ${m} found`));break;case"any":case"all":case"none":for(let _=1;_<o.length;_++)g=g.concat(p0({key:`${l}[${_}]`,value:o[_],style:c.style,styleSpec:c.styleSpec}));break;case"has":case"!has":m=Mi(o[1]),o.length!==2?g.push(new vt(l,o,`filter array for "${o[0]}" operator must have 2 elements`)):m!=="string"&&g.push(new vt(`${l}[1]`,o[1],`string expected, ${m} found`))}return g}function h0(c,o){let l=c.key,d=c.validateSpec,m=c.style,g=c.styleSpec,_=c.value,x=c.objectKey,I=g[`${o}_${c.layerType}`];if(!I)return[];let E=x.match(/^(.*)-transition$/);if(o==="paint"&&E&&I[E[1]]&&I[E[1]].transition)return d({key:l,value:_,valueSpec:g.transition,style:m,styleSpec:g});let F=c.valueSpec||I[x];if(!F)return[new vt(l,_,`unknown property "${x}"`)];let V;if(Mi(_)==="string"&&zl(F)&&!F.tokens&&(V=/^{([^}]+)}$/.exec(_)))return[new vt(l,_,`"${x}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(V[1])} }\`.`)];let N=[];return c.layerType==="symbol"&&x==="text-font"&&ud(Ws(_))&&ia(_.type)==="identity"&&N.push(new vt(l,_,'"text-font" does not support identity functions')),N.concat(d({key:c.key,value:_,valueSpec:F,style:m,styleSpec:g,expressionContext:"property",propertyType:o,propertyKey:x}))}function m0(c){return h0(c,"paint")}function f0(c){return h0(c,"layout")}function g0(c){let o=[],l=c.value,d=c.key,m=c.style,g=c.styleSpec;if(Mi(l)!=="object")return[new vt(d,l,`object expected, ${Mi(l)} found`)];l.type||l.ref||o.push(new vt(d,l,'either "type" or "ref" is required'));let _=ia(l.type),x=ia(l.ref);if(l.id){let I=ia(l.id);for(let E=0;E<c.arrayIndex;E++){let F=m.layers[E];ia(F.id)===I&&o.push(new vt(d,l.id,`duplicate layer id "${l.id}", previously used at line ${F.id.__line__}`))}}if("ref"in l){let I;["type","source","source-layer","filter","layout"].forEach(E=>{E in l&&o.push(new vt(d,l[E],`"${E}" is prohibited for ref layers`))}),m.layers.forEach(E=>{ia(E.id)===x&&(I=E)}),I?I.ref?o.push(new vt(d,l.ref,"ref cannot reference another ref layer")):_=ia(I.type):o.push(new vt(d,l.ref,`ref layer "${x}" not found`))}else if(_!=="background")if(l.source){let I=m.sources&&m.sources[l.source],E=I&&ia(I.type);I?E==="vector"&&_==="raster"?o.push(new vt(d,l.source,`layer "${l.id}" requires a raster source`)):E!=="raster-dem"&&_==="hillshade"||E!=="raster-dem"&&_==="color-relief"?o.push(new vt(d,l.source,`layer "${l.id}" requires a raster-dem source`)):E==="raster"&&_!=="raster"?o.push(new vt(d,l.source,`layer "${l.id}" requires a vector source`)):E!=="vector"||l["source-layer"]?E==="raster-dem"&&_!=="hillshade"&&_!=="color-relief"?o.push(new vt(d,l.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):_!=="line"||!l.paint||!l.paint["line-gradient"]||E==="geojson"&&I.lineMetrics||o.push(new vt(d,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):o.push(new vt(d,l,`layer "${l.id}" must specify a "source-layer"`)):o.push(new vt(d,l.source,`source "${l.source}" not found`))}else o.push(new vt(d,l,'missing required property "source"'));return o=o.concat(zo({key:d,value:l,valueSpec:g.layer,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,objectElementValidators:{"*":()=>[],type:()=>c.validateSpec({key:`${d}.type`,value:l.type,valueSpec:g.layer.type,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,object:l,objectKey:"type"}),filter:Rl,layout:I=>zo({layer:l,key:I.key,value:I.value,style:I.style,styleSpec:I.styleSpec,validateSpec:I.validateSpec,objectElementValidators:{"*":E=>f0(ro({layerType:_},E))}}),paint:I=>zo({layer:l,key:I.key,value:I.value,style:I.style,styleSpec:I.styleSpec,validateSpec:I.validateSpec,objectElementValidators:{"*":E=>m0(ro({layerType:_},E))}})}})),o}function ps(c){let o=c.value,l=c.key,d=Mi(o);return d!=="string"?[new vt(l,o,`string expected, ${d} found`)]:[]}let ch={promoteId:function({key:c,value:o}){if(Mi(o)==="string")return ps({key:c,value:o});{let l=[];for(let d in o)l.push(...ps({key:`${c}.${d}`,value:o[d]}));return l}}};function uh(c){let o=c.value,l=c.key,d=c.styleSpec,m=c.style,g=c.validateSpec;if(!o.type)return[new vt(l,o,'"type" is required')];let _=ia(o.type),x;switch(_){case"vector":case"raster":return x=zo({key:l,value:o,valueSpec:d[`source_${_.replace("-","_")}`],style:c.style,styleSpec:d,objectElementValidators:ch,validateSpec:g}),x;case"raster-dem":return x=function(I){var E;let F=(E=I.sourceName)!==null&&E!==void 0?E:"",V=I.value,N=I.styleSpec,q=N.source_raster_dem,G=I.style,U=[],Q=Mi(V);if(V===void 0)return U;if(Q!=="object")return U.push(new vt("source_raster_dem",V,`object expected, ${Q} found`)),U;let ae=ia(V.encoding)==="custom",ge=["redFactor","greenFactor","blueFactor","baseShift"],se=I.value.encoding?`"${I.value.encoding}"`:"Default";for(let pe in V)!ae&&ge.includes(pe)?U.push(new vt(pe,V[pe],`In "${F}": "${pe}" is only valid when "encoding" is set to "custom". ${se} encoding found`)):q[pe]?U=U.concat(I.validateSpec({key:pe,value:V[pe],valueSpec:q[pe],validateSpec:I.validateSpec,style:G,styleSpec:N})):U.push(new vt(pe,V[pe],`unknown property "${pe}"`));return U}({sourceName:l,value:o,style:c.style,styleSpec:d,validateSpec:g}),x;case"geojson":if(x=zo({key:l,value:o,valueSpec:d.source_geojson,style:m,styleSpec:d,validateSpec:g,objectElementValidators:ch}),o.cluster)for(let I in o.clusterProperties){let[E,F]=o.clusterProperties[I],V=typeof E=="string"?[E,["accumulated"],["get",I]]:E;x.push(...ds({key:`${l}.${I}.map`,value:F,expressionContext:"cluster-map"})),x.push(...ds({key:`${l}.${I}.reduce`,value:V,expressionContext:"cluster-reduce"}))}return x;case"video":return zo({key:l,value:o,valueSpec:d.source_video,style:m,validateSpec:g,styleSpec:d});case"image":return zo({key:l,value:o,valueSpec:d.source_image,style:m,validateSpec:g,styleSpec:d});case"canvas":return[new vt(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Qs({key:`${l}.type`,value:o.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function tu(c){let o=c.value,l=c.styleSpec,d=l.light,m=c.style,g=[],_=Mi(o);if(o===void 0)return g;if(_!=="object")return g=g.concat([new vt("light",o,`object expected, ${_} found`)]),g;for(let x in o){let I=x.match(/^(.*)-transition$/);g=g.concat(I&&d[I[1]]&&d[I[1]].transition?c.validateSpec({key:x,value:o[x],valueSpec:l.transition,validateSpec:c.validateSpec,style:m,styleSpec:l}):d[x]?c.validateSpec({key:x,value:o[x],valueSpec:d[x],validateSpec:c.validateSpec,style:m,styleSpec:l}):[new vt(x,o[x],`unknown property "${x}"`)])}return g}function _0(c){let o=c.value,l=c.styleSpec,d=l.sky,m=c.style,g=Mi(o);if(o===void 0)return[];if(g!=="object")return[new vt("sky",o,`object expected, ${g} found`)];let _=[];for(let x in o)_=_.concat(d[x]?c.validateSpec({key:x,value:o[x],valueSpec:d[x],style:m,styleSpec:l}):[new vt(x,o[x],`unknown property "${x}"`)]);return _}function dh(c){let o=c.value,l=c.styleSpec,d=l.terrain,m=c.style,g=[],_=Mi(o);if(o===void 0)return g;if(_!=="object")return g=g.concat([new vt("terrain",o,`object expected, ${_} found`)]),g;for(let x in o)g=g.concat(d[x]?c.validateSpec({key:x,value:o[x],valueSpec:d[x],validateSpec:c.validateSpec,style:m,styleSpec:l}):[new vt(x,o[x],`unknown property "${x}"`)]);return g}function ph(c){let o=[],l=c.value,d=c.key;if(Array.isArray(l)){let m=[],g=[];for(let _ in l)l[_].id&&m.includes(l[_].id)&&o.push(new vt(d,l,`all the sprites' ids must be unique, but ${l[_].id} is duplicated`)),m.push(l[_].id),l[_].url&&g.includes(l[_].url)&&o.push(new vt(d,l,`all the sprites' URLs must be unique, but ${l[_].url} is duplicated`)),g.push(l[_].url),o=o.concat(zo({key:`${d}[${_}]`,value:l[_],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:c.validateSpec}));return o}return ps({key:d,value:l})}function b0(c){return!!c&&c.constructor===Object}function hh(c){return b0(c.value)?[]:[new vt(c.key,c.value,`object expected, ${Mi(c.value)} found`)]}let mh={"*":()=>[],array:gd,boolean:function(c){let o=c.value,l=c.key,d=Mi(o);return d!=="boolean"?[new vt(l,o,`boolean expected, ${d} found`)]:[]},number:Jc,color:eu,constants:d0,enum:Qs,filter:Rl,function:_d,layer:g0,object:zo,source:uh,light:tu,sky:_0,terrain:dh,projection:function(c){let o=c.value,l=c.styleSpec,d=l.projection,m=c.style,g=Mi(o);if(o===void 0)return[];if(g!=="object")return[new vt("projection",o,`object expected, ${g} found`)];let _=[];for(let x in o)_=_.concat(d[x]?c.validateSpec({key:x,value:o[x],valueSpec:d[x],style:m,styleSpec:l}):[new vt(x,o[x],`unknown property "${x}"`)]);return _},projectionDefinition:function(c){let o=c.key,l=c.value;l=l instanceof String?l.valueOf():l;let d=Mi(l);return d!=="array"||function(m){return Array.isArray(m)&&m.length===3&&typeof m[0]=="string"&&typeof m[1]=="string"&&typeof m[2]=="number"}(l)||function(m){return!!["interpolate","step","literal"].includes(m[0])}(l)?["array","string"].includes(d)?[]:[new vt(o,l,`projection expected, invalid type "${d}" found`)]:[new vt(o,l,`projection expected, invalid array ${JSON.stringify(l)} found`)]},string:ps,formatted:function(c){return ps(c).length===0?[]:ds(c)},resolvedImage:function(c){return ps(c).length===0?[]:ds(c)},padding:function(c){let o=c.key,l=c.value;if(Mi(l)==="array"){if(l.length<1||l.length>4)return[new vt(o,l,`padding requires 1 to 4 values; ${l.length} values found`)];let d={type:"number"},m=[];for(let g=0;g<l.length;g++)m=m.concat(c.validateSpec({key:`${o}[${g}]`,value:l[g],validateSpec:c.validateSpec,valueSpec:d}));return m}return Jc({key:o,value:l,valueSpec:{}})},numberArray:function(c){let o=c.key,l=c.value;if(Mi(l)==="array"){let d={type:"number"};if(l.length<1)return[new vt(o,l,"array length at least 1 expected, length 0 found")];let m=[];for(let g=0;g<l.length;g++)m=m.concat(c.validateSpec({key:`${o}[${g}]`,value:l[g],validateSpec:c.validateSpec,valueSpec:d}));return m}return Jc({key:o,value:l,valueSpec:{}})},colorArray:function(c){let o=c.key,l=c.value;if(Mi(l)==="array"){if(l.length<1)return[new vt(o,l,"array length at least 1 expected, length 0 found")];let d=[];for(let m=0;m<l.length;m++)d=d.concat(eu({key:`${o}[${m}]`,value:l[m]}));return d}return eu({key:o,value:l})},variableAnchorOffsetCollection:function(c){let o=c.key,l=c.value,d=Mi(l),m=c.styleSpec;if(d!=="array"||l.length<1||l.length%2!=0)return[new vt(o,l,"variableAnchorOffsetCollection requires a non-empty array of even length")];let g=[];for(let _=0;_<l.length;_+=2)g=g.concat(Qs({key:`${o}[${_}]`,value:l[_],valueSpec:m.layout_symbol["text-anchor"]})),g=g.concat(gd({key:`${o}[${_+1}]`,value:l[_+1],valueSpec:{length:2,value:"number"},validateSpec:c.validateSpec,style:c.style,styleSpec:m}));return g},sprite:ph,state:hh,fontFaces:function(c){let o=c.key,l=c.value,d=c.validateSpec,m=c.styleSpec,g=c.style;if(!b0(l))return[new vt(o,l,`object expected, ${Mi(l)} found`)];let _=[];for(let x in l){let I=l[x],E=Mi(I);if(E==="string")_.push(...ps({key:`${o}.${x}`,value:I}));else if(E==="array"){let F={url:{type:"string",required:!0},"unicode-range":{type:"array",value:"string"}};for(let[V,N]of I.entries())_.push(...zo({key:`${o}.${x}[${V}]`,value:N,valueSpec:F,styleSpec:m,style:g,validateSpec:d}))}else _.push(new vt(`${o}.${x}`,I,`string or array expected, ${E} found`))}return _}};function hs(c){let o=c.value,l=c.valueSpec,d=c.styleSpec;return c.validateSpec=hs,l.expression&&ud(ia(o))?_d(c):l.expression&&Bl(Ws(o))?ds(c):l.type&&mh[l.type]?mh[l.type](c):zo(ro({},c,{valueSpec:l.type?d[l.type]:l}))}function y0(c){let o=c.value,l=c.key,d=ps(c);return d.length||(o.indexOf("{fontstack}")===-1&&d.push(new vt(l,o,'"glyphs" url must include a "{fontstack}" token')),o.indexOf("{range}")===-1&&d.push(new vt(l,o,'"glyphs" url must include a "{range}" token'))),d}function Qo(c,o=He){let l=[];return l=l.concat(hs({key:"",value:c,valueSpec:o.$root,styleSpec:o,style:c,validateSpec:hs,objectElementValidators:{glyphs:y0,"*":()=>[]}})),c.constants&&(l=l.concat(d0({key:"constants",value:c.constants}))),v0(l)}function hr(c){return function(o){return c(Object.assign({},o,{validateSpec:hs}))}}function v0(c){return[].concat(c).sort((o,l)=>o.line-l.line)}function mr(c){return function(...o){return v0(c.apply(this,o))}}Qo.source=mr(hr(uh)),Qo.sprite=mr(hr(ph)),Qo.glyphs=mr(hr(y0)),Qo.light=mr(hr(tu)),Qo.sky=mr(hr(_0)),Qo.terrain=mr(hr(dh)),Qo.state=mr(hr(hh)),Qo.layer=mr(hr(g0)),Qo.filter=mr(hr(Rl)),Qo.paintProperty=mr(hr(m0)),Qo.layoutProperty=mr(hr(f0));let L_={type:"enum","property-type":"data-constant",expression:{interpolated:!1,parameters:["global-state"]},values:{visible:{},none:{}},transition:!1,default:"visible"};class iu{constructor(o,l){this._globalState=l,this.setValue(o)}evaluate(){var o;return(o=this._literalValue)!==null&&o!==void 0?o:this._compiledValue.evaluate({})}setValue(o){if(o==null||o==="visible"||o==="none")return this._literalValue=o==="none"?"none":"visible",this._compiledValue=void 0,void(this._globalStateRefs=new Set);let l=Qc(o,L_,this._globalState);if(l.result==="error")throw this._literalValue="visible",this._compiledValue=void 0,new Error(l.value.map(d=>`${d.key}: ${d.message}`).join(", "));this._literalValue=void 0,this._compiledValue=l.value,this._globalStateRefs=us(l.value.expression)}getGlobalStateRefs(){return this._globalStateRefs}}let nu=He,Da=Qo,au=Da.light,x0=Da.sky,A_=Da.paintProperty,F_=Da.layoutProperty;function Nl(c,o){let l=!1;if(o&&o.length)for(let d of o)c.fire(new cn(new Error(d.message))),l=!0;return l}class ql{constructor(o,l,d){let m=this.cells=[];if(o instanceof ArrayBuffer){this.arrayBuffer=o;let _=new Int32Array(this.arrayBuffer);o=_[0],this.d=(l=_[1])+2*(d=_[2]);for(let I=0;I<this.d*this.d;I++){let E=_[3+I],F=_[3+I+1];m.push(E===F?null:_.subarray(E,F))}let x=_[3+m.length+1];this.keys=_.subarray(_[3+m.length],x),this.bboxes=_.subarray(x),this.insert=this._insertReadonly}else{this.d=l+2*d;for(let _=0;_<this.d*this.d;_++)m.push([]);this.keys=[],this.bboxes=[]}this.n=l,this.extent=o,this.padding=d,this.scale=l/o,this.uid=0;let g=d/l*o;this.min=-g,this.max=o+g}insert(o,l,d,m,g){this._forEachCell(l,d,m,g,this._insertCell,this.uid++,void 0,void 0),this.keys.push(o),this.bboxes.push(l),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(g)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(o,l,d,m,g,_){this.cells[g].push(_)}query(o,l,d,m,g){let _=this.min,x=this.max;if(o<=_&&l<=_&&x<=d&&x<=m&&!g)return Array.prototype.slice.call(this.keys);{let I=[];return this._forEachCell(o,l,d,m,this._queryCell,I,{},g),I}}_queryCell(o,l,d,m,g,_,x,I){let E=this.cells[g];if(E!==null){let F=this.keys,V=this.bboxes;for(let N=0;N<E.length;N++){let q=E[N];if(x[q]===void 0){let G=4*q;(I?I(V[G+0],V[G+1],V[G+2],V[G+3]):o<=V[G+2]&&l<=V[G+3]&&d>=V[G+0]&&m>=V[G+1])?(x[q]=!0,_.push(F[q])):x[q]=!1}}}}_forEachCell(o,l,d,m,g,_,x,I){let E=this._convertToCellCoord(o),F=this._convertToCellCoord(l),V=this._convertToCellCoord(d),N=this._convertToCellCoord(m);for(let q=E;q<=V;q++)for(let G=F;G<=N;G++){let U=this.d*G+q;if((!I||I(this._convertFromCellCoord(q),this._convertFromCellCoord(G),this._convertFromCellCoord(q+1),this._convertFromCellCoord(G+1)))&&g.call(this,o,l,d,m,U,_,x,I))return}}_convertFromCellCoord(o){return(o-this.padding)/this.scale}_convertToCellCoord(o){return Math.max(0,Math.min(this.d-1,Math.floor(o*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;let o=this.cells,l=3+this.cells.length+1+1,d=0;for(let _=0;_<this.cells.length;_++)d+=this.cells[_].length;let m=new Int32Array(l+d+this.keys.length+this.bboxes.length);m[0]=this.extent,m[1]=this.n,m[2]=this.padding;let g=l;for(let _=0;_<o.length;_++){let x=o[_];m[3+_]=g,m.set(x,g),g+=x.length}return m[3+o.length]=g,m.set(this.keys,g),g+=this.keys.length,m[3+o.length+1]=g,m.set(this.bboxes,g),g+=this.bboxes.length,m.buffer}static serialize(o,l){let d=o.toArrayBuffer();return l&&l.push(d),{buffer:d}}static deserialize(o){return new ql(o.buffer)}}let fr={};function Nt(c,o,l={}){if(fr[c])throw new Error(`${c} is already registered.`);Object.defineProperty(o,"_classRegistryKey",{value:c,writeable:!1}),fr[c]={klass:o,omit:l.omit||[],shallow:l.shallow||[]}}Nt("Object",Object),Nt("Set",Set),Nt("TransferableGridIndex",ql),Nt("Color",Ti),Nt("Error",Error),Nt("AJAXError",Le),Nt("ResolvedImage",Vo),Nt("StylePropertyFunction",pd),Nt("StyleExpression",oh,{omit:["_evaluator"]}),Nt("ZoomDependentExpression",rh),Nt("ZoomConstantExpression",dd),Nt("CompoundExpression",Wo,{omit:["_evaluate"]});for(let c in Ol)Ol[c]._classRegistryKey||Nt(`Expression_${c}`,Ol[c]);function bd(c){return c&&typeof ArrayBuffer<"u"&&(c instanceof ArrayBuffer||c.constructor&&c.constructor.name==="ArrayBuffer")}function fh(c){return c.$name||c.constructor._classRegistryKey}function jl(c){return!function(o){if(o===null||typeof o!="object")return!1;let l=fh(o);return!(!l||l==="Object")}(c)&&(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob||c instanceof Error||bd(c)||as(c)||ArrayBuffer.isView(c)||c instanceof ImageData)}function ou(c,o){if(jl(c))return(bd(c)||as(c))&&o&&o.push(c),ArrayBuffer.isView(c)&&o&&o.push(c.buffer),c instanceof ImageData&&o&&o.push(c.data.buffer),c;if(Array.isArray(c)){let g=[];for(let _ of c)g.push(ou(_,o));return g}if(typeof c!="object")throw new Error("can't serialize object of type "+typeof c);let l=fh(c);if(!l)throw new Error(`can't serialize object of unregistered class ${c.constructor.name}`);if(!fr[l])throw new Error(`${l} is not registered.`);let{klass:d}=fr[l],m=d.serialize?d.serialize(c,o):{};if(d.serialize){if(o&&m===o[o.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(let g in c){if(!c.hasOwnProperty(g)||fr[l].omit.indexOf(g)>=0)continue;let _=c[g];m[g]=fr[l].shallow.indexOf(g)>=0?_:ou(_,o)}c instanceof Error&&(m.message=c.message)}if(m.$name)throw new Error("$name property is reserved for worker serialization logic.");return l!=="Object"&&(m.$name=l),m}function ru(c){if(jl(c))return c;if(Array.isArray(c))return c.map(ru);if(typeof c!="object")throw new Error("can't deserialize object of type "+typeof c);let o=fh(c)||"Object";if(!fr[o])throw new Error(`can't deserialize unregistered class ${o}`);let{klass:l}=fr[o];if(!l)throw new Error(`can't deserialize unregistered class ${o}`);if(l.deserialize)return l.deserialize(c);let d=Object.create(l.prototype);for(let m of Object.keys(c)){if(m==="$name")continue;let g=c[m];d[m]=fr[o].shallow.indexOf(m)>=0?g:ru(g)}return d}class gh{constructor(){this.first=!0}update(o,l){let d=Math.floor(o);return this.first?(this.first=!1,this.lastIntegerZoom=d,this.lastIntegerZoomTime=0,this.lastZoom=o,this.lastFloorZoom=d,!0):(this.lastFloorZoom>d?(this.lastIntegerZoom=d+1,this.lastIntegerZoomTime=l):this.lastFloorZoom<d&&(this.lastIntegerZoom=d,this.lastIntegerZoomTime=l),o!==this.lastZoom&&(this.lastZoom=o,this.lastFloorZoom=d,!0))}}function su(c){return/[\u02EA\u02EB\u2E80-\u2FDF\u2FF0-\u303F\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FD-\u30FF\u3105-\u312F\u31A0-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE4F\uFF00-\uFFEF]|\uD81B[\uDFE0-\uDFFF]|[\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFFF]|\uD82C[\uDC00-\uDEFB]|\uD83C[\uDE00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(c))}function _h(c){return/[\u02EA\u02EB\u1100-\u11FF\u1400-\u167F\u18B0-\u18F5\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u3007\u3012\u3013\u3020-\u302F\u3031-\u303F\u3041-\u3096\u309D-\u30FB\u30FD-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE48\uFE50-\uFE57\uFE5F-\uFE62\uFE67-\uFE6F\uFF00-\uFF07\uFF0A-\uFF0C\uFF0E-\uFF19\uFF1F-\uFF3A\uFF3C\uFF3E\uFF40-\uFF5A\uFFE0-\uFFE2\uFFE4-\uFFE7]|\uD802[\uDD80-\uDD9F]|\uD805[\uDD80-\uDDFF]|\uD806[\uDE00-\uDEBF]|\uD811[\uDC00-\uDE7F]|\uD81B[\uDFE0-\uDFE4\uDFF0-\uDFF6]|[\uD81C-\uD822\uD83D\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD30-\uDEFB]|\uD833[\uDEC0-\uDFCF]|\uD834[\uDC00-\uDDFF\uDEE0-\uDF7F]|\uD836[\uDC00-\uDEAF]|\uD83C[\uDC00-\uDE00\uDF00-\uDFFF]|\uD83E[\uDD00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(c))}function w0(c){return/\s/u.test(String.fromCodePoint(c))}function Hl(c){for(let o of c)if(_h(o.codePointAt(0)))return!0;return!1}function O_(c){for(let o of c)if(!I0(o.codePointAt(0)))return!1;return!0}function yd(c){let o=c.map(l=>{try{return new RegExp(`\\p{sc=${l}}`,"u").source}catch{return null}}).filter(l=>l);return new RegExp(o.join("|"),"u")}let vd=yd(["Arab","Dupl","Mong","Ougr","Syrc"]);function I0(c){return!vd.test(String.fromCodePoint(c))}function bh(c){return!(_h(c)||(o=c,/[\xA7\xA9\xAE\xB1\xBC-\xBE\xD7\xF7\u2016\u2020\u2021\u2030\u2031\u203B\u203C\u2042\u2047-\u2049\u2051\u2100-\u218F\u221E\u2234\u2235\u2300-\u2307\u230C-\u231F\u2324-\u2328\u232B\u237D-\u239A\u23BE-\u23CD\u23CF\u23D1-\u23DB\u23E2-\u2422\u2424-\u24FF\u25A0-\u2619\u2620-\u2767\u2776-\u2793\u2B12-\u2B2F\u2B50-\u2B59\u2BB8-\u2BEB\u3000-\u303F\u30A0-\u30FF\uE000-\uF8FF\uFE30-\uFE6F\uFF00-\uFFEF\uFFFC\uFFFD]|[\uDB80-\uDBFF][\uDC00-\uDFFF]/gim.test(String.fromCodePoint(o))));var o}let T0=yd(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function yh(c){return T0.test(String.fromCodePoint(c))}function vh(c,o){return!(!o&&yh(c)||/[\u0900-\u0DFF\u0F00-\u109F\u1780-\u17FF]/gim.test(String.fromCodePoint(c)))}function C0(c){for(let o of c)if(yh(o.codePointAt(0)))return!0;return!1}let ms=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(c){this.pluginStatus=c.pluginStatus,this.pluginURL=c.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(c){if(ms.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=c.applyArabicShaping,this.processBidirectionalText=c.processBidirectionalText,this.processStyledBidirectionalText=c.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(c,o){return a(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if(c.pluginStatus!=="loading")return this.setState(c),c;let l=c.pluginURL,d=new Promise(g=>{this.loadScriptResolve=g});o(l);let m=new Promise(g=>setTimeout(()=>g(),this.TIMEOUT));if(yield Promise.race([d,m]),this.isParsed()){let g={pluginStatus:"loaded",pluginURL:l};return this.setState(g),g}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${l}`)})}};class un{constructor(o,l){this.isSupportedScript=V_,this.zoom=o,l?(this.now=l.now||0,this.fadeDuration=l.fadeDuration||0,this.zoomHistory=l.zoomHistory||new gh,this.transition=l.transition||{}):(this.now=0,this.fadeDuration=0,this.zoomHistory=new gh,this.transition={})}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){let o=this.zoom,l=o-Math.floor(o),d=this.crossFadingFactor();return o>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:l+(1-l)*d}:{fromScale:.5,toScale:1,t:1-(1-d)*l}}}function V_(c){return function(o,l){for(let d of o)if(!vh(d.codePointAt(0),l))return!1;return!0}(c,ms.getRTLTextPluginStatus()==="loaded")}let lu="-transition";class xd{constructor(o,l,d){this.property=o,this.value=l,this.expression=function(m,g,_){if(ud(m))return new pd(m,g);if(Bl(m)){let x=sh(m,g,_);if(x.result==="error")throw new Error(x.value.map(I=>`${I.key}: ${I.message}`).join(", "));return x.value}{let x=m;return g.type==="color"&&typeof m=="string"?x=Ti.parse(m):g.type!=="padding"||typeof m!="number"&&!Array.isArray(m)?g.type!=="numberArray"||typeof m!="number"&&!Array.isArray(m)?g.type!=="colorArray"||typeof m!="string"&&!Array.isArray(m)?g.type==="variableAnchorOffsetCollection"&&Array.isArray(m)?x=co.parse(m):g.type==="projectionDefinition"&&typeof m=="string"&&(x=uo.parse(m)):x=pi.parse(m):x=On.parse(m):x=Wa.parse(m),{globalStateRefs:new Set,_globalState:null,kind:"constant",evaluate:()=>x}}}(l===void 0?o.specification.default:l,o.specification,d)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}getGlobalStateRefs(){return this.expression.globalStateRefs||new Set}possiblyEvaluate(o,l,d){return this.property.possiblyEvaluate(this,o,l,d)}}class wd{constructor(o,l){this.property=o,this.value=new xd(o,void 0,l)}transitioned(o,l){return new S0(this.property,this.value,l,jn({},o.transition,this.transition),o.now)}untransitioned(){return new S0(this.property,this.value,null,{},0)}}class xh{constructor(o,l){this._properties=o,this._values=Object.create(o.defaultTransitionablePropertyValues),this._globalState=l}getValue(o){return cr(this._values[o].value.value)}setValue(o,l){Object.prototype.hasOwnProperty.call(this._values,o)||(this._values[o]=new wd(this._values[o].property,this._globalState)),this._values[o].value=new xd(this._values[o].property,l===null?void 0:cr(l),this._globalState)}getTransition(o){return cr(this._values[o].transition)}setTransition(o,l){Object.prototype.hasOwnProperty.call(this._values,o)||(this._values[o]=new wd(this._values[o].property,this._globalState)),this._values[o].transition=cr(l)||void 0}serialize(){let o={};for(let l of Object.keys(this._values)){let d=this.getValue(l);d!==void 0&&(o[l]=d);let m=this.getTransition(l);m!==void 0&&(o[`${l}${lu}`]=m)}return o}transitioned(o,l){let d=new M0(this._properties);for(let m of Object.keys(this._values))d._values[m]=this._values[m].transitioned(o,l._values[m]);return d}untransitioned(){let o=new M0(this._properties);for(let l of Object.keys(this._values))o._values[l]=this._values[l].untransitioned();return o}}class S0{constructor(o,l,d,m,g){this.property=o,this.value=l,this.begin=g+m.delay||0,this.end=this.begin+m.duration||0,o.specification.transition&&(m.delay||m.duration)&&(this.prior=d)}possiblyEvaluate(o,l,d){let m=o.now||0,g=this.value.possiblyEvaluate(o,l,d),_=this.prior;if(_){if(m>this.end)return this.prior=null,g;if(this.value.isDataDriven())return this.prior=null,g;if(m<this.begin)return _.possiblyEvaluate(o,l,d);{let x=(m-this.begin)/(this.end-this.begin);return this.property.interpolate(_.possiblyEvaluate(o,l,d),g,kr(x))}}return g}}class M0{constructor(o){this._properties=o,this._values=Object.create(o.defaultTransitioningPropertyValues)}possiblyEvaluate(o,l,d){let m=new cu(this._properties);for(let g of Object.keys(this._values))m._values[g]=this._values[g].possiblyEvaluate(o,l,d);return m}hasTransition(){for(let o of Object.keys(this._values))if(this._values[o].prior)return!0;return!1}}class k0{constructor(o,l){this._properties=o,this._values=Object.create(o.defaultPropertyValues),this._globalState=l}hasValue(o){return this._values[o].value!==void 0}getValue(o){return cr(this._values[o].value)}setValue(o,l){this._values[o]=new xd(this._values[o].property,l===null?void 0:cr(l),this._globalState)}serialize(){let o={};for(let l of Object.keys(this._values)){let d=this.getValue(l);d!==void 0&&(o[l]=d)}return o}possiblyEvaluate(o,l,d){let m=new cu(this._properties);for(let g of Object.keys(this._values))m._values[g]=this._values[g].possiblyEvaluate(o,l,d);return m}}class gr{constructor(o,l,d){this.property=o,this.value=l,this.parameters=d}isConstant(){return this.value.kind==="constant"}constantOr(o){return this.value.kind==="constant"?this.value.value:o}evaluate(o,l,d,m){return this.property.evaluate(this.value,this.parameters,o,l,d,m)}}class cu{constructor(o){this._properties=o,this._values=Object.create(o.defaultPossiblyEvaluatedValues)}get(o){return this._values[o]}}class Zt{constructor(o){this.specification=o}possiblyEvaluate(o,l){if(o.isDataDriven())throw new Error("Value should not be data driven");return o.expression.evaluate(l)}interpolate(o,l,d){let m=En[this.specification.type];return m?m(o,l,d):o}}class ii{constructor(o,l){this.specification=o,this.overrides=l}possiblyEvaluate(o,l,d,m){return new gr(this,o.expression.kind==="constant"||o.expression.kind==="camera"?{kind:"constant",value:o.expression.evaluate(l,null,{},d,m)}:o.expression,l)}interpolate(o,l,d){if(o.value.kind!=="constant"||l.value.kind!=="constant")return o;if(o.value.value===void 0||l.value.value===void 0)return new gr(this,{kind:"constant",value:void 0},o.parameters);let m=En[this.specification.type];if(m){let g=m(o.value.value,l.value.value,d);return new gr(this,{kind:"constant",value:g},o.parameters)}return o}evaluate(o,l,d,m,g,_){return o.kind==="constant"?o.value:o.evaluate(l,d,m,g,_)}}class uu extends ii{possiblyEvaluate(o,l,d,m){if(o.value===void 0)return new gr(this,{kind:"constant",value:void 0},l);if(o.expression.kind==="constant"){let g=o.expression.evaluate(l,null,{},d,m),_=o.property.specification.type==="resolvedImage"&&typeof g!="string"?g.name:g,x=this._calculate(_,_,_,l);return new gr(this,{kind:"constant",value:x},l)}if(o.expression.kind==="camera"){let g=this._calculate(o.expression.evaluate({zoom:l.zoom-1}),o.expression.evaluate({zoom:l.zoom}),o.expression.evaluate({zoom:l.zoom+1}),l);return new gr(this,{kind:"constant",value:g},l)}return new gr(this,o.expression,l)}evaluate(o,l,d,m,g,_){if(o.kind==="source"){let x=o.evaluate(l,d,m,g,_);return this._calculate(x,x,x,l)}return o.kind==="composite"?this._calculate(o.evaluate({zoom:Math.floor(l.zoom)-1},d,m),o.evaluate({zoom:Math.floor(l.zoom)},d,m),o.evaluate({zoom:Math.floor(l.zoom)+1},d,m),l):o.value}_calculate(o,l,d,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:o,to:l}:{from:d,to:l}}interpolate(o){return o}}class Id{constructor(o){this.specification=o}possiblyEvaluate(o,l,d,m){if(o.value!==void 0){if(o.expression.kind==="constant"){let g=o.expression.evaluate(l,null,{},d,m);return this._calculate(g,g,g,l)}return this._calculate(o.expression.evaluate(new un(Math.floor(l.zoom-1),l)),o.expression.evaluate(new un(Math.floor(l.zoom),l)),o.expression.evaluate(new un(Math.floor(l.zoom+1),l)),l)}}_calculate(o,l,d,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:o,to:l}:{from:d,to:l}}interpolate(o){return o}}class Td{constructor(o){this.specification=o}possiblyEvaluate(o,l,d,m){return!!o.expression.evaluate(l,null,{},d,m)}interpolate(){return!1}}class ho{constructor(o){this.properties=o,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(let l in o){let d=o[l];d.specification.overridable&&this.overridableProperties.push(l);let m=this.defaultPropertyValues[l]=new xd(d,void 0,void 0),g=this.defaultTransitionablePropertyValues[l]=new wd(d,void 0);this.defaultTransitioningPropertyValues[l]=g.untransitioned(),this.defaultPossiblyEvaluatedValues[l]=m.possiblyEvaluate({})}}}Nt("DataDrivenProperty",ii),Nt("DataConstantProperty",Zt),Nt("CrossFadedDataDrivenProperty",uu),Nt("CrossFadedProperty",Id),Nt("ColorRampProperty",Td);class Zo extends Wi{constructor(o,l,d){if(super(),this.id=o.id,this.type=o.type,this._globalState=d,this._featureFilter={filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set},o.type!=="custom"&&(this.metadata=o.metadata,this.minzoom=o.minzoom,this.maxzoom=o.maxzoom,this._visibilityExpression=function(m,g){return new iu(m,g)}(this.visibility,d),o.type!=="background"&&(this.source=o.source,this.sourceLayer=o["source-layer"],this.filter=o.filter,this._featureFilter=Zc(o.filter,d)),l.layout&&(this._unevaluatedLayout=new k0(l.layout,d)),l.paint)){this._transitionablePaint=new xh(l.paint,d);for(let m in o.paint)this.setPaintProperty(m,o.paint[m],{validate:!1});for(let m in o.layout)this.setLayoutProperty(m,o.layout[m],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new cu(l.paint)}}setFilter(o){this.filter=o,this._featureFilter=Zc(o,this._globalState)}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(o){return o==="visibility"?this.visibility:this._unevaluatedLayout.getValue(o)}getLayoutAffectingGlobalStateRefs(){let o=new Set;for(let l of this._visibilityExpression.getGlobalStateRefs())o.add(l);if(this._unevaluatedLayout)for(let l in this._unevaluatedLayout._values){let d=this._unevaluatedLayout._values[l];for(let m of d.getGlobalStateRefs())o.add(m)}for(let l of this._featureFilter.getGlobalStateRefs())o.add(l);return o}getPaintAffectingGlobalStateRefs(){var o;let l=new globalThis.Map;if(this._transitionablePaint)for(let d in this._transitionablePaint._values){let m=this._transitionablePaint._values[d].value;for(let g of m.getGlobalStateRefs()){let _=(o=l.get(g))!==null&&o!==void 0?o:[];_.push({name:d,value:m.value}),l.set(g,_)}}return l}getVisibilityAffectingGlobalStateRefs(){return this._visibilityExpression.getGlobalStateRefs()}setLayoutProperty(o,l,d={}){if(l==null||!this._validate(F_,`layers.${this.id}.layout.${o}`,o,l,d))return o==="visibility"?(this.visibility=l,this._visibilityExpression.setValue(l),void this.recalculateVisibility()):void this._unevaluatedLayout.setValue(o,l)}getPaintProperty(o){return o.endsWith(lu)?this._transitionablePaint.getTransition(o.slice(0,-11)):this._transitionablePaint.getValue(o)}setPaintProperty(o,l,d={}){if(l!=null&&this._validate(A_,`layers.${this.id}.paint.${o}`,o,l,d))return!1;if(o.endsWith(lu))return this._transitionablePaint.setTransition(o.slice(0,-11),l||void 0),!1;{let m=this._transitionablePaint._values[o],g=m.property.specification["property-type"]==="cross-faded-data-driven",_=m.value.isDataDriven(),x=m.value;this._transitionablePaint.setValue(o,l),this._handleSpecialPaintPropertyUpdate(o);let I=this._transitionablePaint._values[o].value;return I.isDataDriven()||_||g||this._handleOverridablePaintPropertyUpdate(o,x,I)}}_handleSpecialPaintPropertyUpdate(o){}_handleOverridablePaintPropertyUpdate(o,l,d){return!1}isHidden(o=this.minzoom,l=!1){return!!(this.minzoom&&o<(l?Math.floor(this.minzoom):this.minzoom))||!!(this.maxzoom&&o>=this.maxzoom)||this._evaluatedVisibility==="none"}updateTransitions(o){this._transitioningPaint=this._transitionablePaint.transitioned(o,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculateVisibility(){this._evaluatedVisibility=this._visibilityExpression.evaluate()}recalculate(o,l){o.getCrossfadeParameters&&(this._crossfadeParameters=o.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(o,void 0,l)),this.paint=this._transitioningPaint.possiblyEvaluate(o,void 0,l)}serialize(){let o={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(o.layout=o.layout||{},o.layout.visibility=this.visibility),kc(o,(l,d)=>!(l===void 0||d==="layout"&&!Object.keys(l).length||d==="paint"&&!Object.keys(l).length))}_validate(o,l,d,m,g={}){return(!g||g.validate!==!1)&&Nl(this,o.call(Da,{key:l,layerType:this.type,objectKey:d,value:m,styleSpec:He,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(let o in this.paint._values){let l=this.paint.get(o);if(l instanceof gr&&zl(l.property.specification)&&(l.value.kind==="source"||l.value.kind==="composite")&&l.value.isStateDependent)return!0}return!1}}let wh;var E0={get paint(){return wh=wh||new ho({"raster-opacity":new Zt(He.paint_raster["raster-opacity"]),"raster-hue-rotate":new Zt(He.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Zt(He.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Zt(He.paint_raster["raster-brightness-max"]),"raster-saturation":new Zt(He.paint_raster["raster-saturation"]),"raster-contrast":new Zt(He.paint_raster["raster-contrast"]),"raster-resampling":new Zt(He.paint_raster["raster-resampling"]),"raster-fade-duration":new Zt(He.paint_raster["raster-fade-duration"])})}};class z_ extends Zo{constructor(o,l){super(o,E0,l)}}let B_={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class du{constructor(o,l){this._structArray=o,this._pos1=l*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Vn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(o,l){return o._trim(),l&&(o.isTransferred=!0,l.push(o.arrayBuffer)),{length:o.length,arrayBuffer:o.arrayBuffer}}static deserialize(o){let l=Object.create(this.prototype);return l.arrayBuffer=o.arrayBuffer,l.length=o.length,l.capacity=o.arrayBuffer.byteLength/l.bytesPerElement,l._refreshViews(),l}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(o){this.reserve(o),this.length=o}reserve(o){if(o>this.capacity){this.capacity=Math.max(o,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);let l=this.uint8;this._refreshViews(),l&&this.uint8.set(l)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function na(c,o=1){let l=0,d=0;return{members:c.map(m=>{let g=B_[m.type].BYTES_PER_ELEMENT,_=l=Zs(l,Math.max(o,g)),x=m.components||1;return d=Math.max(d,g),l+=g*x,{name:m.name,type:m.type,components:x,offset:_}}),size:Zs(l,Math.max(d,o)),alignment:o}}function Zs(c,o){return Math.ceil(c/o)*o}class pu extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l){let d=this.length;return this.resize(d+1),this.emplace(d,o,l)}emplace(o,l,d){let m=2*o;return this.int16[m+0]=l,this.int16[m+1]=d,o}}pu.prototype.bytesPerElement=4,Nt("StructArrayLayout2i4",pu);class Cd extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,d){let m=this.length;return this.resize(m+1),this.emplace(m,o,l,d)}emplace(o,l,d,m){let g=3*o;return this.int16[g+0]=l,this.int16[g+1]=d,this.int16[g+2]=m,o}}Cd.prototype.bytesPerElement=6,Nt("StructArrayLayout3i6",Cd);class Ih extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,d,m){let g=this.length;return this.resize(g+1),this.emplace(g,o,l,d,m)}emplace(o,l,d,m,g){let _=4*o;return this.int16[_+0]=l,this.int16[_+1]=d,this.int16[_+2]=m,this.int16[_+3]=g,o}}Ih.prototype.bytesPerElement=8,Nt("StructArrayLayout4i8",Ih);class Sd extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,d,m,g,_){let x=this.length;return this.resize(x+1),this.emplace(x,o,l,d,m,g,_)}emplace(o,l,d,m,g,_,x){let I=6*o;return this.int16[I+0]=l,this.int16[I+1]=d,this.int16[I+2]=m,this.int16[I+3]=g,this.int16[I+4]=_,this.int16[I+5]=x,o}}Sd.prototype.bytesPerElement=12,Nt("StructArrayLayout2i4i12",Sd);class Th extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,d,m,g,_){let x=this.length;return this.resize(x+1),this.emplace(x,o,l,d,m,g,_)}emplace(o,l,d,m,g,_,x){let I=4*o,E=8*o;return this.int16[I+0]=l,this.int16[I+1]=d,this.uint8[E+4]=m,this.uint8[E+5]=g,this.uint8[E+6]=_,this.uint8[E+7]=x,o}}Th.prototype.bytesPerElement=8,Nt("StructArrayLayout2i4ub8",Th);class hu extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l){let d=this.length;return this.resize(d+1),this.emplace(d,o,l)}emplace(o,l,d){let m=2*o;return this.float32[m+0]=l,this.float32[m+1]=d,o}}hu.prototype.bytesPerElement=8,Nt("StructArrayLayout2f8",hu);class Ur extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,d,m,g,_,x,I,E,F){let V=this.length;return this.resize(V+1),this.emplace(V,o,l,d,m,g,_,x,I,E,F)}emplace(o,l,d,m,g,_,x,I,E,F,V){let N=10*o;return this.uint16[N+0]=l,this.uint16[N+1]=d,this.uint16[N+2]=m,this.uint16[N+3]=g,this.uint16[N+4]=_,this.uint16[N+5]=x,this.uint16[N+6]=I,this.uint16[N+7]=E,this.uint16[N+8]=F,this.uint16[N+9]=V,o}}Ur.prototype.bytesPerElement=20,Nt("StructArrayLayout10ui20",Ur);class Md extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,d,m,g,_,x,I){let E=this.length;return this.resize(E+1),this.emplace(E,o,l,d,m,g,_,x,I)}emplace(o,l,d,m,g,_,x,I,E){let F=8*o;return this.uint16[F+0]=l,this.uint16[F+1]=d,this.uint16[F+2]=m,this.uint16[F+3]=g,this.uint16[F+4]=_,this.uint16[F+5]=x,this.uint16[F+6]=I,this.uint16[F+7]=E,o}}Md.prototype.bytesPerElement=16,Nt("StructArrayLayout8ui16",Md);class mu extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,d,m,g,_,x,I,E,F,V,N){let q=this.length;return this.resize(q+1),this.emplace(q,o,l,d,m,g,_,x,I,E,F,V,N)}emplace(o,l,d,m,g,_,x,I,E,F,V,N,q){let G=12*o;return this.int16[G+0]=l,this.int16[G+1]=d,this.int16[G+2]=m,this.int16[G+3]=g,this.uint16[G+4]=_,this.uint16[G+5]=x,this.uint16[G+6]=I,this.uint16[G+7]=E,this.int16[G+8]=F,this.int16[G+9]=V,this.int16[G+10]=N,this.int16[G+11]=q,o}}mu.prototype.bytesPerElement=24,Nt("StructArrayLayout4i4ui4i24",mu);class kd extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,d){let m=this.length;return this.resize(m+1),this.emplace(m,o,l,d)}emplace(o,l,d,m){let g=3*o;return this.float32[g+0]=l,this.float32[g+1]=d,this.float32[g+2]=m,o}}kd.prototype.bytesPerElement=12,Nt("StructArrayLayout3f12",kd);class fu extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o){let l=this.length;return this.resize(l+1),this.emplace(l,o)}emplace(o,l){return this.uint32[1*o+0]=l,o}}fu.prototype.bytesPerElement=4,Nt("StructArrayLayout1ul4",fu);class Ch extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,d,m,g,_,x,I,E){let F=this.length;return this.resize(F+1),this.emplace(F,o,l,d,m,g,_,x,I,E)}emplace(o,l,d,m,g,_,x,I,E,F){let V=10*o,N=5*o;return this.int16[V+0]=l,this.int16[V+1]=d,this.int16[V+2]=m,this.int16[V+3]=g,this.int16[V+4]=_,this.int16[V+5]=x,this.uint32[N+3]=I,this.uint16[V+8]=E,this.uint16[V+9]=F,o}}Ch.prototype.bytesPerElement=20,Nt("StructArrayLayout6i1ul2ui20",Ch);class Gl extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,d,m,g,_){let x=this.length;return this.resize(x+1),this.emplace(x,o,l,d,m,g,_)}emplace(o,l,d,m,g,_,x){let I=6*o;return this.int16[I+0]=l,this.int16[I+1]=d,this.int16[I+2]=m,this.int16[I+3]=g,this.int16[I+4]=_,this.int16[I+5]=x,o}}Gl.prototype.bytesPerElement=12,Nt("StructArrayLayout2i2i2i12",Gl);class Xs extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,d,m,g){let _=this.length;return this.resize(_+1),this.emplace(_,o,l,d,m,g)}emplace(o,l,d,m,g,_){let x=4*o,I=8*o;return this.float32[x+0]=l,this.float32[x+1]=d,this.float32[x+2]=m,this.int16[I+6]=g,this.int16[I+7]=_,o}}Xs.prototype.bytesPerElement=16,Nt("StructArrayLayout2f1f2i16",Xs);class Sh extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,d,m,g,_){let x=this.length;return this.resize(x+1),this.emplace(x,o,l,d,m,g,_)}emplace(o,l,d,m,g,_,x){let I=16*o,E=4*o,F=8*o;return this.uint8[I+0]=l,this.uint8[I+1]=d,this.float32[E+1]=m,this.float32[E+2]=g,this.int16[F+6]=_,this.int16[F+7]=x,o}}Sh.prototype.bytesPerElement=16,Nt("StructArrayLayout2ub2f2i16",Sh);class gu extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,d){let m=this.length;return this.resize(m+1),this.emplace(m,o,l,d)}emplace(o,l,d,m){let g=3*o;return this.uint16[g+0]=l,this.uint16[g+1]=d,this.uint16[g+2]=m,o}}gu.prototype.bytesPerElement=6,Nt("StructArrayLayout3ui6",gu);class Ys extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,d,m,g,_,x,I,E,F,V,N,q,G,U,Q,ae){let ge=this.length;return this.resize(ge+1),this.emplace(ge,o,l,d,m,g,_,x,I,E,F,V,N,q,G,U,Q,ae)}emplace(o,l,d,m,g,_,x,I,E,F,V,N,q,G,U,Q,ae,ge){let se=24*o,pe=12*o,ye=48*o;return this.int16[se+0]=l,this.int16[se+1]=d,this.uint16[se+2]=m,this.uint16[se+3]=g,this.uint32[pe+2]=_,this.uint32[pe+3]=x,this.uint32[pe+4]=I,this.uint16[se+10]=E,this.uint16[se+11]=F,this.uint16[se+12]=V,this.float32[pe+7]=N,this.float32[pe+8]=q,this.uint8[ye+36]=G,this.uint8[ye+37]=U,this.uint8[ye+38]=Q,this.uint32[pe+10]=ae,this.int16[se+22]=ge,o}}Ys.prototype.bytesPerElement=48,Nt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ys);class Mh extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,d,m,g,_,x,I,E,F,V,N,q,G,U,Q,ae,ge,se,pe,ye,Te,Ve,at,et,ut,Ct,ht){let tt=this.length;return this.resize(tt+1),this.emplace(tt,o,l,d,m,g,_,x,I,E,F,V,N,q,G,U,Q,ae,ge,se,pe,ye,Te,Ve,at,et,ut,Ct,ht)}emplace(o,l,d,m,g,_,x,I,E,F,V,N,q,G,U,Q,ae,ge,se,pe,ye,Te,Ve,at,et,ut,Ct,ht,tt){let $e=32*o,Bt=16*o;return this.int16[$e+0]=l,this.int16[$e+1]=d,this.int16[$e+2]=m,this.int16[$e+3]=g,this.int16[$e+4]=_,this.int16[$e+5]=x,this.int16[$e+6]=I,this.int16[$e+7]=E,this.uint16[$e+8]=F,this.uint16[$e+9]=V,this.uint16[$e+10]=N,this.uint16[$e+11]=q,this.uint16[$e+12]=G,this.uint16[$e+13]=U,this.uint16[$e+14]=Q,this.uint16[$e+15]=ae,this.uint16[$e+16]=ge,this.uint16[$e+17]=se,this.uint16[$e+18]=pe,this.uint16[$e+19]=ye,this.uint16[$e+20]=Te,this.uint16[$e+21]=Ve,this.uint16[$e+22]=at,this.uint32[Bt+12]=et,this.float32[Bt+13]=ut,this.float32[Bt+14]=Ct,this.uint16[$e+30]=ht,this.uint16[$e+31]=tt,o}}Mh.prototype.bytesPerElement=64,Nt("StructArrayLayout8i15ui1ul2f2ui64",Mh);class Ed extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o){let l=this.length;return this.resize(l+1),this.emplace(l,o)}emplace(o,l){return this.float32[1*o+0]=l,o}}Ed.prototype.bytesPerElement=4,Nt("StructArrayLayout1f4",Ed);class Pd extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,d){let m=this.length;return this.resize(m+1),this.emplace(m,o,l,d)}emplace(o,l,d,m){let g=3*o;return this.uint16[6*o+0]=l,this.float32[g+1]=d,this.float32[g+2]=m,o}}Pd.prototype.bytesPerElement=12,Nt("StructArrayLayout1ui2f12",Pd);class kh extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,d){let m=this.length;return this.resize(m+1),this.emplace(m,o,l,d)}emplace(o,l,d,m){let g=4*o;return this.uint32[2*o+0]=l,this.uint16[g+2]=d,this.uint16[g+3]=m,o}}kh.prototype.bytesPerElement=8,Nt("StructArrayLayout1ul2ui8",kh);class b extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l){let d=this.length;return this.resize(d+1),this.emplace(d,o,l)}emplace(o,l,d){let m=2*o;return this.uint16[m+0]=l,this.uint16[m+1]=d,o}}b.prototype.bytesPerElement=4,Nt("StructArrayLayout2ui4",b);class r extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o){let l=this.length;return this.resize(l+1),this.emplace(l,o)}emplace(o,l){return this.uint16[1*o+0]=l,o}}r.prototype.bytesPerElement=2,Nt("StructArrayLayout1ui2",r);class u extends Vn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,d,m){let g=this.length;return this.resize(g+1),this.emplace(g,o,l,d,m)}emplace(o,l,d,m,g){let _=4*o;return this.float32[_+0]=l,this.float32[_+1]=d,this.float32[_+2]=m,this.float32[_+3]=g,o}}u.prototype.bytesPerElement=16,Nt("StructArrayLayout4f16",u);class h extends du{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new p(this.anchorPointX,this.anchorPointY)}}h.prototype.size=20;class f extends Ch{get(o){return new h(this,o)}}Nt("CollisionBoxArray",f);class v extends du{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(o){this._structArray.uint8[this._pos1+37]=o}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(o){this._structArray.uint8[this._pos1+38]=o}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(o){this._structArray.uint32[this._pos4+10]=o}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}v.prototype.size=48;class w extends Ys{get(o){return new v(this,o)}}Nt("PlacedSymbolArray",w);class k extends du{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(o){this._structArray.uint32[this._pos4+12]=o}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}k.prototype.size=64;class P extends Mh{get(o){return new k(this,o)}}Nt("SymbolInstanceArray",P);class O extends Ed{getoffsetX(o){return this.float32[1*o+0]}}Nt("GlyphOffsetArray",O);class z extends Cd{getx(o){return this.int16[3*o+0]}gety(o){return this.int16[3*o+1]}gettileUnitDistanceFromAnchor(o){return this.int16[3*o+2]}}Nt("SymbolLineVertexArray",z);class H extends du{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}H.prototype.size=12;class j extends Pd{get(o){return new H(this,o)}}Nt("TextAnchorOffsetArray",j);class W extends du{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}W.prototype.size=8;class ie extends kh{get(o){return new W(this,o)}}Nt("FeatureIndexArray",ie);class he extends pu{}class fe extends pu{}class me extends pu{}class be extends Sd{}class Se extends Th{}class _e extends hu{}class Ce extends Ur{}class Pe extends Md{}class xe extends mu{}class Ae extends kd{}class Ze extends fu{}class qe extends Gl{}class Ge extends Sh{}class Ue extends gu{}class xt extends b{}let It=na([{name:"a_pos",components:2,type:"Int16"}],4),{members:pt}=It;class kt{constructor(o=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=o}prepareSegment(o,l,d,m){let g=this.segments[this.segments.length-1];return o>kt.MAX_VERTEX_ARRAY_LENGTH&&Pa(`Max vertices per segment is ${kt.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${o}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${kt.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!g||g.vertexLength+o>kt.MAX_VERTEX_ARRAY_LENGTH||g.sortKey!==m?this.createNewSegment(l,d,m):g}createNewSegment(o,l,d){let m={vertexOffset:o.length,primitiveOffset:l.length,vertexLength:0,primitiveLength:0,vaos:{}};return d!==void 0&&(m.sortKey=d),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(m),m}getOrCreateLatestSegment(o,l,d){return this.prepareSegment(0,o,l,d)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(let o of this.segments)for(let l in o.vaos)o.vaos[l].destroy()}static simpleSegment(o,l,d,m){return new kt([{vertexOffset:o,primitiveOffset:l,vertexLength:d,primitiveLength:m,vaos:{},sortKey:0}])}}function _i(c,o){return 256*(c=xa(Math.floor(c),0,255))+xa(Math.floor(o),0,255)}kt.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Nt("SegmentVector",kt);let tn=na([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Sn=na([{name:"a_dasharray_from",components:4,type:"Uint16"},{name:"a_dasharray_to",components:4,type:"Uint16"}]);var _n,Pn,bn,Kn={exports:{}},Dn={exports:{}},La={exports:{}},la=function(){if(bn)return Kn.exports;bn=1;var c=(_n||(_n=1,Dn.exports=function(l,d){var m,g,_,x,I,E,F,V;for(g=l.length-(m=3&l.length),_=d,I=3432918353,E=461845907,V=0;V<g;)F=255&l.charCodeAt(V)|(255&l.charCodeAt(++V))<<8|(255&l.charCodeAt(++V))<<16|(255&l.charCodeAt(++V))<<24,++V,_=27492+(65535&(x=5*(65535&(_=(_^=F=(65535&(F=(F=(65535&F)*I+(((F>>>16)*I&65535)<<16)&4294967295)<<15|F>>>17))*E+(((F>>>16)*E&65535)<<16)&4294967295)<<13|_>>>19))+((5*(_>>>16)&65535)<<16)&4294967295))+((58964+(x>>>16)&65535)<<16);switch(F=0,m){case 3:F^=(255&l.charCodeAt(V+2))<<16;case 2:F^=(255&l.charCodeAt(V+1))<<8;case 1:_^=F=(65535&(F=(F=(65535&(F^=255&l.charCodeAt(V)))*I+(((F>>>16)*I&65535)<<16)&4294967295)<<15|F>>>17))*E+(((F>>>16)*E&65535)<<16)&4294967295}return _^=l.length,_=2246822507*(65535&(_^=_>>>16))+((2246822507*(_>>>16)&65535)<<16)&4294967295,_=3266489909*(65535&(_^=_>>>13))+((3266489909*(_>>>16)&65535)<<16)&4294967295,(_^=_>>>16)>>>0}),Dn.exports),o=(Pn||(Pn=1,La.exports=function(l,d){for(var m,g=l.length,_=d^g,x=0;g>=4;)m=1540483477*(65535&(m=255&l.charCodeAt(x)|(255&l.charCodeAt(++x))<<8|(255&l.charCodeAt(++x))<<16|(255&l.charCodeAt(++x))<<24))+((1540483477*(m>>>16)&65535)<<16),_=1540483477*(65535&_)+((1540483477*(_>>>16)&65535)<<16)^(m=1540483477*(65535&(m^=m>>>24))+((1540483477*(m>>>16)&65535)<<16)),g-=4,++x;switch(g){case 3:_^=(255&l.charCodeAt(x+2))<<16;case 2:_^=(255&l.charCodeAt(x+1))<<8;case 1:_=1540483477*(65535&(_^=255&l.charCodeAt(x)))+((1540483477*(_>>>16)&65535)<<16)}return _=1540483477*(65535&(_^=_>>>13))+((1540483477*(_>>>16)&65535)<<16),(_^=_>>>15)>>>0}),La.exports);return Kn.exports=c,Kn.exports.murmur3=c,Kn.exports.murmur2=o,Kn.exports}(),aa=y(la);class qa{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(o,l,d,m){this.ids.push(fs(o)),this.positions.push(l,d,m)}getPositions(o){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");let l=fs(o),d=0,m=this.ids.length-1;for(;d<m;){let _=d+m>>1;this.ids[_]>=l?m=_:d=_+1}let g=[];for(;this.ids[d]===l;)g.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return g}static serialize(o,l){let d=new Float64Array(o.ids),m=new Uint32Array(o.positions);return $r(d,m,0,d.length-1),l&&l.push(d.buffer,m.buffer),{ids:d,positions:m}}static deserialize(o){let l=new qa;return l.ids=o.ids,l.positions=o.positions,l.indexed=!0,l}}function fs(c){let o=+c;return!isNaN(o)&&o<=Number.MAX_SAFE_INTEGER?o:aa(String(c))}function $r(c,o,l,d){for(;l<d;){let m=c[l+d>>1],g=l-1,_=d+1;for(;;){do g++;while(c[g]<m);do _--;while(c[_]>m);if(g>=_)break;Lr(c,g,_),Lr(o,3*g,3*_),Lr(o,3*g+1,3*_+1),Lr(o,3*g+2,3*_+2)}_-l<d-_?($r(c,o,l,_),l=_+1):($r(c,o,_+1,d),d=_)}}function Lr(c,o,l){let d=c[o];c[o]=c[l],c[l]=d}Nt("FeaturePositionMap",qa);class To{constructor(o,l){this.gl=o.gl,this.location=l}}class Js extends To{constructor(o,l){super(o,l),this.current=0}set(o){this.current!==o&&(this.current=o,this.gl.uniform1f(this.location,o))}}class _u extends To{constructor(o,l){super(o,l),this.current=[0,0,0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]&&o[3]===this.current[3]||(this.current=o,this.gl.uniform4f(this.location,o[0],o[1],o[2],o[3]))}}class el extends To{constructor(o,l){super(o,l),this.current=Ti.transparent}set(o){o.r===this.current.r&&o.g===this.current.g&&o.b===this.current.b&&o.a===this.current.a||(this.current=o,this.gl.uniform4f(this.location,o.r,o.g,o.b,o.a))}}let Xo=new Float32Array(16);function Ar(c){return[_i(255*c.r,255*c.g),_i(255*c.b,255*c.a)]}class _r{constructor(o,l,d){this.value=o,this.uniformNames=l.map(m=>`u_${m}`),this.type=d}setUniform(o,l,d){o.set(d.constantOr(this.value))}getBinding(o,l,d){return this.type==="color"?new el(o,l):new Js(o,l)}}class br{constructor(o,l){this.uniformNames=l.map(d=>`u_${d}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(o,l){this.pixelRatioFrom=l.pixelRatio,this.pixelRatioTo=o.pixelRatio,this.patternFrom=l.tlbr,this.patternTo=o.tlbr}setConstantDashPositions(o,l){this.dashTo=[0,o.y,o.height,o.width],this.dashFrom=[0,l.y,l.height,l.width]}setUniform(o,l,d,m){let g=null;m==="u_pattern_to"?g=this.patternTo:m==="u_pattern_from"?g=this.patternFrom:m==="u_dasharray_to"?g=this.dashTo:m==="u_dasharray_from"?g=this.dashFrom:m==="u_pixel_ratio_to"?g=this.pixelRatioTo:m==="u_pixel_ratio_from"&&(g=this.pixelRatioFrom),g!==null&&o.set(g)}getBinding(o,l,d){return d.substr(0,9)==="u_pattern"||d.substr(0,12)==="u_dasharray_"?new _u(o,l):new Js(o,l)}}class wn{constructor(o,l,d,m){this.expression=o,this.type=d,this.maxValue=0,this.paintVertexAttributes=l.map(g=>({name:`a_${g}`,type:"Float32",components:d==="color"?2:1,offset:0})),this.paintVertexArray=new m}populatePaintArray(o,l,d){let m=this.paintVertexArray.length,g=this.expression.evaluate(new un(0,d),l,{},d.canonical,[],d.formattedSection);this.paintVertexArray.resize(o),this._setPaintValue(m,o,g)}updatePaintArray(o,l,d,m,g){let _=this.expression.evaluate(new un(0,g),d,m);this._setPaintValue(o,l,_)}_setPaintValue(o,l,d){if(this.type==="color"){let m=Ar(d);for(let g=o;g<l;g++)this.paintVertexArray.emplace(g,m[0],m[1])}else{for(let m=o;m<l;m++)this.paintVertexArray.emplace(m,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class yn{constructor(o,l,d,m,g,_){this.expression=o,this.uniformNames=l.map(x=>`u_${x}_t`),this.type=d,this.useIntegerZoom=m,this.zoom=g,this.maxValue=0,this.paintVertexAttributes=l.map(x=>({name:`a_${x}`,type:"Float32",components:d==="color"?4:2,offset:0})),this.paintVertexArray=new _}populatePaintArray(o,l,d){let m=this.expression.evaluate(new un(this.zoom,d),l,{},d.canonical,[],d.formattedSection),g=this.expression.evaluate(new un(this.zoom+1,d),l,{},d.canonical,[],d.formattedSection),_=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValue(_,o,m,g)}updatePaintArray(o,l,d,m,g){let _=this.expression.evaluate(new un(this.zoom,g),d,m),x=this.expression.evaluate(new un(this.zoom+1,g),d,m);this._setPaintValue(o,l,_,x)}_setPaintValue(o,l,d,m){if(this.type==="color"){let g=Ar(d),_=Ar(m);for(let x=o;x<l;x++)this.paintVertexArray.emplace(x,g[0],g[1],_[0],_[1])}else{for(let g=o;g<l;g++)this.paintVertexArray.emplace(g,d,m);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(m))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(o,l){let d=this.useIntegerZoom?Math.floor(l.zoom):l.zoom,m=xa(this.expression.interpolationFactor(d,this.zoom,this.zoom+1),0,1);o.set(m)}getBinding(o,l,d){return new Js(o,l)}}class wa{constructor(o,l,d,m,g,_){this.expression=o,this.type=l,this.useIntegerZoom=d,this.zoom=m,this.layerId=_,this.zoomInPaintVertexArray=new g,this.zoomOutPaintVertexArray=new g}populatePaintArray(o,l,d){let m=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(o),this.zoomOutPaintVertexArray.resize(o),this._setPaintValues(m,o,this.getPositionIds(l),d)}updatePaintArray(o,l,d,m,g){this._setPaintValues(o,l,this.getPositionIds(d),g)}_setPaintValues(o,l,d,m){let g=this.getPositions(m);if(!g||!d)return;let _=g[d.min],x=g[d.mid],I=g[d.max];if(_&&x&&I)for(let E=o;E<l;E++)this.emplace(this.zoomInPaintVertexArray,E,x,_),this.emplace(this.zoomOutPaintVertexArray,E,x,I)}upload(o){if(this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer){let l=this.getVertexAttributes();this.zoomInPaintVertexBuffer=o.createVertexBuffer(this.zoomInPaintVertexArray,l,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=o.createVertexBuffer(this.zoomOutPaintVertexArray,l,this.expression.isStateDependent)}}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Ia extends wa{getPositions(o){return o.imagePositions}getPositionIds(o){return o.patterns&&o.patterns[this.layerId]}getVertexAttributes(){return tn.members}emplace(o,l,d,m){o.emplace(l,d.tlbr[0],d.tlbr[1],d.tlbr[2],d.tlbr[3],m.tlbr[0],m.tlbr[1],m.tlbr[2],m.tlbr[3],d.pixelRatio,m.pixelRatio)}}class P0 extends wa{getPositions(o){return o.dashPositions}getPositionIds(o){return o.dashes&&o.dashes[this.layerId]}getVertexAttributes(){return Sn.members}emplace(o,l,d,m){o.emplace(l,0,d.y,d.height,d.width,0,m.y,m.height,m.width)}}class D0{constructor(o,l,d){this.binders={},this._buffers=[];let m=[];for(let g in o.paint._values){if(!d(g))continue;let _=o.paint.get(g);if(!(_ instanceof gr&&zl(_.property.specification)))continue;let x=R_(g,o.type),I=_.value,E=_.property.specification.type,F=_.property.useIntegerZoom,V=_.property.specification["property-type"],N=V==="cross-faded"||V==="cross-faded-data-driven";if(I.kind==="constant")this.binders[g]=N?new br(I.value,x):new _r(I.value,x,E),m.push(`/u_${g}`);else if(I.kind==="source"||N){let q=L0(g,E,"source");this.binders[g]=N?g==="line-dasharray"?new P0(I,E,F,l,q,o.id):new Ia(I,E,F,l,q,o.id):new wn(I,x,E,q),m.push(`/a_${g}`)}else{let q=L0(g,E,"composite");this.binders[g]=new yn(I,x,E,F,l,q),m.push(`/z_${g}`)}}this.cacheKey=m.sort().join("")}getMaxValue(o){let l=this.binders[o];return l instanceof wn||l instanceof yn?l.maxValue:0}populatePaintArrays(o,l,d){for(let m in this.binders){let g=this.binders[m];(g instanceof wn||g instanceof yn||g instanceof wa)&&g.populatePaintArray(o,l,d)}}setConstantPatternPositions(o,l){for(let d in this.binders){let m=this.binders[d];m instanceof br&&m.setConstantPatternPositions(o,l)}}setConstantDashPositions(o,l){for(let d in this.binders){let m=this.binders[d];m instanceof br&&m.setConstantDashPositions(o,l)}}updatePaintArrays(o,l,d,m,g){let _=!1;for(let x in o){let I=l.getPositions(x);for(let E of I){let F=d.feature(E.index);for(let V in this.binders){let N=this.binders[V];if((N instanceof wn||N instanceof yn||N instanceof wa)&&N.expression.isStateDependent===!0){let q=m.paint.get(V);N.expression=q.value,N.updatePaintArray(E.start,E.end,F,o[x],g),_=!0}}}}return _}defines(){let o=[];for(let l in this.binders){let d=this.binders[l];(d instanceof _r||d instanceof br)&&o.push(...d.uniformNames.map(m=>`#define HAS_UNIFORM_${m}`))}return o}getBinderAttributes(){let o=[];for(let l in this.binders){let d=this.binders[l];if(d instanceof wn||d instanceof yn)for(let m=0;m<d.paintVertexAttributes.length;m++)o.push(d.paintVertexAttributes[m].name);else if(d instanceof wa){let m=d.getVertexAttributes();for(let g of m)o.push(g.name)}}return o}getBinderUniforms(){let o=[];for(let l in this.binders){let d=this.binders[l];if(d instanceof _r||d instanceof br||d instanceof yn)for(let m of d.uniformNames)o.push(m)}return o}getPaintVertexBuffers(){return this._buffers}getUniforms(o,l){let d=[];for(let m in this.binders){let g=this.binders[m];if(g instanceof _r||g instanceof br||g instanceof yn){for(let _ of g.uniformNames)if(l[_]){let x=g.getBinding(o,l[_],_);d.push({name:_,property:m,binding:x})}}}return d}setUniforms(o,l,d,m){for(let{name:g,property:_,binding:x}of l)this.binders[_].setUniform(x,m,d.get(_),g)}updatePaintBuffers(o){this._buffers=[];for(let l in this.binders){let d=this.binders[l];if(o&&d instanceof wa){let m=o.fromScale===2?d.zoomInPaintVertexBuffer:d.zoomOutPaintVertexBuffer;m&&this._buffers.push(m)}else(d instanceof wn||d instanceof yn)&&d.paintVertexBuffer&&this._buffers.push(d.paintVertexBuffer)}}upload(o){for(let l in this.binders){let d=this.binders[l];(d instanceof wn||d instanceof yn||d instanceof wa)&&d.upload(o)}this.updatePaintBuffers()}destroy(){for(let o in this.binders){let l=this.binders[o];(l instanceof wn||l instanceof yn||l instanceof wa)&&l.destroy()}}}class tl{constructor(o,l,d=()=>!0){this.programConfigurations={};for(let m of o)this.programConfigurations[m.id]=new D0(m,l,d);this.needsUpload=!1,this._featureMap=new qa,this._bufferOffset=0}populatePaintArrays(o,l,d,m){for(let g in this.programConfigurations)this.programConfigurations[g].populatePaintArrays(o,l,m);l.id!==void 0&&this._featureMap.add(l.id,d,this._bufferOffset,o),this._bufferOffset=o,this.needsUpload=!0}updatePaintArrays(o,l,d,m){for(let g of d)this.needsUpload=this.programConfigurations[g.id].updatePaintArrays(o,this._featureMap,l,g,m)||this.needsUpload}get(o){return this.programConfigurations[o]}upload(o){if(this.needsUpload){for(let l in this.programConfigurations)this.programConfigurations[l].upload(o);this.needsUpload=!1}}destroy(){for(let o in this.programConfigurations)this.programConfigurations[o].destroy()}}function R_(c,o){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-dasharray":["dasharray_to","dasharray_from"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[c]||[c.replace(`${o}-`,"").replace(/-/g,"_")]}function L0(c,o,l){let d={color:{source:hu,composite:u},number:{source:Ed,composite:hu}},m=function(g){return{"line-pattern":{source:Ce,composite:Ce},"fill-pattern":{source:Ce,composite:Ce},"fill-extrusion-pattern":{source:Ce,composite:Ce},"line-dasharray":{source:Pe,composite:Pe}}[g]}(c);return m&&m[l]||d[o][l]}Nt("ConstantBinder",_r),Nt("CrossFadedConstantBinder",br),Nt("SourceExpressionBinder",wn),Nt("CrossFadedPatternBinder",Ia),Nt("CrossFadedDasharrayBinder",P0),Nt("CompositeExpressionBinder",yn),Nt("ProgramConfiguration",D0,{omit:["_buffers"]}),Nt("ProgramConfigurationSet",tl);let Eh=Math.pow(2,14)-1,gs=-Eh-1;function _s(c){let o=di/c.extent,l=c.loadGeometry();for(let d=0;d<l.length;d++){let m=l[d];for(let g=0;g<m.length;g++){let _=m[g],x=Math.round(_.x*o),I=Math.round(_.y*o);_.x=xa(x,gs,Eh),_.y=xa(I,gs,Eh),(x<_.x||x>_.x+1||I<_.y||I>_.y+1)&&Pa("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return l}function bs(c,o){return{type:c.type,id:c.id,properties:c.properties,geometry:o?_s(c):[]}}let Ph=-32768;function Dh(c,o,l,d,m){c.emplaceBack(Ph+8*o+d,Ph+8*l+m)}class Dd{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(l=>l.id),this.index=o.index,this.hasDependencies=!1,this.layoutVertexArray=new fe,this.indexArray=new Ue,this.segments=new kt,this.programConfigurations=new tl(o.layers,o.zoom),this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(o,l,d){let m=this.layers[0],g=[],_=null,x=!1,I=m.type==="heatmap";if(m.type==="circle"){let F=m;_=F.layout.get("circle-sort-key"),x=!_.isConstant(),I=I||F.paint.get("circle-pitch-alignment")==="map"}let E=I?l.subdivisionGranularity.circle:1;for(let{feature:F,id:V,index:N,sourceLayerIndex:q}of o){let G=this.layers[0]._featureFilter.needGeometry,U=bs(F,G);if(!this.layers[0]._featureFilter.filter(new un(this.zoom),U,d))continue;let Q=x?_.evaluate(U,{},d):void 0,ae={id:V,properties:F.properties,type:F.type,sourceLayerIndex:q,index:N,geometry:G?U.geometry:_s(F),patterns:{},sortKey:Q};g.push(ae)}x&&g.sort((F,V)=>F.sortKey-V.sortKey);for(let F of g){let{geometry:V,index:N,sourceLayerIndex:q}=F,G=o[N].feature;this.addFeature(F,V,N,d,E),l.featureIndex.insert(G,V,N,q,this.index)}}update(o,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,l,this.stateDependentLayers,{imagePositions:d})}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,pt),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(o,l,d,m,g=1){let _;switch(g){case 1:_=[0,7];break;case 3:_=[0,2,5,7];break;case 5:_=[0,1,3,4,6,7];break;case 7:_=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${g}; valid values are 1, 3, 5, 7.`)}let x=_.length;for(let I of l)for(let E of I){let F=E.x,V=E.y;if(F<0||F>=di||V<0||V>=di)continue;let N=this.segments.prepareSegment(x*x,this.layoutVertexArray,this.indexArray,o.sortKey),q=N.vertexLength;for(let G=0;G<x;G++)for(let U=0;U<x;U++)Dh(this.layoutVertexArray,F,V,_[U],_[G]);for(let G=0;G<x-1;G++)for(let U=0;U<x-1;U++){let Q=q+G*x+U,ae=q+(G+1)*x+U;this.indexArray.emplaceBack(Q,ae+1,Q+1),this.indexArray.emplaceBack(Q,ae,ae+1)}N.vertexLength+=x*x,N.primitiveLength+=(x-1)*(x-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,d,{imagePositions:{},canonical:m})}}function Ld(c,o){for(let l=0;l<c.length;l++)if(Ad(o,c[l]))return!0;for(let l=0;l<o.length;l++)if(Ad(c,o[l]))return!0;return!!N_(c,o)}function A0(c,o,l){return!!Ad(c,o)||!!q_(o,c,l)}function Wy(c,o){if(c.length===1)return Zy(o,c[0]);for(let l=0;l<o.length;l++){let d=o[l];for(let m=0;m<d.length;m++)if(Ad(c,d[m]))return!0}for(let l=0;l<c.length;l++)if(Zy(o,c[l]))return!0;for(let l=0;l<o.length;l++)if(N_(c,o[l]))return!0;return!1}function J4(c,o,l){if(c.length>1){if(N_(c,o))return!0;for(let d=0;d<o.length;d++)if(q_(o[d],c,l))return!0}for(let d=0;d<c.length;d++)if(q_(c[d],o,l))return!0;return!1}function N_(c,o){if(c.length===0||o.length===0)return!1;for(let l=0;l<c.length-1;l++){let d=c[l],m=c[l+1];for(let g=0;g<o.length-1;g++)if(eC(d,m,o[g],o[g+1]))return!0}return!1}function eC(c,o,l,d){return Uo(c,l,d)!==Uo(o,l,d)&&Uo(c,o,l)!==Uo(c,o,d)}function q_(c,o,l){let d=l*l;if(o.length===1)return c.distSqr(o[0])<d;for(let m=1;m<o.length;m++)if(Qy(c,o[m-1],o[m])<d)return!0;return!1}function Qy(c,o,l){let d=o.distSqr(l);if(d===0)return c.distSqr(o);let m=((c.x-o.x)*(l.x-o.x)+(c.y-o.y)*(l.y-o.y))/d;return c.distSqr(m<0?o:m>1?l:l.sub(o)._mult(m)._add(o))}function Zy(c,o){let l,d,m,g=!1;for(let _=0;_<c.length;_++){l=c[_];for(let x=0,I=l.length-1;x<l.length;I=x++)d=l[x],m=l[I],d.y>o.y!=m.y>o.y&&o.x<(m.x-d.x)*(o.y-d.y)/(m.y-d.y)+d.x&&(g=!g)}return g}function Ad(c,o){let l=!1;for(let d=0,m=c.length-1;d<c.length;m=d++){let g=c[d],_=c[m];g.y>o.y!=_.y>o.y&&o.x<(_.x-g.x)*(o.y-g.y)/(_.y-g.y)+g.x&&(l=!l)}return l}function tC(c,o,l){let d=l[0],m=l[2];if(c.x<d.x&&o.x<d.x||c.x>m.x&&o.x>m.x||c.y<d.y&&o.y<d.y||c.y>m.y&&o.y>m.y)return!1;let g=Uo(c,o,l[0]);return g!==Uo(c,o,l[1])||g!==Uo(c,o,l[2])||g!==Uo(c,o,l[3])}function Fd(c,o,l){let d=o.paint.get(c).value;return d.kind==="constant"?d.value:l.programConfigurations.get(o.id).getMaxValue(c)}function F0(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function O0(c,o,l,d,m){if(!o[0]&&!o[1])return c;let g=p.convert(o)._mult(m);l==="viewport"&&g._rotate(-d);let _=[];for(let x=0;x<c.length;x++)_.push(c[x].sub(g));return _}function iC(c){let o=[];for(let l=0;l<c.length;l++){let d=c[l],m=o.at(-1);(l===0||m&&!d.equals(m))&&o.push(d)}return o}function nC({queryGeometry:c,size:o},l){return A0(c,l,o)}function aC({queryGeometry:c,size:o,transform:l,unwrappedTileID:d,getElevation:m},g){return A0(c,g,o*(l.projectTileCoordinates(g.x,g.y,d,m).signedDistanceFromCamera/l.cameraToCenterDistance))}function oC({queryGeometry:c,size:o,transform:l,unwrappedTileID:d,getElevation:m},g){let _=l.projectTileCoordinates(g.x,g.y,d,m).signedDistanceFromCamera,x=o*(l.cameraToCenterDistance/_);return A0(c,j_(g,l,d,m),x)}function rC({queryGeometry:c,size:o,transform:l,unwrappedTileID:d,getElevation:m},g){return A0(c,j_(g,l,d,m),o)}function Xy({queryGeometry:c,size:o,transform:l,unwrappedTileID:d,getElevation:m,pitchAlignment:g="map",pitchScale:_="map"},x){let I=g==="map"?_==="map"?nC:aC:_==="map"?oC:rC,E={queryGeometry:c,size:o,transform:l,unwrappedTileID:d,getElevation:m};for(let F of x)for(let V of F)if(I(E,V))return!0;return!1}function j_(c,o,l,d){let m=o.projectTileCoordinates(c.x,c.y,l,d).point;return new p((.5*m.x+.5)*o.width,(.5*-m.y+.5)*o.height)}let Yy,Jy;Nt("CircleBucket",Dd,{omit:["layers"]});var sC={get paint(){return Jy=Jy||new ho({"circle-radius":new ii(He.paint_circle["circle-radius"]),"circle-color":new ii(He.paint_circle["circle-color"]),"circle-blur":new ii(He.paint_circle["circle-blur"]),"circle-opacity":new ii(He.paint_circle["circle-opacity"]),"circle-translate":new Zt(He.paint_circle["circle-translate"]),"circle-translate-anchor":new Zt(He.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Zt(He.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Zt(He.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ii(He.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ii(He.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ii(He.paint_circle["circle-stroke-opacity"])})},get layout(){return Yy=Yy||new ho({"circle-sort-key":new ii(He.layout_circle["circle-sort-key"])})}};class lC extends Zo{constructor(o,l){super(o,sC,l)}createBucket(o){return new Dd(o)}queryRadius(o){let l=o;return Fd("circle-radius",this,l)+Fd("circle-stroke-width",this,l)+F0(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:o,feature:l,featureState:d,geometry:m,transform:g,pixelsToTileUnits:_,unwrappedTileID:x,getElevation:I}){let E=O0(o,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-g.bearingInRadians,_),F=this.paint.get("circle-radius").evaluate(l,d)+this.paint.get("circle-stroke-width").evaluate(l,d),V=this.paint.get("circle-pitch-scale"),N=this.paint.get("circle-pitch-alignment"),q,G;return N==="map"?(q=E,G=F*_):(q=function(U,Q,ae,ge){return U.map(se=>j_(se,Q,ae,ge))}(E,g,x,I),G=F),Xy({queryGeometry:q,size:G,transform:g,unwrappedTileID:x,getElevation:I,pitchAlignment:N,pitchScale:V},m)}}class ev extends Dd{}let tv;Nt("HeatmapBucket",ev,{omit:["layers"]});var cC={get paint(){return tv=tv||new ho({"heatmap-radius":new ii(He.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ii(He.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Zt(He.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Td(He.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Zt(He.paint_heatmap["heatmap-opacity"])})}};function H_(c,{width:o,height:l},d,m){if(m){if(m instanceof Uint8ClampedArray)m=new Uint8Array(m.buffer);else if(m.length!==o*l*d)throw new RangeError(`mismatched image size. expected: ${m.length} but got: ${o*l*d}`)}else m=new Uint8Array(o*l*d);return c.width=o,c.height=l,c.data=m,c}function iv(c,{width:o,height:l},d){if(o===c.width&&l===c.height)return;let m=H_({},{width:o,height:l},d);G_(c,m,{x:0,y:0},{x:0,y:0},{width:Math.min(c.width,o),height:Math.min(c.height,l)},d),c.width=o,c.height=l,c.data=m.data}function G_(c,o,l,d,m,g){if(m.width===0||m.height===0)return o;if(m.width>c.width||m.height>c.height||l.x>c.width-m.width||l.y>c.height-m.height)throw new RangeError("out of range source coordinates for image copy");if(m.width>o.width||m.height>o.height||d.x>o.width-m.width||d.y>o.height-m.height)throw new RangeError("out of range destination coordinates for image copy");let _=c.data,x=o.data;if(_===x)throw new Error("srcData equals dstData, so image is already copied");for(let I=0;I<m.height;I++){let E=((l.y+I)*c.width+l.x)*g,F=((d.y+I)*o.width+d.x)*g;for(let V=0;V<m.width*g;V++)x[F+V]=_[E+V]}return o}class Lh{constructor(o,l){H_(this,o,1,l)}resize(o){iv(this,o,1)}clone(){return new Lh({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,l,d,m,g){G_(o,l,d,m,g,1)}}class Bo{constructor(o,l){H_(this,o,4,l)}resize(o){iv(this,o,4)}replace(o,l){l?this.data.set(o):this.data=o instanceof Uint8ClampedArray?new Uint8Array(o.buffer):o}clone(){return new Bo({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,l,d,m,g){G_(o,l,d,m,g,4)}setPixel(o,l,d){let m=4*(o*this.width+l);this.data[m+0]=Math.round(255*d.r/d.a),this.data[m+1]=Math.round(255*d.g/d.a),this.data[m+2]=Math.round(255*d.b/d.a),this.data[m+3]=Math.round(255*d.a)}}function nv(c){let o={},l=c.resolution||256,d=c.clips?c.clips.length:1,m=c.image||new Bo({width:l,height:d});if(Math.log(l)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${l}`);let g=(_,x,I)=>{o[c.evaluationKey]=I;let E=c.expression.evaluate(o);m.setPixel(_/4/l,x/4,E)};if(c.clips)for(let _=0,x=0;_<d;++_,x+=4*l)for(let I=0,E=0;I<l;I++,E+=4){let F=I/(l-1),{start:V,end:N}=c.clips[_];g(x,E,V*(1-F)+N*F)}else for(let _=0,x=0;_<l;_++,x+=4)g(0,x,_/(l-1));return m}Nt("AlphaImage",Lh),Nt("RGBAImage",Bo);let U_="big-fb";class uC extends Zo{createBucket(o){return new ev(o)}constructor(o,l){super(o,cC,l),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(o){o==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=nv({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(U_)&&this.heatmapFbos.delete(U_)}queryRadius(o){return Fd("heatmap-radius",this,o)}queryIntersectsFeature({queryGeometry:o,feature:l,featureState:d,geometry:m,transform:g,pixelsToTileUnits:_,unwrappedTileID:x,getElevation:I}){return Xy({queryGeometry:o,size:this.paint.get("heatmap-radius").evaluate(l,d)*_,transform:g,unwrappedTileID:x,getElevation:I},m)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&!this.isHidden()}}let av;var dC={get paint(){return av=av||new ho({"hillshade-illumination-direction":new Zt(He.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new Zt(He.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new Zt(He.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Zt(He.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Zt(He.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Zt(He.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Zt(He.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new Zt(He.paint_hillshade["hillshade-method"])})}};class pC extends Zo{constructor(o,l){super(o,dC,l),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let o=this.paint.get("hillshade-illumination-direction").values,l=this.paint.get("hillshade-illumination-altitude").values,d=this.paint.get("hillshade-highlight-color").values,m=this.paint.get("hillshade-shadow-color").values,g=Math.max(o.length,l.length,d.length,m.length);o=o.concat(Array(g-o.length).fill(o.at(-1))),l=l.concat(Array(g-l.length).fill(l.at(-1))),d=d.concat(Array(g-d.length).fill(d.at(-1))),m=m.concat(Array(g-m.length).fill(m.at(-1)));let _=l.map(bl);return{directionRadians:o.map(bl),altitudeRadians:_,shadowColor:m,highlightColor:d}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&!this.isHidden()}}let ov;var hC={get paint(){return ov=ov||new ho({"color-relief-opacity":new Zt(He["paint_color-relief"]["color-relief-opacity"]),"color-relief-color":new Td(He["paint_color-relief"]["color-relief-color"])})}};class $_{constructor(o,l,d,m){this.context=o,this.format=d,this.texture=o.gl.createTexture(),this.update(l,m)}update(o,l,d){let{width:m,height:g}=o,_=!(this.size&&this.size[0]===m&&this.size[1]===g||d),{context:x}=this,{gl:I}=x;if(this.useMipmap=!!(l&&l.useMipmap),I.bindTexture(I.TEXTURE_2D,this.texture),x.pixelStoreUnpackFlipY.set(!1),x.pixelStoreUnpack.set(1),x.pixelStoreUnpackPremultiplyAlpha.set(this.format===I.RGBA&&(!l||l.premultiply!==!1)),_)this.size=[m,g],o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement||o instanceof ImageData||as(o)?I.texImage2D(I.TEXTURE_2D,0,this.format,this.format,I.UNSIGNED_BYTE,o):I.texImage2D(I.TEXTURE_2D,0,this.format,m,g,0,this.format,I.UNSIGNED_BYTE,o.data);else{let{x:E,y:F}=d||{x:0,y:0};o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement||o instanceof ImageData||as(o)?I.texSubImage2D(I.TEXTURE_2D,0,E,F,I.RGBA,I.UNSIGNED_BYTE,o):I.texSubImage2D(I.TEXTURE_2D,0,E,F,m,g,I.RGBA,I.UNSIGNED_BYTE,o.data)}this.useMipmap&&this.isSizePowerOfTwo()&&I.generateMipmap(I.TEXTURE_2D),x.pixelStoreUnpackFlipY.setDefault(),x.pixelStoreUnpack.setDefault(),x.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(o,l,d){let{context:m}=this,{gl:g}=m;g.bindTexture(g.TEXTURE_2D,this.texture),d!==g.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(d=g.LINEAR),o!==this.filter&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,o),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,d||o),this.filter=o),l!==this.wrap&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,l),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,l),this.wrap=l)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){let{gl:o}=this.context;o.deleteTexture(this.texture),this.texture=null}}class rv{constructor(o,l,d,m=1,g=1,_=1,x=0){if(this.uid=o,l.height!==l.width)throw new RangeError("DEM tiles must be square");if(d&&!["mapbox","terrarium","custom"].includes(d))return void Pa(`"${d}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=l.height;let I=this.dim=l.height-2;switch(this.data=new Uint32Array(l.data.buffer),d){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=m,this.greenFactor=g,this.blueFactor=_,this.baseShift=x;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let E=0;E<I;E++)this.data[this._idx(-1,E)]=this.data[this._idx(0,E)],this.data[this._idx(I,E)]=this.data[this._idx(I-1,E)],this.data[this._idx(E,-1)]=this.data[this._idx(E,0)],this.data[this._idx(E,I)]=this.data[this._idx(E,I-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(I,-1)]=this.data[this._idx(I-1,0)],this.data[this._idx(-1,I)]=this.data[this._idx(0,I-1)],this.data[this._idx(I,I)]=this.data[this._idx(I-1,I-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let E=0;E<I;E++)for(let F=0;F<I;F++){let V=this.get(E,F);V>this.max&&(this.max=V),V<this.min&&(this.min=V)}}get(o,l){let d=new Uint8Array(this.data.buffer),m=4*this._idx(o,l);return this.unpack(d[m],d[m+1],d[m+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(o,l){if(o<-1||o>=this.dim+1||l<-1||l>=this.dim+1)throw new RangeError(`Out of range source coordinates for DEM data. x: ${o}, y: ${l}, dim: ${this.dim}`);return(l+1)*this.stride+(o+1)}unpack(o,l,d){return o*this.redFactor+l*this.greenFactor+d*this.blueFactor-this.baseShift}pack(o){return sv(o,this.getUnpackVector())}getPixels(){return new Bo({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(o,l,d){if(this.dim!==o.dim)throw new Error("dem dimension mismatch");let m=l*this.dim,g=l*this.dim+this.dim,_=d*this.dim,x=d*this.dim+this.dim;switch(l){case-1:m=g-1;break;case 1:g=m+1}switch(d){case-1:_=x-1;break;case 1:x=_+1}let I=-l*this.dim,E=-d*this.dim;for(let F=_;F<x;F++)for(let V=m;V<g;V++)this.data[this._idx(V,F)]=o.data[this._idx(V+I,F+E)]}}function sv(c,o){let l=o[0],d=o[1],m=o[2],g=o[3],_=Math.min(l,d,m),x=Math.round((c+g)/_);return{r:Math.floor(x*_/l)%256,g:Math.floor(x*_/d)%256,b:Math.floor(x*_/m)%256}}Nt("DEMData",rv);class mC extends Zo{constructor(o,l){super(o,hC,l)}_createColorRamp(o){let l={elevationStops:[],colorStops:[]},d=this._transitionablePaint._values["color-relief-color"].value.expression;if(d instanceof dd&&d._styleExpression.expression instanceof po){this.colorRampExpression=d;let _=d._styleExpression.expression;l.elevationStops=_.labels,l.colorStops=[];for(let x of l.elevationStops)l.colorStops.push(_.evaluate({globals:{elevation:x}}))}if(l.elevationStops.length<1&&(l.elevationStops=[0],l.colorStops=[Ti.transparent]),l.elevationStops.length<2&&(l.elevationStops.push(l.elevationStops[0]+1),l.colorStops.push(l.colorStops[0])),l.elevationStops.length<=o)return l;let m={elevationStops:[],colorStops:[]},g=(l.elevationStops.length-1)/(o-1);for(let _=0;_<l.elevationStops.length-.5;_+=g)m.elevationStops.push(l.elevationStops[Math.round(_)]),m.colorStops.push(l.colorStops[Math.round(_)]);return Pa(`Too many colors in specification of ${this.id} color-relief layer, may not render properly. Max possible colors: ${o}, provided: ${l.elevationStops.length}`),m}_colorRampChanged(){return this.colorRampExpression!=this._transitionablePaint._values["color-relief-color"].value.expression}getColorRampTextures(o,l,d){if(this.colorRampTextures&&!this._colorRampChanged())return this.colorRampTextures;let m=this._createColorRamp(l),g=new Bo({width:m.colorStops.length,height:1}),_=new Bo({width:m.colorStops.length,height:1});for(let x=0;x<m.elevationStops.length;x++){let I=sv(m.elevationStops[x],d);_.setPixel(0,x,new Ti(I.r/255,I.g/255,I.b/255,1)),g.setPixel(0,x,m.colorStops[x])}return this.colorRampTextures={elevationTexture:new $_(o,_,o.gl.RGBA),colorTexture:new $_(o,g,o.gl.RGBA)},this.colorRampTextures}hasOffscreenPass(){return!this.isHidden()&&!!this.colorRampTextures}}let fC=na([{name:"a_pos",components:2,type:"Int16"}],4),{members:gC}=fC;function V0(c,o,l){let d=l.patternDependencies,m=!1;for(let g of o){let _=g.paint.get(`${c}-pattern`);_.isConstant()||(m=!0);let x=_.constantOr(null);x&&(m=!0,d[x.to]=!0,d[x.from]=!0)}return m}function K_(c,o,l,d,m){let{zoom:g}=d,_=m.patternDependencies;for(let x of o){let I=x.paint.get(`${c}-pattern`).value;if(I.kind!=="constant"){let E=I.evaluate({zoom:g-1},l,{},m.availableImages),F=I.evaluate({zoom:g},l,{},m.availableImages),V=I.evaluate({zoom:g+1},l,{},m.availableImages);E=E&&E.name?E.name:E,F=F&&F.name?F.name:F,V=V&&V.name?V.name:V,_[E]=!0,_[F]=!0,_[V]=!0,l.patterns[x.id]={min:E,mid:F,max:V}}}return l}function lv(c,o,l,d,m){let g;if(m===function(_,x,I,E){let F=0;for(let V=x,N=I-E;V<I;V+=E)F+=(_[N]-_[V])*(_[V+1]+_[N+1]),N=V;return F}(c,o,l,d)>0)for(let _=o;_<l;_+=d)g=pv(_/d|0,c[_],c[_+1],g);else for(let _=l-d;_>=o;_-=d)g=pv(_/d|0,c[_],c[_+1],g);return g&&Od(g,g.next)&&(Vh(g),g=g.next),g}function bu(c,o){if(!c)return c;o||(o=c);let l,d=c;do if(l=!1,d.steiner||!Od(d,d.next)&&ca(d.prev,d,d.next)!==0)d=d.next;else{if(Vh(d),d=o=d.prev,d===d.next)break;l=!0}while(l||d!==o);return o}function Ah(c,o,l,d,m,g,_){if(!c)return;!_&&g&&function(I,E,F,V){let N=I;do N.z===0&&(N.z=W_(N.x,N.y,E,F,V)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==I);N.prevZ.nextZ=null,N.prevZ=null,function(q){let G,U=1;do{let Q,ae=q;q=null;let ge=null;for(G=0;ae;){G++;let se=ae,pe=0;for(let Te=0;Te<U&&(pe++,se=se.nextZ,se);Te++);let ye=U;for(;pe>0||ye>0&&se;)pe!==0&&(ye===0||!se||ae.z<=se.z)?(Q=ae,ae=ae.nextZ,pe--):(Q=se,se=se.nextZ,ye--),ge?ge.nextZ=Q:q=Q,Q.prevZ=ge,ge=Q;ae=se}ge.nextZ=null,U*=2}while(G>1)}(N)}(c,d,m,g);let x=c;for(;c.prev!==c.next;){let I=c.prev,E=c.next;if(g?bC(c,d,m,g):_C(c))o.push(I.i,c.i,E.i),Vh(c),c=E.next,x=E.next;else if((c=E)===x){_?_===1?Ah(c=yC(bu(c),o),o,l,d,m,g,2):_===2&&vC(c,o,l,d,m,g):Ah(bu(c),o,l,d,m,g,1);break}}}function _C(c){let o=c.prev,l=c,d=c.next;if(ca(o,l,d)>=0)return!1;let m=o.x,g=l.x,_=d.x,x=o.y,I=l.y,E=d.y,F=Math.min(m,g,_),V=Math.min(x,I,E),N=Math.max(m,g,_),q=Math.max(x,I,E),G=d.next;for(;G!==o;){if(G.x>=F&&G.x<=N&&G.y>=V&&G.y<=q&&Fh(m,x,g,I,_,E,G.x,G.y)&&ca(G.prev,G,G.next)>=0)return!1;G=G.next}return!0}function bC(c,o,l,d){let m=c.prev,g=c,_=c.next;if(ca(m,g,_)>=0)return!1;let x=m.x,I=g.x,E=_.x,F=m.y,V=g.y,N=_.y,q=Math.min(x,I,E),G=Math.min(F,V,N),U=Math.max(x,I,E),Q=Math.max(F,V,N),ae=W_(q,G,o,l,d),ge=W_(U,Q,o,l,d),se=c.prevZ,pe=c.nextZ;for(;se&&se.z>=ae&&pe&&pe.z<=ge;){if(se.x>=q&&se.x<=U&&se.y>=G&&se.y<=Q&&se!==m&&se!==_&&Fh(x,F,I,V,E,N,se.x,se.y)&&ca(se.prev,se,se.next)>=0||(se=se.prevZ,pe.x>=q&&pe.x<=U&&pe.y>=G&&pe.y<=Q&&pe!==m&&pe!==_&&Fh(x,F,I,V,E,N,pe.x,pe.y)&&ca(pe.prev,pe,pe.next)>=0))return!1;pe=pe.nextZ}for(;se&&se.z>=ae;){if(se.x>=q&&se.x<=U&&se.y>=G&&se.y<=Q&&se!==m&&se!==_&&Fh(x,F,I,V,E,N,se.x,se.y)&&ca(se.prev,se,se.next)>=0)return!1;se=se.prevZ}for(;pe&&pe.z<=ge;){if(pe.x>=q&&pe.x<=U&&pe.y>=G&&pe.y<=Q&&pe!==m&&pe!==_&&Fh(x,F,I,V,E,N,pe.x,pe.y)&&ca(pe.prev,pe,pe.next)>=0)return!1;pe=pe.nextZ}return!0}function yC(c,o){let l=c;do{let d=l.prev,m=l.next.next;!Od(d,m)&&uv(d,l,l.next,m)&&Oh(d,m)&&Oh(m,d)&&(o.push(d.i,l.i,m.i),Vh(l),Vh(l.next),l=c=m),l=l.next}while(l!==c);return bu(l)}function vC(c,o,l,d,m,g){let _=c;do{let x=_.next.next;for(;x!==_.prev;){if(_.i!==x.i&&CC(_,x)){let I=dv(_,x);return _=bu(_,_.next),I=bu(I,I.next),Ah(_,o,l,d,m,g,0),void Ah(I,o,l,d,m,g,0)}x=x.next}_=_.next}while(_!==c)}function xC(c,o){let l=c.x-o.x;return l===0&&(l=c.y-o.y,l===0)&&(l=(c.next.y-c.y)/(c.next.x-c.x)-(o.next.y-o.y)/(o.next.x-o.x)),l}function wC(c,o){let l=function(m,g){let _=g,x=m.x,I=m.y,E,F=-1/0;if(Od(m,_))return _;do{if(Od(m,_.next))return _.next;if(I<=_.y&&I>=_.next.y&&_.next.y!==_.y){let U=_.x+(I-_.y)*(_.next.x-_.x)/(_.next.y-_.y);if(U<=x&&U>F&&(F=U,E=_.x<_.next.x?_:_.next,U===x))return E}_=_.next}while(_!==g);if(!E)return null;let V=E,N=E.x,q=E.y,G=1/0;_=E;do{if(x>=_.x&&_.x>=N&&x!==_.x&&cv(I<q?x:F,I,N,q,I<q?F:x,I,_.x,_.y)){let U=Math.abs(I-_.y)/(x-_.x);Oh(_,m)&&(U<G||U===G&&(_.x>E.x||_.x===E.x&&IC(E,_)))&&(E=_,G=U)}_=_.next}while(_!==V);return E}(c,o);if(!l)return o;let d=dv(l,c);return bu(d,d.next),bu(l,l.next)}function IC(c,o){return ca(c.prev,c,o.prev)<0&&ca(o.next,c,c.next)<0}function W_(c,o,l,d,m){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=(c-l)*m|0)|c<<8))|c<<4))|c<<2))|c<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-d)*m|0)|o<<8))|o<<4))|o<<2))|o<<1))<<1}function TC(c){let o=c,l=c;do(o.x<l.x||o.x===l.x&&o.y<l.y)&&(l=o),o=o.next;while(o!==c);return l}function cv(c,o,l,d,m,g,_,x){return(m-_)*(o-x)>=(c-_)*(g-x)&&(c-_)*(d-x)>=(l-_)*(o-x)&&(l-_)*(g-x)>=(m-_)*(d-x)}function Fh(c,o,l,d,m,g,_,x){return!(c===_&&o===x)&&cv(c,o,l,d,m,g,_,x)}function CC(c,o){return c.next.i!==o.i&&c.prev.i!==o.i&&!function(l,d){let m=l;do{if(m.i!==l.i&&m.next.i!==l.i&&m.i!==d.i&&m.next.i!==d.i&&uv(m,m.next,l,d))return!0;m=m.next}while(m!==l);return!1}(c,o)&&(Oh(c,o)&&Oh(o,c)&&function(l,d){let m=l,g=!1,_=(l.x+d.x)/2,x=(l.y+d.y)/2;do m.y>x!=m.next.y>x&&m.next.y!==m.y&&_<(m.next.x-m.x)*(x-m.y)/(m.next.y-m.y)+m.x&&(g=!g),m=m.next;while(m!==l);return g}(c,o)&&(ca(c.prev,c,o.prev)||ca(c,o.prev,o))||Od(c,o)&&ca(c.prev,c,c.next)>0&&ca(o.prev,o,o.next)>0)}function ca(c,o,l){return(o.y-c.y)*(l.x-o.x)-(o.x-c.x)*(l.y-o.y)}function Od(c,o){return c.x===o.x&&c.y===o.y}function uv(c,o,l,d){let m=B0(ca(c,o,l)),g=B0(ca(c,o,d)),_=B0(ca(l,d,c)),x=B0(ca(l,d,o));return m!==g&&_!==x||!(m!==0||!z0(c,l,o))||!(g!==0||!z0(c,d,o))||!(_!==0||!z0(l,c,d))||!(x!==0||!z0(l,o,d))}function z0(c,o,l){return o.x<=Math.max(c.x,l.x)&&o.x>=Math.min(c.x,l.x)&&o.y<=Math.max(c.y,l.y)&&o.y>=Math.min(c.y,l.y)}function B0(c){return c>0?1:c<0?-1:0}function Oh(c,o){return ca(c.prev,c,c.next)<0?ca(c,o,c.next)>=0&&ca(c,c.prev,o)>=0:ca(c,o,c.prev)<0||ca(c,c.next,o)<0}function dv(c,o){let l=Q_(c.i,c.x,c.y),d=Q_(o.i,o.x,o.y),m=c.next,g=o.prev;return c.next=o,o.prev=c,l.next=m,m.prev=l,d.next=l,l.prev=d,g.next=d,d.prev=g,d}function pv(c,o,l,d){let m=Q_(c,o,l);return d?(m.next=d.next,m.prev=d,d.next.prev=m,d.next=m):(m.prev=m,m.next=m),m}function Vh(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function Q_(c,o,l){return{i:c,x:o,y:l,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class Vd{constructor(o,l){if(l>o)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=o,this._minGranularity=l}getGranularityForZoomLevel(o){return Math.max(Math.floor(this._baseZoomGranularity/(1<<o)),this._minGranularity,1)}}class R0{constructor(o){this.fill=o.fill,this.line=o.line,this.tile=o.tile,this.stencil=o.stencil,this.circle=o.circle}}R0.noSubdivision=new R0({fill:new Vd(0,0),line:new Vd(0,0),tile:new Vd(0,0),stencil:new Vd(0,0),circle:1}),Nt("SubdivisionGranularityExpression",Vd),Nt("SubdivisionGranularitySetting",R0);let zd=-32768,zh=32767;class SC{constructor(o,l){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=o,this._granularityCellSize=di/o,this._canonical=l}_getKey(o,l){return(o+=32768)<<16|l+32768}_vertexToIndex(o,l){if(o<-32768||l<-32768||o>32767||l>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");let d=0|Math.round(o),m=0|Math.round(l),g=this._getKey(d,m);if(this._vertexDictionary.has(g))return this._vertexDictionary.get(g);let _=this._vertexBuffer.length/2;return this._vertexDictionary.set(g,_),this._vertexBuffer.push(d,m),_}_subdivideTrianglesScanline(o){if(this._granularity<2)return function(m,g){let _=[];for(let x=0;x<g.length;x+=3){let I=g[x],E=g[x+1],F=g[x+2],V=m[2*I],N=m[2*I+1];(m[2*E]-V)*(m[2*F+1]-N)-(m[2*E+1]-N)*(m[2*F]-V)>0?(_.push(I),_.push(F),_.push(E)):(_.push(I),_.push(E),_.push(F))}return _}(this._vertexBuffer,o);let l=[],d=o.length;for(let m=0;m<d;m+=3){let g=[o[m+0],o[m+1],o[m+2]],_=[this._vertexBuffer[2*o[m+0]+0],this._vertexBuffer[2*o[m+0]+1],this._vertexBuffer[2*o[m+1]+0],this._vertexBuffer[2*o[m+1]+1],this._vertexBuffer[2*o[m+2]+0],this._vertexBuffer[2*o[m+2]+1]],x=1/0,I=1/0,E=-1/0,F=-1/0;for(let U=0;U<3;U++){let Q=_[2*U],ae=_[2*U+1];x=Math.min(x,Q),E=Math.max(E,Q),I=Math.min(I,ae),F=Math.max(F,ae)}if(x===E||I===F)continue;let V=Math.floor(x/this._granularityCellSize),N=Math.ceil(E/this._granularityCellSize),q=Math.floor(I/this._granularityCellSize),G=Math.ceil(F/this._granularityCellSize);if(V!==N||q!==G)for(let U=q;U<G;U++){let Q=this._scanlineGenerateVertexRingForCellRow(U,_,g);MC(this._vertexBuffer,Q,l)}else l.push(...g)}return l}_scanlineGenerateVertexRingForCellRow(o,l,d){let m=o*this._granularityCellSize,g=m+this._granularityCellSize,_=[];for(let x=0;x<3;x++){let I=l[2*x],E=l[2*x+1],F=l[2*(x+1)%6],V=l[(2*(x+1)+1)%6],N=l[2*(x+2)%6],q=l[(2*(x+2)+1)%6],G=F-I,U=V-E,Q=G===0,ae=U===0,ge=(m-E)/U,se=(g-E)/U,pe=Math.min(ge,se),ye=Math.max(ge,se);if(!ae&&(pe>=1||ye<=0)||ae&&(E<m||E>g)){V>=m&&V<=g&&_.push(d[(x+1)%3]);continue}!ae&&pe>0&&_.push(this._vertexToIndex(I+G*pe,E+U*pe));let Te=I+G*Math.max(pe,0),Ve=I+G*Math.min(ye,1);Q||this._generateIntraEdgeVertices(_,I,E,F,V,Te,Ve),!ae&&ye<1&&_.push(this._vertexToIndex(I+G*ye,E+U*ye)),(ae||V>=m&&V<=g)&&_.push(d[(x+1)%3]),!ae&&(V<=m||V>=g)&&this._generateInterEdgeVertices(_,I,E,F,V,N,q,Ve,m,g)}return _}_generateIntraEdgeVertices(o,l,d,m,g,_,x){let I=m-l,E=g-d,F=E===0,V=F?Math.min(l,m):Math.min(_,x),N=F?Math.max(l,m):Math.max(_,x),q=Math.floor(V/this._granularityCellSize)+1,G=Math.ceil(N/this._granularityCellSize)-1;if(F?l<m:_<x)for(let U=q;U<=G;U++){let Q=U*this._granularityCellSize;o.push(this._vertexToIndex(Q,d+E*(Q-l)/I))}else for(let U=G;U>=q;U--){let Q=U*this._granularityCellSize;o.push(this._vertexToIndex(Q,d+E*(Q-l)/I))}}_generateInterEdgeVertices(o,l,d,m,g,_,x,I,E,F){let V=g-d,N=_-m,q=x-g,G=(E-g)/q,U=(F-g)/q,Q=Math.min(G,U),ae=Math.max(G,U),ge=m+N*Q,se=Math.floor(Math.min(ge,I)/this._granularityCellSize)+1,pe=Math.ceil(Math.max(ge,I)/this._granularityCellSize)-1,ye=I<ge,Te=q===0;if(Te&&(x===E||x===F))return;if(Te||Q>=1||ae<=0){let at=d-x,et=_+(l-_)*Math.min((E-x)/at,(F-x)/at);se=Math.floor(Math.min(et,I)/this._granularityCellSize)+1,pe=Math.ceil(Math.max(et,I)/this._granularityCellSize)-1,ye=I<et}let Ve=V>0?F:E;if(ye)for(let at=se;at<=pe;at++)o.push(this._vertexToIndex(at*this._granularityCellSize,Ve));else for(let at=pe;at>=se;at--)o.push(this._vertexToIndex(at*this._granularityCellSize,Ve))}_generateOutline(o){let l=[];for(let d of o){let m=yu(d,this._granularity,!0),g=this._pointArrayToIndices(m),_=[];for(let x=1;x<g.length;x++)_.push(g[x-1]),_.push(g[x]);l.push(_)}return l}_handlePoles(o){let l=!1,d=!1;this._canonical&&(this._canonical.y===0&&(l=!0),this._canonical.y===(1<<this._canonical.z)-1&&(d=!0)),(l||d)&&this._fillPoles(o,l,d)}_ensureNoPoleVertices(){let o=this._vertexBuffer;for(let l=0;l<o.length;l+=2){let d=o[l+1];d===zd&&(o[l+1]=-32767),d===zh&&(o[l+1]=32766)}}_generatePoleQuad(o,l,d,m,g,_){m>g!=(_===zd)?(o.push(l),o.push(d),o.push(this._vertexToIndex(m,_)),o.push(d),o.push(this._vertexToIndex(g,_)),o.push(this._vertexToIndex(m,_))):(o.push(d),o.push(l),o.push(this._vertexToIndex(m,_)),o.push(this._vertexToIndex(g,_)),o.push(d),o.push(this._vertexToIndex(m,_)))}_fillPoles(o,l,d){let m=this._vertexBuffer,g=di,_=o.length;for(let x=2;x<_;x+=3){let I=o[x-2],E=o[x-1],F=o[x],V=m[2*I],N=m[2*I+1],q=m[2*E],G=m[2*E+1],U=m[2*F],Q=m[2*F+1];l&&(N===0&&G===0&&this._generatePoleQuad(o,I,E,V,q,zd),G===0&&Q===0&&this._generatePoleQuad(o,E,F,q,U,zd),Q===0&&N===0&&this._generatePoleQuad(o,F,I,U,V,zd)),d&&(N===g&&G===g&&this._generatePoleQuad(o,I,E,V,q,zh),G===g&&Q===g&&this._generatePoleQuad(o,E,F,q,U,zh),Q===g&&N===g&&this._generatePoleQuad(o,F,I,U,V,zh))}}_initializeVertices(o){for(let l=0;l<o.length;l+=2)this._vertexToIndex(o[l],o[l+1])}subdividePolygonInternal(o,l){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;let{flattened:d,holeIndices:m}=function(x){let I=[],E=[];for(let F of x)if(F.length!==0){F!==x[0]&&I.push(E.length/2);for(let V=0;V<F.length;V++)E.push(F[V].x),E.push(F[V].y)}return{flattened:E,holeIndices:I}}(o),g;this._initializeVertices(d);try{let x=function(E,F,V=2){let N=F&&F.length,q=N?F[0]*V:E.length,G=lv(E,0,q,V,!0),U=[];if(!G||G.next===G.prev)return U;let Q,ae,ge;if(N&&(G=function(se,pe,ye,Te){let Ve=[];for(let at=0,et=pe.length;at<et;at++){let ut=lv(se,pe[at]*Te,at<et-1?pe[at+1]*Te:se.length,Te,!1);ut===ut.next&&(ut.steiner=!0),Ve.push(TC(ut))}Ve.sort(xC);for(let at=0;at<Ve.length;at++)ye=wC(Ve[at],ye);return ye}(E,F,G,V)),E.length>80*V){Q=E[0],ae=E[1];let se=Q,pe=ae;for(let ye=V;ye<q;ye+=V){let Te=E[ye],Ve=E[ye+1];Te<Q&&(Q=Te),Ve<ae&&(ae=Ve),Te>se&&(se=Te),Ve>pe&&(pe=Ve)}ge=Math.max(se-Q,pe-ae),ge=ge!==0?32767/ge:0}return Ah(G,U,V,Q,ae,ge,0),U}(d,m),I=this._convertIndices(d,x);g=this._subdivideTrianglesScanline(I)}catch(x){console.error(x)}let _=[];return l&&(_=this._generateOutline(o)),this._ensureNoPoleVertices(),this._handlePoles(g),{verticesFlattened:this._vertexBuffer,indicesTriangles:g,indicesLineList:_}}_convertIndices(o,l){let d=[];for(let m=0;m<l.length;m++)d.push(this._vertexToIndex(o[2*l[m]],o[2*l[m]+1]));return d}_pointArrayToIndices(o){let l=[];for(let d=0;d<o.length;d++){let m=o[d];l.push(this._vertexToIndex(m.x,m.y))}return l}}function hv(c,o,l,d=!0){return new SC(l,o).subdividePolygonInternal(c,d)}function yu(c,o,l=!1){if(!c||c.length<1)return[];if(c.length<2)return[];let d=c[0],m=c[c.length-1],g=l&&(d.x!==m.x||d.y!==m.y);if(o<2)return g?[...c,c[0]]:[...c];let _=Math.floor(di/o),x=[];x.push(new p(c[0].x,c[0].y));let I=c.length,E=g?I:I-1;for(let F=0;F<E;F++){let V=c[F],N=F<I-1?c[F+1]:c[0],q=V.x,G=V.y,U=N.x,Q=N.y,ae=q!==U,ge=G!==Q;if(!ae&&!ge)continue;let se=U-q,pe=Q-G,ye=Math.abs(se),Te=Math.abs(pe),Ve=q,at=G;for(;;){let ut=se>0?(Math.floor(Ve/_)+1)*_:(Math.ceil(Ve/_)-1)*_,Ct=pe>0?(Math.floor(at/_)+1)*_:(Math.ceil(at/_)-1)*_,ht=Math.abs(Ve-ut),tt=Math.abs(at-Ct),$e=Math.abs(Ve-U),Bt=Math.abs(at-Q),Lt=ae?ht/ye:Number.POSITIVE_INFINITY,qt=ge?tt/Te:Number.POSITIVE_INFINITY;if(($e<=ht||!ae)&&(Bt<=tt||!ge))break;if(Lt<qt&&ae||!ge){Ve=ut,at+=pe*Lt;let Et=new p(Ve,Math.round(at));x[x.length-1].x===Et.x&&x[x.length-1].y===Et.y||x.push(Et)}else{Ve+=se*qt,at=Ct;let Et=new p(Math.round(Ve),at);x[x.length-1].x===Et.x&&x[x.length-1].y===Et.y||x.push(Et)}}let et=new p(U,Q);x[x.length-1].x===et.x&&x[x.length-1].y===et.y||x.push(et)}return x}function MC(c,o,l){if(o.length===0)throw new Error("Subdivision vertex ring is empty.");let d=0,m=c[2*o[0]];for(let I=1;I<o.length;I++){let E=c[2*o[I]];E<m&&(m=E,d=I)}let g=o.length,_=d,x=(_+1)%g;for(;;){let I=_-1>=0?_-1:g-1,E=(x+1)%g,F=c[2*o[I]],V=c[2*o[E]],N=c[2*o[_]],q=c[2*o[_]+1],G=c[2*o[x]+1],U=!1;if(F<V)U=!0;else if(F>V)U=!1;else{let Q=G-q,ae=-(c[2*o[x]]-N),ge=q<G?1:-1;((F-N)*Q+(c[2*o[I]+1]-q)*ae)*ge>((V-N)*Q+(c[2*o[E]+1]-q)*ae)*ge&&(U=!0)}if(U){let Q=o[I],ae=o[_],ge=o[x];Q!==ae&&Q!==ge&&ae!==ge&&l.push(ge,ae,Q),_--,_<0&&(_=g-1)}else{let Q=o[E],ae=o[_],ge=o[x];Q!==ae&&Q!==ge&&ae!==ge&&l.push(ge,ae,Q),x++,x>=g&&(x=0)}if(I===E)break}}function mv(c,o,l,d,m,g,_,x,I){let E=m.length/2,F=_&&x&&I;if(E<kt.MAX_VERTEX_ARRAY_LENGTH){let V=o.prepareSegment(E,l,d),N=V.vertexLength;for(let U=0;U<g.length;U+=3)d.emplaceBack(N+g[U],N+g[U+1],N+g[U+2]);let q,G;V.vertexLength+=E,V.primitiveLength+=g.length/3,F&&(G=_.prepareSegment(E,l,x),q=G.vertexLength,G.vertexLength+=E);for(let U=0;U<m.length;U+=2)c(m[U],m[U+1]);if(F)for(let U=0;U<I.length;U++){let Q=I[U];for(let ae=1;ae<Q.length;ae+=2)x.emplaceBack(q+Q[ae-1],q+Q[ae]);G.primitiveLength+=Q.length/2}}else(function(V,N,q,G,U,Q){let ae=[];for(let Te=0;Te<G.length/2;Te++)ae.push(-1);let ge={count:0},se=0,pe=V.getOrCreateLatestSegment(N,q),ye=pe.vertexLength;for(let Te=2;Te<U.length;Te+=3){let Ve=U[Te-2],at=U[Te-1],et=U[Te],ut=ae[Ve]<se,Ct=ae[at]<se,ht=ae[et]<se;pe.vertexLength+((ut?1:0)+(Ct?1:0)+(ht?1:0))>kt.MAX_VERTEX_ARRAY_LENGTH&&(pe=V.createNewSegment(N,q),se=ge.count,ut=!0,Ct=!0,ht=!0,ye=0);let tt=Bh(ae,G,Q,ge,Ve,ut,pe),$e=Bh(ae,G,Q,ge,at,Ct,pe),Bt=Bh(ae,G,Q,ge,et,ht,pe);q.emplaceBack(ye+tt-se,ye+$e-se,ye+Bt-se),pe.primitiveLength++}})(o,l,d,m,g,c),F&&function(V,N,q,G,U,Q){let ae=[];for(let Te=0;Te<G.length/2;Te++)ae.push(-1);let ge={count:0},se=0,pe=V.getOrCreateLatestSegment(N,q),ye=pe.vertexLength;for(let Te=0;Te<U.length;Te++){let Ve=U[Te];for(let at=1;at<U[Te].length;at+=2){let et=Ve[at-1],ut=Ve[at],Ct=ae[et]<se,ht=ae[ut]<se;pe.vertexLength+((Ct?1:0)+(ht?1:0))>kt.MAX_VERTEX_ARRAY_LENGTH&&(pe=V.createNewSegment(N,q),se=ge.count,Ct=!0,ht=!0,ye=0);let tt=Bh(ae,G,Q,ge,et,Ct,pe),$e=Bh(ae,G,Q,ge,ut,ht,pe);q.emplaceBack(ye+tt-se,ye+$e-se),pe.primitiveLength++}}}(_,l,x,m,I,c),o.forceNewSegmentOnNextPrepare(),_?.forceNewSegmentOnNextPrepare()}function Bh(c,o,l,d,m,g,_){if(g){let x=d.count;return l(o[2*m],o[2*m+1]),c[m]=d.count,d.count++,_.vertexLength++,x}return c[m]}class Z_{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(l=>l.id),this.index=o.index,this.hasDependencies=!1,this.patternFeatures=[],this.layoutVertexArray=new me,this.indexArray=new Ue,this.indexArray2=new xt,this.programConfigurations=new tl(o.layers,o.zoom),this.segments=new kt,this.segments2=new kt,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(o,l,d){this.hasDependencies=V0("fill",this.layers,l);let m=this.layers[0].layout.get("fill-sort-key"),g=!m.isConstant(),_=[];for(let{feature:x,id:I,index:E,sourceLayerIndex:F}of o){let V=this.layers[0]._featureFilter.needGeometry,N=bs(x,V);if(!this.layers[0]._featureFilter.filter(new un(this.zoom),N,d))continue;let q=g?m.evaluate(N,{},d,l.availableImages):void 0,G={id:I,properties:x.properties,type:x.type,sourceLayerIndex:F,index:E,geometry:V?N.geometry:_s(x),patterns:{},sortKey:q};_.push(G)}g&&_.sort((x,I)=>x.sortKey-I.sortKey);for(let x of _){let{geometry:I,index:E,sourceLayerIndex:F}=x;if(this.hasDependencies){let V=K_("fill",this.layers,x,{zoom:this.zoom},l);this.patternFeatures.push(V)}else this.addFeature(x,I,E,d,{},l.subdivisionGranularity);l.featureIndex.insert(o[E].feature,I,E,F,this.index)}}update(o,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,l,this.stateDependentLayers,{imagePositions:d})}addFeatures(o,l,d){for(let m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,l,d,o.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,gC),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.indexBuffer2=o.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(o,l,d,m,g,_){for(let x of ed(l,500)){let I=hv(x,m,_.fill.getGranularityForZoomLevel(m.z)),E=this.layoutVertexArray;mv((F,V)=>{E.emplaceBack(F,V)},this.segments,this.layoutVertexArray,this.indexArray,I.verticesFlattened,I.indicesTriangles,this.segments2,this.indexArray2,I.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,d,{imagePositions:g,canonical:m})}}let fv,gv;Nt("FillBucket",Z_,{omit:["layers","patternFeatures"]});var kC={get paint(){return gv=gv||new ho({"fill-antialias":new Zt(He.paint_fill["fill-antialias"]),"fill-opacity":new ii(He.paint_fill["fill-opacity"]),"fill-color":new ii(He.paint_fill["fill-color"]),"fill-outline-color":new ii(He.paint_fill["fill-outline-color"]),"fill-translate":new Zt(He.paint_fill["fill-translate"]),"fill-translate-anchor":new Zt(He.paint_fill["fill-translate-anchor"]),"fill-pattern":new uu(He.paint_fill["fill-pattern"])})},get layout(){return fv=fv||new ho({"fill-sort-key":new ii(He.layout_fill["fill-sort-key"])})}};class EC extends Zo{constructor(o,l){super(o,kC,l)}recalculate(o,l){super.recalculate(o,l);let d=this.paint._values["fill-outline-color"];d.value.kind==="constant"&&d.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(o){return new Z_(o)}queryRadius(){return F0(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:o,geometry:l,transform:d,pixelsToTileUnits:m}){return Wy(O0(o,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-d.bearingInRadians,m),l)}isTileClipped(){return!0}}let PC=na([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),DC=na([{name:"a_centroid",components:2,type:"Int16"}],4),{members:LC}=PC;class Rh{constructor(o,l,d,m,g){this.properties={},this.extent=d,this.type=0,this.id=void 0,this._pbf=o,this._geometry=-1,this._keys=m,this._values=g,o.readFields(AC,this,l)}loadGeometry(){let o=this._pbf;o.pos=this._geometry;let l=o.readVarint()+o.pos,d=[],m,g=1,_=0,x=0,I=0;for(;o.pos<l;){if(_<=0){let E=o.readVarint();g=7&E,_=E>>3}if(_--,g===1||g===2)x+=o.readSVarint(),I+=o.readSVarint(),g===1&&(m&&d.push(m),m=[]),m&&m.push(new p(x,I));else{if(g!==7)throw new Error(`unknown command ${g}`);m&&m.push(m[0].clone())}}return m&&d.push(m),d}bbox(){let o=this._pbf;o.pos=this._geometry;let l=o.readVarint()+o.pos,d=1,m=0,g=0,_=0,x=1/0,I=-1/0,E=1/0,F=-1/0;for(;o.pos<l;){if(m<=0){let V=o.readVarint();d=7&V,m=V>>3}if(m--,d===1||d===2)g+=o.readSVarint(),_+=o.readSVarint(),g<x&&(x=g),g>I&&(I=g),_<E&&(E=_),_>F&&(F=_);else if(d!==7)throw new Error(`unknown command ${d}`)}return[x,E,I,F]}toGeoJSON(o,l,d){let m=this.extent*Math.pow(2,d),g=this.extent*o,_=this.extent*l,x=this.loadGeometry();function I(N){return[360*(N.x+g)/m-180,360/Math.PI*Math.atan(Math.exp((1-2*(N.y+_)/m)*Math.PI))-90]}function E(N){return N.map(I)}let F;if(this.type===1){let N=[];for(let G of x)N.push(G[0]);let q=E(N);F=N.length===1?{type:"Point",coordinates:q[0]}:{type:"MultiPoint",coordinates:q}}else if(this.type===2){let N=x.map(E);F=N.length===1?{type:"LineString",coordinates:N[0]}:{type:"MultiLineString",coordinates:N}}else{if(this.type!==3)throw new Error("unknown feature type");{let N=_v(x),q=[];for(let G of N)q.push(G.map(E));F=q.length===1?{type:"Polygon",coordinates:q[0]}:{type:"MultiPolygon",coordinates:q}}}let V={type:"Feature",geometry:F,properties:this.properties};return this.id!=null&&(V.id=this.id),V}}function AC(c,o,l){c===1?o.id=l.readVarint():c===2?function(d,m){let g=d.readVarint()+d.pos;for(;d.pos<g;){let _=m._keys[d.readVarint()],x=m._values[d.readVarint()];m.properties[_]=x}}(l,o):c===3?o.type=l.readVarint():c===4&&(o._geometry=l.pos)}function _v(c){let o=c.length;if(o<=1)return[c];let l=[],d,m;for(let g=0;g<o;g++){let _=FC(c[g]);_!==0&&(m===void 0&&(m=_<0),m===_<0?(d&&l.push(d),d=[c[g]]):d&&d.push(c[g]))}return d&&l.push(d),l}function FC(c){let o=0;for(let l,d,m=0,g=c.length,_=g-1;m<g;_=m++)l=c[m],d=c[_],o+=(d.x-l.x)*(l.y+d.y);return o}Rh.types=["Unknown","Point","LineString","Polygon"];class OC{constructor(o,l){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=o,this._keys=[],this._values=[],this._features=[],o.readFields(VC,this,l),this.length=this._features.length}feature(o){if(o<0||o>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[o];let l=this._pbf.readVarint()+this._pbf.pos;return new Rh(this._pbf,l,this.extent,this._keys,this._values)}}function VC(c,o,l){c===15?o.version=l.readVarint():c===1?o.name=l.readString():c===5?o.extent=l.readVarint():c===2?o._features.push(l.pos):c===3?o._keys.push(l.readString()):c===4&&o._values.push(function(d){let m=null,g=d.readVarint()+d.pos;for(;d.pos<g;){let _=d.readVarint()>>3;m=_===1?d.readString():_===2?d.readFloat():_===3?d.readDouble():_===4?d.readVarint64():_===5?d.readVarint():_===6?d.readSVarint():_===7?d.readBoolean():null}if(m==null)throw new Error("unknown feature value");return m}(l))}class bv{constructor(o,l){this.layers=o.readFields(zC,{},l)}}function zC(c,o,l){if(c===3){let d=new OC(l,l.readVarint()+l.pos);d.length&&(o[d.name]=d)}}let X_=Math.pow(2,13);function Nh(c,o,l,d,m,g,_,x){c.emplaceBack(o,l,2*Math.floor(d*X_)+_,m*X_*2,g*X_*2,Math.round(x))}class Y_{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(l=>l.id),this.index=o.index,this.hasDependencies=!1,this.layoutVertexArray=new be,this.centroidVertexArray=new he,this.indexArray=new Ue,this.programConfigurations=new tl(o.layers,o.zoom),this.segments=new kt,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(o,l,d){this.features=[],this.hasDependencies=V0("fill-extrusion",this.layers,l);for(let{feature:m,id:g,index:_,sourceLayerIndex:x}of o){let I=this.layers[0]._featureFilter.needGeometry,E=bs(m,I);if(!this.layers[0]._featureFilter.filter(new un(this.zoom),E,d))continue;let F={id:g,sourceLayerIndex:x,index:_,geometry:I?E.geometry:_s(m),properties:m.properties,type:m.type,patterns:{}};this.hasDependencies?this.features.push(K_("fill-extrusion",this.layers,F,{zoom:this.zoom},l)):this.addFeature(F,F.geometry,_,d,{},l.subdivisionGranularity),l.featureIndex.insert(m,F.geometry,_,x,this.index,!0)}}addFeatures(o,l,d){for(let m of this.features){let{geometry:g}=m;this.addFeature(m,g,m.index,l,d,o.subdivisionGranularity)}}update(o,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,l,this.stateDependentLayers,{imagePositions:d})}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,LC),this.centroidVertexBuffer=o.createVertexBuffer(this.centroidVertexArray,DC.members,!0),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(o,l,d,m,g,_){for(let x of ed(l,500)){let I={x:0,y:0,sampleCount:0},E=this.layoutVertexArray.length;this.processPolygon(I,m,o,x,_);let F=this.layoutVertexArray.length-E,V=Math.floor(I.x/I.sampleCount),N=Math.floor(I.y/I.sampleCount);for(let q=0;q<F;q++)this.centroidVertexArray.emplaceBack(V,N)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,d,{imagePositions:g,canonical:m})}processPolygon(o,l,d,m,g){if(m.length<1||yv(m[0]))return;for(let V of m)V.length!==0&&BC(o,V);let _={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},x=g.fill.getGranularityForZoomLevel(l.z),I=Rh.types[d.type]==="Polygon";for(let V of m){if(V.length===0||yv(V))continue;let N=yu(V,x,I);this._generateSideFaces(N,_)}if(!I)return;let E=hv(m,l,x,!1),F=this.layoutVertexArray;mv((V,N)=>{Nh(F,V,N,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,E.verticesFlattened,E.indicesTriangles)}_generateSideFaces(o,l){let d=0;for(let m=1;m<o.length;m++){let g=o[m],_=o[m-1];if(RC(g,_))continue;l.segment.vertexLength+4>kt.MAX_VERTEX_ARRAY_LENGTH&&(l.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));let x=g.sub(_)._perp()._unit(),I=_.dist(g);d+I>32768&&(d=0),Nh(this.layoutVertexArray,g.x,g.y,x.x,x.y,0,0,d),Nh(this.layoutVertexArray,g.x,g.y,x.x,x.y,0,1,d),d+=I,Nh(this.layoutVertexArray,_.x,_.y,x.x,x.y,0,0,d),Nh(this.layoutVertexArray,_.x,_.y,x.x,x.y,0,1,d);let E=l.segment.vertexLength;this.indexArray.emplaceBack(E,E+2,E+1),this.indexArray.emplaceBack(E+1,E+2,E+3),l.segment.vertexLength+=4,l.segment.primitiveLength+=2}}}function BC(c,o){for(let l=0;l<o.length;l++){let d=o[l];l===o.length-1&&o[0].x===d.x&&o[0].y===d.y||(c.x+=d.x,c.y+=d.y,c.sampleCount++)}}function RC(c,o){return c.x===o.x&&(c.x<0||c.x>di)||c.y===o.y&&(c.y<0||c.y>di)}function yv(c){return c.every(o=>o.x<0)||c.every(o=>o.x>di)||c.every(o=>o.y<0)||c.every(o=>o.y>di)}let vv;Nt("FillExtrusionBucket",Y_,{omit:["layers","features"]});var NC={get paint(){return vv=vv||new ho({"fill-extrusion-opacity":new Zt(He["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ii(He["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Zt(He["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Zt(He["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new uu(He["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ii(He["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ii(He["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Zt(He["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class qC extends Zo{constructor(o,l){super(o,NC,l)}createBucket(o){return new Y_(o)}queryRadius(){return F0(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:o,feature:l,featureState:d,geometry:m,transform:g,pixelsToTileUnits:_,pixelPosMatrix:x}){let I=O0(o,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-g.bearingInRadians,_),E=this.paint.get("fill-extrusion-height").evaluate(l,d),F=this.paint.get("fill-extrusion-base").evaluate(l,d),V=function(q,G){let U=[];for(let Q of q){let ae=[Q.x,Q.y,0,1];Ci(ae,ae,G),U.push(new p(ae[0]/ae[3],ae[1]/ae[3]))}return U}(I,x),N=function(q,G,U,Q){let ae=[],ge=[],se=Q[8]*G,pe=Q[9]*G,ye=Q[10]*G,Te=Q[11]*G,Ve=Q[8]*U,at=Q[9]*U,et=Q[10]*U,ut=Q[11]*U;for(let Ct of q){let ht=[],tt=[];for(let $e of Ct){let Bt=$e.x,Lt=$e.y,qt=Q[0]*Bt+Q[4]*Lt+Q[12],Et=Q[1]*Bt+Q[5]*Lt+Q[13],Jt=Q[2]*Bt+Q[6]*Lt+Q[14],Bi=Q[3]*Bt+Q[7]*Lt+Q[15],ki=Jt+ye,Ln=Bi+Te,Xa=qt+Ve,ga=Et+at,An=Jt+et,Mn=Bi+ut,Ji=new p((qt+se)/Ln,(Et+pe)/Ln);Ji.z=ki/Ln,ht.push(Ji);let Wn=new p(Xa/Mn,ga/Mn);Wn.z=An/Mn,tt.push(Wn)}ae.push(ht),ge.push(tt)}return[ae,ge]}(m,F,E,x);return function(q,G,U){let Q=1/0;Wy(U,G)&&(Q=xv(U,G[0]));for(let ae=0;ae<G.length;ae++){let ge=G[ae],se=q[ae];for(let pe=0;pe<ge.length-1;pe++){let ye=ge[pe],Te=[ye,ge[pe+1],se[pe+1],se[pe],ye];Ld(U,Te)&&(Q=Math.min(Q,xv(U,Te)))}}return Q!==1/0&&Q}(N[0],N[1],V)}}function qh(c,o){return c.x*o.x+c.y*o.y}function xv(c,o){if(c.length===1){let l=0,d=o[l++],m;for(;!m||d.equals(m);)if(m=o[l++],!m)return 1/0;for(;l<o.length;l++){let g=o[l],_=c[0],x=m.sub(d),I=g.sub(d),E=_.sub(d),F=qh(x,x),V=qh(x,I),N=qh(I,I),q=qh(E,x),G=qh(E,I),U=F*N-V*V,Q=(N*q-V*G)/U,ae=(F*G-V*q)/U,ge=d.z*(1-Q-ae)+m.z*Q+g.z*ae;if(isFinite(ge))return ge}return 1/0}{let l=1/0;for(let d of o)l=Math.min(l,d.z);return l}}let jC=na([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:HC}=jC,GC=na([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:UC}=GC,$C=Math.cos(Math.PI/180*37.5),wv=Math.pow(2,14)/.5;class J_{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(l=>l.id),this.index=o.index,this.hasDependencies=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(l=>{this.gradients[l.id]={}}),this.layoutVertexArray=new Se,this.layoutVertexArray2=new _e,this.indexArray=new Ue,this.programConfigurations=new tl(o.layers,o.zoom),this.segments=new kt,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(o,l,d){this.hasDependencies=V0("line",this.layers,l)||this.hasLineDasharray(this.layers);let m=this.layers[0].layout.get("line-sort-key"),g=!m.isConstant(),_=[];for(let{feature:x,id:I,index:E,sourceLayerIndex:F}of o){let V=this.layers[0]._featureFilter.needGeometry,N=bs(x,V);if(!this.layers[0]._featureFilter.filter(new un(this.zoom),N,d))continue;let q=g?m.evaluate(N,{},d):void 0,G={id:I,properties:x.properties,type:x.type,sourceLayerIndex:F,index:E,geometry:V?N.geometry:_s(x),patterns:{},dashes:{},sortKey:q};_.push(G)}g&&_.sort((x,I)=>x.sortKey-I.sortKey);for(let x of _){let{geometry:I,index:E,sourceLayerIndex:F}=x;this.hasDependencies?(V0("line",this.layers,l)?K_("line",this.layers,x,{zoom:this.zoom},l):this.hasLineDasharray(this.layers)&&this.addLineDashDependencies(this.layers,x,this.zoom,l),this.patternFeatures.push(x)):this.addFeature(x,I,E,d,{},{},l.subdivisionGranularity),l.featureIndex.insert(o[E].feature,I,E,F,this.index)}}update(o,l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,l,this.stateDependentLayers,{imagePositions:d,dashPositions:m})}addFeatures(o,l,d,m){for(let g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,l,d,m,o.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=o.createVertexBuffer(this.layoutVertexArray2,UC)),this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,HC),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(o){if(o.properties&&Object.prototype.hasOwnProperty.call(o.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(o.properties,"mapbox_clip_end"))return{start:+o.properties.mapbox_clip_start,end:+o.properties.mapbox_clip_end}}addFeature(o,l,d,m,g,_,x){let I=this.layers[0].layout,E=I.get("line-join").evaluate(o,{}),F=I.get("line-cap"),V=I.get("line-miter-limit"),N=I.get("line-round-limit");this.lineClips=this.lineFeatureClips(o);for(let q of l)this.addLine(q,o,E,F,V,N,m,x);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,d,{imagePositions:g,dashPositions:_,canonical:m})}addLine(o,l,d,m,g,_,x,I){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,o=yu(o,x?I.line.getGranularityForZoomLevel(x.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let se=0;se<o.length-1;se++)this.totalDistance+=o[se].dist(o[se+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}let E=Rh.types[l.type]==="Polygon",F=o.length;for(;F>=2&&o[F-1].equals(o[F-2]);)F--;let V=0;for(;V<F-1&&o[V].equals(o[V+1]);)V++;if(F<(E?3:2))return;d==="bevel"&&(g=1.05);let N=this.overscaling<=16?122880/(512*this.overscaling):0,q=this.segments.prepareSegment(10*F,this.layoutVertexArray,this.indexArray),G,U,Q,ae,ge;this.e1=this.e2=-1,E&&(G=o[F-2],ge=o[V].sub(G)._unit()._perp());for(let se=V;se<F;se++){if(Q=se===F-1?E?o[V+1]:void 0:o[se+1],Q&&o[se].equals(Q))continue;ge&&(ae=ge),G&&(U=G),G=o[se],ge=Q?Q.sub(G)._unit()._perp():ae,ae=ae||ge;let pe=ae.add(ge);pe.x===0&&pe.y===0||pe._unit();let ye=ae.x*ge.x+ae.y*ge.y,Te=pe.x*ge.x+pe.y*ge.y,Ve=Te!==0?1/Te:1/0,at=2*Math.sqrt(2-2*Te),et=Te<$C&&U&&Q,ut=ae.x*ge.y-ae.y*ge.x>0;if(et&&se>V){let tt=G.dist(U);if(tt>2*N){let $e=G.sub(G.sub(U)._mult(N/tt)._round());this.updateDistance(U,$e),this.addCurrentVertex($e,ae,0,0,q),U=$e}}let Ct=U&&Q,ht=Ct?d:E?"butt":m;if(Ct&&ht==="round"&&(Ve<_?ht="miter":Ve<=2&&(ht="fakeround")),ht==="miter"&&Ve>g&&(ht="bevel"),ht==="bevel"&&(Ve>2&&(ht="flipbevel"),Ve<g&&(ht="miter")),U&&this.updateDistance(U,G),ht==="miter")pe._mult(Ve),this.addCurrentVertex(G,pe,0,0,q);else if(ht==="flipbevel"){if(Ve>100)pe=ge.mult(-1);else{let tt=Ve*ae.add(ge).mag()/ae.sub(ge).mag();pe._perp()._mult(tt*(ut?-1:1))}this.addCurrentVertex(G,pe,0,0,q),this.addCurrentVertex(G,pe.mult(-1),0,0,q)}else if(ht==="bevel"||ht==="fakeround"){let tt=-Math.sqrt(Ve*Ve-1),$e=ut?tt:0,Bt=ut?0:tt;if(U&&this.addCurrentVertex(G,ae,$e,Bt,q),ht==="fakeround"){let Lt=Math.round(180*at/Math.PI/20);for(let qt=1;qt<Lt;qt++){let Et=qt/Lt;if(Et!==.5){let Bi=Et-.5;Et+=Et*Bi*(Et-1)*((1.0904+ye*(ye*(3.55645-1.43519*ye)-3.2452))*Bi*Bi+(.848013+ye*(.215638*ye-1.06021)))}let Jt=ge.sub(ae)._mult(Et)._add(ae)._unit()._mult(ut?-1:1);this.addHalfVertex(G,Jt.x,Jt.y,!1,ut,0,q)}}Q&&this.addCurrentVertex(G,ge,-$e,-Bt,q)}else if(ht==="butt")this.addCurrentVertex(G,pe,0,0,q);else if(ht==="square"){let tt=U?1:-1;this.addCurrentVertex(G,pe,tt,tt,q)}else ht==="round"&&(U&&(this.addCurrentVertex(G,ae,0,0,q),this.addCurrentVertex(G,ae,1,1,q,!0)),Q&&(this.addCurrentVertex(G,ge,-1,-1,q,!0),this.addCurrentVertex(G,ge,0,0,q)));if(et&&se<F-1){let tt=G.dist(Q);if(tt>2*N){let $e=G.add(Q.sub(G)._mult(N/tt)._round());this.updateDistance(G,$e),this.addCurrentVertex($e,ge,0,0,q),G=$e}}}}addCurrentVertex(o,l,d,m,g,_=!1){let x=l.y*m-l.x,I=-l.y-l.x*m;this.addHalfVertex(o,l.x+l.y*d,l.y-l.x*d,_,!1,d,g),this.addHalfVertex(o,x,I,_,!0,-m,g),this.distance>wv/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(o,l,d,m,g,_))}addHalfVertex({x:o,y:l},d,m,g,_,x,I){let E=.5*(this.lineClips?this.scaledDistance*(wv-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((o<<1)+(g?1:0),(l<<1)+(_?1:0),Math.round(63*d)+128,Math.round(63*m)+128,1+(x===0?0:x<0?-1:1)|(63&E)<<2,E>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);let F=I.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,F,this.e2),I.primitiveLength++),_?this.e2=F:this.e1=F}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(o,l){this.distance+=o.dist(l),this.updateScaledDistance()}hasLineDasharray(o){for(let l of o){let d=l.paint.get("line-dasharray");if(d&&!d.isConstant())return!0}return!1}addLineDashDependencies(o,l,d,m){for(let g of o){let _=g.paint.get("line-dasharray");if(!_||_.value.kind==="constant")continue;let x=g.layout.get("line-cap")==="round",I={dasharray:_.value.evaluate({zoom:d-1},l,{}),round:x},E={dasharray:_.value.evaluate({zoom:d},l,{}),round:x},F={dasharray:_.value.evaluate({zoom:d+1},l,{}),round:x},V=`${I.dasharray.join(",")},${I.round}`,N=`${E.dasharray.join(",")},${E.round}`,q=`${F.dasharray.join(",")},${F.round}`;m.dashDependencies[V]=I,m.dashDependencies[N]=E,m.dashDependencies[q]=F,l.dashes[g.id]={min:V,mid:N,max:q}}}}let Iv,Tv;Nt("LineBucket",J_,{omit:["layers","patternFeatures"]});var Cv={get paint(){return Tv=Tv||new ho({"line-opacity":new ii(He.paint_line["line-opacity"]),"line-color":new ii(He.paint_line["line-color"]),"line-translate":new Zt(He.paint_line["line-translate"]),"line-translate-anchor":new Zt(He.paint_line["line-translate-anchor"]),"line-width":new ii(He.paint_line["line-width"]),"line-gap-width":new ii(He.paint_line["line-gap-width"]),"line-offset":new ii(He.paint_line["line-offset"]),"line-blur":new ii(He.paint_line["line-blur"]),"line-dasharray":new uu(He.paint_line["line-dasharray"]),"line-pattern":new uu(He.paint_line["line-pattern"]),"line-gradient":new Td(He.paint_line["line-gradient"])})},get layout(){return Iv=Iv||new ho({"line-cap":new Zt(He.layout_line["line-cap"]),"line-join":new ii(He.layout_line["line-join"]),"line-miter-limit":new Zt(He.layout_line["line-miter-limit"]),"line-round-limit":new Zt(He.layout_line["line-round-limit"]),"line-sort-key":new ii(He.layout_line["line-sort-key"])})}};class KC extends ii{possiblyEvaluate(o,l){return l=new un(Math.floor(l.zoom),{now:l.now,fadeDuration:l.fadeDuration,zoomHistory:l.zoomHistory,transition:l.transition}),super.possiblyEvaluate(o,l)}evaluate(o,l,d,m){return l=jn({},l,{zoom:Math.floor(l.zoom)}),super.evaluate(o,l,d,m)}}let N0;class WC extends Zo{constructor(o,l){super(o,Cv,l),this.gradientVersion=0,N0||(N0=new KC(Cv.paint.properties["line-width"].specification),N0.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(o){if(o==="line-gradient"){let l=this.gradientExpression();this.stepInterpolant=!!function(d){return d._styleExpression!==void 0}(l)&&l._styleExpression.expression instanceof cs,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(o,l){super.recalculate(o,l),this.paint._values["line-floorwidth"]=N0.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,o)}createBucket(o){return new J_(o)}queryRadius(o){let l=o,d=Sv(Fd("line-width",this,l),Fd("line-gap-width",this,l)),m=Fd("line-offset",this,l);return d/2+Math.abs(m)+F0(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:o,feature:l,featureState:d,geometry:m,transform:g,pixelsToTileUnits:_}){let x=O0(o,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-g.bearingInRadians,_),I=_/2*Sv(this.paint.get("line-width").evaluate(l,d),this.paint.get("line-gap-width").evaluate(l,d)),E=this.paint.get("line-offset").evaluate(l,d);return E&&(m=function(F,V){let N=[];for(let q=0;q<F.length;q++){let G=iC(F[q]),U=[];for(let Q=0;Q<G.length;Q++){let ae=G[Q],ge=G[Q-1],se=G[Q+1],pe=Q===0?new p(0,0):ae.sub(ge)._unit()._perp(),ye=Q===G.length-1?new p(0,0):se.sub(ae)._unit()._perp(),Te=pe._add(ye)._unit(),Ve=Te.x*ye.x+Te.y*ye.y;Ve!==0&&Te._mult(1/Ve),U.push(Te._mult(V)._add(ae))}N.push(U)}return N}(m,E*_)),function(F,V,N){for(let q=0;q<V.length;q++){let G=V[q];if(F.length>=3){for(let U=0;U<G.length;U++)if(Ad(F,G[U]))return!0}if(J4(F,G,N))return!0}return!1}(x,m,I)}isTileClipped(){return!0}}function Sv(c,o){return o>0?o+2*c:c}let QC=na([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),ZC=na([{name:"a_projected_pos",components:3,type:"Float32"}],4);na([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);let XC=na([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);na([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);let Mv=na([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),YC=na([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function JC(c,o,l){return c.sections.forEach(d=>{d.text=function(m,g,_){let x=g.layout.get("text-transform").evaluate(_,{});return x==="uppercase"?m=m.toLocaleUpperCase():x==="lowercase"&&(m=m.toLocaleLowerCase()),ms.applyArabicShaping&&(m=ms.applyArabicShaping(m)),m}(d.text,o,l)}),c}na([{name:"triangle",components:3,type:"Uint16"}]),na([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),na([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),na([{type:"Float32",name:"offsetX"}]),na([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),na([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);var Aa=24;let jh={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u22EF":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"},eS={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},tS={40:!0};function kv(c,o,l,d,m,g){if("fontStack"in o){let _=l[o.fontStack],x=_&&_[c];return x?x.metrics.advance*o.scale+m:0}{let _=d[o.imageName];return _?_.displaySize[0]*o.scale*Aa/g+m:0}}function Ev(c,o,l,d){let m=Math.pow(c-o,2);return d?c<o?m/2:2*m:m+Math.abs(l)*l}function iS(c,o,l){let d=0;return c===10&&(d-=1e4),l&&(d+=150),c!==40&&c!==65288||(d+=50),o!==41&&o!==65289||(d+=50),d}function Pv(c,o,l,d,m,g){let _=null,x=Ev(o,l,m,g);for(let I of d){let E=Ev(o-I.x,l,m,g)+I.badness;E<=x&&(_=I,x=E)}return{index:c,x:o,priorBreak:_,badness:x}}function Dv(c){return c?Dv(c.priorBreak).concat(c.index):[]}class Bd{constructor(o="",l=[],d=[]){this.text=o,this.sections=l,this.sectionIndex=d,this.imageSectionID=null}static fromFeature(o,l){let d=new Bd;for(let m=0;m<o.sections.length;m++){let g=o.sections[m];g.image?d.addImageSection(g):d.addTextSection(g,l)}return d}length(){return[...this.text].length}getSection(o){return this.sections[this.sectionIndex[o]]}getSectionIndex(o){return this.sectionIndex[o]}verticalizePunctuation(){this.text=function(o){let l="",d={premature:!0,value:void 0},m=o[Symbol.iterator](),g=m.next(),_=o[Symbol.iterator]();_.next();let x=_.next();for(;!g.done;)l+=!x.done&&bh(x.value.codePointAt(0))&&!jh[x.value]||!d.premature&&bh(d.value.codePointAt(0))&&!jh[d.value]||!jh[g.value]?g.value:jh[g.value],d={value:g.value,premature:!1},g=m.next(),x=_.next();return l}(this.text)}hasZeroWidthSpaces(){return this.text.includes("\u200B")}trim(){let o=this.text.match(/^\s*/),l=o?o[0].length:0,d=this.text.match(/\S\s*$/),m=d?d[0].length-1:0;this.text=this.text.substring(l,this.text.length-m),this.sectionIndex=this.sectionIndex.slice(l,this.sectionIndex.length-m)}substring(o,l){let d=[...this.text].slice(o,l).join(""),m=this.sectionIndex.slice(o,l);return new Bd(d,this.sections,m)}toCodeUnitIndex(o){return[...this.text].slice(0,o).join("").length}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((o,l)=>Math.max(o,this.sections[l].scale),0)}getMaxImageSize(o){let l=0,d=0;for(let m=0;m<this.length();m++){let g=this.getSection(m);if("imageName"in g){let _=o[g.imageName];if(!_)continue;let x=_.displaySize;l=Math.max(l,x[0]),d=Math.max(d,x[1])}}return{maxImageWidth:l,maxImageHeight:d}}addTextSection(o,l){this.text+=o.text,this.sections.push({scale:o.scale||1,verticalAlign:o.verticalAlign||"bottom",fontStack:o.fontStack||l});let d=this.sections.length-1;this.sectionIndex.push(...[...o.text].map(()=>d))}addImageSection(o){let l=o.image?o.image.name:"";if(l.length===0)return void Pa("Can't add FormattedSection with an empty image.");let d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push({scale:1,verticalAlign:o.verticalAlign||"bottom",imageName:l}),this.sectionIndex.push(this.sections.length-1)):Pa("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}determineLineBreaks(o,l,d,m,g){let _=[],x=this.determineAverageLineWidth(o,l,d,m,g),I=this.hasZeroWidthSpaces(),E=0,F=0,V=this.text[Symbol.iterator](),N=V.next(),q=this.text[Symbol.iterator]();q.next();let G=q.next(),U=this.text[Symbol.iterator]();U.next(),U.next();let Q=U.next();for(;!N.done;){let ae=this.getSection(F),ge=N.value.codePointAt(0);if(w0(ge)||(E+=kv(ge,ae,d,m,o,g)),!G.done){let se=su(ge),pe=G.value.codePointAt(0);(eS[ge]||se||"imageName"in ae||!Q.done&&tS[pe])&&_.push(Pv(F+1,E,x,_,iS(ge,pe,se&&I),!1))}F++,N=V.next(),G=q.next(),Q=U.next()}return Dv(Pv(this.length(),E,x,_,0,!0))}determineAverageLineWidth(o,l,d,m,g){let _=0,x=0;for(let I of this.text){let E=this.getSection(x);_+=kv(I.codePointAt(0),E,d,m,o,g),x++}return _/Math.max(1,Math.ceil(_/l))}}let e1=4294967296,Lv=1/e1,Av=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");class q0{constructor(o=new Uint8Array(16)){this.buf=ArrayBuffer.isView(o)?o:new Uint8Array(o),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(o,l,d=this.length){for(;this.pos<d;){let m=this.readVarint(),g=m>>3,_=this.pos;this.type=7&m,o(g,l,this),this.pos===_&&this.skip(m)}return l}readMessage(o,l){return this.readFields(o,l,this.readVarint()+this.pos)}readFixed32(){let o=this.dataView.getUint32(this.pos,!0);return this.pos+=4,o}readSFixed32(){let o=this.dataView.getInt32(this.pos,!0);return this.pos+=4,o}readFixed64(){let o=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*e1;return this.pos+=8,o}readSFixed64(){let o=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*e1;return this.pos+=8,o}readFloat(){let o=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,o}readDouble(){let o=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,o}readVarint(o){let l=this.buf,d,m;return m=l[this.pos++],d=127&m,m<128?d:(m=l[this.pos++],d|=(127&m)<<7,m<128?d:(m=l[this.pos++],d|=(127&m)<<14,m<128?d:(m=l[this.pos++],d|=(127&m)<<21,m<128?d:(m=l[this.pos],d|=(15&m)<<28,function(g,_,x){let I=x.buf,E,F;if(F=I[x.pos++],E=(112&F)>>4,F<128||(F=I[x.pos++],E|=(127&F)<<3,F<128)||(F=I[x.pos++],E|=(127&F)<<10,F<128)||(F=I[x.pos++],E|=(127&F)<<17,F<128)||(F=I[x.pos++],E|=(127&F)<<24,F<128)||(F=I[x.pos++],E|=(1&F)<<31,F<128))return Rd(g,E,_);throw new Error("Expected varint not more than 10 bytes")}(d,o,this)))))}readVarint64(){return this.readVarint(!0)}readSVarint(){let o=this.readVarint();return o%2==1?(o+1)/-2:o/2}readBoolean(){return!!this.readVarint()}readString(){let o=this.readVarint()+this.pos,l=this.pos;return this.pos=o,o-l>=12&&Av?Av.decode(this.buf.subarray(l,o)):function(d,m,g){let _="",x=m;for(;x<g;){let I=d[x],E,F,V,N=null,q=I>239?4:I>223?3:I>191?2:1;if(x+q>g)break;q===1?I<128&&(N=I):q===2?(E=d[x+1],(192&E)==128&&(N=(31&I)<<6|63&E,N<=127&&(N=null))):q===3?(E=d[x+1],F=d[x+2],(192&E)==128&&(192&F)==128&&(N=(15&I)<<12|(63&E)<<6|63&F,(N<=2047||N>=55296&&N<=57343)&&(N=null))):q===4&&(E=d[x+1],F=d[x+2],V=d[x+3],(192&E)==128&&(192&F)==128&&(192&V)==128&&(N=(15&I)<<18|(63&E)<<12|(63&F)<<6|63&V,(N<=65535||N>=1114112)&&(N=null))),N===null?(N=65533,q=1):N>65535&&(N-=65536,_+=String.fromCharCode(N>>>10&1023|55296),N=56320|1023&N),_+=String.fromCharCode(N),x+=q}return _}(this.buf,l,o)}readBytes(){let o=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,o);return this.pos=o,l}readPackedVarint(o=[],l){let d=this.readPackedEnd();for(;this.pos<d;)o.push(this.readVarint(l));return o}readPackedSVarint(o=[]){let l=this.readPackedEnd();for(;this.pos<l;)o.push(this.readSVarint());return o}readPackedBoolean(o=[]){let l=this.readPackedEnd();for(;this.pos<l;)o.push(this.readBoolean());return o}readPackedFloat(o=[]){let l=this.readPackedEnd();for(;this.pos<l;)o.push(this.readFloat());return o}readPackedDouble(o=[]){let l=this.readPackedEnd();for(;this.pos<l;)o.push(this.readDouble());return o}readPackedFixed32(o=[]){let l=this.readPackedEnd();for(;this.pos<l;)o.push(this.readFixed32());return o}readPackedSFixed32(o=[]){let l=this.readPackedEnd();for(;this.pos<l;)o.push(this.readSFixed32());return o}readPackedFixed64(o=[]){let l=this.readPackedEnd();for(;this.pos<l;)o.push(this.readFixed64());return o}readPackedSFixed64(o=[]){let l=this.readPackedEnd();for(;this.pos<l;)o.push(this.readSFixed64());return o}readPackedEnd(){return this.type===2?this.readVarint()+this.pos:this.pos+1}skip(o){let l=7&o;if(l===0)for(;this.buf[this.pos++]>127;);else if(l===2)this.pos=this.readVarint()+this.pos;else if(l===5)this.pos+=4;else{if(l!==1)throw new Error(`Unimplemented type: ${l}`);this.pos+=8}}writeTag(o,l){this.writeVarint(o<<3|l)}realloc(o){let l=this.length||16;for(;l<this.pos+o;)l*=2;if(l!==this.length){let d=new Uint8Array(l);d.set(this.buf),this.buf=d,this.dataView=new DataView(d.buffer),this.length=l}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(o){this.realloc(4),this.dataView.setInt32(this.pos,o,!0),this.pos+=4}writeSFixed32(o){this.realloc(4),this.dataView.setInt32(this.pos,o,!0),this.pos+=4}writeFixed64(o){this.realloc(8),this.dataView.setInt32(this.pos,-1&o,!0),this.dataView.setInt32(this.pos+4,Math.floor(o*Lv),!0),this.pos+=8}writeSFixed64(o){this.realloc(8),this.dataView.setInt32(this.pos,-1&o,!0),this.dataView.setInt32(this.pos+4,Math.floor(o*Lv),!0),this.pos+=8}writeVarint(o){(o=+o||0)>268435455||o<0?function(l,d){let m,g;if(l>=0?(m=l%4294967296|0,g=l/4294967296|0):(m=~(-l%4294967296),g=~(-l/4294967296),4294967295^m?m=m+1|0:(m=0,g=g+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),function(_,x,I){I.buf[I.pos++]=127&_|128,_>>>=7,I.buf[I.pos++]=127&_|128,_>>>=7,I.buf[I.pos++]=127&_|128,_>>>=7,I.buf[I.pos++]=127&_|128,I.buf[I.pos]=127&(_>>>=7)}(m,0,d),function(_,x){let I=(7&_)<<4;x.buf[x.pos++]|=I|((_>>>=3)?128:0),_&&(x.buf[x.pos++]=127&_|((_>>>=7)?128:0),_&&(x.buf[x.pos++]=127&_|((_>>>=7)?128:0),_&&(x.buf[x.pos++]=127&_|((_>>>=7)?128:0),_&&(x.buf[x.pos++]=127&_|((_>>>=7)?128:0),_&&(x.buf[x.pos++]=127&_)))))}(g,d)}(o,this):(this.realloc(4),this.buf[this.pos++]=127&o|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=o>>>7&127))))}writeSVarint(o){this.writeVarint(o<0?2*-o-1:2*o)}writeBoolean(o){this.writeVarint(+o)}writeString(o){o=String(o),this.realloc(4*o.length),this.pos++;let l=this.pos;this.pos=function(m,g,_){for(let x,I,E=0;E<g.length;E++){if(x=g.charCodeAt(E),x>55295&&x<57344){if(!I){x>56319||E+1===g.length?(m[_++]=239,m[_++]=191,m[_++]=189):I=x;continue}if(x<56320){m[_++]=239,m[_++]=191,m[_++]=189,I=x;continue}x=I-55296<<10|x-56320|65536,I=null}else I&&(m[_++]=239,m[_++]=191,m[_++]=189,I=null);x<128?m[_++]=x:(x<2048?m[_++]=x>>6|192:(x<65536?m[_++]=x>>12|224:(m[_++]=x>>18|240,m[_++]=x>>12&63|128),m[_++]=x>>6&63|128),m[_++]=63&x|128)}return _}(this.buf,o,this.pos);let d=this.pos-l;d>=128&&Fv(l,d,this),this.pos=l-1,this.writeVarint(d),this.pos+=d}writeFloat(o){this.realloc(4),this.dataView.setFloat32(this.pos,o,!0),this.pos+=4}writeDouble(o){this.realloc(8),this.dataView.setFloat64(this.pos,o,!0),this.pos+=8}writeBytes(o){let l=o.length;this.writeVarint(l),this.realloc(l);for(let d=0;d<l;d++)this.buf[this.pos++]=o[d]}writeRawMessage(o,l){this.pos++;let d=this.pos;o(l,this);let m=this.pos-d;m>=128&&Fv(d,m,this),this.pos=d-1,this.writeVarint(m),this.pos+=m}writeMessage(o,l,d){this.writeTag(o,2),this.writeRawMessage(l,d)}writePackedVarint(o,l){l.length&&this.writeMessage(o,nS,l)}writePackedSVarint(o,l){l.length&&this.writeMessage(o,aS,l)}writePackedBoolean(o,l){l.length&&this.writeMessage(o,sS,l)}writePackedFloat(o,l){l.length&&this.writeMessage(o,oS,l)}writePackedDouble(o,l){l.length&&this.writeMessage(o,rS,l)}writePackedFixed32(o,l){l.length&&this.writeMessage(o,lS,l)}writePackedSFixed32(o,l){l.length&&this.writeMessage(o,cS,l)}writePackedFixed64(o,l){l.length&&this.writeMessage(o,uS,l)}writePackedSFixed64(o,l){l.length&&this.writeMessage(o,dS,l)}writeBytesField(o,l){this.writeTag(o,2),this.writeBytes(l)}writeFixed32Field(o,l){this.writeTag(o,5),this.writeFixed32(l)}writeSFixed32Field(o,l){this.writeTag(o,5),this.writeSFixed32(l)}writeFixed64Field(o,l){this.writeTag(o,1),this.writeFixed64(l)}writeSFixed64Field(o,l){this.writeTag(o,1),this.writeSFixed64(l)}writeVarintField(o,l){this.writeTag(o,0),this.writeVarint(l)}writeSVarintField(o,l){this.writeTag(o,0),this.writeSVarint(l)}writeStringField(o,l){this.writeTag(o,2),this.writeString(l)}writeFloatField(o,l){this.writeTag(o,5),this.writeFloat(l)}writeDoubleField(o,l){this.writeTag(o,1),this.writeDouble(l)}writeBooleanField(o,l){this.writeVarintField(o,+l)}}function Rd(c,o,l){return l?4294967296*o+(c>>>0):4294967296*(o>>>0)+(c>>>0)}function Fv(c,o,l){let d=o<=16383?1:o<=2097151?2:o<=268435455?3:Math.floor(Math.log(o)/(7*Math.LN2));l.realloc(d);for(let m=l.pos-1;m>=c;m--)l.buf[m+d]=l.buf[m]}function nS(c,o){for(let l=0;l<c.length;l++)o.writeVarint(c[l])}function aS(c,o){for(let l=0;l<c.length;l++)o.writeSVarint(c[l])}function oS(c,o){for(let l=0;l<c.length;l++)o.writeFloat(c[l])}function rS(c,o){for(let l=0;l<c.length;l++)o.writeDouble(c[l])}function sS(c,o){for(let l=0;l<c.length;l++)o.writeBoolean(c[l])}function lS(c,o){for(let l=0;l<c.length;l++)o.writeFixed32(c[l])}function cS(c,o){for(let l=0;l<c.length;l++)o.writeSFixed32(c[l])}function uS(c,o){for(let l=0;l<c.length;l++)o.writeFixed64(c[l])}function dS(c,o){for(let l=0;l<c.length;l++)o.writeSFixed64(c[l])}function pS(c,o,l){c===1&&l.readMessage(hS,o)}function hS(c,o,l){if(c===3){let{id:d,bitmap:m,width:g,height:_,left:x,top:I,advance:E}=l.readMessage(mS,{});o.push({id:d,bitmap:new Lh({width:g+6,height:_+6},m),metrics:{width:g,height:_,left:x,top:I,advance:E}})}}function mS(c,o,l){c===1?o.id=l.readVarint():c===2?o.bitmap=l.readBytes():c===3?o.width=l.readVarint():c===4?o.height=l.readVarint():c===5?o.left=l.readSVarint():c===6?o.top=l.readSVarint():c===7&&(o.advance=l.readVarint())}function Ov(c){let o=0,l=0;for(let _ of c)o+=_.w*_.h,l=Math.max(l,_.w);c.sort((_,x)=>x.h-_.h);let d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(o/.95)),l),h:1/0}],m=0,g=0;for(let _ of c)for(let x=d.length-1;x>=0;x--){let I=d[x];if(!(_.w>I.w||_.h>I.h)){if(_.x=I.x,_.y=I.y,g=Math.max(g,_.y+_.h),m=Math.max(m,_.x+_.w),_.w===I.w&&_.h===I.h){let E=d.pop();E&&x<d.length&&(d[x]=E)}else _.h===I.h?(I.x+=_.w,I.w-=_.w):_.w===I.w?(I.y+=_.h,I.h-=_.h):(d.push({x:I.x+_.w,y:I.y,w:I.w-_.w,h:_.h}),I.y+=_.h,I.h-=_.h);break}}return{w:m,h:g,fill:o/(m*g)||0}}class t1{constructor(o,{pixelRatio:l,version:d,stretchX:m,stretchY:g,content:_,textFitWidth:x,textFitHeight:I}){this.paddedRect=o,this.pixelRatio=l,this.stretchX=m,this.stretchY=g,this.content=_,this.version=d,this.textFitWidth=x,this.textFitHeight=I}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Vv{constructor(o,l){let d={},m={};this.haveRenderCallbacks=[];let g=[];this.addImages(o,d,g),this.addImages(l,m,g);let{w:_,h:x}=Ov(g),I=new Bo({width:_||1,height:x||1});for(let E in o){let F=o[E],V=d[E].paddedRect;Bo.copy(F.data,I,{x:0,y:0},{x:V.x+1,y:V.y+1},F.data)}for(let E in l){let F=l[E],V=m[E].paddedRect,N=V.x+1,q=V.y+1,G=F.data.width,U=F.data.height;Bo.copy(F.data,I,{x:0,y:0},{x:N,y:q},F.data),Bo.copy(F.data,I,{x:0,y:U-1},{x:N,y:q-1},{width:G,height:1}),Bo.copy(F.data,I,{x:0,y:0},{x:N,y:q+U},{width:G,height:1}),Bo.copy(F.data,I,{x:G-1,y:0},{x:N-1,y:q},{width:1,height:U}),Bo.copy(F.data,I,{x:0,y:0},{x:N+G,y:q},{width:1,height:U})}this.image=I,this.iconPositions=d,this.patternPositions=m}addImages(o,l,d){for(let m in o){let g=o[m],_={x:0,y:0,w:g.data.width+2,h:g.data.height+2};d.push(_),l[m]=new t1(_,g),g.hasRenderCallback&&this.haveRenderCallbacks.push(m)}}patchUpdatedImages(o,l){o.dispatchRenderCallbacks(this.haveRenderCallbacks);for(let d in o.updatedImages)this.patchUpdatedImage(this.iconPositions[d],o.getImage(d),l),this.patchUpdatedImage(this.patternPositions[d],o.getImage(d),l)}patchUpdatedImage(o,l,d){if(!o||!l||o.version===l.version)return;o.version=l.version;let[m,g]=o.tl;d.update(l.data,void 0,{x:m,y:g})}}var Ul;function j0(c,o,l,d,m,g,_,x,I,E,F,V,N,q,G){let U=Bd.fromFeature(c,m),Q;V===n.az.vertical&&U.verticalizePunctuation();let ae=U.determineLineBreaks(E,g,o,d,q),{processBidirectionalText:ge,processStyledBidirectionalText:se}=ms;if(ge&&U.sections.length===1){Q=[],ae=ae.map(Ve=>U.toCodeUnitIndex(Ve));let Te=ge(U.toString(),ae);for(let Ve of Te){let at=[...Ve].map(()=>0);Q.push(new Bd(Ve,U.sections,at))}}else if(se){Q=[],ae=ae.map(et=>U.toCodeUnitIndex(et));let Te=0,Ve=[];for(let et of U.text)Ve.push(...Array(et.length).fill(U.sectionIndex[Te])),Te++;let at=se(U.text,Ve,ae);for(let et of at){let ut=[],Ct="";for(let ht of et[0])ut.push(et[1][Ct.length]),Ct+=ht;Q.push(new Bd(et[0],U.sections,ut))}}else Q=function(Te,Ve){let at=[],et=0;for(let ut of Ve)at.push(Te.substring(et,ut)),et=ut;return et<Te.length()&&at.push(Te.substring(et,Te.length())),at}(U,ae);let pe=[],ye={positionedLines:pe,text:U.toString(),top:F[1],bottom:F[1],left:F[0],right:F[0],writingMode:V,iconsInText:!1,verticalizable:!1};return function(Te,Ve,at,et,ut,Ct,ht,tt,$e,Bt,Lt,qt){let Et=0,Jt=0,Bi=0,ki=0,Ln=tt==="right"?1:tt==="left"?0:.5,Xa=Aa/qt,ga=0;for(let Ji of ut){Ji.trim();let Wn=Ji.getMaxScale(),oa={positionedGlyphs:[],lineOffset:0};Te.positionedLines[ga]=oa;let In=oa.positionedGlyphs,Ro=0;if(!Ji.length()){Jt+=Ct,++ga;continue}let Ya=fS(et,Ji,Xa),No=0;for(let Va of Ji.text){let zn=Ji.getSection(No),_a=Va.codePointAt(0),Qn=gS($e,Lt,_a),za={glyph:_a,imageName:null,x:Et,y:Jt+-17,vertical:Qn,scale:1,fontStack:"",sectionIndex:Ji.getSectionIndex(No),metrics:null,rect:null},al;if("fontStack"in zn){if(al=_S(zn,_a,Qn,Ya,Ve,at),!al)continue;za.fontStack=zn.fontStack}else{if(Te.iconsInText=!0,zn.scale*=Xa,al=bS(zn,Qn,Wn,Ya,et),!al)continue;Ro=Math.max(Ro,al.imageOffset),za.imageName=zn.imageName}let{rect:Qr,metrics:Qh,baselineOffset:Zl}=al;za.y+=Zl,za.scale=zn.scale,za.metrics=Qh,za.rect=Qr,In.push(za),Qn?(Te.verticalizable=!0,Et+=("imageName"in zn?Qh.advance:Aa)*zn.scale+Bt):Et+=Qh.advance*zn.scale+Bt,No++}In.length!==0&&(Bi=Math.max(Et-Bt,Bi),yS(In,0,In.length-1,Ln)),Et=0,oa.lineOffset=Math.max(Ro,(Wn-1)*Aa);let Fr=Ct*Wn+Ro;Jt+=Fr,ki=Math.max(Fr,ki),++ga}let{horizontalAlign:An,verticalAlign:Mn}=i1(ht);(function(Ji,Wn,oa,In,Ro,Ya,No,Fr,Va){let zn=(Wn-oa)*Ro,_a=0;_a=Ya!==No?-Fr*In- -17:-In*Va*No+.5*No;for(let Qn of Ji)for(let za of Qn.positionedGlyphs)za.x+=zn,za.y+=_a})(Te.positionedLines,Ln,An,Mn,Bi,ki,Ct,Jt,ut.length),Te.top+=-Mn*Jt,Te.bottom=Te.top+Jt,Te.left+=-An*Bi,Te.right=Te.left+Bi}(ye,o,l,d,Q,_,x,I,V,E,N,G),!function(Te){for(let Ve of Te)if(Ve.positionedGlyphs.length!==0)return!1;return!0}(pe)&&ye}function i1(c){let o=.5,l=.5;switch(c){case"right":case"top-right":case"bottom-right":o=1;break;case"left":case"top-left":case"bottom-left":o=0}switch(c){case"bottom":case"bottom-right":case"bottom-left":l=1;break;case"top":case"top-right":case"top-left":l=0}return{horizontalAlign:o,verticalAlign:l}}function fS(c,o,l){let d=o.getMaxScale()*Aa,{maxImageWidth:m,maxImageHeight:g}=o.getMaxImageSize(c),_=Math.max(d,g*l);return{verticalLineContentWidth:Math.max(d,m*l),horizontalLineContentHeight:_}}function zv(c){switch(c){case"top":return 0;case"center":return .5;default:return 1}}function gS(c,o,l){return!(c===n.az.horizontal||!o&&!_h(l)||o&&(w0(l)||(d=l,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(d)))));var d}function _S(c,o,l,d,m,g){let _=g[c.fontStack],x=function(E,F,V,N){if(E&&E.rect)return E;let q=F[V.fontStack],G=q&&q[N];return G?{rect:null,metrics:G.metrics}:null}(_&&_[o],m,c,o);if(x===null)return null;let I;if(l)I=d.verticalLineContentWidth-c.scale*Aa;else{let E=zv(c.verticalAlign);I=(d.horizontalLineContentHeight-c.scale*Aa)*E}return{rect:x.rect,metrics:x.metrics,baselineOffset:I}}function bS(c,o,l,d,m){let g=m[c.imageName];if(!g)return null;let _=g.paddedRect,x=g.displaySize,I={width:x[0],height:x[1],left:1,top:-3,advance:o?x[1]:x[0]},E;if(o)E=d.verticalLineContentWidth-x[1]*c.scale;else{let F=zv(c.verticalAlign);E=(d.horizontalLineContentHeight-x[1]*c.scale)*F}return{rect:_,metrics:I,baselineOffset:E,imageOffset:(o?x[0]:x[1])*c.scale-Aa*l}}function yS(c,o,l,d){if(d===0)return;let m=c[l],g=(c[l].x+m.metrics.advance*m.scale)*d;for(let _=o;_<=l;_++)c[_].x-=g}function vS(c,o,l){let{horizontalAlign:d,verticalAlign:m}=i1(l),g=o[0]-c.displaySize[0]*d,_=o[1]-c.displaySize[1]*m;return{image:c,top:_,bottom:_+c.displaySize[1],left:g,right:g+c.displaySize[0]}}function Bv(c){var o,l;let d=c.left,m=c.top,g=c.right-d,_=c.bottom-m,x=(o=c.image.textFitWidth)!==null&&o!==void 0?o:"stretchOrShrink",I=(l=c.image.textFitHeight)!==null&&l!==void 0?l:"stretchOrShrink",E=(c.image.content[2]-c.image.content[0])/(c.image.content[3]-c.image.content[1]);if(I==="proportional"){if(x==="stretchOnly"&&g/_<E||x==="proportional"){let F=Math.ceil(_*E);d*=F/g,g=F}}else if(x==="proportional"&&I==="stretchOnly"&&E!==0&&g/_>E){let F=Math.ceil(g/E);m*=F/_,_=F}return{x1:d,y1:m,x2:d+g,y2:m+_}}function Rv(c,o,l,d,m,g){let _=c.image,x;if(_.content){let Q=_.content,ae=_.pixelRatio||1;x=[Q[0]/ae,Q[1]/ae,_.displaySize[0]-Q[2]/ae,_.displaySize[1]-Q[3]/ae]}let I=o.left*g,E=o.right*g,F,V,N,q;l==="width"||l==="both"?(q=m[0]+I-d[3],V=m[0]+E+d[1]):(q=m[0]+(I+E-_.displaySize[0])/2,V=q+_.displaySize[0]);let G=o.top*g,U=o.bottom*g;return l==="height"||l==="both"?(F=m[1]+G-d[0],N=m[1]+U+d[2]):(F=m[1]+(G+U-_.displaySize[1])/2,N=F+_.displaySize[1]),{image:_,top:F,right:V,bottom:N,left:q,collisionPadding:x}}Nt("ImagePosition",t1),Nt("ImageAtlas",Vv),n.az=void 0,(Ul=n.az||(n.az={}))[Ul.none=0]="none",Ul[Ul.horizontal=1]="horizontal",Ul[Ul.vertical=2]="vertical",Ul[Ul.horizontalOnly=3]="horizontalOnly";let il=128,$l=32640;function Nv(c,o){let{expression:l}=o;if(l.kind==="constant")return{kind:"constant",layoutSize:l.evaluate(new un(c+1))};if(l.kind==="source")return{kind:"source"};{let{zoomStops:d,interpolationType:m}=l,g=0;for(;g<d.length&&d[g]<=c;)g++;g=Math.max(0,g-1);let _=g;for(;_<d.length&&d[_]<c+1;)_++;_=Math.min(d.length-1,_);let x=d[g],I=d[_];return l.kind==="composite"?{kind:"composite",minZoom:x,maxZoom:I,interpolationType:m}:{kind:"camera",minZoom:x,maxZoom:I,minSize:l.evaluate(new un(x)),maxSize:l.evaluate(new un(I)),interpolationType:m}}}function n1(c,o,l){let d="never",m=c.get(o);return m?d=m:c.get(l)&&(d="always"),d}let xS=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function H0(c,o,l,d,m,g,_,x,I,E,F,V,N){let q=x?Math.min($l,Math.round(x[0])):0,G=x?Math.min($l,Math.round(x[1])):0;c.emplaceBack(o,l,Math.round(32*d),Math.round(32*m),g,_,(q<<1)+(I?1:0),G,16*E,16*F,256*V,256*N)}function a1(c,o,l){c.emplaceBack(o.x,o.y,l),c.emplaceBack(o.x,o.y,l),c.emplaceBack(o.x,o.y,l),c.emplaceBack(o.x,o.y,l)}function wS(c){for(let o of c.sections)if(C0(o.text))return!0;return!1}class o1{constructor(o){this.layoutVertexArray=new xe,this.indexArray=new Ue,this.programConfigurations=o,this.segments=new kt,this.dynamicLayoutVertexArray=new Ae,this.opacityVertexArray=new Ze,this.hasVisibleVertices=!1,this.placedSymbolArray=new w}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(o,l,d,m){this.isEmpty()||(d&&(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,QC.members),this.indexBuffer=o.createIndexBuffer(this.indexArray,l),this.dynamicLayoutVertexBuffer=o.createVertexBuffer(this.dynamicLayoutVertexArray,ZC.members,!0),this.opacityVertexBuffer=o.createVertexBuffer(this.opacityVertexArray,xS,!0),this.opacityVertexBuffer.itemSize=1),(d||m)&&this.programConfigurations.upload(o))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Nt("SymbolBuffers",o1);class r1{constructor(o,l,d){this.layoutVertexArray=new o,this.layoutAttributes=l,this.indexArray=new d,this.segments=new kt,this.collisionVertexArray=new Ge}upload(o){this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=o.createVertexBuffer(this.collisionVertexArray,XC.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Nt("CollisionBuffers",r1);class Nd{constructor(o){this.collisionBoxArray=o.collisionBoxArray,this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(_=>_.id),this.index=o.index,this.pixelRatio=o.pixelRatio,this.sourceLayerIndex=o.sourceLayerIndex,this.hasDependencies=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];let l=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Nv(this.zoom,l["text-size"]),this.iconSizeData=Nv(this.zoom,l["icon-size"]);let d=this.layers[0].layout,m=d.get("symbol-sort-key"),g=d.get("symbol-z-order");this.canOverlap=n1(d,"text-overlap","text-allow-overlap")!=="never"||n1(d,"icon-overlap","icon-allow-overlap")!=="never"||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=g!=="viewport-y"&&!m.isConstant(),this.sortFeaturesByY=(g==="viewport-y"||g==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,d.get("symbol-placement")==="point"&&(this.writingModes=d.get("text-writing-mode").map(_=>n.az[_])),this.stateDependentLayerIds=this.layers.filter(_=>_.isStateDependent()).map(_=>_.id),this.sourceID=o.sourceID}createArrays(){this.text=new o1(new tl(this.layers,this.zoom,o=>/^text/.test(o))),this.icon=new o1(new tl(this.layers,this.zoom,o=>/^icon/.test(o))),this.glyphOffsetArray=new O,this.lineVertexArray=new z,this.symbolInstances=new P,this.textAnchorOffsets=new j}calculateGlyphDependencies(o,l,d,m,g){for(let _ of o)if(l[_.codePointAt(0)]=!0,(d||m)&&g){let x=jh[_];x&&(l[x.codePointAt(0)]=!0)}}populate(o,l,d){let m=this.layers[0],g=m.layout,_=g.get("text-font"),x=g.get("text-field"),I=g.get("icon-image"),E=(x.value.kind!=="constant"||x.value.value instanceof wo&&!x.value.value.isEmpty()||x.value.value.toString().length>0)&&(_.value.kind!=="constant"||_.value.value.length>0),F=I.value.kind!=="constant"||!!I.value.value||Object.keys(I.parameters).length>0,V=g.get("symbol-sort-key");if(this.features=[],!E&&!F)return;let N=l.iconDependencies,q=l.glyphDependencies,G=l.availableImages,U=new un(this.zoom);for(let{feature:Q,id:ae,index:ge,sourceLayerIndex:se}of o){let pe=m._featureFilter.needGeometry,ye=bs(Q,pe);if(!m._featureFilter.filter(U,ye,d))continue;let Te,Ve;if(pe||(ye.geometry=_s(Q)),E){let et=m.getValueAndResolveTokens("text-field",ye,d,G),ut=wo.factory(et),Ct=this.hasRTLText=this.hasRTLText||wS(ut);(!Ct||ms.getRTLTextPluginStatus()==="unavailable"||Ct&&ms.isParsed())&&(Te=JC(ut,m,ye))}if(F){let et=m.getValueAndResolveTokens("icon-image",ye,d,G);Ve=et instanceof Vo?et:Vo.fromString(et)}if(!Te&&!Ve)continue;let at=this.sortFeaturesByKey?V.evaluate(ye,{},d):void 0;if(this.features.push({id:ae,text:Te,icon:Ve,index:ge,sourceLayerIndex:se,geometry:ye.geometry,properties:Q.properties,type:Rh.types[Q.type],sortKey:at}),Ve&&(N[Ve.name]=!0),Te){let et=_.evaluate(ye,{},d).join(","),ut=g.get("text-rotation-alignment")!=="viewport"&&g.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(n.az.vertical)>=0;for(let Ct of Te.sections)if(Ct.image)N[Ct.image.name]=!0;else{let ht=Hl(Te.toString()),tt=Ct.fontStack||et,$e=q[tt]=q[tt]||{};this.calculateGlyphDependencies(Ct.text,$e,ut,this.allowVerticalPlacement,ht)}}}g.get("symbol-placement")==="line"&&(this.features=function(Q){let ae={},ge={},se=[],pe=0;function ye(et){se.push(Q[et]),pe++}function Te(et,ut,Ct){let ht=ge[et];return delete ge[et],ge[ut]=ht,se[ht].geometry[0].pop(),se[ht].geometry[0]=se[ht].geometry[0].concat(Ct[0]),ht}function Ve(et,ut,Ct){let ht=ae[ut];return delete ae[ut],ae[et]=ht,se[ht].geometry[0].shift(),se[ht].geometry[0]=Ct[0].concat(se[ht].geometry[0]),ht}function at(et,ut,Ct){let ht=Ct?ut[0][ut[0].length-1]:ut[0][0];return`${et}:${ht.x}:${ht.y}`}for(let et=0;et<Q.length;et++){let ut=Q[et],Ct=ut.geometry,ht=ut.text?ut.text.toString():null;if(!ht){ye(et);continue}let tt=at(ht,Ct),$e=at(ht,Ct,!0);if(tt in ge&&$e in ae&&ge[tt]!==ae[$e]){let Bt=Ve(tt,$e,Ct),Lt=Te(tt,$e,se[Bt].geometry);delete ae[tt],delete ge[$e],ge[at(ht,se[Lt].geometry,!0)]=Lt,se[Bt].geometry=null}else tt in ge?Te(tt,$e,Ct):$e in ae?Ve(tt,$e,Ct):(ye(et),ae[tt]=pe-1,ge[$e]=pe-1)}return se.filter(et=>et.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Q,ae)=>Q.sortKey-ae.sortKey)}update(o,l,d){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(o,l,this.layers,{imagePositions:d}),this.icon.programConfigurations.updatePaintArrays(o,l,this.layers,{imagePositions:d}))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(o){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(o),this.iconCollisionBox.upload(o)),this.text.upload(o,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(o,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(o,l){let d=this.lineVertexArray.length;if(o.segment!==void 0){let m=o.dist(l[o.segment+1]),g=o.dist(l[o.segment]),_={};for(let x=o.segment+1;x<l.length;x++)_[x]={x:l[x].x,y:l[x].y,tileUnitDistanceFromAnchor:m},x<l.length-1&&(m+=l[x+1].dist(l[x]));for(let x=o.segment||0;x>=0;x--)_[x]={x:l[x].x,y:l[x].y,tileUnitDistanceFromAnchor:g},x>0&&(g+=l[x-1].dist(l[x]));for(let x=0;x<l.length;x++){let I=_[x];this.lineVertexArray.emplaceBack(I.x,I.y,I.tileUnitDistanceFromAnchor)}}return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(o,l,d,m,g,_,x,I,E,F,V,N){let q=o.indexArray,G=o.layoutVertexArray,U=o.segments.prepareSegment(4*l.length,G,q,this.canOverlap?_.sortKey:void 0),Q=this.glyphOffsetArray.length,ae=U.vertexLength,ge=this.allowVerticalPlacement&&x===n.az.vertical?Math.PI/2:0,se=_.text&&_.text.sections;for(let pe=0;pe<l.length;pe++){let{tl:ye,tr:Te,bl:Ve,br:at,tex:et,pixelOffsetTL:ut,pixelOffsetBR:Ct,minFontScaleX:ht,minFontScaleY:tt,glyphOffset:$e,isSDF:Bt,sectionIndex:Lt}=l[pe],qt=U.vertexLength,Et=$e[1];H0(G,I.x,I.y,ye.x,Et+ye.y,et.x,et.y,d,Bt,ut.x,ut.y,ht,tt),H0(G,I.x,I.y,Te.x,Et+Te.y,et.x+et.w,et.y,d,Bt,Ct.x,ut.y,ht,tt),H0(G,I.x,I.y,Ve.x,Et+Ve.y,et.x,et.y+et.h,d,Bt,ut.x,Ct.y,ht,tt),H0(G,I.x,I.y,at.x,Et+at.y,et.x+et.w,et.y+et.h,d,Bt,Ct.x,Ct.y,ht,tt),a1(o.dynamicLayoutVertexArray,I,ge),q.emplaceBack(qt,qt+2,qt+1),q.emplaceBack(qt+1,qt+2,qt+3),U.vertexLength+=4,U.primitiveLength+=2,this.glyphOffsetArray.emplaceBack($e[0]),pe!==l.length-1&&Lt===l[pe+1].sectionIndex||o.programConfigurations.populatePaintArrays(G.length,_,_.index,{imagePositions:{},canonical:N,formattedSection:se&&se[Lt]})}o.placedSymbolArray.emplaceBack(I.x,I.y,Q,this.glyphOffsetArray.length-Q,ae,E,F,I.segment,d?d[0]:0,d?d[1]:0,m[0],m[1],x,0,!1,0,V)}_addCollisionDebugVertex(o,l,d,m,g,_){return l.emplaceBack(0,0),o.emplaceBack(d.x,d.y,m,g,Math.round(_.x),Math.round(_.y))}addCollisionDebugVertices(o,l,d,m,g,_,x){let I=g.segments.prepareSegment(4,g.layoutVertexArray,g.indexArray),E=I.vertexLength,F=g.layoutVertexArray,V=g.collisionVertexArray,N=x.anchorX,q=x.anchorY;this._addCollisionDebugVertex(F,V,_,N,q,new p(o,l)),this._addCollisionDebugVertex(F,V,_,N,q,new p(d,l)),this._addCollisionDebugVertex(F,V,_,N,q,new p(d,m)),this._addCollisionDebugVertex(F,V,_,N,q,new p(o,m)),I.vertexLength+=4;let G=g.indexArray;G.emplaceBack(E,E+1),G.emplaceBack(E+1,E+2),G.emplaceBack(E+2,E+3),G.emplaceBack(E+3,E),I.primitiveLength+=4}addDebugCollisionBoxes(o,l,d,m){for(let g=o;g<l;g++){let _=this.collisionBoxArray.get(g);this.addCollisionDebugVertices(_.x1,_.y1,_.x2,_.y2,m?this.textCollisionBox:this.iconCollisionBox,_.anchorPoint,d)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new r1(qe,Mv.members,xt),this.iconCollisionBox=new r1(qe,Mv.members,xt);for(let o=0;o<this.symbolInstances.length;o++){let l=this.symbolInstances.get(o);this.addDebugCollisionBoxes(l.textBoxStartIndex,l.textBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.verticalTextBoxStartIndex,l.verticalTextBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.iconBoxStartIndex,l.iconBoxEndIndex,l,!1),this.addDebugCollisionBoxes(l.verticalIconBoxStartIndex,l.verticalIconBoxEndIndex,l,!1)}}_deserializeCollisionBoxesForSymbol(o,l,d,m,g,_,x,I,E){let F={};for(let V=l;V<d;V++){let N=o.get(V);F.textBox={x1:N.x1,y1:N.y1,x2:N.x2,y2:N.y2,anchorPointX:N.anchorPointX,anchorPointY:N.anchorPointY},F.textFeatureIndex=N.featureIndex;break}for(let V=m;V<g;V++){let N=o.get(V);F.verticalTextBox={x1:N.x1,y1:N.y1,x2:N.x2,y2:N.y2,anchorPointX:N.anchorPointX,anchorPointY:N.anchorPointY},F.verticalTextFeatureIndex=N.featureIndex;break}for(let V=_;V<x;V++){let N=o.get(V);F.iconBox={x1:N.x1,y1:N.y1,x2:N.x2,y2:N.y2,anchorPointX:N.anchorPointX,anchorPointY:N.anchorPointY},F.iconFeatureIndex=N.featureIndex;break}for(let V=I;V<E;V++){let N=o.get(V);F.verticalIconBox={x1:N.x1,y1:N.y1,x2:N.x2,y2:N.y2,anchorPointX:N.anchorPointX,anchorPointY:N.anchorPointY},F.verticalIconFeatureIndex=N.featureIndex;break}return F}deserializeCollisionBoxes(o){this.collisionArrays=[];for(let l=0;l<this.symbolInstances.length;l++){let d=this.symbolInstances.get(l);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(o,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(o,l){let d=o.placedSymbolArray.get(l),m=d.vertexStartIndex+4*d.numGlyphs;for(let g=d.vertexStartIndex;g<m;g+=4)o.indexArray.emplaceBack(g,g+2,g+1),o.indexArray.emplaceBack(g+1,g+2,g+3)}getSortedSymbolIndexes(o){if(this.sortedAngle===o&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;let l=Math.sin(o),d=Math.cos(o),m=[],g=[],_=[];for(let x=0;x<this.symbolInstances.length;++x){_.push(x);let I=this.symbolInstances.get(x);m.push(0|Math.round(l*I.anchorX+d*I.anchorY)),g.push(I.featureIndex)}return _.sort((x,I)=>m[x]-m[I]||g[I]-g[x]),_}addToSortKeyRanges(o,l){let d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===l?d.symbolInstanceEnd=o+1:this.sortKeyRanges.push({sortKey:l,symbolInstanceStart:o,symbolInstanceEnd:o+1})}sortFeatures(o){if(this.sortFeaturesByY&&this.sortedAngle!==o&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(o),this.sortedAngle=o,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(let l of this.symbolInstanceIndexes){let d=this.symbolInstances.get(l);this.featureSortOrder.push(d.featureIndex),[d.rightJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.leftJustifiedTextSymbolIndex].forEach((m,g,_)=>{m>=0&&_.indexOf(m)===g&&this.addIndicesForPlacedSymbol(this.text,m)}),d.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,d.verticalPlacedTextSymbolIndex),d.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.placedIconSymbolIndex),d.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let qv,jv;Nt("SymbolBucket",Nd,{omit:["layers","collisionBoxArray","features","compareText"]}),Nd.MAX_GLYPHS=65535,Nd.addDynamicAttributes=a1;var s1={get paint(){return jv=jv||new ho({"icon-opacity":new ii(He.paint_symbol["icon-opacity"]),"icon-color":new ii(He.paint_symbol["icon-color"]),"icon-halo-color":new ii(He.paint_symbol["icon-halo-color"]),"icon-halo-width":new ii(He.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ii(He.paint_symbol["icon-halo-blur"]),"icon-translate":new Zt(He.paint_symbol["icon-translate"]),"icon-translate-anchor":new Zt(He.paint_symbol["icon-translate-anchor"]),"text-opacity":new ii(He.paint_symbol["text-opacity"]),"text-color":new ii(He.paint_symbol["text-color"],{runtimeType:Oo,getOverride:c=>c.textColor,hasOverride:c=>!!c.textColor}),"text-halo-color":new ii(He.paint_symbol["text-halo-color"]),"text-halo-width":new ii(He.paint_symbol["text-halo-width"]),"text-halo-blur":new ii(He.paint_symbol["text-halo-blur"]),"text-translate":new Zt(He.paint_symbol["text-translate"]),"text-translate-anchor":new Zt(He.paint_symbol["text-translate-anchor"])})},get layout(){return qv=qv||new ho({"symbol-placement":new Zt(He.layout_symbol["symbol-placement"]),"symbol-spacing":new Zt(He.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Zt(He.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ii(He.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Zt(He.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Zt(He.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Zt(He.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Zt(He.layout_symbol["icon-ignore-placement"]),"icon-optional":new Zt(He.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Zt(He.layout_symbol["icon-rotation-alignment"]),"icon-size":new ii(He.layout_symbol["icon-size"]),"icon-text-fit":new Zt(He.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Zt(He.layout_symbol["icon-text-fit-padding"]),"icon-image":new ii(He.layout_symbol["icon-image"]),"icon-rotate":new ii(He.layout_symbol["icon-rotate"]),"icon-padding":new ii(He.layout_symbol["icon-padding"]),"icon-keep-upright":new Zt(He.layout_symbol["icon-keep-upright"]),"icon-offset":new ii(He.layout_symbol["icon-offset"]),"icon-anchor":new ii(He.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Zt(He.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Zt(He.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Zt(He.layout_symbol["text-rotation-alignment"]),"text-field":new ii(He.layout_symbol["text-field"]),"text-font":new ii(He.layout_symbol["text-font"]),"text-size":new ii(He.layout_symbol["text-size"]),"text-max-width":new ii(He.layout_symbol["text-max-width"]),"text-line-height":new Zt(He.layout_symbol["text-line-height"]),"text-letter-spacing":new ii(He.layout_symbol["text-letter-spacing"]),"text-justify":new ii(He.layout_symbol["text-justify"]),"text-radial-offset":new ii(He.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Zt(He.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new ii(He.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new ii(He.layout_symbol["text-anchor"]),"text-max-angle":new Zt(He.layout_symbol["text-max-angle"]),"text-writing-mode":new Zt(He.layout_symbol["text-writing-mode"]),"text-rotate":new ii(He.layout_symbol["text-rotate"]),"text-padding":new Zt(He.layout_symbol["text-padding"]),"text-keep-upright":new Zt(He.layout_symbol["text-keep-upright"]),"text-transform":new ii(He.layout_symbol["text-transform"]),"text-offset":new ii(He.layout_symbol["text-offset"]),"text-allow-overlap":new Zt(He.layout_symbol["text-allow-overlap"]),"text-overlap":new Zt(He.layout_symbol["text-overlap"]),"text-ignore-placement":new Zt(He.layout_symbol["text-ignore-placement"]),"text-optional":new Zt(He.layout_symbol["text-optional"])})}};class Hv{constructor(o){if(o.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=o.property.overrides?o.property.overrides.runtimeType:$o,this.defaultValue=o}evaluate(o){if(o.formattedSection){let l=this.defaultValue.property.overrides;if(l&&l.hasOverride(o.formattedSection))return l.getOverride(o.formattedSection)}return o.feature&&o.featureState?this.defaultValue.evaluate(o.feature,o.featureState):this.defaultValue.property.specification.default}eachChild(o){this.defaultValue.isConstant()||o(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Nt("FormatSectionOverride",Hv,{omit:["defaultValue"]});class G0 extends Zo{constructor(o,l){super(o,s1,l)}recalculate(o,l){if(super.recalculate(o,l),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){let d=this.layout.get("text-writing-mode");if(d){let m=[];for(let g of d)m.indexOf(g)<0&&m.push(g);this.layout._values["text-writing-mode"]=m}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(o,l,d,m){let g=this.layout.get(o).evaluate(l,{},d,m),_=this._unevaluatedLayout._values[o];return _.isDataDriven()||Bl(_.value)||!g?g:function(x,I){return I.replace(/{([^{}]+)}/g,(E,F)=>x&&F in x?String(x[F]):"")}(l.properties,g)}createBucket(o){return new Nd(o)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(let o of s1.paint.overridableProperties){if(!G0.hasPaintOverride(this.layout,o))continue;let l=this.paint.get(o),d=new Hv(l),m=new oh(d,l.property.specification),g=null;g=l.value.kind==="constant"||l.value.kind==="source"?new dd("source",m):new rh("composite",m,l.value.zoomStops),this.paint._values[o]=new gr(l.property,g,l.parameters)}}_handleOverridablePaintPropertyUpdate(o,l,d){return!(!this.layout||l.isDataDriven()||d.isDataDriven())&&G0.hasPaintOverride(this.layout,o)}static hasPaintOverride(o,l){let d=o.get("text-field"),m=s1.paint.properties[l],g=!1,_=x=>{for(let I of x)if(m.overrides&&m.overrides.hasOverride(I))return void(g=!0)};if(d.value.kind==="constant"&&d.value.value instanceof wo)_(d.value.value.sections);else if(d.value.kind==="source"||d.value.kind==="composite"){let x=E=>{g||(E instanceof Pr&&ta(E.value)===Ac?_(E.value.sections):E instanceof Hc?_(E.sections):E.eachChild(x))},I=d.value;I._styleExpression&&x(I._styleExpression.expression)}return g}}let Gv;var IS={get paint(){return Gv=Gv||new ho({"background-color":new Zt(He.paint_background["background-color"]),"background-pattern":new Id(He.paint_background["background-pattern"]),"background-opacity":new Zt(He.paint_background["background-opacity"])})}};class TS extends Zo{constructor(o,l){super(o,IS,l)}}class CS extends Zo{constructor(o,l){super(o,{},l),this.onAdd=d=>{this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},this.onRemove=d=>{this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},this.implementation=o}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class SS{constructor(o){this._methodToThrottle=o,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}let MS={once:!0},l1=63710088e-1;class Kl{constructor(o,l){if(isNaN(o)||isNaN(l))throw new Error(`Invalid LngLat object: (${o}, ${l})`);if(this.lng=+o,this.lat=+l,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Kl(oo(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(o){let l=Math.PI/180,d=this.lat*l,m=o.lat*l,g=Math.sin(d)*Math.sin(m)+Math.cos(d)*Math.cos(m)*Math.cos((o.lng-this.lng)*l);return l1*Math.acos(Math.min(g,1))}static convert(o){if(o instanceof Kl)return o;if(Array.isArray(o)&&(o.length===2||o.length===3))return new Kl(Number(o[0]),Number(o[1]));if(!Array.isArray(o)&&typeof o=="object"&&o!==null)return new Kl(Number("lng"in o?o.lng:o.lon),Number(o.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}let Uv=2*Math.PI*l1;function $v(c){return Uv*Math.cos(c*Math.PI/180)}function Kv(c){return(180+c)/360}function Wv(c){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c*Math.PI/360)))/360}function Qv(c,o){return c/$v(o)}function Zv(c){return 360*c-180}function U0(c){return 360/Math.PI*Math.atan(Math.exp((180-360*c)*Math.PI/180))-90}function Xv(c,o){return c*$v(U0(o))}class Hh{constructor(o,l,d=0){this.x=+o,this.y=+l,this.z=+d}static fromLngLat(o,l=0){let d=Kl.convert(o);return new Hh(Kv(d.lng),Wv(d.lat),Qv(l,d.lat))}toLngLat(){return new Kl(Zv(this.x),U0(this.y))}toAltitude(){return Xv(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Uv*(o=U0(this.y),1/Math.cos(o*Math.PI/180));var o}}function Yv(c,o,l){var d=2*Math.PI*6378137/256/Math.pow(2,l);return[c*d-2*Math.PI*6378137/2,o*d-2*Math.PI*6378137/2]}class c1{constructor(o,l,d){if(!function(m,g,_){return!(m<0||m>25||_<0||_>=Math.pow(2,m)||g<0||g>=Math.pow(2,m))}(o,l,d))throw new Error(`x=${l}, y=${d}, z=${o} outside of bounds. 0<=x<${Math.pow(2,o)}, 0<=y<${Math.pow(2,o)} 0<=z<=25 `);this.z=o,this.x=l,this.y=d,this.key=qd(0,o,o,l,d)}equals(o){return this.z===o.z&&this.x===o.x&&this.y===o.y}url(o,l,d){let m=function(_,x,I){var E=Yv(256*_,256*(x=Math.pow(2,I)-x-1),I),F=Yv(256*(_+1),256*(x+1),I);return E[0]+","+E[1]+","+F[0]+","+F[1]}(this.x,this.y,this.z),g=function(_,x,I){let E,F="";for(let V=_;V>0;V--)E=1<<V-1,F+=(x&E?1:0)+(I&E?2:0);return F}(this.z,this.x,this.y);return o[(this.x+this.y)%o.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(d==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,l>1?"@2x":"").replace(/{quadkey}/g,g).replace(/{bbox-epsg-3857}/g,m)}isChildOf(o){let l=this.z-o.z;return l>0&&o.x===this.x>>l&&o.y===this.y>>l}getTilePoint(o){let l=Math.pow(2,this.z);return new p((o.x*l-this.x)*di,(o.y*l-this.y)*di)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Jv{constructor(o,l){this.wrap=o,this.canonical=l,this.key=qd(o,l.z,l.z,l.x,l.y)}}class yr{constructor(o,l,d,m,g){if(this.terrainRttPosMatrix32f=null,o<d)throw new Error(`overscaledZ should be >= z; overscaledZ = ${o}; z = ${d}`);this.overscaledZ=o,this.wrap=l,this.canonical=new c1(d,+m,+g),this.key=qd(l,o,d,m,g)}clone(){return new yr(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(o){return this.overscaledZ===o.overscaledZ&&this.wrap===o.wrap&&this.canonical.equals(o.canonical)}scaledTo(o){if(o>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${o}; overscaledZ = ${this.overscaledZ}`);let l=this.canonical.z-o;return o>this.canonical.z?new yr(o,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new yr(o,this.wrap,o,this.canonical.x>>l,this.canonical.y>>l)}isOverscaled(){return this.overscaledZ>this.canonical.z}calculateScaledKey(o,l){if(o>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${o}; overscaledZ = ${this.overscaledZ}`);let d=this.canonical.z-o;return o>this.canonical.z?qd(this.wrap*+l,o,this.canonical.z,this.canonical.x,this.canonical.y):qd(this.wrap*+l,o,o,this.canonical.x>>d,this.canonical.y>>d)}isChildOf(o){if(o.wrap!==this.wrap||this.overscaledZ-o.overscaledZ<=0)return!1;if(o.overscaledZ===0)return this.overscaledZ>0;let l=this.canonical.z-o.canonical.z;return!(l<0)&&o.canonical.x===this.canonical.x>>l&&o.canonical.y===this.canonical.y>>l}children(o){if(this.overscaledZ>=o)return[new yr(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];let l=this.canonical.z+1,d=2*this.canonical.x,m=2*this.canonical.y;return[new yr(l,this.wrap,l,d,m),new yr(l,this.wrap,l,d+1,m),new yr(l,this.wrap,l,d,m+1),new yr(l,this.wrap,l,d+1,m+1)]}isLessThan(o){return this.wrap<o.wrap||!(this.wrap>o.wrap)&&(this.overscaledZ<o.overscaledZ||!(this.overscaledZ>o.overscaledZ)&&(this.canonical.x<o.canonical.x||!(this.canonical.x>o.canonical.x)&&this.canonical.y<o.canonical.y))}wrapped(){return new yr(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(o){return new yr(this.overscaledZ,o,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Jv(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(o){return this.canonical.getTilePoint(new Hh(o.x-this.wrap,o.y))}}function qd(c,o,l,d,m){(c*=2)<0&&(c=-1*c-1);let g=1<<l;return(g*g*c+g*m+d).toString(36)+l.toString(36)+o.toString(36)}function u1(c,o){return o?c.properties[o]:c.id}function kS(c,o){let l={id:c.id};if(o.removeAllProperties&&(delete c.removeProperties,delete c.addOrUpdateProperties,delete o.removeProperties),o.removeProperties)for(let d of o.removeProperties){let m=c.addOrUpdateProperties.findIndex(g=>g.key===d);m>-1&&c.addOrUpdateProperties.splice(m,1)}return(c.removeAllProperties||o.removeAllProperties)&&(l.removeAllProperties=!0),(c.removeProperties||o.removeProperties)&&(l.removeProperties=[...c.removeProperties||[],...o.removeProperties||[]]),(c.addOrUpdateProperties||o.addOrUpdateProperties)&&(l.addOrUpdateProperties=[...c.addOrUpdateProperties||[],...o.addOrUpdateProperties||[]]),(c.newGeometry||o.newGeometry)&&(l.newGeometry=o.newGeometry||c.newGeometry),l}function e2(c){var o,l;if(!c)return{};let d={};return d.removeAll=c.removeAll,d.remove=new Set(c.remove||[]),d.add=new Map((o=c.add)===null||o===void 0?void 0:o.map(m=>[m.id,m])),d.update=new Map((l=c.update)===null||l===void 0?void 0:l.map(m=>[m.id,m])),d}Nt("CanonicalTileID",c1),Nt("OverscaledTileID",yr,{omit:["terrainRttPosMatrix32f"]});class vu{constructor(){this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0}extend(o){return this.minX=Math.min(this.minX,o.x),this.minY=Math.min(this.minY,o.y),this.maxX=Math.max(this.maxX,o.x),this.maxY=Math.max(this.maxY,o.y),this}expandBy(o){return this.minX-=o,this.minY-=o,this.maxX+=o,this.maxY+=o,(this.minX>this.maxX||this.minY>this.maxY)&&(this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0),this}shrinkBy(o){return this.expandBy(-o)}map(o){let l=new vu;return l.extend(o(new p(this.minX,this.minY))),l.extend(o(new p(this.maxX,this.minY))),l.extend(o(new p(this.minX,this.maxY))),l.extend(o(new p(this.maxX,this.maxY))),l}static fromPoints(o){let l=new vu;for(let d of o)l.extend(d);return l}contains(o){return o.x>=this.minX&&o.x<=this.maxX&&o.y>=this.minY&&o.y<=this.maxY}empty(){return this.minX>this.maxX}width(){return this.maxX-this.minX}height(){return this.maxY-this.minY}covers(o){return!this.empty()&&!o.empty()&&o.minX>=this.minX&&o.maxX<=this.maxX&&o.minY>=this.minY&&o.maxY<=this.maxY}intersects(o){return!this.empty()&&!o.empty()&&o.minX<=this.maxX&&o.maxX>=this.minX&&o.minY<=this.maxY&&o.maxY>=this.minY}}class t2{constructor(o){this._stringToNumber={},this._numberToString=[];for(let l=0;l<o.length;l++){let d=o[l];this._stringToNumber[d]=l,this._numberToString[l]=d}}encode(o){return this._stringToNumber[o]}decode(o){if(o>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${o} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[o]}}class i2{constructor(o,l,d,m,g){this.type="Feature",this._vectorTileFeature=o,this._x=d,this._y=m,this._z=l,this.properties=o.properties,this.id=g}projectPoint(o,l,d,m){return[360*(o.x+l)/m-180,360/Math.PI*Math.atan(Math.exp((1-2*(o.y+d)/m)*Math.PI))-90]}projectLine(o,l,d,m){return o.map(g=>this.projectPoint(g,l,d,m))}get geometry(){if(this._geometry)return this._geometry;let o=this._vectorTileFeature,l=o.extent*Math.pow(2,this._z),d=o.extent*this._x,m=o.extent*this._y,g=o.loadGeometry();switch(o.type){case 1:{let _=[];for(let I of g)_.push(I[0]);let x=this.projectLine(_,d,m,l);this._geometry=_.length===1?{type:"Point",coordinates:x[0]}:{type:"MultiPoint",coordinates:x};break}case 2:{let _=g.map(x=>this.projectLine(x,d,m,l));this._geometry=_.length===1?{type:"LineString",coordinates:_[0]}:{type:"MultiLineString",coordinates:_};break}case 3:{let _=_v(g),x=[];for(let I of _)x.push(I.map(E=>this.projectLine(E,d,m,l)));this._geometry=x.length===1?{type:"Polygon",coordinates:x[0]}:{type:"MultiPolygon",coordinates:x};break}default:throw new Error(`unknown feature type: ${o.type}`)}return this._geometry}set geometry(o){this._geometry=o}toJSON(){let o={geometry:this.geometry};for(let l in this)l!=="_geometry"&&l!=="_vectorTileFeature"&&l!=="_x"&&l!=="_y"&&l!=="_z"&&(o[l]=this[l]);return o}}class jd{_name;dataBuffer;nullabilityBuffer;_size;constructor(o,l,d){this._name=o,this.dataBuffer=l,typeof d=="number"?this._size=d:(this.nullabilityBuffer=d,this._size=d.size())}getValue(o){return this.nullabilityBuffer&&!this.nullabilityBuffer.get(o)?null:this.getValueFromBuffer(o)}has(o){return this.nullabilityBuffer&&this.nullabilityBuffer.get(o)||!this.nullabilityBuffer}get name(){return this._name}get size(){return this._size}}class $0 extends jd{}class d1 extends $0{getValueFromBuffer(o){return this.dataBuffer[o]}}class p1 extends $0{getValueFromBuffer(o){return this.dataBuffer[o]}}class n2 extends jd{delta;constructor(o,l,d,m){super(o,l,m),this.delta=d}}class h1 extends n2{constructor(o,l,d,m){super(o,Int32Array.of(l),d,m)}getValueFromBuffer(o){return this.dataBuffer[0]+o*this.delta}}class m1 extends jd{constructor(o,l,d){super(o,Int32Array.of(l),d)}getValueFromBuffer(o){return this.dataBuffer[0]}}class ES{_name;_geometryVector;_idVector;_propertyVectors;_extent;propertyVectorsMap;constructor(o,l,d,m,g=4096){this._name=o,this._geometryVector=l,this._idVector=d,this._propertyVectors=m,this._extent=g}get name(){return this._name}get idVector(){return this._idVector}get geometryVector(){return this._geometryVector}get propertyVectors(){return this._propertyVectors}getPropertyVector(o){return this.propertyVectorsMap||(this.propertyVectorsMap=new Map(this._propertyVectors.map(l=>[l.name,l]))),this.propertyVectorsMap.get(o)}*[Symbol.iterator](){let o=this.geometryVector[Symbol.iterator](),l=0;for(;l<this.numFeatures;){let d;this.idVector&&(d=this.containsMaxSaveIntegerValues(this.idVector)?Number(this.idVector.getValue(l)):this.idVector.getValue(l));let m=o?.next().value,g={};for(let _ of this.propertyVectors){if(!_)continue;let x=_.name,I=_.getValue(l);I!==null&&(g[x]=I)}l++,yield{id:d,geometry:m,properties:g}}}get numFeatures(){return this.geometryVector.numGeometries}get extent(){return this._extent}getFeatures(){let o=[],l=this.geometryVector.getGeometries();for(let d=0;d<this.numFeatures;d++){let m;this.idVector&&(m=this.containsMaxSaveIntegerValues(this.idVector)?Number(this.idVector.getValue(d)):this.idVector.getValue(d));let g={coordinates:l[d],type:this.geometryVector.geometryType(d)},_={};for(let x of this.propertyVectors){if(!x)continue;let I=x.name,E=x.getValue(d);E!==null&&(_[I]=E)}o.push({id:m,geometry:g,properties:_})}return o}containsMaxSaveIntegerValues(o){return o instanceof d1||o instanceof m1&&o instanceof h1||o instanceof p1}}class PS{value;constructor(o){this.value=o}get(){return this.value}set(o){this.value=o}increment(){return this.value++}add(o){this.value+=o}}var Li,nl,Qa,Kr,xu,Yo,Fa,Oa,a2,vr;function ja(c,o,l){let d=new Int32Array(l),m=0,g=o.get();for(let _=0;_<d.length;_++){let x=c[g++],I=127&x;x<128||(x=c[g++],I|=(127&x)<<7,x<128||(x=c[g++],I|=(127&x)<<14,x<128||(x=c[g++],I|=(127&x)<<21,x<128||(x=c[g++],I|=(15&x)<<28)))),d[m++]=I}return o.set(g),d}function K0(c,o,l){let d=new BigInt64Array(l);for(let m=0;m<d.length;m++)d[m]=LS(c,o);return d}function DS(c,o){let l,d;return d=c[o.get()],o.increment(),l=127&d,d<128?l:(d=c[o.get()],o.increment(),l|=(127&d)<<7,d<128?l:(d=c[o.get()],o.increment(),l|=(127&d)<<14,d<128?l:(d=c[o.get()],o.increment(),l|=(127&d)<<21,d<128?l:(d=c[o.get()],l|=(15&d)<<28,function(m,g,_){let x,I;if(I=g[_.get()],_.increment(),x=(112&I)>>4,I<128||(I=g[_.get()],_.increment(),x|=(127&I)<<3,I<128)||(I=g[_.get()],_.increment(),x|=(127&I)<<10,I<128)||(I=g[_.get()],_.increment(),x|=(127&I)<<17,I<128)||(I=g[_.get()],_.increment(),x|=(127&I)<<24,I<128)||(I=g[_.get()],_.increment(),x|=(1&I)<<31,I<128))return 4294967296*x+(m>>>0);throw new Error("Expected varint not more than 10 bytes")}(l,c,o)))))}function o2(c,o,l,d){throw new Error("FastPFor is not implemented yet.")}function wu(c){return c>>>1^-(1&c)}function Hd(c){return c>>1n^-(1n&c)}function LS(c,o){let l=0n,d=0,m=o.get();for(;m<c.length;){let g=c[m++];if(l|=BigInt(127&g)<<BigInt(d),!(128&g))break;if(d+=7,d>=64)throw new Error("Varint too long")}return o.set(m),l}function r2(c,o,l){let d=new Int32Array(l),m=0;for(let g=0;g<o;g++){let _=c[g];d.fill(c[g+o],m,m+_),m+=_}return d}function s2(c,o,l){let d=new BigInt64Array(l),m=0;for(let g=0;g<o;g++){let _=Number(c[g]);d.fill(c[g+o],m,m+_),m+=_}return d}function l2(c,o,l){let d=new Float64Array(l),m=0;for(let g=0;g<o;g++){let _=c[g];d.fill(c[g+o],m,m+_),m+=_}return d}function f1(c){let o=c.length/4*4,l=1;if(o>=4)for(let d=c[0];l<o-4;l+=4)d=c[l]+=d,d=c[l+1]+=d,d=c[l+2]+=d,d=c[l+3]+=d;for(;l!=c.length;)c[l]+=c[l-1],++l}function c2(c){c[0]=c[0]>>>1^-(1&c[0]),c[1]=c[1]>>>1^-(1&c[1]);let o=c.length/4*4,l=2;if(o>=4)for(;l<o-4;l+=4){let d=c[l],m=c[l+1],g=c[l+2],_=c[l+3];c[l]=(d>>>1^-(1&d))+c[l-2],c[l+1]=(m>>>1^-(1&m))+c[l-1],c[l+2]=(g>>>1^-(1&g))+c[l],c[l+3]=(_>>>1^-(1&_))+c[l+1]}for(;l!=c.length;l+=2)c[l]=(c[l]>>>1^-(1&c[l]))+c[l-2],c[l+1]=(c[l+1]>>>1^-(1&c[l+1]))+c[l-1]}(function(c){c.NONE="NONE",c.DELTA="DELTA",c.COMPONENTWISE_DELTA="COMPONENTWISE_DELTA",c.RLE="RLE",c.MORTON="MORTON",c.PDE="PDE"})(Li||(Li={})),function(c){c.NONE="NONE",c.FAST_PFOR="FAST_PFOR",c.VARINT="VARINT",c.ALP="ALP"}(nl||(nl={})),function(c){c.PRESENT="PRESENT",c.DATA="DATA",c.OFFSET="OFFSET",c.LENGTH="LENGTH"}(Qa||(Qa={}));class g1{_dictionaryType;_offsetType;_lengthType;constructor(o,l,d){this._dictionaryType=o,this._offsetType=l,this._lengthType=d}get dictionaryType(){return this._dictionaryType}get offsetType(){return this._offsetType}get lengthType(){return this._lengthType}}function Co(c,o){let l=function(d,m){let g=d[m.get()],_=Object.values(Qa)[g>>4],x=null;switch(_){case Qa.DATA:x=new g1(Object.values(Kr)[15&g]);break;case Qa.OFFSET:x=new g1(null,Object.values(xu)[15&g]);break;case Qa.LENGTH:x=new g1(null,null,Object.values(Yo)[15&g])}m.increment();let I=d[m.get()],E=Object.values(Li)[I>>5],F=Object.values(Li)[I>>2&7],V=Object.values(nl)[3&I];m.increment();let N=ja(d,m,2),q=N[0];return{physicalStreamType:_,logicalStreamType:x,logicalLevelTechnique1:E,logicalLevelTechnique2:F,physicalLevelTechnique:V,numValues:q,byteLength:N[1],decompressedCount:q}}(c,o);return l.logicalLevelTechnique1===Li.MORTON?function(d,m,g){let _=ja(m,g,2);return{physicalStreamType:d.physicalStreamType,logicalStreamType:d.logicalStreamType,logicalLevelTechnique1:d.logicalLevelTechnique1,logicalLevelTechnique2:d.logicalLevelTechnique2,physicalLevelTechnique:d.physicalLevelTechnique,numValues:d.numValues,byteLength:d.byteLength,decompressedCount:d.decompressedCount,numBits:_[0],coordinateShift:_[1]}}(l,c,o):Li.RLE!==l.logicalLevelTechnique1&&Li.RLE!==l.logicalLevelTechnique2||nl.NONE===l.physicalLevelTechnique?l:function(d,m,g){let _=ja(m,g,2);return{physicalStreamType:d.physicalStreamType,logicalStreamType:d.logicalStreamType,logicalLevelTechnique1:d.logicalLevelTechnique1,logicalLevelTechnique2:d.logicalLevelTechnique2,physicalLevelTechnique:d.physicalLevelTechnique,numValues:d.numValues,byteLength:d.byteLength,decompressedCount:_[1],runs:_[0],numRleValues:_[1]}}(l,c,o)}(function(c){c.NONE="NONE",c.SINGLE="SINGLE",c.SHARED="SHARED",c.VERTEX="VERTEX",c.MORTON="MORTON",c.FSST="FSST"})(Kr||(Kr={})),function(c){c.VERTEX="VERTEX",c.INDEX="INDEX",c.STRING="STRING",c.KEY="KEY"}(xu||(xu={})),function(c){c.VAR_BINARY="VAR_BINARY",c.GEOMETRIES="GEOMETRIES",c.PARTS="PARTS",c.RINGS="RINGS",c.TRIANGLES="TRIANGLES",c.SYMBOL="SYMBOL",c.DICTIONARY="DICTIONARY"}(Yo||(Yo={})),function(c){c[c.FLAT=0]="FLAT",c[c.CONST=1]="CONST",c[c.SEQUENCE=2]="SEQUENCE",c[c.DICTIONARY=3]="DICTIONARY",c[c.FSST_DICTIONARY=4]="FSST_DICTIONARY"}(Fa||(Fa={}));class Wr{values;_size;constructor(o,l){this.values=o,this._size=l}get(o){let l=Math.floor(o/8);return(this.values[l]>>o%8&1)==1}set(o,l){let d=Math.floor(o/8);this.values[d]=this.values[d]|(l?1:0)<<o%8}getInt(o){let l=Math.floor(o/8);return this.values[l]>>o%8&1}size(){return this._size}getBuffer(){return this.values}}function So(c,o,l,d,m){return function(g,_,x){switch(_.logicalLevelTechnique1){case Li.DELTA:return _.logicalLevelTechnique2===Li.RLE?function(I,E,F){let V=new Int32Array(F),N=0,q=0;for(let G=0;G<E;G++){let U=I[G],Q=wu(I[G+E]);for(let ae=0;ae<U;ae++)q+=Q,V[N++]=q}return V}(g,_.runs,_.numRleValues):(function(I){I[0]=I[0]>>>1^-(1&I[0]);let E=I.length/4*4,F=1;if(E>=4)for(;F<E-4;F+=4){let V=I[F],N=I[F+1],q=I[F+2],G=I[F+3];I[F]=(V>>>1^-(1&V))+I[F-1],I[F+1]=(N>>>1^-(1&N))+I[F],I[F+2]=(q>>>1^-(1&q))+I[F+1],I[F+3]=(G>>>1^-(1&G))+I[F+2]}for(;F!=I.length;++F)I[F]=(I[F]>>>1^-(1&I[F]))+I[F-1]}(g),g);case Li.RLE:return function(I,E,F){return F?function(V,N,q){let G=new Int32Array(q),U=0;for(let Q=0;Q<N;Q++){let ae=V[Q],ge=V[Q+N];ge=ge>>>1^-(1&ge),G.fill(ge,U,U+ae),U+=ae}return G}(I,E.runs,E.numRleValues):r2(I,E.runs,E.numRleValues)}(g,_,x);case Li.MORTON:return f1(g),g;case Li.COMPONENTWISE_DELTA:return c2(g),g;case Li.NONE:return x&&function(I){for(let E=0;E<I.length;E++){let F=I[E];I[E]=F>>>1^-(1&F)}}(g),g;default:throw new Error(`The specified Logical level technique is not supported: ${_.logicalLevelTechnique1}`)}}(W0(c,o,l),l,d)}function Wl(c,o,l){return function(d,m){if(m.logicalLevelTechnique1===Li.DELTA&&m.logicalLevelTechnique2===Li.NONE)return function(_){let x=new Int32Array(_.length+1);x[0]=0,x[1]=wu(_[0]);let I=x[1],E=2;for(;E!=x.length;++E){let F=_[E-1];I+=F>>>1^-(1&F),x[E]=x[E-1]+I}return x}(d);if(m.logicalLevelTechnique1===Li.RLE&&m.logicalLevelTechnique2===Li.NONE)return function(_,x,I){let E=new Int32Array(I+1);E[0]=0;let F=1,V=E[0];for(let N=0;N<x;N++){let q=_[N],G=_[N+x];for(let U=F;U<F+q;U++)E[U]=G+V,V=E[U];F+=q}return E}(d,m.runs,m.numRleValues);if(m.logicalLevelTechnique1===Li.NONE&&m.logicalLevelTechnique2===Li.NONE){(function(_){let x=0;for(let I=0;I<_.length;I++)_[I]+=x,x=_[I]})(d);let g=new Int32Array(m.numValues+1);return g[0]=0,g.set(d,1),g}if(m.logicalLevelTechnique1===Li.DELTA&&m.logicalLevelTechnique2===Li.RLE){let g=function(_,x,I){let E=new Int32Array(I+1);E[0]=0;let F=1,V=E[0];for(let N=0;N<x;N++){let q=_[N],G=_[N+x];G=G>>>1^-(1&G);for(let U=F;U<F+q;U++)E[U]=G+V,V=E[U];F+=q}return E}(d,m.runs,m.numRleValues);return f1(g),g}throw new Error("Only delta encoding is supported for transforming length to offset streams yet.")}(W0(c,o,l),l)}function W0(c,o,l){let d=l.physicalLevelTechnique;if(d===nl.FAST_PFOR)return o2();if(d===nl.VARINT)return ja(c,o,l.numValues);if(d===nl.NONE){let m=o.get();o.add(l.byteLength);let g=c.subarray(m,o.get());return new Int32Array(g)}throw new Error("Specified physicalLevelTechnique is not supported (yet).")}function _1(c,o,l,d){let m=W0(c,o,l);if(m.length===1){let g=m[0];return d?wu(g):g}return d?function(g){return wu(g[1])}(m):function(g){return g[1]}(m)}function u2(c,o,l){return function(d){if(d.length==2){let m=wu(d[1]);return[m,m]}return[wu(d[2]),wu(d[3])]}(W0(c,o,l))}function d2(c,o,l){return function(d){if(d.length==2){let m=Hd(d[1]);return[m,m]}return[Hd(d[2]),Hd(d[3])]}(K0(c,o,l.numValues))}function p2(c,o,l,d){return function(m,g,_){switch(g.logicalLevelTechnique1){case Li.DELTA:return g.logicalLevelTechnique2===Li.RLE?function(x,I,E){let F=new BigInt64Array(E),V=0,N=0n;for(let q=0;q<I;q++){let G=Number(x[q]),U=Hd(x[q+I]);for(let Q=0;Q<G;Q++)N+=U,F[V++]=N}return F}(m,g.runs,g.numRleValues):(function(x){x[0]=x[0]>>1n^-(1n&x[0]);let I=x.length/4*4,E=1;if(I>=4)for(;E<I-4;E+=4){let F=x[E],V=x[E+1],N=x[E+2],q=x[E+3];x[E]=(F>>1n^-(1n&F))+x[E-1],x[E+1]=(V>>1n^-(1n&V))+x[E],x[E+2]=(N>>1n^-(1n&N))+x[E+1],x[E+3]=(q>>1n^-(1n&q))+x[E+2]}for(;E!=x.length;++E)x[E]=(x[E]>>1n^-(1n&x[E]))+x[E-1]}(m),m);case Li.RLE:return function(x,I,E){return E?function(F,V,N){let q=new BigInt64Array(N),G=0;for(let U=0;U<V;U++){let Q=Number(F[U]),ae=F[U+V];ae=ae>>1n^-(1n&ae),q.fill(ae,G,G+Q),G+=Q}return q}(x,I.runs,I.numRleValues):s2(x,I.runs,I.numRleValues)}(m,g,_);case Li.NONE:return _&&function(x){for(let I=0;I<x.length;I++){let E=x[I];x[I]=E>>1n^-(1n&E)}}(m),m;default:throw new Error(`The specified Logical level technique is not supported: ${g.logicalLevelTechnique1}`)}}(K0(c,o,l.numValues),l,d)}function h2(c,o,l,d){let m=K0(c,o,l.numValues);if(m.length===1){let g=m[0];return d?Hd(g):g}return d?function(g){return Hd(g[1])}(m):function(g){return g[1]}(m)}function b1(c,o,l,d,m){return function(g,_,x,I){switch(_.logicalLevelTechnique1){case Li.DELTA:return _.logicalLevelTechnique2===Li.RLE&&(g=r2(g,_.runs,_.numRleValues)),function(E,F){let V=new Int32Array(E.size()),N=0;E.get(0)?(V[0]=E.get(0)?F[0]>>>1^-(1&F[0]):0,N=1):V[0]=0;let q=1;for(;q!=V.length;++q)V[q]=E.get(q)?V[q-1]+(F[N]>>>1^-(1&F[N++])):V[q-1];return V}(I,g);case Li.RLE:return function(E,F,V,N){let q=F;return V?function(G,U,Q){let ae=new Int32Array(G.size()),ge=0;for(let se=0;se<Q;se++){let pe=U[se],ye=U[se+Q];ye=ye>>>1^-(1&ye);for(let Te=ge;Te<ge+pe;Te++)G.get(Te)?ae[Te]=ye:(ae[Te]=0,ge++);ge+=pe}return ae}(N,E,q.runs):function(G,U,Q){let ae=new Int32Array(G.size()),ge=0;for(let se=0;se<Q;se++){let pe=U[se],ye=U[se+Q];for(let Te=ge;Te<ge+pe;Te++)G.get(Te)?ae[Te]=ye:(ae[Te]=0,ge++);ge+=pe}return ae}(N,E,q.runs)}(g,_,x,I);case Li.MORTON:return f1(g),g;case Li.COMPONENTWISE_DELTA:return c2(g),g;case Li.NONE:return g=x?function(E,F){let V=new Int32Array(E.size()),N=0,q=0;for(;q!=V.length;++q)if(E.get(q)){let G=F[N++];V[q]=G>>>1^-(1&G)}else V[q]=0;return V}(I,g):function(E,F){let V=new Int32Array(E.size()),N=0,q=0;for(;q!=V.length;++q)V[q]=E.get(q)?F[N++]:0;return V}(I,g),g;default:throw new Error("The specified Logical level technique is not supported")}}(l.physicalLevelTechnique===nl.FAST_PFOR?o2():ja(c,o,l.numValues),l,d,m)}function Q0(c,o,l,d){let m=c.logicalLevelTechnique1;if(m===Li.RLE)return c.runs===1?Fa.CONST:Fa.FLAT;let g=o instanceof Wr?o.size():o;if(m===Li.DELTA&&c.logicalLevelTechnique2===Li.RLE){let _=c.runs,x=2;if(c.numRleValues!==g)return Fa.FLAT;if(_===1)return Fa.SEQUENCE;if(_===2){let I=d.get(),E;if(c.physicalLevelTechnique===nl.VARINT)E=ja(l,d,4);else{let F=d.get();E=new Int32Array(l.buffer,l.byteOffset+F,4)}if(d.set(I),E[2]===x&&E[3]===x)return Fa.SEQUENCE}}return c.numValues===1?Fa.CONST:Fa.FLAT}class m2 extends $0{getValueFromBuffer(o){return this.dataBuffer[o]}}class f2 extends n2{constructor(o,l,d,m){super(o,BigInt64Array.of(l),d,m)}getValueFromBuffer(o){return this.dataBuffer[0]+BigInt(o)*this.delta}}class Gd{_geometryOffsets;_partOffsets;_ringOffsets;constructor(o,l,d){this._geometryOffsets=o,this._partOffsets=l,this._ringOffsets=d}get geometryOffsets(){return this._geometryOffsets}get partOffsets(){return this._partOffsets}get ringOffsets(){return this._ringOffsets}}function y1(c,o,l){return{x:g2(c,o)-l,y:g2(c>>1,o)-l}}function g2(c,o){let l=0;for(let d=0;d<o;d++)l|=(c&1<<2*d)>>d;return l}(function(c){c[c.POINT=0]="POINT",c[c.LINESTRING=1]="LINESTRING",c[c.POLYGON=2]="POLYGON",c[c.MULTIPOINT=3]="MULTIPOINT",c[c.MULTILINESTRING=4]="MULTILINESTRING",c[c.MULTIPOLYGON=5]="MULTIPOLYGON"})(Oa||(Oa={})),function(c){c[c.POINT=0]="POINT",c[c.LINESTRING=1]="LINESTRING",c[c.POLYGON=2]="POLYGON"}(a2||(a2={})),function(c){c[c.MORTON=0]="MORTON",c[c.VEC_2=1]="VEC_2",c[c.VEC_3=2]="VEC_3"}(vr||(vr={}));class AS{createPoint(o){return[[o]]}createMultiPoint(o){return o.map(l=>[l])}createLineString(o){return[o]}createMultiLineString(o){return o}createPolygon(o,l){return[o].concat(l)}createMultiPolygon(o){return o.flat()}}function _2(c){let o=new Array(c.numGeometries),l=1,d=1,m=1,g=0,_=new AS,x=0,I=0,E=c.mortonSettings,F=c.topologyVector,V=F.geometryOffsets,N=F.partOffsets,q=F.ringOffsets,G=c.vertexOffsets,U=c.containsPolygonGeometry(),Q=c.vertexBuffer;for(let ae=0;ae<c.numGeometries;ae++){let ge=c.geometryType(ae);if(ge===Oa.POINT){if(G&&G.length!==0)if(c.vertexBufferType===vr.VEC_2){let se=2*G[I++],pe=new p(Q[se],Q[se+1]);o[g++]=_.createPoint(pe)}else{let se=y1(Q[G[I++]],E.numBits,E.coordinateShift),pe=new p(se.x,se.y);o[g++]=_.createPoint(pe)}else{let se=new p(Q[x++],Q[x++]);o[g++]=_.createPoint(se)}V&&m++,N&&l++,q&&d++}else if(ge===Oa.MULTIPOINT){let se=V[m]-V[m-1];m++;let pe=new Array(se);if(G&&G.length!==0){for(let ye=0;ye<se;ye++){let Te=2*G[I++];pe[ye]=new p(Q[Te],Q[Te+1])}o[g++]=_.createMultiPoint(pe)}else{for(let ye=0;ye<se;ye++){let Te=Q[x++],Ve=Q[x++];pe[ye]=new p(Te,Ve)}o[g++]=_.createMultiPoint(pe)}}else if(ge===Oa.LINESTRING){let se,pe=0;U?(pe=q[d]-q[d-1],d++):pe=N[l]-N[l-1],l++,G&&G.length!==0?(se=c.vertexBufferType===vr.VEC_2?x1(Q,G,I,pe,!1):w1(Q,G,I,pe,!1,E),I+=pe):(se=v1(Q,x,pe,!1),x+=2*pe),o[g++]=_.createLineString(se),V&&m++}else if(ge===Oa.POLYGON){let se=N[l]-N[l-1];l++;let pe=new Array(se-1),ye=q[d]-q[d-1];if(d++,G&&G.length!==0){let Te=c.vertexBufferType===vr.VEC_2?X0(Q,G,I,ye):Y0(Q,G,I,ye,0,E);I+=ye;for(let Ve=0;Ve<pe.length;Ve++)ye=q[d]-q[d-1],d++,pe[Ve]=c.vertexBufferType===vr.VEC_2?X0(Q,G,I,ye):Y0(Q,G,I,ye,0,E),I+=ye;o[g++]=_.createPolygon(Te,pe)}else{let Te=Z0(Q,x,ye);x+=2*ye;for(let Ve=0;Ve<pe.length;Ve++)ye=q[d]-q[d-1],d++,pe[Ve]=Z0(Q,x,ye),x+=2*ye;o[g++]=_.createPolygon(Te,pe)}V&&m++}else if(ge===Oa.MULTILINESTRING){let se=V[m]-V[m-1];m++;let pe=new Array(se);if(G&&G.length!==0){for(let ye=0;ye<se;ye++){let Te=0;U?(Te=q[d]-q[d-1],d++):Te=N[l]-N[l-1],l++;let Ve=c.vertexBufferType===vr.VEC_2?x1(Q,G,I,Te,!1):w1(Q,G,I,Te,!1,E);pe[ye]=Ve,I+=Te}o[g++]=_.createMultiLineString(pe)}else{for(let ye=0;ye<se;ye++){let Te=0;U?(Te=q[d]-q[d-1],d++):Te=N[l]-N[l-1],l++,pe[ye]=v1(Q,x,Te,!1),x+=2*Te}o[g++]=_.createMultiLineString(pe)}}else{if(ge!==Oa.MULTIPOLYGON)throw new Error("The specified geometry type is currently not supported.");{let se=V[m]-V[m-1];m++;let pe=new Array(se),ye=0;if(G&&G.length!==0){for(let Te=0;Te<se;Te++){let Ve=N[l]-N[l-1];l++;let at=new Array(Ve-1);ye=q[d]-q[d-1],d++;let et=c.vertexBufferType===vr.VEC_2?X0(Q,G,I,ye):Y0(Q,G,I,ye,0,E);I+=ye;for(let ut=0;ut<at.length;ut++)ye=q[d]-q[d-1],d++,at[ut]=c.vertexBufferType===vr.VEC_2?X0(Q,G,I,ye):Y0(Q,G,I,ye,0,E),I+=ye;pe[Te]=_.createPolygon(et,at)}o[g++]=_.createMultiPolygon(pe)}else{for(let Te=0;Te<se;Te++){let Ve=N[l]-N[l-1];l++;let at=new Array(Ve-1);ye=q[d]-q[d-1],d++;let et=Z0(Q,x,ye);x+=2*ye;for(let ut=0;ut<at.length;ut++){let Ct=q[d]-q[d-1];d++,at[ut]=Z0(Q,x,Ct),x+=2*Ct}pe[Te]=_.createPolygon(et,at)}o[g++]=_.createMultiPolygon(pe)}}}}return o}function Z0(c,o,l){return v1(c,o,l,!0)}function X0(c,o,l,d){return x1(c,o,l,d,!0)}function Y0(c,o,l,d,m,g){return w1(c,o,l,d,!0,g)}function v1(c,o,l,d){let m=new Array(d?l+1:l);for(let g=0;g<2*l;g+=2)m[g/2]=new p(c[o+g],c[o+g+1]);return d&&(m[m.length-1]=m[0]),m}function x1(c,o,l,d,m){let g=new Array(m?d+1:d);for(let _=0;_<2*d;_+=2){let x=2*o[l+_/2];g[_/2]=new p(c[x],c[x+1])}return m&&(g[g.length-1]=g[0]),g}function w1(c,o,l,d,m,g){let _=new Array(m?d+1:d);for(let x=0;x<d;x++){let I=y1(c[o[l+x]],g.numBits,g.coordinateShift);_[x]=new p(I.x,I.y)}return m&&(_[_.length-1]=_[0]),_}class b2{_vertexBufferType;_topologyVector;_vertexOffsets;_vertexBuffer;_mortonSettings;constructor(o,l,d,m,g){this._vertexBufferType=o,this._topologyVector=l,this._vertexOffsets=d,this._vertexBuffer=m,this._mortonSettings=g}get vertexBufferType(){return this._vertexBufferType}get topologyVector(){return this._topologyVector}get vertexOffsets(){return this._vertexOffsets}get vertexBuffer(){return this._vertexBuffer}*[Symbol.iterator](){let o=_2(this),l=0;for(;l<this.numGeometries;)yield{coordinates:o[l],type:this.geometryType(l)},l++}getSimpleEncodedVertex(o){let l=this.vertexOffsets?2*this.vertexOffsets[o]:2*o;return[this.vertexBuffer[l],this.vertexBuffer[l+1]]}getVertex(o){if(this.vertexOffsets&&this.mortonSettings){let d=y1(this.vertexBuffer[this.vertexOffsets[o]],this.mortonSettings.numBits,this.mortonSettings.coordinateShift);return[d.x,d.y]}let l=this.vertexOffsets?2*this.vertexOffsets[o]:2*o;return[this.vertexBuffer[l],this.vertexBuffer[l+1]]}getGeometries(){return _2(this)}get mortonSettings(){return this._mortonSettings}}class y2 extends b2{_numGeometries;_geometryType;constructor(o,l,d,m,g,_,x){super(d,m,g,_,x),this._numGeometries=o,this._geometryType=l}geometryType(o){return this._geometryType}get numGeometries(){return this._numGeometries}containsPolygonGeometry(){return this._geometryType===Oa.POLYGON||this._geometryType===Oa.MULTIPOLYGON}containsSingleGeometryType(){return!0}}class v2 extends b2{_geometryTypes;constructor(o,l,d,m,g,_){super(o,d,m,g,_),this._geometryTypes=l}geometryType(o){return this._geometryTypes[o]}get numGeometries(){return this._geometryTypes.length}containsPolygonGeometry(){for(let o=0;o<this.numGeometries;o++)if(this.geometryType(o)===Oa.POLYGON||this.geometryType(o)===Oa.MULTIPOLYGON)return!0;return!1}containsSingleGeometryType(){return!1}}class x2{_triangleOffsets;_indexBuffer;_vertexBuffer;_topologyVector;constructor(o,l,d,m){this._triangleOffsets=o,this._indexBuffer=l,this._vertexBuffer=d,this._topologyVector=m}get triangleOffsets(){return this._triangleOffsets}get indexBuffer(){return this._indexBuffer}get vertexBuffer(){return this._vertexBuffer}get topologyVector(){return this._topologyVector}getGeometries(){if(!this._topologyVector)throw new Error("Cannot convert GpuVector to coordinates without topology information");let o=new Array(this.numGeometries),l=this._topologyVector,d=l.partOffsets,m=l.ringOffsets,g=l.geometryOffsets,_=0,x=1,I=1,E=1;for(let F=0;F<this.numGeometries;F++)switch(this.geometryType(F)){case Oa.POLYGON:{let V=d[x]-d[x-1];x++;let N=[];for(let q=0;q<V;q++){let G=m[I]-m[I-1];I++;let U=[];for(let Q=0;Q<G;Q++){let ae=this._vertexBuffer[_++],ge=this._vertexBuffer[_++];U.push(new p(ae,ge))}U.length>0&&U.push(U[0]),N.push(U)}o[F]=N,g&&E++}break;case Oa.MULTIPOLYGON:{let V=g[E]-g[E-1];E++;let N=[];for(let q=0;q<V;q++){let G=d[x]-d[x-1];x++;for(let U=0;U<G;U++){let Q=m[I]-m[I-1];I++;let ae=[];for(let ge=0;ge<Q;ge++){let se=this._vertexBuffer[_++],pe=this._vertexBuffer[_++];ae.push(new p(se,pe))}ae.length>0&&ae.push(ae[0]),N.push(ae)}}o[F]=N}}return o}[Symbol.iterator](){return null}}function w2(c,o,l,d,m,g){return new FS(c,o,l,d,m,g)}class FS extends x2{_numGeometries;_geometryType;constructor(o,l,d,m,g,_){super(d,m,g,_),this._numGeometries=o,this._geometryType=l}geometryType(o){return this._geometryType}get numGeometries(){return this._numGeometries}containsSingleGeometryType(){return!0}}function I2(c,o,l,d,m){return new OS(c,o,l,d,m)}class OS extends x2{_geometryTypes;constructor(o,l,d,m,g){super(l,d,m,g),this._geometryTypes=o}geometryType(o){return this._geometryTypes[o]}get numGeometries(){return this._geometryTypes.length}containsSingleGeometryType(){return!1}}function VS(c,o,l,d,m){let g=Co(c,l),_=null,x=null,I=null,E=null,F=null,V=null,N=null,q=null;if(Q0(g,d,c,l)===Fa.CONST){let U=_1(c,l,g,!1);for(let Q=0;Q<o-1;Q++){let ae=Co(c,l);switch(ae.physicalStreamType){case Qa.LENGTH:switch(ae.logicalStreamType.lengthType){case Yo.GEOMETRIES:_=Wl(c,l,ae);break;case Yo.PARTS:x=Wl(c,l,ae);break;case Yo.RINGS:I=Wl(c,l,ae);break;case Yo.TRIANGLES:N=Wl(c,l,ae)}break;case Qa.OFFSET:switch(ae.logicalStreamType.offsetType){case xu.VERTEX:E=So(c,l,ae,!1);break;case xu.INDEX:q=So(c,l,ae,!1)}break;case Qa.DATA:Kr.VERTEX===ae.logicalStreamType.dictionaryType?F=So(c,l,ae,!0):(V={numBits:ae.numBits,coordinateShift:ae.coordinateShift},F=So(c,l,ae,!1))}}return q!==null?_!=null||x!=null?w2(d,U,N,q,F,new Gd(_,x,I)):w2(d,U,N,q,F):V===null?function(Q,ae,ge,se,pe){return new y2(Q,ae,vr.VEC_2,ge,se,pe)}(d,U,new Gd(_,x,I),E,F):function(Q,ae,ge,se,pe,ye){return new y2(Q,ae,vr.MORTON,ge,se,pe,ye)}(d,U,new Gd(_,x,I),E,F,V)}let G=So(c,l,g,!1);for(let U=0;U<o-1;U++){let Q=Co(c,l);switch(Q.physicalStreamType){case Qa.LENGTH:switch(Q.logicalStreamType.lengthType){case Yo.GEOMETRIES:_=So(c,l,Q,!1);break;case Yo.PARTS:x=So(c,l,Q,!1);break;case Yo.RINGS:I=So(c,l,Q,!1);break;case Yo.TRIANGLES:N=Wl(c,l,Q)}break;case Qa.OFFSET:switch(Q.logicalStreamType.offsetType){case xu.VERTEX:E=So(c,l,Q,!1);break;case xu.INDEX:q=So(c,l,Q,!1)}break;case Qa.DATA:Kr.VERTEX===Q.logicalStreamType.dictionaryType?F=So(c,l,Q,!0):(V={numBits:Q.numBits,coordinateShift:Q.coordinateShift},F=So(c,l,Q,!1))}}return q!==null&&x===null?I2(G,N,q,F):(_!==null?(_=I1(G,_,2),x!==null&&I!==null?(x=T2(G,_,x,!1),I=function(U,Q,ae,ge){let se=new Int32Array(ae[ae.length-1]+1),pe=0;se[0]=pe;let ye=1,Te=1,Ve=0;for(let at=0;at<U.length;at++){let et=U[at],ut=Q[at+1]-Q[at];if(et!==0&&et!==3)for(let Ct=0;Ct<ut;Ct++){let ht=ae[ye]-ae[ye-1];ye++;for(let tt=0;tt<ht;tt++)pe=se[Te++]=pe+ge[Ve++]}else for(let Ct=0;Ct<ut;Ct++)se[Te++]=++pe,ye++}return se}(G,_,x,I)):x!==null&&(x=function(U,Q,ae){let ge=new Int32Array(Q[Q.length-1]+1),se=0;ge[0]=se;let pe=1,ye=0;for(let Te=0;Te<U.length;Te++){let Ve=U[Te],at=Q[Te+1]-Q[Te];if(Ve===4||Ve===1)for(let et=0;et<at;et++)se=ge[pe++]=se+ae[ye++];else for(let et=0;et<at;et++)ge[pe++]=++se}return ge}(G,_,x))):x!==null&&I!==null?(x=I1(G,x,1),I=T2(G,x,I,!0)):x!==null&&(x=I1(G,x,0)),q!==null?I2(G,N,q,F,new Gd(_,x,I)):V===null?function(U,Q,ae,ge){return new v2(vr.VEC_2,U,Q,ae,ge)}(G,new Gd(_,x,I),E,F):function(U,Q,ae,ge,se){return new v2(vr.MORTON,U,Q,ae,ge,se)}(G,new Gd(_,x,I),E,F,V))}function I1(c,o,l){let d=new Int32Array(c.length+1),m=0;d[0]=m;let g=0;for(let _=0;_<c.length;_++)m=d[_+1]=m+(c[_]>l?o[g++]:1);return d}function T2(c,o,l,d){let m=new Int32Array(o[o.length-1]+1),g=0;m[0]=g;let _=1,x=0;for(let I=0;I<c.length;I++){let E=c[I],F=o[I+1]-o[I];if(E===5||E===2||d&&(E===4||E===1))for(let V=0;V<F;V++)g=m[_++]=g+l[x++];else for(let V=0;V<F;V++)m[_++]=++g}return m}class zS extends jd{dataVector;constructor(o,l,d){super(o,l.getBuffer(),d),this.dataVector=l}getValueFromBuffer(o){return this.dataVector.get(o)}}class BS extends $0{getValueFromBuffer(o){return this.dataBuffer[o]}}class C2 extends jd{constructor(o,l,d){super(o,BigInt64Array.of(l),d)}getValueFromBuffer(o){return this.dataBuffer[0]}}function Gh(c,o,l){return S2(c,Math.ceil(o/8),l)}function S2(c,o,l){let d=new Uint8Array(o),m=0;for(;m<o;){let g=c[l.increment()];if(g<=127){let _=g+3,x=c[l.increment()],I=m+_;d.fill(x,m,I),m=I}else{let _=256-g;for(let x=0;x<_;x++)d[m++]=c[l.increment()]}}return d}let RS=new TextDecoder;function T1(c,o,l){return l-o>=12?RS.decode(c.subarray(o,l)):function(d,m,g){let _="",x=m;for(;x<g;){let I=d[x],E,F,V,N=null,q=I>239?4:I>223?3:I>191?2:1;if(x+q>g)break;q===1?I<128&&(N=I):q===2?(E=d[x+1],(192&E)==128&&(N=(31&I)<<6|63&E,N<=127&&(N=null))):q===3?(E=d[x+1],F=d[x+2],(192&E)==128&&(192&F)==128&&(N=(15&I)<<12|(63&E)<<6|63&F,(N<=2047||N>=55296&&N<=57343)&&(N=null))):q===4&&(E=d[x+1],F=d[x+2],V=d[x+3],(192&E)==128&&(192&F)==128&&(192&V)==128&&(N=(15&I)<<18|(63&E)<<12|(63&F)<<6|63&V,(N<=65535||N>=1114112)&&(N=null))),N===null?(N=65533,q=1):N>65535&&(N-=65536,_+=String.fromCharCode(N>>>10&1023|55296),N=56320|1023&N),_+=String.fromCharCode(N),x+=q}return _}(c,o,l)}class C1 extends jd{offsetBuffer;constructor(o,l,d,m){super(o,d,m),this.offsetBuffer=l}}class M2 extends C1{textEncoder;constructor(o,l,d,m){super(o,l,d,m??l.length-1),this.textEncoder=new TextEncoder}getValueFromBuffer(o){return T1(this.dataBuffer,this.offsetBuffer[o],this.offsetBuffer[o+1])}}class Ud extends C1{indexBuffer;textEncoder;constructor(o,l,d,m,g){super(o,d,m,g??l.length),this.indexBuffer=l,this.indexBuffer=l,this.textEncoder=new TextEncoder}getValueFromBuffer(o){let l=this.indexBuffer[o];return T1(this.dataBuffer,this.offsetBuffer[l],this.offsetBuffer[l+1])}}class k2 extends C1{indexBuffer;symbolOffsetBuffer;symbolTableBuffer;textEncoder;symbolLengthBuffer;lengthBuffer;decodedDictionary;constructor(o,l,d,m,g,_,x){super(o,d,m,x),this.indexBuffer=l,this.symbolOffsetBuffer=g,this.symbolTableBuffer=_,this.textEncoder=new TextEncoder}getValueFromBuffer(o){this.decodedDictionary==null&&(this.symbolLengthBuffer==null&&(this.symbolLengthBuffer=this.offsetToLengthBuffer(this.symbolOffsetBuffer),this.lengthBuffer=this.offsetToLengthBuffer(this.offsetBuffer)),this.decodedDictionary=function(d,m,g){let _=[],x=new Array(m.length).fill(0);for(let I=1;I<m.length;I++)x[I]=x[I-1]+m[I-1];for(let I=0;I<g.length;I++)if(g[I]===255)_.push(g[++I]);else{let E=m[g[I]],F=x[g[I]];for(let V=0;V<E;V++)_.push(d[F+V])}return new Uint8Array(_)}(this.symbolTableBuffer,this.symbolLengthBuffer,this.dataBuffer));let l=this.indexBuffer[o];return T1(this.decodedDictionary,this.offsetBuffer[l],this.offsetBuffer[l+1])}offsetToLengthBuffer(o){let l=new Uint32Array(o.length-1),d=o[0];for(let m=1;m<o.length;m++){let g=o[m];l[m-1]=g-d,d=g}return l}}function NS(c,o,l,d,m,g){return l.type==="scalarType"?function(_,x,I,E,F,V){let N=null,q=0;if(_===0)return null;if(V.nullable){let U=Co(x,I);q=U.numValues;let Q=I.get(),ae=Gh(x,q,I);I.set(Q+U.byteLength),N=new Wr(ae,U.numValues)}let G=N??E;switch(F.physicalType){case 4:case 3:return function(U,Q,ae,ge,se){let pe=Co(U,Q),ye=Q0(pe,se,U,Q),Te=ge.physicalType===3;if(ye===Fa.FLAT){let Ve=Uh(se)?b1(U,Q,pe,Te,se):So(U,Q,pe,Te);return new d1(ae.name,Ve,se)}if(ye===Fa.SEQUENCE){let Ve=u2(U,Q,pe);return new h1(ae.name,Ve[0],Ve[1],pe.numRleValues)}{let Ve=_1(U,Q,pe,Te);return new m1(ae.name,Ve,se)}}(x,I,V,F,G);case 9:return function(U,Q,ae,ge,se){let pe=null,ye=null,Te=null,Ve=null,at=null,et=null,ut=null,Ct=null;for(let ht=0;ht<ge;ht++){let tt=Co(Q,ae);if(tt.byteLength!==0)switch(tt.physicalStreamType){case Qa.PRESENT:{let $e=Gh(Q,tt.numValues,ae);et=new Wr($e,tt.numValues);break}case Qa.OFFSET:ye=se!=null||et!=null?b1(Q,ae,tt,!1,se??et):So(Q,ae,tt,!1);break;case Qa.LENGTH:{let $e=Wl(Q,ae,tt);Yo.DICTIONARY===tt.logicalStreamType.lengthType?pe=$e:Yo.SYMBOL===tt.logicalStreamType.lengthType?Ve=$e:ut=$e;break}case Qa.DATA:{let $e=Q.subarray(ae.get(),ae.get()+tt.byteLength);ae.add(tt.byteLength);let Bt=tt.logicalStreamType.dictionaryType;Kr.FSST===Bt?at=$e:Kr.SINGLE===Bt||Kr.SHARED===Bt?Te=$e:Kr.NONE===Bt&&(Ct=$e);break}}}return function(ht,tt,$e,Bt,Lt,qt,Et){return tt?new k2(ht,$e,Bt,Lt,qt,tt,Et):null}(U,at,ye,pe,Te,Ve,se??et)??function(ht,tt,$e,Bt,Lt){return tt?Lt?new Ud(ht,$e,Bt,tt,Lt):new Ud(ht,$e,Bt,tt):null}(U,Te,ye,pe,se??et)??function(ht,tt,$e,Bt,Lt){if(!tt||!$e)return null;if(Bt)return Lt?new Ud(ht,Bt,tt,$e,Lt):new Ud(ht,Bt,tt,$e);if(Lt&&Lt.size()!==tt.length-1){let qt=new Int32Array(Lt.size()),Et=0;for(let Jt=0;Jt<Lt.size();Jt++)qt[Jt]=Lt.get(Jt)?Et++:0;return new Ud(ht,qt,tt,$e,Lt)}return Lt?new M2(ht,tt,$e,Lt):new M2(ht,tt,$e)}(U,ut,Ct,ye,se??et)}(V.name,x,I,V.nullable?_-1:_,N);case 0:return function(U,Q,ae,ge,se){let pe=Co(U,Q),ye=pe.numValues,Te=Q.get(),Ve=Uh(se)?function(et,ut,Ct,ht){let tt=S2(et,Math.ceil(ut/8),Ct),$e=new Wr(tt,ut),Bt=ht.size(),Lt=new Wr(new Uint8Array(Bt),Bt),qt=0;for(let Et=0;Et<ht.size();Et++){let Jt=!!ht.get(Et)&&$e.get(qt++);Lt.set(Et,Jt)}return Lt.getBuffer()}(U,ye,Q,se):Gh(U,ye,Q);Q.set(Te+pe.byteLength);let at=new Wr(Ve,ye);return new zS(ae.name,at,se)}(x,I,V,0,G);case 6:case 5:return function(U,Q,ae,ge,se){let pe=Co(U,Q),ye=Q0(pe,ge,U,Q),Te=se.physicalType===5;if(ye===Fa.FLAT){let Ve=Uh(ge)?function(at,et,ut,Ct,ht){return function(tt,$e,Bt,Lt){switch($e.logicalLevelTechnique1){case Li.DELTA:return $e.logicalLevelTechnique2===Li.RLE&&(tt=s2(tt,$e.runs,$e.numRleValues)),function(qt,Et){let Jt=new BigInt64Array(qt.size()),Bi=0;qt.get(0)?(Jt[0]=qt.get(0)?Et[0]>>1n^-(1n&Et[0]):0n,Bi=1):Jt[0]=0n;let ki=1;for(;ki!=Jt.length;++ki)Jt[ki]=qt.get(ki)?Jt[ki-1]+(Et[Bi]>>1n^-(1n&Et[Bi++])):Jt[ki-1];return Jt}(Lt,tt);case Li.RLE:return function(qt,Et,Jt,Bi){let ki=Et;return Jt?function(Ln,Xa,ga){let An=new BigInt64Array(Ln.size()),Mn=0;for(let Ji=0;Ji<ga;Ji++){let Wn=Number(Xa[Ji]),oa=Xa[Ji+ga];oa=oa>>1n^-(1n&oa);for(let In=Mn;In<Mn+Wn;In++)Ln.get(In)?An[In]=oa:(An[In]=0n,Mn++);Mn+=Wn}return An}(Bi,qt,ki.runs):function(Ln,Xa,ga){let An=new BigInt64Array(Ln.size()),Mn=0;for(let Ji=0;Ji<ga;Ji++){let Wn=Number(Xa[Ji]),oa=Xa[Ji+ga];for(let In=Mn;In<Mn+Wn;In++)Ln.get(In)?An[In]=oa:(An[In]=0n,Mn++);Mn+=Wn}return An}(Bi,qt,ki.runs)}(tt,$e,Bt,Lt);case Li.NONE:return tt=Bt?function(qt,Et){let Jt=new BigInt64Array(qt.size()),Bi=0,ki=0;for(;ki!=Jt.length;++ki)if(qt.get(ki)){let Ln=Et[Bi++];Jt[ki]=Ln>>1n^-(1n&Ln)}else Jt[ki]=0n;return Jt}(Lt,tt):function(qt,Et){let Jt=new BigInt64Array(qt.size()),Bi=0,ki=0;for(;ki!=Jt.length;++ki)Jt[ki]=qt.get(ki)?Et[Bi++]:0n;return Jt}(Lt,tt),tt;default:throw new Error("The specified Logical level technique is not supported")}}(K0(at,et,ut.numValues),ut,Ct,ht)}(U,Q,pe,Te,ge):p2(U,Q,pe,Te);return new m2(ae.name,Ve,ge)}if(ye===Fa.SEQUENCE){let Ve=d2(U,Q,pe);return new f2(ae.name,Ve[0],Ve[1],pe.numRleValues)}{let Ve=h2(U,Q,pe,Te);return new C2(ae.name,Ve,ge)}}(x,I,V,G,F);case 7:return function(U,Q,ae,ge){let se=Co(U,Q),pe=Uh(ge)?function(ye,Te,Ve,at){let et=Te.get(),ut=et+at*Float32Array.BYTES_PER_ELEMENT,Ct=new Uint8Array(ye.subarray(et,ut)).buffer,ht=new Float32Array(Ct);Te.set(ut);let tt=Ve.size(),$e=new Float32Array(tt),Bt=0;for(let Lt=0;Lt<tt;Lt++)$e[Lt]=Ve.get(Lt)?ht[Bt++]:0;return $e}(U,Q,ge,se.numValues):function(ye,Te,Ve){let at=Te.get(),et=at+Ve*Float32Array.BYTES_PER_ELEMENT,ut=new Uint8Array(ye.subarray(at,et)).buffer,Ct=new Float32Array(ut);return Te.set(et),Ct}(U,Q,se.numValues);return new BS(ae.name,pe,ge)}(x,I,V,G);case 8:return function(U,Q,ae,ge){let se=Co(U,Q),pe=Uh(ge)?function(ye,Te,Ve,at){let et=Te.get(),ut=et+at*Float64Array.BYTES_PER_ELEMENT,Ct=new Uint8Array(ye.subarray(et,ut)).buffer,ht=new Float64Array(Ct);Te.set(ut);let tt=Ve.size(),$e=new Float64Array(tt),Bt=0;for(let Lt=0;Lt<tt;Lt++)$e[Lt]=Ve.get(Lt)?ht[Bt++]:0;return $e}(U,Q,ge,se.numValues):function(ye,Te,Ve){let at=Te.get(),et=at+Ve*Float64Array.BYTES_PER_ELEMENT,ut=new Uint8Array(ye.subarray(at,et)).buffer,Ct=new Float64Array(ut);return Te.set(et),Ct}(U,Q,se.numValues);return new p1(ae.name,pe,ge)}(x,I,V,G);default:throw new Error(`The specified data type for the field is currently not supported: ${F}`)}}(d,c,o,m,l.scalarType,l):d!=1?null:function(_,x,I,E){let F=null,V=null,N=null,q=null,G=!1;for(;!G;){let ge=Co(_,x);switch(ge.physicalStreamType){case Qa.LENGTH:Yo.DICTIONARY===ge.logicalStreamType.lengthType?F=Wl(_,x,ge):N=Wl(_,x,ge);break;case Qa.DATA:Kr.SINGLE===ge.logicalStreamType.dictionaryType||Kr.SHARED===ge.logicalStreamType.dictionaryType?(V=_.subarray(x.get(),x.get()+ge.byteLength),G=!0):q=_.subarray(x.get(),x.get()+ge.byteLength),x.add(ge.byteLength)}}let U=I.complexType.children,Q=[],ae=0;for(let ge of U){let se=ja(_,x,1)[0];if(se==0)continue;let pe=`${I.name}${ge.name==="default"?"":":"+ge.name}`;if(se!==2||ge.type!=="scalarField"||ge.scalarField.physicalType!==9)throw new Error("Currently only optional string fields are implemented for a struct.");let ye=Co(_,x),Te=Gh(_,ye.numValues,x),Ve=Co(_,x),at=Ve.decompressedCount!==E?b1(_,x,Ve,!1,new Wr(Te,ye.numValues)):So(_,x,Ve,!1);Q[ae++]=q?new k2(pe,at,F,V,N,q,new Wr(Te,ye.numValues)):new Ud(pe,at,F,V,new Wr(Te,ye.numValues))}return Q}(c,o,l,m)}function Uh(c){return c instanceof Wr}function qS(c){if(c.name==="id")return!1;if(c.type==="scalarType"){let o=c.scalarType;if(o.type==="physicalType")switch(o.physicalType){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:default:return!1;case 9:return!0}else if(o.type==="logicalType")return!1}else if(c.type==="complexType"){let o=c.complexType;if(o.type==="physicalType")switch(o.physicalType){case 0:case 1:return!0;default:return!1}}return console.warn("Unexpected column type in hasStreamCount",c),!1}let jS=new TextDecoder;function E2(c,o){let l=ja(c,o,1)[0];if(l===0)return"";let d=o.get(),m=c.subarray(d,d+l);return o.add(l),jS.decode(m)}function P2(c,o){let l=ja(c,o,1)[0]>>>0,d=!!(4&l),m=!!(2&l),g=ja(c,o,1)[0]>>>0,_={};if(1&l&&(_.nullable=!0),m){let x={};if(d?(x.type="logicalType",x.logicalType=g):(x.type="physicalType",x.physicalType=g),8&l){let I=ja(c,o,1)[0]>>>0;x.children=new Array(I);for(let E=0;E<I;E++)x.children[E]=P2(c,o)}_.type="complexField",_.complexField=x}else{let x={};d?(x.type="logicalType",x.logicalType=g):(x.type="physicalType",x.physicalType=g),_.type="scalarField",_.scalarField=x}return _}function HS(c,o){let l=ja(c,o,1)[0]>>>0,d=function(m){switch(m){case 0:case 1:case 2:case 3:{let g={};g.nullable=!!(1&m),g.columnScope=0;let _={};return _.physicalType=m>1?6:4,_.type="physicalType",g.scalarType=_,g.type="scalarType",g}case 4:{let g={nullable:!1,columnScope:0},_={type:"physicalType",physicalType:0};return g.type="complexType",g.complexType=_,g}case 30:{let g={nullable:!1,columnScope:0},_={type:"physicalType",physicalType:1};return g.type="complexType",g.complexType=_,g}default:return function(g){let _=null;switch(g){case 10:case 11:_=0;break;case 12:case 13:_=1;break;case 14:case 15:_=2;break;case 16:case 17:_=3;break;case 18:case 19:_=4;break;case 20:case 21:_=5;break;case 22:case 23:_=6;break;case 24:case 25:_=7;break;case 26:case 27:_=8;break;case 28:case 29:_=9;break;default:return null}let x={};x.nullable=!!(1&g),x.columnScope=0;let I={type:"physicalType"};return I.physicalType=_,x.type="scalarType",x.scalarType=I,x}(m)}}(l);if(!d)throw new Error(`Unsupported column type code: ${l}`);if(function(m){return m>=10}(l)?d.name=E2(c,o):l>=0&&l<=3?d.name="id":l===4&&(d.name="geometry"),function(m){return m===30}(l)){let m=ja(c,o,1)[0]>>>0,g=d.complexType;g.children=new Array(m);for(let _=0;_<m;_++)g.children[_]=P2(c,o)}return d}function GS(c,o){let l={featureTables:[]},d={};d.name=E2(c,o);let m=ja(c,o,1)[0]>>>0,g=ja(c,o,1)[0]>>>0;d.columns=new Array(g);for(let _=0;_<g;_++)d.columns[_]=HS(c,o);return l.featureTables.push(d),[l,m]}function US(c,o,l,d,m,g,_=!1){let x=o.scalarType.physicalType,I=Q0(m,g,c,l);if(x===4)switch(I){case Fa.FLAT:{let E=So(c,l,m,!1);return new d1(d,E,g)}case Fa.SEQUENCE:{let E=u2(c,l,m);return new h1(d,E[0],E[1],m.numRleValues)}case Fa.CONST:{let E=_1(c,l,m,!1);return new m1(d,E,g)}}else switch(I){case Fa.FLAT:{if(_){let F=function(V,N,q,G){let U=function(Q,ae,ge){let se=new Float64Array(ae);for(let pe=0;pe<ae;pe++)se[pe]=DS(Q,ge);return se}(V,q.numValues,N);return function(Q,ae,ge){switch(ae.logicalLevelTechnique1){case Li.DELTA:return ae.logicalLevelTechnique2===Li.RLE&&(Q=l2(Q,ae.runs,ae.numRleValues)),function(se){se[0]=se[0]%2==1?(se[0]+1)/-2:se[0]/2;let pe=se.length/4*4,ye=1;if(pe>=4)for(;ye<pe-4;ye+=4){let Te=se[ye],Ve=se[ye+1],at=se[ye+2],et=se[ye+3];se[ye]=(Te%2==1?(Te+1)/-2:Te/2)+se[ye-1],se[ye+1]=(Ve%2==1?(Ve+1)/-2:Ve/2)+se[ye],se[ye+2]=(at%2==1?(at+1)/-2:at/2)+se[ye+1],se[ye+3]=(et%2==1?(et+1)/-2:et/2)+se[ye+2]}for(;ye!=se.length;++ye)se[ye]=(se[ye]%2==1?(se[ye]+1)/-2:se[ye]/2)+se[ye-1]}(Q),Q;case Li.RLE:return function(se,pe,ye){return ye?function(Te,Ve,at){let et=new Float64Array(at),ut=0;for(let Ct=0;Ct<Ve;Ct++){let ht=Te[Ct],tt=Te[Ct+Ve];tt=tt%2==1?(tt+1)/-2:tt/2,et.fill(tt,ut,ut+ht),ut+=ht}return et}(se,pe.runs,pe.numRleValues):l2(se,pe.runs,pe.numRleValues)}(Q,ae,ge);case Li.NONE:return Q;default:throw new Error(`The specified Logical level technique is not supported: ${ae.logicalLevelTechnique1}`)}}(U,q,G)}(c,l,m,!1);return new p1(d,F,g)}let E=p2(c,l,m,!1);return new m2(d,E,g)}case Fa.SEQUENCE:{let E=d2(c,l,m);return new f2(d,E[0],E[1],m.numRleValues)}case Fa.CONST:{let E=h2(c,l,m,!1);return new C2(d,E,g)}}throw new Error("Vector type not supported for id column.")}class $S{constructor(o,l){var d;switch(this._featureData=o,this.properties=this._featureData.properties||{},(d=this._featureData.geometry)===null||d===void 0?void 0:d.type){case Oa.POINT:case Oa.MULTIPOINT:this.type=1;break;case Oa.LINESTRING:case Oa.MULTILINESTRING:this.type=2;break;case Oa.POLYGON:case Oa.MULTIPOLYGON:this.type=3;break;default:this.type=0}this.extent=l,this.id=Number(this._featureData.id)}loadGeometry(){let o=[];for(let l of this._featureData.geometry.coordinates){let d=[];for(let m of l)d.push(new p(m.x,m.y));o.push(d)}return o}}class KS{constructor(o){this.features=[],this.featureTable=o,this.name=o.name,this.extent=o.extent,this.version=2,this.features=o.getFeatures(),this.length=this.features.length}feature(o){return new $S(this.features[o],this.extent)}}class D2{constructor(o){this.layers={};let l=function(d,m,g=!0){let _=new PS(0),x=[];for(;_.get()<d.length;){let I=ja(d,_,1)[0]>>>0,E=_.get()+I;if(E>d.length)throw new Error(`Block overruns tile: ${E} > ${d.length}`);if(ja(d,_,1)[0]>>>0!=1){_.set(E);continue}let F=GS(d,_),V=F[1],N=F[0].featureTables[0],q=null,G=null,U=[],Q=0;for(let ge of N.columns){let se=ge.name;if(se==="id"){let pe=null;if(ge.nullable){let Te=Co(d,_),Ve=_.get(),at=Gh(d,Te.numValues,_);_.set(Ve+Te.byteLength),pe=new Wr(at,Te.numValues)}let ye=Co(d,_);Q=ye.decompressedCount,q=US(d,ge,_,se,ye,pe??Q,g)}else if(se==="geometry"){let pe=ja(d,_,1)[0];if(Q===0){let ye=_.get();Q=Co(d,_).decompressedCount,_.set(ye)}G=VS(d,pe,_,Q)}else{let pe=qS(ge)?ja(d,_,1)[0]:1;if(pe===0&&ge.type==="scalarType")continue;let ye=NS(d,_,ge,pe,Q);if(ye)if(Array.isArray(ye))for(let Te of ye)U.push(Te);else U.push(ye)}}let ae=new ES(N.name,G,q,U,V);x.push(ae),_.set(E)}return x}(new Uint8Array(o));this.layers=l.reduce((d,m)=>Object.assign(Object.assign({},d),{[m.name]:new KS(m)}),{})}}class WS{constructor(o,l){this.feature=o,this.type=o.type,this.properties=o.tags?o.tags:{},this.extent=l,"id"in o&&(typeof o.id=="string"?this.id=parseInt(o.id,10):typeof o.id!="number"||isNaN(o.id)||(this.id=o.id))}loadGeometry(){let o=[],l=this.feature.type===1?[this.feature.geometry]:this.feature.geometry;for(let d of l){let m=[];for(let g of d)m.push(new p(g[0],g[1]));o.push(m)}return o}}let $h="_geojsonTileLayer";function QS(c,o){o.writeVarintField(15,c.version||1),o.writeStringField(1,c.name||""),o.writeVarintField(5,c.extent||4096);let l={keys:[],values:[],keycache:{},valuecache:{}};for(let g=0;g<c.length;g++)l.feature=c.feature(g),o.writeMessage(2,ZS,l);let d=l.keys;for(let g of d)o.writeStringField(3,g);let m=l.values;for(let g of m)o.writeMessage(4,JS,g)}function ZS(c,o){if(!c.feature)return;let l=c.feature;l.id!==void 0&&o.writeVarintField(1,l.id),o.writeMessage(2,XS,c),o.writeVarintField(3,l.type),o.writeMessage(4,YS,l)}function XS(c,o){for(let l in c.feature?.properties){let d=c.feature.properties[l],m=c.keycache[l];if(d==null)continue;m===void 0&&(c.keys.push(l),m=c.keys.length-1,c.keycache[l]=m),o.writeVarint(m),typeof d!="string"&&typeof d!="boolean"&&typeof d!="number"&&(d=JSON.stringify(d));let g=typeof d+":"+d,_=c.valuecache[g];_===void 0&&(c.values.push(d),_=c.values.length-1,c.valuecache[g]=_),o.writeVarint(_)}}function S1(c,o){return(o<<3)+(7&c)}function L2(c){return c<<1^c>>31}function YS(c,o){let l=c.loadGeometry(),d=c.type,m=0,g=0;for(let _ of l){let x=1;d===1&&(x=_.length),o.writeVarint(S1(1,x));let I=d===3?_.length-1:_.length;for(let E=0;E<I;E++){E===1&&d!==1&&o.writeVarint(S1(2,I-1));let F=_[E].x-m,V=_[E].y-g;o.writeVarint(L2(F)),o.writeVarint(L2(V)),m+=F,g+=V}c.type===3&&o.writeVarint(S1(7,1))}}function JS(c,o){let l=typeof c;l==="string"?o.writeStringField(1,c):l==="boolean"?o.writeBooleanField(7,c):l==="number"&&(c%1!=0?o.writeDoubleField(3,c):c<0?o.writeSVarintField(6,c):o.writeVarintField(5,c))}class A2{constructor(o,l){this.tileID=o,this.x=o.canonical.x,this.y=o.canonical.y,this.z=o.canonical.z,this.grid=new ql(di,16,0),this.grid3D=new ql(di,16,0),this.featureIndexArray=new ie,this.promoteId=l}insert(o,l,d,m,g,_){let x=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,m,g);let I=_?this.grid3D:this.grid;for(let E=0;E<l.length;E++){let F=l[E],V=[1/0,1/0,-1/0,-1/0];for(let N=0;N<F.length;N++){let q=F[N];V[0]=Math.min(V[0],q.x),V[1]=Math.min(V[1],q.y),V[2]=Math.max(V[2],q.x),V[3]=Math.max(V[3],q.y)}V[0]<di&&V[1]<di&&V[2]>=0&&V[3]>=0&&I.insert(x,V[0],V[1],V[2],V[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=this.encoding!=="mlt"?new bv(new q0(this.rawTileData)).layers:new D2(this.rawTileData).layers,this.sourceLayerCoder=new t2(this.vtLayers?Object.keys(this.vtLayers).sort():[$h])),this.vtLayers}query(o,l,d,m){this.loadVTLayers();let g=o.params,_=di/o.tileSize/o.scale,x=Zc(g.filter,g.globalState),I=o.queryGeometry,E=o.queryPadding*_,F=vu.fromPoints(I),V=this.grid.query(F.minX-E,F.minY-E,F.maxX+E,F.maxY+E),N=vu.fromPoints(o.cameraQueryGeometry).expandBy(E),q=this.grid3D.query(N.minX,N.minY,N.maxX,N.maxY,(Q,ae,ge,se)=>function(pe,ye,Te,Ve,at){for(let ut of pe)if(ye<=ut.x&&Te<=ut.y&&Ve>=ut.x&&at>=ut.y)return!0;let et=[new p(ye,Te),new p(ye,at),new p(Ve,at),new p(Ve,Te)];if(pe.length>2){for(let ut of et)if(Ad(pe,ut))return!0}for(let ut=0;ut<pe.length-1;ut++)if(tC(pe[ut],pe[ut+1],et))return!0;return!1}(o.cameraQueryGeometry,Q-E,ae-E,ge+E,se+E));for(let Q of q)V.push(Q);V.sort(e6);let G={},U;for(let Q=0;Q<V.length;Q++){let ae=V[Q];if(ae===U)continue;U=ae;let ge=this.featureIndexArray.get(ae),se=null;this.loadMatchingFeature(G,ge.bucketIndex,ge.sourceLayerIndex,ge.featureIndex,x,g.layers,g.availableImages,l,d,m,(pe,ye,Te)=>(se||(se=_s(pe)),ye.queryIntersectsFeature({queryGeometry:I,feature:pe,featureState:Te,geometry:se,zoom:this.z,transform:o.transform,pixelsToTileUnits:_,pixelPosMatrix:o.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:o.getElevation})))}return G}loadMatchingFeature(o,l,d,m,g,_,x,I,E,F,V){let N=this.bucketLayerIDs[l];if(_&&!N.some(Q=>_.has(Q)))return;let q=this.sourceLayerCoder.decode(d),G=this.vtLayers[q].feature(m);if(g.needGeometry){let Q=bs(G,!0);if(!g.filter(new un(this.tileID.overscaledZ),Q,this.tileID.canonical))return}else if(!g.filter(new un(this.tileID.overscaledZ),G))return;let U=this.getId(G,q);for(let Q=0;Q<N.length;Q++){let ae=N[Q];if(_&&!_.has(ae))continue;let ge=I[ae];if(!ge)continue;let se={};U&&F&&(se=F.getState(ge.sourceLayer||$h,U));let pe=jn({},E[ae]);pe.paint=F2(pe.paint,ge.paint,G,se,x),pe.layout=F2(pe.layout,ge.layout,G,se,x);let ye=!V||V(G,ge,se);if(!ye)continue;let Te=new i2(G,this.z,this.x,this.y,U);Te.layer=pe;let Ve=o[ae];Ve===void 0&&(Ve=o[ae]=[]),Ve.push({featureIndex:m,feature:Te,intersectionZ:ye})}}lookupSymbolFeatures(o,l,d,m,g,_,x,I){let E={};this.loadVTLayers();let F=Zc(g.filterSpec,g.globalState);for(let V of o)this.loadMatchingFeature(E,d,m,V,F,_,x,I,l);return E}hasLayer(o){for(let l of this.bucketLayerIDs)for(let d of l)if(o===d)return!0;return!1}getId(o,l){var d;let m=o.id;return this.promoteId&&(m=o.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[l]],typeof m=="boolean"&&(m=Number(m)),m===void 0&&(!((d=o.properties)===null||d===void 0)&&d.cluster)&&this.promoteId&&(m=Number(o.properties.cluster_id))),m}}function F2(c,o,l,d,m){return lr(c,(g,_)=>{let x=o instanceof cu?o.get(_):null;return x&&x.evaluate?x.evaluate(l,d,m):x})}function e6(c,o){return o-c}function O2(c,o,l,d,m){let g=[];for(let _=0;_<c.length;_++){let x=c[_],I;for(let E=0;E<x.length-1;E++){let F=x[E],V=x[E+1];F.x<o&&V.x<o||(F.x<o?F=new p(o,F.y+(o-F.x)/(V.x-F.x)*(V.y-F.y))._round():V.x<o&&(V=new p(o,F.y+(o-F.x)/(V.x-F.x)*(V.y-F.y))._round()),F.y<l&&V.y<l||(F.y<l?F=new p(F.x+(l-F.y)/(V.y-F.y)*(V.x-F.x),l)._round():V.y<l&&(V=new p(F.x+(l-F.y)/(V.y-F.y)*(V.x-F.x),l)._round()),F.x>=d&&V.x>=d||(F.x>=d?F=new p(d,F.y+(d-F.x)/(V.x-F.x)*(V.y-F.y))._round():V.x>=d&&(V=new p(d,F.y+(d-F.x)/(V.x-F.x)*(V.y-F.y))._round()),F.y>=m&&V.y>=m||(F.y>=m?F=new p(F.x+(m-F.y)/(V.y-F.y)*(V.x-F.x),m)._round():V.y>=m&&(V=new p(F.x+(m-F.y)/(V.y-F.y)*(V.x-F.x),m)._round()),I&&F.equals(I[I.length-1])||(I=[F],g.push(I)),I.push(V)))))}}return g}function V2(c,o,l,d,m){switch(o){case 1:return function(g,_,x,I){let E=[];for(let F of g)for(let V of F){let N=I===0?V.x:V.y;N>=_&&N<=x&&E.push([V])}return E}(c,l,d,m);case 2:return z2(c,l,d,m,!1);case 3:return z2(c,l,d,m,!0)}return[]}function t6(c,o,l,d,m){let g=d===0?i6:n6,_=[],x=[];for(let F=0;F<c.length-1;F++){let V=c[F],N=c[F+1],q=d===0?V.x:V.y,G=d===0?N.x:N.y,U=!1;q<o?G>o&&_.push(g(V,N,o)):q>l?G<l&&_.push(g(V,N,l)):_.push(V),G<o&&q>=o&&(_.push(g(V,N,o)),U=!0),G>l&&q<=l&&(_.push(g(V,N,l)),U=!0),!m&&U&&(x.push(_),_=[])}let I=c.length-1,E=d===0?c[I].x:c[I].y;return E>=o&&E<=l&&_.push(c[I]),m&&_.length>0&&!_[0].equals(_[_.length-1])&&_.push(new p(_[0].x,_[0].y)),_.length>0&&x.push(_),x}function z2(c,o,l,d,m){let g=[];for(let _ of c){let x=t6(_,o,l,d,m);x.length>0&&g.push(...x)}return g}function i6(c,o,l){return new p(l,c.y+(l-c.x)/(o.x-c.x)*(o.y-c.y))}function n6(c,o,l){return new p(c.x+(l-c.y)/(o.y-c.y)*(o.x-c.x),l)}Nt("FeatureIndex",A2,{omit:["rawTileData","sourceLayerCoder"]});class Ql extends p{constructor(o,l,d,m){super(o,l),this.angle=d,m!==void 0&&(this.segment=m)}clone(){return new Ql(this.x,this.y,this.angle,this.segment)}}function B2(c,o,l,d,m){if(o.segment===void 0||l===0)return!0;let g=o,_=o.segment+1,x=0;for(;x>-l/2;){if(_--,_<0)return!1;x-=c[_].dist(g),g=c[_]}x+=c[_].dist(c[_+1]),_++;let I=[],E=0;for(;x<l/2;){let F=c[_],V=c[_+1];if(!V)return!1;let N=c[_-1].angleTo(F)-F.angleTo(V);for(N=Math.abs((N+3*Math.PI)%(2*Math.PI)-Math.PI),I.push({distance:x,angleDelta:N}),E+=N;x-I[0].distance>d;)E-=I.shift().angleDelta;if(E>m)return!1;_++,x+=F.dist(V)}return!0}function R2(c){let o=0;for(let l=0;l<c.length-1;l++)o+=c[l].dist(c[l+1]);return o}function N2(c,o,l){return c?.6*o*l:0}function q2(c,o){return Math.max(c?c.right-c.left:0,o?o.right-o.left:0)}function a6(c,o,l,d,m,g){let _=N2(l,m,g),x=q2(l,d)*g,I=0,E=R2(c)/2;for(let F=0;F<c.length-1;F++){let V=c[F],N=c[F+1],q=V.dist(N);if(I+q>E){let G=(E-I)/q,U=En.number(V.x,N.x,G),Q=En.number(V.y,N.y,G),ae=new Ql(U,Q,N.angleTo(V),F);return ae._round(),!_||B2(c,ae,x,_,o)?ae:void 0}I+=q}}function o6(c,o,l,d,m,g,_,x,I){let E=N2(d,g,_),F=q2(d,m),V=F*_,N=c[0].x===0||c[0].x===I||c[0].y===0||c[0].y===I;return o-V<o/4&&(o=V+o/4),j2(c,N?o/2*x%o:(F/2+2*g)*_*x%o,o,E,l,V,N,!1,I)}function j2(c,o,l,d,m,g,_,x,I){let E=g/2,F=R2(c),V=0,N=o-l,q=[];for(let G=0;G<c.length-1;G++){let U=c[G],Q=c[G+1],ae=U.dist(Q),ge=Q.angleTo(U);for(;N+l<V+ae;){N+=l;let se=(N-V)/ae,pe=En.number(U.x,Q.x,se),ye=En.number(U.y,Q.y,se);if(pe>=0&&pe<I&&ye>=0&&ye<I&&N-E>=0&&N+E<=F){let Te=new Ql(pe,ye,ge,G);Te._round(),d&&!B2(c,Te,g,d,m)||q.push(Te)}}V+=ae}return x||q.length||_||(q=j2(c,V/2,l,d,m,g,_,!0,I)),q}function H2(c,o,l,d){let m=[],g=c.image,_=g.pixelRatio,x=g.paddedRect.w-2,I=g.paddedRect.h-2,E={x1:c.left,y1:c.top,x2:c.right,y2:c.bottom},F=g.stretchX||[[0,x]],V=g.stretchY||[[0,I]],N=($e,Bt)=>$e+Bt[1]-Bt[0],q=F.reduce(N,0),G=V.reduce(N,0),U=x-q,Q=I-G,ae=0,ge=q,se=0,pe=G,ye=0,Te=U,Ve=0,at=Q;if(g.content&&d){let $e=g.content,Bt=$e[2]-$e[0],Lt=$e[3]-$e[1];(g.textFitWidth||g.textFitHeight)&&(E=Bv(c)),ae=J0(F,0,$e[0]),se=J0(V,0,$e[1]),ge=J0(F,$e[0],$e[2]),pe=J0(V,$e[1],$e[3]),ye=$e[0]-ae,Ve=$e[1]-se,Te=Bt-ge,at=Lt-pe}let et=E.x1,ut=E.y1,Ct=E.x2-et,ht=E.y2-ut,tt=($e,Bt,Lt,qt)=>{let Et=ef($e.stretch-ae,ge,Ct,et),Jt=tf($e.fixed-ye,Te,$e.stretch,q),Bi=ef(Bt.stretch-se,pe,ht,ut),ki=tf(Bt.fixed-Ve,at,Bt.stretch,G),Ln=ef(Lt.stretch-ae,ge,Ct,et),Xa=tf(Lt.fixed-ye,Te,Lt.stretch,q),ga=ef(qt.stretch-se,pe,ht,ut),An=tf(qt.fixed-Ve,at,qt.stretch,G),Mn=new p(Et,Bi),Ji=new p(Ln,Bi),Wn=new p(Ln,ga),oa=new p(Et,ga),In=new p(Jt/_,ki/_),Ro=new p(Xa/_,An/_),Ya=o*Math.PI/180;if(Ya){let Va=Math.sin(Ya),zn=Math.cos(Ya),_a=[zn,-Va,Va,zn];Mn._matMult(_a),Ji._matMult(_a),oa._matMult(_a),Wn._matMult(_a)}let No=$e.stretch+$e.fixed,Fr=Bt.stretch+Bt.fixed;return{tl:Mn,tr:Ji,bl:oa,br:Wn,tex:{x:g.paddedRect.x+1+No,y:g.paddedRect.y+1+Fr,w:Lt.stretch+Lt.fixed-No,h:qt.stretch+qt.fixed-Fr},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:In,pixelOffsetBR:Ro,minFontScaleX:Te/_/Ct,minFontScaleY:at/_/ht,isSDF:l}};if(d&&(g.stretchX||g.stretchY)){let $e=G2(F,U,q),Bt=G2(V,Q,G);for(let Lt=0;Lt<$e.length-1;Lt++){let qt=$e[Lt],Et=$e[Lt+1];for(let Jt=0;Jt<Bt.length-1;Jt++)m.push(tt(qt,Bt[Jt],Et,Bt[Jt+1]))}}else m.push(tt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:x+1},{fixed:0,stretch:I+1}));return m}function J0(c,o,l){let d=0;for(let m of c)d+=Math.max(o,Math.min(l,m[1]))-Math.max(o,Math.min(l,m[0]));return d}function G2(c,o,l){let d=[{fixed:-1,stretch:0}];for(let[m,g]of c){let _=d[d.length-1];d.push({fixed:m-_.stretch,stretch:_.stretch}),d.push({fixed:m-_.stretch,stretch:_.stretch+(g-m)})}return d.push({fixed:o+1,stretch:l}),d}function ef(c,o,l,d){return c/o*l+d}function tf(c,o,l,d){return c-o*l/d}Nt("Anchor",Ql);class nf{constructor(o,l,d,m,g,_,x,I,E,F){var V;if(this.boxStartIndex=o.length,E){let N=_.top,q=_.bottom,G=_.collisionPadding;G&&(N-=G[1],q+=G[3]);let U=q-N;U>0&&(U=Math.max(10,U),this.circleDiameter=U)}else{let N=!((V=_.image)===null||V===void 0)&&V.content&&(_.image.textFitWidth||_.image.textFitHeight)?Bv(_):{x1:_.left,y1:_.top,x2:_.right,y2:_.bottom};N.y1=N.y1*x-I[0],N.y2=N.y2*x+I[2],N.x1=N.x1*x-I[3],N.x2=N.x2*x+I[1];let q=_.collisionPadding;if(q&&(N.x1-=q[0]*x,N.y1-=q[1]*x,N.x2+=q[2]*x,N.y2+=q[3]*x),F){let G=new p(N.x1,N.y1),U=new p(N.x2,N.y1),Q=new p(N.x1,N.y2),ae=new p(N.x2,N.y2),ge=F*Math.PI/180;G._rotate(ge),U._rotate(ge),Q._rotate(ge),ae._rotate(ge),N.x1=Math.min(G.x,U.x,Q.x,ae.x),N.x2=Math.max(G.x,U.x,Q.x,ae.x),N.y1=Math.min(G.y,U.y,Q.y,ae.y),N.y2=Math.max(G.y,U.y,Q.y,ae.y)}o.emplaceBack(l.x,l.y,N.x1,N.y1,N.x2,N.y2,d,m,g)}this.boxEndIndex=o.length}}class r6{constructor(o=[],l=(d,m)=>d<m?-1:d>m?1:0){if(this.data=o,this.length=this.data.length,this.compare=l,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(o){this.data.push(o),this._up(this.length++)}pop(){if(this.length===0)return;let o=this.data[0],l=this.data.pop();return--this.length>0&&(this.data[0]=l,this._down(0)),o}peek(){return this.data[0]}_up(o){let{data:l,compare:d}=this,m=l[o];for(;o>0;){let g=o-1>>1,_=l[g];if(d(m,_)>=0)break;l[o]=_,o=g}l[o]=m}_down(o){let{data:l,compare:d}=this,m=this.length>>1,g=l[o];for(;o<m;){let _=1+(o<<1),x=_+1;if(x<this.length&&d(l[x],l[_])<0&&(_=x),d(l[_],g)>=0)break;l[o]=l[_],o=_}l[o]=g}}function s6(c,o=1,l=!1){let d=vu.fromPoints(c[0]),m=Math.min(d.width(),d.height()),g=m/2,_=new r6([],l6),{minX:x,minY:I,maxX:E,maxY:F}=d;if(m===0)return new p(x,I);for(let q=x;q<E;q+=m)for(let G=I;G<F;G+=m)_.push(new $d(q+g,G+g,g,c));let V=function(q){let G=0,U=0,Q=0,ae=q[0];for(let ge=0,se=ae.length,pe=se-1;ge<se;pe=ge++){let ye=ae[ge],Te=ae[pe],Ve=ye.x*Te.y-Te.x*ye.y;U+=(ye.x+Te.x)*Ve,Q+=(ye.y+Te.y)*Ve,G+=3*Ve}return new $d(U/G,Q/G,0,q)}(c),N=_.length;for(;_.length;){let q=_.pop();(q.d>V.d||!V.d)&&(V=q,l&&console.log("found best %d after %d probes",Math.round(1e4*q.d)/1e4,N)),q.max-V.d<=o||(g=q.h/2,_.push(new $d(q.p.x-g,q.p.y-g,g,c)),_.push(new $d(q.p.x+g,q.p.y-g,g,c)),_.push(new $d(q.p.x-g,q.p.y+g,g,c)),_.push(new $d(q.p.x+g,q.p.y+g,g,c)),N+=4)}return l&&(console.log(`num probes: ${N}`),console.log(`best distance: ${V.d}`)),V.p}function l6(c,o){return o.max-c.max}function $d(c,o,l,d){this.p=new p(c,o),this.h=l,this.d=function(m,g){let _=!1,x=1/0;for(let I=0;I<g.length;I++){let E=g[I];for(let F=0,V=E.length,N=V-1;F<V;N=F++){let q=E[F],G=E[N];q.y>m.y!=G.y>m.y&&m.x<(G.x-q.x)*(m.y-q.y)/(G.y-q.y)+q.x&&(_=!_),x=Math.min(x,Qy(m,q,G))}}return(_?1:-1)*Math.sqrt(x)}(this.p,d),this.max=this.d+this.h*Math.SQRT2}var Za;n.aP=void 0,(Za=n.aP||(n.aP={}))[Za.center=1]="center",Za[Za.left=2]="left",Za[Za.right=3]="right",Za[Za.top=4]="top",Za[Za.bottom=5]="bottom",Za[Za["top-left"]=6]="top-left",Za[Za["top-right"]=7]="top-right",Za[Za["bottom-left"]=8]="bottom-left",Za[Za["bottom-right"]=9]="bottom-right";let M1=Number.POSITIVE_INFINITY;function U2(c,o){return o[1]!==M1?function(l,d,m){let g=0,_=0;switch(d=Math.abs(d),m=Math.abs(m),l){case"top-right":case"top-left":case"top":_=m-7;break;case"bottom-right":case"bottom-left":case"bottom":_=7-m}switch(l){case"top-right":case"bottom-right":case"right":g=-d;break;case"top-left":case"bottom-left":case"left":g=d}return[g,_]}(c,o[0],o[1]):function(l,d){let m=0,g=0;d<0&&(d=0);let _=d/Math.SQRT2;switch(l){case"top-right":case"top-left":g=_-7;break;case"bottom-right":case"bottom-left":g=7-_;break;case"bottom":g=7-d;break;case"top":g=d-7}switch(l){case"top-right":case"bottom-right":m=-_;break;case"top-left":case"bottom-left":m=_;break;case"left":m=d;break;case"right":m=-d}return[m,g]}(c,o[0])}function $2(c,o,l){var d;let m=c.layout,g=(d=m.get("text-variable-anchor-offset"))===null||d===void 0?void 0:d.evaluate(o,{},l);if(g){let x=g.values,I=[];for(let E=0;E<x.length;E+=2){let F=I[E]=x[E],V=x[E+1].map(N=>N*Aa);F.startsWith("top")?V[1]-=7:F.startsWith("bottom")&&(V[1]+=7),I[E+1]=V}return new co(I)}let _=m.get("text-variable-anchor");if(_){let x;x=c._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[m.get("text-radial-offset").evaluate(o,{},l)*Aa,M1]:m.get("text-offset").evaluate(o,{},l).map(E=>E*Aa);let I=[];for(let E of _)I.push(E,U2(E,x));return new co(I)}return null}function k1(c){switch(c){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function c6(c,o,l,d,m,g,_,x,I,E,F,V){let N=g.textMaxSize.evaluate(o,{});N===void 0&&(N=_);let q=c.layers[0].layout,G=q.get("icon-offset").evaluate(o,{},F),U=W2(l.horizontal),Q=_/24,ae=c.tilePixelRatio*Q,ge=c.tilePixelRatio*N/24,se=c.tilePixelRatio*x,pe=c.tilePixelRatio*q.get("symbol-spacing"),ye=q.get("text-padding")*c.tilePixelRatio,Te=function(Lt,qt,Et,Jt=1){let Bi=Lt.get("icon-padding").evaluate(qt,{},Et),ki=Bi&&Bi.values;return[ki[0]*Jt,ki[1]*Jt,ki[2]*Jt,ki[3]*Jt]}(q,o,F,c.tilePixelRatio),Ve=q.get("text-max-angle")/180*Math.PI,at=q.get("text-rotation-alignment")!=="viewport"&&q.get("symbol-placement")!=="point",et=q.get("icon-rotation-alignment")==="map"&&q.get("symbol-placement")!=="point",ut=q.get("symbol-placement"),Ct=pe/2,ht=q.get("icon-text-fit"),tt;d&&ht!=="none"&&(c.allowVerticalPlacement&&l.vertical&&(tt=Rv(d,l.vertical,ht,q.get("icon-text-fit-padding"),G,Q)),U&&(d=Rv(d,U,ht,q.get("icon-text-fit-padding"),G,Q)));let $e=F?V.line.getGranularityForZoomLevel(F.z):1,Bt=(Lt,qt)=>{qt.x<0||qt.x>=di||qt.y<0||qt.y>=di||function(Et,Jt,Bi,ki,Ln,Xa,ga,An,Mn,Ji,Wn,oa,In,Ro,Ya,No,Fr,Va,zn,_a,Qn,za,al,Qr,Qh){let Zl=Et.addToLineVertexArray(Jt,Bi),Iu,Kd,Wd,Qd,Y2=0,J2=0,ex=0,tx=0,V1=-1,z1=-1,ol={},ix=aa("");if(Et.allowVerticalPlacement&&ki.vertical){let mo=An.layout.get("text-rotate").evaluate(Qn,{},Qr)+90;Wd=new nf(Mn,Jt,Ji,Wn,oa,ki.vertical,In,Ro,Ya,mo),ga&&(Qd=new nf(Mn,Jt,Ji,Wn,oa,ga,Fr,Va,Ya,mo))}if(Ln){let mo=An.layout.get("icon-rotate").evaluate(Qn,{}),xr=An.layout.get("icon-text-fit")!=="none",Tu=H2(Ln,mo,al,xr),Xr=ga?H2(ga,mo,al,xr):void 0;Kd=new nf(Mn,Jt,Ji,Wn,oa,Ln,Fr,Va,!1,mo),Y2=4*Tu.length;let Cu=Et.iconSizeData,ys=null;Cu.kind==="source"?(ys=[il*An.layout.get("icon-size").evaluate(Qn,{})],ys[0]>$l&&Pa(`${Et.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):Cu.kind==="composite"&&(ys=[il*za.compositeIconSizes[0].evaluate(Qn,{},Qr),il*za.compositeIconSizes[1].evaluate(Qn,{},Qr)],(ys[0]>$l||ys[1]>$l)&&Pa(`${Et.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Et.addSymbols(Et.icon,Tu,ys,_a,zn,Qn,n.az.none,Jt,Zl.lineStartIndex,Zl.lineLength,-1,Qr),V1=Et.icon.placedSymbolArray.length-1,Xr&&(J2=4*Xr.length,Et.addSymbols(Et.icon,Xr,ys,_a,zn,Qn,n.az.vertical,Jt,Zl.lineStartIndex,Zl.lineLength,-1,Qr),z1=Et.icon.placedSymbolArray.length-1)}let nx=Object.keys(ki.horizontal);for(let mo of nx){let xr=ki.horizontal[mo];if(!Iu){ix=aa(xr.text);let Xr=An.layout.get("text-rotate").evaluate(Qn,{},Qr);Iu=new nf(Mn,Jt,Ji,Wn,oa,xr,In,Ro,Ya,Xr)}let Tu=xr.positionedLines.length===1;if(ex+=K2(Et,Jt,xr,Xa,An,Ya,Qn,No,Zl,ki.vertical?n.az.horizontal:n.az.horizontalOnly,Tu?nx:[mo],ol,V1,za,Qr),Tu)break}ki.vertical&&(tx+=K2(Et,Jt,ki.vertical,Xa,An,Ya,Qn,No,Zl,n.az.vertical,["vertical"],ol,z1,za,Qr));let p6=Iu?Iu.boxStartIndex:Et.collisionBoxArray.length,h6=Iu?Iu.boxEndIndex:Et.collisionBoxArray.length,m6=Wd?Wd.boxStartIndex:Et.collisionBoxArray.length,f6=Wd?Wd.boxEndIndex:Et.collisionBoxArray.length,g6=Kd?Kd.boxStartIndex:Et.collisionBoxArray.length,_6=Kd?Kd.boxEndIndex:Et.collisionBoxArray.length,b6=Qd?Qd.boxStartIndex:Et.collisionBoxArray.length,y6=Qd?Qd.boxEndIndex:Et.collisionBoxArray.length,Zr=-1,of=(mo,xr)=>mo&&mo.circleDiameter?Math.max(mo.circleDiameter,xr):xr;Zr=of(Iu,Zr),Zr=of(Wd,Zr),Zr=of(Kd,Zr),Zr=of(Qd,Zr);let ax=Zr>-1?1:0;ax&&(Zr*=Qh/Aa),Et.glyphOffsetArray.length>=Nd.MAX_GLYPHS&&Pa("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Qn.sortKey!==void 0&&Et.addToSortKeyRanges(Et.symbolInstances.length,Qn.sortKey);let v6=$2(An,Qn,Qr),[x6,w6]=function(mo,xr){let Tu=mo.length,Xr=xr?.values;if(Xr?.length>0)for(let Cu=0;Cu<Xr.length;Cu+=2){let ys=Xr[Cu+1];mo.emplaceBack(n.aP[Xr[Cu]],ys[0],ys[1])}return[Tu,mo.length]}(Et.textAnchorOffsets,v6);Et.symbolInstances.emplaceBack(Jt.x,Jt.y,ol.right>=0?ol.right:-1,ol.center>=0?ol.center:-1,ol.left>=0?ol.left:-1,ol.vertical||-1,V1,z1,ix,p6,h6,m6,f6,g6,_6,b6,y6,Ji,ex,tx,Y2,J2,ax,0,In,Zr,x6,w6)}(c,qt,Lt,l,d,m,tt,c.layers[0],c.collisionBoxArray,o.index,o.sourceLayerIndex,c.index,ae,[ye,ye,ye,ye],at,I,se,Te,et,G,o,g,E,F,_)};if(ut==="line")for(let Lt of O2(o.geometry,0,0,di,di)){let qt=yu(Lt,$e),Et=o6(qt,pe,Ve,l.vertical||U,d,24,ge,c.overscaling,di);for(let Jt of Et)U&&u6(c,U.text,Ct,Jt)||Bt(qt,Jt)}else if(ut==="line-center"){for(let Lt of o.geometry)if(Lt.length>1){let qt=yu(Lt,$e),Et=a6(qt,Ve,l.vertical||U,d,24,ge);Et&&Bt(qt,Et)}}else if(o.type==="Polygon")for(let Lt of ed(o.geometry,0)){let qt=s6(Lt,16);Bt(yu(Lt[0],$e,!0),new Ql(qt.x,qt.y,0))}else if(o.type==="LineString")for(let Lt of o.geometry){let qt=yu(Lt,$e);Bt(qt,new Ql(qt[0].x,qt[0].y,0))}else if(o.type==="Point")for(let Lt of o.geometry)for(let qt of Lt)Bt([qt],new Ql(qt.x,qt.y,0))}function K2(c,o,l,d,m,g,_,x,I,E,F,V,N,q,G){let U=function(ge,se,pe,ye,Te,Ve,at,et){let ut=ye.layout.get("text-rotate").evaluate(Ve,{})*Math.PI/180,Ct=[];for(let ht of se.positionedLines)for(let tt of ht.positionedGlyphs){if(!tt.rect)continue;let $e=tt.rect||{},Bt=4,Lt=!0,qt=1,Et=0,Jt=(Te||et)&&tt.vertical,Bi=tt.metrics.advance*tt.scale/2;if(et&&se.verticalizable&&(Et=ht.lineOffset/2-(tt.imageName?-(Aa-tt.metrics.width*tt.scale)/2:(tt.scale-1)*Aa)),tt.imageName){let Va=at[tt.imageName];Lt=Va.sdf,qt=Va.pixelRatio,Bt=1/qt}let ki=Te?[tt.x+Bi,tt.y]:[0,0],Ln=Te?[0,0]:[tt.x+Bi+pe[0],tt.y+pe[1]-Et],Xa=[0,0];Jt&&(Xa=Ln,Ln=[0,0]);let ga=tt.metrics.isDoubleResolution?2:1,An=(tt.metrics.left-Bt)*tt.scale-Bi+Ln[0],Mn=(-tt.metrics.top-Bt)*tt.scale+Ln[1],Ji=An+$e.w/ga*tt.scale/qt,Wn=Mn+$e.h/ga*tt.scale/qt,oa=new p(An,Mn),In=new p(Ji,Mn),Ro=new p(An,Wn),Ya=new p(Ji,Wn);if(Jt){let Va=new p(-Bi,Bi- -17),zn=-Math.PI/2,_a=12-Bi,Qn=new p(22-_a,-(tt.imageName?_a:0)),za=new p(...Xa);oa._rotateAround(zn,Va)._add(Qn)._add(za),In._rotateAround(zn,Va)._add(Qn)._add(za),Ro._rotateAround(zn,Va)._add(Qn)._add(za),Ya._rotateAround(zn,Va)._add(Qn)._add(za)}if(ut){let Va=Math.sin(ut),zn=Math.cos(ut),_a=[zn,-Va,Va,zn];oa._matMult(_a),In._matMult(_a),Ro._matMult(_a),Ya._matMult(_a)}let No=new p(0,0),Fr=new p(0,0);Ct.push({tl:oa,tr:In,bl:Ro,br:Ya,tex:$e,writingMode:se.writingMode,glyphOffset:ki,sectionIndex:tt.sectionIndex,isSDF:Lt,pixelOffsetTL:No,pixelOffsetBR:Fr,minFontScaleX:0,minFontScaleY:0})}return Ct}(0,l,x,m,g,_,d,c.allowVerticalPlacement),Q=c.textSizeData,ae=null;Q.kind==="source"?(ae=[il*m.layout.get("text-size").evaluate(_,{})],ae[0]>$l&&Pa(`${c.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):Q.kind==="composite"&&(ae=[il*q.compositeTextSizes[0].evaluate(_,{},G),il*q.compositeTextSizes[1].evaluate(_,{},G)],(ae[0]>$l||ae[1]>$l)&&Pa(`${c.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),c.addSymbols(c.text,U,ae,x,g,_,E,o,I.lineStartIndex,I.lineLength,N,G);for(let ge of F)V[ge]=c.text.placedSymbolArray.length-1;return 4*U.length}function W2(c){for(let o in c)return c[o];return null}function u6(c,o,l,d){let m=c.compareText;if(o in m){let g=m[o];for(let _=g.length-1;_>=0;_--)if(d.dist(g[_])<l)return!0}else m[o]=[];return m[o].push(d),!1}let Q2=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class E1{static from(o){if(!(o instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");let[l,d]=new Uint8Array(o,0,2);if(l!==219)throw new Error("Data does not appear to be in a KDBush format.");let m=d>>4;if(m!==1)throw new Error(`Got v${m} data when expected v1.`);let g=Q2[15&d];if(!g)throw new Error("Unrecognized array type.");let[_]=new Uint16Array(o,2,1),[x]=new Uint32Array(o,4,1);return new E1(x,_,g,o)}constructor(o,l=64,d=Float64Array,m){if(isNaN(o)||o<0)throw new Error(`Unpexpected numItems value: ${o}.`);this.numItems=+o,this.nodeSize=Math.min(Math.max(+l,2),65535),this.ArrayType=d,this.IndexArrayType=o<65536?Uint16Array:Uint32Array;let g=Q2.indexOf(this.ArrayType),_=2*o*this.ArrayType.BYTES_PER_ELEMENT,x=o*this.IndexArrayType.BYTES_PER_ELEMENT,I=(8-x%8)%8;if(g<0)throw new Error(`Unexpected typed array class: ${d}.`);m&&m instanceof ArrayBuffer?(this.data=m,this.ids=new this.IndexArrayType(this.data,8,o),this.coords=new this.ArrayType(this.data,8+x+I,2*o),this._pos=2*o,this._finished=!0):(this.data=new ArrayBuffer(8+_+x+I),this.ids=new this.IndexArrayType(this.data,8,o),this.coords=new this.ArrayType(this.data,8+x+I,2*o),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+g]),new Uint16Array(this.data,2,1)[0]=l,new Uint32Array(this.data,4,1)[0]=o)}add(o,l){let d=this._pos>>1;return this.ids[d]=d,this.coords[this._pos++]=o,this.coords[this._pos++]=l,d}finish(){let o=this._pos>>1;if(o!==this.numItems)throw new Error(`Added ${o} items when expected ${this.numItems}.`);return P1(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(o,l,d,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:g,coords:_,nodeSize:x}=this,I=[0,g.length-1,0],E=[];for(;I.length;){let F=I.pop()||0,V=I.pop()||0,N=I.pop()||0;if(V-N<=x){for(let Q=N;Q<=V;Q++){let ae=_[2*Q],ge=_[2*Q+1];ae>=o&&ae<=d&&ge>=l&&ge<=m&&E.push(g[Q])}continue}let q=N+V>>1,G=_[2*q],U=_[2*q+1];G>=o&&G<=d&&U>=l&&U<=m&&E.push(g[q]),(F===0?o<=G:l<=U)&&(I.push(N),I.push(q-1),I.push(1-F)),(F===0?d>=G:m>=U)&&(I.push(q+1),I.push(V),I.push(1-F))}return E}within(o,l,d){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");let{ids:m,coords:g,nodeSize:_}=this,x=[0,m.length-1,0],I=[],E=d*d;for(;x.length;){let F=x.pop()||0,V=x.pop()||0,N=x.pop()||0;if(V-N<=_){for(let Q=N;Q<=V;Q++)X2(g[2*Q],g[2*Q+1],o,l)<=E&&I.push(m[Q]);continue}let q=N+V>>1,G=g[2*q],U=g[2*q+1];X2(G,U,o,l)<=E&&I.push(m[q]),(F===0?o-d<=G:l-d<=U)&&(x.push(N),x.push(q-1),x.push(1-F)),(F===0?o+d>=G:l+d>=U)&&(x.push(q+1),x.push(V),x.push(1-F))}return I}}function P1(c,o,l,d,m,g){if(m-d<=l)return;let _=d+m>>1;Z2(c,o,_,d,m,g),P1(c,o,l,d,_-1,1-g),P1(c,o,l,_+1,m,1-g)}function Z2(c,o,l,d,m,g){for(;m>d;){if(m-d>600){let E=m-d+1,F=l-d+1,V=Math.log(E),N=.5*Math.exp(2*V/3),q=.5*Math.sqrt(V*N*(E-N)/E)*(F-E/2<0?-1:1);Z2(c,o,l,Math.max(d,Math.floor(l-F*N/E+q)),Math.min(m,Math.floor(l+(E-F)*N/E+q)),g)}let _=o[2*l+g],x=d,I=m;for(Kh(c,o,d,l),o[2*m+g]>_&&Kh(c,o,d,m);x<I;){for(Kh(c,o,x,I),x++,I--;o[2*x+g]<_;)x++;for(;o[2*I+g]>_;)I--}o[2*d+g]===_?Kh(c,o,d,I):(I++,Kh(c,o,I,m)),I<=l&&(d=I+1),l<=I&&(m=I-1)}}function Kh(c,o,l,d){D1(c,l,d),D1(o,2*l,2*d),D1(o,2*l+1,2*d+1)}function D1(c,o,l){let d=c[o];c[o]=c[l],c[l]=d}function X2(c,o,l,d){let m=c-l,g=o-d;return m*m+g*g}var L1;n.cH=void 0,(L1=n.cH||(n.cH={})).create="create",L1.load="load",L1.fullLoad="fullLoad";let af=null,Wh=[],A1=1e3/60,F1="loadTime",O1="fullLoadTime",d6={mark(c){performance.mark(c)},frame(c){let o=c;af!=null&&Wh.push(o-af),af=o},clearMetrics(){af=null,Wh=[],performance.clearMeasures(F1),performance.clearMeasures(O1);for(let c in n.cH)performance.clearMarks(n.cH[c])},getPerformanceMetrics(){performance.measure(F1,n.cH.create,n.cH.load),performance.measure(O1,n.cH.create,n.cH.fullLoad);let c=performance.getEntriesByName(F1)[0].duration,o=performance.getEntriesByName(O1)[0].duration,l=Wh.length,d=1/(Wh.reduce((g,_)=>g+_,0)/l/1e3),m=Wh.filter(g=>g>A1).reduce((g,_)=>g+(_-A1)/A1,0);return{loadTime:c,fullLoadTime:o,fps:d,percentDroppedFrames:m/(l+m)*100,totalFrames:l}}};n.$=te,n.A=je,n.B=Nl,n.C=Da,n.D=Zt,n.E=Wi,n.F=function([c,o,l]){return o+=90,o*=Math.PI/180,l*=Math.PI/180,{x:c*Math.cos(o)*Math.sin(l),y:c*Math.sin(o)*Math.sin(l),z:c*Math.cos(l)}},n.G=En,n.H=un,n.I=t1,n.J=x0,n.K=function(c){if(Hn==null){let o=c.navigator?c.navigator.userAgent:null;Hn=!!c.safari||!(!o||!(/\b(iPad|iPhone|iPod)\b/.test(o)||o.match("Safari")&&!o.match("Chrome")))}return Hn},n.L=class{constructor(c,o){this.target=c,this.mapId=o,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new SS(()=>this.process()),this.subscription=_l(this.target,"message",l=>this.receive(l),!1),this.globalScope=Er(self)?c:window}registerMessageHandler(c,o){this.messageHandlers[c]=o}unregisterMessageHandler(c){delete this.messageHandlers[c]}sendAsync(c,o){return new Promise((l,d)=>{let m=Math.round(1e18*Math.random()).toString(36).substring(0,10),g=o?_l(o.signal,"abort",()=>{g?.unsubscribe(),delete this.resolveRejects[m];let I={id:m,type:"<cancel>",origin:location.origin,targetMapId:c.targetMapId,sourceMapId:this.mapId};this.target.postMessage(I)},MS):null;this.resolveRejects[m]={resolve:I=>{g?.unsubscribe(),l(I)},reject:I=>{g?.unsubscribe(),d(I)}};let _=[],x=Object.assign(Object.assign({},c),{id:m,sourceMapId:this.mapId,origin:location.origin,data:ou(c.data,_)});this.target.postMessage(x,{transfer:_})})}receive(c){let o=c.data,l=o.id;if(!(o.origin!=="file://"&&location.origin!=="file://"&&o.origin!=="resource://android"&&location.origin!=="resource://android"&&o.origin!==location.origin||o.targetMapId&&this.mapId!==o.targetMapId)){if(o.type==="<cancel>"){delete this.tasks[l];let d=this.abortControllers[l];return delete this.abortControllers[l],void(d&&d.abort())}if(Er(self)||o.mustQueue)return this.tasks[l]=o,this.taskQueue.push(l),void this.invoker.trigger();this.processTask(l,o)}}process(){if(this.taskQueue.length===0)return;let c=this.taskQueue.shift(),o=this.tasks[c];delete this.tasks[c],this.taskQueue.length>0&&this.invoker.trigger(),o&&this.processTask(c,o)}processTask(c,o){return a(this,void 0,void 0,function*(){if(o.type==="<response>"){let m=this.resolveRejects[c];return delete this.resolveRejects[c],m?void(o.error?m.reject(ru(o.error)):m.resolve(ru(o.data))):void 0}if(!this.messageHandlers[o.type])return void this.completeTask(c,new Error(`Could not find a registered handler for ${o.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));let l=ru(o.data),d=new AbortController;this.abortControllers[c]=d;try{let m=yield this.messageHandlers[o.type](o.sourceMapId,l,d);this.completeTask(c,null,m)}catch(m){this.completeTask(c,m)}})}completeTask(c,o,l){let d=[];delete this.abortControllers[c];let m={id:c,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:o?ou(o):null,data:ou(l,d)};this.target.postMessage(m,{transfer:d})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},n.M=Oe,n.N=function(){var c=new je(16);return je!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=0,c[12]=0,c[13]=0,c[14]=0),c[0]=1,c[5]=1,c[10]=1,c[15]=1,c},n.O=function(c,o,l){var d,m,g,_,x,I,E,F,V,N,q,G,U=l[0],Q=l[1],ae=l[2];return o===c?(c[12]=o[0]*U+o[4]*Q+o[8]*ae+o[12],c[13]=o[1]*U+o[5]*Q+o[9]*ae+o[13],c[14]=o[2]*U+o[6]*Q+o[10]*ae+o[14],c[15]=o[3]*U+o[7]*Q+o[11]*ae+o[15]):(m=o[1],g=o[2],_=o[3],x=o[4],I=o[5],E=o[6],F=o[7],V=o[8],N=o[9],q=o[10],G=o[11],c[0]=d=o[0],c[1]=m,c[2]=g,c[3]=_,c[4]=x,c[5]=I,c[6]=E,c[7]=F,c[8]=V,c[9]=N,c[10]=q,c[11]=G,c[12]=d*U+x*Q+V*ae+o[12],c[13]=m*U+I*Q+N*ae+o[13],c[14]=g*U+E*Q+q*ae+o[14],c[15]=_*U+F*Q+G*ae+o[15]),c},n.P=p,n.Q=function(c,o,l){var d=l[0],m=l[1],g=l[2];return c[0]=o[0]*d,c[1]=o[1]*d,c[2]=o[2]*d,c[3]=o[3]*d,c[4]=o[4]*m,c[5]=o[5]*m,c[6]=o[6]*m,c[7]=o[7]*m,c[8]=o[8]*g,c[9]=o[9]*g,c[10]=o[10]*g,c[11]=o[11]*g,c[12]=o[12],c[13]=o[13],c[14]=o[14],c[15]=o[15],c},n.R=Bo,n.S=function(c,o,l){var d=o[0],m=o[1],g=o[2],_=o[3],x=o[4],I=o[5],E=o[6],F=o[7],V=o[8],N=o[9],q=o[10],G=o[11],U=o[12],Q=o[13],ae=o[14],ge=o[15],se=l[0],pe=l[1],ye=l[2],Te=l[3];return c[0]=se*d+pe*x+ye*V+Te*U,c[1]=se*m+pe*I+ye*N+Te*Q,c[2]=se*g+pe*E+ye*q+Te*ae,c[3]=se*_+pe*F+ye*G+Te*ge,c[4]=(se=l[4])*d+(pe=l[5])*x+(ye=l[6])*V+(Te=l[7])*U,c[5]=se*m+pe*I+ye*N+Te*Q,c[6]=se*g+pe*E+ye*q+Te*ae,c[7]=se*_+pe*F+ye*G+Te*ge,c[8]=(se=l[8])*d+(pe=l[9])*x+(ye=l[10])*V+(Te=l[11])*U,c[9]=se*m+pe*I+ye*N+Te*Q,c[10]=se*g+pe*E+ye*q+Te*ae,c[11]=se*_+pe*F+ye*G+Te*ge,c[12]=(se=l[12])*d+(pe=l[13])*x+(ye=l[14])*V+(Te=l[15])*U,c[13]=se*m+pe*I+ye*N+Te*Q,c[14]=se*g+pe*E+ye*q+Te*ae,c[15]=se*_+pe*F+ye*G+Te*ge,c},n.T=$_,n.U=function(c,o){let l={};for(let d=0;d<o.length;d++){let m=o[d];m in c&&(l[m]=c[m])}return l},n.V=Kl,n.W=oo,n.X=Wv,n.Y=Kv,n.Z=Ee,n._=a,n.a=de,n.a$=Mt,n.a0=Me,n.a1=gl,n.a2=yr,n.a3=Zv,n.a4=U0,n.a5=di,n.a6=function(c,o,l){if(!c)return o||{};if(!o)return c||{};let d=e2(c),m=e2(o);(function(_,x){x.removeAll&&(_.add.clear(),_.update.clear(),_.remove.clear(),x.remove.clear());for(let I of x.remove)_.add.delete(I),_.update.delete(I);for(let[I,E]of x.update){let F=_.update.get(I);F&&(x.update.set(I,kS(F,E)),_.update.delete(I))}})(d,m);let g={};if((d.removeAll||m.removeAll)&&(g.removeAll=!0),g.remove=new Set([...d.remove,...m.remove]),g.add=new Map([...d.add,...m.add]),g.update=new Map([...d.update,...m.update]),g.remove.size&&g.add.size)for(let _ of g.add.keys())g.remove.delete(_);return function(_){let x={};return _.removeAll&&(x.removeAll=_.removeAll),_.remove&&(x.remove=Array.from(_.remove)),_.add&&(x.add=Array.from(_.add.values())),_.update&&(x.update=Array.from(_.update.values())),x}(g)},n.a7=function(c,o){let l=new Map;if(c==null||c.type==null)return l;if(c.type==="Feature"){let d=u1(c,o);return d==null?void 0:(l.set(d,c),l)}if(c.type==="FeatureCollection"){let d=new Set;for(let m of c.features){let g=u1(m,o);if(g==null||d.has(g))return;d.add(g),l.set(g,m)}return l}},n.a8=function(c,o,l){var d,m;let g=[];if(o.removeAll)c.clear();else if(o.remove)for(let _ of o.remove){let x=c.get(_);x&&(g.push(x.geometry),c.delete(_))}if(o.add)for(let _ of o.add){let x=u1(_,l);if(x==null)continue;let I=c.get(x);I&&g.push(I.geometry),g.push(_.geometry),c.set(x,_)}if(o.update)for(let _ of o.update){let x=c.get(_.id);if(!x)continue;let I=!!_.newGeometry,E=_.removeAllProperties||((d=_.removeProperties)===null||d===void 0?void 0:d.length)>0||((m=_.addOrUpdateProperties)===null||m===void 0?void 0:m.length)>0;if(!I&&!E)continue;g.push(x.geometry);let F=Object.assign({},x);if(c.set(_.id,F),I&&(g.push(_.newGeometry),F.geometry=_.newGeometry),E){if(F.properties=_.removeAllProperties?{}:Object.assign({},F.properties||{}),_.removeProperties)for(let V of _.removeProperties)delete F.properties[V];if(_.addOrUpdateProperties)for(let{key:V,value:N}of _.addOrUpdateProperties)F.properties[V]=N}}return g},n.a9=Hh,n.aA=function(c,{uSize:o,uSizeT:l},{lowerSize:d,upperSize:m}){return c.kind==="source"?d/il:c.kind==="composite"?En.number(d/il,m/il,l):o},n.aB=function(c,o){var l=o[0],d=o[1],m=o[2],g=o[3],_=o[4],x=o[5],I=o[6],E=o[7],F=o[8],V=o[9],N=o[10],q=o[11],G=o[12],U=o[13],Q=o[14],ae=o[15],ge=l*x-d*_,se=l*I-m*_,pe=l*E-g*_,ye=d*I-m*x,Te=d*E-g*x,Ve=m*E-g*I,at=F*U-V*G,et=F*Q-N*G,ut=F*ae-q*G,Ct=V*Q-N*U,ht=V*ae-q*U,tt=N*ae-q*Q,$e=ge*tt-se*ht+pe*Ct+ye*ut-Te*et+Ve*at;return $e?(c[0]=(x*tt-I*ht+E*Ct)*($e=1/$e),c[1]=(m*ht-d*tt-g*Ct)*$e,c[2]=(U*Ve-Q*Te+ae*ye)*$e,c[3]=(N*Te-V*Ve-q*ye)*$e,c[4]=(I*ut-_*tt-E*et)*$e,c[5]=(l*tt-m*ut+g*et)*$e,c[6]=(Q*pe-G*Ve-ae*se)*$e,c[7]=(F*Ve-N*pe+q*se)*$e,c[8]=(_*ht-x*ut+E*at)*$e,c[9]=(d*ut-l*ht-g*at)*$e,c[10]=(G*Te-U*pe+ae*ge)*$e,c[11]=(V*pe-F*Te-q*ge)*$e,c[12]=(x*et-_*Ct-I*at)*$e,c[13]=(l*Ct-d*et+m*at)*$e,c[14]=(U*se-G*ye-Q*ge)*$e,c[15]=(F*ye-V*se+N*ge)*$e,c):null},n.aC=Si,n.aD=function(c){var o=c[0],l=c[1];return Math.sqrt(o*o+l*l)},n.aE=function(c){return c[0]=0,c[1]=0,c},n.aF=function(c,o,l){return c[0]=o[0]*l,c[1]=o[1]*l,c},n.aG=a1,n.aH=Ci,n.aI=function(c,o,l,d){let m=o.y-c.y,g=o.x-c.x,_=d.y-l.y,x=d.x-l.x,I=_*g-x*m;if(I===0)return null;let E=(x*(c.y-l.y)-_*(c.x-l.x))/I;return new p(c.x+E*g,c.y+E*m)},n.aJ=O2,n.aK=Ld,n.aL=function(c){let o=1/0,l=1/0,d=-1/0,m=-1/0;for(let g of c)o=Math.min(o,g.x),l=Math.min(l,g.y),d=Math.max(d,g.x),m=Math.max(m,g.y);return[o,l,d,m]},n.aM=Aa,n.aN=Ea,n.aO=function(c,o,l,d,m=!1){if(!l[0]&&!l[1])return[0,0];let g=m?d==="map"?-c.bearingInRadians:0:d==="viewport"?c.bearingInRadians:0;if(g){let _=Math.sin(g),x=Math.cos(g);l=[l[0]*x-l[1]*_,l[0]*_+l[1]*x]}return[m?l[0]:Ea(o,l[0],c.zoom),m?l[1]:Ea(o,l[1],c.zoom)]},n.aQ=n1,n.aR=k1,n.aS=i1,n.aT=E1,n.aU=na,n.aV=R0,n.aW=he,n.aX=kt,n.aY=Ue,n.aZ=xo,n.a_=Xv,n.aa=vu,n.ab=25,n.ac=c1,n.ad=c=>{let o=window.document.createElement("video");return o.muted=!0,new Promise(l=>{o.onloadstart=()=>{l(o)};for(let d of c){let m=window.document.createElement("source");ct(d)||(o.crossOrigin="Anonymous"),m.src=d,o.appendChild(m)}})},n.ae=vt,n.af=function(){return Fs++},n.ag=f,n.ah=Nd,n.ai=$h,n.aj=Zc,n.ak=bs,n.al=i2,n.am=function(c){let o={};if(c.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(l,d,m,g)=>{let _=m||g;return o[d]=!_||_.toLowerCase(),""}),o["max-age"]){let l=parseInt(o["max-age"],10);isNaN(l)?delete o["max-age"]:o["max-age"]=l}return o},n.an=xa,n.ao=85.051129,n.ap=bl,n.aq=function(c){return Math.pow(2,c)},n.ar=_t,n.as=Qv,n.at=function(c){return Math.log(c)/Math.LN2},n.au=function(c){var o=c[0],l=c[1];return o*o+l*l},n.av=function(c){if(!c.length)return new Set;let o=Math.max(...c.map(I=>I.canonical.z)),l=1/0,d=-1/0,m=1/0,g=-1/0,_=[];for(let I of c){let{x:E,y:F,z:V}=I.canonical,N=Math.pow(2,o-V),q=E*N,G=F*N;_.push({id:I,x:q,y:G}),q<l&&(l=q),q>d&&(d=q),G<m&&(m=G),G>g&&(g=G)}let x=new Set;for(let I of _)I.x!==l&&I.x!==d&&I.y!==m&&I.y!==g||x.add(I.id);return x},n.aw=function(c,o){let l=Math.abs(2*c.wrap)-+(c.wrap<0),d=Math.abs(2*o.wrap)-+(o.wrap<0);return c.overscaledZ-o.overscaledZ||d-l||o.canonical.y-c.canonical.y||o.canonical.x-c.canonical.x},n.ax=class{constructor(c,o){this.max=c,this.onRemove=o,this.reset()}reset(){for(let c in this.data)for(let o of this.data[c])o.timeout&&clearTimeout(o.timeout),this.onRemove(o.value);return this.data={},this.order=[],this}add(c,o,l){let d=c.wrapped().key;this.data[d]===void 0&&(this.data[d]=[]);let m={value:o,timeout:void 0};if(l!==void 0&&(m.timeout=setTimeout(()=>{this.remove(c,m)},l)),this.data[d].push(m),this.order.push(d),this.order.length>this.max){let g=this._getAndRemoveByKey(this.order[0]);g&&this.onRemove(g)}return this}has(c){return c.wrapped().key in this.data}getAndRemove(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null}_getAndRemoveByKey(c){let o=this.data[c].shift();return o.timeout&&clearTimeout(o.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),o.value}getByKey(c){let o=this.data[c];return o?o[0].value:null}get(c){return this.has(c)?this.data[c.wrapped().key][0].value:null}remove(c,o){if(!this.has(c))return this;let l=c.wrapped().key,d=o===void 0?0:this.data[l].indexOf(o),m=this.data[l][d];return this.data[l].splice(d,1),m.timeout&&clearTimeout(m.timeout),this.data[l].length===0&&delete this.data[l],this.onRemove(m.value),this.order.splice(this.order.indexOf(l),1),this}setMaxSize(c){for(this.max=c;this.order.length>this.max;){let o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this}filter(c){let o=[];for(let l in this.data)for(let d of this.data[l])c(d.value)||o.push(d);for(let l of o)this.remove(l.value.tileID,l)}},n.ay=function(c,o){let l=0,d=0;if(c.kind==="constant")d=c.layoutSize;else if(c.kind!=="source"){let{interpolationType:m,minZoom:g,maxZoom:_}=c,x=m?xa(po.interpolationFactor(m,o,g,_),0,1):0;c.kind==="camera"?d=En.number(c.minSize,c.maxSize,x):l=x}return{uSizeT:l,uSize:d}},n.b=as,n.b$=el,n.b0=Rt,n.b1=function(c){var o=new je(3);return o[0]=c[0],o[1]=c[1],o[2]=c[2],o},n.b2=function(c,o,l){return c[0]=o[0]-l[0],c[1]=o[1]-l[1],c[2]=o[2]-l[2],c},n.b3=function(c,o){var l=o[0],d=o[1],m=o[2],g=l*l+d*d+m*m;return g>0&&(g=1/Math.sqrt(g)),c[0]=o[0]*g,c[1]=o[1]*g,c[2]=o[2]*g,c},n.b4=Xt,n.b5=function(c,o){return c[0]*o[0]+c[1]*o[1]+c[2]*o[2]},n.b6=function(c,o,l){return c[0]=o[0]*l[0],c[1]=o[1]*l[1],c[2]=o[2]*l[2],c[3]=o[3]*l[3],c},n.b7=st,n.b8=function(c,o,l){let d=o[0]*l[0]+o[1]*l[1]+o[2]*l[2];return d===0?null:(-(c[0]*l[0]+c[1]*l[1]+c[2]*l[2])-l[3])/d},n.b9=hi,n.bA=function(c,o,l,d){return c[0]=o[0]+l[0]*d,c[1]=o[1]+l[1]*d,c[2]=o[2]+l[2]*d,c},n.bB=ka,n.bC=function(c,o,l){var d=l[0],m=l[1],g=l[2],_=l[3],x=o[0],I=o[1],E=o[2],F=m*E-g*I,V=g*x-d*E,N=d*I-m*x;return c[0]=x+_*(F+=F)+m*(N+=N)-g*(V+=V),c[1]=I+_*V+g*F-d*N,c[2]=E+_*N+d*V-m*F,c},n.bD=function(c,o,l){let d=function(I){var E=I[3],F=I[4],V=I[5],N=I[6],q=I[7],G=I[8];return I[0]*(G*F-V*q)+I[1]*(-G*E+V*N)+I[2]*(q*E-F*N)}([c[0],c[1],c[2],o[0],o[1],o[2],l[0],l[1],l[2]]);if(d===0)return null;let m=Xt([],[o[0],o[1],o[2]],[l[0],l[1],l[2]]),g=Xt([],[l[0],l[1],l[2]],[c[0],c[1],c[2]]),_=Xt([],[c[0],c[1],c[2]],[o[0],o[1],o[2]]),x=Mt([],m,-c[3]);return Rt(x,x,Mt([],g,-o[3])),Rt(x,x,Mt([],_,-l[3])),Mt(x,x,1/d),x},n.bE=l1,n.bF=function(){return new Float64Array(4)},n.bG=function(c,o,l,d){var m=[],g=[];return m[0]=o[0]-l[0],m[1]=o[1]-l[1],m[2]=o[2]-l[2],g[0]=m[0]*Math.cos(d)-m[1]*Math.sin(d),g[1]=m[0]*Math.sin(d)+m[1]*Math.cos(d),g[2]=m[2],c[0]=g[0]+l[0],c[1]=g[1]+l[1],c[2]=g[2]+l[2],c},n.bH=function(c,o,l,d){var m=[],g=[];return m[0]=o[0]-l[0],m[1]=o[1]-l[1],m[2]=o[2]-l[2],g[0]=m[0],g[1]=m[1]*Math.cos(d)-m[2]*Math.sin(d),g[2]=m[1]*Math.sin(d)+m[2]*Math.cos(d),c[0]=g[0]+l[0],c[1]=g[1]+l[1],c[2]=g[2]+l[2],c},n.bI=function(c,o,l,d){var m=[],g=[];return m[0]=o[0]-l[0],m[1]=o[1]-l[1],m[2]=o[2]-l[2],g[0]=m[2]*Math.sin(d)+m[0]*Math.cos(d),g[1]=m[1],g[2]=m[2]*Math.cos(d)-m[0]*Math.sin(d),c[0]=g[0]+l[0],c[1]=g[1]+l[1],c[2]=g[2]+l[2],c},n.bJ=function(c,o,l){var d=Math.sin(l),m=Math.cos(l),g=o[0],_=o[1],x=o[2],I=o[3],E=o[8],F=o[9],V=o[10],N=o[11];return o!==c&&(c[4]=o[4],c[5]=o[5],c[6]=o[6],c[7]=o[7],c[12]=o[12],c[13]=o[13],c[14]=o[14],c[15]=o[15]),c[0]=g*m-E*d,c[1]=_*m-F*d,c[2]=x*m-V*d,c[3]=I*m-N*d,c[8]=g*d+E*m,c[9]=_*d+F*m,c[10]=x*d+V*m,c[11]=I*d+N*m,c},n.bK=function(c,o){let l=Tn(c,360),d=Tn(o,360),m=d-l,g=d>l?m-360:m+360;return Math.abs(m)<Math.abs(g)?m:g},n.bL=function(c){return c[0]=0,c[1]=0,c[2]=0,c},n.bM=function(c,o,l,d){let m=Math.sqrt(c*c+o*o),g=Math.sqrt(l*l+d*d);c/=m,o/=m,l/=g,d/=g;let _=Math.acos(c*l+o*d);return-o*l+c*d>0?_:-_},n.bN=function(c,o){let l=Tn(c,2*Math.PI),d=Tn(o,2*Math.PI);return Math.min(Math.abs(l-d),Math.abs(l-d+2*Math.PI),Math.abs(l-d-2*Math.PI))},n.bO=function(){let c={},o=He.$version;for(let l in He.$root){let d=He.$root[l];if(d.required){let m=null;m=l==="version"?o:d.type==="array"?[]:{},m!=null&&(c[l]=m)}}return c},n.bP=Ke,n.bQ=gh,n.bR=function c(o,l){if(Array.isArray(o)){if(!Array.isArray(l)||o.length!==l.length)return!1;for(let d=0;d<o.length;d++)if(!c(o[d],l[d]))return!1;return!0}if(typeof o=="object"&&o!==null&&l!==null){if(typeof l!="object"||Object.keys(o).length!==Object.keys(l).length)return!1;for(let d in o)if(!c(o[d],l[d]))return!1;return!0}return o===l},n.bS=function(c){c=c.slice();let o=Object.create(null);for(let l=0;l<c.length;l++)o[c[l].id]=c[l];for(let l=0;l<c.length;l++)"ref"in c[l]&&(c[l]=Ra(c[l],o[c[l].ref]));return c},n.bT=function(c,o){if(c.type==="custom")return new CS(c,o);switch(c.type){case"background":return new TS(c,o);case"circle":return new lC(c,o);case"color-relief":return new mC(c,o);case"fill":return new EC(c,o);case"fill-extrusion":return new qC(c,o);case"heatmap":return new uC(c,o);case"hillshade":return new pC(c,o);case"line":return new WC(c,o);case"raster":return new z_(c,o);case"symbol":return new G0(c,o)}},n.bU=c=>c.type==="raster",n.bV=cr,n.bW=function(c,o){if(!c)return[{command:"setStyle",args:[o]}];let l=[];try{if(!gi(c.version,o.version))return[{command:"setStyle",args:[o]}];gi(c.center,o.center)||l.push({command:"setCenter",args:[o.center]}),gi(c.state,o.state)||l.push({command:"setGlobalState",args:[o.state]}),gi(c.centerAltitude,o.centerAltitude)||l.push({command:"setCenterAltitude",args:[o.centerAltitude]}),gi(c.zoom,o.zoom)||l.push({command:"setZoom",args:[o.zoom]}),gi(c.bearing,o.bearing)||l.push({command:"setBearing",args:[o.bearing]}),gi(c.pitch,o.pitch)||l.push({command:"setPitch",args:[o.pitch]}),gi(c.roll,o.roll)||l.push({command:"setRoll",args:[o.roll]}),gi(c.sprite,o.sprite)||l.push({command:"setSprite",args:[o.sprite]}),gi(c.glyphs,o.glyphs)||l.push({command:"setGlyphs",args:[o.glyphs]}),gi(c.transition,o.transition)||l.push({command:"setTransition",args:[o.transition]}),gi(c.light,o.light)||l.push({command:"setLight",args:[o.light]}),gi(c.terrain,o.terrain)||l.push({command:"setTerrain",args:[o.terrain]}),gi(c.sky,o.sky)||l.push({command:"setSky",args:[o.sky]}),gi(c.projection,o.projection)||l.push({command:"setProjection",args:[o.projection]});let d={},m=[];(function(_,x,I,E){let F;for(F in x=x||{},_=_||{})Object.prototype.hasOwnProperty.call(_,F)&&(Object.prototype.hasOwnProperty.call(x,F)||Cn(F,I,E));for(F in x)Object.prototype.hasOwnProperty.call(x,F)&&(Object.prototype.hasOwnProperty.call(_,F)?gi(_[F],x[F])||(_[F].type==="geojson"&&x[F].type==="geojson"&&mn(_,x,F)?on(I,{command:"setGeoJSONSourceData",args:[F,x[F].data]}):Gn(F,x,I,E)):Na(F,x,I))})(c.sources,o.sources,m,d);let g=[];c.layers&&c.layers.forEach(_=>{"source"in _&&d[_.source]?l.push({command:"removeLayer",args:[_.id]}):g.push(_)}),l=l.concat(m),function(_,x,I){x=x||[];let E=(_=_||[]).map(Pc),F=x.map(Pc),V=_.reduce(Dc,{}),N=x.reduce(Dc,{}),q=E.slice(),G=Object.create(null),U,Q,ae,ge,se;for(let pe=0,ye=0;pe<E.length;pe++)U=E[pe],Object.prototype.hasOwnProperty.call(N,U)?ye++:(on(I,{command:"removeLayer",args:[U]}),q.splice(q.indexOf(U,ye),1));for(let pe=0,ye=0;pe<F.length;pe++)U=F[F.length-1-pe],q[q.length-1-pe]!==U&&(Object.prototype.hasOwnProperty.call(V,U)?(on(I,{command:"removeLayer",args:[U]}),q.splice(q.lastIndexOf(U,q.length-ye),1)):ye++,ge=q[q.length-pe],on(I,{command:"addLayer",args:[N[U],ge]}),q.splice(q.length-pe,0,U),G[U]=!0);for(let pe=0;pe<F.length;pe++)if(U=F[pe],Q=V[U],ae=N[U],!G[U]&&!gi(Q,ae))if(gi(Q.source,ae.source)&&gi(Q["source-layer"],ae["source-layer"])&&gi(Q.type,ae.type)){for(se in ma(Q.layout,ae.layout,I,U,null,"setLayoutProperty"),ma(Q.paint,ae.paint,I,U,null,"setPaintProperty"),gi(Q.filter,ae.filter)||on(I,{command:"setFilter",args:[U,ae.filter]}),gi(Q.minzoom,ae.minzoom)&&gi(Q.maxzoom,ae.maxzoom)||on(I,{command:"setLayerZoomRange",args:[U,ae.minzoom,ae.maxzoom]}),Q)Object.prototype.hasOwnProperty.call(Q,se)&&se!=="layout"&&se!=="paint"&&se!=="filter"&&se!=="metadata"&&se!=="minzoom"&&se!=="maxzoom"&&(se.indexOf("paint.")===0?ma(Q[se],ae[se],I,U,se.slice(6),"setPaintProperty"):gi(Q[se],ae[se])||on(I,{command:"setLayerProperty",args:[U,se,ae[se]]}));for(se in ae)Object.prototype.hasOwnProperty.call(ae,se)&&!Object.prototype.hasOwnProperty.call(Q,se)&&se!=="layout"&&se!=="paint"&&se!=="filter"&&se!=="metadata"&&se!=="minzoom"&&se!=="maxzoom"&&(se.indexOf("paint.")===0?ma(Q[se],ae[se],I,U,se.slice(6),"setPaintProperty"):gi(Q[se],ae[se])||on(I,{command:"setLayerProperty",args:[U,se,ae[se]]}))}else on(I,{command:"removeLayer",args:[U]}),ge=q[q.lastIndexOf(U)+1],on(I,{command:"addLayer",args:[ae,ge]})}(g,o.layers,l)}catch(d){console.warn("Unable to compute style diff:",d),l=[{command:"setStyle",args:[o]}]}return l},n.bX=function(c){let o=[],l=c.id;return l===void 0&&o.push({message:`layers.${l}: missing required property "id"`}),c.render===void 0&&o.push({message:`layers.${l}: missing required method "render"`}),c.renderingMode&&c.renderingMode!=="2d"&&c.renderingMode!=="3d"&&o.push({message:`layers.${l}: property "renderingMode" must be either "2d" or "3d"`}),o},n.bY=lr,n.bZ=kc,n.b_=class extends To{constructor(c,o){super(c,o),this.current=0}set(c){this.current!==c&&(this.current=c,this.gl.uniform1i(this.location,c))}},n.ba=function(c,o,l){return c[0]=o[0]*l,c[1]=o[1]*l,c[2]=o[2]*l,c[3]=o[3]*l,c},n.bb=function(c,o){return c[0]*o[0]+c[1]*o[1]+c[2]*o[2]+c[3]},n.bc=Jv,n.bd=qd,n.be=function(c,o,l,d,m){var g=1/Math.tan(o/2);if(c[0]=g/l,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=g,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=-1,c[12]=0,c[13]=0,c[15]=0,m!=null&&m!==1/0){var _=1/(d-m);c[10]=(m+d)*_,c[14]=2*m*d*_}else c[10]=-1,c[14]=-2*d;return c},n.bf=function(c){var o=new je(16);return o[0]=c[0],o[1]=c[1],o[2]=c[2],o[3]=c[3],o[4]=c[4],o[5]=c[5],o[6]=c[6],o[7]=c[7],o[8]=c[8],o[9]=c[9],o[10]=c[10],o[11]=c[11],o[12]=c[12],o[13]=c[13],o[14]=c[14],o[15]=c[15],o},n.bg=function(c,o,l){var d=Math.sin(l),m=Math.cos(l),g=o[0],_=o[1],x=o[2],I=o[3],E=o[4],F=o[5],V=o[6],N=o[7];return o!==c&&(c[8]=o[8],c[9]=o[9],c[10]=o[10],c[11]=o[11],c[12]=o[12],c[13]=o[13],c[14]=o[14],c[15]=o[15]),c[0]=g*m+E*d,c[1]=_*m+F*d,c[2]=x*m+V*d,c[3]=I*m+N*d,c[4]=E*m-g*d,c[5]=F*m-_*d,c[6]=V*m-x*d,c[7]=N*m-I*d,c},n.bh=function(c,o,l){var d=Math.sin(l),m=Math.cos(l),g=o[4],_=o[5],x=o[6],I=o[7],E=o[8],F=o[9],V=o[10],N=o[11];return o!==c&&(c[0]=o[0],c[1]=o[1],c[2]=o[2],c[3]=o[3],c[12]=o[12],c[13]=o[13],c[14]=o[14],c[15]=o[15]),c[4]=g*m+E*d,c[5]=_*m+F*d,c[6]=x*m+V*d,c[7]=I*m+N*d,c[8]=E*m-g*d,c[9]=F*m-_*d,c[10]=V*m-x*d,c[11]=N*m-I*d,c},n.bi=function(){let c=new Float32Array(16);return _t(c),c},n.bj=function(){let c=new Float64Array(16);return _t(c),c},n.bk=function(){return new Float64Array(16)},n.bl=function(c,o,l){let d=new Float64Array(4);return ka(d,c,o-90,l),d},n.bm=function(c,o,l,d){var m,g,_,x,I,E=o[0],F=o[1],V=o[2],N=o[3],q=l[0],G=l[1],U=l[2],Q=l[3];return(g=E*q+F*G+V*U+N*Q)<0&&(g=-g,q=-q,G=-G,U=-U,Q=-Q),1-g>ke?(m=Math.acos(g),_=Math.sin(m),x=Math.sin((1-d)*m)/_,I=Math.sin(d*m)/_):(x=1-d,I=d),c[0]=x*E+I*q,c[1]=x*F+I*G,c[2]=x*V+I*U,c[3]=x*N+I*Q,c},n.bn=function(c){let o=new Float64Array(9);(function(g,_){var x=_[0],I=_[1],E=_[2],F=_[3],V=x+x,N=I+I,q=E+E,G=x*V,U=I*V,Q=I*N,ae=E*V,ge=E*N,se=E*q,pe=F*V,ye=F*N,Te=F*q;g[0]=1-Q-se,g[3]=U-Te,g[6]=ae+ye,g[1]=U+Te,g[4]=1-G-se,g[7]=ge-pe,g[2]=ae-ye,g[5]=ge+pe,g[8]=1-G-Q})(o,c);let l=xo(-Math.asin(xa(o[2],-1,1))),d,m;return Math.hypot(o[5],o[8])<.001?(d=0,m=-xo(Math.atan2(o[3],o[4]))):(d=xo(o[5]===0&&o[8]===0?0:Math.atan2(o[5],o[8])),m=xo(o[1]===0&&o[0]===0?0:Math.atan2(o[1],o[0]))),{roll:d,pitch:l+90,bearing:m}},n.bo=function(c,o){return c.roll==o.roll&&c.pitch==o.pitch&&c.bearing==o.bearing},n.bp=Ti,n.bq=Js,n.br=zd,n.bs=zh,n.bt=Vd,n.bu=Fo,n.bv=kr,n.bw=uo,n.bx=function(c,o,l,d,m){return Fo(d,m,xa((c-o)/(l-o),0,1))},n.by=Tn,n.bz=function(){return new Float64Array(3)},n.c=De,n.c$=function(c,o,l,d,m){return a(this,void 0,void 0,function*(){if(Me())try{return yield gl(c,o,l,d,m)}catch{}return function(g,_,x,I,E){let F=g.width,V=g.height;os&&ur||(os=new OffscreenCanvas(F,V),ur=os.getContext("2d",{willReadFrequently:!0})),os.width=F,os.height=V,ur.drawImage(g,0,0,F,V);let N=ur.getImageData(_,x,I,E);return ur.clearRect(0,0,F,V),N.data}(c,o,l,d,m)})},n.c0=class extends To{constructor(c,o){super(c,o),this.current=Xo}set(c){if(c[12]!==this.current[12]||c[0]!==this.current[0])return this.current=c,void this.gl.uniformMatrix4fv(this.location,!1,c);for(let o=1;o<16;o++)if(c[o]!==this.current[o]){this.current=c,this.gl.uniformMatrix4fv(this.location,!1,c);break}}},n.c1=_u,n.c2=class extends To{constructor(c,o){super(c,o),this.current=[0,0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]||(this.current=c,this.gl.uniform3f(this.location,c[0],c[1],c[2]))}},n.c3=class extends To{constructor(c,o){super(c,o),this.current=[0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]||(this.current=c,this.gl.uniform2f(this.location,c[0],c[1]))}},n.c4=Ye,n.c5=function(c,o){var l=Math.sin(o),d=Math.cos(o);return c[0]=d,c[1]=l,c[2]=0,c[3]=-l,c[4]=d,c[5]=0,c[6]=0,c[7]=0,c[8]=1,c},n.c6=function(c,o,l){var d=o[0],m=o[1],g=o[2];return c[0]=d*l[0]+m*l[3]+g*l[6],c[1]=d*l[1]+m*l[4]+g*l[7],c[2]=d*l[2]+m*l[5]+g*l[8],c},n.c7=function(c,o,l,d,m,g,_){var x=1/(o-l),I=1/(d-m),E=1/(g-_);return c[0]=-2*x,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*I,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*E,c[11]=0,c[12]=(o+l)*x,c[13]=(m+d)*I,c[14]=(_+g)*E,c[15]=1,c},n.c8=class extends To{constructor(c,o){super(c,o),this.current=new Array}set(c){if(c!=this.current){this.current=c;let o=new Float32Array(4*c.length);for(let l=0;l<c.length;l++)o[4*l]=c[l].r,o[4*l+1]=c[l].g,o[4*l+2]=c[l].b,o[4*l+3]=c[l].a;this.gl.uniform4fv(this.location,o)}}},n.c9=class extends To{constructor(c,o){super(c,o),this.current=new Array}set(c){if(c!=this.current){this.current=c;let o=new Float32Array(c);this.gl.uniform1fv(this.location,o)}}},n.cA=function(c,o){return ze[o]&&"touches"in c},n.cB=function(c){return ze[c]||ee[c]},n.cC=function(c,o,l){var d=o[0],m=o[1];return c[0]=l[0]*d+l[4]*m+l[12],c[1]=l[1]*d+l[5]*m+l[13],c},n.cD=function(c,o){let{x:l,y:d}=Hh.fromLngLat(o);return!(c<0||c>25||d<0||d>=1||l<0||l>=1)},n.cE=function(c,o){return c[0]=o[0],c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=o[1],c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=o[2],c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c},n.cF=class extends Cd{},n.cG=d6,n.cI=Le,n.cJ=function(c,o){De.REGISTERED_PROTOCOLS[c]=o},n.cK=function(c){delete De.REGISTERED_PROTOCOLS[c]},n.cL=function(c,o){let l={};for(let m=0;m<c.length;m++){let g=o&&o[c[m].id]||u0(c[m]);o&&(o[c[m].id]=g);let _=l[g];_||(_=l[g]=[]),_.push(c[m])}let d=[];for(let m in l)d.push(l[m]);return d},n.cM=Nt,n.cN=t2,n.cO=A2,n.cP=Vv,n.cQ=function(c){c.bucket.createArrays(),c.bucket.tilePixelRatio=di/(512*c.bucket.overscaling),c.bucket.compareText={},c.bucket.iconsNeedLinear=!1;let o=c.bucket.layers[0],l=o.layout,d=o._unevaluatedLayout._values,m={layoutIconSize:d["icon-size"].possiblyEvaluate(new un(c.bucket.zoom+1),c.canonical),layoutTextSize:d["text-size"].possiblyEvaluate(new un(c.bucket.zoom+1),c.canonical),textMaxSize:d["text-size"].possiblyEvaluate(new un(18))};if(c.bucket.textSizeData.kind==="composite"){let{minZoom:E,maxZoom:F}=c.bucket.textSizeData;m.compositeTextSizes=[d["text-size"].possiblyEvaluate(new un(E),c.canonical),d["text-size"].possiblyEvaluate(new un(F),c.canonical)]}if(c.bucket.iconSizeData.kind==="composite"){let{minZoom:E,maxZoom:F}=c.bucket.iconSizeData;m.compositeIconSizes=[d["icon-size"].possiblyEvaluate(new un(E),c.canonical),d["icon-size"].possiblyEvaluate(new un(F),c.canonical)]}let g=l.get("text-line-height")*Aa,_=l.get("text-rotation-alignment")!=="viewport"&&l.get("symbol-placement")!=="point",x=l.get("text-keep-upright"),I=l.get("text-size");for(let E of c.bucket.features){let F=l.get("text-font").evaluate(E,{},c.canonical).join(","),V=I.evaluate(E,{},c.canonical),N=m.layoutTextSize.evaluate(E,{},c.canonical),q=m.layoutIconSize.evaluate(E,{},c.canonical),G={horizontal:{},vertical:void 0},U=E.text,Q,ae=[0,0];if(U){let pe=U.toString(),ye=l.get("text-letter-spacing").evaluate(E,{},c.canonical)*Aa,Te=O_(pe)?ye:0,Ve=l.get("text-anchor").evaluate(E,{},c.canonical),at=$2(o,E,c.canonical);if(!at){let ht=l.get("text-radial-offset").evaluate(E,{},c.canonical);ae=ht?U2(Ve,[ht*Aa,M1]):l.get("text-offset").evaluate(E,{},c.canonical).map(tt=>tt*Aa)}let et=_?"center":l.get("text-justify").evaluate(E,{},c.canonical),ut=l.get("symbol-placement")==="point"?l.get("text-max-width").evaluate(E,{},c.canonical)*Aa:1/0,Ct=()=>{c.bucket.allowVerticalPlacement&&Hl(pe)&&(G.vertical=j0(U,c.glyphMap,c.glyphPositions,c.imagePositions,F,ut,g,Ve,"left",Te,ae,n.az.vertical,!0,N,V))};if(!_&&at){let ht=new Set;if(et==="auto")for(let $e=0;$e<at.values.length;$e+=2)ht.add(k1(at.values[$e]));else ht.add(et);let tt=!1;for(let $e of ht)if(!G.horizontal[$e])if(tt)G.horizontal[$e]=G.horizontal[0];else{let Bt=j0(U,c.glyphMap,c.glyphPositions,c.imagePositions,F,ut,g,"center",$e,Te,ae,n.az.horizontal,!1,N,V);Bt&&(G.horizontal[$e]=Bt,tt=Bt.positionedLines.length===1)}Ct()}else{et==="auto"&&(et=k1(Ve));let ht=j0(U,c.glyphMap,c.glyphPositions,c.imagePositions,F,ut,g,Ve,et,Te,ae,n.az.horizontal,!1,N,V);ht&&(G.horizontal[et]=ht),Ct(),Hl(pe)&&_&&x&&(G.vertical=j0(U,c.glyphMap,c.glyphPositions,c.imagePositions,F,ut,g,Ve,et,Te,ae,n.az.vertical,!1,N,V))}}let ge=!1;if(E.icon&&E.icon.name){let pe=c.imageMap[E.icon.name];pe&&(Q=vS(c.imagePositions[E.icon.name],l.get("icon-offset").evaluate(E,{},c.canonical),l.get("icon-anchor").evaluate(E,{},c.canonical)),ge=!!pe.sdf,c.bucket.sdfIcons===void 0?c.bucket.sdfIcons=ge:c.bucket.sdfIcons!==ge&&Pa("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(pe.pixelRatio!==c.bucket.pixelRatio||l.get("icon-rotate").constantOr(1)!==0)&&(c.bucket.iconsNeedLinear=!0))}let se=W2(G.horizontal)||G.vertical;c.bucket.iconsInText=!!se&&se.iconsInText,(se||Q)&&c6(c.bucket,E,G,Q,c.imageMap,m,N,q,ae,ge,c.canonical,c.subdivisionGranularity)}c.showCollisionBoxes&&c.bucket.generateCollisionDebugBuffers()},n.cR=Z_,n.cS=Y_,n.cT=J_,n.cU=function(c){let o=new q0;return function(l,d){for(let m in l.layers)d.writeMessage(3,QS,l.layers[m])}(c,o),o.finish()},n.cV=function(c,o,l,d,m,g){let _=V2(c,o,l,m,0);return _=V2(_,o,d,g,1),_},n.cW=class{constructor(c){this.maxEntries=c,this.map=new Map}get(c){let o=this.map.get(c);return o!==void 0&&(this.map.delete(c),this.map.set(c,o)),o}set(c,o){if(this.map.has(c))this.map.delete(c);else if(this.map.size>=this.maxEntries){let l=this.map.keys().next().value;this.map.delete(l)}this.map.set(c,o)}clear(){this.map.clear()}},n.cX=bv,n.cY=q0,n.cZ=D2,n.c_=class{constructor(c){this._marks={start:[c.url,"start"].join("#"),end:[c.url,"end"].join("#"),measure:c.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let c=performance.getEntriesByName(this._marks.measure);return c.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),c=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),c}},n.ca=class extends Xs{},n.cb=YC,n.cc=class extends gu{},n.cd=U_,n.ce=function(c){return c<=1?1:Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))},n.cf=nv,n.cg=function(c,o,l){var d=o[0],m=o[1],g=o[2],_=l[3]*d+l[7]*m+l[11]*g+l[15];return c[0]=(l[0]*d+l[4]*m+l[8]*g+l[12])/(_=_||1),c[1]=(l[1]*d+l[5]*m+l[9]*g+l[13])/_,c[2]=(l[2]*d+l[6]*m+l[10]*g+l[14])/_,c},n.ch=class extends Ih{},n.ci=class extends r{},n.cj=function(c,o){return c[0]===o[0]&&c[1]===o[1]&&c[2]===o[2]&&c[3]===o[3]&&c[4]===o[4]&&c[5]===o[5]&&c[6]===o[6]&&c[7]===o[7]&&c[8]===o[8]&&c[9]===o[9]&&c[10]===o[10]&&c[11]===o[11]&&c[12]===o[12]&&c[13]===o[13]&&c[14]===o[14]&&c[15]===o[15]},n.ck=function(c,o){var l=c[0],d=c[1],m=c[2],g=c[3],_=c[4],x=c[5],I=c[6],E=c[7],F=c[8],V=c[9],N=c[10],q=c[11],G=c[12],U=c[13],Q=c[14],ae=c[15],ge=o[0],se=o[1],pe=o[2],ye=o[3],Te=o[4],Ve=o[5],at=o[6],et=o[7],ut=o[8],Ct=o[9],ht=o[10],tt=o[11],$e=o[12],Bt=o[13],Lt=o[14],qt=o[15];return Math.abs(l-ge)<=ke*Math.max(1,Math.abs(l),Math.abs(ge))&&Math.abs(d-se)<=ke*Math.max(1,Math.abs(d),Math.abs(se))&&Math.abs(m-pe)<=ke*Math.max(1,Math.abs(m),Math.abs(pe))&&Math.abs(g-ye)<=ke*Math.max(1,Math.abs(g),Math.abs(ye))&&Math.abs(_-Te)<=ke*Math.max(1,Math.abs(_),Math.abs(Te))&&Math.abs(x-Ve)<=ke*Math.max(1,Math.abs(x),Math.abs(Ve))&&Math.abs(I-at)<=ke*Math.max(1,Math.abs(I),Math.abs(at))&&Math.abs(E-et)<=ke*Math.max(1,Math.abs(E),Math.abs(et))&&Math.abs(F-ut)<=ke*Math.max(1,Math.abs(F),Math.abs(ut))&&Math.abs(V-Ct)<=ke*Math.max(1,Math.abs(V),Math.abs(Ct))&&Math.abs(N-ht)<=ke*Math.max(1,Math.abs(N),Math.abs(ht))&&Math.abs(q-tt)<=ke*Math.max(1,Math.abs(q),Math.abs(tt))&&Math.abs(G-$e)<=ke*Math.max(1,Math.abs(G),Math.abs($e))&&Math.abs(U-Bt)<=ke*Math.max(1,Math.abs(U),Math.abs(Bt))&&Math.abs(Q-Lt)<=ke*Math.max(1,Math.abs(Q),Math.abs(Lt))&&Math.abs(ae-qt)<=ke*Math.max(1,Math.abs(ae),Math.abs(qt))},n.cl=function(c,o){return c[0]=o[0],c[1]=o[1],c[2]=o[2],c[3]=o[3],c[4]=o[4],c[5]=o[5],c[6]=o[6],c[7]=o[7],c[8]=o[8],c[9]=o[9],c[10]=o[10],c[11]=o[11],c[12]=o[12],c[13]=o[13],c[14]=o[14],c[15]=o[15],c},n.cm=c=>c.type==="symbol",n.cn=c=>c.type==="circle",n.co=c=>c.type==="heatmap",n.cp=c=>c.type==="line",n.cq=c=>c.type==="fill",n.cr=c=>c.type==="fill-extrusion",n.cs=c=>c.type==="hillshade",n.ct=c=>c.type==="color-relief",n.cu=c=>c.type==="background",n.cv=c=>c.type==="custom",n.cw=vo,n.cx=function(c,o,l){let d=Yi(o.x-l.x,o.y-l.y),m=Yi(c.x-l.x,c.y-l.y),g=Math.atan2(d[0]*m[1]-d[1]*m[0],function(_,x){return _[0]*x[0]+_[1]*x[1]}(d,m));return xo(g)},n.cy=ea,n.cz=function(c,o){return ee[o]&&(c instanceof MouseEvent||c instanceof WheelEvent)},n.d=ct,n.d0=rv,n.d1=y,n.d2=class{constructor(c,o){this.layers={[$h]:this},this.name=$h,this.version=o?o.version:1,this.extent=o?o.extent:4096,this.length=c.length,this.features=c}feature(c){return new WS(this.features[c],this.extent)}},n.d3=Qc,n.d4=ms,n.e=jn,n.f=c=>a(void 0,void 0,void 0,function*(){if(c.byteLength===0)return createImageBitmap(new ImageData(1,1));let o=new Blob([new Uint8Array(c)],{type:"image/png"});try{return createImageBitmap(o)}catch(l){throw new Error(`Could not load image because of ${l.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),n.g=Ne,n.h=c=>new Promise((o,l)=>{let d=new Image;d.onload=()=>{o(d),URL.revokeObjectURL(d.src),d.onload=null,window.requestAnimationFrame(()=>{d.src=Os})},d.onerror=()=>l(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));let m=new Blob([new Uint8Array(c)],{type:"image/png"});d.src=c.byteLength?URL.createObjectURL(m):Os}),n.i=Er,n.j=(c,o)=>ft(jn(c,{type:"json"}),o),n.k=cn,n.l=fi,n.m=ft,n.n=(c,o)=>ft(jn(c,{type:"arrayBuffer"}),o),n.o=function(c){return new q0(c).readFields(pS,[])},n.p=Ov,n.q=function(c){return/[\u02EA\u02EB\u1100-\u11FF\u2E80-\u2FDF\u3000-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE4F\uFF00-\uFFEF]|\uD81B[\uDFE0-\uDFFF]|[\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFFF]|\uD82C[\uDC00-\uDEFB]|\uD83C[\uDE00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(c))},n.r=Lh,n.s=_l,n.t=ho,n.u=He,n.v=nu,n.w=Pa,n.x=xh,n.y=au,n.z=lu}),e("worker",["./shared"],function(n){"use strict";class a{constructor(ee,J){this.keyCache={},ee&&this.replace(ee,J)}replace(ee,J){this._layerConfigs={},this._layers={},this.update(ee,[],J)}update(ee,J,de){for(let De of ee){this._layerConfigs[De.id]=De;let Ne=this._layers[De.id]=n.bT(De,de);Ne._featureFilter=n.aj(Ne.filter,de),this.keyCache[De.id]&&delete this.keyCache[De.id]}for(let De of J)delete this.keyCache[De],delete this._layerConfigs[De],delete this._layers[De];this.familiesBySource={};let Ee=n.cL(Object.values(this._layerConfigs),this.keyCache);for(let De of Ee){let Ne=De.map(zt=>this._layers[zt.id]),Oe=Ne[0];if(Oe.isHidden())continue;let Le=Oe.source||"",Ke=this.familiesBySource[Le];Ke||(Ke=this.familiesBySource[Le]={});let ft=Oe.sourceLayer||n.ai,ct=Ke[ft];ct||(ct=Ke[ft]=[]),ct.push(Ne)}}}class p{constructor(ee){let J={},de=[];for(let Oe in ee){let Le=ee[Oe],Ke=J[Oe]={};for(let ft in Le){let ct=Le[+ft];if(!ct||ct.bitmap.width===0||ct.bitmap.height===0)continue;let zt={x:0,y:0,w:ct.bitmap.width+2,h:ct.bitmap.height+2};de.push(zt),Ke[ft]={rect:zt,metrics:ct.metrics}}}let{w:Ee,h:De}=n.p(de),Ne=new n.r({width:Ee||1,height:De||1});for(let Oe in ee){let Le=ee[Oe];for(let Ke in Le){let ft=Le[+Ke];if(!ft||ft.bitmap.width===0||ft.bitmap.height===0)continue;let ct=J[Oe][Ke].rect;n.r.copy(ft.bitmap,Ne,{x:0,y:0},{x:ct.x+1,y:ct.y+1},ft.bitmap)}}this.image=Ne,this.positions=J}}n.cM("GlyphAtlas",p);class y{constructor(ee){this.tileID=new n.a2(ee.tileID.overscaledZ,ee.tileID.wrap,ee.tileID.canonical.z,ee.tileID.canonical.x,ee.tileID.canonical.y),this.uid=ee.uid,this.zoom=ee.zoom,this.pixelRatio=ee.pixelRatio,this.tileSize=ee.tileSize,this.source=ee.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ee.showCollisionBoxes,this.collectResourceTiming=!!ee.collectResourceTiming,this.returnDependencies=!!ee.returnDependencies,this.promoteId=ee.promoteId,this.inFlightDependencies=[]}parse(ee,J,de,Ee,De){return n._(this,void 0,void 0,function*(){this.status="parsing",this.data=ee,this.collisionBoxArray=new n.ag;let Ne=new n.cN(Object.keys(ee.layers).sort()),Oe=new n.cO(this.tileID,this.promoteId);Oe.bucketLayerIDs=[];let Le={},Ke={featureIndex:Oe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},dashDependencies:{},availableImages:de,subdivisionGranularity:De},ft=J.familiesBySource[this.source];for(let mn in ft){let ma=ee.layers[mn];if(!ma)continue;ma.version===1&&n.w(`Vector tile source "${this.source}" layer "${mn}" does not use vector tile spec v2 and therefore may have some rendering errors.`);let Pc=Ne.encode(mn),Dc=[];for(let vt=0;vt<ma.length;vt++){let ro=ma.feature(vt),so=Oe.getId(ro,mn);Dc.push({feature:ro,id:so,index:vt,sourceLayerIndex:Pc})}for(let vt of ft[mn]){let ro=vt[0];ro.source!==this.source&&n.w(`layer.source = ${ro.source} does not equal this.source = ${this.source}`),ro.isHidden(this.zoom,!0)||(C(vt,this.zoom,de),(Le[ro.id]=ro.createBucket({index:Oe.bucketLayerIDs.length,layers:vt,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Pc,sourceID:this.source})).populate(Dc,Ke,this.tileID.canonical),Oe.bucketLayerIDs.push(vt.map(so=>so.id)))}}let ct=n.bY(Ke.glyphDependencies,mn=>Object.keys(mn).map(Number));this.inFlightDependencies.forEach(mn=>mn?.abort()),this.inFlightDependencies=[];let zt=Promise.resolve({});if(Object.keys(ct).length){let mn=new AbortController;this.inFlightDependencies.push(mn),zt=Ee.sendAsync({type:"GG",data:{stacks:ct,source:this.source,tileID:this.tileID,type:"glyphs"}},mn)}let Qt=Object.keys(Ke.iconDependencies),fi=Promise.resolve({});if(Qt.length){let mn=new AbortController;this.inFlightDependencies.push(mn),fi=Ee.sendAsync({type:"GI",data:{icons:Qt,source:this.source,tileID:this.tileID,type:"icons"}},mn)}let cn=Object.keys(Ke.patternDependencies),Wi=Promise.resolve({});if(cn.length){let mn=new AbortController;this.inFlightDependencies.push(mn),Wi=Ee.sendAsync({type:"GI",data:{icons:cn,source:this.source,tileID:this.tileID,type:"patterns"}},mn)}let He=Ke.dashDependencies,hn=Promise.resolve({});if(Object.keys(He).length){let mn=new AbortController;this.inFlightDependencies.push(mn),hn=Ee.sendAsync({type:"GDA",data:{dashes:He}},mn)}let[Ra,gi,on,Na]=yield Promise.all([zt,fi,Wi,hn]),Cn=new p(Ra),Gn=new n.cP(gi,on);for(let mn in Le){let ma=Le[mn];ma instanceof n.ah?(C(ma.layers,this.zoom,de),n.cQ({bucket:ma,glyphMap:Ra,glyphPositions:Cn.positions,imageMap:gi,imagePositions:Gn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:Ke.subdivisionGranularity})):ma.hasDependencies&&(ma instanceof n.cR||ma instanceof n.cS||ma instanceof n.cT)&&(C(ma.layers,this.zoom,de),ma.addFeatures(Ke,this.tileID.canonical,Gn.patternPositions,Na))}return this.status="done",{buckets:Object.values(Le).filter(mn=>!mn.isEmpty()),featureIndex:Oe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Cn.image,imageAtlas:Gn,dashPositions:Na,glyphMap:this.returnDependencies?Ra:null,iconMap:this.returnDependencies?gi:null,glyphPositions:this.returnDependencies?Cn.positions:null}})}}function C(ze,ee,J){let de=new n.H(ee);for(let Ee of ze)Ee.recalculate(de,J)}class A{constructor(ee,J,de,Ee,De){this.type=ee,this.properties=de||{},this.extent=De,this.pointsArray=J,this.id=Ee}loadGeometry(){return this.pointsArray.map(ee=>ee.map(J=>new n.P(J.x,J.y)))}}class R{constructor(ee,J,de){this.version=2,this._myFeatures=ee,this.name=J,this.length=ee.length,this.extent=de}feature(ee){return this._myFeatures[ee]}}class ${constructor(){this.layers={}}addLayer(ee){this.layers[ee.name]=ee}}function Y(ze){let ee=n.cU(ze);return ee.byteOffset===0&&ee.byteLength===ee.buffer.byteLength||(ee=new Uint8Array(ee)),{vectorTile:ze,rawData:ee.buffer}}function re(ze,ee,J){let{extent:de}=ze,Ee=Math.pow(2,J.z-ee.z),De=(J.x-ee.x*Ee)*de,Ne=(J.y-ee.y*Ee)*de,Oe=[];for(let Le=0;Le<ze.length;Le++){let Ke=ze.feature(Le),ft=Ke.loadGeometry();for(let zt of ft)for(let Qt of zt)Qt.x=Qt.x*Ee-De,Qt.y=Qt.y*Ee-Ne;let ct=128;ft=n.cV(ft,Ke.type,-ct,-ct,de+ct,de+ct),ft.length!==0&&Oe.push(new A(Ke.type,ft,Ke.properties,Ke.id,de))}return new R(Oe,ze.name,de)}class te{constructor(ee,J,de){this.actor=ee,this.layerIndex=J,this.availableImages=de,this.fetching={},this.loading={},this.loaded={},this.overzoomedTileResultCache=new n.cW(1e3)}loadVectorTile(ee,J){return n._(this,void 0,void 0,function*(){let de=yield n.n(ee.request,J);try{return{vectorTile:ee.encoding!=="mlt"?new n.cX(new n.cY(de.data)):new n.cZ(de.data),rawData:de.data,cacheControl:de.cacheControl,expires:de.expires}}catch(Ee){let De=new Uint8Array(de.data),Ne=`Unable to parse the tile at ${ee.request.url}, `;throw Ne+=De[0]===31&&De[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Ee.message}`,new Error(Ne)}})}loadTile(ee){return n._(this,void 0,void 0,function*(){let{uid:J,overzoomParameters:de}=ee;de&&(ee.request=de.overzoomRequest);let Ee=!!(ee&&ee.request&&ee.request.collectResourceTiming)&&new n.c_(ee.request),De=new y(ee);this.loading[J]=De;let Ne=new AbortController;De.abort=Ne;try{let Oe=yield this.loadVectorTile(ee,Ne);if(delete this.loading[J],!Oe)return null;if(de){let zt=this._getOverzoomTile(ee,Oe.vectorTile);Oe.rawData=zt.rawData,Oe.vectorTile=zt.vectorTile}let Le=Oe.rawData,Ke={};Oe.expires&&(Ke.expires=Oe.expires),Oe.cacheControl&&(Ke.cacheControl=Oe.cacheControl);let ft={};if(Ee){let zt=Ee.finish();zt&&(ft.resourceTiming=JSON.parse(JSON.stringify(zt)))}De.vectorTile=Oe.vectorTile;let ct=De.parse(Oe.vectorTile,this.layerIndex,this.availableImages,this.actor,ee.subdivisionGranularity);this.loaded[J]=De,this.fetching[J]={rawTileData:Le,cacheControl:Ke,resourceTiming:ft};try{let zt=yield ct;return n.e({rawTileData:Le.slice(0),encoding:ee.encoding},zt,Ke,ft)}finally{delete this.fetching[J]}}catch(Oe){throw delete this.loading[J],De.status="done",this.loaded[J]=De,Oe}})}_getOverzoomTile(ee,J){let{tileID:de,source:Ee,overzoomParameters:De}=ee,{maxZoomTileID:Ne}=De,Oe=`${Ne.key}_${de.key}`,Le=this.overzoomedTileResultCache.get(Oe);if(Le)return Le;let Ke=new $,ft=this.layerIndex.familiesBySource[Ee];for(let zt in ft){let Qt=J.layers[zt];if(!Qt)continue;let fi=re(Qt,Ne,de.canonical);fi.length>0&&Ke.addLayer(fi)}let ct=Y(Ke);return this.overzoomedTileResultCache.set(Oe,ct),ct}reloadTile(ee){return n._(this,void 0,void 0,function*(){let J=ee.uid;if(!this.loaded||!this.loaded[J])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");let de=this.loaded[J];if(de.showCollisionBoxes=ee.showCollisionBoxes,de.status==="parsing"){let Ee=yield de.parse(de.vectorTile,this.layerIndex,this.availableImages,this.actor,ee.subdivisionGranularity),De;if(this.fetching[J]){let{rawTileData:Ne,cacheControl:Oe,resourceTiming:Le}=this.fetching[J];delete this.fetching[J],De=n.e({rawTileData:Ne.slice(0),encoding:ee.encoding},Ee,Oe,Le)}else De=Ee;return De}if(de.status==="done"&&de.vectorTile)return de.parse(de.vectorTile,this.layerIndex,this.availableImages,this.actor,ee.subdivisionGranularity)})}abortTile(ee){return n._(this,void 0,void 0,function*(){let J=this.loading,de=ee.uid;J&&J[de]&&J[de].abort&&(J[de].abort.abort(),delete J[de])})}removeTile(ee){return n._(this,void 0,void 0,function*(){this.loaded&&this.loaded[ee.uid]&&delete this.loaded[ee.uid]})}}class Me{constructor(){this.loaded={}}loadTile(ee){return n._(this,void 0,void 0,function*(){let{uid:J,encoding:de,rawImageData:Ee,redFactor:De,greenFactor:Ne,blueFactor:Oe,baseShift:Le}=ee,Ke=Ee.width+2,ft=Ee.height+2,ct=n.b(Ee)?new n.R({width:Ke,height:ft},yield n.c$(Ee,-1,-1,Ke,ft)):Ee,zt=new n.d0(J,ct,de,De,Ne,Oe,Le);return this.loaded=this.loaded||{},this.loaded[J]=zt,zt})}removeTile(ee){let J=this.loaded,de=ee.uid;J&&J[de]&&delete J[de]}}var ke,je,Ye=function(){if(je)return ke;function ze(J,de){if(J.length!==0){ee(J[0],de);for(var Ee=1;Ee<J.length;Ee++)ee(J[Ee],!de)}}function ee(J,de){for(var Ee=0,De=0,Ne=0,Oe=J.length,Le=Oe-1;Ne<Oe;Le=Ne++){var Ke=(J[Ne][0]-J[Le][0])*(J[Le][1]+J[Ne][1]),ft=Ee+Ke;De+=Math.abs(Ee)>=Math.abs(Ke)?Ee-ft+Ke:Ke-ft+Ee,Ee=ft}Ee+De>=0!=!!de&&J.reverse()}return je=1,ke=function J(de,Ee){var De,Ne=de&&de.type;if(Ne==="FeatureCollection")for(De=0;De<de.features.length;De++)J(de.features[De],Ee);else if(Ne==="GeometryCollection")for(De=0;De<de.geometries.length;De++)J(de.geometries[De],Ee);else if(Ne==="Feature")J(de.geometry,Ee);else if(Ne==="Polygon")ze(de.coordinates,Ee);else if(Ne==="MultiPolygon")for(De=0;De<de.coordinates.length;De++)ze(de.coordinates[De],Ee);return de}}(),_t=n.d1(Ye);let wt={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ze=>ze},st=Math.fround||(yt=new Float32Array(1),ze=>(yt[0]=+ze,yt[0]));var yt;class Rt{constructor(ee){this.options=Object.assign(Object.create(wt),ee),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(ee){let{log:J,minZoom:de,maxZoom:Ee}=this.options;J&&console.time("total time");let De=`prepare ${ee.length} points`;J&&console.time(De),this.points=ee;let Ne=[];for(let Le=0;Le<ee.length;Le++){let Ke=ee[Le];if(!Ke.geometry)continue;let[ft,ct]=Ke.geometry.coordinates,zt=st(mi(ft)),Qt=st(hi(ct));Ne.push(zt,Qt,1/0,Le,-1,1),this.options.reduce&&Ne.push(0)}let Oe=this.trees[Ee+1]=this._createTree(Ne);J&&console.timeEnd(De);for(let Le=Ee;Le>=de;Le--){let Ke=+Date.now();Oe=this.trees[Le]=this._createTree(this._cluster(Oe,Le)),J&&console.log("z%d: %d clusters in %dms",Le,Oe.numItems,+Date.now()-Ke)}return J&&console.timeEnd("total time"),this}getClusters(ee,J){let de=((ee[0]+180)%360+360)%360-180,Ee=Math.max(-90,Math.min(90,ee[1])),De=ee[2]===180?180:((ee[2]+180)%360+360)%360-180,Ne=Math.max(-90,Math.min(90,ee[3]));if(ee[2]-ee[0]>=360)de=-180,De=180;else if(de>De){let ct=this.getClusters([de,Ee,180,Ne],J),zt=this.getClusters([-180,Ee,De,Ne],J);return ct.concat(zt)}let Oe=this.trees[this._limitZoom(J)],Le=Oe.range(mi(de),hi(Ne),mi(De),hi(Ee)),Ke=Oe.data,ft=[];for(let ct of Le){let zt=this.stride*ct;ft.push(Ke[zt+5]>1?Mt(Ke,zt,this.clusterProps):this.points[Ke[zt+3]])}return ft}getChildren(ee){let J=this._getOriginId(ee),de=this._getOriginZoom(ee),Ee="No cluster with the specified id.",De=this.trees[de];if(!De)throw new Error(Ee);let Ne=De.data;if(J*this.stride>=Ne.length)throw new Error(Ee);let Oe=this.options.radius/(this.options.extent*Math.pow(2,de-1)),Le=De.within(Ne[J*this.stride],Ne[J*this.stride+1],Oe),Ke=[];for(let ft of Le){let ct=ft*this.stride;Ne[ct+4]===ee&&Ke.push(Ne[ct+5]>1?Mt(Ne,ct,this.clusterProps):this.points[Ne[ct+3]])}if(Ke.length===0)throw new Error(Ee);return Ke}getLeaves(ee,J,de){let Ee=[];return this._appendLeaves(Ee,ee,J=J||10,de=de||0,0),Ee}getTile(ee,J,de){let Ee=this.trees[this._limitZoom(ee)],De=Math.pow(2,ee),{extent:Ne,radius:Oe}=this.options,Le=Oe/Ne,Ke=(de-Le)/De,ft=(de+1+Le)/De,ct={features:[]};return this._addTileFeatures(Ee.range((J-Le)/De,Ke,(J+1+Le)/De,ft),Ee.data,J,de,De,ct),J===0&&this._addTileFeatures(Ee.range(1-Le/De,Ke,1,ft),Ee.data,De,de,De,ct),J===De-1&&this._addTileFeatures(Ee.range(0,Ke,Le/De,ft),Ee.data,-1,de,De,ct),ct.features.length?ct:null}getClusterExpansionZoom(ee){let J=this._getOriginZoom(ee)-1;for(;J<=this.options.maxZoom;){let de=this.getChildren(ee);if(J++,de.length!==1)break;ee=de[0].properties.cluster_id}return J}_appendLeaves(ee,J,de,Ee,De){let Ne=this.getChildren(J);for(let Oe of Ne){let Le=Oe.properties;if(Le&&Le.cluster?De+Le.point_count<=Ee?De+=Le.point_count:De=this._appendLeaves(ee,Le.cluster_id,de,Ee,De):De<Ee?De++:ee.push(Oe),ee.length===de)break}return De}_createTree(ee){let J=new n.aT(ee.length/this.stride|0,this.options.nodeSize,Float32Array);for(let de=0;de<ee.length;de+=this.stride)J.add(ee[de],ee[de+1]);return J.finish(),J.data=ee,J}_addTileFeatures(ee,J,de,Ee,De,Ne){for(let Oe of ee){let Le=Oe*this.stride,Ke=J[Le+5]>1,ft,ct,zt;if(Ke)ft=Xt(J,Le,this.clusterProps),ct=J[Le],zt=J[Le+1];else{let cn=this.points[J[Le+3]];ft=cn.properties;let[Wi,He]=cn.geometry.coordinates;ct=mi(Wi),zt=hi(He)}let Qt={type:1,geometry:[[Math.round(this.options.extent*(ct*De-de)),Math.round(this.options.extent*(zt*De-Ee))]],tags:ft},fi;fi=Ke||this.options.generateId?J[Le+3]:this.points[J[Le+3]].id,fi!==void 0&&(Qt.id=fi),Ne.features.push(Qt)}}_limitZoom(ee){return Math.max(this.options.minZoom,Math.min(Math.floor(+ee),this.options.maxZoom+1))}_cluster(ee,J){let{radius:de,extent:Ee,reduce:De,minPoints:Ne}=this.options,Oe=de/(Ee*Math.pow(2,J)),Le=ee.data,Ke=[],ft=this.stride;for(let ct=0;ct<Le.length;ct+=ft){if(Le[ct+2]<=J)continue;Le[ct+2]=J;let zt=Le[ct],Qt=Le[ct+1],fi=ee.within(Le[ct],Le[ct+1],Oe),cn=Le[ct+5],Wi=cn;for(let He of fi){let hn=He*ft;Le[hn+2]>J&&(Wi+=Le[hn+5])}if(Wi>cn&&Wi>=Ne){let He,hn=zt*cn,Ra=Qt*cn,gi=-1,on=(ct/ft<<5)+(J+1)+this.points.length;for(let Na of fi){let Cn=Na*ft;if(Le[Cn+2]<=J)continue;Le[Cn+2]=J;let Gn=Le[Cn+5];hn+=Le[Cn]*Gn,Ra+=Le[Cn+1]*Gn,Le[Cn+4]=on,De&&(He||(He=this._map(Le,ct,!0),gi=this.clusterProps.length,this.clusterProps.push(He)),De(He,this._map(Le,Cn)))}Le[ct+4]=on,Ke.push(hn/Wi,Ra/Wi,1/0,on,-1,Wi),De&&Ke.push(gi)}else{for(let He=0;He<ft;He++)Ke.push(Le[ct+He]);if(Wi>1)for(let He of fi){let hn=He*ft;if(!(Le[hn+2]<=J)){Le[hn+2]=J;for(let Ra=0;Ra<ft;Ra++)Ke.push(Le[hn+Ra])}}}}return Ke}_getOriginId(ee){return ee-this.points.length>>5}_getOriginZoom(ee){return(ee-this.points.length)%32}_map(ee,J,de){if(ee[J+5]>1){let Ne=this.clusterProps[ee[J+6]];return de?Object.assign({},Ne):Ne}let Ee=this.points[ee[J+3]].properties,De=this.options.map(Ee);return de&&De===Ee?Object.assign({},De):De}}function Mt(ze,ee,J){return{type:"Feature",id:ze[ee+3],properties:Xt(ze,ee,J),geometry:{type:"Point",coordinates:[(de=ze[ee],360*(de-.5)),Ci(ze[ee+1])]}};var de}function Xt(ze,ee,J){let de=ze[ee+5],Ee=de>=1e4?`${Math.round(de/1e3)}k`:de>=1e3?Math.round(de/100)/10+"k":de,De=ze[ee+6],Ne=De===-1?{}:Object.assign({},J[De]);return Object.assign(Ne,{cluster:!0,cluster_id:ze[ee+3],point_count:de,point_count_abbreviated:Ee})}function mi(ze){return ze/360+.5}function hi(ze){let ee=Math.sin(ze*Math.PI/180),J=.5-.25*Math.log((1+ee)/(1-ee))/Math.PI;return J<0?0:J>1?1:J}function Ci(ze){let ee=(180-360*ze)*Math.PI/180;return 360*Math.atan(Math.exp(ee))/Math.PI-90}function kn(ze,ee,J,de){let Ee=de,De=ee+(J-ee>>1),Ne,Oe=J-ee,Le=ze[ee],Ke=ze[ee+1],ft=ze[J],ct=ze[J+1];for(let zt=ee+3;zt<J;zt+=3){let Qt=ka(ze[zt],ze[zt+1],Le,Ke,ft,ct);if(Qt>Ee)Ne=zt,Ee=Qt;else if(Qt===Ee){let fi=Math.abs(zt-De);fi<Oe&&(Ne=zt,Oe=fi)}}Ee>de&&(Ne-ee>3&&kn(ze,ee,Ne,de),ze[Ne+2]=Ee,J-Ne>3&&kn(ze,Ne,J,de))}function ka(ze,ee,J,de,Ee,De){let Ne=Ee-J,Oe=De-de;if(Ne!==0||Oe!==0){let Le=((ze-J)*Ne+(ee-de)*Oe)/(Ne*Ne+Oe*Oe);Le>1?(J=Ee,de=De):Le>0&&(J+=Ne*Le,de+=Oe*Le)}return Ne=ze-J,Oe=ee-de,Ne*Ne+Oe*Oe}function Si(ze,ee,J,de){let Ee={id:ze??null,type:ee,geometry:J,tags:de,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(ee==="Point"||ee==="MultiPoint"||ee==="LineString")Yi(Ee,J);else if(ee==="Polygon")Yi(Ee,J[0]);else if(ee==="MultiLineString")for(let De of J)Yi(Ee,De);else if(ee==="MultiPolygon")for(let De of J)Yi(Ee,De[0]);return Ee}function Yi(ze,ee){for(let J=0;J<ee.length;J+=3)ze.minX=Math.min(ze.minX,ee[J]),ze.minY=Math.min(ze.minY,ee[J+1]),ze.maxX=Math.max(ze.maxX,ee[J]),ze.maxY=Math.max(ze.maxY,ee[J+1])}function di(ze,ee,J,de){if(!ee.geometry)return;let Ee=ee.geometry.coordinates;if(Ee&&Ee.length===0)return;let De=ee.geometry.type,Ne=Math.pow(J.tolerance/((1<<J.maxZoom)*J.extent),2),Oe=[],Le=ee.id;if(J.promoteId?Le=ee.properties[J.promoteId]:J.generateId&&(Le=de||0),De==="Point")Ea(Ee,Oe);else if(De==="MultiPoint")for(let Ke of Ee)Ea(Ke,Oe);else if(De==="LineString")Tn(Ee,Oe,Ne,!1);else if(De==="MultiLineString"){if(J.lineMetrics){for(let Ke of Ee)Oe=[],Tn(Ke,Oe,Ne,!1),ze.push(Si(Le,"LineString",Oe,ee.properties));return}Fo(Ee,Oe,Ne,!1)}else if(De==="Polygon")Fo(Ee,Oe,Ne,!0);else{if(De!=="MultiPolygon"){if(De==="GeometryCollection"){for(let Ke of ee.geometry.geometries)di(ze,{id:Le,geometry:Ke,properties:ee.properties},J,de);return}throw new Error("Input data is not a valid GeoJSON object.")}for(let Ke of Ee){let ft=[];Fo(Ke,ft,Ne,!0),Oe.push(ft)}}ze.push(Si(Le,De,Oe,ee.properties))}function Ea(ze,ee){ee.push(kr(ze[0]),vo(ze[1]),0)}function Tn(ze,ee,J,de){let Ee,De,Ne=0;for(let Le=0;Le<ze.length;Le++){let Ke=kr(ze[Le][0]),ft=vo(ze[Le][1]);ee.push(Ke,ft,0),Le>0&&(Ne+=de?(Ee*ft-Ke*De)/2:Math.sqrt(Math.pow(Ke-Ee,2)+Math.pow(ft-De,2))),Ee=Ke,De=ft}let Oe=ee.length-3;ee[2]=1,kn(ee,0,Oe,J),ee[Oe+2]=1,ee.size=Math.abs(Ne),ee.start=0,ee.end=ee.size}function Fo(ze,ee,J,de){for(let Ee=0;Ee<ze.length;Ee++){let De=[];Tn(ze[Ee],De,J,de),ee.push(De)}}function kr(ze){return ze/360+.5}function vo(ze){let ee=Math.sin(ze*Math.PI/180),J=.5-.25*Math.log((1+ee)/(1-ee))/Math.PI;return J<0?0:J>1?1:J}function ea(ze,ee,J,de,Ee,De,Ne,Oe){if(de/=ee,De>=(J/=ee)&&Ne<de)return ze;if(Ne<J||De>=de)return null;let Le=[];for(let Ke of ze){let ft=Ke.geometry,ct=Ke.type,zt=Ee===0?Ke.minX:Ke.minY,Qt=Ee===0?Ke.maxX:Ke.maxY;if(zt>=J&&Qt<de){Le.push(Ke);continue}if(Qt<J||zt>=de)continue;let fi=[];if(ct==="Point"||ct==="MultiPoint")xa(ft,fi,J,de,Ee);else if(ct==="LineString")oo(ft,fi,J,de,Ee,!1,Oe.lineMetrics);else if(ct==="MultiLineString")Fs(ft,fi,J,de,Ee,!1);else if(ct==="Polygon")Fs(ft,fi,J,de,Ee,!0);else if(ct==="MultiPolygon")for(let cn of ft){let Wi=[];Fs(cn,Wi,J,de,Ee,!0),Wi.length&&fi.push(Wi)}if(fi.length){if(Oe.lineMetrics&&ct==="LineString"){for(let cn of fi)Le.push(Si(Ke.id,ct,cn,Ke.tags));continue}ct!=="LineString"&&ct!=="MultiLineString"||(fi.length===1?(ct="LineString",fi=fi[0]):ct="MultiLineString"),ct!=="Point"&&ct!=="MultiPoint"||(ct=fi.length===3?"Point":"MultiPoint"),Le.push(Si(Ke.id,ct,fi,Ke.tags))}}return Le.length?Le:null}function xa(ze,ee,J,de,Ee){for(let De=0;De<ze.length;De+=3){let Ne=ze[De+Ee];Ne>=J&&Ne<=de&&lr(ee,ze[De],ze[De+1],ze[De+2])}}function oo(ze,ee,J,de,Ee,De,Ne){let Oe=jn(ze),Le=Ee===0?kc:cr,Ke,ft,ct=ze.start;for(let Wi=0;Wi<ze.length-3;Wi+=3){let He=ze[Wi],hn=ze[Wi+1],Ra=ze[Wi+2],gi=ze[Wi+3],on=ze[Wi+4],Na=Ee===0?He:hn,Cn=Ee===0?gi:on,Gn=!1;Ne&&(Ke=Math.sqrt(Math.pow(He-gi,2)+Math.pow(hn-on,2))),Na<J?Cn>J&&(ft=Le(Oe,He,hn,gi,on,J),Ne&&(Oe.start=ct+Ke*ft)):Na>de?Cn<de&&(ft=Le(Oe,He,hn,gi,on,de),Ne&&(Oe.start=ct+Ke*ft)):lr(Oe,He,hn,Ra),Cn<J&&Na>=J&&(ft=Le(Oe,He,hn,gi,on,J),Gn=!0),Cn>de&&Na<=de&&(ft=Le(Oe,He,hn,gi,on,de),Gn=!0),!De&&Gn&&(Ne&&(Oe.end=ct+Ke*ft),ee.push(Oe),Oe=jn(ze)),Ne&&(ct+=Ke)}let zt=ze.length-3,Qt=ze[zt],fi=ze[zt+1],cn=Ee===0?Qt:fi;cn>=J&&cn<=de&&lr(Oe,Qt,fi,ze[zt+2]),zt=Oe.length-3,De&&zt>=3&&(Oe[zt]!==Oe[0]||Oe[zt+1]!==Oe[1])&&lr(Oe,Oe[0],Oe[1],Oe[2]),Oe.length&&ee.push(Oe)}function jn(ze){let ee=[];return ee.size=ze.size,ee.start=ze.start,ee.end=ze.end,ee}function Fs(ze,ee,J,de,Ee,De){for(let Ne of ze)oo(Ne,ee,J,de,Ee,De,!1)}function lr(ze,ee,J,de){ze.push(ee,J,de)}function kc(ze,ee,J,de,Ee,De){let Ne=(De-ee)/(de-ee);return lr(ze,De,J+(Ee-J)*Ne,1),Ne}function cr(ze,ee,J,de,Ee,De){let Ne=(De-J)/(Ee-J);return lr(ze,ee+(de-ee)*Ne,De,1),Ne}function Ec(ze,ee){let J=[];for(let de=0;de<ze.length;de++){let Ee=ze[de],De=Ee.type,Ne;if(De==="Point"||De==="MultiPoint"||De==="LineString")Ne=Pa(Ee.geometry,ee);else if(De==="MultiLineString"||De==="Polygon"){Ne=[];for(let Oe of Ee.geometry)Ne.push(Pa(Oe,ee))}else if(De==="MultiPolygon"){Ne=[];for(let Oe of Ee.geometry){let Le=[];for(let Ke of Oe)Le.push(Pa(Ke,ee));Ne.push(Le)}}J.push(Si(Ee.id,De,Ne,Ee.tags))}return J}function Pa(ze,ee){let J=[];J.size=ze.size,ze.start!==void 0&&(J.start=ze.start,J.end=ze.end);for(let de=0;de<ze.length;de+=3)J.push(ze[de]+ee,ze[de+1],ze[de+2]);return J}function Uo(ze,ee){if(ze.transformed)return ze;let J=1<<ze.z,de=ze.x,Ee=ze.y;for(let De of ze.features){let Ne=De.geometry,Oe=De.type;if(De.geometry=[],Oe===1)for(let Le=0;Le<Ne.length;Le+=2)De.geometry.push(Er(Ne[Le],Ne[Le+1],ee,J,de,Ee));else for(let Le=0;Le<Ne.length;Le++){let Ke=[];for(let ft=0;ft<Ne[Le].length;ft+=2)Ke.push(Er(Ne[Le][ft],Ne[Le][ft+1],ee,J,de,Ee));De.geometry.push(Ke)}}return ze.transformed=!0,ze}function Er(ze,ee,J,de,Ee,De){return[Math.round(J*(ze*de-Ee)),Math.round(J*(ee*de-De))]}function Hn(ze,ee,J,de,Ee){let De=ee===Ee.maxZoom?0:Ee.tolerance/((1<<ee)*Ee.extent),Ne={features:[],numPoints:0,numSimplified:0,numFeatures:ze.length,source:null,x:J,y:de,z:ee,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(let Oe of ze)as(Ne,Oe,De,Ee);return Ne}function as(ze,ee,J,de){let Ee=ee.geometry,De=ee.type,Ne=[];if(ze.minX=Math.min(ze.minX,ee.minX),ze.minY=Math.min(ze.minY,ee.minY),ze.maxX=Math.max(ze.maxX,ee.maxX),ze.maxY=Math.max(ze.maxY,ee.maxY),De==="Point"||De==="MultiPoint")for(let Oe=0;Oe<Ee.length;Oe+=3)Ne.push(Ee[Oe],Ee[Oe+1]),ze.numPoints++,ze.numSimplified++;else if(De==="LineString")Os(Ne,Ee,ze,J,!1,!1);else if(De==="MultiLineString"||De==="Polygon")for(let Oe=0;Oe<Ee.length;Oe++)Os(Ne,Ee[Oe],ze,J,De==="Polygon",Oe===0);else if(De==="MultiPolygon")for(let Oe=0;Oe<Ee.length;Oe++){let Le=Ee[Oe];for(let Ke=0;Ke<Le.length;Ke++)Os(Ne,Le[Ke],ze,J,!0,Ke===0)}if(Ne.length){let Oe=ee.tags||null;if(De==="LineString"&&de.lineMetrics){Oe={};for(let Ke in ee.tags)Oe[Ke]=ee.tags[Ke];Oe.mapbox_clip_start=Ee.start/Ee.size,Oe.mapbox_clip_end=Ee.end/Ee.size}let Le={geometry:Ne,type:De==="Polygon"||De==="MultiPolygon"?3:De==="LineString"||De==="MultiLineString"?2:1,tags:Oe};ee.id!==null&&(Le.id=ee.id),ze.features.push(Le)}}function Os(ze,ee,J,de,Ee,De){let Ne=de*de;if(de>0&&ee.size<(Ee?Ne:de))return void(J.numPoints+=ee.length/3);let Oe=[];for(let Le=0;Le<ee.length;Le+=3)(de===0||ee[Le+2]>Ne)&&(J.numSimplified++,Oe.push(ee[Le],ee[Le+1])),J.numPoints++;Ee&&function(Le,Ke){let ft=0;for(let ct=0,zt=Le.length,Qt=zt-2;ct<zt;Qt=ct,ct+=2)ft+=(Le[ct]-Le[Qt])*(Le[ct+1]+Le[Qt+1]);if(ft>0===Ke)for(let ct=0,zt=Le.length;ct<zt/2;ct+=2){let Qt=Le[ct],fi=Le[ct+1];Le[ct]=Le[zt-2-ct],Le[ct+1]=Le[zt-1-ct],Le[zt-2-ct]=Qt,Le[zt-1-ct]=fi}}(Oe,De),ze.push(Oe)}let gl={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class os{constructor(ee,J){let de=(J=this.options=function(De,Ne){for(let Oe in Ne)De[Oe]=Ne[Oe];return De}(Object.create(gl),J)).debug;if(de&&console.time("preprocess data"),J.maxZoom<0||J.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(J.promoteId&&J.generateId)throw new Error("promoteId and generateId cannot be used together.");let Ee=function(De,Ne){let Oe=[];if(De.type==="FeatureCollection")for(let Le=0;Le<De.features.length;Le++)di(Oe,De.features[Le],Ne,Le);else di(Oe,De.type==="Feature"?De:{geometry:De},Ne);return Oe}(ee,J);this.tiles={},this.tileCoords=[],de&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",J.indexMaxZoom,J.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ee=function(De,Ne){let Oe=Ne.buffer/Ne.extent,Le=De,Ke=ea(De,1,-1-Oe,Oe,0,-1,2,Ne),ft=ea(De,1,1-Oe,2+Oe,0,-1,2,Ne);return(Ke||ft)&&(Le=ea(De,1,-Oe,1+Oe,0,-1,2,Ne)||[],Ke&&(Le=Ec(Ke,1).concat(Le)),ft&&(Le=Le.concat(Ec(ft,-1)))),Le}(Ee,J),Ee.length&&this.splitTile(Ee,0,0,0),de&&(Ee.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(ee,J,de,Ee,De,Ne,Oe){let Le=[ee,J,de,Ee],Ke=this.options,ft=Ke.debug;for(;Le.length;){Ee=Le.pop(),de=Le.pop(),J=Le.pop(),ee=Le.pop();let ct=1<<J,zt=ur(J,de,Ee),Qt=this.tiles[zt];if(!Qt&&(ft>1&&console.time("creation"),Qt=this.tiles[zt]=Hn(ee,J,de,Ee,Ke),this.tileCoords.push({z:J,x:de,y:Ee}),ft)){ft>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",J,de,Ee,Qt.numFeatures,Qt.numPoints,Qt.numSimplified),console.timeEnd("creation"));let Gn=`z${J}`;this.stats[Gn]=(this.stats[Gn]||0)+1,this.total++}if(Qt.source=ee,De==null){if(J===Ke.indexMaxZoom||Qt.numPoints<=Ke.indexMaxPoints)continue}else{if(J===Ke.maxZoom||J===De)continue;if(De!=null){let Gn=De-J;if(de!==Ne>>Gn||Ee!==Oe>>Gn)continue}}if(Qt.source=null,ee.length===0)continue;ft>1&&console.time("clipping");let fi=.5*Ke.buffer/Ke.extent,cn=.5-fi,Wi=.5+fi,He=1+fi,hn=null,Ra=null,gi=null,on=null,Na=ea(ee,ct,de-fi,de+Wi,0,Qt.minX,Qt.maxX,Ke),Cn=ea(ee,ct,de+cn,de+He,0,Qt.minX,Qt.maxX,Ke);ee=null,Na&&(hn=ea(Na,ct,Ee-fi,Ee+Wi,1,Qt.minY,Qt.maxY,Ke),Ra=ea(Na,ct,Ee+cn,Ee+He,1,Qt.minY,Qt.maxY,Ke),Na=null),Cn&&(gi=ea(Cn,ct,Ee-fi,Ee+Wi,1,Qt.minY,Qt.maxY,Ke),on=ea(Cn,ct,Ee+cn,Ee+He,1,Qt.minY,Qt.maxY,Ke),Cn=null),ft>1&&console.timeEnd("clipping"),Le.push(hn||[],J+1,2*de,2*Ee),Le.push(Ra||[],J+1,2*de,2*Ee+1),Le.push(gi||[],J+1,2*de+1,2*Ee),Le.push(on||[],J+1,2*de+1,2*Ee+1)}}getTile(ee,J,de){ee=+ee,J=+J,de=+de;let Ee=this.options,{extent:De,debug:Ne}=Ee;if(ee<0||ee>24)return null;let Oe=1<<ee,Le=ur(ee,J=J+Oe&Oe-1,de);if(this.tiles[Le])return Uo(this.tiles[Le],De);Ne>1&&console.log("drilling down to z%d-%d-%d",ee,J,de);let Ke,ft=ee,ct=J,zt=de;for(;!Ke&&ft>0;)ft--,ct>>=1,zt>>=1,Ke=this.tiles[ur(ft,ct,zt)];return Ke&&Ke.source?(Ne>1&&(console.log("found parent tile z%d-%d-%d",ft,ct,zt),console.time("drilling down")),this.splitTile(Ke.source,ft,ct,zt,ee,J,de),Ne>1&&console.timeEnd("drilling down"),this.tiles[Le]?Uo(this.tiles[Le],De):null):null}}function ur(ze,ee,J){return 32*((1<<ze)*J+ee)+ze}class _l extends te{constructor(ee,J,de,Ee=bl){super(ee,J,de),this._dataUpdateable=new Map,this._createGeoJSONIndex=Ee}loadVectorTile(ee,J){return n._(this,void 0,void 0,function*(){let de=ee.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");let Ee=this._geoJSONIndex.getTile(de.z,de.x,de.y);return Ee?Y(new n.d2(Ee.features,{version:2,extent:n.a5})):null})}loadData(ee){return n._(this,void 0,void 0,function*(){var J;(J=this._pendingRequest)===null||J===void 0||J.abort();let de=this._startPerformance(ee);this._pendingRequest=new AbortController;try{(!this._pendingData||ee.request||ee.data||ee.dataDiff)&&(this._pendingData=this.loadAndProcessGeoJSON(ee,this._pendingRequest));let Ee=yield this._pendingData;this._geoJSONIndex=this._createGeoJSONIndex(Ee,ee),this.loaded={};let De={};return ee.request&&(De.data=Ee),this._finishPerformance(de,ee,De),De}catch(Ee){if(delete this._pendingRequest,n.Z(Ee))return{abandoned:!0};throw Ee}})}_startPerformance(ee){var J;if(!((J=ee?.request)===null||J===void 0)&&J.collectResourceTiming)return new n.c_(ee.request)}_finishPerformance(ee,J,de){if(!ee)return;let Ee=ee.finish();Ee&&(de.resourceTiming={},de.resourceTiming[J.source]=JSON.parse(JSON.stringify(Ee)))}getData(){return n._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(ee){let J=this.loaded;return J&&J[ee.uid]?super.reloadTile(ee):this.loadTile(ee)}loadAndProcessGeoJSON(ee,J){return n._(this,void 0,void 0,function*(){let de;if(ee.request?de=yield this.loadGeoJSONFromUrl(ee.request,ee.promoteId,J):ee.data?de=this._loadGeoJSONFromObject(ee.data,ee.promoteId):ee.dataDiff&&(de=this._loadGeoJSONFromDiff(ee.dataDiff,ee.promoteId,ee.source)),delete this._pendingRequest,typeof de!="object")throw new Error(`Input data given to '${ee.source}' is not a valid GeoJSON object.`);return _t(de,!0),ee.filter&&(de=this._filterGeoJSON(de,ee.filter)),de})}loadGeoJSONFromUrl(ee,J,de){return n._(this,void 0,void 0,function*(){let Ee=yield n.j(ee,de);return this._dataUpdateable=n.a7(Ee.data,J),Ee.data})}_loadGeoJSONFromObject(ee,J){return this._dataUpdateable=n.a7(ee,J),ee}_loadGeoJSONFromDiff(ee,J,de){if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${de}`);n.a8(this._dataUpdateable,ee,J);let Ee=Array.from(this._dataUpdateable.values());return this._toFeatureCollection(Ee)}_filterGeoJSON(ee,J){let de=n.d3(J,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(de.result==="error")throw new Error(de.value.map(De=>`${De.key}: ${De.message}`).join(", "));let Ee=ee.features.filter(De=>de.value.evaluate({zoom:0},De));return this._toFeatureCollection(Ee)}_toFeatureCollection(ee){return{type:"FeatureCollection",features:ee}}removeSource(ee){return n._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(ee){return this._geoJSONIndex.getClusterExpansionZoom(ee.clusterId)}getClusterChildren(ee){return this._geoJSONIndex.getChildren(ee.clusterId)}getClusterLeaves(ee){return this._geoJSONIndex.getLeaves(ee.clusterId,ee.limit,ee.offset)}}function bl(ze,ee){return ee.cluster?new Rt(function({superclusterOptions:J,clusterProperties:de}){if(!de||!J)return J;let Ee={},De={},Ne={accumulated:null,zoom:0},Oe={properties:null},Le=Object.keys(de);for(let Ke of Le){let[ft,ct]=de[Ke],zt=n.d3(ct),Qt=n.d3(typeof ft=="string"?[ft,["accumulated"],["get",Ke]]:ft);Ee[Ke]=zt.value,De[Ke]=Qt.value}return J.map=Ke=>{Oe.properties=Ke;let ft={};for(let ct of Le)ft[ct]=Ee[ct].evaluate(Ne,Oe);return ft},J.reduce=(Ke,ft)=>{Oe.properties=ft;for(let ct of Le)Ne.accumulated=Ke[ct],Ke[ct]=De[ct].evaluate(Ne,Oe)},J}(ee)).load(ze.features):function(J,de){return new os(J,de)}(ze,ee.geojsonVtOptions)}class xo{constructor(ee){this.self=ee,this.actor=new n.L(ee),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.globalStates=new Map,this.self.registerWorkerSource=(J,de)=>{if(this.externalWorkerSourceTypes[J])throw new Error(`Worker source with name "${J}" already registered.`);this.externalWorkerSourceTypes[J]=de},this.self.addProtocol=n.cJ,this.self.removeProtocol=n.cK,this.self.registerRTLTextPlugin=J=>{n.d4.setMethods(J)},this.actor.registerMessageHandler("LDT",(J,de)=>this._getDEMWorkerSource(J,de.source).loadTile(de)),this.actor.registerMessageHandler("RDT",(J,de)=>n._(this,void 0,void 0,function*(){this._getDEMWorkerSource(J,de.source).removeTile(de)})),this.actor.registerMessageHandler("GCEZ",(J,de)=>n._(this,void 0,void 0,function*(){return this._getWorkerSource(J,de.type,de.source).getClusterExpansionZoom(de)})),this.actor.registerMessageHandler("GCC",(J,de)=>n._(this,void 0,void 0,function*(){return this._getWorkerSource(J,de.type,de.source).getClusterChildren(de)})),this.actor.registerMessageHandler("GCL",(J,de)=>n._(this,void 0,void 0,function*(){return this._getWorkerSource(J,de.type,de.source).getClusterLeaves(de)})),this.actor.registerMessageHandler("LD",(J,de)=>this._getWorkerSource(J,de.type,de.source).loadData(de)),this.actor.registerMessageHandler("GD",(J,de)=>this._getWorkerSource(J,de.type,de.source).getData()),this.actor.registerMessageHandler("LT",(J,de)=>this._getWorkerSource(J,de.type,de.source).loadTile(de)),this.actor.registerMessageHandler("RT",(J,de)=>this._getWorkerSource(J,de.type,de.source).reloadTile(de)),this.actor.registerMessageHandler("AT",(J,de)=>this._getWorkerSource(J,de.type,de.source).abortTile(de)),this.actor.registerMessageHandler("RMT",(J,de)=>this._getWorkerSource(J,de.type,de.source).removeTile(de)),this.actor.registerMessageHandler("RS",(J,de)=>n._(this,void 0,void 0,function*(){if(!this.workerSources[J]||!this.workerSources[J][de.type]||!this.workerSources[J][de.type][de.source])return;let Ee=this.workerSources[J][de.type][de.source];delete this.workerSources[J][de.type][de.source],Ee.removeSource!==void 0&&Ee.removeSource(de)})),this.actor.registerMessageHandler("RM",J=>n._(this,void 0,void 0,function*(){delete this.layerIndexes[J],delete this.availableImages[J],delete this.workerSources[J],delete this.demWorkerSources[J],this.globalStates.delete(J)})),this.actor.registerMessageHandler("SR",(J,de)=>n._(this,void 0,void 0,function*(){this.referrer=de})),this.actor.registerMessageHandler("SRPS",(J,de)=>this._syncRTLPluginState(J,de)),this.actor.registerMessageHandler("IS",(J,de)=>n._(this,void 0,void 0,function*(){this.self.importScripts(de)})),this.actor.registerMessageHandler("SI",(J,de)=>this._setImages(J,de)),this.actor.registerMessageHandler("UL",(J,de)=>n._(this,void 0,void 0,function*(){this._getLayerIndex(J).update(de.layers,de.removedIds,this._getGlobalState(J))})),this.actor.registerMessageHandler("UGS",(J,de)=>n._(this,void 0,void 0,function*(){let Ee=this._getGlobalState(J);for(let De in de)Ee[De]=de[De]})),this.actor.registerMessageHandler("SL",(J,de)=>n._(this,void 0,void 0,function*(){this._getLayerIndex(J).replace(de,this._getGlobalState(J))}))}_getGlobalState(ee){let J=this.globalStates.get(ee);return J||(J={},this.globalStates.set(ee,J)),J}_setImages(ee,J){return n._(this,void 0,void 0,function*(){this.availableImages[ee]=J;for(let de in this.workerSources[ee]){let Ee=this.workerSources[ee][de];for(let De in Ee)Ee[De].availableImages=J}})}_syncRTLPluginState(ee,J){return n._(this,void 0,void 0,function*(){return yield n.d4.syncState(J,this.self.importScripts)})}_getAvailableImages(ee){let J=this.availableImages[ee];return J||(J=[]),J}_getLayerIndex(ee){let J=this.layerIndexes[ee];return J||(J=this.layerIndexes[ee]=new a),J}_getWorkerSource(ee,J,de){if(this.workerSources[ee]||(this.workerSources[ee]={}),this.workerSources[ee][J]||(this.workerSources[ee][J]={}),!this.workerSources[ee][J][de]){let Ee={sendAsync:(De,Ne)=>(De.targetMapId=ee,this.actor.sendAsync(De,Ne))};switch(J){case"vector":this.workerSources[ee][J][de]=new te(Ee,this._getLayerIndex(ee),this._getAvailableImages(ee));break;case"geojson":this.workerSources[ee][J][de]=new _l(Ee,this._getLayerIndex(ee),this._getAvailableImages(ee));break;default:this.workerSources[ee][J][de]=new this.externalWorkerSourceTypes[J](Ee,this._getLayerIndex(ee),this._getAvailableImages(ee))}}return this.workerSources[ee][J][de]}_getDEMWorkerSource(ee,J){return this.demWorkerSources[ee]||(this.demWorkerSources[ee]={}),this.demWorkerSources[ee][J]||(this.demWorkerSources[ee][J]=new Me),this.demWorkerSources[ee][J]}}return n.i(self)&&(self.worker=new xo(self)),xo}),e("index",["exports","./shared"],function(n,a){"use strict";var p="5.15.0";function y(){var b=new a.A(4);return a.A!=Float32Array&&(b[1]=0,b[2]=0),b[0]=1,b[3]=1,b}let C,A,R,$={frame(b,r,u){let h=requestAnimationFrame(v=>{f(),r(v)}),{unsubscribe:f}=a.s(b.signal,"abort",()=>{f(),cancelAnimationFrame(h),u(new a.a(b.signal.reason))},!1)},frameAsync(b){return new Promise((r,u)=>{this.frame(b,r,u)})},getImageData(b,r=0){return this.getImageCanvasContext(b).getImageData(-r,-r,b.width+2*r,b.height+2*r)},getImageCanvasContext(b){let r=window.document.createElement("canvas"),u=r.getContext("2d",{willReadFrequently:!0});if(!u)throw new Error("failed to create canvas 2d context");return r.width=b.width,r.height=b.height,u.drawImage(b,0,0,b.width,b.height),u},resolveURL:b=>(C||(C=document.createElement("a")),C.href=b,C.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return R!==void 0?R:!!matchMedia&&(A==null&&(A=matchMedia("(prefers-reduced-motion: reduce)")),A.matches)},set prefersReducedMotion(b){R=b}},Y=new class{constructor(){this._realTime=typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),this._frozenAt=null}getCurrentTime(){return this._frozenAt!==null?this._frozenAt:this._realTime()}setNow(b){this._frozenAt=b}restoreNow(){this._frozenAt=null}isFrozen(){return this._frozenAt!==null}};function re(){return Y.getCurrentTime()}class te{static testProp(r){if(!te.docStyle)return r[0];for(let u=0;u<r.length;u++)if(r[u]in te.docStyle)return r[u];return r[0]}static create(r,u,h){let f=window.document.createElement(r);return u!==void 0&&(f.className=u),h&&h.appendChild(f),f}static createNS(r,u){return window.document.createElementNS(r,u)}static disableDrag(){te.docStyle&&te.selectProp&&(te.userSelect=te.docStyle[te.selectProp],te.docStyle[te.selectProp]="none")}static enableDrag(){te.docStyle&&te.selectProp&&(te.docStyle[te.selectProp]=te.userSelect)}static setTransform(r,u){r.style[te.transformProp]=u}static addEventListener(r,u,h,f={}){r.addEventListener(u,h,"passive"in f?f:f.capture)}static removeEventListener(r,u,h,f={}){r.removeEventListener(u,h,"passive"in f?f:f.capture)}static suppressClickInternal(r){r.preventDefault(),r.stopPropagation(),window.removeEventListener("click",te.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",te.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",te.suppressClickInternal,!0)},0)}static getScale(r){let u=r.getBoundingClientRect();return{x:u.width/r.offsetWidth||1,y:u.height/r.offsetHeight||1,boundingClientRect:u}}static getPoint(r,u,h){let f=u.boundingClientRect;return new a.P((h.clientX-f.left)/u.x-r.clientLeft,(h.clientY-f.top)/u.y-r.clientTop)}static mousePos(r,u){let h=te.getScale(r);return te.getPoint(r,h,u)}static touchPos(r,u){let h=[],f=te.getScale(r);for(let v=0;v<u.length;v++)h.push(te.getPoint(r,f,u[v]));return h}static mouseButton(r){return r.button}static remove(r){r.parentNode&&r.parentNode.removeChild(r)}static sanitize(r){let u=new DOMParser().parseFromString(r,"text/html").body||document.createElement("body"),h=u.querySelectorAll("script");for(let f of h)f.remove();return te.clean(u),u.innerHTML}static isPossiblyDangerous(r,u){let h=u.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(r)||!h.includes("javascript:")&&!h.includes("data:"))||!!r.startsWith("on")||void 0}static clean(r){let u=r.children;for(let h of u)te.removeAttributes(h),te.clean(h)}static removeAttributes(r){for(let{name:u,value:h}of r.attributes)te.isPossiblyDangerous(u,h)&&r.removeAttribute(u)}}te.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,te.selectProp=te.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),te.transformProp=te.testProp(["transform","WebkitTransform"]);let Me={supported:!1,testSupport:function(b){!Ye&&je&&(_t?wt(b):ke=b)}},ke,je,Ye=!1,_t=!1;function wt(b){let r=b.createTexture();b.bindTexture(b.TEXTURE_2D,r);try{if(b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,je),b.isContextLost())return;Me.supported=!0}catch{}b.deleteTexture(r),Ye=!0}var st;typeof document<"u"&&(je=document.createElement("img"),je.onload=()=>{ke&&wt(ke),ke=null,_t=!0},je.onerror=()=>{Ye=!0,ke=null},je.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(b){let r,u,h,f;b.resetRequestQueue=()=>{r=[],u=0,h=0,f={}},b.addThrottleControl=P=>{let O=h++;return f[O]=P,O},b.removeThrottleControl=P=>{delete f[P],w()},b.getImage=(P,O,z=!0)=>new Promise((H,j)=>{Me.supported&&(P.headers||(P.headers={}),P.headers.accept="image/webp,*/*"),a.e(P,{type:"image"}),r.push({abortController:O,requestParameters:P,supportImageRefresh:z,state:"queued",onError:W=>{j(W)},onSuccess:W=>{H(W)}}),w()});let v=P=>a._(this,void 0,void 0,function*(){P.state="running";let{requestParameters:O,supportImageRefresh:z,onError:H,onSuccess:j,abortController:W}=P,ie=z===!1&&!a.i(self)&&!a.g(O.url)&&(!O.headers||Object.keys(O.headers).reduce((me,be)=>me&&be==="accept",!0));u++;let he=ie?k(O,W):a.m(O,W);try{let me=yield he;delete P.abortController,P.state="completed",me.data instanceof HTMLImageElement||a.b(me.data)?j(me):me.data&&j({data:yield(fe=me.data,typeof createImageBitmap=="function"?a.f(fe):a.h(fe)),cacheControl:me.cacheControl,expires:me.expires})}catch(me){delete P.abortController,H(me)}finally{u--,w()}var fe}),w=()=>{let P=(()=>{for(let O of Object.keys(f))if(f[O]())return!0;return!1})()?a.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let O=u;O<P&&r.length>0;O++){let z=r.shift();z.abortController.signal.aborted?O--:v(z)}},k=(P,O)=>new Promise((z,H)=>{let j=new Image,W=P.url,ie=P.credentials;ie&&ie==="include"?j.crossOrigin="use-credentials":(ie&&ie==="same-origin"||!a.d(W))&&(j.crossOrigin="anonymous"),O.signal.addEventListener("abort",()=>{j.src="",H(new a.a(O.signal.reason))}),j.fetchPriority="high",j.onload=()=>{j.onerror=j.onload=null,z({data:j})},j.onerror=()=>{j.onerror=j.onload=null,O.signal.aborted||H(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},j.src=W})}(st||(st={})),st.resetRequestQueue();class yt{constructor(r){this._transformRequestFn=r??null}transformRequest(r,u){return this._transformRequestFn&&this._transformRequestFn(r,u)||{url:r}}setTransformRequest(r){this._transformRequestFn=r}}function Rt(b){let r=[];if(typeof b=="string")r.push({id:"default",url:b});else if(b&&b.length>0){let u=[];for(let{id:h,url:f}of b){let v=`${h}${f}`;u.indexOf(v)===-1&&(u.push(v),r.push({id:h,url:f}))}}return r}function Mt(b,r,u){try{let h=new URL(b);return h.pathname+=`${r}${u}`,h.toString()}catch{throw new Error(`Invalid sprite URL "${b}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}function Xt(b){let{userImage:r}=b;return!!(r&&r.render&&r.render())&&(b.data.replace(new Uint8Array(r.data.buffer)),!0)}class mi extends a.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.R({width:1,height:1}),this.dirty=!0}destroy(){this.atlasTexture&&(this.atlasTexture.destroy(),this.atlasTexture=null);for(let r of Object.keys(this.images))this.removeImage(r);this.patterns={},this.atlasImage=new a.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(r){if(this.loaded!==r&&(this.loaded=r,r)){for(let{ids:u,promiseResolve:h}of this.requestors)h(this._getImagesForIds(u));this.requestors=[]}}getImage(r){let u=this.images[r];if(u&&!u.data&&u.spriteData){let h=u.spriteData;u.data=new a.R({width:h.width,height:h.height},h.context.getImageData(h.x,h.y,h.width,h.height).data),u.spriteData=null}return u}addImage(r,u){if(this.images[r])throw new Error(`Image id ${r} already exist, use updateImage instead`);this._validate(r,u)&&(this.images[r]=u)}_validate(r,u){let h=!0,f=u.data||u.spriteData;return this._validateStretch(u.stretchX,f&&f.width)||(this.fire(new a.k(new Error(`Image "${r}" has invalid "stretchX" value`))),h=!1),this._validateStretch(u.stretchY,f&&f.height)||(this.fire(new a.k(new Error(`Image "${r}" has invalid "stretchY" value`))),h=!1),this._validateContent(u.content,u)||(this.fire(new a.k(new Error(`Image "${r}" has invalid "content" value`))),h=!1),h}_validateStretch(r,u){if(!r)return!0;let h=0;for(let f of r){if(f[0]<h||f[1]<f[0]||u<f[1])return!1;h=f[1]}return!0}_validateContent(r,u){if(!r)return!0;if(r.length!==4)return!1;let h=u.spriteData,f=h&&h.width||u.data.width,v=h&&h.height||u.data.height;return!(r[0]<0||f<r[0]||r[1]<0||v<r[1]||r[2]<0||f<r[2]||r[3]<0||v<r[3]||r[2]<r[0]||r[3]<r[1])}updateImage(r,u,h=!0){let f=this.getImage(r);if(h&&(f.data.width!==u.data.width||f.data.height!==u.data.height))throw new Error(`size mismatch between old image (${f.data.width}x${f.data.height}) and new image (${u.data.width}x${u.data.height}).`);u.version=f.version+1,this.images[r]=u,this.updatedImages[r]=!0}removeImage(r){let u=this.images[r];delete this.images[r],delete this.patterns[r],u.userImage&&u.userImage.onRemove&&u.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(r){return new Promise((u,h)=>{let f=!0;if(!this.isLoaded())for(let v of r)this.images[v]||(f=!1);this.isLoaded()||f?u(this._getImagesForIds(r)):this.requestors.push({ids:r,promiseResolve:u})})}_getImagesForIds(r){let u={};for(let h of r){let f=this.getImage(h);f||(this.fire(new a.l("styleimagemissing",{id:h})),f=this.getImage(h)),f?u[h]={data:f.data.clone(),pixelRatio:f.pixelRatio,sdf:f.sdf,version:f.version,stretchX:f.stretchX,stretchY:f.stretchY,content:f.content,textFitWidth:f.textFitWidth,textFitHeight:f.textFitHeight,hasRenderCallback:!!(f.userImage&&f.userImage.render)}:a.w(`Image "${h}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return u}getPixelSize(){let{width:r,height:u}=this.atlasImage;return{width:r,height:u}}getPattern(r){let u=this.patterns[r],h=this.getImage(r);if(!h)return null;if(u&&u.position.version===h.version)return u.position;if(u)u.position.version=h.version;else{let f={w:h.data.width+2,h:h.data.height+2,x:0,y:0},v=new a.I(f,h);this.patterns[r]={bin:f,position:v}}return this._updatePatternAtlas(),this.patterns[r].position}bind(r){let u=r.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.T(r,this.atlasImage,u.RGBA),this.atlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE)}_updatePatternAtlas(){let r=[];for(let v in this.patterns)r.push(this.patterns[v].bin);let{w:u,h}=a.p(r),f=this.atlasImage;f.resize({width:u||1,height:h||1});for(let v in this.patterns){let{bin:w}=this.patterns[v],k=w.x+1,P=w.y+1,O=this.getImage(v).data,z=O.width,H=O.height;a.R.copy(O,f,{x:0,y:0},{x:k,y:P},{width:z,height:H}),a.R.copy(O,f,{x:0,y:H-1},{x:k,y:P-1},{width:z,height:1}),a.R.copy(O,f,{x:0,y:0},{x:k,y:P+H},{width:z,height:1}),a.R.copy(O,f,{x:z-1,y:0},{x:k-1,y:P},{width:1,height:H}),a.R.copy(O,f,{x:0,y:0},{x:k+z,y:P},{width:1,height:H})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(r){for(let u of r){if(this.callbackDispatchedThisFrame[u])continue;this.callbackDispatchedThisFrame[u]=!0;let h=this.getImage(u);h||a.w(`Image with ID: "${u}" was not found`),Xt(h)&&this.updateImage(u,h)}}cloneImages(){let r={};for(let u in this.images){let h=this.images[u];r[u]=Object.assign(Object.assign({},h),{data:h.data?h.data.clone():null})}return r}}let hi=1e20;function Ci(b,r,u,h,f,v,w,k,P){for(let O=r;O<r+h;O++)kn(b,u*v+O,v,f,w,k,P);for(let O=u;O<u+f;O++)kn(b,O*v+r,1,h,w,k,P)}function kn(b,r,u,h,f,v,w){v[0]=0,w[0]=-hi,w[1]=hi,f[0]=b[r];for(let k=1,P=0,O=0;k<h;k++){f[k]=b[r+k*u];let z=k*k;do{let H=v[P];O=(f[k]-f[H]+z-H*H)/(k-H)/2}while(O<=w[P]&&--P>-1);P++,v[P]=k,w[P]=O,w[P+1]=hi}for(let k=0,P=0;k<h;k++){for(;w[P+1]<k;)P++;let O=v[P],z=k-O;b[r+k*u]=f[O]+z*z}}let ka=a.v.layout_symbol["text-font"].default.join(",");class Si{constructor(r,u,h){this.requestManager=r,this.localIdeographFontFamily=u,this.entries={},this.lang=h}setURL(r){this.url=r}getGlyphs(r){return a._(this,void 0,void 0,function*(){let u=[];for(let v in r)for(let w of r[v])u.push(this._getAndCacheGlyphsPromise(v,w));let h=yield Promise.all(u),f={};for(let{stack:v,id:w,glyph:k}of h)f[v]||(f[v]={}),f[v][w]=k&&{id:k.id,bitmap:k.bitmap.clone(),metrics:k.metrics};return f})}_getAndCacheGlyphsPromise(r,u){return a._(this,void 0,void 0,function*(){let h=this.entries[r];h||(h=this.entries[r]={glyphs:{},requests:{},ranges:{}});let f=h.glyphs[u];return f!==void 0?{stack:r,id:u,glyph:f}:!this.url||this._charUsesLocalIdeographFontFamily(u)?(f=h.glyphs[u]=this._drawGlyph(h,r,u),{stack:r,id:u,glyph:f}):yield this._downloadAndCacheRangePromise(r,u)})}_downloadAndCacheRangePromise(r,u){return a._(this,void 0,void 0,function*(){let h=this.entries[r],f=Math.floor(u/256);if(h.ranges[f])return{stack:r,id:u,glyph:null};if(!h.requests[f]){let v=Si.loadGlyphRange(r,f,this.url,this.requestManager);h.requests[f]=v}try{let v=yield h.requests[f];for(let w in v)h.glyphs[+w]=v[+w];return h.ranges[f]=!0,{stack:r,id:u,glyph:v[u]||null}}catch(v){let w=h.glyphs[u]=this._drawGlyph(h,r,u);return this._warnOnMissingGlyphRange(w,f,u,v),{stack:r,id:u,glyph:w}}})}_warnOnMissingGlyphRange(r,u,h,f){let v=256*u,w=v+255,k=h.toString(16).padStart(4,"0").toUpperCase();a.w(`Unable to load glyph range ${u}, ${v}-${w}. Rendering codepoint U+${k} locally instead. ${f}`)}_charUsesLocalIdeographFontFamily(r){return!!this.localIdeographFontFamily&&a.q(r)}_drawGlyph(r,u,h){let f=u===ka&&this.localIdeographFontFamily!==""&&this._charUsesLocalIdeographFontFamily(h),v=f?"ideographTinySDF":"tinySDF";r[v]||(r[v]=this._createTinySDF(f?this.localIdeographFontFamily:u));let w=r[v].draw(String.fromCodePoint(h));return{id:h,bitmap:new a.r({width:w.width||60,height:w.height||60},w.data),metrics:{width:w.glyphWidth/2||24,height:w.glyphHeight/2||24,left:w.glyphLeft/2+.5||0,top:w.glyphTop/2-27.5||-8,advance:w.glyphAdvance/2||24,isDoubleResolution:!0}}}_createTinySDF(r){let u=r?r.split(","):[];u.push("sans-serif");let h=u.map(f=>/[-\w]+/.test(f)?f:`'${CSS.escape(f)}'`).join(",");return new Si.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:h,fontWeight:this._fontWeight(u[0]),fontStyle:this._fontStyle(u[0]),lang:this.lang})}_fontStyle(r){return/italic/i.test(r)?"italic":/oblique/i.test(r)?"oblique":"normal"}_fontWeight(r){let u={thin:100,hairline:100,"extra light":200,"ultra light":200,light:300,normal:400,regular:400,medium:500,semibold:600,demibold:600,bold:700,"extra bold":800,"ultra bold":800,black:900,heavy:900,"extra black":950,"ultra black":950},h;for(let[f,v]of Object.entries(u))new RegExp(`\\b${f}\\b`,"i").test(r)&&(h=`${v}`);return h}destroy(){for(let r in this.entries){let u=this.entries[r];u.tinySDF&&(u.tinySDF=null),u.ideographTinySDF&&(u.ideographTinySDF=null),u.glyphs={},u.requests={},u.ranges={}}this.entries={}}}Si.loadGlyphRange=function(b,r,u,h){return a._(this,void 0,void 0,function*(){let f=256*r,v=f+255,w=h.transformRequest(u.replace("{fontstack}",b).replace("{range}",`${f}-${v}`),"Glyphs"),k=yield a.n(w,new AbortController);if(!k||!k.data)throw new Error(`Could not load glyph range. range: ${r}, ${f}-${v}`);let P={};for(let O of a.o(k.data))P[O.id]=O;return P})},Si.TinySDF=class{constructor({fontSize:b=24,buffer:r=3,radius:u=8,cutoff:h=.25,fontFamily:f="sans-serif",fontWeight:v="normal",fontStyle:w="normal",lang:k=null}={}){this.buffer=r,this.cutoff=h,this.radius=u,this.lang=k;let P=this.size=b+4*r,O=this._createCanvas(P),z=this.ctx=O.getContext("2d",{willReadFrequently:!0});z.font=`${w} ${v} ${b}px ${f}`,z.textBaseline="alphabetic",z.textAlign="left",z.fillStyle="black",this.gridOuter=new Float64Array(P*P),this.gridInner=new Float64Array(P*P),this.f=new Float64Array(P),this.z=new Float64Array(P+1),this.v=new Uint16Array(P)}_createCanvas(b){let r=document.createElement("canvas");return r.width=r.height=b,r}draw(b){let{width:r,actualBoundingBoxAscent:u,actualBoundingBoxDescent:h,actualBoundingBoxLeft:f,actualBoundingBoxRight:v}=this.ctx.measureText(b),w=Math.ceil(u),k=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(v-f))),P=Math.min(this.size-this.buffer,w+Math.ceil(h)),O=k+2*this.buffer,z=P+2*this.buffer,H=Math.max(O*z,0),j=new Uint8ClampedArray(H),W={data:j,width:O,height:z,glyphWidth:k,glyphHeight:P,glyphTop:w,glyphLeft:0,glyphAdvance:r};if(k===0||P===0)return W;let{ctx:ie,buffer:he,gridInner:fe,gridOuter:me}=this;this.lang&&(ie.lang=this.lang),ie.clearRect(he,he,k,P),ie.fillText(b,he,he+w);let be=ie.getImageData(he,he,k,P);me.fill(hi,0,H),fe.fill(0,0,H);for(let Se=0;Se<P;Se++)for(let _e=0;_e<k;_e++){let Ce=be.data[4*(Se*k+_e)+3]/255;if(Ce===0)continue;let Pe=(Se+he)*O+_e+he;if(Ce===1)me[Pe]=0,fe[Pe]=hi;else{let xe=.5-Ce;me[Pe]=xe>0?xe*xe:0,fe[Pe]=xe<0?xe*xe:0}}Ci(me,0,0,O,z,O,this.f,this.v,this.z),Ci(fe,he,he,k,P,O,this.f,this.v,this.z);for(let Se=0;Se<H;Se++){let _e=Math.sqrt(me[Se])-Math.sqrt(fe[Se]);j[Se]=Math.round(255-255*(_e/this.radius+this.cutoff))}return W}};class Yi{constructor(){this.specification=a.u.light.position}possiblyEvaluate(r,u){return a.F(r.expression.evaluate(u))}interpolate(r,u,h){return{x:a.G.number(r.x,u.x,h),y:a.G.number(r.y,u.y,h),z:a.G.number(r.z,u.z,h)}}}let di;class Ea extends a.E{constructor(r){super(),di=di||new a.t({anchor:new a.D(a.u.light.anchor),position:new Yi,color:new a.D(a.u.light.color),intensity:new a.D(a.u.light.intensity)}),this._transitionable=new a.x(di,void 0),this.setLight(r),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(r,u={}){if(!this._validate(a.y,r,u))for(let h in r){let f=r[h];h.endsWith(a.z)?this._transitionable.setTransition(h.slice(0,-a.z.length),f):this._transitionable.setValue(h,f)}}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,u,h){return(!h||h.validate!==!1)&&a.B(this,r.call(a.C,{value:u,style:{glyphs:!0,sprite:!0},styleSpec:a.u}))}}let Tn=new a.t({"sky-color":new a.D(a.u.sky["sky-color"]),"horizon-color":new a.D(a.u.sky["horizon-color"]),"fog-color":new a.D(a.u.sky["fog-color"]),"fog-ground-blend":new a.D(a.u.sky["fog-ground-blend"]),"horizon-fog-blend":new a.D(a.u.sky["horizon-fog-blend"]),"sky-horizon-blend":new a.D(a.u.sky["sky-horizon-blend"]),"atmosphere-blend":new a.D(a.u.sky["atmosphere-blend"])});class Fo extends a.E{constructor(r){super(),this._transitionable=new a.x(Tn,void 0),this.setSky(r),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new a.H(0))}setSky(r,u={}){if(!this._validate(a.J,r,u)){r||(r={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(let h in r){let f=r[h];h.endsWith(a.z)?this._transitionable.setTransition(h.slice(0,-a.z.length),f):this._transitionable.setValue(h,f)}}}getSky(){return this._transitionable.serialize()}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,u,h={}){return h?.validate!==!1&&a.B(this,r.call(a.C,a.e({value:u,style:{glyphs:!0,sprite:!0},styleSpec:a.u})))}calculateFogBlendOpacity(r){return r<60?0:r<70?(r-60)/10:1}}class kr{constructor(r,u){this.width=r,this.height=u,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(r,u){let h=r.join(",")+String(u);return this.dashEntry[h]||(this.dashEntry[h]=this.addDash(r,u)),this.dashEntry[h]}getDashRanges(r,u,h){let f=[],v=r.length%2==1?-r[r.length-1]*h:0,w=r[0]*h,k=!0;f.push({left:v,right:w,isDash:k,zeroLength:r[0]===0});let P=r[0];for(let O=1;O<r.length;O++){k=!k;let z=r[O];v=P*h,P+=z,w=P*h,f.push({left:v,right:w,isDash:k,zeroLength:z===0})}return f}addRoundDash(r,u,h){let f=u/2;for(let v=-h;v<=h;v++){let w=this.width*(this.nextRow+h+v),k=0,P=r[k];for(let O=0;O<this.width;O++){O/P.right>1&&(P=r[++k]);let z=Math.abs(O-P.left),H=Math.abs(O-P.right),j=Math.min(z,H),W,ie=v/h*(f+1);if(P.isDash){let he=f-Math.abs(ie);W=Math.sqrt(j*j+he*he)}else W=f-Math.sqrt(j*j+ie*ie);this.data[w+O]=Math.max(0,Math.min(255,W+128))}}}addRegularDash(r){for(let k=r.length-1;k>=0;--k){let P=r[k],O=r[k+1];P.zeroLength?r.splice(k,1):O&&O.isDash===P.isDash&&(O.left=P.left,r.splice(k,1))}let u=r[0],h=r[r.length-1];u.isDash===h.isDash&&(u.left=h.left-this.width,h.right=u.right+this.width);let f=this.width*this.nextRow,v=0,w=r[v];for(let k=0;k<this.width;k++){k/w.right>1&&(w=r[++v]);let P=Math.abs(k-w.left),O=Math.abs(k-w.right),z=Math.min(P,O);this.data[f+k]=Math.max(0,Math.min(255,(w.isDash?z:-z)+128))}}addDash(r,u){let h=u?7:0,f=2*h+1;if(this.nextRow+f>this.height)return a.w("LineAtlas out of space"),null;let v=0;for(let k=0;k<r.length;k++)v+=r[k];if(v!==0){let k=this.width/v,P=this.getDashRanges(r,this.width,k);u?this.addRoundDash(P,k,h):this.addRegularDash(P)}let w={y:this.nextRow+h,height:2*h,width:v};return this.nextRow+=f,this.dirty=!0,w}bind(r){let u=r.gl;this.texture?(u.bindTexture(u.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,u.texSubImage2D(u.TEXTURE_2D,0,0,0,this.width,this.height,u.ALPHA,u.UNSIGNED_BYTE,this.data))):(this.texture=u.createTexture(),u.bindTexture(u.TEXTURE_2D,this.texture),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.REPEAT),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.REPEAT),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.LINEAR),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.LINEAR),u.texImage2D(u.TEXTURE_2D,0,u.ALPHA,this.width,this.height,0,u.ALPHA,u.UNSIGNED_BYTE,this.data))}}let vo="maplibre_preloaded_worker_pool";class ea{constructor(){this.active={}}acquire(r){if(!this.workers)for(this.workers=[];this.workers.length<ea.workerCount;)this.workers.push(new Worker(a.c.WORKER_URL));return this.active[r]=!0,this.workers.slice()}release(r){delete this.active[r],this.numActive()===0&&(this.workers.forEach(u=>{u.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[vo]}numActive(){return Object.keys(this.active).length}}let xa=Math.floor($.hardwareConcurrency/2),oo,jn;function Fs(){return oo||(oo=new ea),oo}ea.workerCount=a.K(globalThis)?Math.max(Math.min(xa,3),1):1;class lr{constructor(r,u){this.workerPool=r,this.actors=[],this.currentActor=0,this.id=u;let h=this.workerPool.acquire(u);for(let f=0;f<h.length;f++){let v=new a.L(h[f],u);v.name=`Worker ${f}`,this.actors.push(v)}if(!this.actors.length)throw new Error("No actors found")}broadcast(r,u){let h=[];for(let f of this.actors)h.push(f.sendAsync({type:r,data:u}));return Promise.all(h)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(r=!0){this.actors.forEach(u=>{u.remove()}),this.actors=[],r&&this.workerPool.release(this.id)}registerMessageHandler(r,u){for(let h of this.actors)h.registerMessageHandler(r,u)}unregisterMessageHandler(r){for(let u of this.actors)u.unregisterMessageHandler(r)}}function kc(){return jn||(jn=new lr(Fs(),a.M),jn.registerMessageHandler("GR",(b,r,u)=>a.m(r,u))),jn}function cr(b,r){let u=a.N();return a.O(u,u,[1,1,0]),a.Q(u,u,[.5*b.width,.5*b.height,1]),b.calculatePosMatrix?a.S(u,u,b.calculatePosMatrix(r.toUnwrapped())):u}function Ec(b,r,u,h,f,v,w){var k;let P=function(j,W,ie){if(j)for(let he of j){let fe=W[he];if(fe&&fe.source===ie&&fe.type==="fill-extrusion")return!0}else for(let he in W){let fe=W[he];if(fe.source===ie&&fe.type==="fill-extrusion")return!0}return!1}((k=f?.layers)!==null&&k!==void 0?k:null,r,b.id),O=v.maxPitchScaleFactor(),z=b.tilesIn(h,O,P);z.sort(Pa);let H=[];for(let j of z)H.push({wrappedTileID:j.tileID.wrapped().key,queryResults:j.tile.queryRenderedFeatures(r,u,b.getState(),j.queryGeometry,j.cameraQueryGeometry,j.scale,f,v,O,cr(v,j.tileID),w?(W,ie)=>w(j.tileID,W,ie):void 0)});return function(j,W){for(let ie in j)for(let he of j[ie])Uo(he,W);return j}(function(j){let W={},ie={};for(let he of j){let fe=he.queryResults,me=he.wrappedTileID,be=ie[me]=ie[me]||{};for(let Se in fe){let _e=fe[Se],Ce=be[Se]=be[Se]||{},Pe=W[Se]=W[Se]||[];for(let xe of _e)Ce[xe.featureIndex]||(Ce[xe.featureIndex]=!0,Pe.push(xe))}}return W}(H),b)}function Pa(b,r){let u=b.tileID,h=r.tileID;return u.overscaledZ-h.overscaledZ||u.canonical.y-h.canonical.y||u.wrap-h.wrap||u.canonical.x-h.canonical.x}function Uo(b,r){let u=b.feature,h=r.getFeatureState(u.layer["source-layer"],u.id);u.source=u.layer.source,u.layer["source-layer"]&&(u.sourceLayer=u.layer["source-layer"]),u.state=h}function Er(b,r,u){return a._(this,void 0,void 0,function*(){let h=b;if(b.url?h=(yield a.j(r.transformRequest(b.url,"Source"),u)).data:yield $.frameAsync(u),!h)return null;let f=a.U(a.e(h,b),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in h&&h.vector_layers&&(f.vectorLayerIds=h.vector_layers.map(v=>v.id)),f})}class Hn{constructor(r,u){r&&(u?this.setSouthWest(r).setNorthEast(u):Array.isArray(r)&&(r.length===4?this.setSouthWest([r[0],r[1]]).setNorthEast([r[2],r[3]]):this.setSouthWest(r[0]).setNorthEast(r[1])))}setNorthEast(r){return this._ne=r instanceof a.V?new a.V(r.lng,r.lat):a.V.convert(r),this}setSouthWest(r){return this._sw=r instanceof a.V?new a.V(r.lng,r.lat):a.V.convert(r),this}extend(r){let u=this._sw,h=this._ne,f,v;if(r instanceof a.V)f=r,v=r;else{if(!(r instanceof Hn))return Array.isArray(r)?r.length===4||r.every(Array.isArray)?this.extend(Hn.convert(r)):this.extend(a.V.convert(r)):r&&("lng"in r||"lon"in r)&&"lat"in r?this.extend(a.V.convert(r)):this;if(f=r._sw,v=r._ne,!f||!v)return this}return u||h?(u.lng=Math.min(f.lng,u.lng),u.lat=Math.min(f.lat,u.lat),h.lng=Math.max(v.lng,h.lng),h.lat=Math.max(v.lat,h.lat)):(this._sw=new a.V(f.lng,f.lat),this._ne=new a.V(v.lng,v.lat)),this}getCenter(){return new a.V((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.V(this.getWest(),this.getNorth())}getSouthEast(){return new a.V(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(r){let{lng:u,lat:h}=a.V.convert(r),f=this._sw.lng<=u&&u<=this._ne.lng;return this._sw.lng>this._ne.lng&&(f=this._sw.lng>=u&&u>=this._ne.lng),this._sw.lat<=h&&h<=this._ne.lat&&f}intersects(r){if(!((r=Hn.convert(r)).getNorth()>=this.getSouth()&&r.getSouth()<=this.getNorth()))return!1;let u=Math.abs(this.getEast()-this.getWest()),h=Math.abs(r.getEast()-r.getWest());if(u>=360||h>=360)return!0;let f=a.W(this.getWest(),-180,180),v=a.W(this.getEast(),-180,180),w=a.W(r.getWest(),-180,180),k=a.W(r.getEast(),-180,180),P=f>=v,O=w>=k;return!(!P||!O)||(P?k>=f||w<=v:O?v>=w||f<=k:w<=v&&k>=f)}static convert(r){return r instanceof Hn?r:r&&new Hn(r)}static fromLngLat(r,u=0){let h=360*u/40075017,f=h/Math.cos(Math.PI/180*r.lat);return new Hn(new a.V(r.lng-f,r.lat-h),new a.V(r.lng+f,r.lat+h))}adjustAntiMeridian(){let r=new a.V(this._sw.lng,this._sw.lat),u=new a.V(this._ne.lng,this._ne.lat);return new Hn(r,r.lng>u.lng?new a.V(u.lng+360,u.lat):u)}}class as{constructor(r,u,h){this.bounds=Hn.convert(this.validateBounds(r)),this.minzoom=u||0,this.maxzoom=h||24}validateBounds(r){return Array.isArray(r)&&r.length===4?[Math.max(-180,r[0]),Math.max(-90,r[1]),Math.min(180,r[2]),Math.min(90,r[3])]:[-180,-90,180,90]}contains(r){let u=Math.pow(2,r.z),h=Math.floor(a.Y(this.bounds.getWest())*u),f=Math.floor(a.X(this.bounds.getNorth())*u),v=Math.ceil(a.Y(this.bounds.getEast())*u),w=Math.ceil(a.X(this.bounds.getSouth())*u);return r.x>=h&&r.x<v&&r.y>=f&&r.y<w}}class Os extends a.E{constructor(r,u,h,f){if(super(),this.id=r,this.dispatcher=h,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.e(this,a.U(u,["url","scheme","tileSize","promoteId","encoding"])),this._options=a.e({type:"vector"},u),this._collectResourceTiming=u.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(f)}load(){return a._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let r=yield Er(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.tileManagers[this.id].clearTiles(),r&&(a.e(this,r),r.bounds&&(this.tileBounds=new as(r.bounds,this.minzoom,this.maxzoom)),this.fire(new a.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.l("data",{dataType:"source",sourceDataType:"content"})))}catch(r){this._tileJSONRequest=null,this._loaded=!0,a.Z(r)||this.fire(new a.k(r))}})}loaded(){return this._loaded}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}onAdd(r){this.map=r,this.load()}setSourceProperty(r){this._tileJSONRequest&&this._tileJSONRequest.abort(),r(),this.load()}setTiles(r){return this.setSourceProperty(()=>{this._options.tiles=r}),this}setUrl(r){return this.setSourceProperty(()=>{this.url=r,this._options.url=r}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return a.e({},this._options)}loadTile(r){return a._(this,void 0,void 0,function*(){let u=r.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),h={request:this.map._requestManager.transformRequest(u,"Tile"),uid:r.uid,tileID:r.tileID,zoom:r.tileID.overscaledZ,tileSize:this.tileSize*r.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,encoding:this.encoding,overzoomParameters:this._getOverzoomParameters(r)};h.request.collectResourceTiming=this._collectResourceTiming;let f="RT";if(r.actor&&r.state!=="expired"){if(r.state==="loading")return new Promise((v,w)=>{r.reloadPromise={resolve:v,reject:w}})}else r.actor=this.dispatcher.getActor(),f="LT";r.abortController=new AbortController;try{let v=yield r.actor.sendAsync({type:f,data:h},r.abortController);if(delete r.abortController,r.aborted)return;this._afterTileLoadWorkerResponse(r,v)}catch(v){if(delete r.abortController,r.aborted)return;if(v&&v.status!==404)throw v;this._afterTileLoadWorkerResponse(r,null)}})}_getOverzoomParameters(r){if(r.tileID.canonical.z<=this.maxzoom||this.map._zoomLevelsToOverscale===void 0)return;let u=r.tileID.scaledTo(this.maxzoom).canonical,h=u.url(this.tiles,this.map.getPixelRatio(),this.scheme);return{maxZoomTileID:u,overzoomRequest:this.map._requestManager.transformRequest(h,"Tile")}}_afterTileLoadWorkerResponse(r,u){if(u&&u.resourceTiming&&(r.resourceTiming=u.resourceTiming),u&&this.map._refreshExpiredTiles&&r.setExpiryData(u),r.loadVectorData(u,this.map.painter),r.reloadPromise){let h=r.reloadPromise;r.reloadPromise=null,this.loadTile(r).then(h.resolve).catch(h.reject)}}abortTile(r){return a._(this,void 0,void 0,function*(){r.abortController&&(r.abortController.abort(),delete r.abortController),r.actor&&(yield r.actor.sendAsync({type:"AT",data:{uid:r.uid,type:this.type,source:this.id}}))})}unloadTile(r){return a._(this,void 0,void 0,function*(){r.unloadVectorData(),r.actor&&(yield r.actor.sendAsync({type:"RMT",data:{uid:r.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class gl extends a.E{constructor(r,u,h,f){super(),this.id=r,this.dispatcher=h,this.setEventedParent(f),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.e({type:"raster"},u),a.e(this,a.U(u,["url","scheme","tileSize"]))}load(){return a._(this,arguments,void 0,function*(r=!1){this._loaded=!1,this.fire(new a.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{let u=yield Er(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,u&&(a.e(this,u),u.bounds&&(this.tileBounds=new as(u.bounds,this.minzoom,this.maxzoom)),this.fire(new a.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:r})))}catch(u){this._tileJSONRequest=null,this._loaded=!0,a.Z(u)||this.fire(new a.k(u))}})}loaded(){return this._loaded}onAdd(r){this.map=r,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(r){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),r(),this.load(!0)}setTiles(r){return this.setSourceProperty(()=>{this._options.tiles=r}),this}setUrl(r){return this.setSourceProperty(()=>{this.url=r,this._options.url=r}),this}serialize(){return a.e({},this._options)}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}loadTile(r){return a._(this,void 0,void 0,function*(){let u=r.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);r.abortController=new AbortController;try{let h=yield st.getImage(this.map._requestManager.transformRequest(u,"Tile"),r.abortController,this.map._refreshExpiredTiles);if(delete r.abortController,r.aborted)return void(r.state="unloaded");if(h&&h.data){this.map._refreshExpiredTiles&&(h.cacheControl||h.expires)&&r.setExpiryData({cacheControl:h.cacheControl,expires:h.expires});let f=this.map.painter.context,v=f.gl,w=h.data;r.texture=this.map.painter.getTileTexture(w.width),r.texture?r.texture.update(w,{useMipmap:!0}):(r.texture=new a.T(f,w,v.RGBA,{useMipmap:!0}),r.texture.bind(v.LINEAR,v.CLAMP_TO_EDGE,v.LINEAR_MIPMAP_NEAREST)),r.state="loaded"}}catch(h){if(delete r.abortController,r.aborted)r.state="unloaded";else if(h)throw r.state="errored",h}})}abortTile(r){return a._(this,void 0,void 0,function*(){r.abortController&&(r.abortController.abort(),delete r.abortController)})}unloadTile(r){return a._(this,void 0,void 0,function*(){r.texture&&this.map.painter.saveTileTexture(r.texture)})}hasTransition(){return!1}}class os extends gl{constructor(r,u,h,f){super(r,u,h,f),this.type="raster-dem",this.maxzoom=22,this._options=a.e({type:"raster-dem"},u),this.encoding=u.encoding||"mapbox",this.redFactor=u.redFactor,this.greenFactor=u.greenFactor,this.blueFactor=u.blueFactor,this.baseShift=u.baseShift}loadTile(r){return a._(this,void 0,void 0,function*(){let u=r.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),h=this.map._requestManager.transformRequest(u,"Tile");r.neighboringTiles=this._getNeighboringTiles(r.tileID),r.abortController=new AbortController;try{let f=yield st.getImage(h,r.abortController,this.map._refreshExpiredTiles);if(delete r.abortController,r.aborted)return void(r.state="unloaded");if(f&&f.data){let v=f.data;this.map._refreshExpiredTiles&&(f.cacheControl||f.expires)&&r.setExpiryData({cacheControl:f.cacheControl,expires:f.expires});let w=a.b(v)&&a.$()?v:yield this.readImageNow(v),k={type:this.type,uid:r.uid,source:this.id,rawImageData:w,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!r.actor||r.state==="expired"){r.actor=this.dispatcher.getActor();let P=yield r.actor.sendAsync({type:"LDT",data:k});r.dem=P,r.needsHillshadePrepare=!0,r.needsTerrainPrepare=!0,r.state="loaded"}}}catch(f){if(delete r.abortController,r.aborted)r.state="unloaded";else if(f)throw r.state="errored",f}})}readImageNow(r){return a._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&a.a0()){let u=r.width+2,h=r.height+2;try{return new a.R({width:u,height:h},yield a.a1(r,-1,-1,u,h))}catch{}}return $.getImageData(r,1)})}_getNeighboringTiles(r){let u=r.canonical,h=Math.pow(2,u.z),f=(u.x-1+h)%h,v=u.x===0?r.wrap-1:r.wrap,w=(u.x+1+h)%h,k=u.x+1===h?r.wrap+1:r.wrap,P={};return P[new a.a2(r.overscaledZ,v,u.z,f,u.y).key]={backfilled:!1},P[new a.a2(r.overscaledZ,k,u.z,w,u.y).key]={backfilled:!1},u.y>0&&(P[new a.a2(r.overscaledZ,v,u.z,f,u.y-1).key]={backfilled:!1},P[new a.a2(r.overscaledZ,r.wrap,u.z,u.x,u.y-1).key]={backfilled:!1},P[new a.a2(r.overscaledZ,k,u.z,w,u.y-1).key]={backfilled:!1}),u.y+1<h&&(P[new a.a2(r.overscaledZ,v,u.z,f,u.y+1).key]={backfilled:!1},P[new a.a2(r.overscaledZ,r.wrap,u.z,u.x,u.y+1).key]={backfilled:!1},P[new a.a2(r.overscaledZ,k,u.z,w,u.y+1).key]={backfilled:!1}),P}unloadTile(r){return a._(this,void 0,void 0,function*(){r.demTexture&&this.map.painter.saveTileTexture(r.demTexture),r.fbo&&(r.fbo.destroy(),delete r.fbo),r.dem&&delete r.dem,delete r.neighboringTiles,r.state="unloaded",r.actor&&(yield r.actor.sendAsync({type:"RDT",data:{type:this.type,uid:r.uid,source:this.id}}))})}}function ur(b){return b.type==="GeometryCollection"?b.geometries.map(r=>r.coordinates).flat(1/0):b.coordinates.flat(1/0)}function _l(b){let r=new Hn,u;switch(b.type){case"FeatureCollection":u=b.features.map(h=>ur(h.geometry)).flat(1/0);break;case"Feature":u=ur(b.geometry);break;default:u=ur(b)}if(u.length==0)return r;for(let h=0;h<u.length-1;h+=2)r.extend([u[h],u[h+1]]);return r}class bl extends a.E{constructor(r,u,h,f){super(),this.id=r,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._isUpdatingWorker=!1,this._pendingWorkerUpdate={data:u.data},this.actor=h.getActor(),this.setEventedParent(f),this._data=typeof u.data=="string"?{url:u.data}:{geojson:u.data},this._options=a.e({},u),this._collectResourceTiming=u.collectResourceTiming,u.maxzoom!==void 0&&(this.maxzoom=u.maxzoom),u.type&&(this.type=u.type),u.attribution&&(this.attribution=u.attribution),this.promoteId=u.promoteId,u.clusterMaxZoom!==void 0&&this.maxzoom<=u.clusterMaxZoom&&a.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${u.clusterMaxZoom}".`),this.workerOptions=a.e({source:this.id,cluster:u.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(u.buffer!==void 0?u.buffer:128),tolerance:this._pixelsToTileUnits(u.tolerance!==void 0?u.tolerance:.375),extent:a.a5,maxZoom:this.maxzoom,lineMetrics:u.lineMetrics||!1,generateId:u.generateId||!1},superclusterOptions:{maxZoom:this._getClusterMaxZoom(u.clusterMaxZoom),minPoints:Math.max(2,u.clusterMinPoints||2),extent:a.a5,radius:this._pixelsToTileUnits(u.clusterRadius||50),log:!1,generateId:u.generateId||!1},clusterProperties:u.clusterProperties,filter:u.filter},u.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_hasPendingWorkerUpdate(){return this._pendingWorkerUpdate.data!==void 0||this._pendingWorkerUpdate.diff!==void 0||this._pendingWorkerUpdate.optionsChanged}_pixelsToTileUnits(r){return r*(a.a5/this.tileSize)}_getClusterMaxZoom(r){let u=r?Math.round(r):this.maxzoom-1;return Number.isInteger(r)||r===void 0||a.w(`Integer expected for option 'clusterMaxZoom': provided value "${r}" rounded to "${u}"`),u}load(){return a._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(r){this.map=r,this.load()}setData(r,u){this._data=typeof r=="string"?{url:r}:{geojson:r},this._pendingWorkerUpdate={data:r};let h=this._updateWorkerData();return u?h:this}updateData(r,u){this._pendingWorkerUpdate.diff=a.a6(this._pendingWorkerUpdate.diff,r);let h=this._updateWorkerData();return u?h:this}getData(){return a._(this,void 0,void 0,function*(){let r=a.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:r})})}getBounds(){return a._(this,void 0,void 0,function*(){return _l(yield this.getData())})}setClusterOptions(r){return this.workerOptions.cluster=r.cluster,r.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(r.clusterRadius)),r.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=this._getClusterMaxZoom(r.clusterMaxZoom)),this._pendingWorkerUpdate.optionsChanged=!0,this._updateWorkerData(),this}getClusterExpansionZoom(r){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:r,source:this.id}})}getClusterChildren(r){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:r,source:this.id}})}getClusterLeaves(r,u,h){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:r,limit:u,offset:h}})}_updateWorkerData(){return a._(this,void 0,void 0,function*(){if(this._isUpdatingWorker)return;if(!this._hasPendingWorkerUpdate())return void a.w(`No pending worker updates for GeoJSONSource ${this.id}.`);let{data:r,diff:u}=this._pendingWorkerUpdate,h=a.e({type:this.type},this.workerOptions);r!==void 0?(typeof r=="string"?(h.request=this.map._requestManager.transformRequest($.resolveURL(r),"Source"),h.request.collectResourceTiming=this._collectResourceTiming):h.data=r,this._pendingWorkerUpdate.data=void 0):u&&(h.dataDiff=u,this._pendingWorkerUpdate.diff=void 0),this._pendingWorkerUpdate.optionsChanged=void 0,this._isUpdatingWorker=!0,this.fire(new a.l("dataloading",{dataType:"source"}));try{let f=yield this.actor.sendAsync({type:"LD",data:h});if(this._isUpdatingWorker=!1,this._removed||f.abandoned)return void this.fire(new a.l("dataabort",{dataType:"source"}));f.data&&(this._data={geojson:f.data});let v=this._applyDiffToSource(u),w=this._getShouldReloadTileOptions(v),k=null;f.resourceTiming&&f.resourceTiming[this.id]&&(k=f.resourceTiming[this.id].slice(0));let P={dataType:"source"};this._collectResourceTiming&&k&&k.length>0&&a.e(P,{resourceTiming:k}),this.fire(new a.l("data",Object.assign(Object.assign({},P),{sourceDataType:"metadata"}))),this.fire(new a.l("data",Object.assign(Object.assign({},P),{sourceDataType:"content",shouldReloadTileOptions:w})))}catch(f){if(this._isUpdatingWorker=!1,this._removed)return void this.fire(new a.l("dataabort",{dataType:"source"}));this.fire(new a.k(f))}finally{this._hasPendingWorkerUpdate()&&this._updateWorkerData()}})}_applyDiffToSource(r){if(!r)return;let u=typeof this.promoteId=="string"?this.promoteId:void 0;if(!this._data.url&&!this._data.updateable){let f=a.a7(this._data.geojson,u);if(!f)throw new Error(`GeoJSONSource "${this.id}": GeoJSON data is not compatible with updateData`);this._data={updateable:f}}if(!this._data.updateable)return;let h=a.a8(this._data.updateable,r,u);return r.removeAll||this._options.cluster?void 0:h}_getShouldReloadTileOptions(r){if(r)return{affectedBounds:r.filter(Boolean).map(u=>_l(u))}}shouldReloadTile(r,{affectedBounds:u}){if(r.state==="loading")return!0;if(r.state==="unloaded")return!1;let{buffer:h,extent:f}=this.workerOptions.geojsonVtOptions,v=function({x:w,y:k,z:P},O=0){let z=a.a3((w-O)/Math.pow(2,P)),H=a.a4((k+1+O)/Math.pow(2,P)),j=a.a3((w+1+O)/Math.pow(2,P)),W=a.a4((k-O)/Math.pow(2,P));return new Hn([z,H],[j,W])}(r.tileID.canonical,h/f);for(let w of u)if(v.intersects(w))return!0;return!1}loaded(){return!this._isUpdatingWorker&&!this._hasPendingWorkerUpdate()}loadTile(r){return a._(this,void 0,void 0,function*(){let u=r.actor?"RT":"LT";r.actor=this.actor;let h={type:this.type,uid:r.uid,tileID:r.tileID,zoom:r.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};r.abortController=new AbortController;let f=yield this.actor.sendAsync({type:u,data:h},r.abortController);delete r.abortController,r.unloadVectorData(),r.aborted||r.loadVectorData(f,this.map.painter,u==="RT")})}abortTile(r){return a._(this,void 0,void 0,function*(){r.abortController&&(r.abortController.abort(),delete r.abortController),r.aborted=!0})}unloadTile(r){return a._(this,void 0,void 0,function*(){r.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:r.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return a.e({},this._options,{type:this.type,data:this._data.updateable?{type:"FeatureCollection",features:Array.from(this._data.updateable.values())}:this._data.url||this._data.geojson})}hasTransition(){return!1}}class xo extends a.E{constructor(r,u,h,f){super(),this.flippedWindingOrder=!1,this.id=r,this.dispatcher=h,this.coordinates=u.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(f),this.options=u}load(r){return a._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{let u=yield st.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,u&&u.data&&(this.image=u.data,r&&(this.coordinates=r),this._finishLoading())}catch(u){this._request=null,this._loaded=!0,a.Z(u)||this.fire(new a.k(u))}})}loaded(){return this._loaded}updateImage(r){return r.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=r.url,this.load(r.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(r){this.map=r,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(r){this.coordinates=r;let u=r.map(a.a9.fromLngLat);var h;return this.tileID=function(f){let v=a.aa.fromPoints(f),w=v.width(),k=v.height(),P=Math.max(w,k),O=Math.max(0,Math.floor(-Math.log(P)/Math.LN2)),z=Math.pow(2,O);return new a.ac(O,Math.floor((v.minX+v.maxX)/2*z),Math.floor((v.minY+v.maxY)/2*z))}(u),this.terrainTileRanges=this._getOverlappingTileRanges(u),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=u.map(f=>this.tileID.getTilePoint(f)._round()),this.flippedWindingOrder=((h=this.tileCoords)[1].x-h[0].x)*(h[2].y-h[0].y)-(h[1].y-h[0].y)*(h[2].x-h[0].x)<0,this.fire(new a.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;let r=this.map.painter.context,u=r.gl;this.texture||(this.texture=new a.T(r,this.image,u.RGBA),this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE));let h=!1;for(let f in this.tiles){let v=this.tiles[f];v.state!=="loaded"&&(v.state="loaded",v.texture=this.texture,h=!0)}h&&this.fire(new a.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(r){return a._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(r.tileID.canonical)?(this.tiles[String(r.tileID.wrap)]=r,r.buckets={}):r.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(r){let{minX:u,minY:h,maxX:f,maxY:v}=a.aa.fromPoints(r),w={};for(let k=0;k<=a.ab;k++){let P=Math.pow(2,k),O=Math.floor(u*P),z=Math.floor(h*P),H=Math.floor(f*P),j=Math.floor(v*P);w[k]={minTileX:O,minTileY:z,maxTileX:H,maxTileY:j}}return w}}class ze extends xo{constructor(r,u,h,f){super(r,u,h,f),this.roundZoom=!0,this.type="video",this.options=u}load(){return a._(this,void 0,void 0,function*(){this._loaded=!1;let r=this.options;this.urls=[];for(let u of r.urls)this.urls.push(this.map._requestManager.transformRequest(u,"Source").url);try{let u=yield a.ad(this.urls);if(this._loaded=!0,!u)return;this.video=u,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(u){this.fire(new a.k(u))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(r){if(this.video){let u=this.video.seekable;r<u.start(0)||r>u.end(0)?this.fire(new a.k(new a.ae(`sources.${this.id}`,null,`Playback for this video can be set only between the ${u.start(0)} and ${u.end(0)}-second mark.`))):this.video.currentTime=r}}getVideo(){return this.video}onAdd(r){this.map||(this.map=r,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;let r=this.map.painter.context,u=r.gl;this.texture?this.video.paused||(this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE),u.texSubImage2D(u.TEXTURE_2D,0,0,0,u.RGBA,u.UNSIGNED_BYTE,this.video)):(this.texture=new a.T(r,this.video,u.RGBA),this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE));let h=!1;for(let f in this.tiles){let v=this.tiles[f];v.state!=="loaded"&&(v.state="loaded",v.texture=this.texture,h=!0)}h&&this.fire(new a.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class ee extends xo{constructor(r,u,h,f){super(r,u,h,f),u.coordinates?Array.isArray(u.coordinates)&&u.coordinates.length===4&&!u.coordinates.some(v=>!Array.isArray(v)||v.length!==2||v.some(w=>typeof w!="number"))||this.fire(new a.k(new a.ae(`sources.${r}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.k(new a.ae(`sources.${r}`,null,'missing required property "coordinates"'))),u.animate&&typeof u.animate!="boolean"&&this.fire(new a.k(new a.ae(`sources.${r}`,null,'optional "animate" property must be a boolean value'))),u.canvas?typeof u.canvas=="string"||u.canvas instanceof HTMLCanvasElement||this.fire(new a.k(new a.ae(`sources.${r}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.k(new a.ae(`sources.${r}`,null,'missing required property "canvas"'))),this.options=u,this.animate=u.animate===void 0||u.animate}load(){return a._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(r){this.map=r,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let r=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,r=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,r=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;let u=this.map.painter.context,h=u.gl;this.texture?(r||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):(this.texture=new a.T(u,this.canvas,h.RGBA,{premultiply:!0}),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE));let f=!1;for(let v in this.tiles){let w=this.tiles[v];w.state!=="loaded"&&(w.state="loaded",w.texture=this.texture,f=!0)}f&&this.fire(new a.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",animate:this.animate,canvas:this.options.canvas,coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(let r of[this.canvas.width,this.canvas.height])if(isNaN(r)||r<=0)return!0;return!1}}let J={},de=b=>{switch(b){case"geojson":return bl;case"image":return xo;case"raster":return gl;case"raster-dem":return os;case"vector":return Os;case"video":return ze;case"canvas":return ee}return J[b]},Ee="RTLPluginLoaded";class De extends a.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=kc()}_syncState(r){return this.status=r,this.dispatcher.broadcast("SRPS",{pluginStatus:r,pluginURL:this.url}).catch(u=>{throw this.status="error",u})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(r){return a._(this,arguments,void 0,function*(u,h=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=$.resolveURL(u),!this.url)throw new Error(`requested url ${u} is invalid`);if(this.status==="unavailable"){if(!h)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return a._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new a.l(Ee))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Ne=null;function Oe(){return Ne||(Ne=new De),Ne}var Le,Ke;(function(b){b[b.Base=0]="Base",b[b.Parent=1]="Parent"})(Le||(Le={})),function(b){b[b.Departing=0]="Departing",b[b.Incoming=1]="Incoming"}(Ke||(Ke={}));class ft{constructor(r,u){this.timeAdded=0,this.fadeEndTime=0,this.fadeOpacity=1,this.tileID=r,this.uid=a.af(),this.uses=0,this.tileSize=u,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}isRenderable(r){return this.hasData()&&(!this.fadeEndTime||this.fadeOpacity>0)&&(r||!this.holdingForSymbolFade())}setCrossFadeLogic({fadingRole:r,fadingDirection:u,fadingParentID:h,fadeEndTime:f}){this.resetFadeLogic(),this.fadingRole=r,this.fadingDirection=u,this.fadingParentID=h,this.fadeEndTime=f}setSelfFadeLogic(r){this.resetFadeLogic(),this.selfFading=!0,this.fadeEndTime=r}resetFadeLogic(){this.fadingRole=null,this.fadingDirection=null,this.fadingParentID=null,this.selfFading=!1,this.timeAdded=re(),this.fadeEndTime=0,this.fadeOpacity=1}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(r){this.demTexture&&r.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(r,u,h){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",r){r.featureIndex&&(this.latestFeatureIndex=r.featureIndex,r.rawTileData?(this.latestRawTileData=r.rawTileData,this.latestFeatureIndex.rawTileData=r.rawTileData,this.latestFeatureIndex.encoding=r.encoding):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData,this.latestFeatureIndex.encoding=this.latestEncoding)),this.collisionBoxArray=r.collisionBoxArray,this.buckets=function(f,v){let w={};if(!v)return w;for(let k of f){let P=k.layerIds.map(O=>v.getLayer(O)).filter(Boolean);if(P.length!==0){k.layers=P,k.stateDependentLayerIds&&(k.stateDependentLayers=k.stateDependentLayerIds.map(O=>P.filter(z=>z.id===O)[0]));for(let O of P)w[O.id]=k}}return w}(r.buckets,u?.style),this.hasSymbolBuckets=!1;for(let f in this.buckets){let v=this.buckets[f];if(v instanceof a.ah){if(this.hasSymbolBuckets=!0,!h)break;v.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(let f in this.buckets){let v=this.buckets[f];if(v instanceof a.ah&&v.hasRTLText){this.hasRTLText=!0,Oe().lazyLoad();break}}this.queryPadding=0;for(let f in this.buckets){let v=this.buckets[f];this.queryPadding=Math.max(this.queryPadding,u.style.getLayer(f).queryRadius(v))}r.imageAtlas&&(this.imageAtlas=r.imageAtlas),r.glyphAtlasImage&&(this.glyphAtlasImage=r.glyphAtlasImage),this.dashPositions=r.dashPositions}else this.collisionBoxArray=new a.ag}unloadVectorData(){for(let r in this.buckets)this.buckets[r].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.dashPositions&&(this.dashPositions=null),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(r){return this.buckets[r.id]}upload(r){for(let h in this.buckets){let f=this.buckets[h];f.uploadPending()&&f.upload(r)}let u=r.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new a.T(r,this.imageAtlas.image,u.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new a.T(r,this.glyphAtlasImage,u.ALPHA),this.glyphAtlasImage=null)}prepare(r){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(r,this.imageAtlasTexture)}queryRenderedFeatures(r,u,h,f,v,w,k,P,O,z,H){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:f,cameraQueryGeometry:v,scale:w,tileSize:this.tileSize,pixelPosMatrix:z,transform:P,params:k,queryPadding:this.queryPadding*O,getElevation:H},r,u,h):{}}querySourceFeatures(r,u){let h=this.latestFeatureIndex;if(!h||!h.rawTileData)return;let f=h.loadVTLayers(),v=u&&u.sourceLayer?u.sourceLayer:"",w=f[a.ai]||f[v];if(!w)return;let k=a.aj(u?.filter,u?.globalState),{z:P,x:O,y:z}=this.tileID.canonical,H={z:P,x:O,y:z};for(let j=0;j<w.length;j++){let W=w.feature(j);if(k.needGeometry){let fe=a.ak(W,!0);if(!k.filter(new a.H(this.tileID.overscaledZ),fe,this.tileID.canonical))continue}else if(!k.filter(new a.H(this.tileID.overscaledZ),W))continue;let ie=h.getId(W,v),he=new a.al(W,P,O,z,ie);he.tile=H,r.push(he)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(r){let u=this.expirationTime;if(r.cacheControl){let h=a.am(r.cacheControl);h["max-age"]&&(this.expirationTime=Date.now()+1e3*h["max-age"])}else r.expires&&(this.expirationTime=new Date(r.expires).getTime());if(this.expirationTime){let h=Date.now(),f=!1;if(this.expirationTime>h)f=!1;else if(u)if(this.expirationTime<u)f=!0;else{let v=this.expirationTime-u;v?this.expirationTime=h+Math.max(v,3e4):f=!0}else f=!0;f?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(r,u){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(r).length===0)return;let h=this.latestFeatureIndex.loadVTLayers();for(let f in this.buckets){if(!u.style.hasLayer(f))continue;let v=this.buckets[f],w=v.layers[0].sourceLayer||a.ai,k=h[w],P=r[w];if(!k||!P||Object.keys(P).length===0)continue;v.update(P,k,this.imageAtlas&&this.imageAtlas.patternPositions||{},this.dashPositions||{});let O=u&&u.style&&u.style.getLayer(f);O&&(this.queryPadding=Math.max(this.queryPadding,O.queryRadius(v)))}}holdingForSymbolFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<re()}clearSymbolFadeHold(){this.symbolFadeHoldUntil=void 0}setSymbolHoldDuration(r){this.symbolFadeHoldUntil=re()+r}setDependencies(r,u){let h={};for(let f of u)h[f]=!0;this.dependencies[r]=h}hasDependency(r,u){for(let h of r){let f=this.dependencies[h];if(f){for(let v of u)if(f[v])return!0}}return!1}}class ct{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(r,u,h){let f=String(u);if(this.stateChanges[r]=this.stateChanges[r]||{},this.stateChanges[r][f]=this.stateChanges[r][f]||{},a.e(this.stateChanges[r][f],h),this.deletedStates[r]===null){this.deletedStates[r]={};for(let v in this.state[r])v!==f&&(this.deletedStates[r][v]=null)}else if(this.deletedStates[r]&&this.deletedStates[r][f]===null){this.deletedStates[r][f]={};for(let v in this.state[r][f])h[v]||(this.deletedStates[r][f][v]=null)}else for(let v in h)this.deletedStates[r]&&this.deletedStates[r][f]&&this.deletedStates[r][f][v]===null&&delete this.deletedStates[r][f][v]}removeFeatureState(r,u,h){if(this.deletedStates[r]===null)return;let f=String(u);if(this.deletedStates[r]=this.deletedStates[r]||{},h&&u!==void 0)this.deletedStates[r][f]!==null&&(this.deletedStates[r][f]=this.deletedStates[r][f]||{},this.deletedStates[r][f][h]=null);else if(u!==void 0)if(this.stateChanges[r]&&this.stateChanges[r][f])for(h in this.deletedStates[r][f]={},this.stateChanges[r][f])this.deletedStates[r][f][h]=null;else this.deletedStates[r][f]=null;else this.deletedStates[r]=null}getState(r,u){let h=String(u),f=a.e({},(this.state[r]||{})[h],(this.stateChanges[r]||{})[h]);if(this.deletedStates[r]===null)return{};if(this.deletedStates[r]){let v=this.deletedStates[r][u];if(v===null)return{};for(let w in v)delete f[w]}return f}initializeTileState(r,u){r.setFeatureState(this.state,u)}coalesceChanges(r,u){let h={};for(let f in this.stateChanges){this.state[f]=this.state[f]||{};let v={};for(let w in this.stateChanges[f])this.state[f][w]||(this.state[f][w]={}),a.e(this.state[f][w],this.stateChanges[f][w]),v[w]=this.state[f][w];h[f]=v}for(let f in this.deletedStates){this.state[f]=this.state[f]||{};let v={};if(this.deletedStates[f]===null)for(let w in this.state[f])v[w]={},this.state[f][w]={};else for(let w in this.deletedStates[f]){if(this.deletedStates[f][w]===null)this.state[f][w]={};else for(let k of Object.keys(this.deletedStates[f][w]))delete this.state[f][w][k];v[w]=this.state[f][w]}h[f]=h[f]||{},a.e(h[f],v)}this.stateChanges={},this.deletedStates={},Object.keys(h).length!==0&&r.setFeatureState(h,u)}}let zt=89.25;function Qt(b,r){let u=a.an(r.lat,-a.ao,a.ao);return new a.P(a.Y(r.lng)*b,a.X(u)*b)}function fi(b,r){return new a.a9(r.x/b,r.y/b).toLngLat()}function cn(b){return b.cameraToCenterDistance*Math.min(.85*Math.tan(a.ap(90-b.pitch)),Math.tan(a.ap(zt-b.pitch)))}function Wi(b,r){let u=b.canonical,h=r/a.aq(u.z),f=u.x+Math.pow(2,u.z)*b.wrap,v=a.ar(new Float64Array(16));return a.O(v,v,[f*h,u.y*h,0]),a.Q(v,v,[h/a.a5,h/a.a5,1]),v}function He(b,r,u,h,f){let v=a.a9.fromLngLat(b,r),w=f*a.as(1,b.lat),{x:k,y:P,z:O}=hn(u,h);return new a.a9(v.x+w*-k,v.y+w*-P,v.z+w*-O)}function hn(b,r){let u=a.ap(b),h=a.ap(r),f=Math.cos(-u),v=Math.sin(u);return{x:v*Math.sin(h),y:-v*Math.cos(h),z:f}}function Ra(b,r,u){let h=r.intersectsFrustum(b);if(!u||h===0)return h;let f=r.intersectsPlane(u);return f===0?0:h===2&&f===2?2:1}function gi(b,r,u){let h=0,f=(u-r)/10;for(let v=0;v<10;v++)h+=f*Math.pow(Math.cos(r+(v+.5)/10*(u-r)),b);return h}function on(b,r){return function(u,h,f,v,w){let k=2*((b-1)/a.at(Math.cos(a.ap(zt-w))/Math.cos(a.ap(zt)))-1),P=Math.acos(f/v),O=2*gi(k-1,0,a.ap(w/2)),z=Math.min(a.ap(zt),P+a.ap(w/2)),H=gi(k-1,Math.min(z,P-a.ap(w/2)),z),j=Math.atan(h/f),W=Math.hypot(h,f),ie=u;return ie+=a.at(v/W/Math.max(.5,Math.cos(a.ap(w/2)))),ie+=k*a.at(Math.cos(j))/2,ie-=a.at(Math.max(1,H/O/r))/2,ie}}let Na=on(9.314,3);function Cn(b,r){let u=(r.roundZoom?Math.round:Math.floor)(b.zoom+a.at(b.tileSize/r.tileSize));return Math.max(0,u)}function Gn(b,r){let u=b.getCameraFrustum(),h=b.getClippingPlane(),f=b.screenPointToMercatorCoordinate(b.getCameraPoint()),v=a.a9.fromLngLat(b.center,b.elevation);f.z=v.z+Math.cos(b.pitchInRadians)*b.cameraToCenterDistance/b.worldSize;let w=b.getCoveringTilesDetailsProvider(),k=w.allowVariableZoom(b,r),P=Cn(b,r),O=r.minzoom||0,z=r.maxzoom!==void 0?r.maxzoom:b.maxZoom,H=Math.min(Math.max(0,P),z),j=Math.pow(2,H),W=[j*f.x,j*f.y,0],ie=[j*v.x,j*v.y,0],he=Math.hypot(v.x-f.x,v.y-f.y),fe=Math.abs(v.z-f.z),me=Math.hypot(he,fe),be=Ce=>({zoom:0,x:0,y:0,wrap:Ce,fullyVisible:!1}),Se=[],_e=[];if(b.renderWorldCopies&&w.allowWorldCopies())for(let Ce=1;Ce<=3;Ce++)Se.push(be(-Ce)),Se.push(be(Ce));for(Se.push(be(0));Se.length>0;){let Ce=Se.pop(),Pe=Ce.x,xe=Ce.y,Ae=Ce.fullyVisible,Ze={x:Pe,y:xe,z:Ce.zoom},qe=w.getTileBoundingVolume(Ze,Ce.wrap,b.elevation,r);if(!Ae){let It=Ra(u,qe,h);if(It===0)continue;Ae=It===2}let Ge=w.distanceToTile2d(f.x,f.y,Ze,qe),Ue=P;k&&(Ue=(r.calculateTileZoom||Na)(b.zoom+a.at(b.tileSize/r.tileSize),Ge,fe,me,b.fov)),Ue=(r.roundZoom?Math.round:Math.floor)(Ue),Ue=Math.max(0,Ue);let xt=Math.min(Ue,z);if(Ce.wrap=w.getWrap(v,Ze,Ce.wrap),Ce.zoom>=xt){if(Ce.zoom<O)continue;let It=H-Ce.zoom,pt=W[0]-.5-(Pe<<It),kt=W[1]-.5-(xe<<It),_i=r.reparseOverscaled?Math.max(Ce.zoom,Ue):Ce.zoom;_e.push({tileID:new a.a2(Ce.zoom===z?_i:Ce.zoom,Ce.wrap,Ce.zoom,Pe,xe),distanceSq:a.au([ie[0]-.5-Pe,ie[1]-.5-xe]),tileDistanceToCamera:Math.sqrt(pt*pt+kt*kt)})}else for(let It=0;It<4;It++)Se.push({zoom:Ce.zoom+1,x:(Pe<<1)+It%2,y:(xe<<1)+(It>>1),wrap:Ce.wrap,fullyVisible:Ae})}return _e.sort((Ce,Pe)=>Ce.distanceSq-Pe.distanceSq).map(Ce=>Ce.tileID)}let mn=a.aa.fromPoints([new a.P(0,0),new a.P(a.a5,a.a5)]);function ma(b){return b==="raster"||b==="image"||b==="video"}function Pc(b,r,u,h,f,v,w){if(!r.hasData())return!1;let{tileID:k,fadingRole:P,fadingDirection:O,fadingParentID:z}=r;if(P===Le.Base&&O===Ke.Incoming&&z)return u[z.key]=z,!0;let H=Math.max(k.overscaledZ-f,v);for(let j=k.overscaledZ-1;j>=H;j--){let W=k.scaledTo(j),ie=b.getLoadedTile(W);if(ie)return r.setCrossFadeLogic({fadingRole:Le.Base,fadingDirection:Ke.Incoming,fadingParentID:ie.tileID,fadeEndTime:h+w}),ie.setCrossFadeLogic({fadingRole:Le.Parent,fadingDirection:Ke.Departing,fadeEndTime:h+w}),u[W.key]=W,!0}return!1}function Dc(b,r,u,h,f,v){if(!r.hasData())return!1;let w=r.tileID.children(f),k=vt(b,r,w,u,h,f,v);if(k)return!0;for(let P of w)vt(b,r,P.children(f),u,h,f,v)&&(k=!0);return k}function vt(b,r,u,h,f,v,w){if(u[0].overscaledZ>=v)return!1;let k=!1;for(let P of u){let O=b.getLoadedTile(P);if(!O)continue;let{fadingRole:z,fadingDirection:H,fadingParentID:j}=O;z===Le.Base&&H===Ke.Departing&&j||(O.setCrossFadeLogic({fadingRole:Le.Base,fadingDirection:Ke.Departing,fadingParentID:r.tileID,fadeEndTime:f+w}),r.setCrossFadeLogic({fadingRole:Le.Parent,fadingDirection:Ke.Incoming,fadeEndTime:f+w})),h[P.key]=P,k=!0}return k}function ro(b,r,u,h){let f=b.tileID;return!!b.selfFading||!b.hasData()&&!!r.has(f)&&(b.setSelfFadeLogic(u+h),!0)}function so(b,r){var u;b.needsHillshadePrepare=!0,b.needsTerrainPrepare=!0;let h=r.tileID.canonical.x-b.tileID.canonical.x,f=r.tileID.canonical.y-b.tileID.canonical.y,v=Math.pow(2,b.tileID.canonical.z),w=r.tileID.key;h===0&&f===0||Math.abs(f)>1||(Math.abs(h)>1&&(Math.abs(h+v)===1?h+=v:Math.abs(h-v)===1&&(h-=v)),r.dem&&b.dem&&(b.dem.backfillBorder(r.dem,h,f),!((u=b.neighboringTiles)===null||u===void 0)&&u[w]&&(b.neighboringTiles[w].backfilled=!0)))}class Hu{constructor(){this._tiles={}}handleWrapJump(r){let u={};for(let h in this._tiles){let f=this._tiles[h];f.tileID=f.tileID.unwrapTo(f.tileID.wrap+r),u[f.tileID.key]=f}this._tiles=u}setFeatureState(r,u){for(let h in this._tiles)this._tiles[h].setFeatureState(r,u)}getAllTiles(){return Object.values(this._tiles)}getAllIds(r=!1){return r?Object.values(this._tiles).map(u=>u.tileID).sort(a.aw).map(u=>u.key):Object.keys(this._tiles)}getTileById(r){return this._tiles[r]}setTile(r,u){this._tiles[r]=u}deleteTileById(r){delete this._tiles[r]}getLoadedTile(r){let u=this.getTileById(r.key);return u?.hasData()?u:null}isIdRenderable(r,u=!1){var h;return(h=this.getTileById(r))===null||h===void 0?void 0:h.isRenderable(u)}getRenderableIds(r=0,u){let h=[];for(let f of this.getAllIds())this.isIdRenderable(f,u)&&h.push(this.getTileById(f));return u?h.sort((f,v)=>{let w=f.tileID,k=v.tileID,P=new a.P(w.canonical.x,w.canonical.y)._rotate(-r),O=new a.P(k.canonical.x,k.canonical.y)._rotate(-r);return w.overscaledZ-k.overscaledZ||O.y-P.y||O.x-P.x}).map(f=>f.tileID.key):h.map(f=>f.tileID).sort(a.aw).map(f=>f.key)}}class $o extends a.E{constructor(r,u,h){super(),this.id=r,this.dispatcher=h,this.on("data",f=>this._dataHandler(f)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((f,v,w,k)=>{let P=new(de(v.type))(f,v,w,k);if(P.id!==f)throw new Error(`Expected Source id to be ${f} instead of ${P.id}`);return P})(r,u,h,this),this._inViewTiles=new Hu,this._outOfViewCache=new a.ax(0,f=>this._unloadTile(f)),this._timers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._rasterFadeDuration=0,this._maxFadingAncestorLevels=5,this._state=new ct,this._didEmitContent=!1,this._updated=!1}onAdd(r){this.map=r,this._maxTileCacheSize=r?r._maxTileCacheSize:null,this._maxTileCacheZoomLevels=r?r._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(r)}onRemove(r){for(let u of this._inViewTiles.getAllTiles())u.unloadVectorData();this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(r),this._inViewTiles=new Hu}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(let r of this._inViewTiles.getAllTiles())if(r.state!=="loaded"&&r.state!=="errored")return!1;return!0}getSource(){return this._source}getState(){return this._state}pause(){this._paused=!0}resume(){if(!this._paused)return;let r=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,r&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(r,u,h){return a._(this,void 0,void 0,function*(){try{yield this._source.loadTile(r),this._tileLoaded(r,u,h)}catch(f){r.state="errored",f.status!==404?this._source.fire(new a.k(f,{tile:r})):this.update(this.transform,this.terrain)}})}_unloadTile(r){this._source.unloadTile&&this._source.unloadTile(r)}_abortTile(r){this._source.abortTile&&this._source.abortTile(r),this._source.fire(new a.l("dataabort",{tile:r,coord:r.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(r){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._inViewTiles,this.map?this.map.painter:null);for(let u of this._inViewTiles.getAllTiles())u.upload(r),u.prepare(this.map.style.imageManager)}getIds(){return this._inViewTiles.getAllIds(!0)}getRenderableIds(r){var u;return this._inViewTiles.getRenderableIds((u=this.transform)===null||u===void 0?void 0:u.bearingInRadians,r)}hasRenderableParent(r){let u=r.overscaledZ-1;if(u>=this._source.minzoom){let h=this.getLoadedTile(r.scaledTo(u));if(h)return this._inViewTiles.isIdRenderable(h.tileID.key)}return!1}reload(r,u=void 0){if(this._paused)this._shouldReloadOnResume=!0;else{this._outOfViewCache.reset();for(let h of this._inViewTiles.getAllIds()){let f=this._inViewTiles.getTileById(h);u&&!this._source.shouldReloadTile(f,u)||(r?this._reloadTile(h,"expired"):f.state!=="errored"&&this._reloadTile(h,"reloading"))}}}_reloadTile(r,u){return a._(this,void 0,void 0,function*(){let h=this._inViewTiles.getTileById(r);h&&(h.state!=="loading"&&(h.state=u),yield this._loadTile(h,r,u))})}_tileLoaded(r,u,h){r.timeAdded=re(),r.selfFading&&(r.fadeEndTime=r.timeAdded+this._rasterFadeDuration),h==="expired"&&(r.refreshedUponExpiration=!0),this._setTileReloadTimer(u,r),this.getSource().type==="raster-dem"&&r.dem&&function(f,v){var w,k;let P=v.getRenderableIds();for(let O of P){if(!f.neighboringTiles||!f.neighboringTiles[O])continue;let z=v.getTileById(O);f.neighboringTiles[O].backfilled||so(f,z),!((k=(w=z.neighboringTiles)===null||w===void 0?void 0:w[f.tileID.key])===null||k===void 0)&&k.backfilled||so(z,f)}}(r,this._inViewTiles),this._state.initializeTileState(r,this.map?this.map.painter:null),r.aborted||this._source.fire(new a.l("data",{dataType:"source",tile:r,coord:r.tileID}))}getTile(r){return this.getTileByID(r.key)}getTileByID(r){return this._inViewTiles.getTileById(r)}_retainLoadedChildren(r,u){let h=this._getLoadedDescendents(u),f=new Set;for(let v of u){let w=h[v.key];if(!w?.length){f.add(v);continue}let k=v.overscaledZ+$o.maxOverzooming,P=w.filter(H=>H.tileID.overscaledZ<=k);if(!P.length){f.add(v);continue}let O=Math.min(...P.map(H=>H.tileID.overscaledZ)),z=P.filter(H=>H.tileID.overscaledZ===O).map(H=>H.tileID);for(let H of z)r[H.key]=H;this._areDescendentsComplete(z,O,v.overscaledZ)||f.add(v)}return f}_getLoadedDescendents(r){var u;let h={};for(let f of this._inViewTiles.getAllTiles().filter(v=>v.hasData()))for(let v of r)f.tileID.isChildOf(v)&&(h[u=v.key]||(h[u]=[])).push(f);return h}_areDescendentsComplete(r,u,h){return r.length===1&&r[0].isOverscaled()?r[0].overscaledZ===u:Math.pow(4,u-h)===r.length}getLoadedTile(r){return this._inViewTiles.getLoadedTile(r)}updateCacheSize(r){let u=Math.ceil(r.width/this._source.tileSize)+1,h=Math.ceil(r.height/this._source.tileSize)+1,f=Math.floor(u*h*(this._maxTileCacheZoomLevels===null?a.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),v=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,f):f;this._outOfViewCache.setMaxSize(v)}handleWrapJump(r){let u=Math.round((r-(this._prevLng===void 0?r:this._prevLng))/360);this._prevLng=r,u&&(this._inViewTiles.handleWrapJump(u),this._resetTileReloadTimers())}update(r,u){if(!this._sourceLoaded||this._paused)return;let h;this.transform=r,this.terrain=u,this.updateCacheSize(r),this.handleWrapJump(this.transform.center.lng),this.used||this.usedForTerrain?this._source.tileID?h=r.getVisibleUnwrappedCoordinates(this._source.tileID).map(P=>new a.a2(P.canonical.z,P.wrap,P.canonical.z,P.canonical.x,P.canonical.y)):(h=Gn(r,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.type==="vector"&&this.map._zoomLevelsToOverscale!==void 0?r.maxZoom-this.map._zoomLevelsToOverscale:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:u,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(h=h.filter(P=>this._source.hasTile(P)))):h=[],this.usedForTerrain&&(h=this._addTerrainIdealTiles(h));let f=h.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,f&&this.fire(new a.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));let v=Cn(r,this._source),w=this._updateRetainedTiles(h,v),k=ma(this._source.type);k&&this._rasterFadeDuration>0&&!u&&function(P,O,z,H,j,W,ie){let he=re(),fe=a.av(O);for(let me of O){let be=P.getTileById(me.key);be.fadingDirection!==Ke.Departing&&be.fadeOpacity!==0||be.resetFadeLogic(),Pc(P,be,z,he,H,j,ie)||Dc(P,be,z,he,W,ie)||ro(be,fe,he,ie)||be.resetFadeLogic()}}(this._inViewTiles,h,w,this._maxFadingAncestorLevels,this._source.minzoom,this._source.maxzoom,this._rasterFadeDuration),k?this._cleanUpRasterTiles(w):this._cleanUpVectorTiles(w)}_cleanUpRasterTiles(r){for(let u of this._inViewTiles.getAllIds())r[u]||this._removeTile(u)}_cleanUpVectorTiles(r){for(let u of this._inViewTiles.getAllIds()){let h=this._inViewTiles.getTileById(u);r[u]?h.clearSymbolFadeHold():h.hasSymbolBuckets?h.holdingForSymbolFade()?h.symbolFadeFinished()&&this._removeTile(u):h.setSymbolHoldDuration(this.map._fadeDuration):this._removeTile(u)}}_addTerrainIdealTiles(r){let u=[];for(let h of r)if(h.canonical.z>this._source.minzoom){let f=h.scaledTo(h.canonical.z-1);u.push(f);let v=h.scaledTo(Math.max(this._source.minzoom,Math.min(h.canonical.z,5)));u.push(v)}return r.concat(u)}releaseSymbolFadeTiles(){for(let r of this._inViewTiles.getAllIds())this._inViewTiles.getTileById(r).holdingForSymbolFade()&&this._removeTile(r)}_updateRetainedTiles(r,u){var h;let f=new Set;for(let O of r)this._addTile(O).hasData()||f.add(O);let v=r.reduce((O,z)=>(O[z.key]=z,O),{}),w=this._retainLoadedChildren(v,f),k={},P=Math.max(u-$o.maxUnderzooming,this._source.minzoom);for(let O of w){let z=this._inViewTiles.getTileById(O.key),H=z?.wasRequested();for(let j=O.overscaledZ-1;j>=P;--j){let W=O.scaledTo(j);if(k[W.key])break;if(k[W.key]=!0,z=this.getTile(W),!z&&H&&(z=this._addTile(W)),z){let ie=z.hasData();if((ie||!(!((h=this.map)===null||h===void 0)&&h.cancelPendingTileRequestsWhileZooming)||H)&&(v[W.key]=W),H=z.wasRequested(),ie)break}}}return v}_addTile(r){let u=this._inViewTiles.getTileById(r.key);if(u)return u;u=this._outOfViewCache.getAndRemove(r),u&&(u.resetFadeLogic(),this._setTileReloadTimer(r.key,u),u.tileID=r,this._state.initializeTileState(u,this.map?this.map.painter:null));let h=u;return u||(u=new ft(r,this._source.tileSize*r.overscaleFactor()),this._loadTile(u,r.key,u.state)),u.uses++,this._inViewTiles.setTile(r.key,u),h||this._source.fire(new a.l("dataloading",{tile:u,coord:u.tileID,dataType:"source"})),u}_setTileReloadTimer(r,u){this._clearTileReloadTimer(r);let h=u.getExpiryTimeout();h&&(this._timers[r]=setTimeout(()=>{this._reloadTile(r,"expired"),delete this._timers[r]},h))}_clearTileReloadTimer(r){let u=this._timers[r];u&&(clearTimeout(u),delete this._timers[r])}_resetTileReloadTimers(){for(let r in this._timers)clearTimeout(this._timers[r]),delete this._timers[r];for(let r of this._inViewTiles.getAllIds()){let u=this._inViewTiles.getTileById(r);this._setTileReloadTimer(r,u)}}refreshTiles(r){for(let u of this._inViewTiles.getAllIds()){let h=this._inViewTiles.getTileById(u);(this._inViewTiles.isIdRenderable(u)||h.state=="errored")&&r.some(f=>f.equals(h.tileID.canonical))&&this._reloadTile(u,"expired")}}_removeTile(r){let u=this._inViewTiles.getTileById(r);u&&(u.uses--,this._inViewTiles.deleteTileById(r),this._clearTileReloadTimer(r),u.uses>0||(u.hasData()&&u.state!=="reloading"?this._outOfViewCache.add(u.tileID,u,u.getExpiryTimeout()):(u.aborted=!0,this._abortTile(u),this._unloadTile(u))))}_dataHandler(r){r.dataType==="source"&&(r.sourceDataType!=="metadata"?r.sourceDataType==="content"&&this._sourceLoaded&&!this._paused&&(this.reload(r.sourceDataChanged,r.shouldReloadTileOptions),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0):this._sourceLoaded=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(let r of this._inViewTiles.getAllIds())this._removeTile(r);this._outOfViewCache.reset()}tilesIn(r,u,h){let f=[],v=this.transform;if(!v)return f;let w=v.getCoveringTilesDetailsProvider().allowWorldCopies(),k=h?v.getCameraQueryGeometry(r):r,P=W=>v.screenPointToMercatorCoordinate(W,this.terrain),O=this.transformBbox(r,P,!w),z=this.transformBbox(k,P,!w),H=this.getIds(),j=a.aa.fromPoints(z);for(let W=0;W<H.length;W++){let ie=this._inViewTiles.getTileById(H[W]);if(ie.holdingForSymbolFade())continue;let he=w?[ie.tileID]:[ie.tileID.unwrapTo(-1),ie.tileID.unwrapTo(0)],fe=Math.pow(2,v.zoom-ie.tileID.overscaledZ),me=u*ie.queryPadding*a.a5/ie.tileSize/fe;for(let be of he){let Se=j.map(_e=>be.getTilePoint(new a.a9(_e.x,_e.y)));if(Se.expandBy(me),Se.intersects(mn)){let _e=O.map(Pe=>be.getTilePoint(Pe)),Ce=z.map(Pe=>be.getTilePoint(Pe));f.push({tile:ie,tileID:w?be:be.unwrapTo(0),queryGeometry:_e,cameraQueryGeometry:Ce,scale:fe})}}}return f}transformBbox(r,u,h){let f=r.map(u);if(h){let v=a.aa.fromPoints(r);v.shrinkBy(.001*Math.min(v.width(),v.height()));let w=v.map(u);a.aa.fromPoints(f).covers(w)||(f=f.map(k=>k.x>.5?new a.a9(k.x-1,k.y,k.z):k))}return f}getVisibleCoordinates(r){let u=this.getRenderableIds(r).map(h=>this._inViewTiles.getTileById(h).tileID);return this.transform&&this.transform.populateCache(u),u}hasTransition(){return!!this._source.hasTransition()||!(!ma(this._source.type)||!function(r,u){if(u<=0)return!1;let h=re();for(let f of r.getAllTiles())if(f.fadeEndTime>=h)return!0;return!1}(this._inViewTiles,this._rasterFadeDuration))}setRasterFadeDuration(r){this._rasterFadeDuration=r}setFeatureState(r,u,h){this._state.updateState(r=r||a.ai,u,h)}removeFeatureState(r,u,h){this._state.removeFeatureState(r=r||a.ai,u,h)}getFeatureState(r,u){return this._state.getState(r=r||a.ai,u)}setDependencies(r,u,h){let f=this._inViewTiles.getTileById(r);f&&f.setDependencies(u,h)}reloadTilesForDependencies(r,u){for(let h of this._inViewTiles.getAllIds())this._inViewTiles.getTileById(h).hasDependency(r,u)&&this._reloadTile(h,"reloading");this._outOfViewCache.filter(h=>!h.hasDependency(r,u))}areTilesLoaded(){for(let r of this._inViewTiles.getAllTiles())if(r.state!=="loaded"&&r.state!=="errored")return!1;return!0}}$o.maxUnderzooming=10,$o.maxOverzooming=3;class Pt{constructor(r,u){this.reset(r,u)}reset(r,u){this.points=r||[],this._distances=[0];for(let h=1;h<this.points.length;h++)this._distances[h]=this._distances[h-1]+this.points[h].dist(this.points[h-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(u||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(r){if(this.points.length===1)return this.points[0];r=a.an(r,0,1);let u=1,h=this._distances[u],f=r*this.paddedLength+this.padding;for(;h<f&&u<this._distances.length;)h=this._distances[++u];let v=u-1,w=this._distances[v],k=h-w,P=k>0?(f-w)/k:0;return this.points[v].mult(1-P).add(this.points[u].mult(P))}}function wi(b,r){let u=!0;return b==="always"||b!=="never"&&r!=="never"||(u=!1),u}class Ii{constructor(r,u,h){let f=this.boxCells=[],v=this.circleCells=[];this.xCellCount=Math.ceil(r/h),this.yCellCount=Math.ceil(u/h);for(let w=0;w<this.xCellCount*this.yCellCount;w++)f.push([]),v.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=r,this.height=u,this.xScale=this.xCellCount/r,this.yScale=this.yCellCount/u,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(r,u,h,f,v){this._forEachCell(u,h,f,v,this._insertBoxCell,this.boxUid++),this.boxKeys.push(r),this.bboxes.push(u),this.bboxes.push(h),this.bboxes.push(f),this.bboxes.push(v)}insertCircle(r,u,h,f){this._forEachCell(u-f,h-f,u+f,h+f,this._insertCircleCell,this.circleUid++),this.circleKeys.push(r),this.circles.push(u),this.circles.push(h),this.circles.push(f)}_insertBoxCell(r,u,h,f,v,w){this.boxCells[v].push(w)}_insertCircleCell(r,u,h,f,v,w){this.circleCells[v].push(w)}_query(r,u,h,f,v,w,k){if(h<0||r>this.width||f<0||u>this.height)return[];let P=[];if(r<=0&&u<=0&&this.width<=h&&this.height<=f){if(v)return[{key:null,x1:r,y1:u,x2:h,y2:f}];for(let O=0;O<this.boxKeys.length;O++)P.push({key:this.boxKeys[O],x1:this.bboxes[4*O],y1:this.bboxes[4*O+1],x2:this.bboxes[4*O+2],y2:this.bboxes[4*O+3]});for(let O=0;O<this.circleKeys.length;O++){let z=this.circles[3*O],H=this.circles[3*O+1],j=this.circles[3*O+2];P.push({key:this.circleKeys[O],x1:z-j,y1:H-j,x2:z+j,y2:H+j})}}else this._forEachCell(r,u,h,f,this._queryCell,P,{hitTest:v,overlapMode:w,seenUids:{box:{},circle:{}}},k);return P}query(r,u,h,f){return this._query(r,u,h,f,!1,null)}hitTest(r,u,h,f,v,w){return this._query(r,u,h,f,!0,v,w).length>0}hitTestCircle(r,u,h,f,v){let w=r-h,k=r+h,P=u-h,O=u+h;if(k<0||w>this.width||O<0||P>this.height)return!1;let z=[];return this._forEachCell(w,P,k,O,this._queryCellCircle,z,{hitTest:!0,overlapMode:f,circle:{x:r,y:u,radius:h},seenUids:{box:{},circle:{}}},v),z.length>0}_queryCell(r,u,h,f,v,w,k,P){let{seenUids:O,hitTest:z,overlapMode:H}=k,j=this.boxCells[v];if(j!==null){let ie=this.bboxes;for(let he of j)if(!O.box[he]){O.box[he]=!0;let fe=4*he,me=this.boxKeys[he];if(r<=ie[fe+2]&&u<=ie[fe+3]&&h>=ie[fe+0]&&f>=ie[fe+1]&&(!P||P(me))&&(!z||!wi(H,me.overlapMode))&&(w.push({key:me,x1:ie[fe],y1:ie[fe+1],x2:ie[fe+2],y2:ie[fe+3]}),z))return!0}}let W=this.circleCells[v];if(W!==null){let ie=this.circles;for(let he of W)if(!O.circle[he]){O.circle[he]=!0;let fe=3*he,me=this.circleKeys[he];if(this._circleAndRectCollide(ie[fe],ie[fe+1],ie[fe+2],r,u,h,f)&&(!P||P(me))&&(!z||!wi(H,me.overlapMode))){let be=ie[fe],Se=ie[fe+1],_e=ie[fe+2];if(w.push({key:me,x1:be-_e,y1:Se-_e,x2:be+_e,y2:Se+_e}),z)return!0}}}return!1}_queryCellCircle(r,u,h,f,v,w,k,P){let{circle:O,seenUids:z,overlapMode:H}=k,j=this.boxCells[v];if(j!==null){let ie=this.bboxes;for(let he of j)if(!z.box[he]){z.box[he]=!0;let fe=4*he,me=this.boxKeys[he];if(this._circleAndRectCollide(O.x,O.y,O.radius,ie[fe+0],ie[fe+1],ie[fe+2],ie[fe+3])&&(!P||P(me))&&!wi(H,me.overlapMode))return w.push(!0),!0}}let W=this.circleCells[v];if(W!==null){let ie=this.circles;for(let he of W)if(!z.circle[he]){z.circle[he]=!0;let fe=3*he,me=this.circleKeys[he];if(this._circlesCollide(ie[fe],ie[fe+1],ie[fe+2],O.x,O.y,O.radius)&&(!P||P(me))&&!wi(H,me.overlapMode))return w.push(!0),!0}}}_forEachCell(r,u,h,f,v,w,k,P){let O=this._convertToXCellCoord(r),z=this._convertToYCellCoord(u),H=this._convertToXCellCoord(h),j=this._convertToYCellCoord(f);for(let W=O;W<=H;W++)for(let ie=z;ie<=j;ie++)if(v.call(this,r,u,h,f,this.xCellCount*ie+W,w,k,P))return}_convertToXCellCoord(r){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(r*this.xScale)))}_convertToYCellCoord(r){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(r*this.yScale)))}_circlesCollide(r,u,h,f,v,w){let k=f-r,P=v-u,O=h+w;return O*O>k*k+P*P}_circleAndRectCollide(r,u,h,f,v,w,k){let P=(w-f)/2,O=Math.abs(r-(f+P));if(O>P+h)return!1;let z=(k-v)/2,H=Math.abs(u-(v+z));if(H>z+h)return!1;if(O<=P||H<=z)return!0;let j=O-P,W=H-z;return j*j+W*W<=h*h}}function Oo(b,r,u){let h=a.N();if(!b){let{vecSouth:H,vecEast:j}=Hr(r),W=y();W[0]=j[0],W[1]=j[1],W[2]=H[0],W[3]=H[1],f=W,(z=(w=(v=W)[0])*(O=v[3])-(P=v[2])*(k=v[1]))&&(f[0]=O*(z=1/z),f[1]=-k*z,f[2]=-P*z,f[3]=w*z),h[0]=W[0],h[1]=W[1],h[4]=W[2],h[5]=W[3]}var f,v,w,k,P,O,z;return a.Q(h,h,[1/u,1/u,1]),h}function Gu(b,r,u,h){if(b){let f=a.N();if(!r){let{vecSouth:v,vecEast:w}=Hr(u);f[0]=w[0],f[1]=w[1],f[4]=v[0],f[5]=v[1]}return a.Q(f,f,[h,h,1]),f}return u.pixelsToClipSpaceMatrix}function Hr(b){let r=Math.cos(b.rollInRadians),u=Math.sin(b.rollInRadians),h=Math.cos(b.pitchInRadians),f=Math.cos(b.bearingInRadians),v=Math.sin(b.bearingInRadians),w=a.aC();w[0]=-f*h*u-v*r,w[1]=-v*h*u+f*r;let k=a.aD(w);k<1e-9?a.aE(w):a.aF(w,w,1/k);let P=a.aC();P[0]=f*h*r-v*u,P[1]=v*h*r+f*u;let O=a.aD(P);return O<1e-9?a.aE(P):a.aF(P,P,1/O),{vecEast:P,vecSouth:w}}function yi(b,r,u,h){let f;h?(f=[b,r,h(b,r),1],a.aH(f,f,u)):(f=[b,r,0,1],Ku(f,f,u));let v=f[3];return{point:new a.P(f[0]/v,f[1]/v),signedDistanceFromCamera:v,isOccluded:!1}}function Lc(b,r){return .5+b/r*.5}function Ac(b,r){return b.x>=-r[0]&&b.x<=r[0]&&b.y>=-r[1]&&b.y<=r[1]}function Uu(b,r,u,h,f,v,w,k,P,O,z,H,j){let W=u?b.textSizeData:b.iconSizeData,ie=a.ay(W,r.transform.zoom),he=[256/r.width*2+1,256/r.height*2+1],fe=u?b.text.dynamicLayoutVertexArray:b.icon.dynamicLayoutVertexArray;fe.clear();let me=b.lineVertexArray,be=u?b.text.placedSymbolArray:b.icon.placedSymbolArray,Se=r.transform.width/r.transform.height,_e=!1;for(let Ce=0;Ce<be.length;Ce++){let Pe=be.get(Ce);if(Pe.hidden||Pe.writingMode===a.az.vertical&&!_e){zs(Pe.numGlyphs,fe);continue}_e=!1;let xe=new a.P(Pe.anchorX,Pe.anchorY),Ae={getElevation:j,pitchedLabelPlaneMatrix:h,lineVertexArray:me,pitchWithMap:v,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:r.transform,tileAnchorPoint:xe,unwrappedTileID:P,width:O,height:z,translation:H},Ze=xl(Pe.anchorX,Pe.anchorY,Ae);if(!Ac(Ze.point,he)){zs(Pe.numGlyphs,fe);continue}let qe=Lc(r.transform.cameraToCenterDistance,Ze.signedDistanceFromCamera),Ge=a.aA(W,ie,Pe),Ue=v?Ge*r.transform.getPitchedTextCorrection(Pe.anchorX,Pe.anchorY,P)/qe:Ge*qe,xt=vl({projectionContext:Ae,pitchedLabelPlaneMatrixInverse:f,symbol:Pe,fontSize:Ue,flip:!1,keepUpright:w,glyphOffsetArray:b.glyphOffsetArray,dynamicLayoutVertexArray:fe,aspectRatio:Se,rotateToLine:k});_e=xt.useVertical,(xt.notEnoughRoom||_e||xt.needsFlipping&&vl({projectionContext:Ae,pitchedLabelPlaneMatrixInverse:f,symbol:Pe,fontSize:Ue,flip:!0,keepUpright:w,glyphOffsetArray:b.glyphOffsetArray,dynamicLayoutVertexArray:fe,aspectRatio:Se,rotateToLine:k}).notEnoughRoom)&&zs(Pe.numGlyphs,fe)}u?b.text.dynamicLayoutVertexBuffer.updateData(fe):b.icon.dynamicLayoutVertexBuffer.updateData(fe)}function yl(b,r,u,h,f,v,w,k){let P=v.glyphStartIndex+v.numGlyphs,O=v.lineStartIndex,z=v.lineStartIndex+v.lineLength,H=r.getoffsetX(v.glyphStartIndex),j=r.getoffsetX(P-1),W=dr(b*H,u,h,f,v.segment,O,z,k,w);if(!W)return null;let ie=dr(b*j,u,h,f,v.segment,O,z,k,w);return ie?k.projectionCache.anyProjectionOccluded?null:{first:W,last:ie}:null}function Fc(b,r,u,h){return b===a.az.horizontal&&Math.abs(u.y-r.y)>Math.abs(u.x-r.x)*h?{useVertical:!0}:(b===a.az.vertical?r.y<u.y:r.x>u.x)?{needsFlipping:!0}:null}function vl(b){let{projectionContext:r,pitchedLabelPlaneMatrixInverse:u,symbol:h,fontSize:f,flip:v,keepUpright:w,glyphOffsetArray:k,dynamicLayoutVertexArray:P,aspectRatio:O,rotateToLine:z}=b,H=f/24,j=h.lineOffsetX*H,W=h.lineOffsetY*H,ie;if(h.numGlyphs>1){let he=h.glyphStartIndex+h.numGlyphs,fe=h.lineStartIndex,me=h.lineStartIndex+h.lineLength,be=yl(H,k,j,W,v,h,z,r);if(!be)return{notEnoughRoom:!0};let Se=$u(be.first.point.x,be.first.point.y,r,u),_e=$u(be.last.point.x,be.last.point.y,r,u);if(w&&!v){let Ce=Fc(h.writingMode,Se,_e,O);if(Ce)return Ce}ie=[be.first];for(let Ce=h.glyphStartIndex+1;Ce<he-1;Ce++){let Pe=dr(H*k.getoffsetX(Ce),j,W,v,h.segment,fe,me,r,z);if(!Pe)return{notEnoughRoom:!0};ie.push(Pe)}ie.push(be.last)}else{if(w&&!v){let fe=rn(r.tileAnchorPoint.x,r.tileAnchorPoint.y,r).point,me=h.lineStartIndex+h.segment+1,be=new a.P(r.lineVertexArray.getx(me),r.lineVertexArray.gety(me)),Se=rn(be.x,be.y,r),_e=Se.signedDistanceFromCamera>0?Se.point:Oc(r.tileAnchorPoint,be,fe,1,r),Ce=$u(fe.x,fe.y,r,u),Pe=$u(_e.x,_e.y,r,u),xe=Fc(h.writingMode,Ce,Pe,O);if(xe)return xe}let he=dr(H*k.getoffsetX(h.glyphStartIndex),j,W,v,h.segment,h.lineStartIndex,h.lineStartIndex+h.lineLength,r,z);if(!he||r.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};ie=[he]}for(let he of ie)a.aG(P,he.point,he.angle);return{}}function Oc(b,r,u,h,f){let v=b.add(b.sub(r)._unit()),w=rn(v.x,v.y,f).point,k=u.sub(w);return u.add(k._mult(h/k.mag()))}function lo(b,r,u){let h=r.projectionCache;if(h.projections[b])return h.projections[b];let f=new a.P(r.lineVertexArray.getx(b),r.lineVertexArray.gety(b)),v=rn(f.x,f.y,r);if(v.signedDistanceFromCamera>0)return h.projections[b]=v.point,h.anyProjectionOccluded=h.anyProjectionOccluded||v.isOccluded,v.point;let w=b-u.direction;return Oc(u.distanceFromAnchor===0?r.tileAnchorPoint:new a.P(r.lineVertexArray.getx(w),r.lineVertexArray.gety(w)),f,u.previousVertex,u.absOffsetX-u.distanceFromAnchor+1,r)}function rn(b,r,u){let h=b+u.translation[0],f=r+u.translation[1],v;return u.pitchWithMap?(v=yi(h,f,u.pitchedLabelPlaneMatrix,u.getElevation),v.isOccluded=!1):(v=u.transform.projectTileCoordinates(h,f,u.unwrappedTileID,u.getElevation),v.point.x=(.5*v.point.x+.5)*u.width,v.point.y=(.5*-v.point.y+.5)*u.height),v}function $u(b,r,u,h){if(u.pitchWithMap){let f=[b,r,0,1];return a.aH(f,f,h),u.transform.projectTileCoordinates(f[0]/f[3],f[1]/f[3],u.unwrappedTileID,u.getElevation).point}return{x:b/u.width*2-1,y:1-r/u.height*2}}function xl(b,r,u){return u.transform.projectTileCoordinates(b,r,u.unwrappedTileID,u.getElevation)}function Vc(b,r,u){return b._unit()._perp()._mult(r*u)}function Vs(b,r,u,h,f,v,w,k,P){if(k.projectionCache.offsets[b])return k.projectionCache.offsets[b];let O=u.add(r);if(b+P.direction<h||b+P.direction>=f)return k.projectionCache.offsets[b]=O,O;let z=lo(b+P.direction,k,P),H=Vc(z.sub(u),w,P.direction),j=u.add(H),W=z.add(H);return k.projectionCache.offsets[b]=a.aI(v,O,j,W)||O,k.projectionCache.offsets[b]}function dr(b,r,u,h,f,v,w,k,P){let O=h?b-r:b+r,z=O>0?1:-1,H=0;h&&(z*=-1,H=Math.PI),z<0&&(H+=Math.PI);let j,W=z>0?v+f:v+f+1;k.projectionCache.cachedAnchorPoint?j=k.projectionCache.cachedAnchorPoint:(j=rn(k.tileAnchorPoint.x,k.tileAnchorPoint.y,k).point,k.projectionCache.cachedAnchorPoint=j);let ie,he,fe=j,me=j,be=0,Se=0,_e=Math.abs(O),Ce=[],Pe;for(;be+Se<=_e;){if(W+=z,W<v||W>=w)return null;be+=Se,me=fe,he=ie;let Ze={absOffsetX:_e,direction:z,distanceFromAnchor:be,previousVertex:me};if(fe=lo(W,k,Ze),u===0)Ce.push(me),Pe=fe.sub(me);else{let qe,Ge=fe.sub(me);qe=Ge.mag()===0?Vc(lo(W+z,k,Ze).sub(fe),u,z):Vc(Ge,u,z),he||(he=me.add(qe)),ie=Vs(W,qe,fe,v,w,he,u,k,Ze),Ce.push(he),Pe=ie.sub(he)}Se=Pe.mag()}let xe=Pe._mult((_e-be)/Se)._add(he||me),Ae=H+Math.atan2(fe.y-me.y,fe.x-me.x);return Ce.push(xe),{point:xe,angle:P?Ae:0,path:Ce}}let Pm=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function zs(b,r){for(let u=0;u<b;u++){let h=r.length;r.resize(h+4),r.float32.set(Pm,3*h)}}function Ku(b,r,u){let h=r[0],f=r[1];return b[0]=u[0]*h+u[4]*f+u[12],b[1]=u[1]*h+u[5]*f+u[13],b[3]=u[3]*h+u[7]*f+u[15],b}let Un=100;class Dm{constructor(r,u=new Ii(r.width+200,r.height+200,25),h=new Ii(r.width+200,r.height+200,25)){this.transform=r,this.grid=u,this.ignoredGrid=h,this.pitchFactor=Math.cos(r.pitch*Math.PI/180)*r.cameraToCenterDistance,this.screenRightBoundary=r.width+Un,this.screenBottomBoundary=r.height+Un,this.gridRightBoundary=r.width+200,this.gridBottomBoundary=r.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(r,u,h,f,v,w,k,P,O,z,H,j){let W=this.projectAndGetPerspectiveRatio(r.anchorPointX+P[0],r.anchorPointY+P[1],v,z,j),ie=h*W.perspectiveRatio,he;if(w||k)he=this._projectCollisionBox(r,ie,f,v,w,k,P,W,z,H,j);else{let Pe=W.x+(H?H.x*ie:0),xe=W.y+(H?H.y*ie:0);he={allPointsOccluded:!1,box:[Pe+r.x1*ie,xe+r.y1*ie,Pe+r.x2*ie,xe+r.y2*ie]}}let[fe,me,be,Se]=he.box,_e=w?he.allPointsOccluded:W.isOccluded,Ce=_e;return Ce||(Ce=W.perspectiveRatio<this.perspectiveRatioCutoff),Ce||(Ce=!this.isInsideGrid(fe,me,be,Se)),Ce||u!=="always"&&this.grid.hitTest(fe,me,be,Se,u,O)?{box:[fe,me,be,Se],placeable:!1,offscreen:!1,occluded:_e}:{box:[fe,me,be,Se],placeable:!0,offscreen:this.isOffscreen(fe,me,be,Se),occluded:_e}}placeCollisionCircles(r,u,h,f,v,w,k,P,O,z,H,j,W,ie){let he=[],fe=new a.P(u.anchorX,u.anchorY),me=this.getPerspectiveRatio(fe.x,fe.y,w,ie),be=(O?v*this.transform.getPitchedTextCorrection(u.anchorX,u.anchorY,w)/me:v*me)/a.aM,Se={getElevation:ie,pitchedLabelPlaneMatrix:k,lineVertexArray:h,pitchWithMap:O,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:fe,unwrappedTileID:w,width:this.transform.width,height:this.transform.height,translation:W},_e=yl(be,f,u.lineOffsetX*be,u.lineOffsetY*be,!1,u,!1,Se),Ce=!1,Pe=!1,xe=!0;if(_e){let Ae=.5*H*me+j,Ze=new a.P(-100,-100),qe=new a.P(this.screenRightBoundary,this.screenBottomBoundary),Ge=new Pt,Ue=_e.first,xt=_e.last,It=[];for(let _i=Ue.path.length-1;_i>=1;_i--)It.push(Ue.path[_i]);for(let _i=1;_i<xt.path.length;_i++)It.push(xt.path[_i]);let pt=2.5*Ae;if(O){let _i=this.projectPathToScreenSpace(It,Se);It=_i.some(tn=>tn.signedDistanceFromCamera<=0)?[]:_i.map(tn=>tn.point)}let kt=[];if(It.length>0){let _i=It[0].clone(),tn=It[0].clone();for(let Sn=1;Sn<It.length;Sn++)_i.x=Math.min(_i.x,It[Sn].x),_i.y=Math.min(_i.y,It[Sn].y),tn.x=Math.max(tn.x,It[Sn].x),tn.y=Math.max(tn.y,It[Sn].y);kt=_i.x>=Ze.x&&tn.x<=qe.x&&_i.y>=Ze.y&&tn.y<=qe.y?[It]:tn.x<Ze.x||_i.x>qe.x||tn.y<Ze.y||_i.y>qe.y?[]:a.aJ([It],Ze.x,Ze.y,qe.x,qe.y)}for(let _i of kt){Ge.reset(_i,.25*Ae);let tn=0;tn=Ge.length<=.5*Ae?1:Math.ceil(Ge.paddedLength/pt)+1;for(let Sn=0;Sn<tn;Sn++){let _n=Sn/Math.max(tn-1,1),Pn=Ge.lerp(_n),bn=Pn.x+Un,Kn=Pn.y+Un;he.push(bn,Kn,Ae,0);let Dn=bn-Ae,La=Kn-Ae,la=bn+Ae,aa=Kn+Ae;if(xe=xe&&this.isOffscreen(Dn,La,la,aa),Pe=Pe||this.isInsideGrid(Dn,La,la,aa),r!=="always"&&this.grid.hitTestCircle(bn,Kn,Ae,r,z)&&(Ce=!0,!P))return{circles:[],offscreen:!1,collisionDetected:Ce}}}}return{circles:!P&&Ce||!Pe||me<this.perspectiveRatioCutoff?[]:he,offscreen:xe,collisionDetected:Ce}}projectPathToScreenSpace(r,u){let h=function(f,v){let w=a.N();return a.aB(w,v.pitchedLabelPlaneMatrix),f.map(k=>{let P=yi(k.x,k.y,w,v.getElevation),O=v.transform.projectTileCoordinates(P.point.x,P.point.y,v.unwrappedTileID,v.getElevation);return O.point.x=(.5*O.point.x+.5)*v.width,O.point.y=(.5*-O.point.y+.5)*v.height,O})}(r,u);return function(f){let v=0,w=0,k=0,P=0;for(let O=0;O<f.length;O++)f[O].isOccluded?(k=O+1,P=0):(P++,P>w&&(w=P,v=k));return f.slice(v,v+w)}(h)}queryRenderedSymbols(r){if(r.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};let u=[],h=new a.aa;for(let H of r){let j=new a.P(H.x+Un,H.y+Un);h.extend(j),u.push(j)}let{minX:f,minY:v,maxX:w,maxY:k}=h,P=this.grid.query(f,v,w,k).concat(this.ignoredGrid.query(f,v,w,k)),O={},z={};for(let H of P){let j=H.key;if(O[j.bucketInstanceId]===void 0&&(O[j.bucketInstanceId]={}),O[j.bucketInstanceId][j.featureIndex])continue;let W=[new a.P(H.x1,H.y1),new a.P(H.x2,H.y1),new a.P(H.x2,H.y2),new a.P(H.x1,H.y2)];a.aK(u,W)&&(O[j.bucketInstanceId][j.featureIndex]=!0,z[j.bucketInstanceId]===void 0&&(z[j.bucketInstanceId]=[]),z[j.bucketInstanceId].push(j.featureIndex))}return z}insertCollisionBox(r,u,h,f,v,w){(h?this.ignoredGrid:this.grid).insert({bucketInstanceId:f,featureIndex:v,collisionGroupID:w,overlapMode:u},r[0],r[1],r[2],r[3])}insertCollisionCircles(r,u,h,f,v,w){let k=h?this.ignoredGrid:this.grid,P={bucketInstanceId:f,featureIndex:v,collisionGroupID:w,overlapMode:u};for(let O=0;O<r.length;O+=4)k.insertCircle(P,r[O],r[O+1],r[O+2])}projectAndGetPerspectiveRatio(r,u,h,f,v){if(v){let w;f?(w=[r,u,f(r,u),1],a.aH(w,w,v)):(w=[r,u,0,1],Ku(w,w,v));let k=w[3];return{x:(w[0]/k+1)/2*this.transform.width+Un,y:(-w[1]/k+1)/2*this.transform.height+Un,perspectiveRatio:.5+this.transform.cameraToCenterDistance/k*.5,isOccluded:!1,signedDistanceFromCamera:k}}{let w=this.transform.projectTileCoordinates(r,u,h,f);return{x:(w.point.x+1)/2*this.transform.width+Un,y:(1-w.point.y)/2*this.transform.height+Un,perspectiveRatio:.5+this.transform.cameraToCenterDistance/w.signedDistanceFromCamera*.5,isOccluded:w.isOccluded,signedDistanceFromCamera:w.signedDistanceFromCamera}}}getPerspectiveRatio(r,u,h,f){let v=this.transform.projectTileCoordinates(r,u,h,f);return .5+this.transform.cameraToCenterDistance/v.signedDistanceFromCamera*.5}isOffscreen(r,u,h,f){return h<Un||r>=this.screenRightBoundary||f<Un||u>this.screenBottomBoundary}isInsideGrid(r,u,h,f){return h>=0&&r<this.gridRightBoundary&&f>=0&&u<this.gridBottomBoundary}getViewportMatrix(){let r=a.ar([]);return a.O(r,r,[-100,-100,0]),r}_projectCollisionBox(r,u,h,f,v,w,k,P,O,z,H){let j=1,W=0,ie=0,he=1,fe=r.anchorPointX+k[0],me=r.anchorPointY+k[1];if(w&&!v){let It=this.projectAndGetPerspectiveRatio(fe+1,me,f,O,H),pt=It.x-P.x,kt=Math.atan((It.y-P.y)/pt)+(pt<0?Math.PI:0),_i=Math.sin(kt),tn=Math.cos(kt);j=tn,W=_i,ie=-_i,he=tn}else if(!w&&v){let It=Hr(this.transform);j=It.vecEast[0],W=It.vecEast[1],ie=It.vecSouth[0],he=It.vecSouth[1]}let be=P.x,Se=P.y,_e=u;v&&(be=fe,Se=me,_e=Math.pow(2,-(this.transform.zoom-h.overscaledZ)),_e*=this.transform.getPitchedTextCorrection(fe,me,f),z||(_e*=a.an(.5+P.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),z&&(be+=j*z.x*_e+ie*z.y*_e,Se+=W*z.x*_e+he*z.y*_e);let Ce=r.x1*_e,Pe=r.x2*_e,xe=(Ce+Pe)/2,Ae=r.y1*_e,Ze=r.y2*_e,qe=(Ae+Ze)/2,Ge=[{offsetX:Ce,offsetY:Ae},{offsetX:xe,offsetY:Ae},{offsetX:Pe,offsetY:Ae},{offsetX:Pe,offsetY:qe},{offsetX:Pe,offsetY:Ze},{offsetX:xe,offsetY:Ze},{offsetX:Ce,offsetY:Ze},{offsetX:Ce,offsetY:qe}],Ue=[];for(let{offsetX:It,offsetY:pt}of Ge)Ue.push(new a.P(be+j*It+ie*pt,Se+W*It+he*pt));let xt=!1;if(v){let It=Ue.map(pt=>this.projectAndGetPerspectiveRatio(pt.x,pt.y,f,O,H));xt=It.some(pt=>!pt.isOccluded),Ue=It.map(pt=>new a.P(pt.x,pt.y))}else xt=!0;return{box:a.aL(Ue),allPointsOccluded:!xt}}}class Lm{constructor(r,u,h,f){this.opacity=r?Math.max(0,Math.min(1,r.opacity+(r.placed?u:-u))):f&&h?1:0,this.placed=h}isHidden(){return this.opacity===0&&!this.placed}}class zc{constructor(r,u,h,f,v){this.text=new Lm(r?r.text:null,u,h,v),this.icon=new Lm(r?r.icon:null,u,f,v)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Am{constructor(r,u,h){this.text=r,this.icon=u,this.skipFade=h}}class Fm{constructor(r,u,h,f,v){this.bucketInstanceId=r,this.featureIndex=u,this.sourceLayerIndex=h,this.bucketIndex=f,this.tileID=v}}class Om{constructor(r){this.crossSourceCollisions=r,this.maxGroupID=0,this.collisionGroups={}}get(r){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[r]){let u=++this.maxGroupID;this.collisionGroups[r]={ID:u,predicate:h=>h.collisionGroupID===u}}return this.collisionGroups[r]}}function Wu(b,r,u,h,f){let{horizontalAlign:v,verticalAlign:w}=a.aS(b);return new a.P(-(v-.5)*r+h[0]*f,-(w-.5)*u+h[1]*f)}class Op{constructor(r,u,h,f,v){this.transform=r.clone(),this.terrain=u,this.collisionIndex=new Dm(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=h,this.retainedQueryData={},this.collisionGroups=new Om(f),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=v,v&&(v.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(r){let u=this.terrain;return u?(h,f)=>u.getElevation(r,h,f):null}getBucketParts(r,u,h,f){let v=h.getBucket(u),w=h.latestFeatureIndex;if(!v||!w||u.id!==v.layerIds[0])return;let k=h.collisionBoxArray,P=v.layers[0].layout,O=v.layers[0].paint,z=Math.pow(2,this.transform.zoom-h.tileID.overscaledZ),H=h.tileSize/a.a5,j=h.tileID.toUnwrapped(),W=P.get("text-rotation-alignment")==="map",ie=a.aN(h,1,this.transform.zoom),he=a.aO(this.collisionIndex.transform,h,O.get("text-translate"),O.get("text-translate-anchor")),fe=a.aO(this.collisionIndex.transform,h,O.get("icon-translate"),O.get("icon-translate-anchor")),me=Oo(W,this.transform,ie);this.retainedQueryData[v.bucketInstanceId]=new Fm(v.bucketInstanceId,w,v.sourceLayerIndex,v.index,h.tileID);let be={bucket:v,layout:P,translationText:he,translationIcon:fe,unwrappedTileID:j,pitchedLabelPlaneMatrix:me,scale:z,textPixelRatio:H,holdingForFade:h.holdingForSymbolFade(),collisionBoxArray:k,partiallyEvaluatedTextSize:a.ay(v.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(v.sourceID)};if(f)for(let Se of v.sortKeyRanges){let{sortKey:_e,symbolInstanceStart:Ce,symbolInstanceEnd:Pe}=Se;r.push({sortKey:_e,symbolInstanceStart:Ce,symbolInstanceEnd:Pe,parameters:be})}else r.push({symbolInstanceStart:0,symbolInstanceEnd:v.symbolInstances.length,parameters:be})}attemptAnchorPlacement(r,u,h,f,v,w,k,P,O,z,H,j,W,ie,he,fe,me,be,Se,_e){let Ce=a.aP[r.textAnchor],Pe=[r.textOffset0,r.textOffset1],xe=Wu(Ce,h,f,Pe,v),Ae=this.collisionIndex.placeCollisionBox(u,j,P,O,z,k,w,fe,H.predicate,Se,xe,_e);if((!be||this.collisionIndex.placeCollisionBox(be,j,P,O,z,k,w,me,H.predicate,Se,xe,_e).placeable)&&Ae.placeable){let Ze;if(this.prevPlacement&&this.prevPlacement.variableOffsets[W.crossTileID]&&this.prevPlacement.placements[W.crossTileID]&&this.prevPlacement.placements[W.crossTileID].text&&(Ze=this.prevPlacement.variableOffsets[W.crossTileID].anchor),W.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[W.crossTileID]={textOffset:Pe,width:h,height:f,anchor:Ce,textBoxScale:v,prevAnchor:Ze},this.markUsedJustification(ie,Ce,W,he),ie.allowVerticalPlacement&&(this.markUsedOrientation(ie,he,W),this.placedOrientations[W.crossTileID]=he),{shift:xe,placedGlyphBoxes:Ae}}}placeLayerBucketPart(r,u,h){let{bucket:f,layout:v,translationText:w,translationIcon:k,unwrappedTileID:P,pitchedLabelPlaneMatrix:O,textPixelRatio:z,holdingForFade:H,collisionBoxArray:j,partiallyEvaluatedTextSize:W,collisionGroup:ie}=r.parameters,he=v.get("text-optional"),fe=v.get("icon-optional"),me=a.aQ(v,"text-overlap","text-allow-overlap"),be=me==="always",Se=a.aQ(v,"icon-overlap","icon-allow-overlap"),_e=Se==="always",Ce=v.get("text-rotation-alignment")==="map",Pe=v.get("text-pitch-alignment")==="map",xe=v.get("icon-text-fit")!=="none",Ae=v.get("symbol-z-order")==="viewport-y",Ze=be&&(_e||!f.hasIconData()||fe),qe=_e&&(be||!f.hasTextData()||he);!f.collisionArrays&&j&&f.deserializeCollisionBoxes(j);let Ge=this.retainedQueryData[f.bucketInstanceId].tileID,Ue=this._getTerrainElevationFunc(Ge),xt=this.transform.getFastPathSimpleProjectionMatrix(Ge),It=(pt,kt,_i)=>{var tn,Sn;if(u[pt.crossTileID])return;if(H)return void(this.placements[pt.crossTileID]=new Am(!1,!1,!1));let _n=!1,Pn=!1,bn=!0,Kn=null,Dn={box:null,placeable:!1,offscreen:null,occluded:!1},La={placeable:!1},la=null,aa=null,qa=null,fs=0,$r=0,Lr=0;kt.textFeatureIndex?fs=kt.textFeatureIndex:pt.useRuntimeCollisionCircles&&(fs=pt.featureIndex),kt.verticalTextFeatureIndex&&($r=kt.verticalTextFeatureIndex);let To=kt.textBox;if(To){let Xo=wn=>{let yn=a.az.horizontal;if(f.allowVerticalPlacement&&!wn&&this.prevPlacement){let wa=this.prevPlacement.placedOrientations[pt.crossTileID];wa&&(this.placedOrientations[pt.crossTileID]=wa,yn=wa,this.markUsedOrientation(f,yn,pt))}return yn},Ar=(wn,yn)=>{if(f.allowVerticalPlacement&&pt.numVerticalGlyphVertices>0&&kt.verticalTextBox){for(let wa of f.writingModes)if(wa===a.az.vertical?(Dn=yn(),La=Dn):Dn=wn(),Dn&&Dn.placeable)break}else Dn=wn()},_r=pt.textAnchorOffsetStartIndex,br=pt.textAnchorOffsetEndIndex;if(br===_r){let wn=(yn,wa)=>{let Ia=this.collisionIndex.placeCollisionBox(yn,me,z,Ge,P,Pe,Ce,w,ie.predicate,Ue,void 0,xt);return Ia&&Ia.placeable&&(this.markUsedOrientation(f,wa,pt),this.placedOrientations[pt.crossTileID]=wa),Ia};Ar(()=>wn(To,a.az.horizontal),()=>{let yn=kt.verticalTextBox;return f.allowVerticalPlacement&&pt.numVerticalGlyphVertices>0&&yn?wn(yn,a.az.vertical):{box:null,offscreen:null}}),Xo(Dn&&Dn.placeable)}else{let wn=a.aP[(Sn=(tn=this.prevPlacement)===null||tn===void 0?void 0:tn.variableOffsets[pt.crossTileID])===null||Sn===void 0?void 0:Sn.anchor],yn=(Ia,P0,D0)=>{let tl=Ia.x2-Ia.x1,R_=Ia.y2-Ia.y1,L0=pt.textBoxScale,Eh=xe&&Se==="never"?P0:null,gs=null,_s=me==="never"?1:2,bs="never";wn&&_s++;for(let Ph=0;Ph<_s;Ph++){for(let Dh=_r;Dh<br;Dh++){let Dd=f.textAnchorOffsets.get(Dh);if(wn&&Dd.textAnchor!==wn)continue;let Ld=this.attemptAnchorPlacement(Dd,Ia,tl,R_,L0,Ce,Pe,z,Ge,P,ie,bs,pt,f,D0,w,k,Eh,Ue);if(Ld&&(gs=Ld.placedGlyphBoxes,gs&&gs.placeable))return _n=!0,Kn=Ld.shift,gs}wn?wn=null:bs=me}return h&&!gs&&(gs={box:this.collisionIndex.placeCollisionBox(To,"always",z,Ge,P,Pe,Ce,w,ie.predicate,Ue,void 0,xt).box,offscreen:!1,placeable:!1,occluded:!1}),gs};Ar(()=>yn(To,kt.iconBox,a.az.horizontal),()=>{let Ia=kt.verticalTextBox;return f.allowVerticalPlacement&&(!Dn||!Dn.placeable)&&pt.numVerticalGlyphVertices>0&&Ia?yn(Ia,kt.verticalIconBox,a.az.vertical):{box:null,occluded:!0,offscreen:null}}),Dn&&(_n=Dn.placeable,bn=Dn.offscreen);let wa=Xo(Dn&&Dn.placeable);if(!_n&&this.prevPlacement){let Ia=this.prevPlacement.variableOffsets[pt.crossTileID];Ia&&(this.variableOffsets[pt.crossTileID]=Ia,this.markUsedJustification(f,Ia.anchor,pt,wa))}}}if(la=Dn,_n=la&&la.placeable,bn=la&&la.offscreen,pt.useRuntimeCollisionCircles&&pt.centerJustifiedTextSymbolIndex>=0){let Xo=f.text.placedSymbolArray.get(pt.centerJustifiedTextSymbolIndex),Ar=a.aA(f.textSizeData,W,Xo),_r=v.get("text-padding");aa=this.collisionIndex.placeCollisionCircles(me,Xo,f.lineVertexArray,f.glyphOffsetArray,Ar,P,O,h,Pe,ie.predicate,pt.collisionCircleDiameter,_r,w,Ue),aa.circles.length&&aa.collisionDetected&&!h&&a.w("Collisions detected, but collision boxes are not shown"),_n=be||aa.circles.length>0&&!aa.collisionDetected,bn=bn&&aa.offscreen}if(kt.iconFeatureIndex&&(Lr=kt.iconFeatureIndex),kt.iconBox){let Xo=Ar=>this.collisionIndex.placeCollisionBox(Ar,Se,z,Ge,P,Pe,Ce,k,ie.predicate,Ue,xe&&Kn?Kn:void 0,xt);La&&La.placeable&&kt.verticalIconBox?(qa=Xo(kt.verticalIconBox),Pn=qa.placeable):(qa=Xo(kt.iconBox),Pn=qa.placeable),bn=bn&&qa.offscreen}let Js=he||pt.numHorizontalGlyphVertices===0&&pt.numVerticalGlyphVertices===0,_u=fe||pt.numIconVertices===0;Js||_u?_u?Js||(Pn=Pn&&_n):_n=Pn&&_n:Pn=_n=Pn&&_n;let el=Pn&&qa.placeable;if(_n&&la.placeable&&this.collisionIndex.insertCollisionBox(la.box,me,v.get("text-ignore-placement"),f.bucketInstanceId,La&&La.placeable&&$r?$r:fs,ie.ID),el&&this.collisionIndex.insertCollisionBox(qa.box,Se,v.get("icon-ignore-placement"),f.bucketInstanceId,Lr,ie.ID),aa&&_n&&this.collisionIndex.insertCollisionCircles(aa.circles,me,v.get("text-ignore-placement"),f.bucketInstanceId,fs,ie.ID),h&&this.storeCollisionData(f.bucketInstanceId,_i,kt,la,qa,aa),pt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(f.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[pt.crossTileID]=new Am((_n||Ze)&&!la?.occluded,(Pn||qe)&&!qa?.occluded,bn||f.justReloaded),u[pt.crossTileID]=!0};if(Ae){if(r.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");let pt=f.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let kt=pt.length-1;kt>=0;--kt){let _i=pt[kt];It(f.symbolInstances.get(_i),f.collisionArrays[_i],_i)}}else for(let pt=r.symbolInstanceStart;pt<r.symbolInstanceEnd;pt++)It(f.symbolInstances.get(pt),f.collisionArrays[pt],pt);f.justReloaded=!1}storeCollisionData(r,u,h,f,v,w){if(h.textBox||h.iconBox){let k,P;this.collisionBoxArrays.has(r)?k=this.collisionBoxArrays.get(r):(k=new Map,this.collisionBoxArrays.set(r,k)),k.has(u)?P=k.get(u):(P={text:null,icon:null},k.set(u,P)),h.textBox&&(P.text=f.box),h.iconBox&&(P.icon=v.box)}if(w){let k=this.collisionCircleArrays[r];k===void 0&&(k=this.collisionCircleArrays[r]=[]);for(let P=0;P<w.circles.length;P+=4)k.push(w.circles[P+0]-Un),k.push(w.circles[P+1]-Un),k.push(w.circles[P+2]),k.push(w.collisionDetected?1:0)}}markUsedJustification(r,u,h,f){let v;v=f===a.az.vertical?h.verticalPlacedTextSymbolIndex:{left:h.leftJustifiedTextSymbolIndex,center:h.centerJustifiedTextSymbolIndex,right:h.rightJustifiedTextSymbolIndex}[a.aR(u)];let w=[h.leftJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.rightJustifiedTextSymbolIndex,h.verticalPlacedTextSymbolIndex];for(let k of w)k>=0&&(r.text.placedSymbolArray.get(k).crossTileID=v>=0&&k!==v?0:h.crossTileID)}markUsedOrientation(r,u,h){let f=u===a.az.horizontal||u===a.az.horizontalOnly?u:0,v=u===a.az.vertical?u:0,w=[h.leftJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.rightJustifiedTextSymbolIndex];for(let k of w)r.text.placedSymbolArray.get(k).placedOrientation=f;h.verticalPlacedTextSymbolIndex&&(r.text.placedSymbolArray.get(h.verticalPlacedTextSymbolIndex).placedOrientation=v)}commit(r){this.commitTime=r,this.zoomAtLastRecencyCheck=this.transform.zoom;let u=this.prevPlacement,h=!1;this.prevZoomAdjustment=u?u.zoomAdjustment(this.transform.zoom):0;let f=u?u.symbolFadeChange(r):1,v=u?u.opacities:{},w=u?u.variableOffsets:{},k=u?u.placedOrientations:{};for(let P in this.placements){let O=this.placements[P],z=v[P];z?(this.opacities[P]=new zc(z,f,O.text,O.icon),h=h||O.text!==z.text.placed||O.icon!==z.icon.placed):(this.opacities[P]=new zc(null,f,O.text,O.icon,O.skipFade),h=h||O.text||O.icon)}for(let P in v){let O=v[P];if(!this.opacities[P]){let z=new zc(O,f,!1,!1);z.isHidden()||(this.opacities[P]=z,h=h||O.text.placed||O.icon.placed)}}for(let P in w)this.variableOffsets[P]||!this.opacities[P]||this.opacities[P].isHidden()||(this.variableOffsets[P]=w[P]);for(let P in k)this.placedOrientations[P]||!this.opacities[P]||this.opacities[P].isHidden()||(this.placedOrientations[P]=k[P]);if(u&&u.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");h?this.lastPlacementChangeTime=r:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=u?u.lastPlacementChangeTime:r)}updateLayerOpacities(r,u){let h={};for(let f of u){let v=f.getBucket(r);v&&f.latestFeatureIndex&&r.id===v.layerIds[0]&&this.updateBucketOpacities(v,f.tileID,h,f.collisionBoxArray)}}updateBucketOpacities(r,u,h,f){r.hasTextData()&&(r.text.opacityVertexArray.clear(),r.text.hasVisibleVertices=!1),r.hasIconData()&&(r.icon.opacityVertexArray.clear(),r.icon.hasVisibleVertices=!1),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexArray.clear(),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexArray.clear();let v=r.layers[0],w=v.layout,k=new zc(null,0,!1,!1,!0),P=w.get("text-allow-overlap"),O=w.get("icon-allow-overlap"),z=v._unevaluatedLayout.hasValue("text-variable-anchor")||v._unevaluatedLayout.hasValue("text-variable-anchor-offset"),H=w.get("text-rotation-alignment")==="map",j=w.get("text-pitch-alignment")==="map",W=w.get("icon-text-fit")!=="none",ie=new zc(null,0,P&&(O||!r.hasIconData()||w.get("icon-optional")),O&&(P||!r.hasTextData()||w.get("text-optional")),!0);!r.collisionArrays&&f&&(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData())&&r.deserializeCollisionBoxes(f);let he=(me,be,Se)=>{for(let _e=0;_e<be/4;_e++)me.opacityVertexArray.emplaceBack(Se);me.hasVisibleVertices=me.hasVisibleVertices||Se!==Rc},fe=this.collisionBoxArrays.get(r.bucketInstanceId);for(let me=0;me<r.symbolInstances.length;me++){let be=r.symbolInstances.get(me),{numHorizontalGlyphVertices:Se,numVerticalGlyphVertices:_e,crossTileID:Ce}=be,Pe=this.opacities[Ce];h[Ce]?Pe=k:Pe||(Pe=ie,this.opacities[Ce]=Pe),h[Ce]=!0;let xe=be.numIconVertices>0,Ae=this.placedOrientations[be.crossTileID],Ze=Ae===a.az.vertical,qe=Ae===a.az.horizontal||Ae===a.az.horizontalOnly;if(Se>0||_e>0){let Ue=Rp(Pe.text);he(r.text,Se,Ze?Rc:Ue),he(r.text,_e,qe?Rc:Ue);let xt=Pe.text.isHidden();[be.rightJustifiedTextSymbolIndex,be.centerJustifiedTextSymbolIndex,be.leftJustifiedTextSymbolIndex].forEach(kt=>{kt>=0&&(r.text.placedSymbolArray.get(kt).hidden=xt||Ze?1:0)}),be.verticalPlacedTextSymbolIndex>=0&&(r.text.placedSymbolArray.get(be.verticalPlacedTextSymbolIndex).hidden=xt||qe?1:0);let It=this.variableOffsets[be.crossTileID];It&&this.markUsedJustification(r,It.anchor,be,Ae);let pt=this.placedOrientations[be.crossTileID];pt&&(this.markUsedJustification(r,"left",be,pt),this.markUsedOrientation(r,pt,be))}if(xe){let Ue=Rp(Pe.icon),xt=!(W&&be.verticalPlacedIconSymbolIndex&&Ze);be.placedIconSymbolIndex>=0&&(he(r.icon,be.numIconVertices,xt?Ue:Rc),r.icon.placedSymbolArray.get(be.placedIconSymbolIndex).hidden=Pe.icon.isHidden()),be.verticalPlacedIconSymbolIndex>=0&&(he(r.icon,be.numVerticalIconVertices,xt?Rc:Ue),r.icon.placedSymbolArray.get(be.verticalPlacedIconSymbolIndex).hidden=Pe.icon.isHidden())}let Ge=fe&&fe.has(me)?fe.get(me):{text:null,icon:null};if(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData()){let Ue=r.collisionArrays[me];if(Ue){let xt=new a.P(0,0);if(Ue.textBox||Ue.verticalTextBox){let It=!0;if(z){let pt=this.variableOffsets[Ce];pt?(xt=Wu(pt.anchor,pt.width,pt.height,pt.textOffset,pt.textBoxScale),H&&xt._rotate(j?-this.transform.bearingInRadians:this.transform.bearingInRadians)):It=!1}if(Ue.textBox||Ue.verticalTextBox){let pt;Ue.textBox&&(pt=Ze),Ue.verticalTextBox&&(pt=qe),Vp(r.textCollisionBox.collisionVertexArray,Pe.text.placed,!It||pt,Ge.text,xt.x,xt.y)}}if(Ue.iconBox||Ue.verticalIconBox){let It=!!(!qe&&Ue.verticalIconBox),pt;Ue.iconBox&&(pt=It),Ue.verticalIconBox&&(pt=!It),Vp(r.iconCollisionBox.collisionVertexArray,Pe.icon.placed,pt,Ge.icon,W?xt.x:0,W?xt.y:0)}}}}if(r.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[r.bucketInstanceId]&&(this.retainedQueryData[r.bucketInstanceId].featureSortOrder=r.featureSortOrder),r.hasTextData()&&r.text.opacityVertexBuffer&&r.text.opacityVertexBuffer.updateData(r.text.opacityVertexArray),r.hasIconData()&&r.icon.opacityVertexBuffer&&r.icon.opacityVertexBuffer.updateData(r.icon.opacityVertexArray),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexBuffer&&r.iconCollisionBox.collisionVertexBuffer.updateData(r.iconCollisionBox.collisionVertexArray),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexBuffer&&r.textCollisionBox.collisionVertexBuffer.updateData(r.textCollisionBox.collisionVertexArray),r.text.opacityVertexArray.length!==r.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${r.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${r.text.layoutVertexArray.length}) / 4`);if(r.icon.opacityVertexArray.length!==r.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${r.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${r.icon.layoutVertexArray.length}) / 4`);r.bucketInstanceId in this.collisionCircleArrays&&(r.collisionCircleArray=this.collisionCircleArrays[r.bucketInstanceId],delete this.collisionCircleArrays[r.bucketInstanceId])}symbolFadeChange(r){return this.fadeDuration===0?1:(r-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(r){return Math.max(0,(this.transform.zoom-r)/1.5)}hasTransitions(r){return this.stale||r-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(r,u){let h=this.zoomAtLastRecencyCheck===u?1-this.zoomAdjustment(u):1;return this.zoomAtLastRecencyCheck=u,this.commitTime+this.fadeDuration*h>r}setStale(){this.stale=!0}}function Vp(b,r,u,h,f,v){h&&h.length!==0||(h=[0,0,0,0]);let w=h[0]-Un,k=h[1]-Un,P=h[2]-Un,O=h[3]-Un;b.emplaceBack(r?1:0,u?1:0,f||0,v||0,w,k),b.emplaceBack(r?1:0,u?1:0,f||0,v||0,P,k),b.emplaceBack(r?1:0,u?1:0,f||0,v||0,P,O),b.emplaceBack(r?1:0,u?1:0,f||0,v||0,w,O)}let zp=Math.pow(2,25),Bp=Math.pow(2,24),m_=Math.pow(2,17),Bc=Math.pow(2,16),Qu=Math.pow(2,9),Vm=Math.pow(2,8),wl=Math.pow(2,1);function Rp(b){if(b.opacity===0&&!b.placed)return 0;if(b.opacity===1&&b.placed)return 4294967295;let r=b.placed?1:0,u=Math.floor(127*b.opacity);return u*zp+r*Bp+u*m_+r*Bc+u*Qu+r*Vm+u*wl+r}let Rc=0;class rs{constructor(r){this._sortAcrossTiles=r.layout.get("symbol-z-order")!=="viewport-y"&&!r.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(r,u,h,f,v){let w=this._bucketParts;for(;this._currentTileIndex<r.length;)if(u.getBucketParts(w,f,r[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,v())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,w.sort((k,P)=>k.sortKey-P.sortKey));this._currentPartIndex<w.length;)if(u.placeLayerBucketPart(w[this._currentPartIndex],this._seenCrossTileIDs,h),this._currentPartIndex++,v())return!0;return!1}}class Il{constructor(r,u,h,f,v,w,k,P){this.placement=new Op(r,u,w,k,P),this._currentPlacementIndex=h.length-1,this._forceFullPlacement=f,this._showCollisionBoxes=v,this._done=!1}isDone(){return this._done}continuePlacement(r,u,h){let f=re(),v=()=>!this._forceFullPlacement&&re()-f>2;for(;this._currentPlacementIndex>=0;){let w=u[r[this._currentPlacementIndex]],k=this.placement.collisionIndex.transform.zoom;if(w.type==="symbol"&&(!w.minzoom||w.minzoom<=k)&&(!w.maxzoom||w.maxzoom>k)){if(this._inProgressLayer||(this._inProgressLayer=new rs(w)),this._inProgressLayer.continuePlacement(h[w.source],this.placement,this._showCollisionBoxes,w,v))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(r){return this.placement.commit(r),this.placement}}let Ti=512/a.a5/2;class Np{constructor(r,u,h){this.tileID=r,this.bucketInstanceId=h,this._symbolsByKey={};let f=new Map;for(let v=0;v<u.length;v++){let w=u.get(v),k=w.key,P=f.get(k);P?P.push(w):f.set(k,[w])}for(let[v,w]of f){let k={positions:w.map(P=>({x:Math.floor(P.anchorX*Ti),y:Math.floor(P.anchorY*Ti)})),crossTileIDs:w.map(P=>P.crossTileID)};if(k.positions.length>128){let P=new a.aT(k.positions.length,16,Uint16Array);for(let{x:O,y:z}of k.positions)P.add(O,z);P.finish(),delete k.positions,k.index=P}this._symbolsByKey[v]=k}}getScaledCoordinates(r,u){let{x:h,y:f,z:v}=this.tileID.canonical,{x:w,y:k,z:P}=u.canonical,O=Ti/Math.pow(2,P-v),z=(k*a.a5+r.anchorY)*O,H=f*a.a5*Ti;return{x:Math.floor((w*a.a5+r.anchorX)*O-h*a.a5*Ti),y:Math.floor(z-H)}}findMatches(r,u,h){let f=this.tileID.canonical.z<u.canonical.z?1:Math.pow(2,this.tileID.canonical.z-u.canonical.z);for(let v=0;v<r.length;v++){let w=r.get(v);if(w.crossTileID)continue;let k=this._symbolsByKey[w.key];if(!k)continue;let P=this.getScaledCoordinates(w,u);if(k.index){let O=k.index.range(P.x-f,P.y-f,P.x+f,P.y+f).sort();for(let z of O){let H=k.crossTileIDs[z];if(!h[H]){h[H]=!0,w.crossTileID=H;break}}}else if(k.positions)for(let O=0;O<k.positions.length;O++){let z=k.positions[O],H=k.crossTileIDs[O];if(Math.abs(z.x-P.x)<=f&&Math.abs(z.y-P.y)<=f&&!h[H]){h[H]=!0,w.crossTileID=H;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:r})=>r)}}class f_{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class qp{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(r){let u=Math.round((r-this.lng)/360);if(u!==0)for(let h in this.indexes){let f=this.indexes[h],v={};for(let w in f){let k=f[w];k.tileID=k.tileID.unwrapTo(k.tileID.wrap+u),v[k.tileID.key]=k}this.indexes[h]=v}this.lng=r}addBucket(r,u,h){if(this.indexes[r.overscaledZ]&&this.indexes[r.overscaledZ][r.key]){if(this.indexes[r.overscaledZ][r.key].bucketInstanceId===u.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(r.overscaledZ,this.indexes[r.overscaledZ][r.key])}for(let v=0;v<u.symbolInstances.length;v++)u.symbolInstances.get(v).crossTileID=0;this.usedCrossTileIDs[r.overscaledZ]||(this.usedCrossTileIDs[r.overscaledZ]={});let f=this.usedCrossTileIDs[r.overscaledZ];for(let v in this.indexes){let w=this.indexes[v];if(Number(v)>r.overscaledZ)for(let k in w){let P=w[k];P.tileID.isChildOf(r)&&P.findMatches(u.symbolInstances,r,f)}else{let k=w[r.scaledTo(Number(v)).key];k&&k.findMatches(u.symbolInstances,r,f)}}for(let v=0;v<u.symbolInstances.length;v++){let w=u.symbolInstances.get(v);w.crossTileID||(w.crossTileID=h.generate(),f[w.crossTileID]=!0)}return this.indexes[r.overscaledZ]===void 0&&(this.indexes[r.overscaledZ]={}),this.indexes[r.overscaledZ][r.key]=new Np(r,u.symbolInstances,u.bucketInstanceId),!0}removeBucketCrossTileIDs(r,u){for(let h of u.getCrossTileIDsLists())for(let f of h)delete this.usedCrossTileIDs[r][f]}removeStaleBuckets(r){let u=!1;for(let h in this.indexes){let f=this.indexes[h];for(let v in f)r[f[v].bucketInstanceId]||(this.removeBucketCrossTileIDs(h,f[v]),delete f[v],u=!0)}return u}}class wo{constructor(){this.layerIndexes={},this.crossTileIDs=new f_,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(r,u,h){let f=this.layerIndexes[r.id];f===void 0&&(f=this.layerIndexes[r.id]=new qp);let v=!1,w={};f.handleWrapJump(h);for(let k of u){let P=k.getBucket(r);P&&r.id===P.layerIds[0]&&(P.bucketInstanceId||(P.bucketInstanceId=++this.maxBucketInstanceId),f.addBucket(k.tileID,P,this.crossTileIDs)&&(v=!0),w[P.bucketInstanceId]=!0)}return f.removeStaleBuckets(w)&&(v=!0),v}pruneUnusedLayers(r){let u={};r.forEach(h=>{u[h]=!0});for(let h in this.layerIndexes)u[h]||delete this.layerIndexes[h]}}var Wa="void main() {fragColor=vec4(1.0);}";let On={prelude:pi(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:pi("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:pi("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:pi(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:pi(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:pi(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:pi(Wa,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:pi(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:pi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:pi("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:pi("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),colorRelief:pi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;uniform vec4 u_unpack;uniform sampler2D u_elevation_stops;uniform sampler2D u_color_stops;uniform int u_color_ramp_size;uniform float u_opacity;in vec2 v_pos;float getElevation(vec2 coord) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}float getElevationStop(int stop) {float x=(float(stop)+0.5)/float(u_color_ramp_size);vec4 data=texture(u_elevation_stops,vec2(x,0))*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {float el=getElevation(v_pos);int r=(u_color_ramp_size-1);int l=0;float el_l=getElevationStop(l);float el_r=getElevationStop(r);while(r-l > 1){int m=(r+l)/2;float el_m=getElevationStop(m);if(el < el_m){r=m;el_r=el_m;}else
{l=m;el_l=el_m;}}float x=(float(l)+(el-el_l)/(el_r-el_l)+0.5)/float(u_color_ramp_size);fragColor=u_opacity*texture(u_color_stops,vec2(x,0));
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_dimension;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_pos/8192.0)*scale+epsilon;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),debug:pi("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:pi(Wa,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:pi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:pi(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:pi(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:pi(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:pi(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:pi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:pi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:pi(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;if (u_method==BASIC) {basic_hillshade(deriv);} else if (u_method==COMBINED) {combined_hillshade(deriv);} else if (u_method==IGOR) {igor_hillshade(deriv);} else if (u_method==MULTIDIRECTIONAL) {multidirectional_hillshade(deriv);} else if (u_method==STANDARD) {standard_hillshade(deriv);} else {standard_hillshade(deriv);}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:pi(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:pi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:pi(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:pi(`uniform lowp float u_device_pixel_ratio;uniform lowp float u_lineatlas_width;uniform sampler2D u_image;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfgamma=(u_lineatlas_width/256.0/u_device_pixel_ratio)/min(dasharray_from.w,dasharray_to.w);alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_tileratio;uniform float u_crossfade_from;uniform float u_crossfade_to;uniform float u_lineatlas_height;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
float u_patternscale_a_x=u_tileratio/dasharray_from.w/u_crossfade_from;float u_patternscale_a_y=-dasharray_from.z/2.0/u_lineatlas_height;float u_patternscale_b_x=u_tileratio/dasharray_to.w/u_crossfade_to;float u_patternscale_b_y=-dasharray_to.z/2.0/u_lineatlas_height;v_tex_a=vec2(a_linesofar*u_patternscale_a_x/floorwidth,normal.y*u_patternscale_a_y+(float(dasharray_from.y)+0.5)/u_lineatlas_height);v_tex_b=vec2(a_linesofar*u_patternscale_b_x/floorwidth,normal.y*u_patternscale_b_y+(float(dasharray_to.y)+0.5)/u_lineatlas_height);v_width2=vec2(outset,inset);}`),lineGradientSDF:pi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform sampler2D u_image_dash;uniform float u_mix;uniform lowp float u_lineatlas_width;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);float sdfdist_a=texture(u_image_dash,v_tex_a).a;float sdfdist_b=texture(u_image_dash,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfgamma=(u_lineatlas_width/256.0)/min(dasharray_from.w,dasharray_to.w);float dash_alpha=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*dash_alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;uniform float u_tileratio;uniform float u_crossfade_from;uniform float u_crossfade_to;uniform float u_lineatlas_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;out vec2 v_tex_a;out vec2 v_tex_b;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;float texel_height=1.0/u_image_height;float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
float u_patternscale_a_x=u_tileratio/dasharray_from.w/u_crossfade_from;float u_patternscale_a_y=-dasharray_from.z/2.0/u_lineatlas_height;float u_patternscale_b_x=u_tileratio/dasharray_to.w/u_crossfade_to;float u_patternscale_b_y=-dasharray_to.z/2.0/u_lineatlas_height;v_tex_a=vec2(a_linesofar*u_patternscale_a_x/floorwidth,normal.y*u_patternscale_a_y+(float(dasharray_from.y)+0.5)/u_lineatlas_height);v_tex_b=vec2(a_linesofar*u_patternscale_b_x/floorwidth,normal.y*u_patternscale_b_y+(float(dasharray_to.y)+0.5)/u_lineatlas_height);v_width2=vec2(outset,inset);}`),raster:pi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:pi(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:pi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:pi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:pi("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:pi("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:pi("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:pi("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:pi(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:pi("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function pi(b,r){let u=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,h=r.match(/in ([\w]+) ([\w]+)/g),f=b.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),v=r.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),w=v?v.concat(f):f,k={};return{fragmentSource:b=b.replace(u,(P,O,z,H,j)=>(k[j]=!0,O==="define"?`
#ifndef HAS_UNIFORM_u_${j}
in ${z} ${H} ${j};
#else
uniform ${z} ${H} u_${j};
#endif
`:`
#ifdef HAS_UNIFORM_u_${j}
    ${z} ${H} ${j} = u_${j};
#endif
`)),vertexSource:r=r.replace(u,(P,O,z,H,j)=>{let W=H==="float"?"vec2":"vec4",ie=j.match(/color/)?"color":W;return k[j]?O==="define"?`
#ifndef HAS_UNIFORM_u_${j}
uniform lowp float u_${j}_t;
in ${z} ${W} a_${j};
out ${z} ${H} ${j};
#else
uniform ${z} ${H} u_${j};
#endif
`:ie==="vec4"?`
#ifndef HAS_UNIFORM_u_${j}
    ${j} = a_${j};
#else
    ${z} ${H} ${j} = u_${j};
#endif
`:`
#ifndef HAS_UNIFORM_u_${j}
    ${j} = unpack_mix_${ie}(a_${j}, u_${j}_t);
#else
    ${z} ${H} ${j} = u_${j};
#endif
`:O==="define"?`
#ifndef HAS_UNIFORM_u_${j}
uniform lowp float u_${j}_t;
in ${z} ${W} a_${j};
#else
uniform ${z} ${H} u_${j};
#endif
`:ie==="vec4"?`
#ifndef HAS_UNIFORM_u_${j}
    ${z} ${H} ${j} = a_${j};
#else
    ${z} ${H} ${j} = u_${j};
#endif
`:`
#ifndef HAS_UNIFORM_u_${j}
    ${z} ${H} ${j} = unpack_mix_${ie}(a_${j}, u_${j}_t);
#else
    ${z} ${H} ${j} = u_${j};
#endif
`}),staticAttributes:h,staticUniforms:w}}class fn{constructor(r,u,h){this.vertexBuffer=r,this.indexBuffer=u,this.segments=h}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var ss=a.aU([{name:"a_pos",type:"Int16",components:2}]);let co="#define PROJECTION_MERCATOR",Vo="mercator";class uo{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return Vo}get shaderDefine(){return co}get shaderPreludeCode(){return On.projectionMercator}get vertexShaderPreludeCode(){return On.projectionMercator.vertexSource}get subdivisionGranularity(){return a.aV.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(r){}getMeshFromTileID(r,u,h,f,v){if(this._cachedMesh)return this._cachedMesh;let w=new a.aW;w.emplaceBack(0,0),w.emplaceBack(a.a5,0),w.emplaceBack(0,a.a5),w.emplaceBack(a.a5,a.a5);let k=r.createVertexBuffer(w,ss.members),P=a.aX.simpleSegment(0,0,4,2),O=new a.aY;O.emplaceBack(1,0,2),O.emplaceBack(1,2,3);let z=r.createIndexBuffer(O);return this._cachedMesh=new fn(k,z,P),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(r){}}class Tl{constructor(r=0,u=0,h=0,f=0){if(isNaN(r)||r<0||isNaN(u)||u<0||isNaN(h)||h<0||isNaN(f)||f<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=r,this.bottom=u,this.left=h,this.right=f}interpolate(r,u,h){return u.top!=null&&r.top!=null&&(this.top=a.G.number(r.top,u.top,h)),u.bottom!=null&&r.bottom!=null&&(this.bottom=a.G.number(r.bottom,u.bottom,h)),u.left!=null&&r.left!=null&&(this.left=a.G.number(r.left,u.left,h)),u.right!=null&&r.right!=null&&(this.right=a.G.number(r.right,u.right,h)),this}getCenter(r,u){let h=a.an((this.left+r-this.right)/2,0,r),f=a.an((this.top+u-this.bottom)/2,0,u);return new a.P(h,f)}equals(r){return this.top===r.top&&this.bottom===r.bottom&&this.left===r.left&&this.right===r.right}clone(){return new Tl(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function ls(b,r){if(!b.renderWorldCopies||b.lngRange)return;let u=r.lng-b.center.lng;r.lng+=u>180?-360:u<-180?360:0}function ta(b){return Math.max(0,Math.floor(b))}class Bs{constructor(r,u){var h;this.applyConstrain=(f,v)=>this._constrainOverride!==null?this._constrainOverride(f,v):this._callbacks.defaultConstrain(f,v),this._callbacks=r,this._tileSize=512,this._renderWorldCopies=u?.renderWorldCopies===void 0||!!u?.renderWorldCopies,this._minZoom=u?.minZoom||0,this._maxZoom=u?.maxZoom||22,this._minPitch=u?.minPitch==null?0:u?.minPitch,this._maxPitch=u?.maxPitch==null?60:u?.maxPitch,this._constrainOverride=(h=u?.constrainOverride)!==null&&h!==void 0?h:null,this.setMaxBounds(),this._width=0,this._height=0,this._center=new a.V(0,0),this._elevation=0,this._zoom=0,this._tileZoom=ta(this._zoom),this._scale=a.aq(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new Tl,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(r,u,h){this._constrainOverride=r.constrainOverride,this._latRange=r.latRange,this._lngRange=r.lngRange,this._width=r.width,this._height=r.height,this._center=r.center,this._elevation=r.elevation,this._minElevationForCurrentTile=r.minElevationForCurrentTile,this._zoom=r.zoom,this._tileZoom=ta(this._zoom),this._scale=a.aq(this._zoom),this._bearingInRadians=r.bearingInRadians,this._fovInRadians=r.fovInRadians,this._pitchInRadians=r.pitchInRadians,this._rollInRadians=r.rollInRadians,this._unmodified=r.unmodified,this._edgeInsets=new Tl(r.padding.top,r.padding.bottom,r.padding.left,r.padding.right),this._minZoom=r.minZoom,this._maxZoom=r.maxZoom,this._minPitch=r.minPitch,this._maxPitch=r.maxPitch,this._renderWorldCopies=r.renderWorldCopies,this._cameraToCenterDistance=r.cameraToCenterDistance,this._nearZ=r.nearZ,this._farZ=r.farZ,this._autoCalculateNearFarZ=!h&&r.autoCalculateNearFarZ,u&&this.constrainInternal(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(r){this._minElevationForCurrentTile=r}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(r){this._minZoom!==r&&(this._minZoom=r,this.setZoom(this.applyConstrain(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(r){this._maxZoom!==r&&(this._maxZoom=r,this.setZoom(this.applyConstrain(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(r){this._minPitch!==r&&(this._minPitch=r,this.setPitch(Math.max(this.pitch,r)))}get maxPitch(){return this._maxPitch}setMaxPitch(r){this._maxPitch!==r&&(this._maxPitch=r,this.setPitch(Math.min(this.pitch,r)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(r){r===void 0?r=!0:r===null&&(r=!1),this._renderWorldCopies=r}get constrainOverride(){return this._constrainOverride}setConstrainOverride(r){r===void 0&&(r=null),this._constrainOverride!==r&&(this._constrainOverride=r,this.constrainInternal(),this._calcMatrices())}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(r){let u=a.W(r,-180,180)*Math.PI/180;var h,f,v,w,k,P,O,z,H;this._bearingInRadians!==u&&(this._unmodified=!1,this._bearingInRadians=u,this._calcMatrices(),this._rotationMatrix=y(),h=this._rotationMatrix,v=-this._bearingInRadians,w=(f=this._rotationMatrix)[0],k=f[1],P=f[2],O=f[3],z=Math.sin(v),H=Math.cos(v),h[0]=w*H+P*z,h[1]=k*H+O*z,h[2]=w*-z+P*H,h[3]=k*-z+O*H)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(r){let u=a.an(r,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==u&&(this._unmodified=!1,this._pitchInRadians=u,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(r){let u=r/180*Math.PI;this._rollInRadians!==u&&(this._unmodified=!1,this._rollInRadians=u,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return a.aZ(this._fovInRadians)}setFov(r){r=a.an(r,.1,150),this.fov!==r&&(this._unmodified=!1,this._fovInRadians=a.ap(r),this._calcMatrices())}get zoom(){return this._zoom}setZoom(r){let u=this.applyConstrain(this._center,r).zoom;this._zoom!==u&&(this._unmodified=!1,this._zoom=u,this._tileZoom=Math.max(0,Math.floor(u)),this._scale=a.aq(u),this.constrainInternal(),this._calcMatrices())}get center(){return this._center}setCenter(r){r.lat===this._center.lat&&r.lng===this._center.lng||(this._unmodified=!1,this._center=r,this.constrainInternal(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(r){r!==this._elevation&&(this._elevation=r,this.constrainInternal(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(r){this._edgeInsets.equals(r)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,r,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(r,u){this._autoCalculateNearFarZ=!1,this._nearZ=r,this._farZ=u,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(r){return this._edgeInsets.equals(r)}interpolatePadding(r,u,h){this._unmodified=!1,this._edgeInsets.interpolate(r,u,h),this.constrainInternal(),this._calcMatrices()}resize(r,u,h=!0){this._width=r,this._height=u,h&&this.constrainInternal(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new Hn([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(r){r?(this._lngRange=[r.getWest(),r.getEast()],this._latRange=[r.getSouth(),r.getNorth()],this.constrainInternal()):(this._lngRange=null,this._latRange=[-a.ao,a.ao])}getCameraQueryGeometry(r,u){if(u.length===1)return[u[0],r];{let{minX:h,minY:f,maxX:v,maxY:w}=a.aa.fromPoints(u).extend(r);return[new a.P(h,f),new a.P(v,f),new a.P(v,w),new a.P(h,w),new a.P(h,f)]}}constrainInternal(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;let r=this._unmodified,{center:u,zoom:h}=this.applyConstrain(this.center,this.zoom);this.setCenter(u),this.setZoom(h),this._unmodified=r,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let r=a.ar(new Float64Array(16));a.Q(r,r,[this._width/2,-this._height/2,1]),a.O(r,r,[1,-1,0]),this._clipSpaceToPixelsMatrix=r,r=a.ar(new Float64Array(16)),a.Q(r,r,[1,-1,1]),a.O(r,r,[-1,-1,0]),a.Q(r,r,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=r,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(r,u,h,f){let v=h!==void 0?h:this.bearing,w=f=f!==void 0?f:this.pitch,{distanceToCenter:k,clampedElevation:P}=this._distanceToCenterFromAltElevationPitch(u,this.elevation,w),{x:O,y:z}=hn(w,v),H=a.a9.fromLngLat(r,u),j,W,ie=a.a_(1,H.y),he=0;do{if(he+=1,he>10)break;W=k/ie,j=new a.a9(H.x+O*W,H.y+z*W),ie=1/j.meterInMercatorCoordinateUnits()}while(Math.abs(k-W*ie)>1e-12);return{center:j.toLngLat(),elevation:P,zoom:a.at(this.height/2/Math.tan(this.fovInRadians/2)/W/this.tileSize)}}recalculateZoomAndCenter(r){if(this.elevation-r==0)return;let u=1/this.worldSize,h=a.as(1,this.center.lat)*this.worldSize,f=a.a9.fromLngLat(this.center,this.elevation),v=f.x/u,w=f.y/u,k=f.z/u,P=this.pitch,O=this.bearing,{x:z,y:H,z:j}=hn(P,O),W=this.cameraToCenterDistance,ie=v+W*-z,he=w+W*-H,fe=k+W*j,{distanceToCenter:me,clampedElevation:be}=this._distanceToCenterFromAltElevationPitch(fe/h,r,P),Se=me*h,_e=new a.a9((ie+z*Se)*u,(he+H*Se)*u,0).toLngLat(),Ce=a.as(1,_e.lat),Pe=a.at(this.height/2/Math.tan(this.fovInRadians/2)/me/Ce/this.tileSize);this._elevation=be,this._center=_e,this.setZoom(Pe)}_distanceToCenterFromAltElevationPitch(r,u,h){let f=-Math.cos(a.ap(h)),v=r-u,w,k=u;return f*v>=0||Math.abs(f)<.1?(w=1e4,k=r+w*f):w=-v/f,{distanceToCenter:w,clampedElevation:k}}getCameraPoint(){let r=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.P(r*Math.sin(this.rollInRadians),r*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){let r=a.as(1,this.center.lat)*this.worldSize;return He(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/r).toLngLat()}getMercatorTileCoordinates(r){if(!r)return[0,0,1,1];let u=r.canonical.z>=0?1<<r.canonical.z:Math.pow(2,r.canonical.z);return[r.canonical.x/u,r.canonical.y/u,1/u/a.a5,1/u/a.a5]}}class Pr{constructor(r,u){this.min=r,this.max=u,this.center=a.a$([],a.b0([],this.min,this.max),.5)}quadrant(r){let u=[r%2==0,r<2],h=a.b1(this.min),f=a.b1(this.max);for(let v=0;v<u.length;v++)h[v]=u[v]?this.min[v]:this.center[v],f[v]=u[v]?this.center[v]:this.max[v];return f[2]=this.max[2],new Pr(h,f)}distanceX(r){return Math.max(Math.min(this.max[0],r[0]),this.min[0])-r[0]}distanceY(r){return Math.max(Math.min(this.max[1],r[1]),this.min[1])-r[1]}intersectsFrustum(r){let u=!0;for(let h=0;h<r.planes.length;h++){let f=this.intersectsPlane(r.planes[h]);if(f===0)return 0;f===1&&(u=!1)}return u?2:r.aabb.min[0]>this.max[0]||r.aabb.min[1]>this.max[1]||r.aabb.min[2]>this.max[2]||r.aabb.max[0]<this.min[0]||r.aabb.max[1]<this.min[1]||r.aabb.max[2]<this.min[2]?0:1}intersectsPlane(r){let u=r[3],h=r[3];for(let f=0;f<3;f++)r[f]>0?(u+=r[f]*this.min[f],h+=r[f]*this.max[f]):(h+=r[f]*this.min[f],u+=r[f]*this.max[f]);return u>=0?2:h<0?0:1}}class Zu{distanceToTile2d(r,u,h,f){let v=f.distanceX([r,u]),w=f.distanceY([r,u]);return Math.hypot(v,w)}getWrap(r,u,h){return h}getTileBoundingVolume(r,u,h,f){var v,w;let k=0,P=0;if(f?.terrain){let z=new a.a2(r.z,u,r.z,r.x,r.y),H=f.terrain.getMinMaxElevation(z);k=(v=H.minElevation)!==null&&v!==void 0?v:Math.min(0,h),P=(w=H.maxElevation)!==null&&w!==void 0?w:Math.max(0,h)}let O=1<<r.z;return new Pr([u+r.x/O,r.y/O,k],[u+(r.x+1)/O,(r.y+1)/O,P])}allowVariableZoom(r,u){let h=r.fov*(Math.abs(Math.cos(r.rollInRadians))*r.height+Math.abs(Math.sin(r.rollInRadians))*r.width)/r.height,f=a.an(78.5-h/2,0,60);return!!u.terrain||r.pitch>f}allowWorldCopies(){return!0}prepareNextFrame(){}}class Io{constructor(r,u,h){this.points=r,this.planes=u,this.aabb=h}static fromInvProjectionMatrix(r,u=1,h=0,f,v){let w=v?[[6,5,4],[0,1,2],[0,3,7],[2,1,5],[3,2,6],[0,4,5]]:[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],k=Math.pow(2,h),P=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(j=>function(W,ie,he,fe){let me=a.aH([],W,ie),be=1/me[3]/he*fe;return a.b6(me,me,[be,be,1/me[3],be])}(j,r,u,k));f&&function(j,W,ie,he){let fe=he?4:0,me=he?0:4,be=0,Se=[],_e=[];for(let xe=0;xe<4;xe++){let Ae=a.b2([],j[xe+me],j[xe+fe]),Ze=a.b7(Ae);a.a$(Ae,Ae,1/Ze),Se.push(Ze),_e.push(Ae)}for(let xe=0;xe<4;xe++){let Ae=a.b8(j[xe+fe],_e[xe],ie);be=Ae!==null&&Ae>=0?Math.max(be,Ae):Math.max(be,Se[xe])}let Ce=function(xe,Ae){let Ze=a.b2([],xe[Ae[0]],xe[Ae[1]]),qe=a.b2([],xe[Ae[2]],xe[Ae[1]]),Ge=[0,0,0,0];return a.b3(Ge,a.b4([],Ze,qe)),Ge[3]=-a.b5(Ge,xe[Ae[0]]),Ge}(j,W),Pe=function(xe,Ae){let Ze=a.b9(xe),qe=a.ba([],xe,1/Ze),Ge=a.b2([],Ae,a.a$([],qe,a.b5(Ae,qe))),Ue=a.b9(Ge);if(Ue>0){let xt=Math.sqrt(1-qe[3]*qe[3]),It=a.a$([],qe,-qe[3]),pt=a.b0([],It,a.a$([],Ge,xt/Ue));return a.bb(Ae,pt)}return null}(ie,Ce);if(Pe!==null){let xe=Pe/a.b5(_e[0],Ce);be=Math.min(be,xe)}for(let xe=0;xe<4;xe++){let Ae=Math.min(be,Se[xe]);j[xe+me]=[j[xe+fe][0]+_e[xe][0]*Ae,j[xe+fe][1]+_e[xe][1]*Ae,j[xe+fe][2]+_e[xe][2]*Ae,1]}}(P,w[0],f,v);let O=w.map(j=>{let W=a.b2([],P[j[0]],P[j[1]]),ie=a.b2([],P[j[2]],P[j[1]]),he=a.b3([],a.b4([],W,ie)),fe=-a.b5(he,P[j[1]]);return he.concat(fe)}),z=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],H=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(let j of P)for(let W=0;W<3;W++)z[W]=Math.min(z[W],j[W]),H[W]=Math.max(H[W],j[W]);return new Io(P,O,new Pr(z,H))}}class Rs{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(r){this._helper.setMinZoom(r)}setMaxZoom(r){this._helper.setMaxZoom(r)}setMinPitch(r){this._helper.setMinPitch(r)}setMaxPitch(r){this._helper.setMaxPitch(r)}setRenderWorldCopies(r){this._helper.setRenderWorldCopies(r)}setBearing(r){this._helper.setBearing(r)}setPitch(r){this._helper.setPitch(r)}setRoll(r){this._helper.setRoll(r)}setFov(r){this._helper.setFov(r)}setZoom(r){this._helper.setZoom(r)}setCenter(r){this._helper.setCenter(r)}setElevation(r){this._helper.setElevation(r)}setMinElevationForCurrentTile(r){this._helper.setMinElevationForCurrentTile(r)}setPadding(r){this._helper.setPadding(r)}interpolatePadding(r,u,h){return this._helper.interpolatePadding(r,u,h)}isPaddingEqual(r){return this._helper.isPaddingEqual(r)}resize(r,u,h=!0){this._helper.resize(r,u,h)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(r){this._helper.setMaxBounds(r)}setConstrainOverride(r){this._helper.setConstrainOverride(r)}overrideNearFarZ(r,u){this._helper.overrideNearFarZ(r,u)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(r){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),r)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(r,u){}constructor(r){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this.defaultConstrain=(u,h)=>{h=a.an(+h,this.minZoom,this.maxZoom);let f={center:new a.V(u.lng,u.lat),zoom:h},v=this._helper._lngRange;if(!this._helper._renderWorldCopies&&v===null){let _e=179.9999999999;v=[-_e,_e]}let w=this.tileSize*a.aq(f.zoom),k=0,P=w,O=0,z=w,H=0,j=0,{x:W,y:ie}=this.size;if(this._helper._latRange){let _e=this._helper._latRange;k=a.X(_e[1])*w,P=a.X(_e[0])*w,P-k<ie&&(H=ie/(P-k))}v&&(O=a.W(a.Y(v[0])*w,0,w),z=a.W(a.Y(v[1])*w,0,w),z<O&&(z+=w),z-O<W&&(j=W/(z-O)));let{x:he,y:fe}=Qt(w,u),me,be,Se=Math.max(j||0,H||0);if(Se){let _e=new a.P(j?(z+O)/2:he,H?(P+k)/2:fe);return f.center=fi(w,_e).wrap(),f.zoom+=a.at(Se),f}if(this._helper._latRange){let _e=ie/2;fe-_e<k&&(be=k+_e),fe+_e>P&&(be=P-_e)}if(v){let _e=(O+z)/2,Ce=he;this._helper._renderWorldCopies&&(Ce=a.W(he,_e-w/2,_e+w/2));let Pe=W/2;Ce-Pe<O&&(me=O+Pe),Ce+Pe>z&&(me=z-Pe)}if(me!==void 0||be!==void 0){let _e=new a.P(me??he,be??fe);f.center=fi(w,_e).wrap()}return f},this.applyConstrain=(u,h)=>this._helper.applyConstrain(u,h),this._helper=new Bs({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(u,h)=>this.defaultConstrain(u,h)},r),this._coveringTilesDetailsProvider=new Zu}clone(){let r=new Rs;return r.apply(this),r}apply(r,u,h){this._helper.apply(r,u,h)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(r){let u=[new a.bc(0,r)];if(this._helper._renderWorldCopies){let h=this.screenPointToMercatorCoordinate(new a.P(0,0)),f=this.screenPointToMercatorCoordinate(new a.P(this._helper._width,0)),v=this.screenPointToMercatorCoordinate(new a.P(this._helper._width,this._helper._height)),w=this.screenPointToMercatorCoordinate(new a.P(0,this._helper._height)),k=Math.floor(Math.min(h.x,f.x,v.x,w.x)),P=Math.floor(Math.max(h.x,f.x,v.x,w.x)),O=1;for(let z=k-O;z<=P+O;z++)z!==0&&u.push(new a.bc(z,r))}return u}getCameraFrustum(){return Io.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(r){let u=this.screenPointToLocation(this.centerPoint,r),h=r?r.getElevationForLngLatZoom(u,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(h)}setLocationAtPoint(r,u){let h=a.as(this.elevation,this.center.lat),f=this.screenPointToMercatorCoordinateAtZ(u,h),v=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,h),w=a.a9.fromLngLat(r),k=new a.a9(w.x-(f.x-v.x),w.y-(f.y-v.y));this.setCenter(k?.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(r,u){return u?this.coordinatePoint(a.a9.fromLngLat(r),u.getElevationForLngLat(r,this),this._pixelMatrix3D):this.coordinatePoint(a.a9.fromLngLat(r))}screenPointToLocation(r,u){var h;return(h=this.screenPointToMercatorCoordinate(r,u))===null||h===void 0?void 0:h.toLngLat()}screenPointToMercatorCoordinate(r,u){if(u){let h=u.pointCoordinate(r);if(h!=null)return h}return this.screenPointToMercatorCoordinateAtZ(r)}screenPointToMercatorCoordinateAtZ(r,u){let h=u||0,f=[r.x,r.y,0,1],v=[r.x,r.y,1,1];a.aH(f,f,this._pixelMatrixInverse),a.aH(v,v,this._pixelMatrixInverse);let w=f[3],k=v[3],P=f[1]/w,O=v[1]/k,z=f[2]/w,H=v[2]/k,j=z===H?0:(h-z)/(H-z);return new a.a9(a.G.number(f[0]/w,v[0]/k,j)/this.worldSize,a.G.number(P,O,j)/this.worldSize,h)}coordinatePoint(r,u=0,h=this._pixelMatrix){let f=[r.x*this.worldSize,r.y*this.worldSize,u,1];return a.aH(f,f,h),new a.P(f[0]/f[3],f[1]/f[3])}getBounds(){let r=Math.max(0,this._helper._height/2-cn(this));return new Hn().extend(this.screenPointToLocation(new a.P(0,r))).extend(this.screenPointToLocation(new a.P(this._helper._width,r))).extend(this.screenPointToLocation(new a.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new a.P(0,this._helper._height)))}isPointOnMapSurface(r,u){return u?u.pointCoordinate(r)!=null:r.y>this.height/2-cn(this)}calculatePosMatrix(r,u=!1,h){var f;let v=(f=r.key)!==null&&f!==void 0?f:a.bd(r.wrap,r.canonical.z,r.canonical.z,r.canonical.x,r.canonical.y),w=u?this._alignedPosMatrixCache:this._posMatrixCache;if(w.has(v)){let O=w.get(v);return h?O.f32:O.f64}let k=Wi(r,this.worldSize);a.S(k,u?this._alignedProjMatrix:this._viewProjMatrix,k);let P={f64:k,f32:new Float32Array(k)};return w.set(v,P),h?P.f32:P.f64}calculateFogMatrix(r){let u=r.key,h=this._fogMatrixCacheF32;if(h.has(u))return h.get(u);let f=Wi(r,this.worldSize);return a.S(f,this._fogMatrix,f),h.set(u,new Float32Array(f)),h.get(u)}calculateCenterFromCameraLngLatAlt(r,u,h,f){return this._helper.calculateCenterFromCameraLngLatAlt(r,u,h,f)}_calculateNearFarZIfNeeded(r,u,h){if(!this._helper.autoCalculateNearFarZ)return;let f=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),v=r-f*this._helper._pixelPerMeter/Math.cos(u),w=f<0?v:r,k=Math.PI/2+this.pitchInRadians,P=a.ap(this.fov)*(Math.abs(Math.cos(a.ap(this.roll)))*this.height+Math.abs(Math.sin(a.ap(this.roll)))*this.width)/this.height*(.5+h.y/this.height),O=Math.sin(P)*w/Math.sin(a.an(Math.PI-k-P,.01,Math.PI-.01)),z=cn(this),H=Math.atan(z/this._helper.cameraToCenterDistance),j=a.ap(.75),W=H>j?2*H*(.5+h.y/(2*z)):j,ie=Math.sin(W)*w/Math.sin(a.an(Math.PI-k-W,.01,Math.PI-.01)),he=Math.min(O,ie);this._helper._farZ=1.01*(Math.cos(Math.PI/2-u)*he+w),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;let r=this.centerOffset,u=Qt(this.worldSize,this.center),h=u.x,f=u.y;this._helper._pixelPerMeter=a.as(1,this.center.lat)*this.worldSize;let v=a.ap(Math.min(this.pitch,zt)),w=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(v)),k;this._calculateNearFarZIfNeeded(w,v,r),k=new Float64Array(16),a.be(k,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),a.aB(this._invProjMatrix,k),k[8]=2*-r.x/this._helper._width,k[9]=2*r.y/this._helper._height,this._projectionMatrix=a.bf(k),a.Q(k,k,[1,-1,1]),a.O(k,k,[0,0,-this._helper.cameraToCenterDistance]),a.bg(k,k,-this.rollInRadians),a.bh(k,k,this.pitchInRadians),a.bg(k,k,-this.bearingInRadians),a.O(k,k,[-h,-f,0]),this._mercatorMatrix=a.Q([],k,[this.worldSize,this.worldSize,this.worldSize]),a.Q(k,k,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=a.S(new Float64Array(16),this.clipSpaceToPixelsMatrix,k),a.O(k,k,[0,0,-this.elevation]),this._viewProjMatrix=k,this._invViewProjMatrix=a.aB([],k);let P=[0,0,-1,1];a.aH(P,P,this._invViewProjMatrix),this._cameraPosition=[P[0]/P[3],P[1]/P[3],P[2]/P[3]],this._fogMatrix=new Float64Array(16),a.be(this._fogMatrix,this.fovInRadians,this.width/this.height,w,this._helper._farZ),this._fogMatrix[8]=2*-r.x/this.width,this._fogMatrix[9]=2*r.y/this.height,a.Q(this._fogMatrix,this._fogMatrix,[1,-1,1]),a.O(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),a.bg(this._fogMatrix,this._fogMatrix,-this.rollInRadians),a.bh(this._fogMatrix,this._fogMatrix,this.pitchInRadians),a.bg(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),a.O(this._fogMatrix,this._fogMatrix,[-h,-f,0]),a.Q(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),a.O(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=a.S(new Float64Array(16),this.clipSpaceToPixelsMatrix,k);let O=this._helper._width%2/2,z=this._helper._height%2/2,H=Math.cos(this.bearingInRadians),j=Math.sin(-this.bearingInRadians),W=h-Math.round(h)+H*O+j*z,ie=f-Math.round(f)+H*z+j*O,he=new Float64Array(k);if(a.O(he,he,[W>.5?W-1:W,ie>.5?ie-1:ie,0]),this._alignedProjMatrix=he,k=a.aB(new Float64Array(16),this._pixelMatrix),!k)throw new Error("failed to invert matrix");this._pixelMatrixInverse=k,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;let r=this.screenPointToMercatorCoordinate(new a.P(0,0)),u=[r.x*this.worldSize,r.y*this.worldSize,0,1];return a.aH(u,u,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){let r=a.as(1,this.center.lat)*this.worldSize;return He(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/r).toLngLat()}lngLatToCameraDepth(r,u){let h=a.a9.fromLngLat(r),f=[h.x*this.worldSize,h.y*this.worldSize,u,1];return a.aH(f,f,this._viewProjMatrix),f[2]/f[3]}getProjectionData(r){let{overscaledTileID:u,aligned:h,applyTerrainMatrix:f}=r,v=this._helper.getMercatorTileCoordinates(u),w=u?this.calculatePosMatrix(u,h,!0):null,k;return k=u&&u.terrainRttPosMatrix32f&&f?u.terrainRttPosMatrix32f:w||a.bi(),{mainMatrix:k,tileMercatorCoords:v,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:k}}isLocationOccluded(r){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(r,u,h){return 1}transformLightDirection(r){return a.b1(r)}getRayDirectionFromPixel(r){throw new Error("Not implemented.")}projectTileCoordinates(r,u,h,f){let v=this.calculatePosMatrix(h),w;f?(w=[r,u,f(r,u),1],a.aH(w,w,v)):(w=[r,u,0,1],Ku(w,w,v));let k=w[3];return{point:new a.P(w[0]/k,w[1]/k),signedDistanceFromCamera:k,isOccluded:!1}}populateCache(r){for(let u of r)this.calculatePosMatrix(u)}getMatrixForModel(r,u){let h=a.a9.fromLngLat(r,u),f=h.meterInMercatorCoordinateUnits(),v=a.bj();return a.O(v,v,[h.x,h.y,h.z]),a.bg(v,v,Math.PI),a.bh(v,v,Math.PI/2),a.Q(v,v,[-f,f,f]),v}getProjectionDataForCustomLayer(r=!0){let u=new a.a2(0,0,0,0,0),h=this.getProjectionData({overscaledTileID:u,applyGlobeMatrix:r}),f=Wi(u,this.worldSize);a.S(f,this._viewProjMatrix,f),h.tileMercatorCoords=[0,0,1,1];let v=[a.a5,a.a5,this.worldSize/this._helper.pixelsPerMeter],w=a.bk();return a.Q(w,f,v),h.fallbackMatrix=w,h.mainMatrix=w,h}getFastPathSimpleProjectionMatrix(r){return this.calculatePosMatrix(r)}}function Gr(){a.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function zm(b){if(b.useSlerp)if(b.k<1){let r=a.bl(b.startEulerAngles.roll,b.startEulerAngles.pitch,b.startEulerAngles.bearing),u=a.bl(b.endEulerAngles.roll,b.endEulerAngles.pitch,b.endEulerAngles.bearing),h=new Float64Array(4);a.bm(h,r,u,b.k);let f=a.bn(h);b.tr.setRoll(f.roll),b.tr.setPitch(f.pitch),b.tr.setBearing(f.bearing)}else b.tr.setRoll(b.endEulerAngles.roll),b.tr.setPitch(b.endEulerAngles.pitch),b.tr.setBearing(b.endEulerAngles.bearing);else b.tr.setRoll(a.G.number(b.startEulerAngles.roll,b.endEulerAngles.roll,b.k)),b.tr.setPitch(a.G.number(b.startEulerAngles.pitch,b.endEulerAngles.pitch,b.k)),b.tr.setBearing(a.G.number(b.startEulerAngles.bearing,b.endEulerAngles.bearing,b.k))}function jp(b,r,u,h,f){let v=f.padding,w=Qt(f.worldSize,u.getNorthWest()),k=Qt(f.worldSize,u.getNorthEast()),P=Qt(f.worldSize,u.getSouthEast()),O=Qt(f.worldSize,u.getSouthWest()),z=a.ap(-h),H=w.rotate(z),j=k.rotate(z),W=P.rotate(z),ie=O.rotate(z),he=new a.P(Math.max(H.x,j.x,ie.x,W.x),Math.max(H.y,j.y,ie.y,W.y)),fe=new a.P(Math.min(H.x,j.x,ie.x,W.x),Math.min(H.y,j.y,ie.y,W.y)),me=he.sub(fe),be=(f.width-(v.left+v.right+r.left+r.right))/me.x,Se=(f.height-(v.top+v.bottom+r.top+r.bottom))/me.y;if(Se<0||be<0)return void Gr();let _e=Math.min(a.at(f.scale*Math.min(be,Se)),b.maxZoom),Ce=a.P.convert(b.offset),Pe=new a.P((r.left-r.right)/2,(r.top-r.bottom)/2).rotate(a.ap(h)),xe=Ce.add(Pe).mult(f.scale/a.aq(_e));return{center:fi(f.worldSize,w.add(P).div(2).sub(xe)),zoom:_e,bearing:h}}class Ns{get useGlobeControls(){return!1}handlePanInertia(r,u){let h=r.mag(),f=Math.abs(cn(u));return{easingOffset:r.mult(Math.min(.75*f/h,1)),easingCenter:u.center}}handleMapControlsRollPitchBearingZoom(r,u){r.bearingDelta&&u.setBearing(u.bearing+r.bearingDelta),r.pitchDelta&&u.setPitch(u.pitch+r.pitchDelta),r.rollDelta&&u.setRoll(u.roll+r.rollDelta),r.zoomDelta&&u.setZoom(u.zoom+r.zoomDelta)}handleMapControlsPan(r,u,h){r.around.distSqr(u.centerPoint)<.01||u.setLocationAtPoint(h,r.around)}cameraForBoxAndBearing(r,u,h,f,v){return jp(r,u,h,f,v)}handleJumpToCenterZoom(r,u){r.zoom!==(u.zoom!==void 0?+u.zoom:r.zoom)&&r.setZoom(+u.zoom),u.center!==void 0&&r.setCenter(a.V.convert(u.center))}handleEaseTo(r,u){let h=r.zoom,f=r.padding,v={roll:r.roll,pitch:r.pitch,bearing:r.bearing},w={roll:u.roll===void 0?r.roll:u.roll,pitch:u.pitch===void 0?r.pitch:u.pitch,bearing:u.bearing===void 0?r.bearing:u.bearing},k=u.zoom!==void 0,P=!r.isPaddingEqual(u.padding),O=!1,z=k?+u.zoom:r.zoom,H=r.centerPoint.add(u.offsetAsPoint),j=r.screenPointToLocation(H),{center:W,zoom:ie}=r.applyConstrain(a.V.convert(u.center||j),z??h);ls(r,W);let he=Qt(r.worldSize,j),fe=Qt(r.worldSize,W).sub(he),me=a.aq(ie-h);return O=ie!==h,{easeFunc:be=>{if(O&&r.setZoom(a.G.number(h,ie,be)),a.bo(v,w)||zm({startEulerAngles:v,endEulerAngles:w,tr:r,k:be,useSlerp:v.roll!=w.roll}),P&&(r.interpolatePadding(f,u.padding,be),H=r.centerPoint.add(u.offsetAsPoint)),u.around)r.setLocationAtPoint(u.around,u.aroundPoint);else{let Se=a.aq(r.zoom-h),_e=ie>h?Math.min(2,me):Math.max(.5,me),Ce=Math.pow(_e,1-be),Pe=fi(r.worldSize,he.add(fe.mult(be*Ce)).mult(Se));r.setLocationAtPoint(r.renderWorldCopies?Pe.wrap():Pe,H)}},isZooming:O,elevationCenter:W}}handleFlyTo(r,u){let h=u.zoom!==void 0,f=r.zoom,v=r.applyConstrain(a.V.convert(u.center||u.locationAtOffset),h?+u.zoom:f),w=v.center,k=v.zoom;ls(r,w);let P=Qt(r.worldSize,u.locationAtOffset),O=Qt(r.worldSize,w).sub(P),z=O.mag(),H=a.aq(k-f),j;if(u.minZoom!==void 0){let W=Math.min(+u.minZoom,f,k),ie=r.applyConstrain(w,W).zoom;j=a.aq(ie-f)}return{easeFunc:(W,ie,he,fe)=>{r.setZoom(W===1?k:f+a.at(ie));let me=W===1?w:fi(r.worldSize,P.add(O.mult(he)).mult(ie));r.setLocationAtPoint(r.renderWorldCopies?me.wrap():me,fe)},scaleOfZoom:H,targetCenter:w,scaleOfMinZoom:j,pixelPathLength:z}}}class gn{constructor(r,u,h){this.blendFunction=r,this.blendColor=u,this.mask=h}}gn.Replace=[1,0],gn.disabled=new gn(gn.Replace,a.bp.transparent,[!1,!1,!1,!1]),gn.unblended=new gn(gn.Replace,a.bp.transparent,[!0,!0,!0,!0]),gn.alphaBlended=new gn([1,771],a.bp.transparent,[!0,!0,!0,!0]);let Cl=2305;class Oi{constructor(r,u,h){this.enable=r,this.mode=u,this.frontFace=h}}Oi.disabled=new Oi(!1,1029,Cl),Oi.backCCW=new Oi(!0,1029,Cl),Oi.frontCCW=new Oi(!0,1028,Cl);class vi{constructor(r,u,h){this.func=r,this.mask=u,this.range=h}}vi.ReadOnly=!1,vi.ReadWrite=!0,vi.disabled=new vi(519,vi.ReadOnly,[0,1]);let Sl=7680;class zi{constructor(r,u,h,f,v,w){this.test=r,this.ref=u,this.mask=h,this.fail=f,this.depthFail=v,this.pass=w}}zi.disabled=new zi({func:519,mask:0},0,0,Sl,Sl,Sl);let Nc=new WeakMap;function Ko(b){var r;if(Nc.has(b))return Nc.get(b);{let u=(r=b.getParameter(b.VERSION))===null||r===void 0?void 0:r.startsWith("WebGL 2.0");return Nc.set(b,u),u}}class Ml{get awaitingQuery(){return!!this._readbackQueue}constructor(r){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=r;let u=r.context,h=u.gl;this._texFormat=h.RGBA,this._texType=h.UNSIGNED_BYTE;let f=new a.aW;f.emplaceBack(-1,-1),f.emplaceBack(2,-1),f.emplaceBack(-1,2);let v=new a.aY;v.emplaceBack(0,1,2),this._fullscreenTriangle=new fn(u.createVertexBuffer(f,ss.members),u.createIndexBuffer(v),a.aX.simpleSegment(0,0,f.length,v.length)),this._resultBuffer=new Uint8Array(4),u.activeTexture.set(h.TEXTURE1);let w=h.createTexture();h.bindTexture(h.TEXTURE_2D,w),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texImage2D(h.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=u.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(w),Ko(h)&&(this._pbo=h.createBuffer(),h.bindBuffer(h.PIXEL_PACK_BUFFER,this._pbo),h.bufferData(h.PIXEL_PACK_BUFFER,4,h.STREAM_READ),h.bindBuffer(h.PIXEL_PACK_BUFFER,null))}destroy(){let r=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),r.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(r,u){let h=this._updateCount;return this._readbackQueue?h>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():h>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(r,u),this._updateCount++,this._measuredError}_bindFramebuffer(){let r=this._cachedRenderContext.context,u=r.gl;r.activeTexture.set(u.TEXTURE1),u.bindTexture(u.TEXTURE_2D,this._fbo.colorAttachment.get()),r.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(r,u){let h=this._cachedRenderContext.context,f=h.gl;if(this._bindFramebuffer(),h.viewport.set([0,0,this._texWidth,this._texHeight]),h.clear({color:a.bp.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(h,f.TRIANGLES,vi.disabled,zi.disabled,gn.unblended,Oi.disabled,((v,w)=>({u_input:v,u_output_expected:w}))(r,u),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&Ko(f)){f.bindBuffer(f.PIXEL_PACK_BUFFER,this._pbo),f.readBuffer(f.COLOR_ATTACHMENT0),f.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),f.bindBuffer(f.PIXEL_PACK_BUFFER,null);let v=f.fenceSync(f.SYNC_GPU_COMMANDS_COMPLETE,0);f.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:v}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){let r=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&Ko(r)){let u=r.clientWaitSync(this._readbackQueue.sync,0,0);if(u===r.WAIT_FAILED)return a.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(u===r.TIMEOUT_EXPIRED)return;r.bindBuffer(r.PIXEL_PACK_BUFFER,this._pbo),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),r.bindBuffer(r.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),r.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=Ml._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(r){let u=0;return u+=r[0]/256,u+=r[1]/65536,u+=r[2]/16777216,r[3]<127&&(u=-u),u/128}}let cs=a.a5/128;function Bm(b,r){let u=b.granularity!==void 0?Math.max(b.granularity,1):1,h=u+(b.generateBorders?2:0),f=u+(b.extendToNorthPole||b.generateBorders?1:0)+(b.extendToSouthPole||b.generateBorders?1:0),v=h+1,w=f+1,k=b.generateBorders?-1:0,P=b.generateBorders||b.extendToNorthPole?-1:0,O=u+(b.generateBorders?1:0),z=u+(b.generateBorders||b.extendToSouthPole?1:0),H=v*w,j=h*f*6,W=v*w>65536;if(W&&r==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");let ie=W||r==="32bit",he=new Int16Array(2*H),fe=0;for(let Se=P;Se<=z;Se++)for(let _e=k;_e<=O;_e++){let Ce=_e/u*a.a5;_e===-1&&(Ce=-cs),_e===u+1&&(Ce=a.a5+cs);let Pe=Se/u*a.a5;Se===-1&&(Pe=b.extendToNorthPole?a.br:-cs),Se===u+1&&(Pe=b.extendToSouthPole?a.bs:a.a5+cs),he[fe++]=Ce,he[fe++]=Pe}let me=ie?new Uint32Array(j):new Uint16Array(j),be=0;for(let Se=0;Se<f;Se++)for(let _e=0;_e<h;_e++){let Ce=_e+1+Se*v,Pe=_e+(Se+1)*v,xe=_e+1+(Se+1)*v;me[be++]=_e+Se*v,me[be++]=Pe,me[be++]=Ce,me[be++]=Ce,me[be++]=Pe,me[be++]=xe}return{vertices:he.buffer.slice(0),indices:me.buffer.slice(0),uses32bitIndices:ie}}let qc=new a.aV({fill:new a.bt(128,2),line:new a.bt(512,0),tile:new a.bt(128,32),stencil:new a.bt(128,1),circle:3});class Hp{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return On.projectionGlobe}get vertexShaderPreludeCode(){return On.projectionMercator.vertexSource}get subdivisionGranularity(){return qc}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(r){this._errorMeasurement||(this._errorMeasurement=new Ml(r));let u=a.X(this._errorQueryLatitudeDegrees),h=2*Math.atan(Math.exp(Math.PI-u*Math.PI*2))-.5*Math.PI,f=this._errorMeasurement.updateErrorLoop(u,h),v=re();f!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=f,this._errorMeasurementLastChangeTime=v);let w=Math.min(Math.max((v-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=a.bu(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,a.bv(w))}_getMeshKey(r){return`${r.granularity.toString(36)}_${r.generateBorders?"b":""}${r.extendToNorthPole?"n":""}${r.extendToSouthPole?"s":""}`}getMeshFromTileID(r,u,h,f,v){let w=(v==="stencil"?qc.stencil:qc.tile).getGranularityForZoomLevel(u.z);return this._getMesh(r,{granularity:w,generateBorders:h,extendToNorthPole:u.y===0&&f,extendToSouthPole:u.y===(1<<u.z)-1&&f})}_getMesh(r,u){let h=this._getMeshKey(u);if(h in this._tileMeshCache)return this._tileMeshCache[h];let f=function(v,w){let k=Bm(w,"16bit"),P=a.aW.deserialize({arrayBuffer:k.vertices,length:k.vertices.byteLength/2/2}),O=a.aY.deserialize({arrayBuffer:k.indices,length:k.indices.byteLength/2/3});return new fn(v.createVertexBuffer(P,ss.members),v.createIndexBuffer(O),a.aX.simpleSegment(0,0,P.length,O.length))}(r,u);return this._tileMeshCache[h]=f,f}recalculate(r){}hasTransition(){let r=re(),u=!1;return u=u||(r-this._errorMeasurementLastChangeTime)/1e3<.7,u=u||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,u}setErrorQueryLatitudeDegrees(r){this._errorQueryLatitudeDegrees=r}}let g_=new a.t({type:new a.D(a.u.projection.type)});class Rm extends a.E{constructor(r){super(),this._transitionable=new a.x(g_,void 0),this.setProjection(r),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new a.H(0)),this._mercatorProjection=new uo,this._verticalPerspectiveProjection=new Hp}get transitionState(){let r=this.properties.get("type");if(typeof r=="string"&&r==="mercator")return 0;if(typeof r=="string"&&r==="vertical-perspective")return 1;if(r instanceof a.bw){if(r.from==="vertical-perspective"&&r.to==="mercator")return 1-r.transition;if(r.from==="mercator"&&r.to==="vertical-perspective")return r.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(r){this._mercatorProjection.updateGPUdependent(r),this._verticalPerspectiveProjection.updateGPUdependent(r)}getMeshFromTileID(r,u,h,f,v){return this.currentProjection.getMeshFromTileID(r,u,h,f,v)}setProjection(r){this._transitionable.setValue("type",r?.type||"mercator")}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}setErrorQueryLatitudeDegrees(r){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(r),this._mercatorProjection.setErrorQueryLatitudeDegrees(r)}}function po(b){let r=qs(b.worldSize,b.center.lat);return 2*Math.PI*r}function Dr(b,r,u,h,f){let v=1/(1<<f),w=r/a.a5*v+h*v,k=a.by((b/a.a5*v+u*v)*Math.PI*2+Math.PI,2*Math.PI),P=2*Math.atan(Math.exp(Math.PI-w*Math.PI*2))-.5*Math.PI,O=Math.cos(P),z=new Float64Array(3);return z[0]=Math.sin(k)*O,z[1]=Math.sin(P),z[2]=Math.cos(k)*O,z}function En(b){return function(r,u){let h=Math.cos(u),f=new Float64Array(3);return f[0]=Math.sin(r)*h,f[1]=Math.sin(u),f[2]=Math.cos(r)*h,f}(b.lng*Math.PI/180,b.lat*Math.PI/180)}function qs(b,r){return b/(2*Math.PI)/Math.cos(r*Math.PI/180)}function Gp(b){let r=Math.asin(b[1])/Math.PI*180,u=Math.sqrt(b[0]*b[0]+b[2]*b[2]);if(u>1e-6){let h=b[0]/u,f=Math.acos(b[2]/u),v=(h>0?f:-f)/Math.PI*180;return new a.V(a.W(v,-180,180),r)}return new a.V(0,r)}function jc(b){return Math.cos(b*Math.PI/180)}function $n(b,r){let u=jc(b),h=jc(r);return a.at(h/u)}function Nm(b,r){let u=b.rotate(r.bearingInRadians),h=r.zoom+$n(r.center.lat,0),f=a.bu(1/jc(r.center.lat),1/jc(Math.min(Math.abs(r.center.lat),60)),a.bx(h,7,3,0,1)),v=360/po({worldSize:r.worldSize,center:{lat:r.center.lat}});return new a.V(r.center.lng-u.x*v*f,a.an(r.center.lat+u.y*v,-a.ao,a.ao))}function Up(b){let r=.5*b,u=Math.sin(r),h=Math.cos(r);return Math.log(u+h)-Math.log(h-u)}function qm(b,r,u,h){let f=b.lat+u*h;if(Math.abs(u)>1){let v=(Math.sign(b.lat+u)!==Math.sign(b.lat)?-Math.abs(b.lat):Math.abs(b.lat))*Math.PI/180,w=Math.abs(b.lat+u)*Math.PI/180,k=Up(v+h*(w-v)),P=Up(v),O=Up(w);return new a.V(b.lng+r*((k-P)/(O-P)),f)}return new a.V(b.lng+r*h,f)}class __{constructor(r){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._boundingVolumeFactory=r}swapBuffers(){if(!this._hadAnyChanges)return;let r=this._cachePrevious;this._cachePrevious=this._cache,this._cache=r,this._cache.clear(),this._hadAnyChanges=!1}getTileBoundingVolume(r,u,h,f){let v=`${r.z}_${r.x}_${r.y}_${f?.terrain?"t":""}`,w=this._cache.get(v);if(w)return w;let k=this._cachePrevious.get(v);if(k)return this._cache.set(v,k),k;let P=this._boundingVolumeFactory(r,u,h,f);return this._cache.set(v,P),this._hadAnyChanges=!0,P}}class kl{constructor(r,u,h,f){this.min=h,this.max=f,this.points=r,this.planes=u}static fromAabb(r,u){let h=[];for(let f=0;f<8;f++)h.push([1&~f?r[0]:u[0],(f>>1&1)==1?u[1]:r[1],(f>>2&1)==1?u[2]:r[2]]);return new kl(h,[[-1,0,0,u[0]],[1,0,0,-r[0]],[0,-1,0,u[1]],[0,1,0,-r[1]],[0,0,-1,u[2]],[0,0,1,-r[2]]],r,u)}static fromCenterSizeAngles(r,u,h){let f=a.bB([],h[0],h[1],h[2]),v=a.bC([],[u[0],0,0],f),w=a.bC([],[0,u[1],0],f),k=a.bC([],[0,0,u[2]],f),P=[...r],O=[...r];for(let H=0;H<8;H++)for(let j=0;j<3;j++){let W=r[j]+v[j]*(1&~H?-1:1)+w[j]*((H>>1&1)==1?1:-1)+k[j]*((H>>2&1)==1?1:-1);P[j]=Math.min(P[j],W),O[j]=Math.max(O[j],W)}let z=[];for(let H=0;H<8;H++){let j=[...r];a.b0(j,j,a.a$([],v,1&~H?-1:1)),a.b0(j,j,a.a$([],w,(H>>1&1)==1?1:-1)),a.b0(j,j,a.a$([],k,(H>>2&1)==1?1:-1)),z.push(j)}return new kl(z,[[...v,-a.b5(v,z[0])],[...w,-a.b5(w,z[0])],[...k,-a.b5(k,z[0])],[-v[0],-v[1],-v[2],-a.b5(v,z[7])],[-w[0],-w[1],-w[2],-a.b5(w,z[7])],[-k[0],-k[1],-k[2],-a.b5(k,z[7])]],P,O)}intersectsFrustum(r){let u=!0,h=this.points.length,f=this.planes.length,v=r.planes.length,w=r.points.length;for(let k=0;k<v;k++){let P=r.planes[k],O=0;for(let z=0;z<h;z++){let H=this.points[z];P[0]*H[0]+P[1]*H[1]+P[2]*H[2]+P[3]>=0&&O++}if(O===0)return 0;O<h&&(u=!1)}if(u)return 2;for(let k=0;k<f;k++){let P=this.planes[k],O=0;for(let z=0;z<w;z++){let H=r.points[z];P[0]*H[0]+P[1]*H[1]+P[2]*H[2]+P[3]>=0&&O++}if(O===0)return 0}return 1}intersectsPlane(r){let u=this.points.length,h=0;for(let f=0;f<u;f++){let v=this.points[f];r[0]*v[0]+r[1]*v[1]+r[2]*v[2]+r[3]>=0&&h++}return h===u?2:h===0?0:1}}function Xu(b,r,u){let h=b-r;return h<0?-h:Math.max(0,h-u)}function El(b,r,u,h,f){let v=b-u,w;return w=v<0?Math.min(-v,1+v-f):v>1?Math.min(Math.max(v-f,0),1-v):0,Math.max(w,Xu(r,h,f))}class $p{constructor(){this._boundingVolumeCache=new __(this._computeTileBoundingVolume)}prepareNextFrame(){this._boundingVolumeCache.swapBuffers()}distanceToTile2d(r,u,h,f){let v=1<<h.z,w=1/v,k=h.x/v,P=h.y/v,O=2;return O=Math.min(O,El(r,u,k,P,w)),O=Math.min(O,El(r,u,k+.5,-P-w,w)),O=Math.min(O,El(r,u,k+.5,2-P-w,w)),O}getWrap(r,u,h){let f=1<<u.z,v=1/f,w=u.x/f,k=Xu(r.x,w,v),P=Xu(r.x,w-1,v),O=Xu(r.x,w+1,v),z=Math.min(k,P,O);return z===O?1:z===P?-1:0}allowVariableZoom(r,u){return Cn(r,u)>4}allowWorldCopies(){return!1}getTileBoundingVolume(r,u,h,f){return this._boundingVolumeCache.getTileBoundingVolume(r,u,h,f)}_computeTileBoundingVolume(r,u,h,f){var v,w;let k=0,P=0;if(f?.terrain){let O=new a.a2(r.z,u,r.z,r.x,r.y),z=f.terrain.getMinMaxElevation(O);k=(v=z.minElevation)!==null&&v!==void 0?v:Math.min(0,h),P=(w=z.maxElevation)!==null&&w!==void 0?w:Math.max(0,h)}if(k/=a.bE,P/=a.bE,k+=1,P+=1,r.z<=0)return kl.fromAabb([-P,-P,-P],[P,P,P]);if(r.z===1)return kl.fromAabb([r.x===0?-P:0,r.y===0?0:-P,-P],[r.x===0?0:P,r.y===0?P:0,P]);{let O=[Dr(0,0,r.x,r.y,r.z),Dr(a.a5,0,r.x,r.y,r.z),Dr(a.a5,a.a5,r.x,r.y,r.z),Dr(0,a.a5,r.x,r.y,r.z)],z=[];for(let Ge of O)z.push(a.a$([],Ge,P));if(P!==k)for(let Ge of O)z.push(a.a$([],Ge,k));r.y===0&&z.push([0,1,0]),r.y===(1<<r.z)-1&&z.push([0,-1,0]);let H=[1,1,1],j=[-1,-1,-1];for(let Ge of z)for(let Ue=0;Ue<3;Ue++)H[Ue]=Math.min(H[Ue],Ge[Ue]),j[Ue]=Math.max(j[Ue],Ge[Ue]);let W=Dr(a.a5/2,a.a5/2,r.x,r.y,r.z),ie=a.b4([],[0,1,0],W);a.b3(ie,ie);let he=a.b4([],W,ie);a.b3(he,he);let fe=a.b4([],O[2],O[1]);a.b3(fe,fe);let me=a.b4([],O[0],O[3]);a.b3(me,me),z.push(a.a$([],W,P)),r.y>=(1<<r.z)/2&&z.push(a.a$([],Dr(a.a5/2,0,r.x,r.y,r.z),P)),r.y<(1<<r.z)/2&&z.push(a.a$([],Dr(a.a5/2,a.a5,r.x,r.y,r.z),P));let be=Hc(W,z),Se=Hc(he,z),_e=[-W[0],-W[1],-W[2],be.max],Ce=[W[0],W[1],W[2],-be.min],Pe=[-he[0],-he[1],-he[2],Se.max],xe=[he[0],he[1],he[2],-Se.min],Ae=[...fe,0],Ze=[...me,0],qe=[];return r.y===0?qe.push(a.bD(Ze,Ae,_e),a.bD(Ze,Ae,Ce)):qe.push(a.bD(Pe,Ae,_e),a.bD(Pe,Ae,Ce),a.bD(Pe,Ze,_e),a.bD(Pe,Ze,Ce)),r.y===(1<<r.z)-1?qe.push(a.bD(Ze,Ae,_e),a.bD(Ze,Ae,Ce)):qe.push(a.bD(xe,Ae,_e),a.bD(xe,Ae,Ce),a.bD(xe,Ze,_e),a.bD(xe,Ze,Ce)),new kl(qe,[_e,Ce,Pe,xe,Ae,Ze],H,j)}}}function Hc(b,r){let u=1/0,h=-1/0;for(let f of r){let v=a.b5(b,f);u=Math.min(u,v),h=Math.max(h,v)}return{min:u,max:h}}class Pl{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(r){this._helper.setMinZoom(r)}setMaxZoom(r){this._helper.setMaxZoom(r)}setMinPitch(r){this._helper.setMinPitch(r)}setMaxPitch(r){this._helper.setMaxPitch(r)}setRenderWorldCopies(r){this._helper.setRenderWorldCopies(r)}setBearing(r){this._helper.setBearing(r)}setPitch(r){this._helper.setPitch(r)}setRoll(r){this._helper.setRoll(r)}setFov(r){this._helper.setFov(r)}setZoom(r){this._helper.setZoom(r)}setCenter(r){this._helper.setCenter(r)}setElevation(r){this._helper.setElevation(r)}setMinElevationForCurrentTile(r){this._helper.setMinElevationForCurrentTile(r)}setPadding(r){this._helper.setPadding(r)}interpolatePadding(r,u,h){return this._helper.interpolatePadding(r,u,h)}isPaddingEqual(r){return this._helper.isPaddingEqual(r)}resize(r,u){this._helper.resize(r,u)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(r){this._helper.setMaxBounds(r)}setConstrainOverride(r){this._helper.setConstrainOverride(r)}overrideNearFarZ(r,u){this._helper.overrideNearFarZ(r,u)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(r){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),r)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(r){}constructor(r){this._cachedClippingPlane=a.bF(),this._projectionMatrix=a.bj(),this._globeViewProjMatrix32f=a.bi(),this._globeViewProjMatrixNoCorrection=a.bj(),this._globeViewProjMatrixNoCorrectionInverted=a.bj(),this._globeProjMatrixInverted=a.bj(),this._cameraPosition=a.bz(),this._globeLatitudeErrorCorrectionRadians=0,this.defaultConstrain=(u,h)=>{let f=a.an(u.lat,-a.ao,a.ao),v=a.an(+h,this.minZoom+$n(0,f),this.maxZoom);return{center:new a.V(u.lng,f),zoom:v}},this.applyConstrain=(u,h)=>this._helper.applyConstrain(u,h),this._helper=new Bs({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(u,h)=>this.defaultConstrain(u,h)},r),this._coveringTilesDetailsProvider=new $p}clone(){let r=new Pl;return r.apply(this),r}apply(r,u){this._globeLatitudeErrorCorrectionRadians=u||0,this._helper.apply(r)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){let r=a.bz();return r[0]=this._cameraPosition[0],r[1]=this._cameraPosition[1],r[2]=this._cameraPosition[2],r}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(r){let{overscaledTileID:u,applyGlobeMatrix:h}=r,f=this._helper.getMercatorTileCoordinates(u);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:f,clippingPlane:this._cachedClippingPlane,projectionTransition:h?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(r){let u=this.pitchInRadians,h=this.cameraToCenterDistance/r,f=Math.sin(u)*h,v=Math.cos(u)*h+1,w=1/Math.sqrt(f*f+v*v)*1,k=-f,P=v,O=Math.sqrt(k*k+P*P);k/=O,P/=O;let z=[0,k,P];a.bG(z,z,[0,0,0],-this.bearingInRadians),a.bH(z,z,[0,0,0],-1*this.center.lat*Math.PI/180),a.bI(z,z,[0,0,0],this.center.lng*Math.PI/180);let H=1/a.b7(z);return a.a$(z,z,H),[...z,-w*H]}isLocationOccluded(r){return!this.isSurfacePointVisible(En(r))}transformLightDirection(r){let u=this._helper._center.lng*Math.PI/180,h=this._helper._center.lat*Math.PI/180,f=Math.cos(h),v=[Math.sin(u)*f,Math.sin(h),Math.cos(u)*f],w=[v[2],0,-v[0]],k=[0,0,0];a.b4(k,w,v),a.b3(w,w),a.b3(k,k);let P=[0,0,0];return a.b3(P,[w[0]*r[0]+k[0]*r[1]+v[0]*r[2],w[1]*r[0]+k[1]*r[1]+v[1]*r[2],w[2]*r[0]+k[2]*r[1]+v[2]*r[2]]),P}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(r,u,h){let f=function(k,P,O){let z=1/(1<<O.z);return new a.a9(k/a.a5*z+O.x*z,P/a.a5*z+O.y*z)}(r,u,h.canonical),v=(w=f.y,[a.by(f.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-w*Math.PI*2))-.5*Math.PI]);var w;return this.getCircleRadiusCorrection()/Math.cos(v[1])}projectTileCoordinates(r,u,h,f){let v=h.canonical,w=Dr(r,u,v.x,v.y,v.z),k=1+(f?f(r,u):0)/a.bE,P=[w[0]*k,w[1]*k,w[2]*k,1];a.aH(P,P,this._globeViewProjMatrixNoCorrection);let O=this._cachedClippingPlane,z=O[0]*w[0]+O[1]*w[1]+O[2]*w[2]+O[3]<0;return{point:new a.P(P[0]/P[3],P[1]/P[3]),signedDistanceFromCamera:P[3],isOccluded:z}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;let r=qs(this.worldSize,this.center.lat),u=a.bk(),h=a.bk();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*r),a.be(u,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);let f=this.centerOffset;u[8]=2*-f.x/this._helper._width,u[9]=2*f.y/this._helper._height,this._projectionMatrix=a.bf(u),this._globeProjMatrixInverted=a.bk(),a.aB(this._globeProjMatrixInverted,u),a.O(u,u,[0,0,-this.cameraToCenterDistance]),a.bg(u,u,this.rollInRadians),a.bh(u,u,-this.pitchInRadians),a.bg(u,u,this.bearingInRadians),a.O(u,u,[0,0,-r]);let v=a.bz();v[0]=r,v[1]=r,v[2]=r,a.bh(h,u,this.center.lat*Math.PI/180),a.bJ(h,h,-this.center.lng*Math.PI/180),a.Q(h,h,v),this._globeViewProjMatrixNoCorrection=h,a.bh(u,u,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),a.bJ(u,u,-this.center.lng*Math.PI/180),a.Q(u,u,v),this._globeViewProjMatrix32f=new Float32Array(u),this._globeViewProjMatrixNoCorrectionInverted=a.bk(),a.aB(this._globeViewProjMatrixNoCorrectionInverted,h);let w=a.bz();this._cameraPosition=a.bz(),this._cameraPosition[2]=this.cameraToCenterDistance/r,a.bG(this._cameraPosition,this._cameraPosition,w,-this.rollInRadians),a.bH(this._cameraPosition,this._cameraPosition,w,this.pitchInRadians),a.bG(this._cameraPosition,this._cameraPosition,w,-this.bearingInRadians),a.b0(this._cameraPosition,this._cameraPosition,[0,0,1]),a.bH(this._cameraPosition,this._cameraPosition,w,-this.center.lat*Math.PI/180),a.bI(this._cameraPosition,this._cameraPosition,w,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(r);let k=a.bf(this._globeViewProjMatrixNoCorrectionInverted);a.Q(k,k,[1,1,-1]),this._cachedFrustum=Io.fromInvProjectionMatrix(k,1,0,this._cachedClippingPlane,!0)}calculateFogMatrix(r){a.w("calculateFogMatrix is not supported on globe projection.");let u=a.bk();return a.ar(u),u}getVisibleUnwrappedCoordinates(r){return[new a.bc(0,r)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(r){r&&a.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(r,u){if(!this._globeViewProjMatrixNoCorrection)return 1;let h=En(r);a.a$(h,h,1+u/a.bE);let f=a.bF();return a.aH(f,[h[0],h[1],h[2],1],this._globeViewProjMatrixNoCorrection),f[2]/f[3]}populateCache(r){}getBounds(){let r=.5*this.width,u=.5*this.height,h=[new a.P(0,0),new a.P(r,0),new a.P(this.width,0),new a.P(this.width,u),new a.P(this.width,this.height),new a.P(r,this.height),new a.P(0,this.height),new a.P(0,u)],f=[];for(let H of h)f.push(this.unprojectScreenPoint(H));let v=0,w=0,k=0,P=0,O=this.center;for(let H of f){let j=a.bK(O.lng,H.lng),W=a.bK(O.lat,H.lat);j<w&&(w=j),j>v&&(v=j),W<P&&(P=W),W>k&&(k=W)}let z=[O.lng+w,O.lat+P,O.lng+v,O.lat+k];return this.isSurfacePointOnScreen([0,1,0])&&(z[3]=90,z[0]=-180,z[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(z[1]=-90,z[0]=-180,z[2]=180),new Hn(z)}calculateCenterFromCameraLngLatAlt(r,u,h,f){return this._helper.calculateCenterFromCameraLngLatAlt(r,u,h,f)}setLocationAtPoint(r,u){let h=En(this.unprojectScreenPoint(u)),f=En(r),v=a.bz();a.bL(v);let w=a.bz();a.bI(w,h,v,-this.center.lng*Math.PI/180),a.bH(w,w,v,this.center.lat*Math.PI/180);let k=f[0]*f[0]+f[2]*f[2],P=w[0]*w[0];if(k<P)return;let O=Math.sqrt(k-P),z=-O,H=a.bM(f[0],f[2],w[0],O),j=a.bM(f[0],f[2],w[0],z),W=a.bz();a.bI(W,f,v,-H);let ie=a.bM(W[1],W[2],w[1],w[2]),he=a.bz();a.bI(he,f,v,-j);let fe=a.bM(he[1],he[2],w[1],w[2]),me=.5*Math.PI,be=ie>=-me&&ie<=me,Se=fe>=-me&&fe<=me,_e,Ce;if(be&&Se){let Ze=this.center.lng*Math.PI/180,qe=this.center.lat*Math.PI/180;a.bN(H,Ze)+a.bN(ie,qe)<a.bN(j,Ze)+a.bN(fe,qe)?(_e=H,Ce=ie):(_e=j,Ce=fe)}else if(be)_e=H,Ce=ie;else{if(!Se)return;_e=j,Ce=fe}let Pe=_e/Math.PI*180,xe=Ce/Math.PI*180,Ae=this.center.lat;this.setCenter(new a.V(Pe,a.an(xe,-90,90))),this.setZoom(this.zoom+$n(Ae,this.center.lat))}locationToScreenPoint(r,u){let h=En(r);if(u){let f=u.getElevationForLngLatZoom(r,this._helper._tileZoom);a.a$(h,h,1+f/a.bE)}return this._projectSurfacePointToScreen(h)}_projectSurfacePointToScreen(r){let u=a.bF();return a.aH(u,[...r,1],this._globeViewProjMatrixNoCorrection),u[0]/=u[3],u[1]/=u[3],new a.P((.5*u[0]+.5)*this.width,(.5*-u[1]+.5)*this.height)}screenPointToMercatorCoordinate(r,u){if(u){let h=u.pointCoordinate(r);if(h)return h}return a.a9.fromLngLat(this.unprojectScreenPoint(r))}screenPointToLocation(r,u){var h;return(h=this.screenPointToMercatorCoordinate(r,u))===null||h===void 0?void 0:h.toLngLat()}isPointOnMapSurface(r,u){let h=this._cameraPosition,f=this.getRayDirectionFromPixel(r);return!!this.rayPlanetIntersection(h,f)}getRayDirectionFromPixel(r){let u=a.bF();u[0]=r.x/this.width*2-1,u[1]=-1*(r.y/this.height*2-1),u[2]=1,u[3]=1,a.aH(u,u,this._globeViewProjMatrixNoCorrectionInverted),u[0]/=u[3],u[1]/=u[3],u[2]/=u[3];let h=a.bz();h[0]=u[0]-this._cameraPosition[0],h[1]=u[1]-this._cameraPosition[1],h[2]=u[2]-this._cameraPosition[2];let f=a.bz();return a.b3(f,h),f}isSurfacePointVisible(r){let u=this._cachedClippingPlane;return u[0]*r[0]+u[1]*r[1]+u[2]*r[2]+u[3]>=0}isSurfacePointOnScreen(r){if(!this.isSurfacePointVisible(r))return!1;let u=a.bF();return a.aH(u,[...r,1],this._globeViewProjMatrixNoCorrection),u[0]/=u[3],u[1]/=u[3],u[2]/=u[3],u[0]>-1&&u[0]<1&&u[1]>-1&&u[1]<1&&u[2]>-1&&u[2]<1}rayPlanetIntersection(r,u){let h=a.b5(r,u),f=a.bz(),v=a.bz();a.a$(v,u,h),a.b2(f,r,v);let w=1-a.b5(f,f);if(w<0)return null;let k=a.b5(r,r)-1,P=-h+(h<0?1:-1)*Math.sqrt(w),O=k/P,z=P;return{tMin:Math.min(O,z),tMax:Math.max(O,z)}}unprojectScreenPoint(r){let u=this._cameraPosition,h=this.getRayDirectionFromPixel(r),f=this.rayPlanetIntersection(u,h);if(f){let z=a.bz();a.b0(z,u,[h[0]*f.tMin,h[1]*f.tMin,h[2]*f.tMin]);let H=a.bz();return a.b3(H,z),Gp(H)}let v=this._cachedClippingPlane,w=v[0]*h[0]+v[1]*h[1]+v[2]*h[2],k=-a.bb(v,u)/w,P=a.bz();if(k>0)a.b0(P,u,[h[0]*k,h[1]*k,h[2]*k]);else{let z=a.bz();a.b0(z,u,[2*h[0],2*h[1],2*h[2]]);let H=a.bb(this._cachedClippingPlane,z);a.b2(P,z,[this._cachedClippingPlane[0]*H,this._cachedClippingPlane[1]*H,this._cachedClippingPlane[2]*H])}let O=function(z){let H=a.bz();return H[0]=z[0]*-z[3],H[1]=z[1]*-z[3],H[2]=z[2]*-z[3],{center:H,radius:Math.sqrt(1-z[3]*z[3])}}(v);return Gp(function(z,H,j){let W=a.bz();a.b2(W,j,z);let ie=a.bz();return a.bA(ie,z,W,H/a.b9(W)),ie}(O.center,O.radius,P))}getMatrixForModel(r,u){let h=a.V.convert(r),f=1/a.bE,v=a.bj();return a.bJ(v,v,h.lng/180*Math.PI),a.bh(v,v,-h.lat/180*Math.PI),a.O(v,v,[0,0,1+u/a.bE]),a.bh(v,v,.5*Math.PI),a.Q(v,v,[f,f,f]),v}getProjectionDataForCustomLayer(r=!0){let u=this.getProjectionData({overscaledTileID:new a.a2(0,0,0,0,0),applyGlobeMatrix:r});return u.tileMercatorCoords=[0,0,1,1],u}getFastPathSimpleProjectionMatrix(r){}}class Dl{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(r){this._helper.setMinZoom(r)}setMaxZoom(r){this._helper.setMaxZoom(r)}setMinPitch(r){this._helper.setMinPitch(r)}setMaxPitch(r){this._helper.setMaxPitch(r)}setRenderWorldCopies(r){this._helper.setRenderWorldCopies(r)}setBearing(r){this._helper.setBearing(r)}setPitch(r){this._helper.setPitch(r)}setRoll(r){this._helper.setRoll(r)}setFov(r){this._helper.setFov(r)}setZoom(r){this._helper.setZoom(r)}setCenter(r){this._helper.setCenter(r)}setElevation(r){this._helper.setElevation(r)}setMinElevationForCurrentTile(r){this._helper.setMinElevationForCurrentTile(r)}setPadding(r){this._helper.setPadding(r)}interpolatePadding(r,u,h){return this._helper.interpolatePadding(r,u,h)}isPaddingEqual(r){return this._helper.isPaddingEqual(r)}resize(r,u,h=!0){this._helper.resize(r,u,h)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(r){this._helper.setMaxBounds(r)}setConstrainOverride(r){this._helper.setConstrainOverride(r)}overrideNearFarZ(r,u){this._helper.overrideNearFarZ(r,u)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(r){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),r)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(r,u){this._globeness=r,this._globeLatitudeErrorCorrectionRadians=u,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().prepareNextFrame(),this._mercatorTransform.getCoveringTilesDetailsProvider().prepareNextFrame()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(r){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this.defaultConstrain=(u,h)=>this.currentTransform.defaultConstrain(u,h),this.applyConstrain=(u,h)=>this._helper.applyConstrain(u,h),this._helper=new Bs({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(u,h)=>this.defaultConstrain(u,h)},r),this._globeness=1,this._mercatorTransform=new Rs,this._verticalPerspectiveTransform=new Pl}clone(){let r=new Dl;return r._globeness=this._globeness,r._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,r.apply(this),r}apply(r){this._helper.apply(r),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(r){let u=this._mercatorTransform.getProjectionData(r),h=this._verticalPerspectiveTransform.getProjectionData(r);return{mainMatrix:this.isGlobeRendering?h.mainMatrix:u.mainMatrix,clippingPlane:h.clippingPlane,tileMercatorCoords:h.tileMercatorCoords,projectionTransition:r.applyGlobeMatrix?this._globeness:0,fallbackMatrix:u.fallbackMatrix}}isLocationOccluded(r){return this.currentTransform.isLocationOccluded(r)}transformLightDirection(r){return this.currentTransform.transformLightDirection(r)}getPixelScale(){return a.bu(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return a.bu(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(r,u,h){let f=this._mercatorTransform.getPitchedTextCorrection(r,u,h),v=this._verticalPerspectiveTransform.getPitchedTextCorrection(r,u,h);return a.bu(f,v,this._globeness)}projectTileCoordinates(r,u,h,f){return this.currentTransform.projectTileCoordinates(r,u,h,f)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(r){return this.currentTransform.calculateFogMatrix(r)}getVisibleUnwrappedCoordinates(r){return this.currentTransform.getVisibleUnwrappedCoordinates(r)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(r){this._mercatorTransform.recalculateZoomAndCenter(r),this._verticalPerspectiveTransform.recalculateZoomAndCenter(r)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(r,u){return this.currentTransform.lngLatToCameraDepth(r,u)}populateCache(r){this._mercatorTransform.populateCache(r),this._verticalPerspectiveTransform.populateCache(r)}getBounds(){return this.currentTransform.getBounds()}calculateCenterFromCameraLngLatAlt(r,u,h,f){return this._helper.calculateCenterFromCameraLngLatAlt(r,u,h,f)}setLocationAtPoint(r,u){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(r,u),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(r,u),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(r,u){return this.currentTransform.locationToScreenPoint(r,u)}screenPointToMercatorCoordinate(r,u){return this.currentTransform.screenPointToMercatorCoordinate(r,u)}screenPointToLocation(r,u){return this.currentTransform.screenPointToLocation(r,u)}isPointOnMapSurface(r,u){return this.currentTransform.isPointOnMapSurface(r,u)}getRayDirectionFromPixel(r){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(r)}getMatrixForModel(r,u){return this.currentTransform.getMatrixForModel(r,u)}getProjectionDataForCustomLayer(r=!0){let u=this._mercatorTransform.getProjectionDataForCustomLayer(r);if(!this.isGlobeRendering)return u;let h=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(r);return h.fallbackMatrix=u.mainMatrix,h}getFastPathSimpleProjectionMatrix(r){return this.currentTransform.getFastPathSimpleProjectionMatrix(r)}}class fa{get useGlobeControls(){return!0}handlePanInertia(r,u){let h=Nm(r,u);return Math.abs(h.lng-u.center.lng)>180&&(h.lng=u.center.lng+179.5*Math.sign(h.lng-u.center.lng)),{easingCenter:h,easingOffset:new a.P(0,0)}}handleMapControlsRollPitchBearingZoom(r,u){let h=r.around,f=u.screenPointToLocation(h);r.bearingDelta&&u.setBearing(u.bearing+r.bearingDelta),r.pitchDelta&&u.setPitch(u.pitch+r.pitchDelta),r.rollDelta&&u.setRoll(u.roll+r.rollDelta);let v=u.zoom;r.zoomDelta&&u.setZoom(u.zoom+r.zoomDelta);let w=u.zoom-v;if(w===0)return;let k=a.bK(u.center.lng,f.lng),P=k/(Math.abs(k/180)+1),O=a.bK(u.center.lat,f.lat),z=u.getRayDirectionFromPixel(h),H=u.cameraPosition,j=-1*a.b5(H,z),W=a.bz();a.b0(W,H,[z[0]*j,z[1]*j,z[2]*j]);let ie=a.b7(W)-1,he=Math.exp(.5*-Math.max(ie-.3,0)),fe=qs(u.worldSize,u.center.lat)/Math.min(u.width,u.height),me=a.bx(fe,.9,.5,1,.25),be=(1-a.aq(-w))*Math.min(he,me),Se=u.center.lat,_e=u.zoom,Ce=new a.V(u.center.lng+P*be,a.an(u.center.lat+O*be,-a.ao,a.ao));u.setLocationAtPoint(f,h);let Pe=u.center,xe=a.bx(Math.abs(k),45,85,0,1),Ae=a.bx(fe,.75,.35,0,1),Ze=Math.pow(Math.max(xe,Ae),.25),qe=a.bK(Pe.lng,Ce.lng),Ge=a.bK(Pe.lat,Ce.lat);u.setCenter(new a.V(Pe.lng+qe*Ze,Pe.lat+Ge*Ze).wrap()),u.setZoom(_e+$n(Se,u.center.lat))}handleMapControlsPan(r,u,h){if(!r.panDelta)return;let f=u.center.lat,v=u.zoom;u.setCenter(Nm(r.panDelta,u).wrap()),u.setZoom(v+$n(f,u.center.lat))}cameraForBoxAndBearing(r,u,h,f,v){let w=jp(r,u,h,f,v),k=u.left/v.width*2-1,P=(v.width-u.right)/v.width*2-1,O=u.top/v.height*-2+1,z=(v.height-u.bottom)/v.height*-2+1,H=a.bK(h.getWest(),h.getEast())<0,j=H?h.getEast():h.getWest(),W=H?h.getWest():h.getEast(),ie=Math.max(h.getNorth(),h.getSouth()),he=Math.min(h.getNorth(),h.getSouth()),fe=j+.5*a.bK(j,W),me=ie+.5*a.bK(ie,he),be=v.clone();be.setCenter(w.center),be.setBearing(w.bearing),be.setPitch(0),be.setRoll(0),be.setZoom(w.zoom);let Se=be.modelViewProjectionMatrix,_e=[En(h.getNorthWest()),En(h.getNorthEast()),En(h.getSouthWest()),En(h.getSouthEast()),En(new a.V(W,me)),En(new a.V(j,me)),En(new a.V(fe,ie)),En(new a.V(fe,he))],Ce=En(w.center),Pe=Number.POSITIVE_INFINITY;for(let xe of _e)k<0&&(Pe=fa.getLesserNonNegativeNonNull(Pe,fa.solveVectorScale(xe,Ce,Se,"x",k))),P>0&&(Pe=fa.getLesserNonNegativeNonNull(Pe,fa.solveVectorScale(xe,Ce,Se,"x",P))),O>0&&(Pe=fa.getLesserNonNegativeNonNull(Pe,fa.solveVectorScale(xe,Ce,Se,"y",O))),z<0&&(Pe=fa.getLesserNonNegativeNonNull(Pe,fa.solveVectorScale(xe,Ce,Se,"y",z)));if(Number.isFinite(Pe)&&Pe!==0)return w.zoom=be.zoom+a.at(Pe),w;Gr()}handleJumpToCenterZoom(r,u){let h=r.center.lat,f=r.applyConstrain(u.center?a.V.convert(u.center):r.center,r.zoom).center;r.setCenter(f.wrap());let v=u.zoom!==void 0?+u.zoom:r.zoom+$n(h,f.lat);r.zoom!==v&&r.setZoom(v)}handleEaseTo(r,u){let h=r.zoom,f=r.center,v=r.padding,w={roll:r.roll,pitch:r.pitch,bearing:r.bearing},k={roll:u.roll===void 0?r.roll:u.roll,pitch:u.pitch===void 0?r.pitch:u.pitch,bearing:u.bearing===void 0?r.bearing:u.bearing},P=u.zoom!==void 0,O=!r.isPaddingEqual(u.padding),z=!1,H=u.center?a.V.convert(u.center):f,j=r.applyConstrain(H,h).center;ls(r,j);let W=r.clone();W.setCenter(j),W.setZoom(P?+u.zoom:h+$n(f.lat,H.lat)),W.setBearing(u.bearing);let ie=new a.P(a.an(r.centerPoint.x+u.offsetAsPoint.x,0,r.width),a.an(r.centerPoint.y+u.offsetAsPoint.y,0,r.height));W.setLocationAtPoint(j,ie);let he=(u.offset&&u.offsetAsPoint.mag())>0?W.center:j,fe=P?+u.zoom:h+$n(f.lat,he.lat),me=h+$n(f.lat,0),be=fe+$n(he.lat,0),Se=a.bK(f.lng,he.lng),_e=a.bK(f.lat,he.lat),Ce=a.aq(be-me);return z=fe!==h,{easeFunc:Pe=>{if(a.bo(w,k)||zm({startEulerAngles:w,endEulerAngles:k,tr:r,k:Pe,useSlerp:w.roll!=k.roll}),O&&r.interpolatePadding(v,u.padding,Pe),u.around)a.w("Easing around a point is not supported under globe projection."),r.setLocationAtPoint(u.around,u.aroundPoint);else{let xe=be>me?Math.min(2,Ce):Math.max(.5,Ce),Ae=Math.pow(xe,1-Pe),Ze=qm(f,Se,_e,Pe*Ae);r.setCenter(Ze.wrap())}if(z){let xe=a.G.number(me,be,Pe)+$n(0,r.center.lat);r.setZoom(xe)}},isZooming:z,elevationCenter:he}}handleFlyTo(r,u){let h=u.zoom!==void 0,f=r.center,v=r.zoom,w=r.padding,k=!r.isPaddingEqual(u.padding),P=r.applyConstrain(a.V.convert(u.center||u.locationAtOffset),v).center,O=h?+u.zoom:r.zoom+$n(r.center.lat,P.lat),z=r.clone();z.setCenter(P),z.setZoom(O),z.setBearing(u.bearing);let H=new a.P(a.an(r.centerPoint.x+u.offsetAsPoint.x,0,r.width),a.an(r.centerPoint.y+u.offsetAsPoint.y,0,r.height));z.setLocationAtPoint(P,H);let j=z.center;ls(r,j);let W=function(_e,Ce,Pe){let xe=En(Ce),Ae=En(Pe),Ze=a.b5(xe,Ae),qe=Math.acos(Ze),Ge=po(_e);return qe/(2*Math.PI)*Ge}(r,f,j),ie=v+$n(f.lat,0),he=O+$n(j.lat,0),fe=a.aq(he-ie),me;if(typeof u.minZoom=="number"){let _e=+u.minZoom+$n(j.lat,0),Ce=Math.min(_e,ie,he)+$n(0,j.lat),Pe=r.applyConstrain(j,Ce).zoom+$n(j.lat,0);me=a.aq(Pe-ie)}let be=a.bK(f.lng,j.lng),Se=a.bK(f.lat,j.lat);return{easeFunc:(_e,Ce,Pe,xe)=>{let Ae=qm(f,be,Se,Pe);k&&r.interpolatePadding(w,u.padding,_e);let Ze=_e===1?j:Ae;r.setCenter(Ze.wrap());let qe=ie+a.at(Ce);r.setZoom(_e===1?O:qe+$n(0,Ze.lat))},scaleOfZoom:fe,targetCenter:j,scaleOfMinZoom:me,pixelPathLength:W}}static solveVectorScale(r,u,h,f,v){let w=f==="x"?[h[0],h[4],h[8],h[12]]:[h[1],h[5],h[9],h[13]],k=[h[3],h[7],h[11],h[15]],P=r[0]*w[0]+r[1]*w[1]+r[2]*w[2],O=r[0]*k[0]+r[1]*k[1]+r[2]*k[2],z=u[0]*w[0]+u[1]*w[1]+u[2]*w[2],H=u[0]*k[0]+u[1]*k[1]+u[2]*k[2];return z+v*O===P+v*H||k[3]*(P-z)+w[3]*(H-O)+P*H==z*O?null:(z+w[3]-v*H-v*k[3])/(z-P-v*H+v*O)}static getLesserNonNegativeNonNull(r,u){return u!==null&&u>=0&&u<r?u:r}}class jm{constructor(r){this._globe=r,this._mercatorCameraHelper=new Ns,this._verticalPerspectiveCameraHelper=new fa}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(r,u){return this.currentHelper.handlePanInertia(r,u)}handleMapControlsRollPitchBearingZoom(r,u){return this.currentHelper.handleMapControlsRollPitchBearingZoom(r,u)}handleMapControlsPan(r,u,h){this.currentHelper.handleMapControlsPan(r,u,h)}cameraForBoxAndBearing(r,u,h,f,v){return this.currentHelper.cameraForBoxAndBearing(r,u,h,f,v)}handleJumpToCenterZoom(r,u){this.currentHelper.handleJumpToCenterZoom(r,u)}handleEaseTo(r,u){return this.currentHelper.handleEaseTo(r,u)}handleFlyTo(r,u){return this.currentHelper.handleFlyTo(r,u)}}let Ll=(b,r)=>a.B(b,r&&r.filter(u=>u.identifier!=="source.canvas")),Gc=a.bO();class js extends a.E{constructor(r,u={}){var h,f;super(),this._rtlPluginLoaded=()=>{for(let w in this.tileManagers){let k=this.tileManagers[w].getSource().type;k!=="vector"&&k!=="geojson"||this.tileManagers[w].reload()}},this.map=r,this.dispatcher=new lr(Fs(),r._getMapId()),this.dispatcher.registerMessageHandler("GG",(w,k)=>this.getGlyphs(w,k)),this.dispatcher.registerMessageHandler("GI",(w,k)=>this.getImages(w,k)),this.dispatcher.registerMessageHandler("GDA",(w,k)=>this.getDashes(w,k)),this.imageManager=new mi,this.imageManager.setEventedParent(this);let v=((h=r._container)===null||h===void 0?void 0:h.lang)||typeof document<"u"&&((f=document.documentElement)===null||f===void 0?void 0:f.lang)||void 0;this.glyphManager=new Si(r._requestManager,u.localIdeographFontFamily,v),this.lineAtlas=new kr(256,512),this.crossTileSymbolIndex=new wo,this._setInitialValues(),this._resetUpdates(),this.dispatcher.broadcast("SR",a.bP()),Oe().on(Ee,this._rtlPluginLoaded),this.on("data",w=>{if(w.dataType!=="source"||w.sourceDataType!=="metadata")return;let k=this.tileManagers[w.sourceId];if(!k)return;let P=k.getSource();if(P&&P.vectorLayerIds)for(let O in this._layers){let z=this._layers[O];z.source===P.id&&this._validateLayer(z)}})}_setInitialValues(){var r;this._spritesImagesIds={},this._layers={},this._order=[],this.tileManagers={},this.zoomHistory=new a.bQ,this._availableImages=[],this._globalState={},this._serializedLayers={},this.stylesheet=null,this.light=null,this.sky=null,this.projection&&(this.projection.destroy(),delete this.projection),this._loaded=!1,this._changed=!1,this._updatedLayers={},this._updatedSources={},this._changedImages={},this._glyphsDidChange=!1,this._updatedPaintProps={},this._layerOrderChanged=!1,this.crossTileSymbolIndex=new(((r=this.crossTileSymbolIndex)===null||r===void 0?void 0:r.constructor)||Object),this.pauseablePlacement=void 0,this.placement=void 0,this.z=0}setGlobalStateProperty(r,u){var h,f,v;this._checkLoaded();let w=u===null?(v=(f=(h=this.stylesheet.state)===null||h===void 0?void 0:h[r])===null||f===void 0?void 0:f.default)!==null&&v!==void 0?v:null:u;if(a.bR(w,this._globalState[r]))return this;this._globalState[r]=w,this._applyGlobalStateChanges([r])}getGlobalState(){return this._globalState}setGlobalState(r){this._checkLoaded();let u=[];for(let h in r)!a.bR(this._globalState[h],r[h].default)&&(u.push(h),this._globalState[h]=r[h].default);this._applyGlobalStateChanges(u)}_applyGlobalStateChanges(r){if(r.length===0)return;let u=new Set,h={};for(let f of r){h[f]=this._globalState[f];for(let v in this._layers){let w=this._layers[v],k=w.getLayoutAffectingGlobalStateRefs(),P=w.getPaintAffectingGlobalStateRefs(),O=w.getVisibilityAffectingGlobalStateRefs();if(k.has(f)&&u.add(w.source),P.has(f))for(let{name:z,value:H}of P.get(f))this._updatePaintProperty(w,z,H);O?.has(f)&&(w.recalculateVisibility(),this._updateLayer(w))}}this.dispatcher.broadcast("UGS",h);for(let f in this.tileManagers)u.has(f)&&(this._reloadSource(f),this._changed=!0)}loadURL(r,u={},h){this.fire(new a.l("dataloading",{dataType:"style"})),u.validate=typeof u.validate!="boolean"||u.validate;let f=this.map._requestManager.transformRequest(r,"Style");this._loadStyleRequest=new AbortController;let v=this._loadStyleRequest;a.j(f,this._loadStyleRequest).then(w=>{this._loadStyleRequest=null,this._load(w.data,u,h)}).catch(w=>{this._loadStyleRequest=null,w&&!v.signal.aborted&&this.fire(new a.k(w))})}loadJSON(r,u={},h){this.fire(new a.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,$.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,u.validate=u.validate!==!1,this._load(r,u,h)}).catch(()=>{})}loadEmpty(){this.fire(new a.l("dataloading",{dataType:"style"})),this._load(Gc,{validate:!1})}_load(r,u,h){var f,v;let w=u.transformStyle?u.transformStyle(h,r):r;if(!u.validate||!Ll(this,a.C(w))){w=Object.assign({},w),this._loaded=!0,this.stylesheet=w;for(let k in w.sources)this.addSource(k,w.sources[k],{validate:!1});w.sprite?this._loadSprite(w.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(w.glyphs),this._createLayers(),this.light=new Ea(this.stylesheet.light),this._setProjectionInternal(((f=this.stylesheet.projection)===null||f===void 0?void 0:f.type)||"mercator"),this.sky=new Fo(this.stylesheet.sky),this.map.setTerrain((v=this.stylesheet.terrain)!==null&&v!==void 0?v:null),this.fire(new a.l("data",{dataType:"style"})),this.fire(new a.l("style.load"))}}_createLayers(){var r,u,h;let f=a.bS(this.stylesheet.layers);this.setGlobalState((r=this.stylesheet.state)!==null&&r!==void 0?r:null),this.dispatcher.broadcast("SL",f),this._order=f.map(v=>v.id),this._layers={},this._serializedLayers=null;for(let v of f){let w=a.bT(v,this._globalState);if(w.setEventedParent(this,{layer:{id:v.id}}),this._layers[v.id]=w,a.bU(w)&&this.tileManagers[w.source]){let k=(h=(u=v.paint)===null||u===void 0?void 0:u["raster-fade-duration"])!==null&&h!==void 0?h:w.paint.get("raster-fade-duration");this.tileManagers[w.source].setRasterFadeDuration(k)}}}_loadSprite(r,u=!1,h=void 0){this.imageManager.setLoaded(!1);let f=new AbortController,v;this._spriteRequest=f,function(w,k,P,O){return a._(this,void 0,void 0,function*(){let z=Rt(w),H=P>1?"@2x":"",j={},W={};for(let{id:ie,url:he}of z){let fe=k.transformRequest(Mt(he,H,".json"),"SpriteJSON");j[ie]=a.j(fe,O);let me=k.transformRequest(Mt(he,H,".png"),"SpriteImage");W[ie]=st.getImage(me,O)}return yield Promise.all([...Object.values(j),...Object.values(W)]),function(ie,he){return a._(this,void 0,void 0,function*(){let fe={};for(let me in ie){fe[me]={};let be=$.getImageCanvasContext((yield he[me]).data),Se=(yield ie[me]).data;for(let _e in Se){let{width:Ce,height:Pe,x:xe,y:Ae,sdf:Ze,pixelRatio:qe,stretchX:Ge,stretchY:Ue,content:xt,textFitWidth:It,textFitHeight:pt}=Se[_e];fe[me][_e]={data:null,pixelRatio:qe,sdf:Ze,stretchX:Ge,stretchY:Ue,content:xt,textFitWidth:It,textFitHeight:pt,spriteData:{width:Ce,height:Pe,x:xe,y:Ae,context:be}}}}return fe})}(j,W)})}(r,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(w=>{if(this._spriteRequest=null,w)for(let k in w){this._spritesImagesIds[k]=[];let P=this._spritesImagesIds[k]?this._spritesImagesIds[k].filter(O=>!(O in w)):[];for(let O of P)this.imageManager.removeImage(O),this._changedImages[O]=!0;for(let O in w[k]){let z=k==="default"?O:`${k}:${O}`;this._spritesImagesIds[k].push(z),z in this.imageManager.images?this.imageManager.updateImage(z,w[k][O],!1):this.imageManager.addImage(z,w[k][O]),u&&(this._changedImages[z]=!0)}}}).catch(w=>{this._spriteRequest=null,v=w,f.signal.aborted||this.fire(new a.k(v))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),u&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"})),h&&h(v)})}_unloadSprite(){for(let r of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(r),this._changedImages[r]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"}))}_validateLayer(r){let u=this.tileManagers[r.source];if(!u)return;let h=r.sourceLayer;if(!h)return;let f=u.getSource();(f.type==="geojson"||f.vectorLayerIds&&f.vectorLayerIds.indexOf(h)===-1)&&this.fire(new a.k(new Error(`Source layer "${h}" does not exist on source "${f.id}" as specified by style layer "${r.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(let r in this.tileManagers)if(!this.tileManagers[r].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(r,u=!1){let h=this._serializedAllLayers();if(!r||r.length===0)return Object.values(u?a.bV(h):h);let f=[];for(let v of r)if(h[v]){let w=u?a.bV(h[v]):h[v];f.push(w)}return f}_serializedAllLayers(){let r=this._serializedLayers;if(r)return r;r=this._serializedLayers={};let u=Object.keys(this._layers);for(let h of u){let f=this._layers[h];f.type!=="custom"&&(r[h]=f.serialize())}return r}hasTransitions(){var r,u,h;if(!((r=this.light)===null||r===void 0)&&r.hasTransition()||!((u=this.sky)===null||u===void 0)&&u.hasTransition()||!((h=this.projection)===null||h===void 0)&&h.hasTransition())return!0;for(let f in this.tileManagers)if(this.tileManagers[f].hasTransition())return!0;for(let f in this._layers)if(this._layers[f].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(r){if(!this._loaded)return;let u=this._changed;if(u){let f=Object.keys(this._updatedLayers),v=Object.keys(this._removedLayers);(f.length||v.length)&&this._updateWorkerLayers(f,v);for(let w in this._updatedSources){let k=this._updatedSources[w];if(k==="reload")this._reloadSource(w);else{if(k!=="clear")throw new Error(`Invalid action ${k}`);this._clearSource(w)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(let w in this._updatedPaintProps)this._layers[w].updateTransitions(r);this.light.updateTransitions(r),this.sky.updateTransitions(r),this._resetUpdates()}let h={};for(let f in this.tileManagers){let v=this.tileManagers[f];h[f]=v.used,v.used=!1}for(let f of this._order){let v=this._layers[f];v.recalculate(r,this._availableImages),!v.isHidden(r.zoom)&&v.source&&(this.tileManagers[v.source].used=!0)}for(let f in h){let v=this.tileManagers[f];!!h[f]!=!!v.used&&v.fire(new a.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:f}))}this.light.recalculate(r),this.sky.recalculate(r),this.projection.recalculate(r),this.z=r.zoom,u&&this.fire(new a.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){let r=Object.keys(this._changedImages);if(r.length){for(let u in this.tileManagers)this.tileManagers[u].reloadTilesForDependencies(["icons","patterns"],r);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(let r in this.tileManagers)this.tileManagers[r].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(r,u){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(r,!1),removedIds:u})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(r,u={}){var h;this._checkLoaded();let f=this.serialize();if(r=u.transformStyle?u.transformStyle(f,r):r,((h=u.validate)===null||h===void 0||h)&&Ll(this,a.C(r)))return!1;(r=a.bV(r)).layers=a.bS(r.layers);let v=a.bW(f,r),w=this._getOperationsToPerform(v);if(w.unimplemented.length>0)throw new Error(`Unimplemented: ${w.unimplemented.join(", ")}.`);if(w.operations.length===0)return!1;for(let k of w.operations)k();return this.stylesheet=r,this._serializedLayers=null,!0}_getOperationsToPerform(r){let u=[],h=[];for(let f of r)switch(f.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":u.push(()=>this.addLayer.apply(this,f.args));break;case"removeLayer":u.push(()=>this.removeLayer.apply(this,f.args));break;case"setPaintProperty":u.push(()=>this.setPaintProperty.apply(this,f.args));break;case"setLayoutProperty":u.push(()=>this.setLayoutProperty.apply(this,f.args));break;case"setFilter":u.push(()=>this.setFilter.apply(this,f.args));break;case"addSource":u.push(()=>this.addSource.apply(this,f.args));break;case"removeSource":u.push(()=>this.removeSource.apply(this,f.args));break;case"setLayerZoomRange":u.push(()=>this.setLayerZoomRange.apply(this,f.args));break;case"setLight":u.push(()=>this.setLight.apply(this,f.args));break;case"setGeoJSONSourceData":u.push(()=>this.setGeoJSONSourceData.apply(this,f.args));break;case"setGlyphs":u.push(()=>this.setGlyphs.apply(this,f.args));break;case"setSprite":u.push(()=>this.setSprite.apply(this,f.args));break;case"setTerrain":u.push(()=>this.map.setTerrain.apply(this,f.args));break;case"setSky":u.push(()=>this.setSky.apply(this,f.args));break;case"setProjection":this.setProjection.apply(this,f.args);break;case"setGlobalState":u.push(()=>this.setGlobalState.apply(this,f.args));break;case"setTransition":u.push(()=>{});break;default:h.push(f.command)}return{operations:u,unimplemented:h}}addImage(r,u){if(this.getImage(r))return this.fire(new a.k(new Error(`An image named "${r}" already exists.`)));this.imageManager.addImage(r,u),this._afterImageUpdated(r)}updateImage(r,u){this.imageManager.updateImage(r,u)}getImage(r){return this.imageManager.getImage(r)}removeImage(r){if(!this.getImage(r))return this.fire(new a.k(new Error(`An image named "${r}" does not exist.`)));this.imageManager.removeImage(r),this._afterImageUpdated(r)}_afterImageUpdated(r){this._availableImages=this.imageManager.listImages(),this._changedImages[r]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(r,u,h={}){if(this._checkLoaded(),this.tileManagers[r]!==void 0)throw new Error(`Source "${r}" already exists.`);if(!u.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(u).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(u.type)>=0&&this._validate(a.C.source,`sources.${r}`,u,null,h))return;this.map&&this.map._collectResourceTiming&&(u.collectResourceTiming=!0);let f=this.tileManagers[r]=new $o(r,u,this.dispatcher);f.style=this,f.setEventedParent(this,()=>({isSourceLoaded:f.loaded(),source:f.serialize(),sourceId:r})),f.onAdd(this.map),this._changed=!0}removeSource(r){if(this._checkLoaded(),this.tileManagers[r]===void 0)throw new Error("There is no source with this ID");for(let h in this._layers)if(this._layers[h].source===r)return this.fire(new a.k(new Error(`Source "${r}" cannot be removed while layer "${h}" is using it.`)));let u=this.tileManagers[r];delete this.tileManagers[r],delete this._updatedSources[r],u.fire(new a.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:r})),u.setEventedParent(null),u.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(r,u){if(this._checkLoaded(),this.tileManagers[r]===void 0)throw new Error(`There is no source with this ID=${r}`);let h=this.tileManagers[r].getSource();if(h.type!=="geojson")throw new Error(`geojsonSource.type is ${h.type}, which is !== 'geojson`);h.setData(u),this._changed=!0}getSource(r){return this.tileManagers[r]&&this.tileManagers[r].getSource()}addLayer(r,u,h={}){this._checkLoaded();let f=r.id;if(this.getLayer(f))return void this.fire(new a.k(new Error(`Layer "${f}" already exists on this map.`)));let v;if(r.type==="custom"){if(Ll(this,a.bX(r)))return;v=a.bT(r,this._globalState)}else{if("source"in r&&typeof r.source=="object"&&(this.addSource(f,r.source),r=a.bV(r),r=a.e(r,{source:f})),this._validate(a.C.layer,`layers.${f}`,r,{arrayIndex:-1},h))return;v=a.bT(r,this._globalState),this._validateLayer(v),v.setEventedParent(this,{layer:{id:f}})}let w=u?this._order.indexOf(u):this._order.length;if(u&&w===-1)this.fire(new a.k(new Error(`Cannot add layer "${f}" before non-existing layer "${u}".`)));else{if(this._order.splice(w,0,f),this._layerOrderChanged=!0,this._layers[f]=v,this._removedLayers[f]&&v.source&&v.type!=="custom"){let k=this._removedLayers[f];delete this._removedLayers[f],k.type!==v.type?this._updatedSources[v.source]="clear":(this._updatedSources[v.source]="reload",this.tileManagers[v.source].pause())}this._updateLayer(v),v.onAdd&&v.onAdd(this.map)}}moveLayer(r,u){if(this._checkLoaded(),this._changed=!0,!this._layers[r])return void this.fire(new a.k(new Error(`The layer '${r}' does not exist in the map's style and cannot be moved.`)));if(r===u)return;let h=this._order.indexOf(r);this._order.splice(h,1);let f=u?this._order.indexOf(u):this._order.length;u&&f===-1?this.fire(new a.k(new Error(`Cannot move layer "${r}" before non-existing layer "${u}".`))):(this._order.splice(f,0,r),this._layerOrderChanged=!0)}removeLayer(r){this._checkLoaded();let u=this._layers[r];if(!u)return void this.fire(new a.k(new Error(`Cannot remove non-existing layer "${r}".`)));u.setEventedParent(null);let h=this._order.indexOf(r);this._order.splice(h,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[r]=u,delete this._layers[r],this._serializedLayers&&delete this._serializedLayers[r],delete this._updatedLayers[r],delete this._updatedPaintProps[r],u.onRemove&&u.onRemove(this.map)}getLayer(r){return this._layers[r]}getLayersOrder(){return[...this._order]}hasLayer(r){return r in this._layers}setLayerZoomRange(r,u,h){this._checkLoaded();let f=this.getLayer(r);f?f.minzoom===u&&f.maxzoom===h||(u!=null&&(f.minzoom=u),h!=null&&(f.maxzoom=h),this._updateLayer(f)):this.fire(new a.k(new Error(`Cannot set the zoom range of non-existing layer "${r}".`)))}setFilter(r,u,h={}){this._checkLoaded();let f=this.getLayer(r);if(f){if(!a.bR(f.filter,u))return u==null?(f.setFilter(void 0),void this._updateLayer(f)):void(this._validate(a.C.filter,`layers.${f.id}.filter`,u,null,h)||(f.setFilter(a.bV(u)),this._updateLayer(f)))}else this.fire(new a.k(new Error(`Cannot filter non-existing layer "${r}".`)))}getFilter(r){return a.bV(this.getLayer(r).filter)}setLayoutProperty(r,u,h,f={}){this._checkLoaded();let v=this.getLayer(r);v?a.bR(v.getLayoutProperty(u),h)||(v.setLayoutProperty(u,h,f),this._updateLayer(v)):this.fire(new a.k(new Error(`Cannot style non-existing layer "${r}".`)))}getLayoutProperty(r,u){let h=this.getLayer(r);if(h)return h.getLayoutProperty(u);this.fire(new a.k(new Error(`Cannot get style of non-existing layer "${r}".`)))}setPaintProperty(r,u,h,f={}){this._checkLoaded();let v=this.getLayer(r);v?a.bR(v.getPaintProperty(u),h)||this._updatePaintProperty(v,u,h,f):this.fire(new a.k(new Error(`Cannot style non-existing layer "${r}".`)))}_updatePaintProperty(r,u,h,f={}){r.setPaintProperty(u,h,f)&&this._updateLayer(r),a.bU(r)&&u==="raster-fade-duration"&&this.tileManagers[r.source].setRasterFadeDuration(h),this._changed=!0,this._updatedPaintProps[r.id]=!0,this._serializedLayers=null}getPaintProperty(r,u){return this.getLayer(r).getPaintProperty(u)}setFeatureState(r,u){this._checkLoaded();let h=r.source,f=r.sourceLayer,v=this.tileManagers[h];if(v===void 0)return void this.fire(new a.k(new Error(`The source '${h}' does not exist in the map's style.`)));let w=v.getSource().type;w==="geojson"&&f?this.fire(new a.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):w!=="vector"||f?(r.id===void 0&&this.fire(new a.k(new Error("The feature id parameter must be provided."))),v.setFeatureState(f,r.id,u)):this.fire(new a.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(r,u){this._checkLoaded();let h=r.source,f=this.tileManagers[h];if(f===void 0)return void this.fire(new a.k(new Error(`The source '${h}' does not exist in the map's style.`)));let v=f.getSource().type,w=v==="vector"?r.sourceLayer:void 0;v!=="vector"||w?u&&typeof r.id!="string"&&typeof r.id!="number"?this.fire(new a.k(new Error("A feature id is required to remove its specific state property."))):f.removeFeatureState(w,r.id,u):this.fire(new a.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(r){this._checkLoaded();let u=r.source,h=r.sourceLayer,f=this.tileManagers[u];if(f!==void 0)return f.getSource().type!=="vector"||h?(r.id===void 0&&this.fire(new a.k(new Error("The feature id parameter must be provided."))),f.getFeatureState(h,r.id)):void this.fire(new a.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.k(new Error(`The source '${u}' does not exist in the map's style.`)))}getTransition(){return a.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;let r=a.bY(this.tileManagers,v=>v.serialize()),u=this._serializeByIds(this._order,!0),h=this.map.getTerrain()||void 0,f=this.stylesheet;return a.bZ({version:f.version,name:f.name,metadata:f.metadata,light:f.light,sky:f.sky,center:f.center,zoom:f.zoom,bearing:f.bearing,pitch:f.pitch,sprite:f.sprite,glyphs:f.glyphs,transition:f.transition,projection:f.projection,sources:r,layers:u,terrain:h},v=>v!==void 0)}_updateLayer(r){this._updatedLayers[r.id]=!0,r.source&&!this._updatedSources[r.source]&&this.tileManagers[r.source].getSource().type!=="raster"&&(this._updatedSources[r.source]="reload",this.tileManagers[r.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(r){let u=w=>this._layers[w].type==="fill-extrusion",h={},f=[];for(let w=this._order.length-1;w>=0;w--){let k=this._order[w];if(u(k)){h[k]=w;for(let P of r){let O=P[k];if(O)for(let z of O)f.push(z)}}}f.sort((w,k)=>k.intersectionZ-w.intersectionZ);let v=[];for(let w=this._order.length-1;w>=0;w--){let k=this._order[w];if(u(k))for(let P=f.length-1;P>=0;P--){let O=f[P].feature;if(h[O.layer.id]<w)break;v.push(O),f.pop()}else for(let P of r){let O=P[k];if(O)for(let z of O)v.push(z.feature)}}return v}queryRenderedFeatures(r,u,h){u&&u.filter&&this._validate(a.C.filter,"queryRenderedFeatures.filter",u.filter,null,u);let f={};if(u&&u.layers){if(!(Array.isArray(u.layers)||u.layers instanceof Set))return this.fire(new a.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(let O of u.layers){let z=this._layers[O];if(!z)return this.fire(new a.k(new Error(`The layer '${O}' does not exist in the map's style and cannot be queried for features.`))),[];f[z.source]=!0}}let v=[];u.availableImages=this._availableImages;let w=this._serializedAllLayers(),k=u.layers instanceof Set?u.layers:Array.isArray(u.layers)?new Set(u.layers):null,P=Object.assign(Object.assign({},u),{layers:k,globalState:this._globalState});for(let O in this.tileManagers)u.layers&&!f[O]||v.push(Ec(this.tileManagers[O],this._layers,w,r,P,h,this.map.terrain?(z,H,j)=>this.map.terrain.getElevation(z,H,j):void 0));return this.placement&&v.push(function(O,z,H,j,W,ie,he){let fe={},me=ie.queryRenderedSymbols(j),be=[];for(let Se of Object.keys(me).map(Number))be.push(he[Se]);be.sort(Pa);for(let Se of be){let _e=Se.featureIndex.lookupSymbolFeatures(me[Se.bucketInstanceId],z,Se.bucketIndex,Se.sourceLayerIndex,{filterSpec:W.filter,globalState:W.globalState},W.layers,W.availableImages,O);for(let Ce in _e){let Pe=fe[Ce]=fe[Ce]||[],xe=_e[Ce];xe.sort((Ae,Ze)=>{let qe=Se.featureSortOrder;if(qe){let Ge=qe.indexOf(Ae.featureIndex);return qe.indexOf(Ze.featureIndex)-Ge}return Ze.featureIndex-Ae.featureIndex});for(let Ae of xe)Pe.push(Ae)}}return function(Se,_e,Ce){for(let Pe in Se)for(let xe of Se[Pe])Uo(xe,Ce[_e[Pe].source]);return Se}(fe,O,H)}(this._layers,w,this.tileManagers,r,P,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(v)}querySourceFeatures(r,u){u?.filter&&this._validate(a.C.filter,"querySourceFeatures.filter",u.filter,null,u);let h=this.tileManagers[r];return h?function(f,v){let w=f.getRenderableIds().map(O=>f.getTileByID(O)),k=[],P={};for(let O=0;O<w.length;O++){let z=w[O],H=z.tileID.canonical.key;P[H]||(P[H]=!0,z.querySourceFeatures(k,v))}return k}(h,u?Object.assign(Object.assign({},u),{globalState:this._globalState}):{globalState:this._globalState}):[]}getLight(){return this.light.getLight()}setLight(r,u={}){this._checkLoaded();let h=this.light.getLight(),f=!1;for(let w in r)if(!a.bR(r[w],h[w])){f=!0;break}if(!f)return;let v={now:re(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(r,u),this.light.updateTransitions(v)}getProjection(){var r;return(r=this.stylesheet)===null||r===void 0?void 0:r.projection}setProjection(r){if(this._checkLoaded(),this.projection){if(this.projection.name===r.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=r,this._setProjectionInternal(r.type)}getSky(){var r;return(r=this.stylesheet)===null||r===void 0?void 0:r.sky}setSky(r,u={}){this._checkLoaded();let h=this.getSky(),f=!1;if(!r&&!h)return;if(r&&!h)f=!0;else if(!r&&h)f=!0;else for(let w in r)if(!a.bR(r[w],h[w])){f=!0;break}if(!f)return;let v={now:re(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=r,this.sky.setSky(r,u),this.sky.updateTransitions(v)}_setProjectionInternal(r){let u=function(h,f){let v={constrainOverride:f};if(Array.isArray(h)){let w=new Rm({type:h});return{projection:w,transform:new Dl(v),cameraHelper:new jm(w)}}switch(h){case"mercator":return{projection:new uo,transform:new Rs(v),cameraHelper:new Ns};case"globe":{let w=new Rm({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:w,transform:new Dl(v),cameraHelper:new jm(w)}}case"vertical-perspective":return{projection:new Hp,transform:new Pl(v),cameraHelper:new fa};default:return a.w(`Unknown projection name: ${h}. Falling back to mercator projection.`),{projection:new uo,transform:new Rs(v),cameraHelper:new Ns}}}(r,this.map.transformConstrain);this.projection=u.projection,this.map.migrateProjection(u.transform,u.cameraHelper);for(let h in this.tileManagers)this.tileManagers[h].reload()}_validate(r,u,h,f,v={}){return(!v||v.validate!==!1)&&Ll(this,r.call(a.C,a.e({key:u,style:this.serialize(),value:h,styleSpec:a.u},f)))}_remove(r=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Oe().off(Ee,this._rtlPluginLoaded);for(let u in this._layers)this._layers[u].setEventedParent(null);for(let u in this.tileManagers){let h=this.tileManagers[u];h.setEventedParent(null),h.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),r&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(r)}_clearSource(r){this.tileManagers[r].clearTiles()}_reloadSource(r){this.tileManagers[r].resume(),this.tileManagers[r].reload()}_updateSources(r){for(let u in this.tileManagers)this.tileManagers[u].update(r,this.map.terrain)}_generateCollisionBoxes(){for(let r in this.tileManagers)this._reloadSource(r)}_updatePlacement(r,u,h,f,v=!1){let w=!1,k=!1,P={};for(let O of this._order){let z=this._layers[O];if(z.type!=="symbol")continue;if(!P[z.source]){let j=this.tileManagers[z.source];P[z.source]=j.getRenderableIds(!0).map(W=>j.getTileByID(W)).sort((W,ie)=>ie.tileID.overscaledZ-W.tileID.overscaledZ||(W.tileID.isLessThan(ie.tileID)?-1:1))}let H=this.crossTileSymbolIndex.addLayer(z,P[z.source],r.center.lng);w=w||H}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((v=v||this._layerOrderChanged||h===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(re(),r.zoom))&&(this.pauseablePlacement=new Il(r,this.map.terrain,this._order,v,u,h,f,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,P),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(re()),k=!0),w&&this.pauseablePlacement.placement.setStale()),k||w)for(let O of this._order){let z=this._layers[O];z.type==="symbol"&&this.placement.updateLayerOpacities(z,P[z.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(re())}_releaseSymbolFadeTiles(){for(let r in this.tileManagers)this.tileManagers[r].releaseSymbolFadeTiles()}getImages(r,u){return a._(this,void 0,void 0,function*(){let h=yield this.imageManager.getImages(u.icons);this._updateTilesForChangedImages();let f=this.tileManagers[u.source];return f&&f.setDependencies(u.tileID.key,u.type,u.icons),h})}getGlyphs(r,u){return a._(this,void 0,void 0,function*(){let h=yield this.glyphManager.getGlyphs(u.stacks),f=this.tileManagers[u.source];return f&&f.setDependencies(u.tileID.key,u.type,[""]),h})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(r,u={}){this._checkLoaded(),r&&this._validate(a.C.glyphs,"glyphs",r,null,u)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=r,this.glyphManager.entries={},this.glyphManager.setURL(r))}getDashes(r,u){return a._(this,void 0,void 0,function*(){let h={};for(let[f,v]of Object.entries(u.dashes))h[f]=this.lineAtlas.getDash(v.dasharray,v.round);return h})}addSprite(r,u,h={},f){this._checkLoaded();let v=[{id:r,url:u}],w=[...Rt(this.stylesheet.sprite),...v];this._validate(a.C.sprite,"sprite",w,null,h)||(this.stylesheet.sprite=w,this._loadSprite(v,!0,f))}removeSprite(r){this._checkLoaded();let u=Rt(this.stylesheet.sprite);if(u.find(h=>h.id===r)){if(this._spritesImagesIds[r])for(let h of this._spritesImagesIds[r])this.imageManager.removeImage(h),this._changedImages[h]=!0;u.splice(u.findIndex(h=>h.id===r),1),this.stylesheet.sprite=u.length>0?u:void 0,delete this._spritesImagesIds[r],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"}))}else this.fire(new a.k(new Error(`Sprite "${r}" doesn't exists on this map.`)))}getSprite(){return Rt(this.stylesheet.sprite)}setSprite(r,u={},h){this._checkLoaded(),r&&this._validate(a.C.sprite,"sprite",r,null,u)||(this.stylesheet.sprite=r,r?this._loadSprite(r,!0,h):(this._unloadSprite(),h&&h(null)))}destroy(){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null);for(let r in this.tileManagers){let u=this.tileManagers[r];u.setEventedParent(null),u.onRemove(this.map)}this.tileManagers={},this.imageManager&&(this.imageManager.setEventedParent(null),this.imageManager.destroy(),this._availableImages=[],this._spritesImagesIds={}),this.glyphManager&&this.glyphManager.destroy();for(let r in this._layers){let u=this._layers[r];u.setEventedParent(null),u.onRemove&&u.onRemove(this.map)}this._setInitialValues(),this.setEventedParent(null),this.dispatcher.unregisterMessageHandler("GG"),this.dispatcher.unregisterMessageHandler("GI"),this.dispatcher.unregisterMessageHandler("GDA"),this.dispatcher.remove(!0),this._listeners={},this._oneTimeListeners={}}}var b_=a.aU([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Yu{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(r,u,h,f,v,w,k,P,O){this.context=r;let z=this.boundPaintVertexBuffers.length!==f.length;for(let H=0;!z&&H<f.length;H++)this.boundPaintVertexBuffers[H]!==f[H]&&(z=!0);!this.vao||this.boundProgram!==u||this.boundLayoutVertexBuffer!==h||z||this.boundIndexBuffer!==v||this.boundVertexOffset!==w||this.boundDynamicVertexBuffer!==k||this.boundDynamicVertexBuffer2!==P||this.boundDynamicVertexBuffer3!==O?this.freshBind(u,h,f,v,w,k,P,O):(r.bindVertexArray.set(this.vao),k&&k.bind(),v&&v.dynamicDraw&&v.bind(),P&&P.bind(),O&&O.bind())}freshBind(r,u,h,f,v,w,k,P){let O=r.numAttributes,z=this.context,H=z.gl;this.vao&&this.destroy(),this.vao=z.createVertexArray(),z.bindVertexArray.set(this.vao),this.boundProgram=r,this.boundLayoutVertexBuffer=u,this.boundPaintVertexBuffers=h,this.boundIndexBuffer=f,this.boundVertexOffset=v,this.boundDynamicVertexBuffer=w,this.boundDynamicVertexBuffer2=k,this.boundDynamicVertexBuffer3=P,u.enableAttributes(H,r);for(let j of h)j.enableAttributes(H,r);w&&w.enableAttributes(H,r),k&&k.enableAttributes(H,r),P&&P.enableAttributes(H,r),u.bind(),u.setVertexAttribPointers(H,r,v);for(let j of h)j.bind(),j.setVertexAttribPointers(H,r,v);w&&(w.bind(),w.setVertexAttribPointers(H,r,v)),f&&f.bind(),k&&(k.bind(),k.setVertexAttribPointers(H,r,v)),P&&(P.bind(),P.setVertexAttribPointers(H,r,v)),z.currentNumAttributes=O}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}let y_=(b,r,u,h,f)=>({u_texture:0,u_ele_delta:b,u_fog_matrix:r,u_fog_color:u?u.properties.get("fog-color"):a.bp.white,u_fog_ground_blend:u?u.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:f?0:u?u.calculateFogBlendOpacity(h):0,u_horizon_color:u?u.properties.get("horizon-color"):a.bp.white,u_horizon_fog_blend:u?u.properties.get("horizon-fog-blend"):1,u_is_globe_mode:f?1:0}),Al={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function Ju(b){let r=[];for(let u=0;u<b.length;u++){if(b[u]===null)continue;let h=b[u].split(" ");r.push(h.pop())}return r}class Hm{constructor(r,u,h,f,v,w,k,P,O=[]){let z=r.gl;this.program=z.createProgram();let H=Ju(u.staticAttributes),j=h?h.getBinderAttributes():[],W=H.concat(j),ie=On.prelude.staticUniforms?Ju(On.prelude.staticUniforms):[],he=k.staticUniforms?Ju(k.staticUniforms):[],fe=u.staticUniforms?Ju(u.staticUniforms):[],me=h?h.getBinderUniforms():[],be=ie.concat(he).concat(fe).concat(me),Se=[];for(let qe of be)Se.indexOf(qe)<0&&Se.push(qe);let _e=h?h.defines():[];Ko(z)&&_e.unshift("#version 300 es"),v&&_e.push("#define OVERDRAW_INSPECTOR;"),w&&_e.push("#define TERRAIN3D;"),P&&_e.push(P),O&&_e.push(...O);let Ce=_e.concat(On.prelude.fragmentSource,k.fragmentSource,u.fragmentSource).join(`
`),Pe=_e.concat(On.prelude.vertexSource,k.vertexSource,u.vertexSource).join(`
`);Ko(z)||(Ce=function(qe){return qe.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}(Ce),Pe=function(qe){return qe.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}(Pe));let xe=z.createShader(z.FRAGMENT_SHADER);if(z.isContextLost())return void(this.failedToCreate=!0);if(z.shaderSource(xe,Ce),z.compileShader(xe),!z.getShaderParameter(xe,z.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${z.getShaderInfoLog(xe)}`);z.attachShader(this.program,xe);let Ae=z.createShader(z.VERTEX_SHADER);if(z.isContextLost())return void(this.failedToCreate=!0);if(z.shaderSource(Ae,Pe),z.compileShader(Ae),!z.getShaderParameter(Ae,z.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${z.getShaderInfoLog(Ae)}`);z.attachShader(this.program,Ae),this.attributes={};let Ze={};this.numAttributes=W.length;for(let qe=0;qe<this.numAttributes;qe++)W[qe]&&(z.bindAttribLocation(this.program,qe,W[qe]),this.attributes[W[qe]]=qe);if(z.linkProgram(this.program),!z.getProgramParameter(this.program,z.LINK_STATUS))throw new Error(`Program failed to link: ${z.getProgramInfoLog(this.program)}`);z.deleteShader(Ae),z.deleteShader(xe);for(let qe=0;qe<Se.length;qe++){let Ge=Se[qe];if(Ge&&!Ze[Ge]){let Ue=z.getUniformLocation(this.program,Ge);Ue&&(Ze[Ge]=Ue)}}this.fixedUniforms=f(r,Ze),this.terrainUniforms=((qe,Ge)=>({u_depth:new a.b_(qe,Ge.u_depth),u_terrain:new a.b_(qe,Ge.u_terrain),u_terrain_dim:new a.bq(qe,Ge.u_terrain_dim),u_terrain_matrix:new a.c0(qe,Ge.u_terrain_matrix),u_terrain_unpack:new a.c1(qe,Ge.u_terrain_unpack),u_terrain_exaggeration:new a.bq(qe,Ge.u_terrain_exaggeration)}))(r,Ze),this.projectionUniforms=((qe,Ge)=>({u_projection_matrix:new a.c0(qe,Ge.u_projection_matrix),u_projection_tile_mercator_coords:new a.c1(qe,Ge.u_projection_tile_mercator_coords),u_projection_clipping_plane:new a.c1(qe,Ge.u_projection_clipping_plane),u_projection_transition:new a.bq(qe,Ge.u_projection_transition),u_projection_fallback_matrix:new a.c0(qe,Ge.u_projection_fallback_matrix)}))(r,Ze),this.binderUniforms=h?h.getUniforms(r,Ze):[]}draw(r,u,h,f,v,w,k,P,O,z,H,j,W,ie,he,fe,me,be,Se){let _e=r.gl;if(this.failedToCreate)return;if(r.program.set(this.program),r.setDepthMode(h),r.setStencilMode(f),r.setColorMode(v),r.setCullFace(w),P){r.activeTexture.set(_e.TEXTURE2),_e.bindTexture(_e.TEXTURE_2D,P.depthTexture),r.activeTexture.set(_e.TEXTURE3),_e.bindTexture(_e.TEXTURE_2D,P.texture);for(let Pe in this.terrainUniforms)this.terrainUniforms[Pe].set(P[Pe])}if(O)for(let Pe in O)this.projectionUniforms[Al[Pe]].set(O[Pe]);if(k)for(let Pe in this.fixedUniforms)this.fixedUniforms[Pe].set(k[Pe]);fe&&fe.setUniforms(r,this.binderUniforms,ie,{zoom:he});let Ce=0;switch(u){case _e.LINES:Ce=2;break;case _e.TRIANGLES:Ce=3;break;case _e.LINE_STRIP:Ce=1}for(let Pe of W.get()){let xe=Pe.vaos||(Pe.vaos={});(xe[z]||(xe[z]=new Yu)).bind(r,this,H,fe?fe.getPaintVertexBuffers():[],j,Pe.vertexOffset,me,be,Se),_e.drawElements(u,Pe.primitiveLength*Ce,_e.UNSIGNED_SHORT,Pe.primitiveOffset*Ce*2)}}}function Gm(b,r,u){let h=1/a.aN(u,1,r.transform.tileZoom),f=Math.pow(2,u.tileID.overscaledZ),v=u.tileSize*Math.pow(2,r.transform.tileZoom)/f,w=v*(u.tileID.canonical.x+u.tileID.wrap*f),k=v*u.tileID.canonical.y;return{u_image:0,u_texsize:u.imageAtlasTexture.size,u_scale:[h,b.fromScale,b.toScale],u_fade:b.t,u_pixel_coord_upper:[w>>16,k>>16],u_pixel_coord_lower:[65535&w,65535&k]}}let Kp=(b,r,u,h)=>{let f=b.style.light,v=f.properties.get("position"),w=[v.x,v.y,v.z],k=a.c4();f.properties.get("anchor")==="viewport"&&a.c5(k,b.transform.bearingInRadians),a.c6(w,w,k);let P=b.transform.transformLightDirection(w),O=f.properties.get("color");return{u_lightpos:w,u_lightpos_globe:P,u_lightintensity:f.properties.get("intensity"),u_lightcolor:[O.r,O.g,O.b],u_vertical_gradient:+r,u_opacity:u,u_fill_translate:h}},Wp=(b,r,u,h,f,v,w)=>a.e(Kp(b,r,u,h),Gm(v,b,w),{u_height_factor:-Math.pow(2,f.overscaledZ)/w.tileSize/8}),Qp=(b,r,u,h)=>a.e(Gm(r,b,u),{u_fill_translate:h}),Um=(b,r)=>({u_world:b,u_fill_translate:r}),$m=(b,r,u,h,f)=>a.e(Qp(b,r,u,f),{u_world:h}),Km=(b,r,u,h,f)=>{let v=b.transform,w,k,P=0;if(u.paint.get("circle-pitch-alignment")==="map"){let O=a.aN(r,1,v.zoom);w=!0,k=[O,O],P=O/(a.a5*Math.pow(2,r.tileID.overscaledZ))*2*Math.PI*f}else w=!1,k=v.pixelsToGLUnits;return{u_camera_to_center_distance:v.cameraToCenterDistance,u_scale_with_map:+(u.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+w,u_device_pixel_ratio:b.pixelRatio,u_extrude_scale:k,u_globe_extrude_scale:P,u_translate:h}},Hs=b=>({u_pixel_extrude_scale:[1/b.width,1/b.height]}),Wm=b=>({u_viewport_size:[b.width,b.height]}),Zp=(b,r=1)=>({u_color:b,u_overlay:0,u_overlay_scale:r}),Fl=(b,r,u,h)=>{let f=a.aN(b,1,r)/(a.a5*Math.pow(2,b.tileID.overscaledZ))*2*Math.PI*h;return{u_extrude_scale:a.aN(b,1,r),u_intensity:u,u_globe_extrude_scale:f}},Qm=(b,r,u,h)=>{let f=a.N();a.c7(f,0,b.width,b.height,0,0,1);let v=b.context.gl;return{u_matrix:f,u_world:[v.drawingBufferWidth,v.drawingBufferHeight],u_image:u,u_color_ramp:h,u_opacity:r.paint.get("heatmap-opacity")}},ed=(b,r,u)=>{let h=u.paint.get("hillshade-accent-color"),f;switch(u.paint.get("hillshade-method")){case"basic":f=4;break;case"combined":f=1;break;case"igor":f=2;break;case"multidirectional":f=3;break;default:f=0}let v=u.getIlluminationProperties();for(let w=0;w<v.directionRadians.length;w++)u.paint.get("hillshade-illumination-anchor")==="viewport"&&(v.directionRadians[w]+=b.transform.bearingInRadians);return{u_image:0,u_latrange:x_(0,r.tileID),u_exaggeration:u.paint.get("hillshade-exaggeration"),u_altitudes:v.altitudeRadians,u_azimuths:v.directionRadians,u_accent:h,u_method:f,u_highlights:v.highlightColor,u_shadows:v.shadowColor}},v_=(b,r)=>{let u=r.stride,h=a.N();return a.c7(h,0,a.a5,-a.a5,0,0,1),a.O(h,h,[0,-a.a5,0]),{u_matrix:h,u_image:1,u_dimension:[u,u],u_zoom:b.overscaledZ,u_unpack:r.getUnpackVector()}};function x_(b,r){let u=Math.pow(2,r.canonical.z),h=r.canonical.y;return[new a.a9(0,h/u).toLngLat().lat,new a.a9(0,(h+1)/u).toLngLat().lat]}let Zm=(b,r,u=0)=>({u_image:0,u_unpack:r.getUnpackVector(),u_dimension:[r.stride,r.stride],u_elevation_stops:1,u_color_stops:4,u_color_ramp_size:u,u_opacity:b.paint.get("color-relief-opacity")}),Uc=(b,r,u,h)=>{let f=b.transform;return{u_translation:id(b,r,u),u_ratio:h/a.aN(r,1,f.zoom),u_device_pixel_ratio:b.pixelRatio,u_units_to_pixels:[1/f.pixelsToGLUnits[0],1/f.pixelsToGLUnits[1]]}},Xm=(b,r,u,h,f)=>a.e(Uc(b,r,u,h),{u_image:0,u_image_height:f}),Xp=(b,r,u,h,f)=>{let v=b.transform,w=pr(r,v);return{u_translation:id(b,r,u),u_texsize:r.imageAtlasTexture.size,u_ratio:h/a.aN(r,1,v.zoom),u_device_pixel_ratio:b.pixelRatio,u_image:0,u_scale:[w,f.fromScale,f.toScale],u_fade:f.t,u_units_to_pixels:[1/v.pixelsToGLUnits[0],1/v.pixelsToGLUnits[1]]}},Ym=(b,r,u,h,f)=>{let v=pr(r,b.transform);return a.e(Uc(b,r,u,h),{u_tileratio:v,u_crossfade_from:f.fromScale,u_crossfade_to:f.toScale,u_image:0,u_mix:f.t,u_lineatlas_width:b.lineAtlas.width,u_lineatlas_height:b.lineAtlas.height})},td=(b,r,u,h,f,v)=>{let w=pr(r,b.transform);return a.e(Uc(b,r,u,h),{u_image:0,u_image_height:v,u_tileratio:w,u_crossfade_from:f.fromScale,u_crossfade_to:f.toScale,u_image_dash:1,u_mix:f.t,u_lineatlas_width:b.lineAtlas.width,u_lineatlas_height:b.lineAtlas.height})};function pr(b,r){return 1/a.aN(b,1,r.tileZoom)}function id(b,r,u){return a.aO(b.transform,r,u.paint.get("line-translate"),u.paint.get("line-translate-anchor"))}let Yp=(b,r,u,h,f)=>{return{u_tl_parent:b,u_scale_parent:r,u_buffer_scale:1,u_fade_t:u.mix,u_opacity:u.opacity*h.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:h.paint.get("raster-brightness-min"),u_brightness_high:h.paint.get("raster-brightness-max"),u_saturation_factor:(w=h.paint.get("raster-saturation"),w>0?1-1/(1.001-w):-w),u_contrast_factor:(v=h.paint.get("raster-contrast"),v>0?1/(1-v):1+v),u_spin_weights:Jp(h.paint.get("raster-hue-rotate")),u_coords_top:[f[0].x,f[0].y,f[1].x,f[1].y],u_coords_bottom:[f[3].x,f[3].y,f[2].x,f[2].y]};var v,w};function Jp(b){b*=Math.PI/180;let r=Math.sin(b),u=Math.cos(b);return[(2*u+1)/3,(-Math.sqrt(3)*r-u+1)/3,(Math.sqrt(3)*r-u+1)/3]}let eh=(b,r,u,h,f,v,w,k,P,O,z,H,j)=>{let W=w.transform;return{u_is_size_zoom_constant:+(b==="constant"||b==="source"),u_is_size_feature_constant:+(b==="constant"||b==="camera"),u_size_t:r?r.uSizeT:0,u_size:r?r.uSize:0,u_camera_to_center_distance:W.cameraToCenterDistance,u_pitch:W.pitch/360*2*Math.PI,u_rotate_symbol:+u,u_aspect_ratio:W.width/W.height,u_fade_change:w.options.fadeDuration?w.symbolFadeChange:1,u_label_plane_matrix:k,u_coord_matrix:P,u_is_text:+z,u_pitch_with_map:+h,u_is_along_line:f,u_is_variable_anchor:v,u_texsize:H,u_texture:0,u_translation:O,u_pitched_scale:j}},nd=(b,r,u,h,f,v,w,k,P,O,z,H,j,W)=>{let ie=w.transform;return a.e(eh(b,r,u,h,f,v,w,k,P,O,z,H,W),{u_gamma_scale:h?Math.cos(ie.pitch*Math.PI/180)*ie.cameraToCenterDistance:1,u_device_pixel_ratio:w.pixelRatio,u_is_halo:1})},Gs=(b,r,u,h,f,v,w,k,P,O,z,H,j)=>a.e(nd(b,r,u,h,f,v,w,k,P,O,!0,z,0,j),{u_texsize_icon:H,u_texture_icon:1}),th=(b,r)=>({u_opacity:b,u_color:r}),w_=(b,r,u,h,f)=>a.e(function(v,w,k,P){let O=k.imageManager.getPattern(v.from.toString()),z=k.imageManager.getPattern(v.to.toString()),{width:H,height:j}=k.imageManager.getPixelSize(),W=Math.pow(2,P.tileID.overscaledZ),ie=P.tileSize*Math.pow(2,k.transform.tileZoom)/W,he=ie*(P.tileID.canonical.x+P.tileID.wrap*W),fe=ie*P.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:O.tl,u_pattern_br_a:O.br,u_pattern_tl_b:z.tl,u_pattern_br_b:z.br,u_texsize:[H,j],u_mix:w.t,u_pattern_size_a:O.displaySize,u_pattern_size_b:z.displaySize,u_scale_a:w.fromScale,u_scale_b:w.toScale,u_tile_units_to_pixels:1/a.aN(P,1,k.transform.tileZoom),u_pixel_coord_upper:[he>>16,fe>>16],u_pixel_coord_lower:[65535&he,65535&fe]}}(u,f,r,h),{u_opacity:b}),Jm=(b,r)=>{},I_={fillExtrusion:(b,r)=>({u_lightpos:new a.c2(b,r.u_lightpos),u_lightpos_globe:new a.c2(b,r.u_lightpos_globe),u_lightintensity:new a.bq(b,r.u_lightintensity),u_lightcolor:new a.c2(b,r.u_lightcolor),u_vertical_gradient:new a.bq(b,r.u_vertical_gradient),u_opacity:new a.bq(b,r.u_opacity),u_fill_translate:new a.c3(b,r.u_fill_translate)}),fillExtrusionPattern:(b,r)=>({u_lightpos:new a.c2(b,r.u_lightpos),u_lightpos_globe:new a.c2(b,r.u_lightpos_globe),u_lightintensity:new a.bq(b,r.u_lightintensity),u_lightcolor:new a.c2(b,r.u_lightcolor),u_vertical_gradient:new a.bq(b,r.u_vertical_gradient),u_height_factor:new a.bq(b,r.u_height_factor),u_opacity:new a.bq(b,r.u_opacity),u_fill_translate:new a.c3(b,r.u_fill_translate),u_image:new a.b_(b,r.u_image),u_texsize:new a.c3(b,r.u_texsize),u_pixel_coord_upper:new a.c3(b,r.u_pixel_coord_upper),u_pixel_coord_lower:new a.c3(b,r.u_pixel_coord_lower),u_scale:new a.c2(b,r.u_scale),u_fade:new a.bq(b,r.u_fade)}),fill:(b,r)=>({u_fill_translate:new a.c3(b,r.u_fill_translate)}),fillPattern:(b,r)=>({u_image:new a.b_(b,r.u_image),u_texsize:new a.c3(b,r.u_texsize),u_pixel_coord_upper:new a.c3(b,r.u_pixel_coord_upper),u_pixel_coord_lower:new a.c3(b,r.u_pixel_coord_lower),u_scale:new a.c2(b,r.u_scale),u_fade:new a.bq(b,r.u_fade),u_fill_translate:new a.c3(b,r.u_fill_translate)}),fillOutline:(b,r)=>({u_world:new a.c3(b,r.u_world),u_fill_translate:new a.c3(b,r.u_fill_translate)}),fillOutlinePattern:(b,r)=>({u_world:new a.c3(b,r.u_world),u_image:new a.b_(b,r.u_image),u_texsize:new a.c3(b,r.u_texsize),u_pixel_coord_upper:new a.c3(b,r.u_pixel_coord_upper),u_pixel_coord_lower:new a.c3(b,r.u_pixel_coord_lower),u_scale:new a.c2(b,r.u_scale),u_fade:new a.bq(b,r.u_fade),u_fill_translate:new a.c3(b,r.u_fill_translate)}),circle:(b,r)=>({u_camera_to_center_distance:new a.bq(b,r.u_camera_to_center_distance),u_scale_with_map:new a.b_(b,r.u_scale_with_map),u_pitch_with_map:new a.b_(b,r.u_pitch_with_map),u_extrude_scale:new a.c3(b,r.u_extrude_scale),u_device_pixel_ratio:new a.bq(b,r.u_device_pixel_ratio),u_globe_extrude_scale:new a.bq(b,r.u_globe_extrude_scale),u_translate:new a.c3(b,r.u_translate)}),collisionBox:(b,r)=>({u_pixel_extrude_scale:new a.c3(b,r.u_pixel_extrude_scale)}),collisionCircle:(b,r)=>({u_viewport_size:new a.c3(b,r.u_viewport_size)}),debug:(b,r)=>({u_color:new a.b$(b,r.u_color),u_overlay:new a.b_(b,r.u_overlay),u_overlay_scale:new a.bq(b,r.u_overlay_scale)}),depth:Jm,clippingMask:Jm,heatmap:(b,r)=>({u_extrude_scale:new a.bq(b,r.u_extrude_scale),u_intensity:new a.bq(b,r.u_intensity),u_globe_extrude_scale:new a.bq(b,r.u_globe_extrude_scale)}),heatmapTexture:(b,r)=>({u_matrix:new a.c0(b,r.u_matrix),u_world:new a.c3(b,r.u_world),u_image:new a.b_(b,r.u_image),u_color_ramp:new a.b_(b,r.u_color_ramp),u_opacity:new a.bq(b,r.u_opacity)}),hillshade:(b,r)=>({u_image:new a.b_(b,r.u_image),u_latrange:new a.c3(b,r.u_latrange),u_exaggeration:new a.bq(b,r.u_exaggeration),u_altitudes:new a.c9(b,r.u_altitudes),u_azimuths:new a.c9(b,r.u_azimuths),u_accent:new a.b$(b,r.u_accent),u_method:new a.b_(b,r.u_method),u_shadows:new a.c8(b,r.u_shadows),u_highlights:new a.c8(b,r.u_highlights)}),hillshadePrepare:(b,r)=>({u_matrix:new a.c0(b,r.u_matrix),u_image:new a.b_(b,r.u_image),u_dimension:new a.c3(b,r.u_dimension),u_zoom:new a.bq(b,r.u_zoom),u_unpack:new a.c1(b,r.u_unpack)}),colorRelief:(b,r)=>({u_image:new a.b_(b,r.u_image),u_unpack:new a.c1(b,r.u_unpack),u_dimension:new a.c3(b,r.u_dimension),u_elevation_stops:new a.b_(b,r.u_elevation_stops),u_color_stops:new a.b_(b,r.u_color_stops),u_color_ramp_size:new a.b_(b,r.u_color_ramp_size),u_opacity:new a.bq(b,r.u_opacity)}),line:(b,r)=>({u_translation:new a.c3(b,r.u_translation),u_ratio:new a.bq(b,r.u_ratio),u_device_pixel_ratio:new a.bq(b,r.u_device_pixel_ratio),u_units_to_pixels:new a.c3(b,r.u_units_to_pixels)}),lineGradient:(b,r)=>({u_translation:new a.c3(b,r.u_translation),u_ratio:new a.bq(b,r.u_ratio),u_device_pixel_ratio:new a.bq(b,r.u_device_pixel_ratio),u_units_to_pixels:new a.c3(b,r.u_units_to_pixels),u_image:new a.b_(b,r.u_image),u_image_height:new a.bq(b,r.u_image_height)}),linePattern:(b,r)=>({u_translation:new a.c3(b,r.u_translation),u_texsize:new a.c3(b,r.u_texsize),u_ratio:new a.bq(b,r.u_ratio),u_device_pixel_ratio:new a.bq(b,r.u_device_pixel_ratio),u_image:new a.b_(b,r.u_image),u_units_to_pixels:new a.c3(b,r.u_units_to_pixels),u_scale:new a.c2(b,r.u_scale),u_fade:new a.bq(b,r.u_fade)}),lineSDF:(b,r)=>({u_translation:new a.c3(b,r.u_translation),u_ratio:new a.bq(b,r.u_ratio),u_device_pixel_ratio:new a.bq(b,r.u_device_pixel_ratio),u_units_to_pixels:new a.c3(b,r.u_units_to_pixels),u_image:new a.b_(b,r.u_image),u_mix:new a.bq(b,r.u_mix),u_tileratio:new a.bq(b,r.u_tileratio),u_crossfade_from:new a.bq(b,r.u_crossfade_from),u_crossfade_to:new a.bq(b,r.u_crossfade_to),u_lineatlas_width:new a.bq(b,r.u_lineatlas_width),u_lineatlas_height:new a.bq(b,r.u_lineatlas_height)}),lineGradientSDF:(b,r)=>({u_translation:new a.c3(b,r.u_translation),u_ratio:new a.bq(b,r.u_ratio),u_device_pixel_ratio:new a.bq(b,r.u_device_pixel_ratio),u_units_to_pixels:new a.c3(b,r.u_units_to_pixels),u_image:new a.b_(b,r.u_image),u_image_height:new a.bq(b,r.u_image_height),u_tileratio:new a.bq(b,r.u_tileratio),u_crossfade_from:new a.bq(b,r.u_crossfade_from),u_crossfade_to:new a.bq(b,r.u_crossfade_to),u_image_dash:new a.b_(b,r.u_image_dash),u_mix:new a.bq(b,r.u_mix),u_lineatlas_width:new a.bq(b,r.u_lineatlas_width),u_lineatlas_height:new a.bq(b,r.u_lineatlas_height)}),raster:(b,r)=>({u_tl_parent:new a.c3(b,r.u_tl_parent),u_scale_parent:new a.bq(b,r.u_scale_parent),u_buffer_scale:new a.bq(b,r.u_buffer_scale),u_fade_t:new a.bq(b,r.u_fade_t),u_opacity:new a.bq(b,r.u_opacity),u_image0:new a.b_(b,r.u_image0),u_image1:new a.b_(b,r.u_image1),u_brightness_low:new a.bq(b,r.u_brightness_low),u_brightness_high:new a.bq(b,r.u_brightness_high),u_saturation_factor:new a.bq(b,r.u_saturation_factor),u_contrast_factor:new a.bq(b,r.u_contrast_factor),u_spin_weights:new a.c2(b,r.u_spin_weights),u_coords_top:new a.c1(b,r.u_coords_top),u_coords_bottom:new a.c1(b,r.u_coords_bottom)}),symbolIcon:(b,r)=>({u_is_size_zoom_constant:new a.b_(b,r.u_is_size_zoom_constant),u_is_size_feature_constant:new a.b_(b,r.u_is_size_feature_constant),u_size_t:new a.bq(b,r.u_size_t),u_size:new a.bq(b,r.u_size),u_camera_to_center_distance:new a.bq(b,r.u_camera_to_center_distance),u_pitch:new a.bq(b,r.u_pitch),u_rotate_symbol:new a.b_(b,r.u_rotate_symbol),u_aspect_ratio:new a.bq(b,r.u_aspect_ratio),u_fade_change:new a.bq(b,r.u_fade_change),u_label_plane_matrix:new a.c0(b,r.u_label_plane_matrix),u_coord_matrix:new a.c0(b,r.u_coord_matrix),u_is_text:new a.b_(b,r.u_is_text),u_pitch_with_map:new a.b_(b,r.u_pitch_with_map),u_is_along_line:new a.b_(b,r.u_is_along_line),u_is_variable_anchor:new a.b_(b,r.u_is_variable_anchor),u_texsize:new a.c3(b,r.u_texsize),u_texture:new a.b_(b,r.u_texture),u_translation:new a.c3(b,r.u_translation),u_pitched_scale:new a.bq(b,r.u_pitched_scale)}),symbolSDF:(b,r)=>({u_is_size_zoom_constant:new a.b_(b,r.u_is_size_zoom_constant),u_is_size_feature_constant:new a.b_(b,r.u_is_size_feature_constant),u_size_t:new a.bq(b,r.u_size_t),u_size:new a.bq(b,r.u_size),u_camera_to_center_distance:new a.bq(b,r.u_camera_to_center_distance),u_pitch:new a.bq(b,r.u_pitch),u_rotate_symbol:new a.b_(b,r.u_rotate_symbol),u_aspect_ratio:new a.bq(b,r.u_aspect_ratio),u_fade_change:new a.bq(b,r.u_fade_change),u_label_plane_matrix:new a.c0(b,r.u_label_plane_matrix),u_coord_matrix:new a.c0(b,r.u_coord_matrix),u_is_text:new a.b_(b,r.u_is_text),u_pitch_with_map:new a.b_(b,r.u_pitch_with_map),u_is_along_line:new a.b_(b,r.u_is_along_line),u_is_variable_anchor:new a.b_(b,r.u_is_variable_anchor),u_texsize:new a.c3(b,r.u_texsize),u_texture:new a.b_(b,r.u_texture),u_gamma_scale:new a.bq(b,r.u_gamma_scale),u_device_pixel_ratio:new a.bq(b,r.u_device_pixel_ratio),u_is_halo:new a.b_(b,r.u_is_halo),u_translation:new a.c3(b,r.u_translation),u_pitched_scale:new a.bq(b,r.u_pitched_scale)}),symbolTextAndIcon:(b,r)=>({u_is_size_zoom_constant:new a.b_(b,r.u_is_size_zoom_constant),u_is_size_feature_constant:new a.b_(b,r.u_is_size_feature_constant),u_size_t:new a.bq(b,r.u_size_t),u_size:new a.bq(b,r.u_size),u_camera_to_center_distance:new a.bq(b,r.u_camera_to_center_distance),u_pitch:new a.bq(b,r.u_pitch),u_rotate_symbol:new a.b_(b,r.u_rotate_symbol),u_aspect_ratio:new a.bq(b,r.u_aspect_ratio),u_fade_change:new a.bq(b,r.u_fade_change),u_label_plane_matrix:new a.c0(b,r.u_label_plane_matrix),u_coord_matrix:new a.c0(b,r.u_coord_matrix),u_is_text:new a.b_(b,r.u_is_text),u_pitch_with_map:new a.b_(b,r.u_pitch_with_map),u_is_along_line:new a.b_(b,r.u_is_along_line),u_is_variable_anchor:new a.b_(b,r.u_is_variable_anchor),u_texsize:new a.c3(b,r.u_texsize),u_texsize_icon:new a.c3(b,r.u_texsize_icon),u_texture:new a.b_(b,r.u_texture),u_texture_icon:new a.b_(b,r.u_texture_icon),u_gamma_scale:new a.bq(b,r.u_gamma_scale),u_device_pixel_ratio:new a.bq(b,r.u_device_pixel_ratio),u_is_halo:new a.b_(b,r.u_is_halo),u_translation:new a.c3(b,r.u_translation),u_pitched_scale:new a.bq(b,r.u_pitched_scale)}),background:(b,r)=>({u_opacity:new a.bq(b,r.u_opacity),u_color:new a.b$(b,r.u_color)}),backgroundPattern:(b,r)=>({u_opacity:new a.bq(b,r.u_opacity),u_image:new a.b_(b,r.u_image),u_pattern_tl_a:new a.c3(b,r.u_pattern_tl_a),u_pattern_br_a:new a.c3(b,r.u_pattern_br_a),u_pattern_tl_b:new a.c3(b,r.u_pattern_tl_b),u_pattern_br_b:new a.c3(b,r.u_pattern_br_b),u_texsize:new a.c3(b,r.u_texsize),u_mix:new a.bq(b,r.u_mix),u_pattern_size_a:new a.c3(b,r.u_pattern_size_a),u_pattern_size_b:new a.c3(b,r.u_pattern_size_b),u_scale_a:new a.bq(b,r.u_scale_a),u_scale_b:new a.bq(b,r.u_scale_b),u_pixel_coord_upper:new a.c3(b,r.u_pixel_coord_upper),u_pixel_coord_lower:new a.c3(b,r.u_pixel_coord_lower),u_tile_units_to_pixels:new a.bq(b,r.u_tile_units_to_pixels)}),terrain:(b,r)=>({u_texture:new a.b_(b,r.u_texture),u_ele_delta:new a.bq(b,r.u_ele_delta),u_fog_matrix:new a.c0(b,r.u_fog_matrix),u_fog_color:new a.b$(b,r.u_fog_color),u_fog_ground_blend:new a.bq(b,r.u_fog_ground_blend),u_fog_ground_blend_opacity:new a.bq(b,r.u_fog_ground_blend_opacity),u_horizon_color:new a.b$(b,r.u_horizon_color),u_horizon_fog_blend:new a.bq(b,r.u_horizon_fog_blend),u_is_globe_mode:new a.bq(b,r.u_is_globe_mode)}),terrainDepth:(b,r)=>({u_ele_delta:new a.bq(b,r.u_ele_delta)}),terrainCoords:(b,r)=>({u_texture:new a.b_(b,r.u_texture),u_terrain_coords_id:new a.bq(b,r.u_terrain_coords_id),u_ele_delta:new a.bq(b,r.u_ele_delta)}),projectionErrorMeasurement:(b,r)=>({u_input:new a.bq(b,r.u_input),u_output_expected:new a.bq(b,r.u_output_expected)}),atmosphere:(b,r)=>({u_sun_pos:new a.c2(b,r.u_sun_pos),u_atmosphere_blend:new a.bq(b,r.u_atmosphere_blend),u_globe_position:new a.c2(b,r.u_globe_position),u_globe_radius:new a.bq(b,r.u_globe_radius),u_inv_proj_matrix:new a.c0(b,r.u_inv_proj_matrix)}),sky:(b,r)=>({u_sky_color:new a.b$(b,r.u_sky_color),u_horizon_color:new a.b$(b,r.u_horizon_color),u_horizon:new a.c3(b,r.u_horizon),u_horizon_normal:new a.c3(b,r.u_horizon_normal),u_sky_horizon_blend:new a.bq(b,r.u_sky_horizon_blend),u_sky_blend:new a.bq(b,r.u_sky_blend)})};class T_{constructor(r,u,h){this.context=r;let f=r.gl;this.buffer=f.createBuffer(),this.dynamicDraw=!!h,this.context.unbindVAO(),r.bindElementBuffer.set(this.buffer),f.bufferData(f.ELEMENT_ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?f.DYNAMIC_DRAW:f.STATIC_DRAW),this.dynamicDraw||delete u.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(r){let u=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),u.bufferSubData(u.ELEMENT_ARRAY_BUFFER,0,r.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}let e0={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class C_{constructor(r,u,h,f){this.length=u.length,this.attributes=h,this.itemSize=u.bytesPerElement,this.dynamicDraw=f,this.context=r;let v=r.gl;this.buffer=v.createBuffer(),r.bindVertexBuffer.set(this.buffer),v.bufferData(v.ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?v.DYNAMIC_DRAW:v.STATIC_DRAW),this.dynamicDraw||delete u.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(r){if(r.length!==this.length)throw new Error(`Length of new data is ${r.length}, which doesn't match current length of ${this.length}`);let u=this.context.gl;this.bind(),u.bufferSubData(u.ARRAY_BUFFER,0,r.arrayBuffer)}enableAttributes(r,u){for(let h=0;h<this.attributes.length;h++){let f=u.attributes[this.attributes[h].name];f!==void 0&&r.enableVertexAttribArray(f)}}setVertexAttribPointers(r,u,h){for(let f=0;f<this.attributes.length;f++){let v=this.attributes[f],w=u.attributes[v.name];w!==void 0&&r.vertexAttribPointer(w,v.components,r[e0[v.type]],!1,this.itemSize,v.offset+this.itemSize*(h||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Qi{constructor(r){this.gl=r.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(r){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class ad extends Qi{getDefault(){return a.bp.transparent}set(r){let u=this.current;(r.r!==u.r||r.g!==u.g||r.b!==u.b||r.a!==u.a||this.dirty)&&(this.gl.clearColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class od extends Qi{getDefault(){return 1}set(r){(r!==this.current||this.dirty)&&(this.gl.clearDepth(r),this.current=r,this.dirty=!1)}}class rd extends Qi{getDefault(){return 0}set(r){(r!==this.current||this.dirty)&&(this.gl.clearStencil(r),this.current=r,this.dirty=!1)}}class ih extends Qi{getDefault(){return[!0,!0,!0,!0]}set(r){let u=this.current;(r[0]!==u[0]||r[1]!==u[1]||r[2]!==u[2]||r[3]!==u[3]||this.dirty)&&(this.gl.colorMask(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class Us extends Qi{getDefault(){return!0}set(r){(r!==this.current||this.dirty)&&(this.gl.depthMask(r),this.current=r,this.dirty=!1)}}class $c extends Qi{getDefault(){return 255}set(r){(r!==this.current||this.dirty)&&(this.gl.stencilMask(r),this.current=r,this.dirty=!1)}}class Ol extends Qi{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(r){let u=this.current;(r.func!==u.func||r.ref!==u.ref||r.mask!==u.mask||this.dirty)&&(this.gl.stencilFunc(r.func,r.ref,r.mask),this.current=r,this.dirty=!1)}}class Wo extends Qi{getDefault(){let r=this.gl;return[r.KEEP,r.KEEP,r.KEEP]}set(r){let u=this.current;(r[0]!==u[0]||r[1]!==u[1]||r[2]!==u[2]||this.dirty)&&(this.gl.stencilOp(r[0],r[1],r[2]),this.current=r,this.dirty=!1)}}class t0 extends Qi{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;let u=this.gl;r?u.enable(u.STENCIL_TEST):u.disable(u.STENCIL_TEST),this.current=r,this.dirty=!1}}class i0 extends Qi{getDefault(){return[0,1]}set(r){let u=this.current;(r[0]!==u[0]||r[1]!==u[1]||this.dirty)&&(this.gl.depthRange(r[0],r[1]),this.current=r,this.dirty=!1)}}class nh extends Qi{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;let u=this.gl;r?u.enable(u.DEPTH_TEST):u.disable(u.DEPTH_TEST),this.current=r,this.dirty=!1}}class $s extends Qi{getDefault(){return this.gl.LESS}set(r){(r!==this.current||this.dirty)&&(this.gl.depthFunc(r),this.current=r,this.dirty=!1)}}class sd extends Qi{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;let u=this.gl;r?u.enable(u.BLEND):u.disable(u.BLEND),this.current=r,this.dirty=!1}}class ld extends Qi{getDefault(){let r=this.gl;return[r.ONE,r.ZERO]}set(r){let u=this.current;(r[0]!==u[0]||r[1]!==u[1]||this.dirty)&&(this.gl.blendFunc(r[0],r[1]),this.current=r,this.dirty=!1)}}class Kc extends Qi{getDefault(){return a.bp.transparent}set(r){let u=this.current;(r.r!==u.r||r.g!==u.g||r.b!==u.b||r.a!==u.a||this.dirty)&&(this.gl.blendColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class cd extends Qi{getDefault(){return this.gl.FUNC_ADD}set(r){(r!==this.current||this.dirty)&&(this.gl.blendEquation(r),this.current=r,this.dirty=!1)}}class n0 extends Qi{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;let u=this.gl;r?u.enable(u.CULL_FACE):u.disable(u.CULL_FACE),this.current=r,this.dirty=!1}}class Vl extends Qi{getDefault(){return this.gl.BACK}set(r){(r!==this.current||this.dirty)&&(this.gl.cullFace(r),this.current=r,this.dirty=!1)}}class zl extends Qi{getDefault(){return this.gl.CCW}set(r){(r!==this.current||this.dirty)&&(this.gl.frontFace(r),this.current=r,this.dirty=!1)}}class a0 extends Qi{getDefault(){return null}set(r){(r!==this.current||this.dirty)&&(this.gl.useProgram(r),this.current=r,this.dirty=!1)}}class ah extends Qi{getDefault(){return this.gl.TEXTURE0}set(r){(r!==this.current||this.dirty)&&(this.gl.activeTexture(r),this.current=r,this.dirty=!1)}}class Mi extends Qi{getDefault(){let r=this.gl;return[0,0,r.drawingBufferWidth,r.drawingBufferHeight]}set(r){let u=this.current;(r[0]!==u[0]||r[1]!==u[1]||r[2]!==u[2]||r[3]!==u[3]||this.dirty)&&(this.gl.viewport(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class ud extends Qi{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;let u=this.gl;u.bindFramebuffer(u.FRAMEBUFFER,r),this.current=r,this.dirty=!1}}class S_ extends Qi{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;let u=this.gl;u.bindRenderbuffer(u.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class o0 extends Qi{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;let u=this.gl;u.bindTexture(u.TEXTURE_2D,r),this.current=r,this.dirty=!1}}class Wc extends Qi{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;let u=this.gl;u.bindBuffer(u.ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class M_ extends Qi{getDefault(){return null}set(r){let u=this.gl;u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class k_ extends Qi{getDefault(){return null}set(r){var u;if(r===this.current&&!this.dirty)return;let h=this.gl;Ko(h)?h.bindVertexArray(r):(u=h.getExtension("OES_vertex_array_object"))===null||u===void 0||u.bindVertexArrayOES(r),this.current=r,this.dirty=!1}}class r0 extends Qi{getDefault(){return 4}set(r){if(r===this.current&&!this.dirty)return;let u=this.gl;u.pixelStorei(u.UNPACK_ALIGNMENT,r),this.current=r,this.dirty=!1}}class E_ extends Qi{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;let u=this.gl;u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r),this.current=r,this.dirty=!1}}class oh extends Qi{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;let u=this.gl;u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,r),this.current=r,this.dirty=!1}}class Bl extends Qi{constructor(r,u){super(r),this.context=r,this.parent=u}getDefault(){return null}}class Qc extends Bl{setDirty(){this.dirty=!0}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let u=this.gl;u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,r,0),this.current=r,this.dirty=!1}}class dd extends Bl{set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let u=this.gl;u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_ATTACHMENT,u.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class rh extends Bl{set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);let u=this.gl;u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,r),this.current=r,this.dirty=!1}}let sh="Framebuffer is not complete";class pd{constructor(r,u,h,f,v){this.context=r,this.width=u,this.height=h;let w=r.gl,k=this.framebuffer=w.createFramebuffer();if(this.colorAttachment=new Qc(r,k),f)this.depthAttachment=v?new rh(r,k):new dd(r,k);else if(v)throw new Error("Stencil cannot be set without depth");if(w.checkFramebufferStatus(w.FRAMEBUFFER)!==w.FRAMEBUFFER_COMPLETE)throw new Error(sh)}destroy(){let r=this.context.gl,u=this.colorAttachment.get();if(u&&r.deleteTexture(u),this.depthAttachment){let h=this.depthAttachment.get();h&&r.deleteRenderbuffer(h)}r.deleteFramebuffer(this.framebuffer)}}class hd{constructor(r){var u,h;if(this.gl=r,this.clearColor=new ad(this),this.clearDepth=new od(this),this.clearStencil=new rd(this),this.colorMask=new ih(this),this.depthMask=new Us(this),this.stencilMask=new $c(this),this.stencilFunc=new Ol(this),this.stencilOp=new Wo(this),this.stencilTest=new t0(this),this.depthRange=new i0(this),this.depthTest=new nh(this),this.depthFunc=new $s(this),this.blend=new sd(this),this.blendFunc=new ld(this),this.blendColor=new Kc(this),this.blendEquation=new cd(this),this.cullFace=new n0(this),this.cullFaceSide=new Vl(this),this.frontFace=new zl(this),this.program=new a0(this),this.activeTexture=new ah(this),this.viewport=new Mi(this),this.bindFramebuffer=new ud(this),this.bindRenderbuffer=new S_(this),this.bindTexture=new o0(this),this.bindVertexBuffer=new Wc(this),this.bindElementBuffer=new M_(this),this.bindVertexArray=new k_(this),this.pixelStoreUnpack=new r0(this),this.pixelStoreUnpackPremultiplyAlpha=new E_(this),this.pixelStoreUnpackFlipY=new oh(this),this.extTextureFilterAnisotropic=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=r.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),Ko(r)){this.HALF_FLOAT=r.HALF_FLOAT;let f=r.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(u=r.RGBA16F)!==null&&u!==void 0?u:f?.RGBA16F_EXT,this.RGB16F=(h=r.RGB16F)!==null&&h!==void 0?h:f?.RGB16F_EXT,r.getExtension("EXT_color_buffer_float")}else{r.getExtension("EXT_color_buffer_half_float"),r.getExtension("OES_texture_half_float_linear");let f=r.getExtension("OES_texture_half_float");this.HALF_FLOAT=f?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(r,u){return new T_(this,r,u)}createVertexBuffer(r,u,h){return new C_(this,r,u,h)}createRenderbuffer(r,u,h){let f=this.gl,v=f.createRenderbuffer();return this.bindRenderbuffer.set(v),f.renderbufferStorage(f.RENDERBUFFER,r,u,h),this.bindRenderbuffer.set(null),v}createFramebuffer(r,u,h,f){return new pd(this,r,u,h,f)}clear({color:r,depth:u,stencil:h}){let f=this.gl,v=0;r&&(v|=f.COLOR_BUFFER_BIT,this.clearColor.set(r),this.colorMask.set([!0,!0,!0,!0])),u!==void 0&&(v|=f.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(u),this.depthMask.set(!0)),h!==void 0&&(v|=f.STENCIL_BUFFER_BIT,this.clearStencil.set(h),this.stencilMask.set(255)),f.clear(v)}setCullFace(r){r.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(r.mode),this.frontFace.set(r.frontFace))}setDepthMode(r){r.func!==this.gl.ALWAYS||r.mask?(this.depthTest.set(!0),this.depthFunc.set(r.func),this.depthMask.set(r.mask),this.depthRange.set(r.range)):this.depthTest.set(!1)}setStencilMode(r){r.test.func!==this.gl.ALWAYS||r.mask?(this.stencilTest.set(!0),this.stencilMask.set(r.mask),this.stencilOp.set([r.fail,r.depthFail,r.pass]),this.stencilFunc.set({func:r.test.func,ref:r.ref,mask:r.test.mask})):this.stencilTest.set(!1)}setColorMode(r){a.bR(r.blendFunction,gn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(r.blendFunction),this.blendColor.set(r.blendColor)),this.colorMask.set(r.mask)}createVertexArray(){var r;return Ko(this.gl)?this.gl.createVertexArray():(r=this.gl.getExtension("OES_vertex_array_object"))===null||r===void 0?void 0:r.createVertexArrayOES()}deleteVertexArray(r){var u;return Ko(this.gl)?this.gl.deleteVertexArray(r):(u=this.gl.getExtension("OES_vertex_array_object"))===null||u===void 0?void 0:u.deleteVertexArrayOES(r)}unbindVAO(){this.bindVertexArray.set(null)}}let us;function Ks(b,r,u,h,f){let v=b.context,w=b.transform,k=v.gl,P=b.useProgram("collisionBox"),O=[],z=0,H=0;for(let me=0;me<h.length;me++){let be=h[me],Se=r.getTile(be).getBucket(u);if(!Se)continue;let _e=f?Se.textCollisionBox:Se.iconCollisionBox,Ce=Se.collisionCircleArray;Ce.length>0&&(O.push({circleArray:Ce,circleOffset:H,coord:be}),z+=Ce.length/4,H=z),_e&&P.draw(v,k.LINES,vi.disabled,zi.disabled,b.colorModeForRenderPass(),Oi.disabled,Hs(b.transform),b.style.map.terrain&&b.style.map.terrain.getTerrainData(be),w.getProjectionData({overscaledTileID:be,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),u.id,_e.layoutVertexBuffer,_e.indexBuffer,_e.segments,null,b.transform.zoom,null,null,_e.collisionVertexBuffer)}if(!f||!O.length)return;let j=b.useProgram("collisionCircle"),W=new a.ca;W.resize(4*z),W._trim();let ie=0;for(let me of O)for(let be=0;be<me.circleArray.length/4;be++){let Se=4*be,_e=me.circleArray[Se+0],Ce=me.circleArray[Se+1],Pe=me.circleArray[Se+2],xe=me.circleArray[Se+3];W.emplace(ie++,_e,Ce,Pe,xe,0),W.emplace(ie++,_e,Ce,Pe,xe,1),W.emplace(ie++,_e,Ce,Pe,xe,2),W.emplace(ie++,_e,Ce,Pe,xe,3)}(!us||us.length<2*z)&&(us=function(me){let be=2*me,Se=new a.cc;Se.resize(be),Se._trim();for(let _e=0;_e<be;_e++){let Ce=6*_e;Se.uint16[Ce+0]=4*_e+0,Se.uint16[Ce+1]=4*_e+1,Se.uint16[Ce+2]=4*_e+2,Se.uint16[Ce+3]=4*_e+2,Se.uint16[Ce+4]=4*_e+3,Se.uint16[Ce+5]=4*_e+0}return Se}(z));let he=v.createIndexBuffer(us,!0),fe=v.createVertexBuffer(W,a.cb.members,!0);for(let me of O){let be=Wm(b.transform);j.draw(v,k.TRIANGLES,vi.disabled,zi.disabled,b.colorModeForRenderPass(),Oi.disabled,be,b.style.map.terrain&&b.style.map.terrain.getTerrainData(me.coord),null,u.id,fe,he,a.aX.simpleSegment(0,2*me.circleOffset,me.circleArray.length,me.circleArray.length/2),null,b.transform.zoom,null,null,null)}fe.destroy(),he.destroy()}let lh=a.ar(new Float32Array(16));function P_(b,r,u,h,f,v){let{horizontalAlign:w,verticalAlign:k}=a.aS(b);return new a.P((-(w-.5)*r/f+h[0])*v,(-(k-.5)*u/f+h[1])*v)}function Zc(b,r,u,h,f,v){let w=r.tileAnchorPoint.add(new a.P(r.translation[0],r.translation[1]));if(r.pitchWithMap){let k=h.mult(v);u||(k=k.rotate(-f));let P=w.add(k);return yi(P.x,P.y,r.pitchedLabelPlaneMatrix,r.getElevation).point}if(u){let k=rn(r.tileAnchorPoint.x+1,r.tileAnchorPoint.y,r).point.sub(b),P=Math.atan(k.y/k.x)+(k.x<0?Math.PI:0);return b.add(h.rotate(P))}return b.add(h)}function D_(b,r,u,h,f,v,w,k,P,O,z,H){let j=b.text.placedSymbolArray,W=b.text.dynamicLayoutVertexArray,ie=b.icon.dynamicLayoutVertexArray,he={};W.clear();for(let fe=0;fe<j.length;fe++){let me=j.get(fe),be=me.hidden||!me.crossTileID||b.allowVerticalPlacement&&!me.placedOrientation?null:h[me.crossTileID];if(be){let Se=new a.P(me.anchorX,me.anchorY),_e={getElevation:H,width:f.width,height:f.height,pitchedLabelPlaneMatrix:v,pitchWithMap:u,transform:f,tileAnchorPoint:Se,translation:O,unwrappedTileID:z},Ce=u?xl(Se.x,Se.y,_e):rn(Se.x,Se.y,_e),Pe=Lc(f.cameraToCenterDistance,Ce.signedDistanceFromCamera),xe=a.aA(b.textSizeData,k,me)*Pe/a.aM;u&&(xe*=b.tilePixelRatio/w);let{width:Ae,height:Ze,anchor:qe,textOffset:Ge,textBoxScale:Ue}=be,xt=P_(qe,Ae,Ze,Ge,Ue,xe),It=f.getPitchedTextCorrection(Se.x+O[0],Se.y+O[1],z),pt=Zc(Ce.point,_e,r,xt,-f.bearingInRadians,It),kt=b.allowVerticalPlacement&&me.placedOrientation===a.az.vertical?Math.PI/2:0;for(let _i=0;_i<me.numGlyphs;_i++)a.aG(W,pt,kt);P&&me.associatedIconIndex>=0&&(he[me.associatedIconIndex]={shiftedAnchor:pt,angle:kt})}else zs(me.numGlyphs,W)}if(P){ie.clear();let fe=b.icon.placedSymbolArray;for(let me=0;me<fe.length;me++){let be=fe.get(me);if(be.hidden)zs(be.numGlyphs,ie);else{let Se=he[me];if(Se)for(let _e=0;_e<be.numGlyphs;_e++)a.aG(ie,Se.shiftedAnchor,Se.angle);else zs(be.numGlyphs,ie)}}b.icon.dynamicLayoutVertexBuffer.updateData(ie)}b.text.dynamicLayoutVertexBuffer.updateData(W)}function s0(b,r,u){return u.iconsInText&&r?"symbolTextAndIcon":b?"symbolSDF":"symbolIcon"}function Xc(b,r,u,h,f,v,w,k,P,O,z,H,j){let W=b.context,ie=W.gl,he=b.transform,fe=k==="map",me=P==="map",be=k!=="viewport"&&u.layout.get("symbol-placement")!=="point",Se=fe&&!me&&!be,_e=!u.layout.get("symbol-sort-key").isConstant(),Ce=!1,Pe=b.getDepthModeForSublayer(0,vi.ReadOnly),xe=u._unevaluatedLayout.hasValue("text-variable-anchor")||u._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ae=[],Ze=he.getCircleRadiusCorrection();for(let qe of h){let Ge=r.getTile(qe),Ue=Ge.getBucket(u);if(!Ue)continue;let xt=f?Ue.text:Ue.icon;if(!xt||!xt.segments.get().length||!xt.hasVisibleVertices)continue;let It=xt.programConfigurations.get(u.id),pt=f||Ue.sdfIcons,kt=f?Ue.textSizeData:Ue.iconSizeData,_i=me||he.pitch!==0,tn=b.useProgram(s0(pt,f,Ue),It),Sn=a.ay(kt,he.zoom),_n=b.style.map.terrain&&b.style.map.terrain.getTerrainData(qe),Pn,bn,Kn,Dn,La=[0,0],la=null;if(f)bn=Ge.glyphAtlasTexture,Kn=ie.LINEAR,Pn=Ge.glyphAtlasTexture.size,Ue.iconsInText&&(La=Ge.imageAtlasTexture.size,la=Ge.imageAtlasTexture,Dn=_i||b.options.rotating||b.options.zooming||kt.kind==="composite"||kt.kind==="camera"?ie.LINEAR:ie.NEAREST);else{let wn=u.layout.get("icon-size").constantOr(0)!==1||Ue.iconsNeedLinear;bn=Ge.imageAtlasTexture,Kn=pt||b.options.rotating||b.options.zooming||wn||_i?ie.LINEAR:ie.NEAREST,Pn=Ge.imageAtlasTexture.size}let aa=a.aN(Ge,1,b.transform.zoom),qa=Oo(fe,b.transform,aa),fs=a.N();a.aB(fs,qa);let $r=Gu(me,fe,b.transform,aa),Lr=a.aO(he,Ge,v,w),To=he.getProjectionData({overscaledTileID:qe,applyGlobeMatrix:!j,applyTerrainMatrix:!0}),Js=xe&&Ue.hasTextData(),_u=u.layout.get("icon-text-fit")!=="none"&&Js&&Ue.hasIconData();if(be){let wn=b.style.map.terrain?(wa,Ia)=>b.style.map.terrain.getElevation(qe,wa,Ia):null,yn=u.layout.get("text-rotation-alignment")==="map";Uu(Ue,b,f,qa,fs,me,O,yn,qe.toUnwrapped(),he.width,he.height,Lr,wn)}let el=f&&xe||_u,Xo=be||el?lh:me?qa:b.transform.clipSpaceToPixelsMatrix,Ar=pt&&u.paint.get(f?"text-halo-width":"icon-halo-width").constantOr(1)!==0,_r;_r=pt?Ue.iconsInText?Gs(kt.kind,Sn,Se,me,be,el,b,Xo,$r,Lr,Pn,La,Ze):nd(kt.kind,Sn,Se,me,be,el,b,Xo,$r,Lr,f,Pn,0,Ze):eh(kt.kind,Sn,Se,me,be,el,b,Xo,$r,Lr,f,Pn,Ze);let br={program:tn,buffers:xt,uniformValues:_r,projectionData:To,atlasTexture:bn,atlasTextureIcon:la,atlasInterpolation:Kn,atlasInterpolationIcon:Dn,isSDF:pt,hasHalo:Ar};if(_e&&Ue.canOverlap){Ce=!0;let wn=xt.segments.get();for(let yn of wn)Ae.push({segments:new a.aX([yn]),sortKey:yn.sortKey,state:br,terrainData:_n})}else Ae.push({segments:xt.segments,sortKey:0,state:br,terrainData:_n})}Ce&&Ae.sort((qe,Ge)=>qe.sortKey-Ge.sortKey);for(let qe of Ae){let Ge=qe.state;if(W.activeTexture.set(ie.TEXTURE0),Ge.atlasTexture.bind(Ge.atlasInterpolation,ie.CLAMP_TO_EDGE),Ge.atlasTextureIcon&&(W.activeTexture.set(ie.TEXTURE1),Ge.atlasTextureIcon&&Ge.atlasTextureIcon.bind(Ge.atlasInterpolationIcon,ie.CLAMP_TO_EDGE)),Ge.isSDF){let Ue=Ge.uniformValues;Ge.hasHalo&&(Ue.u_is_halo=1,md(Ge.buffers,qe.segments,u,b,Ge.program,Pe,z,H,Ue,Ge.projectionData,qe.terrainData)),Ue.u_is_halo=0}md(Ge.buffers,qe.segments,u,b,Ge.program,Pe,z,H,Ge.uniformValues,Ge.projectionData,qe.terrainData)}}function md(b,r,u,h,f,v,w,k,P,O,z){let H=h.context;f.draw(H,H.gl.TRIANGLES,v,w,k,Oi.backCCW,P,z,O,u.id,b.layoutVertexBuffer,b.indexBuffer,r,u.paint,h.transform.zoom,b.programConfigurations.get(u.id),b.dynamicLayoutVertexBuffer,b.opacityVertexBuffer)}function l0(b,r,u,h,f){let v=b.context,w=v.gl,k=zi.disabled,P=new gn([w.ONE,w.ONE],a.bp.transparent,[!0,!0,!0,!0]),O=r.getBucket(u);if(!O)return;let z=h.key,H=u.heatmapFbos.get(z);H||(H=Yc(v,r.tileSize,r.tileSize),u.heatmapFbos.set(z,H)),v.bindFramebuffer.set(H.framebuffer),v.viewport.set([0,0,r.tileSize,r.tileSize]),v.clear({color:a.bp.transparent});let j=O.programConfigurations.get(u.id),W=b.useProgram("heatmap",j,!f),ie=b.transform.getProjectionData({overscaledTileID:r.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),he=b.style.map.terrain.getTerrainData(h);W.draw(v,w.TRIANGLES,vi.disabled,k,P,Oi.disabled,Fl(r,b.transform.zoom,u.paint.get("heatmap-intensity"),1),he,ie,u.id,O.layoutVertexBuffer,O.indexBuffer,O.segments,u.paint,b.transform.zoom,j)}function c0(b,r,u,h,f){let v=b.context,w=v.gl,k=b.transform;v.setColorMode(b.colorModeForRenderPass());let P=fd(v,r),O=u.key,z=r.heatmapFbos.get(O);if(!z)return;v.activeTexture.set(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,z.colorAttachment.get()),v.activeTexture.set(w.TEXTURE1),P.bind(w.LINEAR,w.CLAMP_TO_EDGE);let H=k.getProjectionData({overscaledTileID:u,applyTerrainMatrix:f,applyGlobeMatrix:!h});b.useProgram("heatmapTexture").draw(v,w.TRIANGLES,vi.disabled,zi.disabled,b.colorModeForRenderPass(),Oi.disabled,Qm(b,r,0,1),null,H,r.id,b.rasterBoundsBuffer,b.quadTriangleIndexBuffer,b.rasterBoundsSegments,r.paint,k.zoom),z.destroy(),r.heatmapFbos.delete(O)}function Yc(b,r,u){var h,f;let v=b.gl,w=v.createTexture();v.bindTexture(v.TEXTURE_2D,w),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.LINEAR),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,v.LINEAR);let k=(h=b.HALF_FLOAT)!==null&&h!==void 0?h:v.UNSIGNED_BYTE,P=(f=b.RGBA16F)!==null&&f!==void 0?f:v.RGBA;v.texImage2D(v.TEXTURE_2D,0,P,r,u,0,v.RGBA,k,null);let O=b.createFramebuffer(r,u,!1,!1);return O.colorAttachment.set(w),O}function fd(b,r){return r.colorRampTexture||(r.colorRampTexture=new a.T(b,r.colorRamp,b.gl.RGBA)),r.colorRampTexture}function u0(b,r,u,h,f,v,w,k){let P=256;if(f.stepInterpolant){let O=r.getSource().maxzoom,z=w.canonical.z===O?Math.ceil(1<<b.transform.maxZoom-w.canonical.z):1;P=a.an(a.ce(v.maxLineLength/a.a5*1024*z),256,u.maxTextureSize)}return k.gradient=a.cf({expression:f.gradientExpression(),evaluationKey:"lineProgress",resolution:P,image:k.gradient||void 0,clips:v.lineClipsArray}),k.texture?k.texture.update(k.gradient):k.texture=new a.T(u,k.gradient,h.RGBA),k.version=f.gradientVersion,k.texture}function d0(b,r,u,h,f){b.activeTexture.set(r.TEXTURE0),u.imageAtlasTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE),h.updatePaintBuffers(f)}function ia(b,r,u,h,f,v){(f||b.lineAtlas.dirty)&&(r.activeTexture.set(u.TEXTURE0),b.lineAtlas.bind(r)),h.updatePaintBuffers(v)}function Ws(b,r,u,h,f,v,w){let k=v.gradients[f.id],P=k.texture;f.gradientVersion!==k.version&&(P=u0(b,r,u,h,f,v,w,k)),u.activeTexture.set(h.TEXTURE0),P.bind(f.stepInterpolant?h.NEAREST:h.LINEAR,h.CLAMP_TO_EDGE)}function zo(b,r,u,h,f,v,w,k,P){let O=v.gradients[f.id],z=O.texture;f.gradientVersion!==O.version&&(z=u0(b,r,u,h,f,v,w,O)),u.activeTexture.set(h.TEXTURE0),z.bind(f.stepInterpolant?h.NEAREST:h.LINEAR,h.CLAMP_TO_EDGE),u.activeTexture.set(h.TEXTURE1),b.lineAtlas.bind(u),k.updatePaintBuffers(P)}function gd(b,r,u,h,f){if(!u||!h||!h.imageAtlas)return;let v=h.imageAtlas.patternPositions,w=v[u.to.toString()],k=v[u.from.toString()];if(!w&&k&&(w=k),!k&&w&&(k=w),!w||!k){let P=f.getPaintProperty(r);w=v[P],k=v[P]}w&&k&&b.setConstantPatternPositions(w,k)}function Jc(b,r,u,h,f,v,w,k){let P=b.context.gl,O="fill-pattern",z=u.paint.get(O),H=z&&z.constantOr(1),j=u.getCrossfadeParameters(),W,ie,he,fe,me,be=b.transform,Se=u.paint.get("fill-translate"),_e=u.paint.get("fill-translate-anchor");w?(ie=H&&!u.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",W=P.LINES):(ie=H?"fillPattern":"fill",W=P.TRIANGLES);let Ce=z.constantOr(null);for(let Pe of h){let xe=r.getTile(Pe);if(H&&!xe.patternsLoaded())continue;let Ae=xe.getBucket(u);if(!Ae)continue;let Ze=Ae.programConfigurations.get(u.id),qe=b.useProgram(ie,Ze),Ge=b.style.map.terrain&&b.style.map.terrain.getTerrainData(Pe);H&&(b.context.activeTexture.set(P.TEXTURE0),xe.imageAtlasTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE),Ze.updatePaintBuffers(j)),gd(Ze,O,Ce,xe,u);let Ue=be.getProjectionData({overscaledTileID:Pe,applyGlobeMatrix:!k,applyTerrainMatrix:!0}),xt=a.aO(be,xe,Se,_e);if(w){fe=Ae.indexBuffer2,me=Ae.segments2;let pt=[P.drawingBufferWidth,P.drawingBufferHeight];he=ie==="fillOutlinePattern"&&H?$m(b,j,xe,pt,xt):Um(pt,xt)}else fe=Ae.indexBuffer,me=Ae.segments,he=H?Qp(b,j,xe,xt):{u_fill_translate:xt};let It=b.stencilModeForClipping(Pe);qe.draw(b.context,W,f,It,v,Oi.backCCW,he,Ge,Ue,u.id,Ae.layoutVertexBuffer,fe,me,u.paint,b.transform.zoom,Ze)}}function _d(b,r,u,h,f,v,w,k){let P=b.context,O=P.gl,z="fill-extrusion-pattern",H=u.paint.get(z),j=H.constantOr(1),W=u.getCrossfadeParameters(),ie=u.paint.get("fill-extrusion-opacity"),he=H.constantOr(null),fe=b.transform;for(let me of h){let be=r.getTile(me),Se=be.getBucket(u);if(!Se)continue;let _e=b.style.map.terrain&&b.style.map.terrain.getTerrainData(me),Ce=Se.programConfigurations.get(u.id),Pe=b.useProgram(j?"fillExtrusionPattern":"fillExtrusion",Ce);j&&(b.context.activeTexture.set(O.TEXTURE0),be.imageAtlasTexture.bind(O.LINEAR,O.CLAMP_TO_EDGE),Ce.updatePaintBuffers(W));let xe=fe.getProjectionData({overscaledTileID:me,applyGlobeMatrix:!k,applyTerrainMatrix:!0});gd(Ce,z,he,be,u);let Ae=a.aO(fe,be,u.paint.get("fill-extrusion-translate"),u.paint.get("fill-extrusion-translate-anchor")),Ze=u.paint.get("fill-extrusion-vertical-gradient"),qe=j?Wp(b,Ze,ie,Ae,me,W,be):Kp(b,Ze,ie,Ae);Pe.draw(P,P.gl.TRIANGLES,f,v,w,Oi.backCCW,qe,_e,xe,u.id,Se.layoutVertexBuffer,Se.indexBuffer,Se.segments,u.paint,b.transform.zoom,Ce,b.style.map.terrain&&Se.centroidVertexBuffer)}}function ds(b,r,u,h,f,v,w,k,P){var O;let z=b.style.projection,H=b.context,j=b.transform,W=H.gl,ie=[`#define NUM_ILLUMINATION_SOURCES ${u.paint.get("hillshade-highlight-color").values.length}`],he=b.useProgram("hillshade",null,!1,ie),fe=!b.options.moving;for(let me of h){let be=r.getTile(me),Se=be.fbo;if(!Se)continue;let _e=z.getMeshFromTileID(H,me.canonical,k,!0,"raster"),Ce=(O=b.style.map.terrain)===null||O===void 0?void 0:O.getTerrainData(me);H.activeTexture.set(W.TEXTURE0),W.bindTexture(W.TEXTURE_2D,Se.colorAttachment.get());let Pe=j.getProjectionData({overscaledTileID:me,aligned:fe,applyGlobeMatrix:!P,applyTerrainMatrix:!0});he.draw(H,W.TRIANGLES,v,f[me.overscaledZ],w,Oi.backCCW,ed(b,be,u),Ce,Pe,u.id,_e.vertexBuffer,_e.indexBuffer,_e.segments)}}function eu(b,r,u,h,f,v,w,k,P){var O;let z=b.style.projection,H=b.context,j=b.transform,W=H.gl,ie=b.useProgram("colorRelief"),he=!b.options.moving,fe=!0,me=0;for(let be of h){let Se=r.getTile(be),_e=Se.dem;if(fe){let qe=W.getParameter(W.MAX_TEXTURE_SIZE),{elevationTexture:Ge,colorTexture:Ue}=u.getColorRampTextures(H,qe,_e.getUnpackVector());H.activeTexture.set(W.TEXTURE1),Ge.bind(W.NEAREST,W.CLAMP_TO_EDGE),H.activeTexture.set(W.TEXTURE4),Ue.bind(W.LINEAR,W.CLAMP_TO_EDGE),fe=!1,me=Ge.size[0]}if(!_e||!_e.data)continue;let Ce=_e.stride,Pe=_e.getPixels();if(H.activeTexture.set(W.TEXTURE0),H.pixelStoreUnpackPremultiplyAlpha.set(!1),Se.demTexture=Se.demTexture||b.getTileTexture(Ce),Se.demTexture){let qe=Se.demTexture;qe.update(Pe,{premultiply:!1}),qe.bind(W.LINEAR,W.CLAMP_TO_EDGE)}else Se.demTexture=new a.T(H,Pe,W.RGBA,{premultiply:!1}),Se.demTexture.bind(W.LINEAR,W.CLAMP_TO_EDGE);let xe=z.getMeshFromTileID(H,be.canonical,k,!0,"raster"),Ae=(O=b.style.map.terrain)===null||O===void 0?void 0:O.getTerrainData(be),Ze=j.getProjectionData({overscaledTileID:be,aligned:he,applyGlobeMatrix:!P,applyTerrainMatrix:!0});ie.draw(H,W.TRIANGLES,v,f[be.overscaledZ],w,Oi.backCCW,Zm(u,Se.dem,me),Ae,Ze,u.id,xe.vertexBuffer,xe.indexBuffer,xe.segments)}}let Qs=[new a.P(0,0),new a.P(a.a5,0),new a.P(a.a5,a.a5),new a.P(0,a.a5)];function Rl(b,r,u,h,f,v,w,k,P=!1,O=!1){let z=h[h.length-1].overscaledZ,H=b.context,j=H.gl,W=b.useProgram("raster"),ie=b.transform,he=b.style.projection,fe=b.colorModeForRenderPass(),me=!b.options.moving,be=u.paint.get("raster-opacity"),Se=u.paint.get("raster-resampling"),_e=u.paint.get("raster-fade-duration"),Ce=!!b.style.map.terrain;for(let Pe of h){let xe=b.getDepthModeForSublayer(Pe.overscaledZ-z,be===1?vi.ReadWrite:vi.ReadOnly,j.LESS),Ae=r.getTile(Pe),Ze=Se==="nearest"?j.NEAREST:j.LINEAR;H.activeTexture.set(j.TEXTURE0),Ae.texture.bind(Ze,j.CLAMP_TO_EDGE,j.LINEAR_MIPMAP_NEAREST),H.activeTexture.set(j.TEXTURE1);let{parentTile:qe,parentScaleBy:Ge,parentTopLeft:Ue,fadeValues:xt}=p0(Ae,r,_e,Ce);Ae.fadeOpacity=xt.tileOpacity,qe?(qe.fadeOpacity=xt.parentTileOpacity,qe.texture.bind(Ze,j.CLAMP_TO_EDGE,j.LINEAR_MIPMAP_NEAREST)):Ae.texture.bind(Ze,j.CLAMP_TO_EDGE,j.LINEAR_MIPMAP_NEAREST),Ae.texture.useMipmap&&H.extTextureFilterAnisotropic&&b.transform.pitch>20&&j.texParameterf(j.TEXTURE_2D,H.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,H.extTextureFilterAnisotropicMax);let It=b.style.map.terrain&&b.style.map.terrain.getTerrainData(Pe),pt=ie.getProjectionData({overscaledTileID:Pe,aligned:me,applyGlobeMatrix:!O,applyTerrainMatrix:!0}),kt=Yp(Ue,Ge,xt.fadeMix,u,k),_i=he.getMeshFromTileID(H,Pe.canonical,v,w,"raster");W.draw(H,j.TRIANGLES,xe,f?f[Pe.overscaledZ]:zi.disabled,fe,P?Oi.frontCCW:Oi.backCCW,kt,It,pt,u.id,_i.vertexBuffer,_i.indexBuffer,_i.segments)}}function p0(b,r,u,h){let f={parentTile:null,parentScaleBy:1,parentTopLeft:[0,0],fadeValues:{tileOpacity:1,parentTileOpacity:1,fadeMix:{opacity:1,mix:0}}};if(u===0||h)return f;if(b.fadingParentID){let v=r.getLoadedTile(b.fadingParentID);if(!v)return f;let w=Math.pow(2,v.tileID.overscaledZ-b.tileID.overscaledZ),k=[b.tileID.canonical.x*w%1,b.tileID.canonical.y*w%1],P=function(O,z,H){let j=re(),W=(j-z.timeAdded)/H,ie=O.fadingDirection===Ke.Incoming,he=a.an((j-O.timeAdded)/H,0,1),fe=a.an(1-W,0,1),me=ie?he:fe;return{tileOpacity:me,parentTileOpacity:ie?fe:he,fadeMix:{opacity:1,mix:1-me}}}(b,v,u);return{parentTile:v,parentScaleBy:w,parentTopLeft:k,fadeValues:P}}if(b.selfFading){let v=function(w,k){let P=(re()-w.timeAdded)/k,O=a.an(P,0,1);return{tileOpacity:O,fadeMix:{opacity:O,mix:0}}}(b,u);return{parentTile:null,parentScaleBy:1,parentTopLeft:[0,0],fadeValues:v}}return f}let h0=new a.bp(1,0,0,1),m0=new a.bp(0,1,0,1),f0=new a.bp(0,0,1,1),g0=new a.bp(1,0,1,1),ps=new a.bp(0,1,1,1);function ch(b,r,u,h){tu(b,0,r+u/2,b.transform.width,u,h)}function uh(b,r,u,h){tu(b,r-u/2,0,u,b.transform.height,h)}function tu(b,r,u,h,f,v){let w=b.context,k=w.gl;k.enable(k.SCISSOR_TEST),k.scissor(r*b.pixelRatio,u*b.pixelRatio,h*b.pixelRatio,f*b.pixelRatio),w.clear({color:v}),k.disable(k.SCISSOR_TEST)}function _0(b,r,u){let h=b.context,f=h.gl,v=b.useProgram("debug"),w=vi.disabled,k=zi.disabled,P=b.colorModeForRenderPass(),O="$debug",z=b.style.map.terrain&&b.style.map.terrain.getTerrainData(u);h.activeTexture.set(f.TEXTURE0);let H=r.getTileByID(u.key).latestRawTileData,j=Math.floor((H&&H.byteLength||0)/1024),W=r.getTile(u).tileSize,ie=512/Math.min(W,512)*(u.overscaledZ/b.transform.zoom)*.5,he=u.canonical.toString();u.overscaledZ!==u.canonical.z&&(he+=` => ${u.overscaledZ}`),function(me,be){me.initDebugOverlayCanvas();let Se=me.debugOverlayCanvas,_e=me.context.gl,Ce=me.debugOverlayCanvas.getContext("2d");Ce.clearRect(0,0,Se.width,Se.height),Ce.shadowColor="white",Ce.shadowBlur=2,Ce.lineWidth=1.5,Ce.strokeStyle="white",Ce.textBaseline="top",Ce.font="bold 36px Open Sans, sans-serif",Ce.fillText(be,5,5),Ce.strokeText(be,5,5),me.debugOverlayTexture.update(Se),me.debugOverlayTexture.bind(_e.LINEAR,_e.CLAMP_TO_EDGE)}(b,`${he} ${j}kB`);let fe=b.transform.getProjectionData({overscaledTileID:u,applyGlobeMatrix:!0,applyTerrainMatrix:!0});v.draw(h,f.TRIANGLES,w,k,gn.alphaBlended,Oi.disabled,Zp(a.bp.transparent,ie),null,fe,O,b.debugBuffer,b.quadTriangleIndexBuffer,b.debugSegments),v.draw(h,f.LINE_STRIP,w,k,P,Oi.disabled,Zp(a.bp.red),z,fe,O,b.debugBuffer,b.tileBorderIndexBuffer,b.debugSegments)}function dh(b,r,u,h){let{isRenderingGlobe:f}=h,v=b.context,w=v.gl,k=b.transform,P=b.colorModeForRenderPass(),O=b.getDepthModeFor3D(),z=b.useProgram("terrain");v.bindFramebuffer.set(null),v.viewport.set([0,0,b.width,b.height]);for(let H of u){let j=r.getTerrainMesh(H.tileID),W=b.renderToTexture.getTexture(H),ie=r.getTerrainData(H.tileID);v.activeTexture.set(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,W.texture);let he=r.getMeshFrameDelta(k.zoom),fe=k.calculateFogMatrix(H.tileID.toUnwrapped()),me=y_(he,fe,b.style.sky,k.pitch,f),be=k.getProjectionData({overscaledTileID:H.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});z.draw(v,w.TRIANGLES,O,zi.disabled,P,Oi.backCCW,me,ie,be,"terrain",j.vertexBuffer,j.indexBuffer,j.segments)}}function ph(b,r){if(!r.mesh){let u=new a.aW;u.emplaceBack(-1,-1),u.emplaceBack(1,-1),u.emplaceBack(1,1),u.emplaceBack(-1,1);let h=new a.aY;h.emplaceBack(0,1,2),h.emplaceBack(0,2,3),r.mesh=new fn(b.createVertexBuffer(u,ss.members),b.createIndexBuffer(h),a.aX.simpleSegment(0,0,u.length,h.length))}return r.mesh}class b0{constructor(r,u){this.context=new hd(r),this.transform=u,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.ar(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=$o.maxOverzooming+$o.maxUnderzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new wo}resize(r,u,h){if(this.width=Math.floor(r*h),this.height=Math.floor(u*h),this.pixelRatio=h,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(let f of this.style._order)this.style._layers[f].resize()}setup(){let r=this.context,u=new a.aW;u.emplaceBack(0,0),u.emplaceBack(a.a5,0),u.emplaceBack(0,a.a5),u.emplaceBack(a.a5,a.a5),this.tileExtentBuffer=r.createVertexBuffer(u,ss.members),this.tileExtentSegments=a.aX.simpleSegment(0,0,4,2);let h=new a.aW;h.emplaceBack(0,0),h.emplaceBack(a.a5,0),h.emplaceBack(0,a.a5),h.emplaceBack(a.a5,a.a5),this.debugBuffer=r.createVertexBuffer(h,ss.members),this.debugSegments=a.aX.simpleSegment(0,0,4,5);let f=new a.ch;f.emplaceBack(0,0,0,0),f.emplaceBack(a.a5,0,a.a5,0),f.emplaceBack(0,a.a5,0,a.a5),f.emplaceBack(a.a5,a.a5,a.a5,a.a5),this.rasterBoundsBuffer=r.createVertexBuffer(f,b_.members),this.rasterBoundsSegments=a.aX.simpleSegment(0,0,4,2);let v=new a.aW;v.emplaceBack(0,0),v.emplaceBack(a.a5,0),v.emplaceBack(0,a.a5),v.emplaceBack(a.a5,a.a5),this.rasterBoundsBufferPosOnly=r.createVertexBuffer(v,ss.members),this.rasterBoundsSegmentsPosOnly=a.aX.simpleSegment(0,0,4,5);let w=new a.aW;w.emplaceBack(0,0),w.emplaceBack(1,0),w.emplaceBack(0,1),w.emplaceBack(1,1),this.viewportBuffer=r.createVertexBuffer(w,ss.members),this.viewportSegments=a.aX.simpleSegment(0,0,4,2);let k=new a.ci;k.emplaceBack(0),k.emplaceBack(1),k.emplaceBack(3),k.emplaceBack(2),k.emplaceBack(0),this.tileBorderIndexBuffer=r.createIndexBuffer(k);let P=new a.aY;P.emplaceBack(1,0,2),P.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=r.createIndexBuffer(P);let O=this.context.gl;this.stencilClearMode=new zi({func:O.ALWAYS,mask:0},0,255,O.ZERO,O.ZERO,O.ZERO),this.tileExtentMesh=new fn(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){let r=this.context,u=r.gl;this.nextStencilID=1,this.currentStencilSource=void 0;let h=a.N();a.c7(h,0,this.width,this.height,0,0,1),a.Q(h,h,[u.drawingBufferWidth,u.drawingBufferHeight,0]);let f={mainMatrix:h,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:h};this.useProgram("clippingMask",null,!0).draw(r,u.TRIANGLES,vi.disabled,this.stencilClearMode,gn.disabled,Oi.disabled,null,null,f,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(r,u,h){if(this.currentStencilSource===r.source||!r.isTileClipped()||!u||!u.length)return;this.currentStencilSource=r.source,this.nextStencilID+u.length>256&&this.clearStencil();let f=this.context;f.setColorMode(gn.disabled),f.setDepthMode(vi.disabled);let v={};for(let w of u)v[w.key]=this.nextStencilID++;this._renderTileMasks(v,u,h,!0),this._renderTileMasks(v,u,h,!1),this._tileClippingMaskIDs=v}_renderTileMasks(r,u,h,f){let v=this.context,w=v.gl,k=this.style.projection,P=this.transform,O=this.useProgram("clippingMask");for(let z of u){let H=r[z.key],j=this.style.map.terrain&&this.style.map.terrain.getTerrainData(z),W=k.getMeshFromTileID(this.context,z.canonical,f,!0,"stencil"),ie=P.getProjectionData({overscaledTileID:z,applyGlobeMatrix:!h,applyTerrainMatrix:!0});O.draw(v,w.TRIANGLES,vi.disabled,new zi({func:w.ALWAYS,mask:0},H,255,w.KEEP,w.KEEP,w.REPLACE),gn.disabled,h?Oi.disabled:Oi.backCCW,null,j,ie,"$clipping",W.vertexBuffer,W.indexBuffer,W.segments)}}_renderTilesDepthBuffer(){let r=this.context,u=r.gl,h=this.style.projection,f=this.transform,v=this.useProgram("depth"),w=this.getDepthModeFor3D(),k=Gn(f,{tileSize:f.tileSize});for(let P of k){let O=this.style.map.terrain&&this.style.map.terrain.getTerrainData(P),z=h.getMeshFromTileID(this.context,P.canonical,!0,!0,"raster"),H=f.getProjectionData({overscaledTileID:P,applyGlobeMatrix:!0,applyTerrainMatrix:!0});v.draw(r,u.TRIANGLES,w,zi.disabled,gn.disabled,Oi.backCCW,null,O,H,"$clipping",z.vertexBuffer,z.indexBuffer,z.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();let r=this.nextStencilID++,u=this.context.gl;return new zi({func:u.NOTEQUAL,mask:255},r,255,u.KEEP,u.KEEP,u.REPLACE)}stencilModeForClipping(r){let u=this.context.gl;return new zi({func:u.EQUAL,mask:255},this._tileClippingMaskIDs[r.key],0,u.KEEP,u.KEEP,u.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(r){let u=this.context.gl,h=r.sort((w,k)=>k.overscaledZ-w.overscaledZ),f=h[h.length-1].overscaledZ,v=h[0].overscaledZ-f+1;if(v>1){this.currentStencilSource=void 0,this.nextStencilID+v>256&&this.clearStencil();let w={};for(let k=0;k<v;k++)w[k+f]=new zi({func:u.GEQUAL,mask:255},k+this.nextStencilID,255,u.KEEP,u.KEEP,u.REPLACE);return this.nextStencilID+=v,[w,h]}return[{[f]:zi.disabled},h]}stencilConfigForOverlapTwoPass(r){let u=this.context.gl,h=r.sort((w,k)=>k.overscaledZ-w.overscaledZ),f=h[h.length-1].overscaledZ,v=h[0].overscaledZ-f+1;if(this.clearStencil(),v>1){let w={},k={};for(let P=0;P<v;P++)w[P+f]=new zi({func:u.GREATER,mask:255},v+1+P,255,u.KEEP,u.KEEP,u.REPLACE),k[P+f]=new zi({func:u.GREATER,mask:255},1+P,255,u.KEEP,u.KEEP,u.REPLACE);return this.nextStencilID=2*v+1,[w,k,h]}return this.nextStencilID=3,[{[f]:new zi({func:u.GREATER,mask:255},2,255,u.KEEP,u.KEEP,u.REPLACE)},{[f]:new zi({func:u.GREATER,mask:255},1,255,u.KEEP,u.KEEP,u.REPLACE)},h]}colorModeForRenderPass(){let r=this.context.gl;return this._showOverdrawInspector?new gn([r.CONSTANT_COLOR,r.ONE],new a.bp(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?gn.unblended:gn.alphaBlended}getDepthModeForSublayer(r,u,h){if(!this.opaquePassEnabledForLayer())return vi.disabled;let f=1-((1+this.currentLayer)*this.numSublayers+r)*this.depthEpsilon;return new vi(h||this.context.gl.LEQUAL,u,[f,f])}getDepthModeFor3D(){return new vi(this.context.gl.LEQUAL,vi.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(r,u){var h,f;this.style=r,this.options=u,this.lineAtlas=r.lineAtlas,this.imageManager=r.imageManager,this.glyphManager=r.glyphManager,this.symbolFadeChange=r.placement.symbolFadeChange(re()),this.imageManager.beginFrame();let v=this.style._order,w=this.style.tileManagers,k={},P={},O={},z={isRenderingToTexture:!1,isRenderingGlobe:((h=r.projection)===null||h===void 0?void 0:h.transitionState)>0};for(let j in w){let W=w[j];W.used&&W.prepare(this.context),k[j]=W.getVisibleCoordinates(!1),P[j]=k[j].slice().reverse(),O[j]=W.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let j=0;j<v.length;j++)if(this.style._layers[v[j]].is3D()){this.opaquePassCutoff=j;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(let j of v){let W=this.style._layers[j];if(!W.hasOffscreenPass()||W.isHidden(this.transform.zoom))continue;let ie=P[W.source];(W.type==="custom"||ie.length)&&this.renderLayer(this,w[W.source],W,ie,z)}if((f=this.style.projection)===null||f===void 0||f.updateGPUdependent({context:this.context,useProgram:j=>this.useProgram(j)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:u.showOverdrawInspector?a.bp.black:a.bp.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(j,W){let ie=j.context,he=ie.gl,fe=((Pe,xe,Ae)=>{let Ze=Math.cos(xe.rollInRadians),qe=Math.sin(xe.rollInRadians),Ge=cn(xe),Ue=xe.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:Pe.properties.get("sky-color"),u_horizon_color:Pe.properties.get("horizon-color"),u_horizon:[(xe.width/2-Ge*qe)*Ae,(xe.height/2+Ge*Ze)*Ae],u_horizon_normal:[-qe,Ze],u_sky_horizon_blend:Pe.properties.get("sky-horizon-blend")*xe.height/2*Ae,u_sky_blend:Ue}})(W,j.style.map.transform,j.pixelRatio),me=new vi(he.LEQUAL,vi.ReadWrite,[0,1]),be=zi.disabled,Se=j.colorModeForRenderPass(),_e=j.useProgram("sky"),Ce=ph(ie,W);_e.draw(ie,he.TRIANGLES,me,be,Se,Oi.disabled,fe,null,void 0,"sky",Ce.vertexBuffer,Ce.indexBuffer,Ce.segments)}(this,this.style.sky),this._showOverdrawInspector=u.showOverdrawInspector,this.depthRangeFor3D=[0,1-(r._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=v.length-1;this.currentLayer>=0;this.currentLayer--){let j=this.style._layers[v[this.currentLayer]],W=w[j.source],ie=k[j.source];this._renderTileClippingMasks(j,ie,!1),this.renderLayer(this,W,j,ie,z)}this.renderPass="translucent";let H=!1;for(this.currentLayer=0;this.currentLayer<v.length;this.currentLayer++){let j=this.style._layers[v[this.currentLayer]],W=w[j.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(j,z))continue;this.opaquePassEnabledForLayer()||H||(H=!0,z.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());let ie=(j.type==="symbol"?O:P)[j.source];this._renderTileClippingMasks(j,k[j.source],!!this.renderToTexture),this.renderLayer(this,W,j,ie,z)}if(z.isRenderingGlobe&&function(j,W,ie){let he=j.context,fe=he.gl,me=j.useProgram("atmosphere"),be=new vi(fe.LEQUAL,vi.ReadOnly,[0,1]),Se=j.transform,_e=function(Ue,xt){let It=Ue.properties.get("position"),pt=[-It.x,-It.y,-It.z],kt=a.ar(new Float64Array(16));return Ue.properties.get("anchor")==="map"&&(a.bg(kt,kt,xt.rollInRadians),a.bh(kt,kt,-xt.pitchInRadians),a.bg(kt,kt,xt.bearingInRadians),a.bh(kt,kt,xt.center.lat*Math.PI/180),a.bJ(kt,kt,-xt.center.lng*Math.PI/180)),a.cg(pt,pt,kt),pt}(ie,j.transform),Ce=Se.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),Pe=W.properties.get("atmosphere-blend")*Ce.projectionTransition;if(Pe===0)return;let xe=qs(Se.worldSize,Se.center.lat),Ae=Se.inverseProjectionMatrix,Ze=new Float64Array(4);Ze[3]=1,a.aH(Ze,Ze,Se.modelViewProjectionMatrix),Ze[0]/=Ze[3],Ze[1]/=Ze[3],Ze[2]/=Ze[3],Ze[3]=1,a.aH(Ze,Ze,Ae),Ze[0]/=Ze[3],Ze[1]/=Ze[3],Ze[2]/=Ze[3],Ze[3]=1;let qe=((Ue,xt,It,pt,kt)=>({u_sun_pos:Ue,u_atmosphere_blend:xt,u_globe_position:It,u_globe_radius:pt,u_inv_proj_matrix:kt}))(_e,Pe,[Ze[0],Ze[1],Ze[2]],xe,Ae),Ge=ph(he,W);me.draw(he,fe.TRIANGLES,be,zi.disabled,gn.alphaBlended,Oi.disabled,qe,null,null,"atmosphere",Ge.vertexBuffer,Ge.indexBuffer,Ge.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){let j=function(W,ie){let he=null,fe=Object.values(W._layers).flatMap(_e=>_e.source&&!_e.isHidden(ie)?[W.tileManagers[_e.source]]:[]),me=fe.filter(_e=>_e.getSource().type==="vector"),be=fe.filter(_e=>_e.getSource().type!=="vector"),Se=_e=>{(!he||he.getSource().maxzoom<_e.getSource().maxzoom)&&(he=_e)};return me.forEach(_e=>Se(_e)),he||be.forEach(_e=>Se(_e)),he}(this.style,this.transform.zoom);j&&function(W,ie,he){for(let fe=0;fe<he.length;fe++)_0(W,ie,he[fe])}(this,j,j.getVisibleCoordinates())}this.options.showPadding&&function(j){let W=j.transform.padding;ch(j,j.transform.height-(W.top||0),3,h0),ch(j,W.bottom||0,3,m0),uh(j,W.left||0,3,f0),uh(j,j.transform.width-(W.right||0),3,g0);let ie=j.transform.centerPoint;(function(he,fe,me,be){tu(he,fe-1,me-10,2,20,be),tu(he,fe-10,me-1,20,2,be)})(j,ie.x,j.transform.height-ie.y,ps)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(r){if(!this.style||!this.style.map||!this.style.map.terrain)return;let u=this.terrainFacilitator.matrix,h=this.transform.modelViewProjectionMatrix,f=this.terrainFacilitator.dirty;f||(f=r?!a.cj(u,h):!a.ck(u,h)),f||(f=this.style.map.terrain.tileManager.anyTilesAfterTime(this.terrainFacilitator.renderTime)),f&&(a.cl(u,h),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(v,w){let k=v.context,P=k.gl,O=v.transform,z=gn.unblended,H=new vi(P.LEQUAL,vi.ReadWrite,[0,1]),j=w.tileManager.getRenderableTiles(),W=v.useProgram("terrainDepth");k.bindFramebuffer.set(w.getFramebuffer("depth").framebuffer),k.viewport.set([0,0,v.width/devicePixelRatio,v.height/devicePixelRatio]),k.clear({color:a.bp.transparent,depth:1});for(let ie of j){let he=w.getTerrainMesh(ie.tileID),fe=w.getTerrainData(ie.tileID),me=O.getProjectionData({overscaledTileID:ie.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),be={u_ele_delta:w.getMeshFrameDelta(O.zoom)};W.draw(k,P.TRIANGLES,H,zi.disabled,z,Oi.backCCW,be,fe,me,"terrain",he.vertexBuffer,he.indexBuffer,he.segments)}k.bindFramebuffer.set(null),k.viewport.set([0,0,v.width,v.height])}(this,this.style.map.terrain),function(v,w){let k=v.context,P=k.gl,O=v.transform,z=gn.unblended,H=new vi(P.LEQUAL,vi.ReadWrite,[0,1]),j=w.getCoordsTexture(),W=w.tileManager.getRenderableTiles(),ie=v.useProgram("terrainCoords");k.bindFramebuffer.set(w.getFramebuffer("coords").framebuffer),k.viewport.set([0,0,v.width/devicePixelRatio,v.height/devicePixelRatio]),k.clear({color:a.bp.transparent,depth:1}),w.coordsIndex=[];for(let he of W){let fe=w.getTerrainMesh(he.tileID),me=w.getTerrainData(he.tileID);k.activeTexture.set(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,j.texture);let be={u_terrain_coords_id:(255-w.coordsIndex.length)/255,u_texture:0,u_ele_delta:w.getMeshFrameDelta(O.zoom)},Se=O.getProjectionData({overscaledTileID:he.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});ie.draw(k,P.TRIANGLES,H,zi.disabled,z,Oi.backCCW,be,me,Se,"terrain",fe.vertexBuffer,fe.indexBuffer,fe.segments),w.coordsIndex.push(he.tileID.key)}k.bindFramebuffer.set(null),k.viewport.set([0,0,v.width,v.height])}(this,this.style.map.terrain))}renderLayer(r,u,h,f,v){h.isHidden(this.transform.zoom)||(h.type==="background"||h.type==="custom"||(f||[]).length)&&(this.id=h.id,a.cm(h)?function(w,k,P,O,z,H){if(w.renderPass!=="translucent")return;let{isRenderingToTexture:j}=H,W=zi.disabled,ie=w.colorModeForRenderPass();(P._unevaluatedLayout.hasValue("text-variable-anchor")||P._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(he,fe,me,be,Se,_e,Ce,Pe,xe){let Ae=fe.transform,Ze=fe.style.map.terrain,qe=Se==="map",Ge=_e==="map";for(let Ue of he){let xt=be.getTile(Ue),It=xt.getBucket(me);if(!It||!It.text||!It.text.segments.get().length)continue;let pt=a.ay(It.textSizeData,Ae.zoom),kt=a.aN(xt,1,fe.transform.zoom),_i=Oo(qe,fe.transform,kt),tn=me.layout.get("icon-text-fit")!=="none"&&It.hasIconData();if(pt){let Sn=Math.pow(2,Ae.zoom-xt.tileID.overscaledZ),_n=Ze?(Pn,bn)=>Ze.getElevation(Ue,Pn,bn):null;D_(It,qe,Ge,xe,Ae,_i,Sn,pt,tn,a.aO(Ae,xt,Ce,Pe),Ue.toUnwrapped(),_n)}}}(O,w,P,k,P.layout.get("text-rotation-alignment"),P.layout.get("text-pitch-alignment"),P.paint.get("text-translate"),P.paint.get("text-translate-anchor"),z),P.paint.get("icon-opacity").constantOr(1)!==0&&Xc(w,k,P,O,!1,P.paint.get("icon-translate"),P.paint.get("icon-translate-anchor"),P.layout.get("icon-rotation-alignment"),P.layout.get("icon-pitch-alignment"),P.layout.get("icon-keep-upright"),W,ie,j),P.paint.get("text-opacity").constantOr(1)!==0&&Xc(w,k,P,O,!0,P.paint.get("text-translate"),P.paint.get("text-translate-anchor"),P.layout.get("text-rotation-alignment"),P.layout.get("text-pitch-alignment"),P.layout.get("text-keep-upright"),W,ie,j),k.map.showCollisionBoxes&&(Ks(w,k,P,O,!0),Ks(w,k,P,O,!1))}(r,u,h,f,this.style.placement.variableOffsets,v):a.cn(h)?function(w,k,P,O,z){if(w.renderPass!=="translucent")return;let{isRenderingToTexture:H}=z,j=P.paint.get("circle-opacity"),W=P.paint.get("circle-stroke-width"),ie=P.paint.get("circle-stroke-opacity"),he=!P.layout.get("circle-sort-key").isConstant();if(j.constantOr(1)===0&&(W.constantOr(1)===0||ie.constantOr(1)===0))return;let fe=w.context,me=fe.gl,be=w.transform,Se=w.getDepthModeForSublayer(0,vi.ReadOnly),_e=zi.disabled,Ce=w.colorModeForRenderPass(),Pe=[],xe=be.getCircleRadiusCorrection();for(let Ae=0;Ae<O.length;Ae++){let Ze=O[Ae],qe=k.getTile(Ze),Ge=qe.getBucket(P);if(!Ge)continue;let Ue=P.paint.get("circle-translate"),xt=P.paint.get("circle-translate-anchor"),It=a.aO(be,qe,Ue,xt),pt=Ge.programConfigurations.get(P.id),kt=w.useProgram("circle",pt),_i=Ge.layoutVertexBuffer,tn=Ge.indexBuffer,Sn=w.style.map.terrain&&w.style.map.terrain.getTerrainData(Ze),_n={programConfiguration:pt,program:kt,layoutVertexBuffer:_i,indexBuffer:tn,uniformValues:Km(w,qe,P,It,xe),terrainData:Sn,projectionData:be.getProjectionData({overscaledTileID:Ze,applyGlobeMatrix:!H,applyTerrainMatrix:!0})};if(he){let Pn=Ge.segments.get();for(let bn of Pn)Pe.push({segments:new a.aX([bn]),sortKey:bn.sortKey,state:_n})}else Pe.push({segments:Ge.segments,sortKey:0,state:_n})}he&&Pe.sort((Ae,Ze)=>Ae.sortKey-Ze.sortKey);for(let Ae of Pe){let{programConfiguration:Ze,program:qe,layoutVertexBuffer:Ge,indexBuffer:Ue,uniformValues:xt,terrainData:It,projectionData:pt}=Ae.state;qe.draw(fe,me.TRIANGLES,Se,_e,Ce,Oi.backCCW,xt,It,pt,P.id,Ge,Ue,Ae.segments,P.paint,w.transform.zoom,Ze)}}(r,u,h,f,v):a.co(h)?function(w,k,P,O,z){if(P.paint.get("heatmap-opacity")===0)return;let H=w.context,{isRenderingToTexture:j,isRenderingGlobe:W}=z;if(w.style.map.terrain){for(let ie of O){let he=k.getTile(ie);k.hasRenderableParent(ie)||(w.renderPass==="offscreen"?l0(w,he,P,ie,W):w.renderPass==="translucent"&&c0(w,P,ie,j,W))}H.viewport.set([0,0,w.width,w.height])}else w.renderPass==="offscreen"?function(ie,he,fe,me){let be=ie.context,Se=be.gl,_e=ie.transform,Ce=zi.disabled,Pe=new gn([Se.ONE,Se.ONE],a.bp.transparent,[!0,!0,!0,!0]);(function(xe,Ae,Ze){let qe=xe.gl;xe.activeTexture.set(qe.TEXTURE1),xe.viewport.set([0,0,Ae.width/4,Ae.height/4]);let Ge=Ze.heatmapFbos.get(a.cd);Ge?(qe.bindTexture(qe.TEXTURE_2D,Ge.colorAttachment.get()),xe.bindFramebuffer.set(Ge.framebuffer)):(Ge=Yc(xe,Ae.width/4,Ae.height/4),Ze.heatmapFbos.set(a.cd,Ge))})(be,ie,fe),be.clear({color:a.bp.transparent});for(let xe=0;xe<me.length;xe++){let Ae=me[xe];if(he.hasRenderableParent(Ae))continue;let Ze=he.getTile(Ae),qe=Ze.getBucket(fe);if(!qe)continue;let Ge=qe.programConfigurations.get(fe.id),Ue=ie.useProgram("heatmap",Ge),xt=_e.getProjectionData({overscaledTileID:Ae,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),It=_e.getCircleRadiusCorrection();Ue.draw(be,Se.TRIANGLES,vi.disabled,Ce,Pe,Oi.backCCW,Fl(Ze,_e.zoom,fe.paint.get("heatmap-intensity"),It),null,xt,fe.id,qe.layoutVertexBuffer,qe.indexBuffer,qe.segments,fe.paint,_e.zoom,Ge)}be.viewport.set([0,0,ie.width,ie.height])}(w,k,P,O):w.renderPass==="translucent"&&function(ie,he){let fe=ie.context,me=fe.gl;fe.setColorMode(ie.colorModeForRenderPass());let be=he.heatmapFbos.get(a.cd);be&&(fe.activeTexture.set(me.TEXTURE0),me.bindTexture(me.TEXTURE_2D,be.colorAttachment.get()),fe.activeTexture.set(me.TEXTURE1),fd(fe,he).bind(me.LINEAR,me.CLAMP_TO_EDGE),ie.useProgram("heatmapTexture").draw(fe,me.TRIANGLES,vi.disabled,zi.disabled,ie.colorModeForRenderPass(),Oi.disabled,Qm(ie,he,0,1),null,null,he.id,ie.viewportBuffer,ie.quadTriangleIndexBuffer,ie.viewportSegments,he.paint,ie.transform.zoom))}(w,P)}(r,u,h,f,v):a.cp(h)?function(w,k,P,O,z){if(w.renderPass!=="translucent")return;let{isRenderingToTexture:H}=z,j=P.paint.get("line-opacity"),W=P.paint.get("line-width");if(j.constantOr(1)===0||W.constantOr(1)===0)return;let ie=w.getDepthModeForSublayer(0,vi.ReadOnly),he=w.colorModeForRenderPass(),fe=P.paint.get("line-dasharray"),me=fe.constantOr(1),be=P.paint.get("line-pattern"),Se=be.constantOr(1),_e=P.paint.get("line-gradient"),Ce=P.getCrossfadeParameters(),Pe;Pe=Se?"linePattern":me&&_e?"lineGradientSDF":me?"lineSDF":_e?"lineGradient":"line";let xe=w.context,Ae=xe.gl,Ze=w.transform,qe=!0;for(let Ge of O){let Ue=k.getTile(Ge);if(Se&&!Ue.patternsLoaded())continue;let xt=Ue.getBucket(P);if(!xt)continue;let It=xt.programConfigurations.get(P.id),pt=w.context.program.get(),kt=w.useProgram(Pe,It),_i=qe||kt.program!==pt,tn=w.style.map.terrain&&w.style.map.terrain.getTerrainData(Ge),Sn=be.constantOr(null),_n=fe&&fe.constantOr(null);if(Sn&&Ue.imageAtlas){let La=Ue.imageAtlas,la=La.patternPositions[Sn.to.toString()],aa=La.patternPositions[Sn.from.toString()];la&&aa&&It.setConstantPatternPositions(la,aa)}else if(_n){let La=P.layout.get("line-cap")==="round",la=w.lineAtlas.getDash(_n.to,La),aa=w.lineAtlas.getDash(_n.from,La);It.setConstantDashPositions(la,aa)}let Pn=Ze.getProjectionData({overscaledTileID:Ge,applyGlobeMatrix:!H,applyTerrainMatrix:!0}),bn=Ze.getPixelScale(),Kn;Se?(Kn=Xp(w,Ue,P,bn,Ce),d0(xe,Ae,Ue,It,Ce)):me&&_e?(Kn=td(w,Ue,P,bn,Ce,xt.lineClipsArray.length),zo(w,k,xe,Ae,P,xt,Ge,It,Ce)):me?(Kn=Ym(w,Ue,P,bn,Ce),ia(w,xe,Ae,It,_i,Ce)):_e?(Kn=Xm(w,Ue,P,bn,xt.lineClipsArray.length),Ws(w,k,xe,Ae,P,xt,Ge)):Kn=Uc(w,Ue,P,bn);let Dn=w.stencilModeForClipping(Ge);kt.draw(xe,Ae.TRIANGLES,ie,Dn,he,Oi.disabled,Kn,tn,Pn,P.id,xt.layoutVertexBuffer,xt.indexBuffer,xt.segments,P.paint,w.transform.zoom,It,xt.layoutVertexBuffer2),qe=!1}}(r,u,h,f,v):a.cq(h)?function(w,k,P,O,z){let H=P.paint.get("fill-color"),j=P.paint.get("fill-opacity");if(j.constantOr(1)===0)return;let{isRenderingToTexture:W}=z,ie=w.colorModeForRenderPass(),he=P.paint.get("fill-pattern"),fe=w.opaquePassEnabledForLayer()&&!he.constantOr(1)&&H.constantOr(a.bp.transparent).a===1&&j.constantOr(0)===1?"opaque":"translucent";if(w.renderPass===fe){let me=w.getDepthModeForSublayer(1,w.renderPass==="opaque"?vi.ReadWrite:vi.ReadOnly);Jc(w,k,P,O,me,ie,!1,W)}if(w.renderPass==="translucent"&&P.paint.get("fill-antialias")){let me=w.getDepthModeForSublayer(P.getPaintProperty("fill-outline-color")?2:0,vi.ReadOnly);Jc(w,k,P,O,me,ie,!0,W)}}(r,u,h,f,v):a.cr(h)?function(w,k,P,O,z){let H=P.paint.get("fill-extrusion-opacity");if(H===0)return;let{isRenderingToTexture:j}=z;if(w.renderPass==="translucent"){let W=new vi(w.context.gl.LEQUAL,vi.ReadWrite,w.depthRangeFor3D);if(H!==1||P.paint.get("fill-extrusion-pattern").constantOr(1))_d(w,k,P,O,W,zi.disabled,gn.disabled,j),_d(w,k,P,O,W,w.stencilModeFor3D(),w.colorModeForRenderPass(),j);else{let ie=w.colorModeForRenderPass();_d(w,k,P,O,W,zi.disabled,ie,j)}}}(r,u,h,f,v):a.cs(h)?function(w,k,P,O,z){if(w.renderPass!=="offscreen"&&w.renderPass!=="translucent")return;let{isRenderingToTexture:H}=z,j=w.context,W=w.style.projection.useSubdivision,ie=w.getDepthModeForSublayer(0,vi.ReadOnly),he=w.colorModeForRenderPass();if(w.renderPass==="offscreen")(function(fe,me,be,Se,_e,Ce,Pe){let xe=fe.context,Ae=xe.gl;for(let Ze of be){let qe=me.getTile(Ze),Ge=qe.dem;if(!Ge||!Ge.data||!qe.needsHillshadePrepare)continue;let Ue=Ge.dim,xt=Ge.stride,It=Ge.getPixels();if(xe.activeTexture.set(Ae.TEXTURE1),xe.pixelStoreUnpackPremultiplyAlpha.set(!1),qe.demTexture=qe.demTexture||fe.getTileTexture(xt),qe.demTexture){let kt=qe.demTexture;kt.update(It,{premultiply:!1}),kt.bind(Ae.NEAREST,Ae.CLAMP_TO_EDGE)}else qe.demTexture=new a.T(xe,It,Ae.RGBA,{premultiply:!1}),qe.demTexture.bind(Ae.NEAREST,Ae.CLAMP_TO_EDGE);xe.activeTexture.set(Ae.TEXTURE0);let pt=qe.fbo;if(!pt){let kt=new a.T(xe,{width:Ue,height:Ue,data:null},Ae.RGBA);kt.bind(Ae.LINEAR,Ae.CLAMP_TO_EDGE),pt=qe.fbo=xe.createFramebuffer(Ue,Ue,!0,!1),pt.colorAttachment.set(kt.texture)}xe.bindFramebuffer.set(pt.framebuffer),xe.viewport.set([0,0,Ue,Ue]),fe.useProgram("hillshadePrepare").draw(xe,Ae.TRIANGLES,_e,Ce,Pe,Oi.disabled,v_(qe.tileID,Ge),null,null,Se.id,fe.rasterBoundsBuffer,fe.quadTriangleIndexBuffer,fe.rasterBoundsSegments),qe.needsHillshadePrepare=!1}})(w,k,O,P,ie,zi.disabled,he),j.viewport.set([0,0,w.width,w.height]);else if(w.renderPass==="translucent")if(W){let[fe,me,be]=w.stencilConfigForOverlapTwoPass(O);ds(w,k,P,be,fe,ie,he,!1,H),ds(w,k,P,be,me,ie,he,!0,H)}else{let[fe,me]=w.getStencilConfigForOverlapAndUpdateStencilID(O);ds(w,k,P,me,fe,ie,he,!1,H)}}(r,u,h,f,v):a.ct(h)?function(w,k,P,O,z){if(w.renderPass!=="translucent"||!O.length)return;let{isRenderingToTexture:H}=z,j=w.style.projection.useSubdivision,W=w.getDepthModeForSublayer(0,vi.ReadOnly),ie=w.colorModeForRenderPass();if(j){let[he,fe,me]=w.stencilConfigForOverlapTwoPass(O);eu(w,k,P,me,he,W,ie,!1,H),eu(w,k,P,me,fe,W,ie,!0,H)}else{let[he,fe]=w.getStencilConfigForOverlapAndUpdateStencilID(O);eu(w,k,P,fe,he,W,ie,!1,H)}}(r,u,h,f,v):a.bU(h)?function(w,k,P,O,z){if(w.renderPass!=="translucent"||P.paint.get("raster-opacity")===0||!O.length)return;let{isRenderingToTexture:H}=z,j=k.getSource(),W=w.style.projection.useSubdivision;if(j instanceof xo)Rl(w,k,P,O,null,!1,!1,j.tileCoords,j.flippedWindingOrder,H);else if(W){let[ie,he,fe]=w.stencilConfigForOverlapTwoPass(O);Rl(w,k,P,fe,ie,!1,!0,Qs,!1,H),Rl(w,k,P,fe,he,!0,!0,Qs,!1,H)}else{let[ie,he]=w.getStencilConfigForOverlapAndUpdateStencilID(O);Rl(w,k,P,he,ie,!1,!0,Qs,!1,H)}}(r,u,h,f,v):a.cu(h)?function(w,k,P,O,z){let H=P.paint.get("background-color"),j=P.paint.get("background-opacity");if(j===0)return;let{isRenderingToTexture:W}=z,ie=w.context,he=ie.gl,fe=w.style.projection,me=w.transform,be=me.tileSize,Se=P.paint.get("background-pattern");if(w.isPatternMissing(Se))return;let _e=!Se&&H.a===1&&j===1&&w.opaquePassEnabledForLayer()?"opaque":"translucent";if(w.renderPass!==_e)return;let Ce=zi.disabled,Pe=w.getDepthModeForSublayer(0,_e==="opaque"?vi.ReadWrite:vi.ReadOnly),xe=w.colorModeForRenderPass(),Ae=w.useProgram(Se?"backgroundPattern":"background"),Ze=O||Gn(me,{tileSize:be,terrain:w.style.map.terrain});Se&&(ie.activeTexture.set(he.TEXTURE0),w.imageManager.bind(w.context));let qe=P.getCrossfadeParameters();for(let Ge of Ze){let Ue=me.getProjectionData({overscaledTileID:Ge,applyGlobeMatrix:!W,applyTerrainMatrix:!0}),xt=Se?w_(j,w,Se,{tileID:Ge,tileSize:be},qe):th(j,H),It=w.style.map.terrain&&w.style.map.terrain.getTerrainData(Ge),pt=fe.getMeshFromTileID(ie,Ge.canonical,!1,!0,"raster");Ae.draw(ie,he.TRIANGLES,Pe,Ce,xe,Oi.backCCW,xt,It,Ue,P.id,pt.vertexBuffer,pt.indexBuffer,pt.segments)}}(r,0,h,f,v):a.cv(h)&&function(w,k,P,O){let{isRenderingGlobe:z}=O,H=w.context,j=P.implementation,W=w.style.projection,ie=w.transform,he=ie.getProjectionDataForCustomLayer(z),fe={farZ:ie.farZ,nearZ:ie.nearZ,fov:ie.fov*Math.PI/180,modelViewProjectionMatrix:ie.modelViewProjectionMatrix,projectionMatrix:ie.projectionMatrix,shaderData:{variantName:W.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${W.shaderPreludeCode.vertexSource}`,define:W.shaderDefine},defaultProjectionData:he},me=j.renderingMode?j.renderingMode:"2d";if(w.renderPass==="offscreen"){let be=j.prerender;be&&(w.setCustomLayerDefaults(),H.setColorMode(w.colorModeForRenderPass()),be.call(j,H.gl,fe),H.setDirty(),w.setBaseState())}else if(w.renderPass==="translucent"){w.setCustomLayerDefaults(),H.setColorMode(w.colorModeForRenderPass()),H.setStencilMode(zi.disabled);let be=me==="3d"?w.getDepthModeFor3D():w.getDepthModeForSublayer(0,vi.ReadOnly);H.setDepthMode(be),j.render(H.gl,fe),H.setDirty(),w.setBaseState(),H.bindFramebuffer.set(null)}}(r,0,h,v))}saveTileTexture(r){let u=this._tileTextures[r.size[0]];u?u.push(r):this._tileTextures[r.size[0]]=[r]}getTileTexture(r){let u=this._tileTextures[r];return u&&u.length>0?u.pop():null}isPatternMissing(r){if(!r)return!1;if(!r.from||!r.to)return!0;let u=this.imageManager.getPattern(r.from.toString()),h=this.imageManager.getPattern(r.to.toString());return!u||!h}useProgram(r,u,h=!1,f=[]){this.cache=this.cache||{};let v=!!this.style.map.terrain,w=this.style.projection,k=h?On.projectionMercator:w.shaderPreludeCode,P=h?co:w.shaderDefine,O=r+(u?u.cacheKey:"")+`/${h?Vo:w.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(v?"/terrain":"")+(f?`/${f.join("/")}`:"");return this.cache[O]||(this.cache[O]=new Hm(this.context,On[r],u,I_[r],this._showOverdrawInspector,v,k,P,f)),this.cache[O]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){let r=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(r.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new a.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){var r,u;if(this._tileTextures){for(let h in this._tileTextures){let f=this._tileTextures[h];if(f)for(let v of f)v.destroy()}this._tileTextures={}}if(this.tileExtentBuffer&&this.tileExtentBuffer.destroy(),this.debugBuffer&&this.debugBuffer.destroy(),this.rasterBoundsBuffer&&this.rasterBoundsBuffer.destroy(),this.rasterBoundsBufferPosOnly&&this.rasterBoundsBufferPosOnly.destroy(),this.viewportBuffer&&this.viewportBuffer.destroy(),this.tileBorderIndexBuffer&&this.tileBorderIndexBuffer.destroy(),this.quadTriangleIndexBuffer&&this.quadTriangleIndexBuffer.destroy(),this.tileExtentMesh&&((r=this.tileExtentMesh.vertexBuffer)===null||r===void 0||r.destroy()),this.tileExtentMesh&&((u=this.tileExtentMesh.indexBuffer)===null||u===void 0||u.destroy()),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.cache){for(let h in this.cache){let f=this.cache[h];f&&f.program&&this.context.gl.deleteProgram(f.program)}this.cache={}}this.context&&this.context.setDefault()}overLimit(){let{drawingBufferWidth:r,drawingBufferHeight:u}=this.context.gl;return this.width!==r||this.height!==u}}function hh(b,r){let u,h=!1,f=null,v=null,w=()=>{f=null,h&&(b.apply(v,u),f=setTimeout(w,r),h=!1)};return(...k)=>(h=!0,v=this,u=k,f||w(),f)}class mh{constructor(r){this._getCurrentHash=()=>{let u=window.location.hash.replace("#","");if(this._hashName){let h;return u.split("&").map(f=>f.split("=")).forEach(f=>{f[0]===this._hashName&&(h=f)}),(h&&h[1]||"").split("/")}return u.split("/")},this._onHashChange=()=>{let u=this._getCurrentHash();if(!this._isValidHash(u))return!1;let h=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(u[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+u[2],+u[1]],zoom:+u[0],bearing:h,pitch:+(u[4]||0)}),!0},this._updateHashUnthrottled=()=>{let u=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,u)},this._removeHash=()=>{let u=this._getCurrentHash();if(u.length===0)return;let h=u.join("/"),f=h;f.split("&").length>0&&(f=f.split("&")[0]),this._hashName&&(f=`${this._hashName}=${h}`);let v=window.location.hash.replace(f,"");v.startsWith("#&")?v=v.slice(0,1)+v.slice(2):v==="#"&&(v="");let w=window.location.href.replace(/(#.+)?$/,v);w=w.replace("&&","&"),window.history.replaceState(window.history.state,null,w)},this._updateHash=hh(this._updateHashUnthrottled,300),this._hashName=r&&encodeURIComponent(r)}addTo(r){return this._map=r,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(r){let u=this._map.getCenter(),h=Math.round(100*this._map.getZoom())/100,f=Math.ceil((h*Math.LN2+Math.log(512/360/.5))/Math.LN10),v=Math.pow(10,f),w=Math.round(u.lng*v)/v,k=Math.round(u.lat*v)/v,P=this._map.getBearing(),O=this._map.getPitch(),z="";if(z+=r?`/${w}/${k}/${h}`:`${h}/${k}/${w}`,(P||O)&&(z+="/"+Math.round(10*P)/10),O&&(z+=`/${Math.round(O)}`),this._hashName){let H=this._hashName,j=!1,W=window.location.hash.slice(1).split("&").map(ie=>{let he=ie.split("=")[0];return he===H?(j=!0,`${he}=${z}`):ie}).filter(ie=>ie);return j||W.push(`${H}=${z}`),`#${W.join("&")}`}return`#${z}`}_isValidHash(r){if(r.length<3||r.some(isNaN))return!1;try{new a.V(+r[2],+r[1])}catch{return!1}let u=+r[0],h=+(r[3]||0),f=+(r[4]||0);return u>=this._map.getMinZoom()&&u<=this._map.getMaxZoom()&&h>=-180&&h<=180&&f>=this._map.getMinPitch()&&f<=this._map.getMaxPitch()}}let hs={linearity:.3,easing:a.cw(0,0,.3,1)},y0=a.e({deceleration:2500,maxSpeed:1400},hs),Qo=a.e({deceleration:20,maxSpeed:1400},hs),hr=a.e({deceleration:1e3,maxSpeed:360},hs),v0=a.e({deceleration:1e3,maxSpeed:90},hs),mr=a.e({deceleration:1e3,maxSpeed:360},hs);class L_{constructor(r){this._map=r,this.clear()}clear(){this._inertiaBuffer=[]}record(r){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:re(),settings:r})}_drainInertiaBuffer(){let r=this._inertiaBuffer,u=re();for(;r.length>0&&u-r[0].time>160;)r.shift()}_onMoveEnd(r){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;let u={zoom:0,bearing:0,pitch:0,roll:0,pan:new a.P(0,0),pinchAround:void 0,around:void 0};for(let{settings:v}of this._inertiaBuffer)u.zoom+=v.zoomDelta||0,u.bearing+=v.bearingDelta||0,u.pitch+=v.pitchDelta||0,u.roll+=v.rollDelta||0,v.panDelta&&u.pan._add(v.panDelta),v.around&&(u.around=v.around),v.pinchAround&&(u.pinchAround=v.pinchAround);let h=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,f={};if(u.pan.mag()){let v=nu(u.pan.mag(),h,a.e({},y0,r||{})),w=u.pan.mult(v.amount/u.pan.mag()),k=this._map.cameraHelper.handlePanInertia(w,this._map.transform);f.center=k.easingCenter,f.offset=k.easingOffset,iu(f,v)}if(u.zoom){let v=nu(u.zoom,h,Qo);f.zoom=this._map.transform.zoom+v.amount,iu(f,v)}if(u.bearing){let v=nu(u.bearing,h,hr);f.bearing=this._map.transform.bearing+a.an(v.amount,-179,179),iu(f,v)}if(u.pitch){let v=nu(u.pitch,h,v0);f.pitch=this._map.transform.pitch+v.amount,iu(f,v)}if(u.roll){let v=nu(u.roll,h,mr);f.roll=this._map.transform.roll+a.an(v.amount,-179,179),iu(f,v)}if(f.zoom||f.bearing){let v=u.pinchAround===void 0?u.around:u.pinchAround;f.around=v?this._map.unproject(v):this._map.getCenter()}return this.clear(),a.e(f,{noMoveStart:!0})}}function iu(b,r){(!b.duration||b.duration<r.duration)&&(b.duration=r.duration,b.easing=r.easing)}function nu(b,r,u){let{maxSpeed:h,linearity:f,deceleration:v}=u,w=a.an(b*f/(r/1e3),-h,h),k=Math.abs(w)/(v*f);return{easing:u.easing,duration:1e3*k,amount:w*(k/2)}}class Da extends a.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,u,h,f={}){h=h instanceof MouseEvent?h:new MouseEvent(r,h);let v=te.mousePos(u.getCanvas(),h),w=u.unproject(v);super(r,a.e({point:v,lngLat:w,originalEvent:h},f)),this._defaultPrevented=!1,this.target=u}}class au extends a.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,u,h){let f=r==="touchend"?h.changedTouches:h.touches,v=te.touchPos(u.getCanvasContainer(),f),w=v.map(P=>u.unproject(P)),k=v.reduce((P,O,z,H)=>P.add(O.div(H.length)),new a.P(0,0));super(r,{points:v,point:k,lngLats:w,lngLat:u.unproject(k),originalEvent:h}),this._defaultPrevented=!1}}class x0 extends a.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,u,h){super(r,{originalEvent:h}),this._defaultPrevented=!1}}class A_{constructor(r,u){this._map=r,this._clickTolerance=u.clickTolerance}reset(){delete this._mousedownPos}wheel(r){return this._firePreventable(new x0(r.type,this._map,r))}mousedown(r,u){return this._mousedownPos=u,this._firePreventable(new Da(r.type,this._map,r))}mouseup(r){this._map.fire(new Da(r.type,this._map,r))}click(r,u){this._mousedownPos&&this._mousedownPos.dist(u)>=this._clickTolerance||this._map.fire(new Da(r.type,this._map,r))}dblclick(r){return this._firePreventable(new Da(r.type,this._map,r))}mouseover(r){this._map.fire(new Da(r.type,this._map,r))}mouseout(r){this._map.fire(new Da(r.type,this._map,r))}touchstart(r){return this._firePreventable(new au(r.type,this._map,r))}touchmove(r){this._map.fire(new au(r.type,this._map,r))}touchend(r){this._map.fire(new au(r.type,this._map,r))}touchcancel(r){this._map.fire(new au(r.type,this._map,r))}_firePreventable(r){if(this._map.fire(r),r.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class F_{constructor(r){this._map=r}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(r){this._map.fire(new Da(r.type,this._map,r))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Da("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(r){this._delayContextMenu?this._contextMenuEvent=r:this._ignoreContextMenu||this._map.fire(new Da(r.type,this._map,r)),this._map.listens("contextmenu")&&r.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Nl{constructor(r){this._map=r}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(r){return this.transform.screenPointToLocation(a.P.convert(r),this._map.terrain)}}class ql{constructor(r,u){this._map=r,this._tr=new Nl(r),this._el=r.getCanvasContainer(),this._container=r.getContainer(),this._clickTolerance=u.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(r,u){this.isEnabled()&&r.shiftKey&&r.button===0&&(te.disableDrag(),this._startPos=this._lastPos=u,this._active=!0)}mousemoveWindow(r,u){if(!this._active)return;let h=u;if(this._lastPos.equals(h)||!this._box&&h.dist(this._startPos)<this._clickTolerance)return;let f=this._startPos;this._lastPos=h,this._box||(this._box=te.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",r));let v=Math.min(f.x,h.x),w=Math.max(f.x,h.x),k=Math.min(f.y,h.y),P=Math.max(f.y,h.y);te.setTransform(this._box,`translate(${v}px,${k}px)`),this._box.style.width=w-v+"px",this._box.style.height=P-k+"px"}mouseupWindow(r,u){if(!this._active||r.button!==0)return;let h=this._startPos,f=u;if(this.reset(),te.suppressClick(),h.x!==f.x||h.y!==f.y)return this._map.fire(new a.l("boxzoomend",{originalEvent:r})),{cameraAnimation:v=>v.fitScreenCoordinates(h,f,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",r)}keydown(r){this._active&&r.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",r))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(te.remove(this._box),this._box=null),te.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(r,u){return this._map.fire(new a.l(r,{originalEvent:u}))}}function fr(b,r){if(b.length!==r.length)throw new Error(`The number of touches and points are not equal - touches ${b.length}, points ${r.length}`);let u={};for(let h=0;h<b.length;h++)u[b[h].identifier]=r[h];return u}class Nt{constructor(r){this.reset(),this.numTouches=r.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(r,u,h){(this.centroid||h.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=r.timeStamp),h.length===this.numTouches&&(this.centroid=function(f){let v=new a.P(0,0);for(let w of f)v._add(w);return v.div(f.length)}(u),this.touches=fr(h,u)))}touchmove(r,u,h){if(this.aborted||!this.centroid)return;let f=fr(h,u);for(let v in this.touches){let w=f[v];(!w||w.dist(this.touches[v])>30)&&(this.aborted=!0)}}touchend(r,u,h){if((!this.centroid||r.timeStamp-this.startTime>500)&&(this.aborted=!0),h.length===0){let f=!this.aborted&&this.centroid;if(this.reset(),f)return f}}}class bd{constructor(r){this.singleTap=new Nt(r),this.numTaps=r.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(r,u,h){this.singleTap.touchstart(r,u,h)}touchmove(r,u,h){this.singleTap.touchmove(r,u,h)}touchend(r,u,h){let f=this.singleTap.touchend(r,u,h);if(f){let v=r.timeStamp-this.lastTime<500,w=!this.lastTap||this.lastTap.dist(f)<30;if(v&&w||this.reset(),this.count++,this.lastTime=r.timeStamp,this.lastTap=f,this.count===this.numTaps)return this.reset(),f}}}class fh{constructor(r){this._tr=new Nl(r),this._zoomIn=new bd({numTouches:1,numTaps:2}),this._zoomOut=new bd({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(r,u,h){this._zoomIn.touchstart(r,u,h),this._zoomOut.touchstart(r,u,h)}touchmove(r,u,h){this._zoomIn.touchmove(r,u,h),this._zoomOut.touchmove(r,u,h)}touchend(r,u,h){let f=this._zoomIn.touchend(r,u,h),v=this._zoomOut.touchend(r,u,h),w=this._tr;return f?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:k=>k.easeTo({duration:300,zoom:w.zoom+1,around:w.unproject(f)},{originalEvent:r})}):v?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:k=>k.easeTo({duration:300,zoom:w.zoom-1,around:w.unproject(v)},{originalEvent:r})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class jl{constructor(r){this._enabled=!!r.enable,this._moveStateManager=r.moveStateManager,this._clickTolerance=r.clickTolerance||1,this._moveFunction=r.move,this._activateOnStart=!!r.activateOnStart,r.assignEvents(this),this.reset()}reset(r){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(r)}_move(...r){let u=this._moveFunction(...r);if(u.bearingDelta||u.pitchDelta||u.rollDelta||u.around||u.panDelta)return this._active=!0,u}dragStart(r,u){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(r)&&(this._moveStateManager.startMove(r),this._lastPoint=Array.isArray(u)?u[0]:u,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(r,u){if(!this.isEnabled())return;let h=this._lastPoint;if(!h)return;if(r.preventDefault(),!this._moveStateManager.isValidMoveEvent(r))return void this.reset(r);let f=Array.isArray(u)?u[0]:u;return!this._moved&&f.dist(h)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=f,this._move(h,f))}dragEnd(r){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(r)&&(this._moved&&te.suppressClick(),this.reset(r))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}let ou=0,ru=2,gh={[ou]:1,[ru]:2};class su{constructor(r){this._correctEvent=r.checkCorrectEvent}startMove(r){let u=te.mouseButton(r);this._eventButton=u}endMove(r){delete this._eventButton}isValidStartEvent(r){return this._correctEvent(r)}isValidMoveEvent(r){return!function(u,h){let f=gh[h];return u.buttons===void 0||(u.buttons&f)!==f}(r,this._eventButton)}isValidEndEvent(r){return te.mouseButton(r)===this._eventButton}}class _h{constructor(){this._firstTouch=void 0}_isOneFingerTouch(r){return r.targetTouches.length===1}_isSameTouchEvent(r){return r.targetTouches[0].identifier===this._firstTouch}startMove(r){this._firstTouch=r.targetTouches[0].identifier}endMove(r){delete this._firstTouch}isValidStartEvent(r){return this._isOneFingerTouch(r)}isValidMoveEvent(r){return this._isOneFingerTouch(r)&&this._isSameTouchEvent(r)}isValidEndEvent(r){return this._isOneFingerTouch(r)&&this._isSameTouchEvent(r)}}class w0{constructor(r=new su({checkCorrectEvent:()=>!0}),u=new _h){this.mouseMoveStateManager=r,this.oneFingerTouchMoveStateManager=u}_executeRelevantHandler(r,u,h){return r instanceof MouseEvent?u(r):typeof TouchEvent<"u"&&r instanceof TouchEvent?h(r):void 0}startMove(r){this._executeRelevantHandler(r,u=>this.mouseMoveStateManager.startMove(u),u=>this.oneFingerTouchMoveStateManager.startMove(u))}endMove(r){this._executeRelevantHandler(r,u=>this.mouseMoveStateManager.endMove(u),u=>this.oneFingerTouchMoveStateManager.endMove(u))}isValidStartEvent(r){return this._executeRelevantHandler(r,u=>this.mouseMoveStateManager.isValidStartEvent(u),u=>this.oneFingerTouchMoveStateManager.isValidStartEvent(u))}isValidMoveEvent(r){return this._executeRelevantHandler(r,u=>this.mouseMoveStateManager.isValidMoveEvent(u),u=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(u))}isValidEndEvent(r){return this._executeRelevantHandler(r,u=>this.mouseMoveStateManager.isValidEndEvent(u),u=>this.oneFingerTouchMoveStateManager.isValidEndEvent(u))}}let Hl=b=>{b.mousedown=b.dragStart,b.mousemoveWindow=b.dragMove,b.mouseup=b.dragEnd,b.contextmenu=r=>{r.preventDefault()}};class O_{constructor(r,u){this._clickTolerance=r.clickTolerance||1,this._map=u,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.P(0,0)}_shouldBePrevented(r){return r<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(r,u,h){return this._calculateTransform(r,u,h)}touchmove(r,u,h){if(this._active){if(!this._shouldBePrevented(h.length))return r.preventDefault(),this._calculateTransform(r,u,h);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",r)}}touchend(r,u,h){this._calculateTransform(r,u,h),this._active&&this._shouldBePrevented(h.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(r,u,h){h.length>0&&(this._active=!0);let f=fr(h,u),v=new a.P(0,0),w=new a.P(0,0),k=0;for(let O in f){let z=f[O],H=this._touches[O];H&&(v._add(z),w._add(z.sub(H)),k++,f[O]=z)}if(this._touches=f,this._shouldBePrevented(k)||!w.mag())return;let P=w.div(k);return this._sum._add(P),this._sum.mag()<this._clickTolerance?void 0:{around:v.div(k),panDelta:P}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class yd{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(r,u,h){this._firstTwoTouches||h.length<2||(this._firstTwoTouches=[h[0].identifier,h[1].identifier],this._start([u[0],u[1]]))}touchmove(r,u,h){if(!this._firstTwoTouches)return;r.preventDefault();let[f,v]=this._firstTwoTouches,w=vd(h,u,f),k=vd(h,u,v);if(!w||!k)return;let P=this._aroundCenter?null:w.add(k).div(2);return this._move([w,k],P,r)}touchend(r,u,h){if(!this._firstTwoTouches)return;let[f,v]=this._firstTwoTouches,w=vd(h,u,f),k=vd(h,u,v);w&&k||(this._active&&te.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(r){this._enabled=!0,this._aroundCenter=!!r&&r.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function vd(b,r,u){for(let h=0;h<b.length;h++)if(b[h].identifier===u)return r[h]}function I0(b,r){return Math.log(b/r)/Math.LN2}class bh extends yd{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(r){this._startDistance=this._distance=r[0].dist(r[1])}_move(r,u){let h=this._distance;if(this._distance=r[0].dist(r[1]),this._active||!(Math.abs(I0(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:I0(this._distance,h),pinchAround:u}}}function T0(b,r){return 180*b.angleWith(r)/Math.PI}class yh extends yd{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(r){this._startVector=this._vector=r[0].sub(r[1]),this._minDiameter=r[0].dist(r[1])}_move(r,u,h){let f=this._vector;if(this._vector=r[0].sub(r[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:T0(this._vector,f),pinchAround:u}}_isBelowThreshold(r){this._minDiameter=Math.min(this._minDiameter,r.mag());let u=25/(Math.PI*this._minDiameter)*360,h=T0(r,this._startVector);return Math.abs(h)<u}}function vh(b){return Math.abs(b.y)>Math.abs(b.x)}class C0 extends yd{constructor(r){super(),this._currentTouchCount=0,this._map=r}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(r,u,h){super.touchstart(r,u,h),this._currentTouchCount=h.length}_start(r){this._lastPoints=r,vh(r[0].sub(r[1]))&&(this._valid=!1)}_move(r,u,h){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;let f=r[0].sub(this._lastPoints[0]),v=r[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(f,v,h.timeStamp),this._valid?(this._lastPoints=r,this._active=!0,{pitchDelta:(f.y+v.y)/2*-.5}):void 0}gestureBeginsVertically(r,u,h){if(this._valid!==void 0)return this._valid;let f=r.mag()>=2,v=u.mag()>=2;if(!f&&!v)return;if(!f||!v)return this._firstMove===void 0&&(this._firstMove=h),h-this._firstMove<100&&void 0;let w=r.y>0==u.y>0;return vh(r)&&vh(u)&&w}}let ms={panStep:100,bearingStep:15,pitchStep:10};class un{constructor(r){this._tr=new Nl(r);let u=ms;this._panStep=u.panStep,this._bearingStep=u.bearingStep,this._pitchStep=u.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(r){if(r.altKey||r.ctrlKey||r.metaKey)return;let u=0,h=0,f=0,v=0,w=0;switch(r.keyCode){case 61:case 107:case 171:case 187:u=1;break;case 189:case 109:case 173:u=-1;break;case 37:r.shiftKey?h=-1:(r.preventDefault(),v=-1);break;case 39:r.shiftKey?h=1:(r.preventDefault(),v=1);break;case 38:r.shiftKey?f=1:(r.preventDefault(),w=-1);break;case 40:r.shiftKey?f=-1:(r.preventDefault(),w=1);break;default:return}return this._rotationDisabled&&(h=0,f=0),{cameraAnimation:k=>{let P=this._tr;k.easeTo({duration:300,easeId:"keyboardHandler",easing:V_,zoom:u?Math.round(P.zoom)+u*(r.shiftKey?2:1):P.zoom,bearing:P.bearing+h*this._bearingStep,pitch:P.pitch+f*this._pitchStep,offset:[-v*this._panStep,-w*this._panStep],center:P.center},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function V_(b){return b*(2-b)}let lu=4.000244140625,xd=1/450;class wd{constructor(r,u){this._onTimeout=h=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(h)},this._map=r,this._tr=new Nl(r),this._triggerRenderFrame=u,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=xd}setZoomRate(r){this._defaultZoomRate=r}setWheelZoomRate(r){this._wheelZoomRate=r}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(r){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!r&&r.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(r){return!!this._map.cooperativeGestures.isEnabled()&&!(r.ctrlKey||this._map.cooperativeGestures.isBypassed(r))}wheel(r){if(!this.isEnabled())return;if(this._shouldBePrevented(r))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",r);let u=r.deltaMode===WheelEvent.DOM_DELTA_LINE?40*r.deltaY:r.deltaY,h=re(),f=h-(this._lastWheelEventTime||0);this._lastWheelEventTime=h,u!==0&&u%lu==0?this._type="wheel":u!==0&&Math.abs(u)<4?this._type="trackpad":f>400?(this._type=null,this._lastValue=u,this._timeout=setTimeout(this._onTimeout,40,r)):this._type||(this._type=Math.abs(f*u)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,u+=this._lastValue)),r.shiftKey&&u&&(u/=4),this._type&&(this._lastWheelEvent=r,this._delta-=u,this._active||this._start(r)),r.preventDefault()}_start(r){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);let u=te.mousePos(this._map.getCanvas(),r),h=this._tr;this._aroundPoint=this._aroundCenter?h.transform.locationToScreenPoint(a.V.convert(h.center)):u,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;let r=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){let k=r.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=k),typeof this._targetZoom=="number"&&(this._targetZoom+=k)}if(this._delta!==0){let k=this._type==="wheel"&&Math.abs(this._delta)>lu?this._wheelZoomRate:this._defaultZoomRate,P=2/(1+Math.exp(-Math.abs(this._delta*k)));this._delta<0&&P!==0&&(P=1/P);let O=typeof this._targetZoom!="number"?r.scale:a.aq(this._targetZoom);this._targetZoom=r.applyConstrain(r.getCameraLngLat(),a.at(O*P)).zoom,this._type==="wheel"&&(this._startZoom=r.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}let u=typeof this._targetZoom!="number"?r.zoom:this._targetZoom,h=this._startZoom,f=this._easing,v,w=!1;if(this._type==="wheel"&&h&&f){let k=re()-this._lastWheelEventTime,P=Math.min((k+5)/200,1),O=f(P);v=a.G.number(h,u,O),P<1?this._frameId||(this._frameId=!0):w=!0}else v=u,w=!0;return this._active=!0,w&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=v,{noInertia:!0,needsRenderFrame:!w,zoomDelta:v-r.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(r){let u=a.cy;if(this._prevEase){let h=this._prevEase,f=(re()-h.start)/h.duration,v=h.easing(f+.01)-h.easing(f),w=.27/Math.sqrt(v*v+1e-4)*.01,k=Math.sqrt(.0729-w*w);u=a.cw(w,k,.25,1)}return this._prevEase={start:re(),duration:r,easing:u},u}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class xh{constructor(r,u){this._clickZoom=r,this._tapZoom=u}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class S0{constructor(r){this._tr=new Nl(r),this.reset()}reset(){this._active=!1}dblclick(r,u){return r.preventDefault(),{cameraAnimation:h=>{h.easeTo({duration:300,zoom:this._tr.zoom+(r.shiftKey?-1:1),around:this._tr.unproject(u)},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class M0{constructor(){this._tap=new bd({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(r,u,h){if(!this._swipePoint)if(this._tapTime){let f=u[0],v=r.timeStamp-this._tapTime<500,w=this._tapPoint.dist(f)<30;v&&w?h.length>0&&(this._swipePoint=f,this._swipeTouch=h[0].identifier):this.reset()}else this._tap.touchstart(r,u,h)}touchmove(r,u,h){if(this._tapTime){if(this._swipePoint){if(h[0].identifier!==this._swipeTouch)return;let f=u[0],v=f.y-this._swipePoint.y;return this._swipePoint=f,r.preventDefault(),this._active=!0,{zoomDelta:v/128}}}else this._tap.touchmove(r,u,h)}touchend(r,u,h){if(this._tapTime)this._swipePoint&&h.length===0&&this.reset();else{let f=this._tap.touchend(r,u,h);f&&(this._tapTime=r.timeStamp,this._tapPoint=f)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class k0{constructor(r,u,h){this._el=r,this._mousePan=u,this._touchPan=h}enable(r){this._inertiaOptions=r||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class gr{constructor(r,u,h,f){this._pitchWithRotate=r.pitchWithRotate,this._rollEnabled=r.rollEnabled,this._mouseRotate=u,this._mousePitch=h,this._mouseRoll=f}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class cu{constructor(r,u,h,f){this._el=r,this._touchZoom=u,this._touchRotate=h,this._tapDragZoom=f,this._rotationDisabled=!1,this._enabled=!0}enable(r){this._touchZoom.enable(r),this._rotationDisabled||this._touchRotate.enable(r),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Zt{constructor(r,u){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=r,this._options=u,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;let r=this._map.getCanvasContainer();r.classList.add("maplibregl-cooperative-gestures"),this._container=te.create("div","maplibregl-cooperative-gesture-screen",r);let u=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(u=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));let h=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),f=document.createElement("div");f.className="maplibregl-desktop-message",f.textContent=u,this._container.appendChild(f);let v=document.createElement("div");v.className="maplibregl-mobile-message",v.textContent=h,this._container.appendChild(v),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(te.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(r){return r[this._bypassKey]}notifyGestureBlocked(r,u){this._enabled&&(this._map.fire(new a.l("cooperativegestureprevented",{gestureType:r,originalEvent:u})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}let ii=b=>b.zoom||b.drag||b.roll||b.pitch||b.rotate;class uu extends a.l{}function Id(b){return b.panDelta&&b.panDelta.mag()||b.zoomDelta||b.bearingDelta||b.pitchDelta||b.rollDelta}class Td{constructor(r,u){this.handleWindowEvent=f=>{this.handleEvent(f,`${f.type}Window`)},this.handleEvent=(f,v)=>{if(f.type==="blur")return void this.stop(!0);this._updatingCamera=!0;let w=f.type==="renderFrame"?void 0:f,k={needsRenderFrame:!1},P={},O={};for(let{handlerName:j,handler:W,allowed:ie}of this._handlers){if(!W.isEnabled())continue;let he;if(this._blockedByActive(O,ie,j))W.reset();else if(W[v||f.type]){if(a.cz(f,v||f.type)){let fe=te.mousePos(this._map.getCanvas(),f);he=W[v||f.type](f,fe)}else if(a.cA(f,v||f.type)){let fe=this._getMapTouches(f.touches),me=te.touchPos(this._map.getCanvas(),fe);he=W[v||f.type](f,me,fe)}else a.cB(v||f.type)||(he=W[v||f.type](f));this.mergeHandlerResult(k,P,he,j,w),he&&he.needsRenderFrame&&this._triggerRenderFrame()}(he||W.isActive())&&(O[j]=W)}let z={};for(let j in this._previousActiveHandlers)O[j]||(z[j]=w);this._previousActiveHandlers=O,(Object.keys(z).length||Id(k))&&(this._changes.push([k,P,z]),this._triggerRenderFrame()),(Object.keys(O).length||Id(k))&&this._map._stop(!0),this._updatingCamera=!1;let{cameraAnimation:H}=k;H&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],H(this._map))},this._map=r,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new L_(r),this._bearingSnap=u.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(u);let h=this._el;this._listeners=[[h,"touchstart",{passive:!0}],[h,"touchmove",{passive:!1}],[h,"touchend",void 0],[h,"touchcancel",void 0],[h,"mousedown",void 0],[h,"mousemove",void 0],[h,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[h,"mouseover",void 0],[h,"mouseout",void 0],[h,"dblclick",void 0],[h,"click",void 0],[h,"keydown",{capture:!1}],[h,"keyup",void 0],[h,"wheel",{passive:!1}],[h,"contextmenu",void 0],[window,"blur",void 0]];for(let[f,v,w]of this._listeners)te.addEventListener(f,v,f===document?this.handleWindowEvent:this.handleEvent,w)}destroy(){for(let[r,u,h]of this._listeners)te.removeEventListener(r,u,r===document?this.handleWindowEvent:this.handleEvent,h)}_addDefaultHandlers(r){let u=this._map,h=u.getCanvasContainer();this._add("mapEvent",new A_(u,r));let f=u.boxZoom=new ql(u,r);this._add("boxZoom",f),r.interactive&&r.boxZoom&&f.enable();let v=u.cooperativeGestures=new Zt(u,r.cooperativeGestures);this._add("cooperativeGestures",v),r.cooperativeGestures&&v.enable();let w=new fh(u),k=new S0(u);u.doubleClickZoom=new xh(k,w),this._add("tapZoom",w),this._add("clickZoom",k),r.interactive&&r.doubleClickZoom&&u.doubleClickZoom.enable();let P=new M0;this._add("tapDragZoom",P);let O=u.touchPitch=new C0(u);this._add("touchPitch",O),r.interactive&&r.touchPitch&&u.touchPitch.enable(r.touchPitch);let z=()=>u.project(u.getCenter()),H=function({enable:_e,clickTolerance:Ce,aroundCenter:Pe=!0,minPixelCenterThreshold:xe=100,rotateDegreesPerPixelMoved:Ae=.8},Ze){let qe=new su({checkCorrectEvent:Ge=>te.mouseButton(Ge)===0&&Ge.ctrlKey||te.mouseButton(Ge)===2&&!Ge.ctrlKey});return new jl({clickTolerance:Ce,move:(Ge,Ue)=>{let xt=Ze();if(Pe&&Math.abs(xt.y-Ge.y)>xe)return{bearingDelta:a.cx(new a.P(Ge.x,Ue.y),Ue,xt)};let It=(Ue.x-Ge.x)*Ae;return Pe&&Ue.y<xt.y&&(It=-It),{bearingDelta:It}},moveStateManager:qe,enable:_e,assignEvents:Hl})}(r,z),j=function({enable:_e,clickTolerance:Ce,pitchDegreesPerPixelMoved:Pe=-.5}){let xe=new su({checkCorrectEvent:Ae=>te.mouseButton(Ae)===0&&Ae.ctrlKey||te.mouseButton(Ae)===2});return new jl({clickTolerance:Ce,move:(Ae,Ze)=>({pitchDelta:(Ze.y-Ae.y)*Pe}),moveStateManager:xe,enable:_e,assignEvents:Hl})}(r),W=function({enable:_e,clickTolerance:Ce,rollDegreesPerPixelMoved:Pe=.3},xe){let Ae=new su({checkCorrectEvent:Ze=>te.mouseButton(Ze)===2&&Ze.ctrlKey});return new jl({clickTolerance:Ce,move:(Ze,qe)=>{let Ge=xe(),Ue=(qe.x-Ze.x)*Pe;return qe.y<Ge.y&&(Ue=-Ue),{rollDelta:Ue}},moveStateManager:Ae,enable:_e,assignEvents:Hl})}(r,z);u.dragRotate=new gr(r,H,j,W),this._add("mouseRotate",H,["mousePitch"]),this._add("mousePitch",j,["mouseRotate","mouseRoll"]),this._add("mouseRoll",W,["mousePitch"]),r.interactive&&r.dragRotate&&u.dragRotate.enable();let ie=function({enable:_e,clickTolerance:Ce}){let Pe=new su({checkCorrectEvent:xe=>te.mouseButton(xe)===0&&!xe.ctrlKey});return new jl({clickTolerance:Ce,move:(xe,Ae)=>({around:Ae,panDelta:Ae.sub(xe)}),activateOnStart:!0,moveStateManager:Pe,enable:_e,assignEvents:Hl})}(r),he=new O_(r,u);u.dragPan=new k0(h,ie,he),this._add("mousePan",ie),this._add("touchPan",he,["touchZoom","touchRotate"]),r.interactive&&r.dragPan&&u.dragPan.enable(r.dragPan);let fe=new yh,me=new bh;u.touchZoomRotate=new cu(h,me,fe,P),this._add("touchRotate",fe,["touchPan","touchZoom"]),this._add("touchZoom",me,["touchPan","touchRotate"]),r.interactive&&r.touchZoomRotate&&u.touchZoomRotate.enable(r.touchZoomRotate),this._add("blockableMapEvent",new F_(u));let be=u.scrollZoom=new wd(u,()=>this._triggerRenderFrame());this._add("scrollZoom",be,["mousePan"]),r.interactive&&r.scrollZoom&&u.scrollZoom.enable(r.scrollZoom);let Se=u.keyboard=new un(u);this._add("keyboard",Se),r.interactive&&r.keyboard&&u.keyboard.enable()}_add(r,u,h){this._handlers.push({handlerName:r,handler:u,allowed:h}),this._handlersById[r]=u}stop(r){if(!this._updatingCamera){for(let{handler:u}of this._handlers)u.reset();this._inertia.clear(),this._fireEvents({},{},r),this._changes=[]}}isActive(){for(let{handler:r}of this._handlers)if(r.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!ii(this._eventsInProgress)||this.isZooming()}_blockedByActive(r,u,h){for(let f in r)if(f!==h&&(!u||u.indexOf(f)<0))return!0;return!1}_getMapTouches(r){let u=[];for(let h of r)this._el.contains(h.target)&&u.push(h);return u}mergeHandlerResult(r,u,h,f,v){if(!h)return;a.e(r,h);let w={handlerName:f,originalEvent:h.originalEvent||v};h.zoomDelta!==void 0&&(u.zoom=w),h.panDelta!==void 0&&(u.drag=w),h.rollDelta!==void 0&&(u.roll=w),h.pitchDelta!==void 0&&(u.pitch=w),h.bearingDelta!==void 0&&(u.rotate=w)}_applyChanges(){let r={},u={},h={};for(let[f,v,w]of this._changes)f.panDelta&&(r.panDelta=(r.panDelta||new a.P(0,0))._add(f.panDelta)),f.zoomDelta&&(r.zoomDelta=(r.zoomDelta||0)+f.zoomDelta),f.bearingDelta&&(r.bearingDelta=(r.bearingDelta||0)+f.bearingDelta),f.pitchDelta&&(r.pitchDelta=(r.pitchDelta||0)+f.pitchDelta),f.rollDelta&&(r.rollDelta=(r.rollDelta||0)+f.rollDelta),f.around!==void 0&&(r.around=f.around),f.pinchAround!==void 0&&(r.pinchAround=f.pinchAround),f.noInertia&&(r.noInertia=f.noInertia),a.e(u,v),a.e(h,w);this._updateMapTransform(r,u,h),this._changes=[]}_updateMapTransform(r,u,h){let f=this._map,v=f._getTransformForUpdate(),w=f.terrain;if(!(Id(r)||w&&this._terrainMovement))return this._fireEvents(u,h,!0);f._stop(!0);let{panDelta:k,zoomDelta:P,bearingDelta:O,pitchDelta:z,rollDelta:H,around:j,pinchAround:W}=r;W!==void 0&&(j=W),j=j||f.transform.centerPoint,w&&!v.isPointOnMapSurface(j)&&(j=v.centerPoint);let ie={panDelta:k,zoomDelta:P,rollDelta:H,pitchDelta:z,bearingDelta:O,around:j};this._map.cameraHelper.useGlobeControls&&!v.isPointOnMapSurface(j)&&(j=v.centerPoint);let he=j.distSqr(v.centerPoint)<.01?v.center:v.screenPointToLocation(k?j.sub(k):j);this._handleMapControls({terrain:w,tr:v,deltasForHelper:ie,preZoomAroundLoc:he,combinedEventsInProgress:u,panDelta:k}),f._applyUpdatedTransform(v),this._map._update(),r.noInertia||this._inertia.record(r),this._fireEvents(u,h,!0)}_handleMapControls({terrain:r,tr:u,deltasForHelper:h,preZoomAroundLoc:f,combinedEventsInProgress:v,panDelta:w}){let k=this._map.cameraHelper;if(k.handleMapControlsRollPitchBearingZoom(h,u),r)return k.useGlobeControls?(this._terrainMovement||!v.drag&&!v.zoom||(this._terrainMovement=!0,this._map._elevationFreeze=!0),void k.handleMapControlsPan(h,u,f)):this._terrainMovement||!v.drag&&!v.zoom?void(v.drag&&this._terrainMovement&&w?u.setCenter(u.screenPointToLocation(u.centerPoint.sub(w))):k.handleMapControlsPan(h,u,f)):(this._terrainMovement=!0,this._map._elevationFreeze=!0,void k.handleMapControlsPan(h,u,f));k.handleMapControlsPan(h,u,f)}_fireEvents(r,u,h){let f=ii(this._eventsInProgress),v=ii(r),w={};for(let H in r){let{originalEvent:j}=r[H];this._eventsInProgress[H]||(w[`${H}start`]=j),this._eventsInProgress[H]=r[H]}!f&&v&&this._fireEvent("movestart",v.originalEvent);for(let H in w)this._fireEvent(H,w[H]);v&&this._fireEvent("move",v.originalEvent);for(let H in r){let{originalEvent:j}=r[H];this._fireEvent(H,j)}let k={},P;for(let H in this._eventsInProgress){let{handlerName:j,originalEvent:W}=this._eventsInProgress[H];this._handlersById[j].isActive()||(delete this._eventsInProgress[H],P=u[j]||W,k[`${H}end`]=P)}for(let H in k)this._fireEvent(H,k[H]);let O=ii(this._eventsInProgress),z=(f||v)&&!O;if(z&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;let H=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&H.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(H)}if(h&&z){this._updatingCamera=!0;let H=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),j=W=>W!==0&&-this._bearingSnap<W&&W<this._bearingSnap;!H||!H.essential&&$.prefersReducedMotion?(this._map.fire(new a.l("moveend",{originalEvent:P})),j(this._map.getBearing())&&this._map.resetNorth()):(j(H.bearing||this._map.getBearing())&&(H.bearing=0),H.freezeElevation=!0,this._map.easeTo(H,{originalEvent:P})),this._updatingCamera=!1}}_fireEvent(r,u){this._map.fire(new a.l(r,u?{originalEvent:u}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(r=>{delete this._frameId,this.handleEvent(new uu("renderFrame",{timeStamp:r})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class ho extends a.E{constructor(r,u,h){super(),this._renderFrameCallback=()=>{let f=Math.min((re()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(f)),f<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=h.bearingSnap,this.cameraHelper=u,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(r,u){r.apply(this.transform),this.transform=r,this.cameraHelper=u}getCenter(){return new a.V(this.transform.center.lng,this.transform.center.lat)}setCenter(r,u){return this.jumpTo({center:r},u)}getCenterElevation(){return this.transform.elevation}setCenterElevation(r,u){return this.jumpTo({elevation:r},u),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(r){this._centerClampedToGround=r}panBy(r,u,h){return r=a.P.convert(r).mult(-1),this.panTo(this.transform.center,a.e({offset:r},u),h)}panTo(r,u,h){return this.easeTo(a.e({center:r},u),h)}getZoom(){return this.transform.zoom}setZoom(r,u){return this.jumpTo({zoom:r},u),this}zoomTo(r,u,h){return this.easeTo(a.e({zoom:r},u),h)}zoomIn(r,u){return this.zoomTo(this.getZoom()+1,r,u),this}zoomOut(r,u){return this.zoomTo(this.getZoom()-1,r,u),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(r,u){return r!=this.transform.fov&&(this.transform.setFov(r),this.fire(new a.l("movestart",u)).fire(new a.l("move",u)).fire(new a.l("moveend",u))),this}getBearing(){return this.transform.bearing}setBearing(r,u){return this.jumpTo({bearing:r},u),this}getPadding(){return this.transform.padding}setPadding(r,u){return this.jumpTo({padding:r},u),this}rotateTo(r,u,h){return this.easeTo(a.e({bearing:r},u),h)}resetNorth(r,u){return this.rotateTo(0,a.e({duration:1e3},r),u),this}resetNorthPitch(r,u){return this.easeTo(a.e({bearing:0,pitch:0,roll:0,duration:1e3},r),u),this}snapToNorth(r,u){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(r,u):this}getPitch(){return this.transform.pitch}setPitch(r,u){return this.jumpTo({pitch:r},u),this}getRoll(){return this.transform.roll}setRoll(r,u){return this.jumpTo({roll:r},u),this}cameraForBounds(r,u){r=Hn.convert(r).adjustAntiMeridian();let h=u&&u.bearing||0;return this._cameraForBoxAndBearing(r.getNorthWest(),r.getSouthEast(),h,u)}_cameraForBoxAndBearing(r,u,h,f){let v={top:0,bottom:0,right:0,left:0};if(typeof(f=a.e({padding:v,offset:[0,0],maxZoom:this.transform.maxZoom},f)).padding=="number"){let O=f.padding;f.padding={top:O,bottom:O,right:O,left:O}}let w=a.e(v,f.padding);f.padding=w;let k=this.transform,P=new Hn(r,u);return this.cameraHelper.cameraForBoxAndBearing(f,w,P,h,k)}fitBounds(r,u,h){return this._fitInternal(this.cameraForBounds(r,u),u,h)}fitScreenCoordinates(r,u,h,f,v){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(a.P.convert(r)),this.transform.screenPointToLocation(a.P.convert(u)),h,f),f,v)}_fitInternal(r,u,h){return r?(delete(u=a.e(r,u)).padding,u.linear?this.easeTo(u,h):this.flyTo(u,h)):this}jumpTo(r,u){this.stop();let h=this._getTransformForUpdate(),f=!1,v=!1,w=!1,k=h.zoom;this.cameraHelper.handleJumpToCenterZoom(h,r);let P=h.zoom!==k;return"elevation"in r&&h.elevation!==+r.elevation&&h.setElevation(+r.elevation),"bearing"in r&&h.bearing!==+r.bearing&&(f=!0,h.setBearing(+r.bearing)),"pitch"in r&&h.pitch!==+r.pitch&&(v=!0,h.setPitch(+r.pitch)),"roll"in r&&h.roll!==+r.roll&&(w=!0,h.setRoll(+r.roll)),r.padding==null||h.isPaddingEqual(r.padding)||h.setPadding(r.padding),this._applyUpdatedTransform(h),this.fire(new a.l("movestart",u)).fire(new a.l("move",u)),P&&this.fire(new a.l("zoomstart",u)).fire(new a.l("zoom",u)).fire(new a.l("zoomend",u)),f&&this.fire(new a.l("rotatestart",u)).fire(new a.l("rotate",u)).fire(new a.l("rotateend",u)),v&&this.fire(new a.l("pitchstart",u)).fire(new a.l("pitch",u)).fire(new a.l("pitchend",u)),w&&this.fire(new a.l("rollstart",u)).fire(new a.l("roll",u)).fire(new a.l("rollend",u)),this.fire(new a.l("moveend",u))}calculateCameraOptionsFromTo(r,u,h,f=0){let v=a.a9.fromLngLat(r,u),w=a.a9.fromLngLat(h,f),k=w.x-v.x,P=w.y-v.y,O=w.z-v.z,z=Math.hypot(k,P,O);if(z===0)throw new Error("Can't calculate camera options with same From and To");let H=Math.hypot(k,P),j=a.at(this.transform.cameraToCenterDistance/z/this.transform.tileSize),W=180*Math.atan2(k,-P)/Math.PI,ie=180*Math.acos(H/z)/Math.PI;return ie=O<0?90-ie:90+ie,{center:w.toLngLat(),elevation:f,zoom:j,pitch:ie,bearing:W}}calculateCameraOptionsFromCameraLngLatAltRotation(r,u,h,f,v){let w=this.transform.calculateCenterFromCameraLngLatAlt(r,u,h,f);return{center:w.center,elevation:w.elevation,zoom:w.zoom,bearing:h,pitch:f,roll:v}}easeTo(r,u){this._stop(!1,r.easeId),((r=a.e({offset:[0,0],duration:500,easing:a.cy},r)).animate===!1||!r.essential&&$.prefersReducedMotion)&&(r.duration=0);let h=this._getTransformForUpdate(),f=this.getBearing(),v=h.pitch,w=h.roll,k="bearing"in r?this._normalizeBearing(r.bearing,f):f,P="pitch"in r?+r.pitch:v,O="roll"in r?this._normalizeBearing(r.roll,w):w,z="padding"in r?r.padding:h.padding,H=a.P.convert(r.offset),j,W;r.around&&(j=a.V.convert(r.around),W=h.locationToScreenPoint(j));let ie={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},he=this.cameraHelper.handleEaseTo(h,{bearing:k,pitch:P,roll:O,padding:z,around:j,aroundPoint:W,offsetAsPoint:H,offset:r.offset,zoom:r.zoom,center:r.center});return this._rotating=this._rotating||f!==k,this._pitching=this._pitching||P!==v,this._rolling=this._rolling||O!==w,this._padding=!h.isPaddingEqual(z),this._zooming=this._zooming||he.isZooming,this._easeId=r.easeId,this._prepareEase(u,r.noMoveStart,ie),this.terrain&&this._prepareElevation(he.elevationCenter),this._ease(fe=>{he.easeFunc(fe),this.terrain&&!r.freezeElevation&&this._updateElevation(fe),this._applyUpdatedTransform(h),this._fireMoveEvents(u)},fe=>{this.terrain&&r.freezeElevation&&this._finalizeElevation(),this._afterEase(u,fe)},r),this}_prepareEase(r,u,h={}){this._moving=!0,u||h.moving||this.fire(new a.l("movestart",r)),this._zooming&&!h.zooming&&this.fire(new a.l("zoomstart",r)),this._rotating&&!h.rotating&&this.fire(new a.l("rotatestart",r)),this._pitching&&!h.pitching&&this.fire(new a.l("pitchstart",r)),this._rolling&&!h.rolling&&this.fire(new a.l("rollstart",r))}_prepareElevation(r){this._elevationCenter=r,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(r,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(r){this._elevationStart!==void 0&&this._elevationCenter!==void 0||this._prepareElevation(this.transform.center),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));let u=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(r<1&&u!==this._elevationTarget){let h=this._elevationTarget-this._elevationStart;this._elevationStart+=r*(h-(u-(h*r+this._elevationStart))/(1-r)),this._elevationTarget=u}this.transform.setElevation(a.G.number(this._elevationStart,this._elevationTarget,r))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(r){if(!this.terrain&&r.elevation>=0&&r.pitch<=90)return{};let u=r.getCameraLngLat(),h=r.getCameraAltitude(),f=this.terrain?this.terrain.getElevationForLngLatZoom(u,r.zoom):0;if(h<f){let v=this.calculateCameraOptionsFromTo(u,f,r.center,r.elevation);return{pitch:v.pitch,zoom:v.zoom}}return{}}_applyUpdatedTransform(r){let u=[];if(u.push(f=>this._elevateCameraIfInsideTerrain(f)),this.transformCameraUpdate&&u.push(f=>this.transformCameraUpdate(f)),!u.length)return;let h=r.clone();for(let f of u){let v=h.clone(),{center:w,zoom:k,roll:P,pitch:O,bearing:z,elevation:H}=f(v);w&&v.setCenter(w),H!==void 0&&v.setElevation(H),k!==void 0&&v.setZoom(k),P!==void 0&&v.setRoll(P),O!==void 0&&v.setPitch(O),z!==void 0&&v.setBearing(z),h.apply(v)}this.transform.apply(h)}_fireMoveEvents(r){this.fire(new a.l("move",r)),this._zooming&&this.fire(new a.l("zoom",r)),this._rotating&&this.fire(new a.l("rotate",r)),this._pitching&&this.fire(new a.l("pitch",r)),this._rolling&&this.fire(new a.l("roll",r))}_afterEase(r,u){if(this._easeId&&u&&this._easeId===u)return;delete this._easeId;let h=this._zooming,f=this._rotating,v=this._pitching,w=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,h&&this.fire(new a.l("zoomend",r)),f&&this.fire(new a.l("rotateend",r)),v&&this.fire(new a.l("pitchend",r)),w&&this.fire(new a.l("rollend",r)),this.fire(new a.l("moveend",r))}flyTo(r,u){if(!r.essential&&$.prefersReducedMotion){let Ue=a.U(r,["center","zoom","bearing","pitch","roll","elevation","padding"]);return this.jumpTo(Ue,u)}this.stop(),r=a.e({offset:[0,0],speed:1.2,curve:1.42,easing:a.cy},r);let h=this._getTransformForUpdate(),f=h.bearing,v=h.pitch,w=h.roll,k=h.padding,P="bearing"in r?this._normalizeBearing(r.bearing,f):f,O="pitch"in r?+r.pitch:v,z="roll"in r?this._normalizeBearing(r.roll,w):w,H="padding"in r?r.padding:h.padding,j=a.P.convert(r.offset),W=h.centerPoint.add(j),ie=h.screenPointToLocation(W),he=this.cameraHelper.handleFlyTo(h,{bearing:P,pitch:O,roll:z,padding:H,locationAtOffset:ie,offsetAsPoint:j,center:r.center,minZoom:r.minZoom,zoom:r.zoom}),fe=r.curve,me=Math.max(h.width,h.height),be=me/he.scaleOfZoom,Se=he.pixelPathLength;typeof he.scaleOfMinZoom=="number"&&(fe=Math.sqrt(me/he.scaleOfMinZoom/Se*2));let _e=fe*fe;function Ce(Ue){let xt=(be*be-me*me+(Ue?-1:1)*_e*_e*Se*Se)/(2*(Ue?be:me)*_e*Se);return Math.log(Math.sqrt(xt*xt+1)-xt)}function Pe(Ue){return(Math.exp(Ue)-Math.exp(-Ue))/2}function xe(Ue){return(Math.exp(Ue)+Math.exp(-Ue))/2}let Ae=Ce(!1),Ze=function(Ue){return xe(Ae)/xe(Ae+fe*Ue)},qe=function(Ue){return me*((xe(Ae)*(Pe(xt=Ae+fe*Ue)/xe(xt))-Pe(Ae))/_e)/Se;var xt},Ge=(Ce(!0)-Ae)/fe;if(Math.abs(Se)<2e-6||!isFinite(Ge)){if(Math.abs(me-be)<1e-6)return this.easeTo(r,u);let Ue=be<me?-1:1;Ge=Math.abs(Math.log(be/me))/fe,qe=()=>0,Ze=xt=>Math.exp(Ue*fe*xt)}return r.duration="duration"in r?+r.duration:1e3*Ge/("screenSpeed"in r?+r.screenSpeed/fe:+r.speed),r.maxDuration&&r.duration>r.maxDuration&&(r.duration=0),this._zooming=!0,this._rotating=f!==P,this._pitching=O!==v,this._rolling=z!==w,this._padding=!h.isPaddingEqual(H),this._prepareEase(u,!1),this.terrain&&this._prepareElevation(he.targetCenter),this._ease(Ue=>{let xt=Ue*Ge,It=1/Ze(xt),pt=qe(xt);this._rotating&&h.setBearing(a.G.number(f,P,Ue)),this._pitching&&h.setPitch(a.G.number(v,O,Ue)),this._rolling&&h.setRoll(a.G.number(w,z,Ue)),this._padding&&(h.interpolatePadding(k,H,Ue),W=h.centerPoint.add(j)),he.easeFunc(Ue,It,pt,W),this.terrain&&!r.freezeElevation&&this._updateElevation(Ue),this._applyUpdatedTransform(h),this._fireMoveEvents(u)},()=>{this.terrain&&r.freezeElevation&&this._finalizeElevation(),this._afterEase(u)},r),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(r,u){var h;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){let f=this._onEaseEnd;delete this._onEaseEnd,f.call(this,u)}return r||(h=this.handlers)===null||h===void 0||h.stop(!1),this}_ease(r,u,h){h.animate===!1||h.duration===0?(r(1),u()):(this._easeStart=re(),this._easeOptions=h,this._onEaseFrame=r,this._onEaseEnd=u,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(r,u){r=a.W(r,-180,180);let h=Math.abs(r-u);return Math.abs(r-360-u)<h&&(r-=360),Math.abs(r+360-u)<h&&(r+=360),r}queryTerrainElevation(r){return this.terrain?this.terrain.getElevationForLngLat(a.V.convert(r),this.transform):null}}let Zo={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class wh{constructor(r=Zo){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=u=>{!u||u.sourceDataType!=="metadata"&&u.sourceDataType!=="visibility"&&u.dataType!=="style"&&u.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=r}getDefaultPosition(){return"bottom-right"}onAdd(r){return this._map=r,this._compact=this.options.compact,this._container=te.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=te.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=te.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){te.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(r,u){let h=this._map._getUIString(`AttributionControl.${u}`);r.title=h,r.setAttribute("aria-label",h)}_updateAttributions(){if(!this._map.style)return;let r=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?r=r.concat(this.options.customAttribution.map(f=>typeof f!="string"?"":f)):typeof this.options.customAttribution=="string"&&r.push(this.options.customAttribution)),this._map.style.stylesheet){let f=this._map.style.stylesheet;this.styleOwner=f.owner,this.styleId=f.id}let u=this._map.style.tileManagers;for(let f in u){let v=u[f];if(v.used||v.usedForTerrain){let w=v.getSource();w.attribution&&r.indexOf(w.attribution)<0&&r.push(w.attribution)}}r=r.filter(f=>String(f).trim()),r.sort((f,v)=>f.length-v.length),r=r.filter((f,v)=>{for(let w=v+1;w<r.length;w++)if(r[w].indexOf(f)>=0)return!1;return!0});let h=r.join(" | ");h!==this._attribHTML&&(this._attribHTML=h,r.length?(this._innerContainer.innerHTML=te.sanitize(h),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class E0{constructor(r={}){this._updateCompact=()=>{let u=this._container.children;if(u.length){let h=u[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&h.classList.add("maplibregl-compact"):h.classList.remove("maplibregl-compact")}},this.options=r}getDefaultPosition(){return"bottom-left"}onAdd(r){this._map=r,this._compact=this.options&&this.options.compact,this._container=te.create("div","maplibregl-ctrl");let u=te.create("a","maplibregl-ctrl-logo");return u.target="_blank",u.rel="noopener nofollow",u.href="https://maplibre.org/",u.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),u.setAttribute("rel","noopener nofollow"),this._container.appendChild(u),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){te.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class z_{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(r){let u=++this._id;return this._queue.push({callback:r,id:u,cancelled:!1}),u}remove(r){let u=this._currentlyRunning,h=u?this._queue.concat(u):this._queue;for(let f of h)if(f.id===r)return void(f.cancelled=!0)}run(r=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");let u=this._currentlyRunning=this._queue;this._queue=[];for(let h of u)if(!h.cancelled&&(h.callback(r),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var B_=a.aU([{name:"a_pos3d",type:"Int16",components:3}]);class du extends a.E{constructor(r){super(),this._lastTilesetChange=re(),this.tileManager=r,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=r._source.tileSize*2**this.deltaZoom,r.usedForTerrain=!0,r.tileSize=this.tileSize}destruct(){this.tileManager.usedForTerrain=!1,this.tileManager.tileSize=null}getSource(){return this.tileManager._source}update(r,u){this.tileManager.update(r,u),this._renderableTilesKeys=[];let h={};for(let f of Gn(r,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:u,calculateTileZoom:this.tileManager._source.calculateTileZoom}))h[f.key]=!0,this._renderableTilesKeys.push(f.key),this._tiles[f.key]||(f.terrainRttPosMatrix32f=new Float64Array(16),a.c7(f.terrainRttPosMatrix32f,0,a.a5,a.a5,0,0,1),this._tiles[f.key]=new ft(f,this.tileSize),this._lastTilesetChange=re());for(let f in this._tiles)h[f]||delete this._tiles[f]}freeRtt(r){for(let u in this._tiles){let h=this._tiles[u];(!r||h.tileID.equals(r)||h.tileID.isChildOf(r)||r.isChildOf(h.tileID))&&(h.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(r=>this.getTileByID(r))}getTileByID(r){return this._tiles[r]}getTerrainCoords(r,u){return u?this._getTerrainCoordsForTileRanges(r,u):this._getTerrainCoordsForRegularTile(r)}_getTerrainCoordsForRegularTile(r){let u={};for(let h of this._renderableTilesKeys){let f=this._tiles[h].tileID,v=r.clone(),w=a.bk();if(f.canonical.equals(r.canonical))a.c7(w,0,a.a5,a.a5,0,0,1);else if(f.canonical.isChildOf(r.canonical)){let k=f.canonical.z-r.canonical.z,P=f.canonical.x-(f.canonical.x>>k<<k),O=f.canonical.y-(f.canonical.y>>k<<k),z=a.a5>>k;a.c7(w,0,z,z,0,0,1),a.O(w,w,[-P*z,-O*z,0])}else{if(!r.canonical.isChildOf(f.canonical))continue;{let k=r.canonical.z-f.canonical.z,P=r.canonical.x-(r.canonical.x>>k<<k),O=r.canonical.y-(r.canonical.y>>k<<k),z=a.a5>>k;a.c7(w,0,a.a5,a.a5,0,0,1),a.O(w,w,[P*z,O*z,0]),a.Q(w,w,[1/2**k,1/2**k,0])}}v.terrainRttPosMatrix32f=new Float32Array(w),u[h]=v}return u}_getTerrainCoordsForTileRanges(r,u){let h={};for(let f of this._renderableTilesKeys){let v=this._tiles[f].tileID;if(!this._isWithinTileRanges(v,u))continue;let w=r.clone(),k=a.bk();if(v.canonical.z===r.canonical.z){let P=r.canonical.x-v.canonical.x,O=r.canonical.y-v.canonical.y;a.c7(k,0,a.a5,a.a5,0,0,1),a.O(k,k,[P*a.a5,O*a.a5,0])}else if(v.canonical.z>r.canonical.z){let P=v.canonical.z-r.canonical.z,O=v.canonical.x-(v.canonical.x>>P<<P),z=v.canonical.y-(v.canonical.y>>P<<P),H=r.canonical.x-(v.canonical.x>>P),j=r.canonical.y-(v.canonical.y>>P),W=a.a5>>P;a.c7(k,0,W,W,0,0,1),a.O(k,k,[-O*W+H*a.a5,-z*W+j*a.a5,0])}else{let P=r.canonical.z-v.canonical.z,O=r.canonical.x-(r.canonical.x>>P<<P),z=r.canonical.y-(r.canonical.y>>P<<P),H=(r.canonical.x>>P)-v.canonical.x,j=(r.canonical.y>>P)-v.canonical.y,W=a.a5<<P;a.c7(k,0,W,W,0,0,1),a.O(k,k,[O*a.a5+H*W,z*a.a5+j*W,0])}w.terrainRttPosMatrix32f=new Float32Array(k),h[f]=w}return h}getSourceTile(r,u){let h=this.tileManager._source,f=r.overscaledZ-this.deltaZoom;if(f>h.maxzoom&&(f=h.maxzoom),f<h.minzoom)return;this._sourceTileCache[r.key]||(this._sourceTileCache[r.key]=r.scaledTo(f).key);let v=this.findTileInCaches(this._sourceTileCache[r.key]);if(!v?.dem&&u)for(;f>=h.minzoom&&!v?.dem;)v=this.findTileInCaches(r.scaledTo(f--).key);return v}findTileInCaches(r){let u=this.tileManager.getTileByID(r);return u||(u=this.tileManager._outOfViewCache.getByKey(r),u)}anyTilesAfterTime(r=Date.now()){return this._lastTilesetChange>=r}_isWithinTileRanges(r,u){return u[r.canonical.z]&&r.canonical.x>=u[r.canonical.z].minTileX&&r.canonical.x<=u[r.canonical.z].maxTileX&&r.canonical.y>=u[r.canonical.z].minTileY&&r.canonical.y<=u[r.canonical.z].maxTileY}}class Vn{constructor(r,u,h){this._meshCache={},this.painter=r,this.tileManager=new du(u),this.options=h,this.exaggeration=typeof h.exaggeration=="number"?h.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(r,u,h,f=a.a5){var v;if(!(u>=0&&u<f&&h>=0&&h<f))return 0;let w=this.getTerrainData(r),k=(v=w.tile)===null||v===void 0?void 0:v.dem;if(!k)return 0;let P=a.cC([],[u/f*a.a5,h/f*a.a5],w.u_terrain_matrix),O=[P[0]*k.dim,P[1]*k.dim],z=Math.floor(O[0]),H=Math.floor(O[1]),j=O[0]-z,W=O[1]-H;return k.get(z,H)*(1-j)*(1-W)+k.get(z+1,H)*j*(1-W)+k.get(z,H+1)*(1-j)*W+k.get(z+1,H+1)*j*W}getElevationForLngLatZoom(r,u){if(!a.cD(u,r.wrap()))return 0;let{tileID:h,mercatorX:f,mercatorY:v}=this._getOverscaledTileIDFromLngLatZoom(r,u);return this.getElevation(h,f%a.a5,v%a.a5,a.a5)}getElevationForLngLat(r,u){let h=Gn(u,{maxzoom:this.tileManager.maxzoom,minzoom:this.tileManager.minzoom,tileSize:512,terrain:this}),f=0;for(let v of h)v.canonical.z>f&&(f=Math.min(v.canonical.z,this.tileManager.maxzoom));return this.getElevationForLngLatZoom(r,f)}getElevation(r,u,h,f=a.a5){return this.getDEMElevation(r,u,h,f)*this.exaggeration}getTerrainData(r){if(!this._emptyDemTexture){let f=this.painter.context,v=new a.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new a.T(f,v,f.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new a.T(f,new a.R({width:1,height:1}),f.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(f.gl.NEAREST,f.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.ar([])}let u=this.tileManager.getSourceTile(r,!0);if(u&&u.dem&&(!u.demTexture||u.needsTerrainPrepare)){let f=this.painter.context;u.demTexture=this.painter.getTileTexture(u.dem.stride),u.demTexture?u.demTexture.update(u.dem.getPixels(),{premultiply:!1}):u.demTexture=new a.T(f,u.dem.getPixels(),f.gl.RGBA,{premultiply:!1}),u.demTexture.bind(f.gl.NEAREST,f.gl.CLAMP_TO_EDGE),u.needsTerrainPrepare=!1}let h=u&&u.toString()+u.tileID.key+r.key;if(h&&!this._demMatrixCache[h]){let f=this.tileManager.getSource().maxzoom,v=r.canonical.z-u.tileID.canonical.z;r.overscaledZ>r.canonical.z&&(r.canonical.z>=f?v=r.canonical.z-f:a.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));let w=r.canonical.x-(r.canonical.x>>v<<v),k=r.canonical.y-(r.canonical.y>>v<<v),P=a.cE(new Float64Array(16),[1/(a.a5<<v),1/(a.a5<<v),0]);a.O(P,P,[w*a.a5,k*a.a5,0]),this._demMatrixCache[r.key]={matrix:P,coord:r}}return{u_depth:2,u_terrain:3,u_terrain_dim:u&&u.dem&&u.dem.dim||1,u_terrain_matrix:h?this._demMatrixCache[r.key].matrix:this._emptyDemMatrix,u_terrain_unpack:u&&u.dem&&u.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(u&&u.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:u}}getFramebuffer(r){let u=this.painter,h=u.width/devicePixelRatio,f=u.height/devicePixelRatio;return!this._fbo||this._fbo.width===h&&this._fbo.height===f||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new a.T(u.context,{width:h,height:f,data:null},u.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(u.context.gl.NEAREST,u.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new a.T(u.context,{width:h,height:f,data:null},u.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(u.context.gl.NEAREST,u.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=u.context.createFramebuffer(h,f,!0,!1),this._fbo.depthAttachment.set(u.context.createRenderbuffer(u.context.gl.DEPTH_COMPONENT16,h,f))),this._fbo.colorAttachment.set(r==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){let r=this.painter.context;if(this._coordsTexture)return this._coordsTexture;let u=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let v=0,w=0;v<this._coordsTextureSize;v++)for(let k=0;k<this._coordsTextureSize;k++,w+=4)u[w+0]=255&k,u[w+1]=255&v,u[w+2]=k>>8<<4|v>>8,u[w+3]=0;let h=new a.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(u.buffer)),f=new a.T(r,h,r.gl.RGBA,{premultiply:!1});return f.bind(r.gl.NEAREST,r.gl.CLAMP_TO_EDGE),this._coordsTexture=f,f}pointCoordinate(r){this.painter.maybeDrawDepthAndCoords(!0);let u=new Uint8Array(4),h=this.painter.context,f=h.gl,v=Math.round(r.x*this.painter.pixelRatio/devicePixelRatio),w=Math.round(r.y*this.painter.pixelRatio/devicePixelRatio),k=Math.round(this.painter.height/devicePixelRatio);h.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),f.readPixels(v,k-w-1,1,1,f.RGBA,f.UNSIGNED_BYTE,u),h.bindFramebuffer.set(null);let P=u[0]+(u[2]>>4<<8),O=u[1]+((15&u[2])<<8),z=this.coordsIndex[255-u[3]],H=z&&this.tileManager.getTileByID(z);if(!H)return null;let j=this._coordsTextureSize,W=(1<<H.tileID.canonical.z)*j;return new a.a9((H.tileID.canonical.x*j+P)/W+H.tileID.wrap,(H.tileID.canonical.y*j+O)/W,this.getElevation(H.tileID,P,O,j))}depthAtPoint(r){let u=new Uint8Array(4),h=this.painter.context,f=h.gl;return h.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),f.readPixels(r.x,this.painter.height/devicePixelRatio-r.y-1,1,1,f.RGBA,f.UNSIGNED_BYTE,u),h.bindFramebuffer.set(null),(u[0]/16777216+u[1]/65536+u[2]/256+u[3])/256}getTerrainMesh(r){var u;let h=((u=this.painter.style.projection)===null||u===void 0?void 0:u.transitionState)>0,f=h&&r.canonical.y===0,v=h&&r.canonical.y===(1<<r.canonical.z)-1,w=`m_${f?"n":""}_${v?"s":""}`;if(this._meshCache[w])return this._meshCache[w];let k=this.painter.context,P=new a.cF,O=new a.aY,z=this.meshSize,H=a.a5/z,j=z*z;for(let xe=0;xe<=z;xe++)for(let Ae=0;Ae<=z;Ae++)P.emplaceBack(Ae*H,xe*H,0);for(let xe=0;xe<j;xe+=z+1)for(let Ae=0;Ae<z;Ae++)O.emplaceBack(Ae+xe,z+Ae+xe+1,z+Ae+xe+2),O.emplaceBack(Ae+xe,z+Ae+xe+2,Ae+xe+1);let W=P.length,ie=W+(z+1),he=(z+1)*z,fe=f?a.br:0,me=f?0:1,be=v?a.bs:a.a5,Se=v?0:1;for(let xe=0;xe<=z;xe++)P.emplaceBack(xe*H,fe,me);for(let xe=0;xe<=z;xe++)P.emplaceBack(xe*H,be,Se);for(let xe=0;xe<z;xe++)O.emplaceBack(he+xe,ie+xe,ie+xe+1),O.emplaceBack(he+xe,ie+xe+1,he+xe+1),O.emplaceBack(0+xe,W+xe+1,W+xe),O.emplaceBack(0+xe,0+xe+1,W+xe+1);let _e=P.length,Ce=_e+2*(z+1);for(let xe of[0,1])for(let Ae=0;Ae<=z;Ae++)for(let Ze of[0,1])P.emplaceBack(xe*a.a5,Ae*H,Ze);for(let xe=0;xe<2*z;xe+=2)O.emplaceBack(_e+xe,_e+xe+1,_e+xe+3),O.emplaceBack(_e+xe,_e+xe+3,_e+xe+2),O.emplaceBack(Ce+xe,Ce+xe+3,Ce+xe+1),O.emplaceBack(Ce+xe,Ce+xe+2,Ce+xe+3);let Pe=new fn(k.createVertexBuffer(P,B_.members),k.createIndexBuffer(O),a.aX.simpleSegment(0,0,P.length,O.length));return this._meshCache[w]=Pe,Pe}getMeshFrameDelta(r){return 2*Math.PI*a.bE/Math.pow(2,Math.max(r,0))/5}getMinTileElevationForLngLatZoom(r,u){var h;if(!a.cD(u,r.wrap()))return 0;let{tileID:f}=this._getOverscaledTileIDFromLngLatZoom(r,u);return(h=this.getMinMaxElevation(f).minElevation)!==null&&h!==void 0?h:0}getMinMaxElevation(r){let u=this.getTerrainData(r).tile,h={minElevation:null,maxElevation:null};return u&&u.dem&&(h.minElevation=u.dem.min*this.exaggeration,h.maxElevation=u.dem.max*this.exaggeration),h}_getOverscaledTileIDFromLngLatZoom(r,u){let h=a.a9.fromLngLat(r.wrap()),f=(1<<u)*a.a5,v=h.x*f,w=h.y*f,k=Math.floor(v/a.a5),P=Math.floor(w/a.a5);return{tileID:new a.a2(u,0,u,k,P),mercatorX:v,mercatorY:w}}}class na{constructor(r,u,h){this._context=r,this._size=u,this._tileSize=h,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(let r of this._objects)r.texture.destroy(),r.fbo.destroy()}_createObject(r){let u=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),h=new a.T(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return h.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),u.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),u.colorAttachment.set(h.texture),{id:r,fbo:u,texture:h,stamp:-1,inUse:!1}}getObjectForId(r){return this._objects[r]}useObject(r){r.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(u=>r.id!==u),this._recentlyUsed.push(r.id)}stampObject(r){r.stamp=++this._stamp}getOrCreateFreeObject(){for(let u of this._recentlyUsed)if(!this._objects[u].inUse)return this._objects[u];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");let r=this._createObject(this._objects.length);return this._objects.push(r),r}freeObject(r){r.inUse=!1}freeAllObjects(){for(let r of this._objects)this.freeObject(r)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(r=>!r.inUse)===!1}}let Zs={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0,"color-relief":!0};class pu{constructor(r,u){this.painter=r,this.terrain=u,this.pool=new na(r.context,30,u.tileManager.tileSize*u.qualityFactor)}destruct(){this.pool.destruct()}getTexture(r){return this.pool.getObjectForId(r.rtt[this._stacks.length-1].id).texture}prepareForRender(r,u){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.tileManager.getRenderableTiles(),this._renderableLayerIds=r._order.filter(h=>!r._layers[h].isHidden(u)),this._coordsAscending={};for(let h in r.tileManagers){this._coordsAscending[h]={};let f=r.tileManagers[h].getVisibleCoordinates(),v=r.tileManagers[h].getSource(),w=v instanceof xo?v.terrainTileRanges:null;for(let k of f){let P=this.terrain.tileManager.getTerrainCoords(k,w);for(let O in P)this._coordsAscending[h][O]||(this._coordsAscending[h][O]=[]),this._coordsAscending[h][O].push(P[O])}}this._coordsAscendingStr={};for(let h of r._order){let f=r._layers[h],v=f.source;if(Zs[f.type]&&!this._coordsAscendingStr[v]){this._coordsAscendingStr[v]={};for(let w in this._coordsAscending[v])this._coordsAscendingStr[v][w]=this._coordsAscending[v][w].map(k=>k.key).sort().join()}}for(let h of this._renderableTiles)for(let f in this._coordsAscendingStr){let v=this._coordsAscendingStr[f][h.tileID.key];v&&v!==h.rttCoords[f]&&(h.rtt=[])}}renderLayer(r,u){if(r.isHidden(this.painter.transform.zoom))return!1;let h=Object.assign(Object.assign({},u),{isRenderingToTexture:!0}),f=r.type,v=this.painter,w=this._renderableLayerIds[this._renderableLayerIds.length-1]===r.id;if(Zs[f]&&(this._prevType&&Zs[this._prevType]||this._stacks.push([]),this._prevType=f,this._stacks[this._stacks.length-1].push(r.id),!w))return!0;if(Zs[this._prevType]||Zs[f]&&w){this._prevType=f;let k=this._stacks.length-1,P=this._stacks[k]||[];for(let O of this._renderableTiles){if(this.pool.isFull()&&(dh(this.painter,this.terrain,this._rttTiles,h),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(O),O.rtt[k]){let H=this.pool.getObjectForId(O.rtt[k].id);if(H.stamp===O.rtt[k].stamp){this.pool.useObject(H);continue}}let z=this.pool.getOrCreateFreeObject();this.pool.useObject(z),this.pool.stampObject(z),O.rtt[k]={id:z.id,stamp:z.stamp},v.context.bindFramebuffer.set(z.fbo.framebuffer),v.context.clear({color:a.bp.transparent,stencil:0}),v.currentStencilSource=void 0;for(let H=0;H<P.length;H++){let j=v.style._layers[P[H]],W=j.source?this._coordsAscending[j.source][O.tileID.key]:[O.tileID];v.context.viewport.set([0,0,z.fbo.width,z.fbo.height]),v._renderTileClippingMasks(j,W,!0),v.renderLayer(v,v.style.tileManagers[j.source],j,W,h),j.source&&(O.rttCoords[j.source]=this._coordsAscendingStr[j.source][O.tileID.key])}}return dh(this.painter,this.terrain,this._rttTiles,h),this._rttTiles=[],this.pool.freeAllObjects(),Zs[f]}return!1}}let Cd={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use \u2318 + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},Ih=p,Sd={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Zo,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.c.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,transformConstrain:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,reduceMotion:void 0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0,experimentalZoomLevelsToOverscale:void 0},Th={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class hu{constructor(r,u,h=!1){this.mousedown=v=>{this.startMove(v,te.mousePos(this.element,v)),te.addEventListener(window,"mousemove",this.mousemove),te.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=v=>{this.move(v,te.mousePos(this.element,v))},this.mouseup=v=>{this._rotatePitchHandler.dragEnd(v),this.offTemp()},this.touchstart=v=>{v.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=te.touchPos(this.element,v.targetTouches)[0],this.startMove(v,this._startPos),te.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),te.addEventListener(window,"touchend",this.touchend))},this.touchmove=v=>{v.targetTouches.length!==1?this.reset():(this._lastPos=te.touchPos(this.element,v.targetTouches)[0],this.move(v,this._lastPos))},this.touchend=v=>{v.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHandler.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=u;let f=new w0;this._rotatePitchHandler=new jl({clickTolerance:3,move:(v,w)=>{let k=u.getBoundingClientRect(),P=new a.P((k.bottom-k.top)/2,(k.right-k.left)/2);return{bearingDelta:a.cx(new a.P(v.x,w.y),w,P),pitchDelta:h?-.5*(w.y-v.y):void 0}},moveStateManager:f,enable:!0,assignEvents:()=>{}}),this.map=r,te.addEventListener(u,"mousedown",this.mousedown),te.addEventListener(u,"touchstart",this.touchstart,{passive:!1}),te.addEventListener(u,"touchcancel",this.reset)}startMove(r,u){this._rotatePitchHandler.dragStart(r,u),te.disableDrag()}move(r,u){let h=this.map,{bearingDelta:f,pitchDelta:v}=this._rotatePitchHandler.dragMove(r,u)||{};f&&h.setBearing(h.getBearing()+f),v&&h.setPitch(h.getPitch()+v)}off(){let r=this.element;te.removeEventListener(r,"mousedown",this.mousedown),te.removeEventListener(r,"touchstart",this.touchstart,{passive:!1}),te.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),te.removeEventListener(window,"touchend",this.touchend),te.removeEventListener(r,"touchcancel",this.reset),this.offTemp()}offTemp(){te.enableDrag(),te.removeEventListener(window,"mousemove",this.mousemove),te.removeEventListener(window,"mouseup",this.mouseup),te.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),te.removeEventListener(window,"touchend",this.touchend)}}let Ur;function Md(b,r,u,h=!1){if(h||!u.getCoveringTilesDetailsProvider().allowWorldCopies())return b?.wrap();let f=new a.V(b.lng,b.lat);if(b=new a.V(b.lng,b.lat),r){let v=new a.V(b.lng-360,b.lat),w=new a.V(b.lng+360,b.lat),k=u.locationToScreenPoint(b).distSqr(r);u.locationToScreenPoint(v).distSqr(r)<k?b=v:u.locationToScreenPoint(w).distSqr(r)<k&&(b=w)}for(;Math.abs(b.lng-u.center.lng)>180;){let v=u.locationToScreenPoint(b);if(v.x>=0&&v.y>=0&&v.x<=u.width&&v.y<=u.height)break;b.lng>u.center.lng?b.lng-=360:b.lng+=360}return b.lng!==f.lng&&u.isPointOnMapSurface(u.locationToScreenPoint(b))?b:f}let mu={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function kd(b,r,u){let h=b.classList;for(let f in mu)h.remove(`maplibregl-${u}-anchor-${f}`);h.add(`maplibregl-${u}-anchor-${r}`)}class fu extends a.E{constructor(r){if(super(),this._onKeyPress=u=>{let h=u.code,f=u.charCode||u.keyCode;h!=="Space"&&h!=="Enter"&&f!==32&&f!==13||this.togglePopup()},this._onMapClick=u=>{let h=u.originalEvent.target,f=this._element;this._popup&&(h===f||f.contains(h))&&this.togglePopup()},this._update=u=>{if(!this._map)return;let h=this._map.loaded()&&!this._map.isMoving();(u?.type==="terrain"||u?.type==="render"&&!h)&&this._map.once("render",this._update),this._lngLat=Md(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let f="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?f=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(f=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let v="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?v="rotateX(0deg)":this._pitchAlignment==="map"&&(v=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||u&&u.type!=="moveend"||(this._pos=this._pos.round()),te.setTransform(this._element,`${mu[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${v} ${f}`),$.frameAsync(new AbortController).then(()=>{this._updateOpacity(u&&u.type==="moveend")}).catch(()=>{})},this._onMove=u=>{if(!this._isDragging){let h=this._clickTolerance||this._map._clickTolerance;this._isDragging=u.point.dist(this._pointerdownPos)>=h}this._isDragging&&(this._pos=u.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.l("dragstart"))),this.fire(new a.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.l("dragend")),this._state="inactive"},this._addDragHandler=u=>{this._element.contains(u.originalEvent.target)&&(u.preventDefault(),this._positionDelta=u.point.sub(this._pos).add(this._offset),this._pointerdownPos=u.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._subpixelPositioning=r&&r.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&r.pitchAlignment!=="auto"?r.pitchAlignment:this._rotationAlignment,this.setOpacity(r?.opacity,r?.opacityWhenCovered),r&&r.element)this._element=r.element,this._offset=a.P.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=te.create("div");let u=te.createNS("http://www.w3.org/2000/svg","svg"),h=41,f=27;u.setAttributeNS(null,"display","block"),u.setAttributeNS(null,"height",`${h}px`),u.setAttributeNS(null,"width",`${f}px`),u.setAttributeNS(null,"viewBox",`0 0 ${f} ${h}`);let v=te.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"stroke","none"),v.setAttributeNS(null,"stroke-width","1"),v.setAttributeNS(null,"fill","none"),v.setAttributeNS(null,"fill-rule","evenodd");let w=te.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"fill-rule","nonzero");let k=te.createNS("http://www.w3.org/2000/svg","g");k.setAttributeNS(null,"transform","translate(3.0, 29.0)"),k.setAttributeNS(null,"fill","#000000");let P=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(let me of P){let be=te.createNS("http://www.w3.org/2000/svg","ellipse");be.setAttributeNS(null,"opacity","0.04"),be.setAttributeNS(null,"cx","10.5"),be.setAttributeNS(null,"cy","5.80029008"),be.setAttributeNS(null,"rx",me.rx),be.setAttributeNS(null,"ry",me.ry),k.appendChild(be)}let O=te.createNS("http://www.w3.org/2000/svg","g");O.setAttributeNS(null,"fill",this._color);let z=te.createNS("http://www.w3.org/2000/svg","path");z.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),O.appendChild(z);let H=te.createNS("http://www.w3.org/2000/svg","g");H.setAttributeNS(null,"opacity","0.25"),H.setAttributeNS(null,"fill","#000000");let j=te.createNS("http://www.w3.org/2000/svg","path");j.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),H.appendChild(j);let W=te.createNS("http://www.w3.org/2000/svg","g");W.setAttributeNS(null,"transform","translate(6.0, 7.0)"),W.setAttributeNS(null,"fill","#FFFFFF");let ie=te.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"transform","translate(8.0, 8.0)");let he=te.createNS("http://www.w3.org/2000/svg","circle");he.setAttributeNS(null,"fill","#000000"),he.setAttributeNS(null,"opacity","0.25"),he.setAttributeNS(null,"cx","5.5"),he.setAttributeNS(null,"cy","5.5"),he.setAttributeNS(null,"r","5.4999962");let fe=te.createNS("http://www.w3.org/2000/svg","circle");fe.setAttributeNS(null,"fill","#FFFFFF"),fe.setAttributeNS(null,"cx","5.5"),fe.setAttributeNS(null,"cy","5.5"),fe.setAttributeNS(null,"r","5.4999962"),ie.appendChild(he),ie.appendChild(fe),w.appendChild(k),w.appendChild(O),w.appendChild(H),w.appendChild(W),w.appendChild(ie),u.appendChild(w),u.setAttributeNS(null,"height",h*this._scale+"px"),u.setAttributeNS(null,"width",f*this._scale+"px"),this._element.appendChild(u),this._offset=a.P.convert(r&&r.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",u=>{u.preventDefault()}),this._element.addEventListener("mousedown",u=>{u.preventDefault()}),kd(this._element,this._anchor,"marker"),r&&r.className)for(let u of r.className.split(" "))this._element.classList.add(u);this._popup=null}addTo(r){return this.remove(),this._map=r,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",r._getUIString("Marker.Title")),this._element.hasAttribute("role")||this._element.setAttribute("role","button"),r.getCanvasContainer().appendChild(this._element),r.on("move",this._update),r.on("moveend",this._update),r.on("terrain",this._update),r.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),te.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(r){return this._lngLat=a.V.convert(r),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(r){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),r){if(!("offset"in r.options)){let f=Math.abs(13.5)/Math.SQRT2;r.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[f,-1*(38.1-13.5+f)],"bottom-right":[-f,-1*(38.1-13.5+f)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=r,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(r){return this._subpixelPositioning=r,this}getPopup(){return this._popup}togglePopup(){let r=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:r?(r.isOpen()?r.remove():(r.setLngLat(this._lngLat),r.addTo(this._map)),this):this}_updateOpacity(r=!1){var u,h;let f=(u=this._map)===null||u===void 0?void 0:u.terrain,v=this._map.transform.isLocationOccluded(this._lngLat);if(!f||v){let W=v?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==W&&(this._element.style.opacity=W))}if(r)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}let w=this._map,k=w.terrain.depthAtPoint(this._pos),P=w.terrain.getElevationForLngLat(this._lngLat,w.transform);if(w.transform.lngLatToCameraDepth(this._lngLat,P)-k<.006)return void(this._element.style.opacity=this._opacity);let O=-this._offset.y/w.transform.pixelsPerMeter,z=Math.sin(w.getPitch()*Math.PI/180)*O,H=w.terrain.depthAtPoint(new a.P(this._pos.x,this._pos.y-this._offset.y)),j=w.transform.lngLatToCameraDepth(this._lngLat,P+z)-H>.006;!((h=this._popup)===null||h===void 0)&&h.isOpen()&&j&&this._popup.remove(),this._element.style.opacity=j?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(r){return this._offset=a.P.convert(r),this._update(),this}addClassName(r){this._element.classList.add(r)}removeClassName(r){this._element.classList.remove(r)}toggleClassName(r){return this._element.classList.toggle(r)}setDraggable(r){return this._draggable=!!r,this._map&&(r?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(r){return this._rotation=r||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(r){return this._rotationAlignment=r||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(r){return this._pitchAlignment=r&&r!=="auto"?r:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(r,u){return(this._opacity===void 0||r===void 0&&u===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),r!==void 0&&(this._opacity=r),u!==void 0&&(this._opacityWhenCovered=u),this._map&&this._updateOpacity(!0),this}}let Ch={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Gl=0,Xs=!1,Sh={maxWidth:100,unit:"metric"};function gu(b,r,u){let h=u&&u.maxWidth||100,f=b._container.clientHeight/2,v=b._container.clientWidth/2,w=b.unproject([v-h/2,f]),k=b.unproject([v+h/2,f]),P=Math.round(b.project(k).x-b.project(w).x),O=Math.min(h,P,b._container.clientWidth),z=w.distanceTo(k);if(u&&u.unit==="imperial"){let H=3.2808*z;H>5280?Ys(r,O,H/5280,b._getUIString("ScaleControl.Miles")):Ys(r,O,H,b._getUIString("ScaleControl.Feet"))}else u&&u.unit==="nautical"?Ys(r,O,z/1852,b._getUIString("ScaleControl.NauticalMiles")):z>=1e3?Ys(r,O,z/1e3,b._getUIString("ScaleControl.Kilometers")):Ys(r,O,z,b._getUIString("ScaleControl.Meters"))}function Ys(b,r,u,h){let f=function(v){let w=Math.pow(10,`${Math.floor(v)}`.length-1),k=v/w;return k=k>=10?10:k>=5?5:k>=3?3:k>=2?2:k>=1?1:function(P){let O=Math.pow(10,Math.ceil(-Math.log(P)/Math.LN10));return Math.round(P*O)/O}(k),w*k}(u);b.style.width=r*(f/u)+"px",b.innerHTML=`${f}&nbsp;${h}`}let Mh={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},Ed=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Pd(b){if(b){if(typeof b=="number"){let r=Math.round(Math.abs(b)/Math.SQRT2);return{center:new a.P(0,0),top:new a.P(0,b),"top-left":new a.P(r,r),"top-right":new a.P(-r,r),bottom:new a.P(0,-b),"bottom-left":new a.P(r,-r),"bottom-right":new a.P(-r,-r),left:new a.P(b,0),right:new a.P(-b,0)}}if(b instanceof a.P||Array.isArray(b)){let r=a.P.convert(b);return{center:r,top:r,"top-left":r,"top-right":r,bottom:r,"bottom-left":r,"bottom-right":r,left:r,right:r}}return{center:a.P.convert(b.center||[0,0]),top:a.P.convert(b.top||[0,0]),"top-left":a.P.convert(b["top-left"]||[0,0]),"top-right":a.P.convert(b["top-right"]||[0,0]),bottom:a.P.convert(b.bottom||[0,0]),"bottom-left":a.P.convert(b["bottom-left"]||[0,0]),"bottom-right":a.P.convert(b["bottom-right"]||[0,0]),left:a.P.convert(b.left||[0,0]),right:a.P.convert(b.right||[0,0])}}return Pd(new a.P(0,0))}let kh=p;n.AJAXError=a.cI,n.Event=a.l,n.Evented=a.E,n.LngLat=a.V,n.MercatorCoordinate=a.a9,n.Point=a.P,n.addProtocol=a.cJ,n.config=a.c,n.removeProtocol=a.cK,n.AttributionControl=wh,n.BoxZoomHandler=ql,n.CanvasSource=ee,n.CooperativeGesturesHandler=Zt,n.DoubleClickZoomHandler=xh,n.DragPanHandler=k0,n.DragRotateHandler=gr,n.EdgeInsets=Tl,n.FullscreenControl=class extends a.E{constructor(b={}){super(),this._onFullscreenChange=()=>{var r;let u=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((r=u?.shadowRoot)===null||r===void 0)&&r.fullscreenElement;)u=u.shadowRoot.fullscreenElement;u===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,b&&b.container&&(b.container instanceof HTMLElement?this._container=b.container:a.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(b){return this._map=b,this._container||(this._container=this._map.getContainer()),this._controlContainer=te.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){te.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){let b=this._fullscreenButton=te.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);te.create("span","maplibregl-ctrl-icon",b).setAttribute("aria-hidden","true"),b.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){let b=this._getTitle();this._fullscreenButton.setAttribute("aria-label",b),this._fullscreenButton.title=b}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new a.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},n.GeoJSONSource=bl,n.GeolocateControl=class extends a.E{constructor(b){super(),this._onSuccess=r=>{if(this._map){if(this._isOutOfMapMaxBounds(r))return this._setErrorState(),this.fire(new a.l("outofmaxbounds",r)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=r,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(r),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(r),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.l("geolocate",r)),this._finish()}},this._updateCamera=r=>{let u=new a.V(r.coords.longitude,r.coords.latitude),h=r.coords.accuracy,f=this._map.getBearing(),v=a.e({bearing:f},this.options.fitBoundsOptions),w=Hn.fromLngLat(u,h);this._map.fitBounds(w,v,{geolocateSource:!0})},this._updateMarker=r=>{if(r){let u=new a.V(r.coords.longitude,r.coords.latitude);this._accuracyCircleMarker.setLngLat(u).addTo(this._map),this._userLocationDotMarker.setLngLat(u).addTo(this._map),this._accuracy=r.coords.accuracy,this._updateCircleRadiusIfNeeded()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onUpdate=()=>{this._updateCircleRadiusIfNeeded()},this._onError=r=>{if(this._map){if(r.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;let u=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(r.code===3&&Xs)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.l("error",r)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",r=>r.preventDefault()),this._geolocateButton=te.create("button","maplibregl-ctrl-geolocate",this._container),te.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=r=>{if(this._map){if(r===!1){a.w("Geolocation support is not available so the GeolocateControl will be disabled.");let u=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u)}else{let u=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=te.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new fu({element:this._dotElement}),this._circleElement=te.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new fu({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onUpdate),this._map.on("move",this._onUpdate),this._map.on("rotate",this._onUpdate),this._map.on("pitch",this._onUpdate)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",u=>{let h=u?.[0]instanceof ResizeObserverEntry;u.geolocateSource||this._watchState!=="ACTIVE_LOCK"||h||this._map.isZooming()||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.l("trackuserlocationend")),this.fire(new a.l("userlocationlostfocus")))})}},this.options=a.e({},Ch,b)}onAdd(b){return this._map=b,this._container=te.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return a._(this,arguments,void 0,function*(r=!1){if(Ur!==void 0&&!r)return Ur;if(window.navigator.permissions===void 0)return Ur=!!window.navigator.geolocation,Ur;try{Ur=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{Ur=!!window.navigator.geolocation}return Ur})}().then(r=>this._finishSetupUI(r)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),te.remove(this._container),this._map.off("zoom",this._onUpdate),this._map.off("move",this._onUpdate),this._map.off("rotate",this._onUpdate),this._map.off("pitch",this._onUpdate),this._map=void 0,Gl=0,Xs=!1}_isOutOfMapMaxBounds(b){let r=this._map.getMaxBounds(),u=b.coords;return r&&(u.longitude<r.getWest()||u.longitude>r.getEast()||u.latitude<r.getSouth()||u.latitude>r.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":case"BACKGROUND_ERROR":case"OFF":case void 0:break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadiusIfNeeded(){let b=this._userLocationDotMarker.getLngLat();if(!(this.options.showUserLocation&&this.options.showAccuracyCircle&&this._accuracy&&b))return;let r=this._map.project(b),u=this._map.unproject([r.x+100,r.y]),h=b.distanceTo(u)/100,f=2*this._accuracy/h;this._circleElement.style.width=`${f.toFixed(2)}px`,this._circleElement.style.height=`${f.toFixed(2)}px`}trigger(){if(!this._setup)return a.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Gl--,Xs=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.l("trackuserlocationstart")),this.fire(new a.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let b;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Gl++,Gl>1?(b={maximumAge:6e5,timeout:0},Xs=!0):(b=this.options.positionOptions,Xs=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,b)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},n.GlobeControl=class{constructor(){this._toggleProjection=()=>{var b;let r=(b=this._map.getProjection())===null||b===void 0?void 0:b.type;this._map.setProjection(r!=="mercator"&&r?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var b;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((b=this._map.getProjection())===null||b===void 0?void 0:b.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(b){return this._map=b,this._container=te.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=te.create("button","maplibregl-ctrl-globe",this._container),te.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){te.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},n.Hash=mh,n.ImageSource=xo,n.KeyboardHandler=un,n.LngLatBounds=Hn,n.LogoControl=E0,n.Map=class extends ho{constructor(b){var r,u;a.cG.mark(a.cH.create);let h=Object.assign(Object.assign(Object.assign({},Sd),b),{canvasContextAttributes:Object.assign(Object.assign({},Sd.canvasContextAttributes),b.canvasContextAttributes)});if(h.minZoom!=null&&h.maxZoom!=null&&h.minZoom>h.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(h.minPitch!=null&&h.maxPitch!=null&&h.minPitch>h.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(h.minPitch!=null&&h.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(h.maxPitch!=null&&h.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");let f=new Rs,v=new Ns;if(h.minZoom!==void 0&&f.setMinZoom(h.minZoom),h.maxZoom!==void 0&&f.setMaxZoom(h.maxZoom),h.minPitch!==void 0&&f.setMinPitch(h.minPitch),h.maxPitch!==void 0&&f.setMaxPitch(h.maxPitch),h.renderWorldCopies!==void 0&&f.setRenderWorldCopies(h.renderWorldCopies),h.transformConstrain!==null&&f.setConstrainOverride(h.transformConstrain),super(f,v,{bearingSnap:h.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new z_,this._controls=[],this._mapId=a.af(),this._lostContextStyle={style:null,images:null},this._contextLost=k=>{k.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.painter.destroy();for(let P of Object.values(this.style._layers))if(P.type==="custom"&&console.warn(`Custom layer with id '${P.id}' cannot be restored after WebGL context loss. You will need to re-add it manually after context restoration.`),P._listeners)for(let[O]of Object.entries(P._listeners))console.warn(`Custom layer with id '${P.id}' had event listeners for event '${O}' which cannot be restored after WebGL context loss. You will need to re-add them manually after context restoration.`);this._lostContextStyle=this._getStyleAndImages(),this.style.destroy(),this.style=null,this.fire(new a.l("webglcontextlost",{originalEvent:k}))},this._contextRestored=k=>{this._lostContextStyle.style&&this.setStyle(this._lostContextStyle.style,{diff:!1}),this._lostContextStyle.images&&(this.style.imageManager.images=this._lostContextStyle.images),this._setupPainter(),this.resize(),this._update(),this.fire(new a.l("webglcontextrestored",{originalEvent:k}))},this._onMapScroll=k=>{if(k.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=h.interactive,this._maxTileCacheSize=h.maxTileCacheSize,this._maxTileCacheZoomLevels=h.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},h.canvasContextAttributes),this._trackResize=h.trackResize===!0,this._bearingSnap=h.bearingSnap,this._centerClampedToGround=h.centerClampedToGround,this._refreshExpiredTiles=h.refreshExpiredTiles===!0,this._fadeDuration=h.fadeDuration,this._crossSourceCollisions=h.crossSourceCollisions===!0,this._collectResourceTiming=h.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},Cd),h.locale),this._clickTolerance=h.clickTolerance,this._overridePixelRatio=h.pixelRatio,this._maxCanvasSize=h.maxCanvasSize,this._zoomLevelsToOverscale=h.experimentalZoomLevelsToOverscale,this.transformCameraUpdate=h.transformCameraUpdate,this.transformConstrain=h.transformConstrain,this.cancelPendingTileRequestsWhileZooming=h.cancelPendingTileRequestsWhileZooming===!0,h.reduceMotion!==void 0&&($.prefersReducedMotion=h.reduceMotion),this._imageQueueHandle=st.addThrottleControl(()=>this.isMoving()),this._requestManager=new yt(h.transformRequest),typeof h.container=="string"){if(this._container=document.getElementById(h.container),!this._container)throw new Error(`Container '${h.container}' not found.`)}else{if(!(h.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=h.container}if(h.maxBounds&&this.setMaxBounds(h.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let k=!1,P=hh(O=>{this._trackResize&&!this._removed&&(this.resize(O),this.redraw())},50);this._resizeObserver=new ResizeObserver(O=>{k?P(O):k=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Td(this,h),this._hash=h.hash&&new mh(typeof h.hash=="string"&&h.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:h.center,elevation:h.elevation,zoom:h.zoom,bearing:h.bearing,pitch:h.pitch,roll:h.roll}),h.bounds&&(this.resize(),this.fitBounds(h.bounds,a.e({},h.fitBoundsOptions,{duration:0}))));let w=typeof h.style=="string"||((u=(r=h.style)===null||r===void 0?void 0:r.projection)===null||u===void 0?void 0:u.type)!=="globe";this.resize(null,w),this._localIdeographFontFamily=h.localIdeographFontFamily,this._validateStyle=h.validateStyle,h.style&&this.setStyle(h.style,{localIdeographFontFamily:h.localIdeographFontFamily}),h.attributionControl&&this.addControl(new wh(typeof h.attributionControl=="boolean"?void 0:h.attributionControl)),h.maplibreLogo&&this.addControl(new E0,h.logoPosition),this.on("style.load",()=>{if(w||this._resizeTransform(),this.transform.unmodified){let k=a.U(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(k)}}),this.on("data",k=>{this._update(k.dataType==="style"),this.fire(new a.l(`${k.dataType}data`,k))}),this.on("dataloading",k=>{this.fire(new a.l(`${k.dataType}dataloading`,k))}),this.on("dataabort",k=>{this.fire(new a.l("sourcedataabort",k))})}_getMapId(){return this._mapId}setGlobalStateProperty(b,r){return this.style.setGlobalStateProperty(b,r),this._update(!0)}getGlobalState(){return this.style.getGlobalState()}addControl(b,r){if(r===void 0&&(r=b.getDefaultPosition?b.getDefaultPosition():"top-right"),!b||!b.onAdd)return this.fire(new a.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));let u=b.onAdd(this);this._controls.push(b);let h=this._controlPositions[r];return r.indexOf("bottom")!==-1?h.insertBefore(u,h.firstChild):h.appendChild(u),this}removeControl(b){if(!b||!b.onRemove)return this.fire(new a.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));let r=this._controls.indexOf(b);return r>-1&&this._controls.splice(r,1),b.onRemove(this),this}hasControl(b){return this._controls.indexOf(b)>-1}coveringTiles(b){return Gn(this.transform,b)}calculateCameraOptionsFromTo(b,r,u,h){return h==null&&this.terrain&&(h=this.terrain.getElevationForLngLat(u,this.transform)),super.calculateCameraOptionsFromTo(b,r,u,h)}resize(b,r=!0){let[u,h]=this._containerDimensions(),f=this._getClampedPixelRatio(u,h);if(this._resizeCanvas(u,h,f),this.painter.resize(u,h,f),this.painter.overLimit()){let w=this.painter.context.gl;this._maxCanvasSize=[w.drawingBufferWidth,w.drawingBufferHeight];let k=this._getClampedPixelRatio(u,h);this._resizeCanvas(u,h,k),this.painter.resize(u,h,k)}this._resizeTransform(r);let v=!this._moving;return v&&(this.stop(),this.fire(new a.l("movestart",b)).fire(new a.l("move",b))),this.fire(new a.l("resize",b)),v&&this.fire(new a.l("moveend",b)),this}_resizeTransform(b=!0){var r;let[u,h]=this._containerDimensions();this.transform.resize(u,h,b),(r=this._requestedCameraState)===null||r===void 0||r.resize(u,h,b)}_getClampedPixelRatio(b,r){let{0:u,1:h}=this._maxCanvasSize,f=this.getPixelRatio(),v=b*f,w=r*f;return Math.min(v>u?u/v:1,w>h?h/w:1)*f}getPixelRatio(){var b;return(b=this._overridePixelRatio)!==null&&b!==void 0?b:devicePixelRatio}setPixelRatio(b){this._overridePixelRatio=b,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(b){return this.transform.setMaxBounds(Hn.convert(b)),this._update()}setMinZoom(b){if((b=b??-2)>=-2&&b<=this.transform.maxZoom){let r=this._getTransformForUpdate();return r.setMinZoom(b),this._applyUpdatedTransform(r),this._update(),this}throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(b){if((b=b??22)>=this.transform.minZoom){let r=this._getTransformForUpdate();return r.setMaxZoom(b),this._applyUpdatedTransform(r),this._update(),this}throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(b){if((b=b??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(b>=0&&b<=this.transform.maxPitch)return this.transform.setMinPitch(b),this._update(),this.getPitch()<b&&this.setPitch(b),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(b){if((b=b??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(b>=this.transform.minPitch)return this.transform.setMaxPitch(b),this._update(),this.getPitch()>b&&this.setPitch(b),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(b){return this.transform.setRenderWorldCopies(b),this._update()}setTransformConstrain(b){return this.transform.setConstrainOverride(b),this._update()}project(b){return this.transform.locationToScreenPoint(a.V.convert(b),this.style&&this.terrain)}unproject(b){return this.transform.screenPointToLocation(a.P.convert(b),this.terrain)}isMoving(){var b;return this._moving||((b=this.handlers)===null||b===void 0?void 0:b.isMoving())}isZooming(){var b;return this._zooming||((b=this.handlers)===null||b===void 0?void 0:b.isZooming())}isRotating(){var b;return this._rotating||((b=this.handlers)===null||b===void 0?void 0:b.isRotating())}_createDelegatedListener(b,r,u){if(b==="mouseenter"||b==="mouseover"){let h=!1;return{layers:r,listener:u,delegates:{mousemove:v=>{let w=r.filter(P=>this.getLayer(P)),k=w.length!==0?this.queryRenderedFeatures(v.point,{layers:w}):[];k.length?h||(h=!0,u.call(this,new Da(b,this,v.originalEvent,{features:k}))):h=!1},mouseout:()=>{h=!1}}}}if(b==="mouseleave"||b==="mouseout"){let h=!1;return{layers:r,listener:u,delegates:{mousemove:w=>{let k=r.filter(P=>this.getLayer(P));(k.length!==0?this.queryRenderedFeatures(w.point,{layers:k}):[]).length?h=!0:h&&(h=!1,u.call(this,new Da(b,this,w.originalEvent)))},mouseout:w=>{h&&(h=!1,u.call(this,new Da(b,this,w.originalEvent)))}}}}{let h=f=>{let v=r.filter(k=>this.getLayer(k)),w=v.length!==0?this.queryRenderedFeatures(f.point,{layers:v}):[];w.length&&(f.features=w,u.call(this,f),delete f.features)};return{layers:r,listener:u,delegates:{[b]:h}}}}_saveDelegatedListener(b,r){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[b]=this._delegatedListeners[b]||[],this._delegatedListeners[b].push(r)}_removeDelegatedListener(b,r,u){if(!this._delegatedListeners||!this._delegatedListeners[b])return;let h=this._delegatedListeners[b];for(let f=0;f<h.length;f++){let v=h[f];if(v.listener===u&&v.layers.length===r.length&&v.layers.every(w=>r.includes(w))){for(let w in v.delegates)this.off(w,v.delegates[w]);return void h.splice(f,1)}}}on(b,r,u){if(u===void 0)return super.on(b,r);let h=typeof r=="string"?[r]:r,f=this._createDelegatedListener(b,h,u);this._saveDelegatedListener(b,f);for(let v in f.delegates)this.on(v,f.delegates[v]);return{unsubscribe:()=>{this._removeDelegatedListener(b,h,u)}}}once(b,r,u){if(u===void 0)return super.once(b,r);let h=typeof r=="string"?[r]:r,f=this._createDelegatedListener(b,h,u);for(let v in f.delegates){let w=f.delegates[v];f.delegates[v]=(...k)=>{this._removeDelegatedListener(b,h,u),w(...k)}}this._saveDelegatedListener(b,f);for(let v in f.delegates)this.once(v,f.delegates[v]);return this}off(b,r,u){return u===void 0?super.off(b,r):(this._removeDelegatedListener(b,typeof r=="string"?[r]:r,u),this)}queryRenderedFeatures(b,r){if(!this.style)return[];let u,h=b instanceof a.P||Array.isArray(b),f=h?b:[[0,0],[this.transform.width,this.transform.height]];if(r=r||(h?{}:b)||{},f instanceof a.P||typeof f[0]=="number")u=[a.P.convert(f)];else{let v=a.P.convert(f[0]),w=a.P.convert(f[1]);u=[v,new a.P(w.x,v.y),w,new a.P(v.x,w.y),v]}return this.style.queryRenderedFeatures(u,r,this.transform)}querySourceFeatures(b,r){return this.style.querySourceFeatures(b,r)}setStyle(b,r){return(r=a.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},r)).diff!==!1&&r.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&b?(this._diffStyle(b,r),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._updateStyle(b,r))}setTransformRequest(b){return this._requestManager.setTransformRequest(b),this}_getUIString(b){let r=this._locale[b];if(r==null)throw new Error(`Missing UI string '${b}'`);return r}_updateStyle(b,r){var u,h;if(r.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(b,r));let f=this.style&&r.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!b)),b?(this.style=new js(this,r||{}),this.style.setEventedParent(this,{style:this.style}),typeof b=="string"?this.style.loadURL(b,r,f):this.style.loadJSON(b,r,f),this):((h=(u=this.style)===null||u===void 0?void 0:u.projection)===null||h===void 0||h.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new js(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(b,r){if(typeof b=="string"){let u=this._requestManager.transformRequest(b,"Style");a.j(u,new AbortController).then(h=>{this._updateDiff(h.data,r)}).catch(h=>{h&&this.fire(new a.k(h))})}else typeof b=="object"&&this._updateDiff(b,r)}_updateDiff(b,r){try{this.style.setState(b,r)&&this._update(!0)}catch(u){a.w(`Unable to perform style diff: ${u.message||u.error||u}.  Rebuilding the style from scratch.`),this._updateStyle(b,r)}}getStyle(){if(this.style)return this.style.serialize()}_getStyleAndImages(){return this.style?{style:this.style.serialize(),images:this.style.imageManager.cloneImages()}:{style:null,images:{}}}isStyleLoaded(){return this.style?this.style.loaded():a.w("There is no style added to the map.")}addSource(b,r){return this._lazyInitEmptyStyle(),this.style.addSource(b,r),this._update(!0)}isSourceLoaded(b){let r=this.style&&this.style.tileManagers[b];if(r!==void 0)return r.loaded();this.fire(new a.k(new Error(`There is no tile manager with ID '${b}'`)))}setTerrain(b){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),b){let r=this.style.tileManagers[b.source];if(!r)throw new Error(`cannot load terrain, because there exists no source with ID: ${b.source}`);this.terrain===null&&r.reload();for(let u in this.style._layers){let h=this.style._layers[u];h.type==="hillshade"&&h.source===b.source&&a.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality."),h.type==="color-relief"&&h.source===b.source&&a.w("You are using the same source for a color-relief layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Vn(this.painter,r,b),this.painter.renderToTexture=new pu(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=u=>{var h;u.dataType==="style"?this.terrain.tileManager.freeRtt():u.dataType==="source"&&u.tile&&(u.sourceId!==b.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((h=u.source)===null||h===void 0?void 0:h.type)==="image"?this.terrain.tileManager.freeRtt():this.terrain.tileManager.freeRtt(u.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.tileManager.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new a.l("terrain",{terrain:b})),this}getTerrain(){var b,r;return(r=(b=this.terrain)===null||b===void 0?void 0:b.options)!==null&&r!==void 0?r:null}areTilesLoaded(){let b=this.style&&this.style.tileManagers;for(let r of Object.values(b))if(!r.areTilesLoaded())return!1;return!0}removeSource(b){return this.style.removeSource(b),this._update(!0)}getSource(b){return this.style.getSource(b)}setSourceTileLodParams(b,r,u){if(u){let h=this.getSource(u);if(!h)throw new Error(`There is no source with ID "${u}", cannot set LOD parameters`);h.calculateTileZoom=on(Math.max(1,b),Math.max(1,r))}else for(let h in this.style.tileManagers)this.style.tileManagers[h].getSource().calculateTileZoom=on(Math.max(1,b),Math.max(1,r));return this._update(!0),this}refreshTiles(b,r){let u=this.style.tileManagers[b];if(!u)throw new Error(`There is no tile manager with ID "${b}", cannot refresh tile`);r===void 0?u.reload(!0):u.refreshTiles(r.map(h=>new a.ac(h.z,h.x,h.y)))}addImage(b,r,u={}){let{pixelRatio:h=1,sdf:f=!1,stretchX:v,stretchY:w,content:k,textFitWidth:P,textFitHeight:O}=u;if(this._lazyInitEmptyStyle(),!(r instanceof HTMLImageElement||a.b(r))){if(r.width===void 0||r.height===void 0)return this.fire(new a.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{let{width:z,height:H,data:j}=r,W=r;return this.style.addImage(b,{data:new a.R({width:z,height:H},new Uint8Array(j)),pixelRatio:h,stretchX:v,stretchY:w,content:k,textFitWidth:P,textFitHeight:O,sdf:f,version:0,userImage:W}),W.onAdd&&W.onAdd(this,b),this}}{let{width:z,height:H,data:j}=$.getImageData(r);this.style.addImage(b,{data:new a.R({width:z,height:H},j),pixelRatio:h,stretchX:v,stretchY:w,content:k,textFitWidth:P,textFitHeight:O,sdf:f,version:0})}}updateImage(b,r){let u=this.style.getImage(b);if(!u)return this.fire(new a.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));let h=r instanceof HTMLImageElement||a.b(r)?$.getImageData(r):r,{width:f,height:v,data:w}=h;if(f===void 0||v===void 0)return this.fire(new a.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(f!==u.data.width||v!==u.data.height)return this.fire(new a.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));let k=!(r instanceof HTMLImageElement||a.b(r));return u.data.replace(w,k),this.style.updateImage(b,u),this}getImage(b){return this.style.getImage(b)}hasImage(b){return b?!!this.style.getImage(b):(this.fire(new a.k(new Error("Missing required image id"))),!1)}removeImage(b){this.style.removeImage(b)}loadImage(b){return st.getImage(this._requestManager.transformRequest(b,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(b,r){return this._lazyInitEmptyStyle(),this.style.addLayer(b,r),this._update(!0)}moveLayer(b,r){return this.style.moveLayer(b,r),this._update(!0)}removeLayer(b){return this.style.removeLayer(b),this._update(!0)}getLayer(b){return this.style.getLayer(b)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(b,r,u){return this.style.setLayerZoomRange(b,r,u),this._update(!0)}setFilter(b,r,u={}){return this.style.setFilter(b,r,u),this._update(!0)}getFilter(b){return this.style.getFilter(b)}setPaintProperty(b,r,u,h={}){return this.style.setPaintProperty(b,r,u,h),this._update(!0)}getPaintProperty(b,r){return this.style.getPaintProperty(b,r)}setLayoutProperty(b,r,u,h={}){return this.style.setLayoutProperty(b,r,u,h),this._update(!0)}getLayoutProperty(b,r){return this.style.getLayoutProperty(b,r)}setGlyphs(b,r={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(b,r),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(b,r,u={}){return this._lazyInitEmptyStyle(),this.style.addSprite(b,r,u,h=>{h||this._update(!0)}),this}removeSprite(b){return this._lazyInitEmptyStyle(),this.style.removeSprite(b),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(b,r={}){return this._lazyInitEmptyStyle(),this.style.setSprite(b,r,u=>{u||this._update(!0)}),this}setLight(b,r={}){return this._lazyInitEmptyStyle(),this.style.setLight(b,r),this._update(!0)}getLight(){return this.style.getLight()}setSky(b,r={}){return this._lazyInitEmptyStyle(),this.style.setSky(b,r),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(b,r){return this.style.setFeatureState(b,r),this._update()}removeFeatureState(b,r){return this.style.removeFeatureState(b,r),this._update()}getFeatureState(b){return this.style.getFeatureState(b)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let b=0,r=0;return this._container&&(b=this._container.clientWidth||400,r=this._container.clientHeight||300),[b,r]}_setupContainer(){let b=this._container;b.classList.add("maplibregl-map");let r=this._canvasContainer=te.create("div","maplibregl-canvas-container",b);this._interactive&&r.classList.add("maplibregl-interactive"),this._canvas=te.create("canvas","maplibregl-canvas",r),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");let u=this._containerDimensions(),h=this._getClampedPixelRatio(u[0],u[1]);this._resizeCanvas(u[0],u[1],h);let f=this._controlContainer=te.create("div","maplibregl-control-container",b),v=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(w=>{v[w]=te.create("div",`maplibregl-ctrl-${w} `,f)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(b,r,u){this._canvas.width=Math.floor(u*b),this._canvas.height=Math.floor(u*r),this._canvas.style.width=`${b}px`,this._canvas.style.height=`${r}px`}_setupPainter(){let b=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0}),r=null;this._canvas.addEventListener("webglcontextcreationerror",h=>{r={requestedAttributes:b},h&&(r.statusMessage=h.statusMessage,r.type=h.type)},{once:!0});let u=null;if(u=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,b):this._canvas.getContext("webgl2",b)||this._canvas.getContext("webgl",b),!u){let h="Failed to initialize WebGL";throw r?(r.message=h,new Error(JSON.stringify(r))):new Error(h)}this.painter=new b0(u,this.transform),Me.testSupport(u)}migrateProjection(b,r){super.migrateProjection(b,r),this.painter.transform=b,this.fire(new a.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(b){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||b,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(b){return this._update(),this._renderTaskQueue.add(b)}_cancelRenderFrame(b){this._renderTaskQueue.remove(b)}_render(b){var r,u,h,f,v;let w=this._idleTriggered?this._fadeDuration:0,k=((r=this.style.projection)===null||r===void 0?void 0:r.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(b),this._removed)return;let P=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;let H=this.transform.zoom,j=re();this.style.zoomHistory.update(H,j);let W=new a.H(H,{now:j,fadeDuration:w,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),ie=W.crossFadingFactor();ie===1&&ie===this._crossFadingFactor||(P=!0,this._crossFadingFactor=ie),this.style.update(W)}let O=((u=this.style.projection)===null||u===void 0?void 0:u.transitionState)>0!==k;(h=this.style.projection)===null||h===void 0||h.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((f=this.style.projection)===null||f===void 0?void 0:f.transitionState,(v=this.style.projection)===null||v===void 0?void 0:v.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||O)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.tileManager.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,w,this._crossSourceCollisions,O),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:w,showPadding:this.showPadding}),this.fire(new a.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.cG.mark(a.cH.load),this.fire(new a.l("load"))),this.style&&(this.style.hasTransitions()||P)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();let z=this._sourcesDirty||this._styleDirty||this._placementDirty;return z||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.l("idle")),!this._loaded||this._fullyLoaded||z||(this._fullyLoaded=!0,a.cG.mark(a.cH.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var b;this._hash&&this._hash.remove();for(let u of this._controls)u.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),st.removeThrottleControl(this._imageQueueHandle),(b=this._resizeObserver)===null||b===void 0||b.disconnect();let r=this.painter.context.gl.getExtension("WEBGL_lose_context");r?.loseContext&&r.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),te.remove(this._canvasContainer),te.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),a.cG.clearMetrics(),this._removed=!0,this.fire(new a.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,$.frame(this._frameRequest,b=>{a.cG.frame(b),this._frameRequest=null;try{this._render(b)}catch(r){if(!a.Z(r)&&!function(u){return u.message===sh}(r))throw r}},()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(b){this._showTileBoundaries!==b&&(this._showTileBoundaries=b,this._update())}get showPadding(){return!!this._showPadding}set showPadding(b){this._showPadding!==b&&(this._showPadding=b,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(b){this._showCollisionBoxes!==b&&(this._showCollisionBoxes=b,b?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(b){this._showOverdrawInspector!==b&&(this._showOverdrawInspector=b,this._update())}get repaint(){return!!this._repaint}set repaint(b){this._repaint!==b&&(this._repaint=b,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(b){this._vertices=b,this._update()}get version(){return Ih}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(b){return this._lazyInitEmptyStyle(),this.style.setProjection(b),this._update(!0)}},n.MapMouseEvent=Da,n.MapTouchEvent=au,n.MapWheelEvent=x0,n.Marker=fu,n.NavigationControl=class{constructor(b){this._updateZoomButtons=()=>{let r=this._map.getZoom(),u=r===this._map.getMaxZoom(),h=r===this._map.getMinZoom();this._zoomInButton.disabled=u,this._zoomOutButton.disabled=h,this._zoomInButton.setAttribute("aria-disabled",u.toString()),this._zoomOutButton.setAttribute("aria-disabled",h.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(r,u)=>{let h=this._map._getUIString(`NavigationControl.${u}`);r.title=h,r.setAttribute("aria-label",h)},this.options=a.e({},Th,b),this._container=te.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",r=>r.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",r=>this._map.zoomIn({},{originalEvent:r})),te.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",r=>this._map.zoomOut({},{originalEvent:r})),te.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",r=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:r}):this._map.resetNorth({},{originalEvent:r})}),this._compassIcon=te.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(b){return this._map=b,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new hu(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){te.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(b,r){let u=te.create("button",b,this._container);return u.type="button",u.addEventListener("click",r),u}},n.Popup=class extends a.E{constructor(b){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:"")},this.remove=()=>(this._content&&te.remove(this._content),this._container&&(te.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new a.l("close"))),this),this._onMouseUp=r=>{this._update(r.point)},this._onMouseMove=r=>{this._update(r.point)},this._onDrag=r=>{this._update(r.point)},this._update=r=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=te.create("div","maplibregl-popup",this._map.getContainer()),this._tip=te.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(let w of this.options.className.split(" "))this._container.classList.add(w);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=Md(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!r)return;let u=this._flatPos=this._pos=this._trackPointer&&r?r:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&r?r:this._map.transform.locationToScreenPoint(this._lngLat));let h=this.options.anchor,f=Pd(this.options.offset);if(!h){let w=this._container.offsetWidth,k=this._container.offsetHeight,P;P=u.y+f.bottom.y<k?["top"]:u.y>this._map.transform.height-k?["bottom"]:[],u.x<w/2?P.push("left"):u.x>this._map.transform.width-w/2&&P.push("right"),h=P.length===0?"bottom":P.join("-")}let v=u.add(f[h]);this.options.subpixelPositioning||(v=v.round()),te.setTransform(this._container,`${mu[h]} translate(${v.x}px,${v.y}px)`),kd(this._container,h,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=a.e(Object.create(Mh),b)}addTo(b){return this._map&&this.remove(),this._map=b,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(b){return this._lngLat=a.V.convert(b),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(b){return this.setDOMContent(document.createTextNode(b))}setHTML(b){let r=document.createDocumentFragment(),u=document.createElement("body"),h;for(u.innerHTML=b;h=u.firstChild,h;)r.appendChild(h);return this.setDOMContent(r)}getMaxWidth(){var b;return(b=this._container)===null||b===void 0?void 0:b.style.maxWidth}setMaxWidth(b){return this.options.maxWidth=b,this._update(),this}setDOMContent(b){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=te.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(b),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(b){return this._container&&this._container.classList.add(b),this}removeClassName(b){return this._container&&this._container.classList.remove(b),this}setOffset(b){return this.options.offset=b,this._update(),this}toggleClassName(b){if(this._container)return this._container.classList.toggle(b)}setSubpixelPositioning(b){this.options.subpixelPositioning=b}_createCloseButton(){this.options.closeButton&&(this._closeButton=te.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;let b=this._container.querySelector(Ed);b&&b.focus()}},n.RasterDEMTileSource=os,n.RasterTileSource=gl,n.ScaleControl=class{constructor(b){this._onMove=()=>{gu(this._map,this._container,this.options)},this.setUnit=r=>{this.options.unit=r,gu(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},Sh),b)}getDefaultPosition(){return"bottom-left"}onAdd(b){return this._map=b,this._container=te.create("div","maplibregl-ctrl maplibregl-ctrl-scale",b.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){te.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},n.ScrollZoomHandler=wd,n.Style=js,n.TerrainControl=class{constructor(b){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=b}onAdd(b){return this._map=b,this._container=te.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=te.create("button","maplibregl-ctrl-terrain",this._container),te.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){te.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},n.TwoFingersTouchPitchHandler=C0,n.TwoFingersTouchRotateHandler=yh,n.TwoFingersTouchZoomHandler=bh,n.TwoFingersTouchZoomRotateHandler=cu,n.VectorTileSource=Os,n.VideoSource=ze,n.addSourceType=(b,r)=>a._(void 0,void 0,void 0,function*(){if(de(b))throw new Error(`A source type called "${b}" already exists.`);((u,h)=>{J[u]=h})(b,r)}),n.clearPrewarmedResources=function(){let b=oo;b&&(b.isPreloaded()&&b.numActive()===1?(b.release(vo),oo=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},n.createTileMesh=Bm,n.getMaxParallelImageRequests=function(){return a.c.MAX_PARALLEL_IMAGE_REQUESTS},n.getRTLTextPluginStatus=function(){return Oe().getRTLTextPluginStatus()},n.getVersion=function(){return kh},n.getWorkerCount=function(){return ea.workerCount},n.getWorkerUrl=function(){return a.c.WORKER_URL},n.importScriptInWorkers=function(b){return kc().broadcast("IS",b)},n.isTimeFrozen=function(){return Y.isFrozen()},n.now=re,n.prewarm=function(){Fs().acquire(vo)},n.restoreNow=function(){Y.restoreNow()},n.setMaxParallelImageRequests=function(b){a.c.MAX_PARALLEL_IMAGE_REQUESTS=b},n.setNow=function(b){Y.setNow(b)},n.setRTLTextPlugin=function(b,r){return Oe().setRTLTextPlugin(b,r)},n.setWorkerCount=function(b){ea.workerCount=b},n.setWorkerUrl=function(b){a.c.WORKER_URL=b}});var i=t;return i})});var T6=["data-p-icon","angle-double-down"],Rf=(()=>{class t extends no{static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["","data-p-icon","angle-double-down"]],features:[gt],attrs:T6,decls:1,vars:0,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M6.70786 6.59831C6.80043 6.63674 6.89974 6.65629 6.99997 6.65581C7.19621 6.64081 7.37877 6.54953 7.50853 6.40153L11.0685 2.8416C11.1364 2.69925 11.1586 2.53932 11.132 2.38384C11.1053 2.22837 11.0311 2.08498 10.9195 1.97343C10.808 1.86188 10.6646 1.78766 10.5091 1.76099C10.3536 1.73431 10.1937 1.75649 10.0513 1.82448L6.99997 4.87585L3.9486 1.82448C3.80625 1.75649 3.64632 1.73431 3.49084 1.76099C3.33536 1.78766 3.19197 1.86188 3.08043 1.97343C2.96888 2.08498 2.89466 2.22837 2.86798 2.38384C2.84131 2.53932 2.86349 2.69925 2.93147 2.8416L6.46089 6.43205C6.53132 6.50336 6.61528 6.55989 6.70786 6.59831ZM6.70786 12.1925C6.80043 12.2309 6.89974 12.2505 6.99997 12.25C7.10241 12.2465 7.20306 12.2222 7.29575 12.1785C7.38845 12.1348 7.47124 12.0726 7.53905 11.9957L11.0685 8.46629C11.1614 8.32292 11.2036 8.15249 11.1881 7.98233C11.1727 7.81216 11.1005 7.6521 10.9833 7.52781C10.866 7.40353 10.7104 7.3222 10.5415 7.29688C10.3725 7.27155 10.1999 7.30369 10.0513 7.38814L6.99997 10.4395L3.9486 7.38814C3.80006 7.30369 3.62747 7.27155 3.45849 7.29688C3.28951 7.3222 3.13393 7.40353 3.01667 7.52781C2.89942 7.6521 2.82729 7.81216 2.81184 7.98233C2.79639 8.15249 2.83852 8.32292 2.93148 8.46629L6.4609 12.0262C6.53133 12.0975 6.61529 12.1541 6.70786 12.1925Z","fill","currentColor"]],template:function(i,n){i&1&&(it(),ua(0,"path",0))},encapsulation:2})}return t})();var C6=["data-p-icon","angle-double-up"],Nf=(()=>{class t extends no{static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["","data-p-icon","angle-double-up"]],features:[gt],attrs:C6,decls:1,vars:0,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M10.1504 6.67719C10.2417 6.71508 10.3396 6.73436 10.4385 6.73389C10.6338 6.74289 10.8249 6.67441 10.97 6.54334C11.1109 6.4023 11.19 6.21112 11.19 6.01178C11.19 5.81245 11.1109 5.62127 10.97 5.48023L7.45977 1.96998C7.31873 1.82912 7.12755 1.75 6.92821 1.75C6.72888 1.75 6.5377 1.82912 6.39666 1.96998L2.9165 5.45014C2.83353 5.58905 2.79755 5.751 2.81392 5.91196C2.83028 6.07293 2.89811 6.22433 3.00734 6.34369C3.11656 6.46306 3.26137 6.54402 3.42025 6.57456C3.57914 6.60511 3.74364 6.5836 3.88934 6.51325L6.89813 3.50446L9.90691 6.51325C9.97636 6.58357 10.0592 6.6393 10.1504 6.67719ZM9.93702 11.9993C10.065 12.1452 10.245 12.2352 10.4385 12.25C10.632 12.2352 10.812 12.1452 10.9399 11.9993C11.0633 11.8614 11.1315 11.6828 11.1315 11.4978C11.1315 11.3128 11.0633 11.1342 10.9399 10.9963L7.48987 7.48609C7.34883 7.34523 7.15765 7.26611 6.95832 7.26611C6.75899 7.26611 6.5678 7.34523 6.42677 7.48609L2.91652 10.9963C2.84948 11.1367 2.82761 11.2944 2.85391 11.4477C2.88022 11.601 2.9534 11.7424 3.06339 11.8524C3.17338 11.9624 3.31477 12.0356 3.46808 12.0619C3.62139 12.0882 3.77908 12.0663 3.91945 11.9993L6.92823 8.99048L9.93702 11.9993Z","fill","currentColor"]],template:function(i,n){i&1&&(it(),ua(0,"path",0))},encapsulation:2})}return t})();var S6=["data-p-icon","bars"],qf=(()=>{class t extends no{static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["","data-p-icon","bars"]],features:[gt],attrs:S6,decls:1,vars:0,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function(i,n){i&1&&(it(),ua(0,"path",0))},encapsulation:2})}return t})();var M6=["data-p-icon","home"],Nw=(()=>{class t extends no{pathId;ngOnInit(){super.ngOnInit(),this.pathId="url(#"+xi()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["","data-p-icon","home"]],features:[gt],attrs:M6,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M13.4175 6.79971C13.2874 6.80029 13.1608 6.75807 13.057 6.67955L12.4162 6.19913V12.6073C12.4141 12.7659 12.3502 12.9176 12.2379 13.0298C12.1257 13.142 11.9741 13.206 11.8154 13.208H8.61206C8.61179 13.208 8.61151 13.208 8.61123 13.2081C8.61095 13.208 8.61068 13.208 8.6104 13.208H5.41076C5.40952 13.208 5.40829 13.2081 5.40705 13.2081C5.40581 13.2081 5.40458 13.208 5.40334 13.208H2.20287C2.04418 13.206 1.89257 13.142 1.78035 13.0298C1.66813 12.9176 1.60416 12.7659 1.60209 12.6073V6.19914L0.961256 6.67955C0.833786 6.77515 0.673559 6.8162 0.515823 6.79367C0.358086 6.77114 0.215762 6.68686 0.120159 6.55939C0.0245566 6.43192 -0.0164931 6.2717 0.00604063 6.11396C0.0285744 5.95622 0.112846 5.8139 0.240316 5.7183L1.83796 4.52007L1.84689 4.51337L6.64868 0.912027C6.75267 0.834032 6.87915 0.79187 7.00915 0.79187C7.13914 0.79187 7.26562 0.834032 7.36962 0.912027L12.1719 4.51372L12.1799 4.51971L13.778 5.7183C13.8943 5.81278 13.9711 5.94732 13.9934 6.09553C14.0156 6.24373 13.9816 6.39489 13.8981 6.51934C13.8471 6.60184 13.7766 6.67054 13.6928 6.71942C13.609 6.76831 13.5144 6.79587 13.4175 6.79971ZM6.00783 12.0065H8.01045V7.60074H6.00783V12.0065ZM9.21201 12.0065V6.99995C9.20994 6.84126 9.14598 6.68965 9.03375 6.57743C8.92153 6.46521 8.76992 6.40124 8.61123 6.39917H5.40705C5.24836 6.40124 5.09675 6.46521 4.98453 6.57743C4.8723 6.68965 4.80834 6.84126 4.80627 6.99995V12.0065H2.80366V5.29836L7.00915 2.14564L11.2146 5.29836V12.0065H9.21201Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(it(),qo(0,"g"),ua(1,"path",0),jo(),qo(2,"defs")(3,"clipPath",1),ua(4,"rect",2),jo()()),i&2&&(ue("clip-path",n.pathId),S(3),eo("id",n.pathId))},encapsulation:2})}return t})();var k6=["data-p-icon","minus"],jf=(()=>{class t extends no{static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["","data-p-icon","minus"]],features:[gt],attrs:k6,decls:1,vars:0,consts:[["d","M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z","fill","currentColor"]],template:function(i,n){i&1&&(it(),ua(0,"path",0))},encapsulation:2})}return t})();var E6=["data-p-icon","refresh"],qw=(()=>{class t extends no{pathId;ngOnInit(){super.ngOnInit(),this.pathId="url(#"+xi()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["","data-p-icon","refresh"]],features:[gt],attrs:E6,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M6.77051 5.96336C6.84324 5.99355 6.92127 6.00891 7.00002 6.00854C7.07877 6.00891 7.1568 5.99355 7.22953 5.96336C7.30226 5.93317 7.36823 5.88876 7.42357 5.83273L9.82101 3.43529C9.93325 3.32291 9.99629 3.17058 9.99629 3.01175C9.99629 2.85292 9.93325 2.70058 9.82101 2.5882L7.42357 0.190763C7.3687 0.131876 7.30253 0.0846451 7.22901 0.0518865C7.15549 0.019128 7.07612 0.00151319 6.99564 9.32772e-05C6.91517 -0.00132663 6.83523 0.0134773 6.7606 0.0436218C6.68597 0.0737664 6.61817 0.118634 6.56126 0.175548C6.50435 0.232462 6.45948 0.300257 6.42933 0.374888C6.39919 0.449519 6.38439 0.529456 6.38581 0.609933C6.38722 0.690409 6.40484 0.769775 6.4376 0.843296C6.47036 0.916817 6.51759 0.982986 6.57647 1.03786L7.95103 2.41241H6.99998C5.46337 2.41241 3.98969 3.02283 2.90314 4.10938C1.81659 5.19593 1.20618 6.66961 1.20618 8.20622C1.20618 9.74283 1.81659 11.2165 2.90314 12.3031C3.98969 13.3896 5.46337 14 6.99998 14C8.53595 13.9979 10.0084 13.3868 11.0945 12.3007C12.1806 11.2146 12.7917 9.74218 12.7938 8.20622C12.7938 8.04726 12.7306 7.89481 12.6182 7.78241C12.5058 7.67001 12.3534 7.60686 12.1944 7.60686C12.0355 7.60686 11.883 7.67001 11.7706 7.78241C11.6582 7.89481 11.5951 8.04726 11.5951 8.20622C11.5951 9.11504 11.3256 10.0035 10.8207 10.7591C10.3157 11.5148 9.59809 12.1037 8.75845 12.4515C7.9188 12.7993 6.99489 12.8903 6.10353 12.713C5.21217 12.5357 4.3934 12.0981 3.75077 11.4554C3.10813 10.8128 2.67049 9.99404 2.49319 9.10268C2.31589 8.21132 2.40688 7.2874 2.75468 6.44776C3.10247 5.60811 3.69143 4.89046 4.44709 4.38554C5.20275 3.88063 6.09116 3.61113 6.99998 3.61113H7.95098L6.57647 4.98564C6.46423 5.09802 6.40119 5.25035 6.40119 5.40918C6.40119 5.56801 6.46423 5.72035 6.57647 5.83273C6.63181 5.88876 6.69778 5.93317 6.77051 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(it(),qo(0,"g"),ua(1,"path",0),jo(),qo(2,"defs")(3,"clipPath",1),ua(4,"rect",2),jo()()),i&2&&(ue("clip-path",n.pathId),S(3),eo("id",n.pathId))},encapsulation:2})}return t})();var P6=["data-p-icon","search-minus"],jw=(()=>{class t extends no{pathId;ngOnInit(){super.ngOnInit(),this.pathId="url(#"+xi()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["","data-p-icon","search-minus"]],features:[gt],attrs:P6,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M6.0208 12.0411C4.83005 12.0411 3.66604 11.688 2.67596 11.0265C1.68589 10.3649 0.914216 9.42464 0.458534 8.32452C0.00285271 7.22441 -0.116374 6.01388 0.11593 4.84601C0.348235 3.67813 0.921637 2.60537 1.76363 1.76338C2.60562 0.921393 3.67838 0.34799 4.84625 0.115686C6.01412 -0.116618 7.22466 0.00260857 8.32477 0.45829C9.42488 0.913972 10.3652 1.68564 11.0267 2.67572C11.6883 3.66579 12.0414 4.8298 12.0414 6.02056C12.0395 7.41563 11.5542 8.76029 10.6783 9.8305L13.8244 12.9765C13.9367 13.089 13.9997 13.2414 13.9997 13.4003C13.9997 13.5592 13.9367 13.7116 13.8244 13.8241C13.769 13.8801 13.703 13.9245 13.6302 13.9548C13.5575 13.985 13.4794 14.0003 13.4006 14C13.3218 14.0003 13.2437 13.985 13.171 13.9548C13.0982 13.9245 13.0322 13.8801 12.9768 13.8241L9.83082 10.678C8.76059 11.5539 7.4159 12.0393 6.0208 12.0411ZM6.0208 1.20731C5.07199 1.20731 4.14449 1.48867 3.35559 2.0158C2.56669 2.54292 1.95181 3.29215 1.58872 4.16874C1.22562 5.04532 1.13062 6.00989 1.31572 6.94046C1.50083 7.87104 1.95772 8.72583 2.62863 9.39674C3.29954 10.0676 4.15433 10.5245 5.0849 10.7096C6.01548 10.8947 6.98005 10.7997 7.85663 10.4367C8.73322 10.0736 9.48244 9.45868 10.0096 8.66978C10.5367 7.88088 10.8181 6.95337 10.8181 6.00457C10.8181 4.73226 10.3126 3.51206 9.41297 2.6124C8.51331 1.71274 7.29311 1.20731 6.0208 1.20731ZM4.00591 6.60422H8.00362C8.16266 6.60422 8.31518 6.54104 8.42764 6.42859C8.5401 6.31613 8.60328 6.1636 8.60328 6.00456C8.60328 5.84553 8.5401 5.693 8.42764 5.58054C8.31518 5.46809 8.16266 5.40491 8.00362 5.40491H4.00591C3.84687 5.40491 3.69434 5.46809 3.58189 5.58054C3.46943 5.693 3.40625 5.84553 3.40625 6.00456C3.40625 6.1636 3.46943 6.31613 3.58189 6.42859C3.69434 6.54104 3.84687 6.60422 4.00591 6.60422Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(it(),qo(0,"g"),ua(1,"path",0),jo(),qo(2,"defs")(3,"clipPath",1),ua(4,"rect",2),jo()()),i&2&&(ue("clip-path",n.pathId),S(3),eo("id",n.pathId))},encapsulation:2})}return t})();var D6=["data-p-icon","search-plus"],Hw=(()=>{class t extends no{pathId;ngOnInit(){super.ngOnInit(),this.pathId="url(#"+xi()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["","data-p-icon","search-plus"]],features:[gt],attrs:D6,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M2.67596 11.0265C3.66604 11.688 4.83005 12.0411 6.0208 12.0411C6.81143 12.0411 7.59432 11.8854 8.32477 11.5828C8.86999 11.357 9.37802 11.0526 9.83311 10.6803L12.9768 13.8241C13.0322 13.8801 13.0982 13.9245 13.171 13.9548C13.2437 13.985 13.3218 14.0003 13.4006 14C13.4794 14.0003 13.5575 13.985 13.6302 13.9548C13.703 13.9245 13.769 13.8801 13.8244 13.8241C13.9367 13.7116 13.9997 13.5592 13.9997 13.4003C13.9997 13.2414 13.9367 13.089 13.8244 12.9765L10.6806 9.8328C11.0529 9.37773 11.3572 8.86972 11.5831 8.32452C11.8856 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0267 2.67572C10.3652 1.68564 9.42488 0.913972 8.32477 0.45829C7.22466 0.00260857 6.01412 -0.116618 4.84625 0.115686C3.67838 0.34799 2.60562 0.921393 1.76363 1.76338C0.921637 2.60537 0.348235 3.67813 0.11593 4.84601C-0.116374 6.01388 0.00285271 7.22441 0.458534 8.32452C0.914216 9.42464 1.68589 10.3649 2.67596 11.0265ZM3.35559 2.0158C4.14449 1.48867 5.07199 1.20731 6.0208 1.20731C7.29311 1.20731 8.51331 1.71274 9.41297 2.6124C10.3126 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5367 7.88088 10.0096 8.66978C9.48244 9.45868 8.73322 10.0736 7.85663 10.4367C6.98005 10.7997 6.01548 10.8947 5.0849 10.7096C4.15433 10.5245 3.29954 10.0676 2.62863 9.39674C1.95772 8.72583 1.50083 7.87104 1.31572 6.94046C1.13062 6.00989 1.22562 5.04532 1.58872 4.16874C1.95181 3.29215 2.56669 2.54292 3.35559 2.0158ZM6.00481 8.60309C5.84641 8.60102 5.69509 8.53718 5.58308 8.42517C5.47107 8.31316 5.40722 8.16183 5.40515 8.00344V6.60422H4.00591C3.84687 6.60422 3.69434 6.54104 3.58189 6.42859C3.46943 6.31613 3.40625 6.1636 3.40625 6.00456C3.40625 5.84553 3.46943 5.693 3.58189 5.58054C3.69434 5.46809 3.84687 5.40491 4.00591 5.40491H5.40515V4.00572C5.40515 3.84668 5.46833 3.69416 5.58079 3.5817C5.69324 3.46924 5.84577 3.40607 6.00481 3.40607C6.16385 3.40607 6.31637 3.46924 6.42883 3.5817C6.54129 3.69416 6.60447 3.84668 6.60447 4.00572V5.40491H8.00362C8.16266 5.40491 8.31518 5.46809 8.42764 5.58054C8.5401 5.693 8.60328 5.84553 8.60328 6.00456C8.60328 6.1636 8.5401 6.31613 8.42764 6.42859C8.31518 6.54104 8.16266 6.60422 8.00362 6.60422H6.60447V8.00344C6.60239 8.16183 6.53855 8.31316 6.42654 8.42517C6.31453 8.53718 6.1632 8.60102 6.00481 8.60309Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(it(),qo(0,"g"),ua(1,"path",0),jo(),qo(2,"defs")(3,"clipPath",1),ua(4,"rect",2),jo()()),i&2&&(ue("clip-path",n.pathId),S(3),eo("id",n.pathId))},encapsulation:2})}return t})();var L6=["data-p-icon","undo"],Gw=(()=>{class t extends no{pathId;ngOnInit(){super.ngOnInit(),this.pathId="url(#"+xi()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["","data-p-icon","undo"]],features:[gt],attrs:L6,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M6.77042 5.96336C6.84315 5.99355 6.92118 6.00891 6.99993 6.00854C7.07868 6.00891 7.15671 5.99355 7.22944 5.96336C7.30217 5.93317 7.36814 5.88876 7.42348 5.83273C7.53572 5.72035 7.59876 5.56801 7.59876 5.40918C7.59876 5.25035 7.53572 5.09802 7.42348 4.98564L6.04897 3.61113H6.99998C7.9088 3.61113 8.79722 3.88063 9.55288 4.38554C10.3085 4.89046 10.8975 5.60811 11.2453 6.44776C11.5931 7.2874 11.6841 8.21132 11.5068 9.10268C11.3295 9.99404 10.8918 10.8128 10.2492 11.4554C9.60657 12.0981 8.7878 12.5357 7.89644 12.713C7.00508 12.8903 6.08116 12.7993 5.24152 12.4515C4.40188 12.1037 3.68422 11.5148 3.17931 10.7591C2.67439 10.0035 2.4049 9.11504 2.4049 8.20622C2.4049 8.04726 2.34175 7.89481 2.22935 7.78241C2.11695 7.67001 1.9645 7.60686 1.80554 7.60686C1.64658 7.60686 1.49413 7.67001 1.38172 7.78241C1.26932 7.89481 1.20618 8.04726 1.20618 8.20622C1.20829 9.74218 1.81939 11.2146 2.90548 12.3007C3.99157 13.3868 5.46402 13.9979 6.99998 14C8.5366 14 10.0103 13.3896 11.0968 12.3031C12.1834 11.2165 12.7938 9.74283 12.7938 8.20622C12.7938 6.66961 12.1834 5.19593 11.0968 4.10938C10.0103 3.02283 8.5366 2.41241 6.99998 2.41241H6.04892L7.42348 1.03786C7.48236 0.982986 7.5296 0.916817 7.56235 0.843296C7.59511 0.769775 7.61273 0.690409 7.61415 0.609933C7.61557 0.529456 7.60076 0.449519 7.57062 0.374888C7.54047 0.300257 7.49561 0.232462 7.43869 0.175548C7.38178 0.118634 7.31398 0.0737664 7.23935 0.0436218C7.16472 0.0134773 7.08478 -0.00132663 7.00431 9.32772e-05C6.92383 0.00151319 6.84447 0.019128 6.77095 0.0518865C6.69742 0.0846451 6.63126 0.131876 6.57638 0.190763L4.17895 2.5882C4.06671 2.70058 4.00366 2.85292 4.00366 3.01175C4.00366 3.17058 4.06671 3.32291 4.17895 3.43529L6.57638 5.83273C6.63172 5.88876 6.69769 5.93317 6.77042 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(it(),qo(0,"g"),ua(1,"path",0),jo(),qo(2,"defs")(3,"clipPath",1),ua(4,"rect",2),jo()()),i&2&&(ue("clip-path",n.pathId),S(3),eo("id",n.pathId))},encapsulation:2})}return t})();var Uw=`
    .p-buttongroup {
        display: inline-flex;
    }

    .p-buttongroup .p-button {
        margin: 0;
    }

    .p-buttongroup .p-button:not(:last-child),
    .p-buttongroup .p-button:not(:last-child):hover {
        border-inline-end: 0 none;
    }

    .p-buttongroup .p-button:not(:first-of-type):not(:last-of-type) {
        border-radius: 0;
    }

    .p-buttongroup .p-button:first-of-type:not(:only-of-type) {
        border-start-end-radius: 0;
        border-end-end-radius: 0;
    }

    .p-buttongroup .p-button:last-of-type:not(:only-of-type) {
        border-start-start-radius: 0;
        border-end-start-radius: 0;
    }

    .p-buttongroup .p-button:focus {
        position: relative;
        z-index: 1;
    }
`;var A6=["*"],F6=`
    ${Uw}

    /* For PrimeNG */
    .p-buttongroup p-button:focus .p-button {
        position: relative;
        z-index: 1;
    }

    .p-buttongroup p-button:not(:last-child) .p-button,
    .p-buttongroup p-button:not(:last-child) .p-button:hover {
        border-right: 0 none;
    }

    .p-buttongroup p-button:not(:first-of-type):not(:last-of-type) .p-button {
        border-radius: 0;
    }

    .p-buttongroup p-button:first-of-type:not(:only-of-type) .p-button {
        border-start-end-radius: 0;
        border-end-end-radius: 0;
    }

    .p-buttongroup p-button:last-of-type:not(:only-of-type) .p-button {
        border-start-start-radius: 0;
        border-end-start-radius: 0;
    }
`,O6={root:"p-buttongroup p-component"},$w=(()=>{class t extends Vt{name="buttongroup";theme=F6;classes=O6;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var K1=(()=>{class t extends Ot{_componentStyle=lt($w);static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-buttonGroup"],["p-buttongroup"],["p-button-group"]],features:[bt([$w]),gt],ngContentSelectors:A6,decls:2,vars:0,consts:[["role","group",1,"p-buttongroup","p-component"]],template:function(i,n){i&1&&($i(),L(0,"span",0),Pi(1),D())},dependencies:[mt],encapsulation:2,changeDetection:0})}return t})(),Kw=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[K1]})}return t})();var Ww=`
    .p-tieredmenu {
        background: dt('tieredmenu.background');
        color: dt('tieredmenu.color');
        border: 1px solid dt('tieredmenu.border.color');
        border-radius: dt('tieredmenu.border.radius');
        min-width: 12.5rem;
    }

    .p-tieredmenu-root-list,
    .p-tieredmenu-submenu {
        margin: 0;
        padding: dt('tieredmenu.list.padding');
        list-style: none;
        outline: 0 none;
        display: flex;
        flex-direction: column;
        gap: dt('tieredmenu.list.gap');
    }

    .p-tieredmenu-submenu {
        position: absolute;
        min-width: 100%;
        z-index: 1;
        background: dt('tieredmenu.background');
        color: dt('tieredmenu.color');
        border: 1px solid dt('tieredmenu.border.color');
        border-radius: dt('tieredmenu.border.radius');
        box-shadow: dt('tieredmenu.shadow');
    }

    .p-tieredmenu-item {
        position: relative;
    }

    .p-tieredmenu-item-content {
        transition:
            background dt('tieredmenu.transition.duration'),
            color dt('tieredmenu.transition.duration');
        border-radius: dt('tieredmenu.item.border.radius');
        color: dt('tieredmenu.item.color');
    }

    .p-tieredmenu-item-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
        color: inherit;
        padding: dt('tieredmenu.item.padding');
        gap: dt('tieredmenu.item.gap');
        user-select: none;
        outline: 0 none;
    }

    .p-tieredmenu-item-label {
        line-height: 1;
    }

    .p-tieredmenu-item-icon {
        color: dt('tieredmenu.item.icon.color');
    }

    .p-tieredmenu-submenu-icon {
        color: dt('tieredmenu.submenu.icon.color');
        margin-left: auto;
        font-size: dt('tieredmenu.submenu.icon.size');
        width: dt('tieredmenu.submenu.icon.size');
        height: dt('tieredmenu.submenu.icon.size');
    }

    .p-tieredmenu-submenu-icon:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
    }

    .p-tieredmenu-item.p-focus > .p-tieredmenu-item-content {
        color: dt('tieredmenu.item.focus.color');
        background: dt('tieredmenu.item.focus.background');
    }

    .p-tieredmenu-item.p-focus > .p-tieredmenu-item-content .p-tieredmenu-item-icon {
        color: dt('tieredmenu.item.icon.focus.color');
    }

    .p-tieredmenu-item.p-focus > .p-tieredmenu-item-content .p-tieredmenu-submenu-icon {
        color: dt('tieredmenu.submenu.icon.focus.color');
    }

    .p-tieredmenu-item:not(.p-disabled) > .p-tieredmenu-item-content:hover {
        color: dt('tieredmenu.item.focus.color');
        background: dt('tieredmenu.item.focus.background');
    }

    .p-tieredmenu-item:not(.p-disabled) > .p-tieredmenu-item-content:hover .p-tieredmenu-item-icon {
        color: dt('tieredmenu.item.icon.focus.color');
    }

    .p-tieredmenu-item:not(.p-disabled) > .p-tieredmenu-item-content:hover .p-tieredmenu-submenu-icon {
        color: dt('tieredmenu.submenu.icon.focus.color');
    }

    .p-tieredmenu-item-active > .p-tieredmenu-item-content {
        color: dt('tieredmenu.item.active.color');
        background: dt('tieredmenu.item.active.background');
    }

    .p-tieredmenu-item-active > .p-tieredmenu-item-content .p-tieredmenu-item-icon {
        color: dt('tieredmenu.item.icon.active.color');
    }

    .p-tieredmenu-item-active > .p-tieredmenu-item-content .p-tieredmenu-submenu-icon {
        color: dt('tieredmenu.submenu.icon.active.color');
    }

    .p-tieredmenu-separator {
        border-block-start: 1px solid dt('tieredmenu.separator.border.color');
    }

    .p-tieredmenu-overlay {
        box-shadow: dt('tieredmenu.shadow');
    }

    .p-tieredmenu-enter-from,
    .p-tieredmenu-leave-active {
        opacity: 0;
    }

    .p-tieredmenu-enter-active {
        transition: opacity 250ms;
    }

    .p-tieredmenu-mobile .p-tieredmenu-submenu {
        position: static;
        box-shadow: none;
        border: 0 none;
        padding-inline-start: dt('tieredmenu.submenu.mobile.indent');
        padding-inline-end: 0;
    }

    .p-tieredmenu-mobile .p-tieredmenu-submenu:dir(rtl) {
        padding-inline-start: 0;
        padding-inline-end: dt('tieredmenu.submenu.mobile.indent');
    }

    .p-tieredmenu-mobile .p-tieredmenu-submenu-icon {
        transition: transform 0.2s;
        transform: rotate(90deg);
    }

    .p-tieredmenu-mobile .p-tieredmenu-item-active > .p-tieredmenu-item-content .p-tieredmenu-submenu-icon {
        transform: rotate(-90deg);
    }
`;var z6=["sublist"],B6=t=>({processedItem:t}),R6=()=>({exact:!1}),N6=(t,s)=>({$implicit:t,hasSubmenu:s}),q6=t=>({display:t});function j6(t,s){if(t&1&&oe(0,"li",7),t&2){let e=M().$implicit,i=M();Ft(i.getItemProp(e,"style")),K(i.cn(i.cx("separator"),i.getItemProp(e,"class"),i.getItemProp(e,"styleClass"))),ue("id",i.getItemId(e))("data-pc-section","separator")}}function H6(t,s){if(t&1&&oe(0,"span",18),t&2){let e=M(4).$implicit,i=M();K(i.cn(i.cx("itemIcon"),i.getItemProp(e,"icon"))),T("ngStyle",i.getItemProp(e,"iconStyle")),ue("data-pc-section","icon")("tabindex",-1)}}function G6(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(4).$implicit,i=M();K(i.cx("itemLabel")),ue("data-pc-section","label"),S(),ni(" ",i.getItemLabel(e)," ")}}function U6(t,s){if(t&1&&oe(0,"span",19),t&2){let e=M(4).$implicit,i=M();K(i.cx("itemLabel")),T("innerHTML",i.getItemLabel(e),ba),ue("data-pc-section","label")}}function $6(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(4).$implicit,i=M();K(i.cn(i.cx("itemBadge"),i.getItemProp(e,"badgeStyleClass"))),S(),Dt(i.getItemProp(e,"badge"))}}function K6(t,s){if(t&1&&(it(),oe(0,"svg",22)),t&2){let e=M(6);K(e.cx("submenuIcon")),ue("data-pc-section","submenuicon")("aria-hidden",!0)}}function W6(t,s){}function Q6(t,s){t&1&&B(0,W6,0,0,"ng-template",23),t&2&&T("data-pc-section","submenuicon")("aria-hidden",!0)}function Z6(t,s){if(t&1&&(We(0),B(1,K6,1,4,"svg",20)(2,Q6,1,2,null,21),Qe()),t&2){let e=M(5);S(),T("ngIf",!e.tieredMenu.submenuIconTemplate&&!e.tieredMenu._submenuIconTemplate),S(),T("ngTemplateOutlet",e.tieredMenu.submenuIconTemplate||e.tieredMenu._submenuIconTemplate)}}function X6(t,s){if(t&1&&(L(0,"a",14),B(1,H6,1,5,"span",15)(2,G6,2,4,"span",16)(3,U6,1,4,"ng-template",null,2,Be)(5,$6,2,3,"span",17)(6,Z6,3,2,"ng-container",10),D()),t&2){let e=Ut(4),i=M(3).$implicit,n=M();K(n.cx("itemLink")),T("target",n.getItemProp(i,"target")),ue("href",n.getItemProp(i,"url"),an)("data-automationid",n.getItemProp(i,"automationId"))("data-pc-section","action")("tabindex",-1),S(),T("ngIf",n.getItemProp(i,"icon")),S(),T("ngIf",n.getItemProp(i,"escape"))("ngIfElse",e),S(3),T("ngIf",n.getItemProp(i,"badge")),S(),T("ngIf",n.isItemGroup(i))}}function Y6(t,s){if(t&1&&oe(0,"span",18),t&2){let e=M(4).$implicit,i=M();K(i.cn(i.cx("itemIcon"),i.getItemProp(e,"icon"))),T("ngStyle",i.getItemProp(e,"iconStyle")),ue("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function J6(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(4).$implicit,i=M();K(i.cx("itemLabel")),ue("data-pc-section","label"),S(),ni(" ",i.getItemLabel(e)," ")}}function eM(t,s){if(t&1&&oe(0,"span",19),t&2){let e=M(4).$implicit,i=M();K(i.cx("itemLabel")),T("innerHTML",i.getItemLabel(e),ba),ue("data-pc-section","label")}}function tM(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(4).$implicit,i=M();K(i.cn(i.cx("itemBadge"),i.getItemProp(e,"badgeStyleClass"))),S(),Dt(i.getItemProp(e,"badge"))}}function iM(t,s){if(t&1&&(it(),oe(0,"svg",22)),t&2){let e=M(6);K(e.cx("submenuIcon")),ue("data-pc-section","submenuicon")("aria-hidden",!0)}}function nM(t,s){}function aM(t,s){t&1&&B(0,nM,0,0,"ng-template",23),t&2&&T("data-pc-section","submenuicon")("aria-hidden",!0)}function oM(t,s){if(t&1&&(We(0),B(1,iM,1,4,"svg",20)(2,aM,1,2,null,21),Qe()),t&2){let e=M(5);S(),T("ngIf",!e.tieredMenu.submenuIconTemplate&&!e.tieredMenu._submenuIconTemplate),S(),T("ngTemplateOutlet",e.tieredMenu.submenuIconTemplate||e.tieredMenu._submenuIconTemplate)}}function rM(t,s){if(t&1&&(L(0,"a",24),B(1,Y6,1,6,"span",15)(2,J6,2,4,"span",16)(3,eM,1,4,"ng-template",null,2,Be)(5,tM,2,3,"span",17)(6,oM,3,2,"ng-container",10),D()),t&2){let e=Ut(4),i=M(3).$implicit,n=M();K(n.cx("itemLink")),T("routerLink",n.getItemProp(i,"routerLink"))("queryParams",n.getItemProp(i,"queryParams"))("routerLinkActive","p-tieredmenu-item-link-active")("routerLinkActiveOptions",n.getItemProp(i,"routerLinkActiveOptions")||Kt(21,R6))("target",n.getItemProp(i,"target"))("fragment",n.getItemProp(i,"fragment"))("queryParamsHandling",n.getItemProp(i,"queryParamsHandling"))("preserveFragment",n.getItemProp(i,"preserveFragment"))("skipLocationChange",n.getItemProp(i,"skipLocationChange"))("replaceUrl",n.getItemProp(i,"replaceUrl"))("state",n.getItemProp(i,"state")),ue("data-automationid",n.getItemProp(i,"automationId"))("tabindex",-1)("data-pc-section","action"),S(),T("ngIf",n.getItemProp(i,"icon")),S(),T("ngIf",n.getItemProp(i,"escape"))("ngIfElse",e),S(3),T("ngIf",n.getItemProp(i,"badge")),S(),T("ngIf",n.isItemGroup(i))}}function sM(t,s){if(t&1&&(We(0),B(1,X6,7,12,"a",12)(2,rM,7,22,"a",13),Qe()),t&2){let e=M(2).$implicit,i=M();S(),T("ngIf",!i.getItemProp(e,"routerLink")),S(),T("ngIf",i.getItemProp(e,"routerLink"))}}function lM(t,s){}function cM(t,s){t&1&&B(0,lM,0,0,"ng-template")}function uM(t,s){if(t&1&&(We(0),B(1,cM,1,0,null,25),Qe()),t&2){let e=M(2).$implicit,i=M();S(),T("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",li(2,N6,e.item,i.getItemProp(e,"items")))}}function dM(t,s){if(t&1){let e=Re();L(0,"p-tieredmenusub",26),Ie("itemClick",function(n){Z(e);let a=M(3);return X(a.itemClick.emit(n))})("itemMouseEnter",function(n){Z(e);let a=M(3);return X(a.onItemMouseEnter(n))}),D()}if(t&2){let e=M(2).$implicit,i=M();T("items",e.items)("itemTemplate",i.itemTemplate)("autoDisplay",i.autoDisplay)("menuId",i.menuId)("activeItemPath",i.activeItemPath())("focusedItemId",i.focusedItemId)("ariaLabelledBy",i.getItemId(e))("level",i.level+1)("inlineStyles",rt(9,q6,i.isItemActive(e)?"flex":"none"))}}function pM(t,s){if(t&1){let e=Re();L(0,"li",8,1)(2,"div",9),Ie("click",function(n){Z(e);let a=M().$implicit,p=M();return X(p.onItemClick(n,a))})("mouseenter",function(n){Z(e);let a=M().$implicit,p=M();return X(p.onItemMouseEnter({$event:n,processedItem:a}))}),B(3,sM,3,2,"ng-container",10)(4,uM,2,5,"ng-container",10),D(),B(5,dM,1,11,"p-tieredmenusub",11),D()}if(t&2){let e=M(),i=e.$implicit,n=e.index,a=M();K(a.cn(a.cx("item",rt(21,B6,i)),a.getItemProp(i,"styleClass"))),T("ngStyle",a.getItemProp(i,"style"))("tooltipOptions",a.getItemProp(i,"tooltipOptions")),ue("id",a.getItemId(i))("data-pc-section","menuitem")("data-p-highlight",a.isItemActive(i))("data-p-focused",a.isItemFocused(i))("data-p-disabled",a.isItemDisabled(i))("aria-label",a.getItemLabel(i))("aria-disabled",a.isItemDisabled(i)||void 0)("aria-haspopup",a.isItemGroup(i)&&!a.getItemProp(i,"to")?"menu":void 0)("aria-expanded",a.isItemGroup(i)?a.isItemActive(i):void 0)("aria-setsize",a.getAriaSetSize())("aria-posinset",a.getAriaPosInset(n)),S(2),K(a.cx("itemContent")),ue("data-pc-section","content"),S(),T("ngIf",!a.itemTemplate),S(),T("ngIf",a.itemTemplate),S(),T("ngIf",a.isItemVisible(i)&&a.isItemGroup(i))}}function hM(t,s){if(t&1&&B(0,j6,1,6,"li",5)(1,pM,6,23,"li",6),t&2){let e=s.$implicit,i=M();T("ngIf",i.isItemVisible(e)&&i.getItemProp(e,"separator")),S(),T("ngIf",i.isItemVisible(e)&&!i.getItemProp(e,"separator"))}}var mM=["submenuicon"],fM=["item"],gM=["rootmenu"],_M=["container"],bM=(t,s)=>({showTransitionParams:t,hideTransitionParams:s}),yM=t=>({value:"visible",params:t});function vM(t,s){if(t&1){let e=Re();L(0,"div",3,0),Ie("click",function(n){Z(e);let a=M();return X(a.onOverlayClick(n))})("@overlayAnimation.start",function(n){Z(e);let a=M();return X(a.onOverlayAnimationStart(n))})("@overlayAnimation.done",function(n){Z(e);let a=M();return X(a.onOverlayAnimationEnd(n))}),L(2,"p-tieredMenuSub",4,1),Ie("itemClick",function(n){Z(e);let a=M();return X(a.onItemClick(n))})("menuFocus",function(n){Z(e);let a=M();return X(a.onMenuFocus(n))})("menuBlur",function(n){Z(e);let a=M();return X(a.onMenuBlur(n))})("menuKeydown",function(n){Z(e);let a=M();return X(a.onKeyDown(n))})("itemMouseEnter",function(n){Z(e);let a=M();return X(a.onItemMouseEnter(n))}),D()()}if(t&2){let e=M();K(e.cn(e.cx("root"),e.styleClass)),T("id",e.id)("ngStyle",e.style)("@overlayAnimation",rt(24,yM,li(21,bM,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.popup!==!0),ue("data-pc-section","root")("data-pc-name","tieredmenu"),S(2),T("root",!0)("items",e.processedItems)("itemTemplate",e.itemTemplate||e._itemTemplate)("menuId",e.id)("tabindex",e.disabled?-1:e.tabindex)("ariaLabel",e.ariaLabel)("ariaLabelledBy",e.ariaLabelledBy)("baseZIndex",e.baseZIndex)("autoZIndex",e.autoZIndex)("autoDisplay",e.autoDisplay)("popup",e.popup)("focusedItemId",e.focused?e.focusedItemId:void 0)("activeItemPath",e.activeItemPath())}}var xM={submenu:({instance:t,processedItem:s})=>({display:t.isItemActive(s)?"flex":"none"})},wM={root:({instance:t})=>["p-tieredmenu p-component",{"p-tieredmenu-overlay":t.popup,"p-tieredmenu-mobile":t.queryMatches}],start:"p-tieredmenu-start",rootList:"p-tieredmenu-root-list",item:({instance:t,processedItem:s})=>["p-tieredmenu-item",{"p-tieredmenu-item-active":t.isItemActive(s),"p-focus":t.isItemFocused(s),"p-disabled":t.isItemDisabled(s)}],itemContent:"p-tieredmenu-item-content",itemLink:"p-tieredmenu-item-link",itemIcon:"p-tieredmenu-item-icon",itemLabel:"p-tieredmenu-item-label",itemBadge:"p-menuitem-badge",submenuIcon:"p-tieredmenu-submenu-icon",submenu:"p-tieredmenu-submenu",separator:"p-tieredmenu-separator",end:"p-tieredmenu-end"},W1=(()=>{class t extends Vt{name="tieredmenu";theme=Ww;classes=wM;inlineStyles=xM;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var IM=(()=>{class t extends Ot{el;renderer;tieredMenu;items;itemTemplate;root=!1;autoDisplay;autoZIndex=!0;baseZIndex=0;popup;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath=sn([]);tabindex=0;inlineStyles;itemClick=new Fe;itemMouseEnter=new Fe;menuFocus=new Fe;menuBlur=new Fe;menuKeydown=new Fe;sublistViewChild;_componentStyle=lt(W1);constructor(e,i,n){super(),this.el=e,this.renderer=i,this.tieredMenu=n}positionSubmenu(){if(ci(this.tieredMenu.platformId)){let e=this.sublistViewChild&&this.sublistViewChild.nativeElement;e&&Lx(e,this.level)}}getItemProp(e,i,n=null){return e&&e.item?Mo(e.item[i],n):void 0}getItemId(e){return e.item?.id??`${this.menuId}_${e.key}`}getItemKey(e){return this.getItemId(e)}getItemClass(e){return Ta(ai({},this.getItemProp(e,"class")),{"p-tieredmenu-item":!0,"p-tieredmenu-item-active":this.isItemActive(e),"p-focus":this.isItemFocused(e),"p-disabled":this.isItemDisabled(e)})}getItemLabel(e){return this.getItemProp(e,"label")}getSeparatorItemClass(e){return Ta(ai({},this.getItemProp(e,"class")),{"p-tieredmenu-separator":!0})}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(i=>{let n=this.isItemVisible(i),a=n&&this.getItemProp(i,"separator");return!n||a}).length+1}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemActive(e){if(this.activeItemPath())return this.positionSubmenu(),this.activeItemPath().some(i=>i.key===e.key)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return Gt(e.items)}onItemMouseEnter(e){if(this.autoDisplay){let{event:i,processedItem:n}=e;this.itemMouseEnter.emit({originalEvent:i,processedItem:n})}}onItemClick(e,i){this.getItemProp(i,"command",{originalEvent:e,item:i.item}),this.itemClick.emit({originalEvent:e,processedItem:i,isFocus:!0})}static \u0275fac=function(i){return new(i||t)(At(Ja),At(Su),At(nn(()=>hp)))};static \u0275cmp=Je({type:t,selectors:[["p-tieredMenuSub"],["p-tieredmenusub"]],viewQuery:function(i,n){if(i&1&&dt(z6,7),i&2){let a;le(a=ce())&&(n.sublistViewChild=a.first)}},inputs:{items:"items",itemTemplate:"itemTemplate",root:[2,"root","root",we],autoDisplay:[2,"autoDisplay","autoDisplay",we],autoZIndex:[2,"autoZIndex","autoZIndex",we],baseZIndex:[2,"baseZIndex","baseZIndex",Tt],popup:[2,"popup","popup",we],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[2,"level","level",Tt],focusedItemId:"focusedItemId",activeItemPath:[1,"activeItemPath"],tabindex:[2,"tabindex","tabindex",Tt],inlineStyles:"inlineStyles"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[gt],decls:3,vars:12,consts:[["sublist",""],["listItem",""],["htmlLabel",""],["role","menu",3,"keydown","focus","blur","id","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"style","class",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","class","tooltipOptions",4,"ngIf"],["role","separator"],["role","menuitem","pTooltip","",3,"ngStyle","tooltipOptions"],[3,"click","mouseenter"],[4,"ngIf"],[3,"items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level","inlineStyles","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","class",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","class","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target"],[3,"class","ngStyle",4,"ngIf"],[3,"class",4,"ngIf","ngIfElse"],[3,"class",4,"ngIf"],[3,"ngStyle"],[3,"innerHTML"],["data-p-icon","angle-right",3,"class",4,"ngIf"],[4,"ngTemplateOutlet"],["data-p-icon","angle-right"],[3,"data-pc-section","aria-hidden"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemClick","itemMouseEnter","items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level","inlineStyles"]],template:function(i,n){if(i&1){let a=Re();L(0,"ul",3,0),Ie("keydown",function(y){return Z(a),X(n.menuKeydown.emit(y))})("focus",function(y){return Z(a),X(n.menuFocus.emit(y))})("blur",function(y){return Z(a),X(n.menuBlur.emit(y))}),B(2,hM,2,2,"ng-template",4),D()}i&2&&(Ft(n.inlineStyles),K(n.root?n.cx("rootList"):n.cx("submenu")),T("id",n.menuId+"_list")("tabindex",n.tabindex),ue("aria-label",n.ariaLabel)("aria-labelledBy",n.ariaLabelledBy)("aria-activedescendant",n.focusedItemId)("aria-orientation","vertical")("data-pc-section","menu"),S(2),T("ngForOf",n.items))},dependencies:[t,mt,ji,$t,ei,bi,io,Tr,rl,pn,ya,Ga,Cs,Xe],encapsulation:2})}return t})(),hp=(()=>{class t extends Ot{overlayService;set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}popup;style;styleClass;breakpoint="960px";autoZIndex=!0;baseZIndex=0;autoDisplay=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";id;ariaLabel;ariaLabelledBy;disabled=!1;tabindex=0;appendTo=sn(void 0);onShow=new Fe;onHide=new Fe;rootmenu;containerViewChild;submenuIconTemplate;itemTemplate;templates;$appendTo=Vi(()=>this.appendTo()||this.config.overlayAppendTo());container;outsideClickListener;resizeListener;scrollHandler;target;relatedTarget;visible;relativeAlign;dirty=!1;focused=!1;activeItemPath=Ei([]);number=Ei(0);focusedItemInfo=Ei({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;_componentStyle=lt(W1);matchMediaListener;query;queryMatches;_submenuIconTemplate;_itemTemplate;get visibleItems(){let e=this.activeItemPath().find(i=>i.key===this.focusedItemInfo().parentKey);return e?e.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let e=this.focusedItemInfo();return e.item?.id?e.item.id:e.index!==-1?`${this.id}${Gt(e.parentKey)?"_"+e.parentKey:""}_${e.index}`:null}constructor(e){super(),this.overlayService=e,Or(()=>{let i=this.activeItemPath();Gt(i)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){super.ngOnInit(),this.bindMatchMediaListener(),this.id=this.id||xi("pn_id_")}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"submenuicon":this._submenuIconTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}bindMatchMediaListener(){if(ci(this.platformId)&&!this.matchMediaListener){let e=window.matchMedia(`(max-width: ${this.breakpoint})`);this.query=e,this.queryMatches=e.matches,this.matchMediaListener=()=>{this.queryMatches=e.matches},e.addEventListener("change",this.matchMediaListener)}}unbindMatchMediaListener(){this.matchMediaListener&&(this.query.removeEventListener("change",this.matchMediaListener),this.matchMediaListener=null)}createProcessedItems(e,i=0,n={},a=""){let p=[];return e&&e.forEach((y,C)=>{let A=(a!==""?a+"_":"")+C,R={item:y,index:C,level:i,key:A,parent:n,parentKey:a};R.items=this.createProcessedItems(y.items,i+1,R,A),p.push(R)}),p}getItemProp(e,i){return e?Mo(e[i]):void 0}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isProcessedItemGroup(e){return e&&Gt(e.items)}isSelected(e){return this.activeItemPath().some(i=>i.key===e.key)}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)&&this.isItemVisible(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&Gt(e.items)}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}onItemClick(e){let{originalEvent:i,processedItem:n}=e,a=this.isProcessedItemGroup(n),p=dn(n.parent);if(this.isSelected(n)){let{index:C,key:A,level:R,parentKey:$,item:Y}=n;this.activeItemPath.set(this.activeItemPath().filter(re=>A!==re.key&&A.startsWith(re.key))),this.focusedItemInfo.set({index:C,level:R,parentKey:$,item:Y}),this.dirty=!0,Wt(this.rootmenu.sublistViewChild.nativeElement)}else if(a)this.onItemChange(e);else{let C=p?n:this.activeItemPath().find(A=>A.parentKey==="");this.hide(i),this.changeFocusedItemIndex(i,C?C.index:-1),Wt(this.rootmenu.sublistViewChild.nativeElement)}}onItemMouseEnter(e){Vr()?this.onItemChange({event:e,processedItem:e.processedItem,focus:this.autoDisplay},"hover"):this.dirty&&this.onItemChange(e,"hover")}onKeyDown(e){let i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!i&&Jo(e.key)&&this.searchItems(e,e.key);break}}onArrowDownKey(e){let i=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}onArrowRightKey(e){let i=this.visibleItems[this.focusedItemInfo().index],n=this.isProccessedItemGroup(i),a=i?.item;n&&(this.onItemChange({originalEvent:e,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:a}),this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()}onArrowUpKey(e){if(e.altKey){if(this.focusedItemInfo().index!==-1){let i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:e,processedItem:i})}this.popup&&this.hide(e,!0),e.preventDefault()}else{let i=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}}onArrowLeftKey(e){let i=this.visibleItems[this.focusedItemInfo().index],n=this.activeItemPath().find(y=>y.key===i.parentKey);dn(i.parent)||(this.focusedItemInfo.set({index:-1,parentKey:n?n.parentKey:"",item:i.item}),this.searchValue="",this.onArrowDownKey(e));let p=this.activeItemPath().filter(y=>y.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(p),e.preventDefault()}onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){this.hide(e,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),e.preventDefault()}onTabKey(e){if(this.focusedItemInfo().index!==-1){let i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:e,processedItem:i})}this.hide()}onEnterKey(e){if(this.focusedItemInfo().index!==-1){let i=ti(this.rootmenu.el.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),n=i&&ti(i,'a[data-pc-section="action"]');if(n?n.click():i&&i.click(),!this.popup){let a=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(a)&&(this.focusedItemInfo().index=this.findFirstFocusedItemIndex())}}e.preventDefault()}onItemChange(e,i){let{processedItem:n,isFocus:a}=e;if(dn(n))return;let{index:p,key:y,level:C,parentKey:A,items:R,item:$}=n,Y=Gt(R),re=this.activeItemPath().filter(te=>te.parentKey!==A&&te.parentKey!==y);Y&&re.push(n),this.focusedItemInfo.set({index:p,level:C,parentKey:A,item:$}),Y&&(this.dirty=!0),a&&Wt(this.rootmenu.sublistViewChild.nativeElement),!(i==="hover"&&this.queryMatches)&&this.activeItemPath.set(re)}onMenuFocus(e){this.focused=!0,this.focusedItemInfo().index===-1&&this.popup}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),kx(this.containerViewChild.nativeElement,{position:"absolute",top:0}),this.attrSelector&&this.container.setAttribute(this.attrSelector,""),this.appendOverlay(),this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),Wt(this.rootmenu.sublistViewChild.nativeElement),this.scrollInView());break;case"void":this.onOverlayHide(),this.onHide.emit({});break}}alignOverlay(){this.relativeAlign?df(this.container,this.target):Xd(this.container,this.target),Cr(this.target)>Cr(this.container)&&(this.container.style.minWidth=Cr(this.target)+"px")}onOverlayAnimationEnd(e){switch(e.toState){case"void":Zi.clear(e.element);break}}appendOverlay(){this.$appendTo()&&this.$appendTo()!=="self"&&(this.$appendTo()==="body"?this.renderer.appendChild(this.document.body,this.container):Yd(this.$appendTo(),this.container))}restoreOverlayAppend(){this.container&&this.$appendTo()!=="self"&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&Zi.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(e,i){this.popup&&(this.onHide.emit({}),this.visible=!1),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),i&&Wt(this.relatedTarget||this.target||this.rootmenu.sublistViewChild.nativeElement),this.dirty=!1}toggle(e){this.visible?this.hide(e,!0):this.show(e)}show(e,i){this.popup&&(this.visible=!0,this.target=this.target||e.currentTarget,this.relatedTarget=e.relatedTarget||null,this.relativeAlign=e?.relativeAlign||null),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),i&&Wt(this.rootmenu.sublistViewChild.nativeElement),this.cd.markForCheck()}searchItems(e,i){this.searchValue=(this.searchValue||"")+i;let n=-1,a=!1;return this.focusedItemInfo().index!==-1?(n=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(p=>this.isItemMatched(p)),n=n===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(p=>this.isItemMatched(p)):n+this.focusedItemInfo().index):n=this.visibleItems.findIndex(p=>this.isItemMatched(p)),n!==-1&&(a=!0),n===-1&&this.focusedItemInfo().index===-1&&(n=this.findFirstFocusedItemIndex()),n!==-1&&this.changeFocusedItemIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),a}findLastFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return Xn(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){let i=e>0?Xn(this.visibleItems.slice(0,e),n=>this.isValidItem(n)):-1;return i>-1?i:e}findNextItemIndex(e){let i=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(n=>this.isValidItem(n)):-1;return i>-1?i+e+1:e}findFirstFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}changeFocusedItemIndex(e,i){if(this.focusedItemInfo().index!==i){let n=this.focusedItemInfo();this.focusedItemInfo.set(Ta(ai({},n),{item:this.visibleItems[i].item,index:i})),this.scrollInView()}}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedItemId,n=ti(this.rootmenu.el.nativeElement,`li[id="${i}"]`);n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"})}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new ep(this.target,e=>{this.visible&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&(this.scrollHandler.unbindScrollListener(),this.scrollHandler=null)}bindResizeListener(){ci(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{Vr()||this.hide(e,!0)})))}bindOutsideClickListener(){ci(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",e=>{let i=this.containerViewChild&&!this.containerViewChild.nativeElement.contains(e.target),n=this.popup?!(this.target&&(this.target===e.target||this.target.contains(e.target))):!0;i&&n&&this.hide()})))}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}onOverlayHide(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&Zi.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide()),this.unbindMatchMediaListener(),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||t)(At(Br))};static \u0275cmp=Je({type:t,selectors:[["p-tieredMenu"],["p-tieredmenu"],["p-tiered-menu"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,mM,4),ve(a,fM,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.submenuIconTemplate=p.first),le(p=ce())&&(n.itemTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&(dt(gM,5),dt(_M,5)),i&2){let a;le(a=ce())&&(n.rootmenu=a.first),le(a=ce())&&(n.containerViewChild=a.first)}},inputs:{model:"model",popup:[2,"popup","popup",we],style:"style",styleClass:"styleClass",breakpoint:"breakpoint",autoZIndex:[2,"autoZIndex","autoZIndex",we],baseZIndex:[2,"baseZIndex","baseZIndex",Tt],autoDisplay:[2,"autoDisplay","autoDisplay",we],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",we],tabindex:[2,"tabindex","tabindex",Tt],appendTo:[1,"appendTo"]},outputs:{onShow:"onShow",onHide:"onHide"},features:[bt([W1]),gt],decls:1,vars:1,consts:[["container",""],["rootmenu",""],[3,"id","class","ngStyle","click",4,"ngIf"],[3,"click","id","ngStyle"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","root","items","itemTemplate","menuId","tabindex","ariaLabel","ariaLabelledBy","baseZIndex","autoZIndex","autoDisplay","popup","focusedItemId","activeItemPath"]],template:function(i,n){i&1&&B(0,vM,4,26,"div",2),i&2&&T("ngIf",!n.popup||n.visible)},dependencies:[mt,$t,bi,IM,io,ya,Xe],encapsulation:2,data:{animation:[ra("overlayAnimation",[Ni(":enter",[Ri({opacity:0,transform:"scaleY(0.8)"}),Ki("{{showTransitionParams}}")]),Ni(":leave",[Ki("{{hideTransitionParams}}",Ri({opacity:0}))])])]},changeDetection:0})}return t})(),Qw=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[hp,Xe,Xe]})}return t})();var Zw=`
    .p-splitbutton {
        display: inline-flex;
        position: relative;
        border-radius: dt('splitbutton.border.radius');
    }

    .p-splitbutton-button.p-button {
        border-start-end-radius: 0;
        border-end-end-radius: 0;
        border-inline-end: 0 none;
    }

    .p-splitbutton-button.p-button:focus-visible,
    .p-splitbutton-dropdown.p-button:focus-visible {
        z-index: 1;
    }

    .p-splitbutton-button.p-button:not(:disabled):hover,
    .p-splitbutton-button.p-button:not(:disabled):active {
        border-inline-end: 0 none;
    }

    .p-splitbutton-dropdown.p-button {
        border-start-start-radius: 0;
        border-end-start-radius: 0;
    }

    .p-splitbutton .p-menu {
        min-width: 100%;
    }

    .p-splitbutton-fluid {
        display: flex;
    }

    .p-splitbutton-rounded .p-splitbutton-dropdown.p-button {
        border-start-end-radius: dt('splitbutton.rounded.border.radius');
        border-end-end-radius: dt('splitbutton.rounded.border.radius');
    }

    .p-splitbutton-rounded .p-splitbutton-button.p-button {
        border-start-start-radius: dt('splitbutton.rounded.border.radius');
        border-end-start-radius: dt('splitbutton.rounded.border.radius');
    }

    .p-splitbutton-raised {
        box-shadow: dt('splitbutton.raised.shadow');
    }
`;var CM=["content"],SM=["dropdownicon"],MM=["defaultbtn"],kM=["menu"];function EM(t,s){t&1&&nt(0)}function PM(t,s){if(t&1){let e=Re();We(0),L(1,"button",8),Ie("click",function(n){Z(e);let a=M();return X(a.onDefaultButtonClick(n))}),B(2,EM,1,0,"ng-container",9),D(),Qe()}if(t&2){let e=M();S(),K(e.cx("pcButton")),T("severity",e.severity)("text",e.text)("outlined",e.outlined)("size",e.size)("icon",e.icon)("iconPos",e.iconPos)("disabled",e.disabled)("pAutoFocus",e.autofocus)("pTooltip",e.tooltip)("tooltipOptions",e.tooltipOptions),ue("tabindex",e.tabindex)("aria-label",(e.buttonProps==null?null:e.buttonProps.ariaLabel)||e.label),S(),T("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)}}function DM(t,s){if(t&1){let e=Re();L(0,"button",10,2),Ie("click",function(n){Z(e);let a=M();return X(a.onDefaultButtonClick(n))}),D()}if(t&2){let e=M();K(e.cx("pcButton")),T("severity",e.severity)("text",e.text)("outlined",e.outlined)("size",e.size)("icon",e.icon)("iconPos",e.iconPos)("label",e.label)("disabled",e.buttonDisabled)("pAutoFocus",e.autofocus)("pTooltip",e.tooltip)("tooltipOptions",e.tooltipOptions),ue("tabindex",e.tabindex)("aria-label",e.buttonProps==null?null:e.buttonProps.ariaLabel)}}function LM(t,s){if(t&1&&oe(0,"span"),t&2){let e=M();K(e.dropdownIcon)}}function AM(t,s){t&1&&(it(),oe(0,"svg",12))}function FM(t,s){}function OM(t,s){t&1&&B(0,FM,0,0,"ng-template")}function VM(t,s){if(t&1&&(We(0),B(1,AM,1,0,"svg",11)(2,OM,1,0,null,9),Qe()),t&2){let e=M();S(),T("ngIf",!e.dropdownIconTemplate&&!e._dropdownIconTemplate),S(),T("ngTemplateOutlet",e.dropdownIconTemplate||e._dropdownIconTemplate)}}var zM={root:({instance:t})=>["p-splitbutton p-component",{"p-splitbutton-raised":t.raised,"p-splitbutton-rounded":t.rounded,"p-splitbutton-outlined":t.outlined,"p-splitbutton-text":t.text,[`p-splitbutton-${t.size==="small"?"sm":"lg"}`]:t.size}],pcButton:"p-splitbutton-button",pcDropdown:"p-splitbutton-dropdown p-button-icon-only"},Xw=(()=>{class t extends Vt{name="splitbutton";theme=Zw;classes=zM;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var am=(()=>{class t extends Ot{model;severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;icon;iconPos="left";label;tooltip;tooltipOptions;styleClass;menuStyle;menuStyleClass;dropdownIcon;appendTo="body";dir;expandAriaLabel;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";buttonProps;menuButtonProps;autofocus;set disabled(e){this._disabled=e,this.buttonDisabled=e,this.menuButtonDisabled=e}get disabled(){return this._disabled}tabindex;menuButtonDisabled=!1;buttonDisabled=!1;onClick=new Fe;onMenuHide=new Fe;onMenuShow=new Fe;onDropdownClick=new Fe;buttonViewChild;menu;contentTemplate;dropdownIconTemplate;templates;ariaId;isExpanded=Ei(!1);_disabled;_componentStyle=lt(Xw);_contentTemplate;_dropdownIconTemplate;ngOnInit(){super.ngOnInit(),this.ariaId=xi("pn_id_")}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;case"dropdownicon":this._dropdownIconTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}onDefaultButtonClick(e){this.onClick.emit(e),this.menu.hide()}onDropdownButtonClick(e){this.onDropdownClick.emit(e),this.menu?.toggle({currentTarget:this.el?.nativeElement,relativeAlign:this.appendTo==null})}onDropdownButtonKeydown(e){(e.code==="ArrowDown"||e.code==="ArrowUp")&&(this.onDropdownButtonClick(),e.preventDefault())}onHide(){this.isExpanded.set(!1),this.onMenuHide.emit()}onShow(){this.isExpanded.set(!0),this.onMenuShow.emit()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-splitbutton"],["p-splitButton"],["p-split-button"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,CM,4),ve(a,SM,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.contentTemplate=p.first),le(p=ce())&&(n.dropdownIconTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&(dt(MM,5),dt(kM,5)),i&2){let a;le(a=ce())&&(n.buttonViewChild=a.first),le(a=ce())&&(n.menu=a.first)}},hostVars:2,hostBindings:function(i,n){i&2&&K(n.cn(n.cx("root"),n.styleClass))},inputs:{model:"model",severity:"severity",raised:[2,"raised","raised",we],rounded:[2,"rounded","rounded",we],text:[2,"text","text",we],outlined:[2,"outlined","outlined",we],size:"size",plain:[2,"plain","plain",we],icon:"icon",iconPos:"iconPos",label:"label",tooltip:"tooltip",tooltipOptions:"tooltipOptions",styleClass:"styleClass",menuStyle:"menuStyle",menuStyleClass:"menuStyleClass",dropdownIcon:"dropdownIcon",appendTo:"appendTo",dir:"dir",expandAriaLabel:"expandAriaLabel",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",buttonProps:"buttonProps",menuButtonProps:"menuButtonProps",autofocus:[2,"autofocus","autofocus",we],disabled:[2,"disabled","disabled",we],tabindex:[2,"tabindex","tabindex",Tt],menuButtonDisabled:[2,"menuButtonDisabled","menuButtonDisabled",we],buttonDisabled:[2,"buttonDisabled","buttonDisabled",we]},outputs:{onClick:"onClick",onMenuHide:"onMenuHide",onMenuShow:"onMenuShow",onDropdownClick:"onDropdownClick"},features:[bt([Xw]),gt],decls:8,vars:24,consts:[["defaultButton",""],["menu",""],["defaultbtn",""],[4,"ngIf","ngIfElse"],["type","button","pButton","","pRipple","",3,"click","keydown","size","severity","text","outlined","disabled"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"onHide","onShow","id","popup","model","styleClass","appendTo","showTransitionOptions","hideTransitionOptions"],["type","button","pButton","","pRipple","",3,"click","severity","text","outlined","size","icon","iconPos","disabled","pAutoFocus","pTooltip","tooltipOptions"],[4,"ngTemplateOutlet"],["type","button","pButton","","pRipple","",3,"click","severity","text","outlined","size","icon","iconPos","label","disabled","pAutoFocus","pTooltip","tooltipOptions"],["data-p-icon","chevron-down",4,"ngIf"],["data-p-icon","chevron-down"]],template:function(i,n){if(i&1){let a=Re();B(0,PM,3,15,"ng-container",3)(1,DM,2,15,"ng-template",null,0,Be),L(3,"button",4),Ie("click",function(y){return Z(a),X(n.onDropdownButtonClick(y))})("keydown",function(y){return Z(a),X(n.onDropdownButtonKeydown(y))}),B(4,LM,1,2,"span",5)(5,VM,3,2,"ng-container",6),D(),L(6,"p-tieredmenu",7,1),Ie("onHide",function(){return Z(a),X(n.onHide())})("onShow",function(){return Z(a),X(n.onShow())}),D()}if(i&2){let a=Ut(2);T("ngIf",n.contentTemplate||n._contentTemplate)("ngIfElse",a),S(3),K(n.cx("pcDropdown")),T("size",n.size)("severity",n.severity)("text",n.text)("outlined",n.outlined)("disabled",n.menuButtonDisabled),ue("aria-label",(n.menuButtonProps==null?null:n.menuButtonProps.ariaLabel)||n.expandAriaLabel)("aria-haspopup",(n.menuButtonProps==null?null:n.menuButtonProps.ariaHasPopup)||!0)("aria-expanded",(n.menuButtonProps==null?null:n.menuButtonProps.ariaExpanded)||n.isExpanded())("aria-controls",(n.menuButtonProps==null?null:n.menuButtonProps.ariaControls)||n.ariaId),S(),T("ngIf",n.dropdownIcon),S(),T("ngIf",!n.dropdownIcon),S(),Ft(n.menuStyle),T("id",n.ariaId)("popup",!0)("model",n.model)("styleClass",n.menuStyleClass)("appendTo",n.appendTo)("showTransitionOptions",n.showTransitionOptions)("hideTransitionOptions",n.hideTransitionOptions)}},dependencies:[mt,$t,ei,Ms,hp,ko,Ma,pn,ya,Ga,Xe],encapsulation:2,changeDetection:0})}return t})(),Hf=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[am,Xe,Xe]})}return t})();var Gf=class t{items=[];loading=[!1,!1,!1,!1];ngOnInit(){this.items=[{label:"Update",icon:"pi pi-refresh"},{label:"Delete",icon:"pi pi-times"},{label:"Angular.io",icon:"pi pi-info",url:"http://angular.io"},{separator:!0},{label:"Setup",icon:"pi pi-cog"}]}load(s){this.loading[s]=!0,setTimeout(()=>this.loading[s]=!1,1e3)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Je({type:t,selectors:[["app-button-demo"]],decls:148,vars:13,consts:[[1,"flex","flex-col","md:flex-row","gap-8"],[1,"md:w-1/2"],[1,"card","flex","flex-col","gap-4"],[1,"font-semibold","text-xl"],[1,"flex","flex-wrap","gap-2"],["label","Submit"],["label","Disabled",3,"disabled"],["label","Link",1,"p-button-link"],["label","Primary"],["label","Secondary","severity","secondary"],["label","Success","severity","success"],["label","Info","severity","info"],["label","Warn","severity","warn"],["label","Help","severity","help"],["label","Danger","severity","danger"],["label","Contrast","severity","contrast"],["label","Primary","text",""],["label","Secondary","severity","secondary","text",""],["label","Success","severity","success","text",""],["label","Info","severity","info","text",""],["label","Warn","severity","warn","text",""],["label","Help","severity","help","text",""],["label","Danger","severity","danger","text",""],["label","Plain","text",""],["label","Primary","outlined",""],["label","Secondary","severity","secondary","outlined",""],["label","Success","severity","success","outlined",""],["label","Info","severity","info","outlined",""],["label","warn","severity","warn","outlined",""],["label","Help","severity","help","outlined",""],["label","Danger","severity","danger","outlined",""],["label","Contrast","severity","contrast","outlined",""],["label","Save","icon","pi pi-check"],["label","Delete","icon","pi pi-trash"],["label","Cancel","icon","pi pi-times"],["label","Save",3,"model"],["label","Save","severity","secondary",3,"model"],["label","Save","severity","success",3,"model"],["label","Save","severity","info",3,"model"],["label","Save","severity","warn",3,"model"],["label","Save","severity","help",3,"model"],["label","Save","severity","danger",3,"model"],["label","Save","severity","contrast",3,"model"],["type","button"],["alt","logo","src","https://primefaces.org/cdn/primeng/images/logo.svg",2,"width","1.5rem"],["type","button","outlined","","severity","success"],[1,"text-bold"],["icon","pi pi-bookmark"],["label","Bookmark","icon","pi pi-bookmark"],["label","Bookmark","icon","pi pi-bookmark","iconPos","right"],["label","Primary","raised",""],["label","Secondary","severity","secondary","raised",""],["label","Success","severity","success","raised",""],["label","Info","severity","info","raised",""],["label","Warn","severity","warn","raised",""],["label","Help","severity","help","raised",""],["label","Danger","severity","danger","raised",""],["label","Contrast","severity","contrast","raised",""],["label","Primary","rounded",""],["label","Secondary","severity","secondary","rounded",""],["label","Success","severity","success","rounded",""],["label","Info","severity","info","rounded",""],["label","Warn","severity","warn","rounded",""],["label","Help","severity","help","rounded",""],["label","Danger","severity","danger","rounded",""],["label","Contrast","severity","contrast","rounded",""],["icon","pi pi-check","rounded",""],["icon","pi pi-bookmark","severity","secondary","rounded",""],["icon","pi pi-search","severity","success","rounded",""],["icon","pi pi-user","severity","info","rounded",""],["icon","pi pi-bell","severity","warn","rounded",""],["icon","pi pi-heart","severity","help","rounded",""],["icon","pi pi-times","severity","danger","rounded",""],["icon","pi pi-check","text","","raised","","rounded",""],["icon","pi pi-bookmark","severity","secondary","text","","raised","","rounded",""],["icon","pi pi-search","severity","success","text","","raised","","rounded",""],["icon","pi pi-user","severity","info","text","","raised","","rounded",""],["icon","pi pi-bell","severity","warn","text","","raised","","rounded",""],["icon","pi pi-heart","severity","help","text","","raised","","rounded",""],["icon","pi pi-times","severity","danger","text","","raised","","rounded",""],["icon","pi pi-check","rounded","","outlined",""],["icon","pi pi-bookmark","severity","secondary","rounded","","outlined",""],["icon","pi pi-search","severity","success","rounded","","outlined",""],["icon","pi pi-user","severity","info","rounded","","outlined",""],["icon","pi pi-bell","severity","warn","rounded","","outlined",""],["icon","pi pi-heart","severity","help","rounded","","outlined",""],["icon","pi pi-times","severity","danger","rounded","","outlined",""],["type","button","label","Search","icon","pi pi-search",3,"click","loading"],["type","button","label","Search","icon","pi pi-search","iconPos","right",3,"click","loading"],["type","button","styleClass","h-full","icon","pi pi-search",3,"click","loading"],["type","button","label","Search",3,"click","loading"]],template:function(e,i){e&1&&(L(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),ne(4,"Default"),D(),L(5,"div",4),oe(6,"p-button",5)(7,"p-button",6)(8,"p-button",7),D()(),L(9,"div",2)(10,"div",3),ne(11,"Severities"),D(),L(12,"div",4),oe(13,"p-button",8)(14,"p-button",9)(15,"p-button",10)(16,"p-button",11)(17,"p-button",12)(18,"p-button",13)(19,"p-button",14)(20,"p-button",15),D()(),L(21,"div",2)(22,"div",3),ne(23,"Text"),D(),L(24,"div",4),oe(25,"p-button",16)(26,"p-button",17)(27,"p-button",18)(28,"p-button",19)(29,"p-button",20)(30,"p-button",21)(31,"p-button",22)(32,"p-button",23),D()(),L(33,"div",2)(34,"div",3),ne(35,"Outlined"),D(),L(36,"div",4),oe(37,"p-button",24)(38,"p-button",25)(39,"p-button",26)(40,"p-button",27)(41,"p-button",28)(42,"p-button",29)(43,"p-button",30)(44,"p-button",31),D()(),L(45,"div",2)(46,"div",3),ne(47,"Group"),D(),L(48,"div",4)(49,"p-buttongroup"),oe(50,"p-button",32)(51,"p-button",33)(52,"p-button",34),D()()(),L(53,"div",2)(54,"div",3),ne(55,"SplitButton"),D(),L(56,"div",4),oe(57,"p-splitbutton",35)(58,"p-splitbutton",36)(59,"p-splitbutton",37)(60,"p-splitbutton",38)(61,"p-splitbutton",39)(62,"p-splitbutton",40)(63,"p-splitbutton",41)(64,"p-splitbutton",42),D()(),L(65,"div",2)(66,"div",3),ne(67,"Templating"),D(),L(68,"div",4)(69,"p-button",43),oe(70,"img",44),D(),L(71,"p-button",45),oe(72,"img",44),L(73,"span",46),ne(74,"PrimeNG"),D()()()()(),L(75,"div",1)(76,"div",2)(77,"div",3),ne(78,"Icons"),D(),L(79,"div",4),oe(80,"p-button",47)(81,"p-button",48)(82,"p-button",49),D()(),L(83,"div",2)(84,"div",3),ne(85,"Raised"),D(),L(86,"div",4),oe(87,"p-button",50)(88,"p-button",51)(89,"p-button",52)(90,"p-button",53)(91,"p-button",54)(92,"p-button",55)(93,"p-button",56)(94,"p-button",57),D()(),L(95,"div",2)(96,"div",3),ne(97,"Rounded"),D(),L(98,"div",4),oe(99,"p-button",58)(100,"p-button",59)(101,"p-button",60)(102,"p-button",61)(103,"p-button",62)(104,"p-button",63)(105,"p-button",64)(106,"p-button",65),D()(),L(107,"div",2)(108,"div",3),ne(109,"Rounded Icons"),D(),L(110,"div",4),oe(111,"p-button",66)(112,"p-button",67)(113,"p-button",68)(114,"p-button",69)(115,"p-button",70)(116,"p-button",71)(117,"p-button",72),D()(),L(118,"div",2)(119,"div",3),ne(120,"Rounded Text"),D(),L(121,"div",4),oe(122,"p-button",73)(123,"p-button",74)(124,"p-button",75)(125,"p-button",76)(126,"p-button",77)(127,"p-button",78)(128,"p-button",79),D()(),L(129,"div",2)(130,"div",3),ne(131,"Rounded Outlined"),D(),L(132,"div",4),oe(133,"p-button",80)(134,"p-button",81)(135,"p-button",82)(136,"p-button",83)(137,"p-button",84)(138,"p-button",85)(139,"p-button",86),D()(),L(140,"div",2)(141,"div",3),ne(142,"Loading"),D(),L(143,"div",4)(144,"p-button",87),Ie("click",function(){return i.load(0)}),D(),L(145,"p-button",88),Ie("click",function(){return i.load(1)}),D(),L(146,"p-button",89),Ie("click",function(){return i.load(2)}),D(),L(147,"p-button",90),Ie("click",function(){return i.load(3)}),D()()()()()),e&2&&(S(7),T("disabled",!0),S(50),T("model",i.items),S(),T("model",i.items),S(),T("model",i.items),S(),T("model",i.items),S(),T("model",i.items),S(),T("model",i.items),S(),T("model",i.items),S(),T("model",i.items),S(80),T("loading",i.loading[0]),S(),T("loading",i.loading[1]),S(),T("loading",i.loading[2]),S(),T("loading",i.loading[3]))},dependencies:[Fi,qi,Kw,K1,Hf,am],encapsulation:2})};function sm(t){return t+.5|0}var pc=(t,s,e)=>Math.max(Math.min(t,e),s);function om(t){return pc(sm(t*2.55),0,255)}function hc(t){return pc(sm(t*255),0,255)}function ll(t){return pc(sm(t/2.55)/100,0,1)}function Jw(t){return pc(sm(t*100),0,100)}var Nr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Z1=[..."0123456789ABCDEF"],BM=t=>Z1[t&15],RM=t=>Z1[(t&240)>>4]+Z1[t&15],Uf=t=>(t&240)>>4===(t&15),NM=t=>Uf(t.r)&&Uf(t.g)&&Uf(t.b)&&Uf(t.a);function qM(t){var s=t.length,e;return t[0]==="#"&&(s===4||s===5?e={r:255&Nr[t[1]]*17,g:255&Nr[t[2]]*17,b:255&Nr[t[3]]*17,a:s===5?Nr[t[4]]*17:255}:(s===7||s===9)&&(e={r:Nr[t[1]]<<4|Nr[t[2]],g:Nr[t[3]]<<4|Nr[t[4]],b:Nr[t[5]]<<4|Nr[t[6]],a:s===9?Nr[t[7]]<<4|Nr[t[8]]:255})),e}var jM=(t,s)=>t<255?s(t):"";function HM(t){var s=NM(t)?BM:RM;return t?"#"+s(t.r)+s(t.g)+s(t.b)+jM(t.a,s):void 0}var GM=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function n3(t,s,e){let i=s*Math.min(e,1-e),n=(a,p=(a+t/30)%12)=>e-i*Math.max(Math.min(p-3,9-p,1),-1);return[n(0),n(8),n(4)]}function UM(t,s,e){let i=(n,a=(n+t/60)%6)=>e-e*s*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function $M(t,s,e){let i=n3(t,1,.5),n;for(s+e>1&&(n=1/(s+e),s*=n,e*=n),n=0;n<3;n++)i[n]*=1-s-e,i[n]+=s;return i}function KM(t,s,e,i,n){return t===n?(s-e)/i+(s<e?6:0):s===n?(e-t)/i+2:(t-s)/i+4}function X1(t){let e=t.r/255,i=t.g/255,n=t.b/255,a=Math.max(e,i,n),p=Math.min(e,i,n),y=(a+p)/2,C,A,R;return a!==p&&(R=a-p,A=y>.5?R/(2-a-p):R/(a+p),C=KM(e,i,n,R,a),C=C*60+.5),[C|0,A||0,y]}function Y1(t,s,e,i){return(Array.isArray(s)?t(s[0],s[1],s[2]):t(s,e,i)).map(hc)}function J1(t,s,e){return Y1(n3,t,s,e)}function WM(t,s,e){return Y1($M,t,s,e)}function QM(t,s,e){return Y1(UM,t,s,e)}function a3(t){return(t%360+360)%360}function ZM(t){let s=GM.exec(t),e=255,i;if(!s)return;s[5]!==i&&(e=s[6]?om(+s[5]):hc(+s[5]));let n=a3(+s[2]),a=+s[3]/100,p=+s[4]/100;return s[1]==="hwb"?i=WM(n,a,p):s[1]==="hsv"?i=QM(n,a,p):i=J1(n,a,p),{r:i[0],g:i[1],b:i[2],a:e}}function XM(t,s){var e=X1(t);e[0]=a3(e[0]+s),e=J1(e),t.r=e[0],t.g=e[1],t.b=e[2]}function YM(t){if(!t)return;let s=X1(t),e=s[0],i=Jw(s[1]),n=Jw(s[2]);return t.a<255?`hsla(${e}, ${i}%, ${n}%, ${ll(t.a)})`:`hsl(${e}, ${i}%, ${n}%)`}var e3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},t3={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function JM(){let t={},s=Object.keys(t3),e=Object.keys(e3),i,n,a,p,y;for(i=0;i<s.length;i++){for(p=y=s[i],n=0;n<e.length;n++)a=e[n],y=y.replace(a,e3[a]);a=parseInt(t3[p],16),t[y]=[a>>16&255,a>>8&255,a&255]}return t}var $f;function ek(t){$f||($f=JM(),$f.transparent=[0,0,0,0]);let s=$f[t.toLowerCase()];return s&&{r:s[0],g:s[1],b:s[2],a:s.length===4?s[3]:255}}var tk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ik(t){let s=tk.exec(t),e=255,i,n,a;if(s){if(s[7]!==i){let p=+s[7];e=s[8]?om(p):pc(p*255,0,255)}return i=+s[1],n=+s[3],a=+s[5],i=255&(s[2]?om(i):pc(i,0,255)),n=255&(s[4]?om(n):pc(n,0,255)),a=255&(s[6]?om(a):pc(a,0,255)),{r:i,g:n,b:a,a:e}}}function nk(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ll(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var Q1=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,mp=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function ak(t,s,e){let i=mp(ll(t.r)),n=mp(ll(t.g)),a=mp(ll(t.b));return{r:hc(Q1(i+e*(mp(ll(s.r))-i))),g:hc(Q1(n+e*(mp(ll(s.g))-n))),b:hc(Q1(a+e*(mp(ll(s.b))-a))),a:t.a+e*(s.a-t.a)}}function Kf(t,s,e){if(t){let i=X1(t);i[s]=Math.max(0,Math.min(i[s]+i[s]*e,s===0?360:1)),i=J1(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function o3(t,s){return t&&Object.assign(s||{},t)}function i3(t){var s={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(s={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(s.a=hc(t[3]))):(s=o3(t,{r:0,g:0,b:0,a:1}),s.a=hc(s.a)),s}function ok(t){return t.charAt(0)==="r"?ik(t):ZM(t)}var rm=class t{constructor(s){if(s instanceof t)return s;let e=typeof s,i;e==="object"?i=i3(s):e==="string"&&(i=qM(s)||ek(s)||ok(s)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var s=o3(this._rgb);return s&&(s.a=ll(s.a)),s}set rgb(s){this._rgb=i3(s)}rgbString(){return this._valid?nk(this._rgb):void 0}hexString(){return this._valid?HM(this._rgb):void 0}hslString(){return this._valid?YM(this._rgb):void 0}mix(s,e){if(s){let i=this.rgb,n=s.rgb,a,p=e===a?.5:e,y=2*p-1,C=i.a-n.a,A=((y*C===-1?y:(y+C)/(1+y*C))+1)/2;a=1-A,i.r=255&A*i.r+a*n.r+.5,i.g=255&A*i.g+a*n.g+.5,i.b=255&A*i.b+a*n.b+.5,i.a=p*i.a+(1-p)*n.a,this.rgb=i}return this}interpolate(s,e){return s&&(this._rgb=ak(this._rgb,s._rgb,e)),this}clone(){return new t(this.rgb)}alpha(s){return this._rgb.a=hc(s),this}clearer(s){let e=this._rgb;return e.a*=1-s,this}greyscale(){let s=this._rgb,e=sm(s.r*.3+s.g*.59+s.b*.11);return s.r=s.g=s.b=e,this}opaquer(s){let e=this._rgb;return e.a*=1+s,this}negate(){let s=this._rgb;return s.r=255-s.r,s.g=255-s.g,s.b=255-s.b,this}lighten(s){return Kf(this._rgb,2,s),this}darken(s){return Kf(this._rgb,2,-s),this}saturate(s){return Kf(this._rgb,1,s),this}desaturate(s){return Kf(this._rgb,1,-s),this}rotate(s){return XM(this._rgb,s),this}};function Ps(){}var g3=(()=>{let t=0;return()=>t++})();function en(t){return t===null||typeof t>"u"}function Rn(t){if(Array.isArray&&Array.isArray(t))return!0;let s=Object.prototype.toString.call(t);return s.slice(0,7)==="[object"&&s.slice(-6)==="Array]"}function Hi(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function pa(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function or(t,s){return pa(t)?t:s}function Di(t,s){return typeof t>"u"?s:t}var _3=(t,s)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/s,nb=(t,s)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*s:+t;function Fn(t,s,e){if(t&&typeof t.call=="function")return t.apply(e,s)}function xn(t,s,e,i){let n,a,p;if(Rn(t))if(a=t.length,i)for(n=a-1;n>=0;n--)s.call(e,t[n],n);else for(n=0;n<a;n++)s.call(e,t[n],n);else if(Hi(t))for(p=Object.keys(t),a=p.length,n=0;n<a;n++)s.call(e,t[p[n]],p[n])}function um(t,s){let e,i,n,a;if(!t||!s||t.length!==s.length)return!1;for(e=0,i=t.length;e<i;++e)if(n=t[e],a=s[e],n.datasetIndex!==a.datasetIndex||n.index!==a.index)return!1;return!0}function Xf(t){if(Rn(t))return t.map(Xf);if(Hi(t)){let s=Object.create(null),e=Object.keys(t),i=e.length,n=0;for(;n<i;++n)s[e[n]]=Xf(t[e[n]]);return s}return t}function b3(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function rk(t,s,e,i){if(!b3(t))return;let n=s[t],a=e[t];Hi(n)&&Hi(a)?gp(n,a,i):s[t]=Xf(a)}function gp(t,s,e){let i=Rn(s)?s:[s],n=i.length;if(!Hi(t))return t;e=e||{};let a=e.merger||rk,p;for(let y=0;y<n;++y){if(p=i[y],!Hi(p))continue;let C=Object.keys(p);for(let A=0,R=C.length;A<R;++A)a(C[A],t,p,e)}return t}function bp(t,s){return gp(t,s,{merger:sk})}function sk(t,s,e){if(!b3(t))return;let i=s[t],n=e[t];Hi(i)&&Hi(n)?bp(i,n):Object.prototype.hasOwnProperty.call(s,t)||(s[t]=Xf(n))}var r3={"":t=>t,x:t=>t.x,y:t=>t.y};function lk(t){let s=t.split("."),e=[],i="";for(let n of s)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function ck(t){let s=lk(t);return e=>{for(let i of s){if(i==="")break;e=e&&e[i]}return e}}function dl(t,s){return(r3[s]||(r3[s]=ck(s)))(t)}function tg(t){return t.charAt(0).toUpperCase()+t.slice(1)}var yp=t=>typeof t<"u",cl=t=>typeof t=="function",ab=(t,s)=>{if(t.size!==s.size)return!1;for(let e of t)if(!s.has(e))return!1;return!0};function y3(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var Nn=Math.PI,qn=2*Nn,uk=qn+Nn,Yf=Number.POSITIVE_INFINITY,dk=Nn/180,va=Nn/2,Fu=Nn/4,s3=Nn*2/3,ul=Math.log10,ts=Math.sign;function vp(t,s,e){return Math.abs(t-s)<e}function ob(t){let s=Math.round(t);t=vp(t,s,t/1e3)?s:t;let e=Math.pow(10,Math.floor(ul(t))),i=t/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function v3(t){let s=[],e=Math.sqrt(t),i;for(i=1;i<e;i++)t%i===0&&(s.push(i),s.push(t/i));return e===(e|0)&&s.push(e),s.sort((n,a)=>n-a).pop(),s}function zu(t){return!isNaN(parseFloat(t))&&isFinite(t)}function x3(t,s){let e=Math.round(t);return e-s<=t&&e+s>=t}function rb(t,s,e){let i,n,a;for(i=0,n=t.length;i<n;i++)a=t[i][e],isNaN(a)||(s.min=Math.min(s.min,a),s.max=Math.max(s.max,a))}function qr(t){return t*(Nn/180)}function ig(t){return t*(180/Nn)}function sb(t){if(!pa(t))return;let s=1,e=0;for(;Math.round(t*s)/s!==t;)s*=10,e++;return e}function lb(t,s){let e=s.x-t.x,i=s.y-t.y,n=Math.sqrt(e*e+i*i),a=Math.atan2(i,e);return a<-.5*Nn&&(a+=qn),{angle:a,distance:n}}function Jf(t,s){return Math.sqrt(Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2))}function pk(t,s){return(t-s+uk)%qn-Nn}function ar(t){return(t%qn+qn)%qn}function xp(t,s,e,i){let n=ar(t),a=ar(s),p=ar(e),y=ar(a-n),C=ar(p-n),A=ar(n-a),R=ar(n-p);return n===a||n===p||i&&a===p||y>C&&A<R}function $a(t,s,e){return Math.max(s,Math.min(e,t))}function w3(t){return $a(t,-32768,32767)}function Ds(t,s,e,i=1e-6){return t>=Math.min(s,e)-i&&t<=Math.max(s,e)+i}function ng(t,s,e){e=e||(p=>t[p]<s);let i=t.length-1,n=0,a;for(;i-n>1;)a=n+i>>1,e(a)?n=a:i=a;return{lo:n,hi:i}}var ks=(t,s,e,i)=>ng(t,e,i?n=>{let a=t[n][s];return a<e||a===e&&t[n+1][s]===e}:n=>t[n][s]<e),I3=(t,s,e)=>ng(t,e,i=>t[i][s]>=e);function T3(t,s,e){let i=0,n=t.length;for(;i<n&&t[i]<s;)i++;for(;n>i&&t[n-1]>e;)n--;return i>0||n<t.length?t.slice(i,n):t}var C3=["push","pop","shift","splice","unshift"];function S3(t,s){if(t._chartjs){t._chartjs.listeners.push(s);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),C3.forEach(e=>{let i="_onData"+tg(e),n=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...a){let p=n.apply(this,a);return t._chartjs.listeners.forEach(y=>{typeof y[i]=="function"&&y[i](...a)}),p}})})}function cb(t,s){let e=t._chartjs;if(!e)return;let i=e.listeners,n=i.indexOf(s);n!==-1&&i.splice(n,1),!(i.length>0)&&(C3.forEach(a=>{delete t[a]}),delete t._chartjs)}function ub(t){let s=new Set(t);return s.size===t.length?t:Array.from(s)}var db=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function pb(t,s){let e=[],i=!1;return function(...n){e=n,i||(i=!0,db.call(window,()=>{i=!1,t.apply(s,e)}))}}function M3(t,s){let e;return function(...i){return s?(clearTimeout(e),e=setTimeout(t,s,i)):t.apply(this,i),s}}var ag=t=>t==="start"?"left":t==="end"?"right":"center",bo=(t,s,e)=>t==="start"?s:t==="end"?e:(s+e)/2,k3=(t,s,e,i)=>t===(i?"left":"right")?e:t==="center"?(s+e)/2:s;function hb(t,s,e){let i=s.length,n=0,a=i;if(t._sorted){let{iScale:p,_parsed:y}=t,C=p.axis,{min:A,max:R,minDefined:$,maxDefined:Y}=p.getUserBounds();$&&(n=$a(Math.min(ks(y,C,A).lo,e?i:ks(s,C,p.getPixelForValue(A)).lo),0,i-1)),Y?a=$a(Math.max(ks(y,p.axis,R,!0).hi+1,e?0:ks(s,C,p.getPixelForValue(R),!0).hi+1),n,i)-n:a=i-n}return{start:n,count:a}}function mb(t){let{xScale:s,yScale:e,_scaleRanges:i}=t,n={xmin:s.min,xmax:s.max,ymin:e.min,ymax:e.max};if(!i)return t._scaleRanges=n,!0;let a=i.xmin!==s.min||i.xmax!==s.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,n),a}var Wf=t=>t===0||t===1,l3=(t,s,e)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-s)*qn/e)),c3=(t,s,e)=>Math.pow(2,-10*t)*Math.sin((t-s)*qn/e)+1,fp={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*va)+1,easeOutSine:t=>Math.sin(t*va),easeInOutSine:t=>-.5*(Math.cos(Nn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Wf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Wf(t)?t:l3(t,.075,.3),easeOutElastic:t=>Wf(t)?t:c3(t,.075,.3),easeInOutElastic(t){return Wf(t)?t:t<.5?.5*l3(t*2,.1125,.45):.5+.5*c3(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let s=1.70158;return(t/=.5)<1?.5*(t*t*(((s*=1.525)+1)*t-s)):.5*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)},easeInBounce:t=>1-fp.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?fp.easeInBounce(t*2)*.5:fp.easeOutBounce(t*2-1)*.5+.5};function fb(t){if(t&&typeof t=="object"){let s=t.toString();return s==="[object CanvasPattern]"||s==="[object CanvasGradient]"}return!1}function gb(t){return fb(t)?t:new rm(t)}function eb(t){return fb(t)?t:new rm(t).saturate(.5).darken(.1).hexString()}var hk=["x","y","borderWidth","radius","tension"],mk=["color","borderColor","backgroundColor"];function fk(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:s=>s!=="onProgress"&&s!=="onComplete"&&s!=="fn"}),t.set("animations",{colors:{type:"color",properties:mk},numbers:{type:"number",properties:hk}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:s=>s|0}}}})}function gk(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var u3=new Map;function _k(t,s){s=s||{};let e=t+JSON.stringify(s),i=u3.get(e);return i||(i=new Intl.NumberFormat(t,s),u3.set(e,i)),i}function wp(t,s,e){return _k(s,e).format(t)}var E3={values(t){return Rn(t)?t:""+t},numeric(t,s,e){if(t===0)return"0";let i=this.chart.options.locale,n,a=t;if(e.length>1){let A=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(A<1e-4||A>1e15)&&(n="scientific"),a=bk(t,e)}let p=ul(Math.abs(a)),y=isNaN(p)?1:Math.max(Math.min(-1*Math.floor(p),20),0),C={notation:n,minimumFractionDigits:y,maximumFractionDigits:y};return Object.assign(C,this.options.ticks.format),wp(t,i,C)},logarithmic(t,s,e){if(t===0)return"0";let i=e[s].significand||t/Math.pow(10,Math.floor(ul(t)));return[1,2,3,5,10,15].includes(i)||s>.8*e.length?E3.numeric.call(this,t,s,e):""}};function bk(t,s){let e=s.length>3?s[2].value-s[1].value:s[1].value-s[0].value;return Math.abs(e)>=1&&t!==Math.floor(t)&&(e=t-Math.floor(t)),e}var dm={formatters:E3};function yk(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(s,e)=>e.lineWidth,tickColor:(s,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:dm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:s=>!s.startsWith("before")&&!s.startsWith("after")&&s!=="callback"&&s!=="parser",_indexable:s=>s!=="borderDash"&&s!=="tickBorderDash"&&s!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:s=>s!=="backdropPadding"&&s!=="callback",_indexable:s=>s!=="backdropPadding"})}var fc=Object.create(null),og=Object.create(null);function lm(t,s){if(!s)return t;let e=s.split(".");for(let i=0,n=e.length;i<n;++i){let a=e[i];t=t[a]||(t[a]=Object.create(null))}return t}function tb(t,s,e){return typeof s=="string"?gp(lm(t,s),e):gp(lm(t,""),s)}var ib=class{constructor(s,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,n)=>eb(n.backgroundColor),this.hoverBorderColor=(i,n)=>eb(n.borderColor),this.hoverColor=(i,n)=>eb(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(s),this.apply(e)}set(s,e){return tb(this,s,e)}get(s){return lm(this,s)}describe(s,e){return tb(og,s,e)}override(s,e){return tb(fc,s,e)}route(s,e,i,n){let a=lm(this,s),p=lm(this,i),y="_"+e;Object.defineProperties(a,{[y]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){let C=this[y],A=p[n];return Hi(C)?Object.assign({},A,C):Di(C,A)},set(C){this[y]=C}}})}apply(s){s.forEach(e=>e(this))}},ha=new ib({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[fk,gk,yk]);function vk(t){return!t||en(t.size)||en(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function cm(t,s,e,i,n){let a=s[n];return a||(a=s[n]=t.measureText(n).width,e.push(n)),a>i&&(i=a),i}function P3(t,s,e,i){i=i||{};let n=i.data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==s&&(n=i.data={},a=i.garbageCollect=[],i.font=s),t.save(),t.font=s;let p=0,y=e.length,C,A,R,$,Y;for(C=0;C<y;C++)if($=e[C],$!=null&&!Rn($))p=cm(t,n,a,p,$);else if(Rn($))for(A=0,R=$.length;A<R;A++)Y=$[A],Y!=null&&!Rn(Y)&&(p=cm(t,n,a,p,Y));t.restore();let re=a.length/2;if(re>e.length){for(C=0;C<re;C++)delete n[a[C]];a.splice(0,re)}return p}function gc(t,s,e){let i=t.currentDevicePixelRatio,n=e!==0?Math.max(e/2,.5):0;return Math.round((s-n)*i)/i+n}function _b(t,s){s=s||t.getContext("2d"),s.save(),s.resetTransform(),s.clearRect(0,0,t.width,t.height),s.restore()}function rg(t,s,e,i){bb(t,s,e,i,null)}function bb(t,s,e,i,n){let a,p,y,C,A,R,$,Y,re=s.pointStyle,te=s.rotation,Me=s.radius,ke=(te||0)*dk;if(re&&typeof re=="object"&&(a=re.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(e,i),t.rotate(ke),t.drawImage(re,-re.width/2,-re.height/2,re.width,re.height),t.restore();return}if(!(isNaN(Me)||Me<=0)){switch(t.beginPath(),re){default:n?t.ellipse(e,i,n/2,Me,0,0,qn):t.arc(e,i,Me,0,qn),t.closePath();break;case"triangle":R=n?n/2:Me,t.moveTo(e+Math.sin(ke)*R,i-Math.cos(ke)*Me),ke+=s3,t.lineTo(e+Math.sin(ke)*R,i-Math.cos(ke)*Me),ke+=s3,t.lineTo(e+Math.sin(ke)*R,i-Math.cos(ke)*Me),t.closePath();break;case"rectRounded":A=Me*.516,C=Me-A,p=Math.cos(ke+Fu)*C,$=Math.cos(ke+Fu)*(n?n/2-A:C),y=Math.sin(ke+Fu)*C,Y=Math.sin(ke+Fu)*(n?n/2-A:C),t.arc(e-$,i-y,A,ke-Nn,ke-va),t.arc(e+Y,i-p,A,ke-va,ke),t.arc(e+$,i+y,A,ke,ke+va),t.arc(e-Y,i+p,A,ke+va,ke+Nn),t.closePath();break;case"rect":if(!te){C=Math.SQRT1_2*Me,R=n?n/2:C,t.rect(e-R,i-C,2*R,2*C);break}ke+=Fu;case"rectRot":$=Math.cos(ke)*(n?n/2:Me),p=Math.cos(ke)*Me,y=Math.sin(ke)*Me,Y=Math.sin(ke)*(n?n/2:Me),t.moveTo(e-$,i-y),t.lineTo(e+Y,i-p),t.lineTo(e+$,i+y),t.lineTo(e-Y,i+p),t.closePath();break;case"crossRot":ke+=Fu;case"cross":$=Math.cos(ke)*(n?n/2:Me),p=Math.cos(ke)*Me,y=Math.sin(ke)*Me,Y=Math.sin(ke)*(n?n/2:Me),t.moveTo(e-$,i-y),t.lineTo(e+$,i+y),t.moveTo(e+Y,i-p),t.lineTo(e-Y,i+p);break;case"star":$=Math.cos(ke)*(n?n/2:Me),p=Math.cos(ke)*Me,y=Math.sin(ke)*Me,Y=Math.sin(ke)*(n?n/2:Me),t.moveTo(e-$,i-y),t.lineTo(e+$,i+y),t.moveTo(e+Y,i-p),t.lineTo(e-Y,i+p),ke+=Fu,$=Math.cos(ke)*(n?n/2:Me),p=Math.cos(ke)*Me,y=Math.sin(ke)*Me,Y=Math.sin(ke)*(n?n/2:Me),t.moveTo(e-$,i-y),t.lineTo(e+$,i+y),t.moveTo(e+Y,i-p),t.lineTo(e-Y,i+p);break;case"line":p=n?n/2:Math.cos(ke)*Me,y=Math.sin(ke)*Me,t.moveTo(e-p,i-y),t.lineTo(e+p,i+y);break;case"dash":t.moveTo(e,i),t.lineTo(e+Math.cos(ke)*(n?n/2:Me),i+Math.sin(ke)*Me);break;case!1:t.closePath();break}t.fill(),s.borderWidth>0&&t.stroke()}}function Es(t,s,e){return e=e||.5,!s||t&&t.x>s.left-e&&t.x<s.right+e&&t.y>s.top-e&&t.y<s.bottom+e}function pm(t,s){t.save(),t.beginPath(),t.rect(s.left,s.top,s.right-s.left,s.bottom-s.top),t.clip()}function hm(t){t.restore()}function D3(t,s,e,i,n){if(!s)return t.lineTo(e.x,e.y);if(n==="middle"){let a=(s.x+e.x)/2;t.lineTo(a,s.y),t.lineTo(a,e.y)}else n==="after"!=!!i?t.lineTo(s.x,e.y):t.lineTo(e.x,s.y);t.lineTo(e.x,e.y)}function L3(t,s,e,i){if(!s)return t.lineTo(e.x,e.y);t.bezierCurveTo(i?s.cp1x:s.cp2x,i?s.cp1y:s.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function xk(t,s){s.translation&&t.translate(s.translation[0],s.translation[1]),en(s.rotation)||t.rotate(s.rotation),s.color&&(t.fillStyle=s.color),s.textAlign&&(t.textAlign=s.textAlign),s.textBaseline&&(t.textBaseline=s.textBaseline)}function wk(t,s,e,i,n){if(n.strikethrough||n.underline){let a=t.measureText(i),p=s-a.actualBoundingBoxLeft,y=s+a.actualBoundingBoxRight,C=e-a.actualBoundingBoxAscent,A=e+a.actualBoundingBoxDescent,R=n.strikethrough?(C+A)/2:A;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(p,R),t.lineTo(y,R),t.stroke()}}function Ik(t,s){let e=t.fillStyle;t.fillStyle=s.color,t.fillRect(s.left,s.top,s.width,s.height),t.fillStyle=e}function _c(t,s,e,i,n,a={}){let p=Rn(s)?s:[s],y=a.strokeWidth>0&&a.strokeColor!=="",C,A;for(t.save(),t.font=n.string,xk(t,a),C=0;C<p.length;++C)A=p[C],a.backdrop&&Ik(t,a.backdrop),y&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),en(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(A,e,i,a.maxWidth)),t.fillText(A,e,i,a.maxWidth),wk(t,e,i,A,a),i+=Number(n.lineHeight);t.restore()}function Ip(t,s){let{x:e,y:i,w:n,h:a,radius:p}=s;t.arc(e+p.topLeft,i+p.topLeft,p.topLeft,1.5*Nn,Nn,!0),t.lineTo(e,i+a-p.bottomLeft),t.arc(e+p.bottomLeft,i+a-p.bottomLeft,p.bottomLeft,Nn,va,!0),t.lineTo(e+n-p.bottomRight,i+a),t.arc(e+n-p.bottomRight,i+a-p.bottomRight,p.bottomRight,va,0,!0),t.lineTo(e+n,i+p.topRight),t.arc(e+n-p.topRight,i+p.topRight,p.topRight,0,-va,!0),t.lineTo(e+p.topLeft,i)}var Tk=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ck=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Sk(t,s){let e=(""+t).match(Tk);if(!e||e[1]==="normal")return s*1.2;switch(t=+e[2],e[3]){case"px":return t;case"%":t/=100;break}return s*t}var Mk=t=>+t||0;function sg(t,s){let e={},i=Hi(s),n=i?Object.keys(s):s,a=Hi(t)?i?p=>Di(t[p],t[s[p]]):p=>t[p]:()=>t;for(let p of n)e[p]=Mk(a(p));return e}function yb(t){return sg(t,{top:"y",right:"x",bottom:"y",left:"x"})}function bc(t){return sg(t,["topLeft","topRight","bottomLeft","bottomRight"])}function yo(t){let s=yb(t);return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function Ba(t,s){t=t||{},s=s||ha.font;let e=Di(t.size,s.size);typeof e=="string"&&(e=parseInt(e,10));let i=Di(t.style,s.style);i&&!(""+i).match(Ck)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let n={family:Di(t.family,s.family),lineHeight:Sk(Di(t.lineHeight,s.lineHeight),e),size:e,style:i,weight:Di(t.weight,s.weight),string:""};return n.string=vk(n),n}function Tp(t,s,e,i){let n=!0,a,p,y;for(a=0,p=t.length;a<p;++a)if(y=t[a],y!==void 0&&(s!==void 0&&typeof y=="function"&&(y=y(s),n=!1),e!==void 0&&Rn(y)&&(y=y[e%y.length],n=!1),y!==void 0))return i&&!n&&(i.cacheable=!1),y}function A3(t,s,e){let{min:i,max:n}=t,a=nb(s,(n-i)/2),p=(y,C)=>e&&y===0?0:y+C;return{min:p(i,-Math.abs(a)),max:p(n,a)}}function pl(t,s){return Object.assign(Object.create(t),s)}function lg(t,s=[""],e,i,n=()=>t[0]){let a=e||t;typeof i>"u"&&(i=V3("_fallback",t));let p={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:i,_getTarget:n,override:y=>lg([y,...t],s,a,i)};return new Proxy(p,{deleteProperty(y,C){return delete y[C],delete y._keys,delete t[0][C],!0},get(y,C){return F3(y,C,()=>Ok(C,s,t,y))},getOwnPropertyDescriptor(y,C){return Reflect.getOwnPropertyDescriptor(y._scopes[0],C)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(y,C){return p3(y).includes(C)},ownKeys(y){return p3(y)},set(y,C,A){let R=y._storage||(y._storage=n());return y[C]=R[C]=A,delete y._keys,!0}})}function Vu(t,s,e,i){let n={_cacheable:!1,_proxy:t,_context:s,_subProxy:e,_stack:new Set,_descriptors:vb(t,i),setContext:a=>Vu(t,a,e,i),override:a=>Vu(t.override(a),s,e,i)};return new Proxy(n,{deleteProperty(a,p){return delete a[p],delete t[p],!0},get(a,p,y){return F3(a,p,()=>Ek(a,p,y))},getOwnPropertyDescriptor(a,p){return a._descriptors.allKeys?Reflect.has(t,p)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,p)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,p){return Reflect.has(t,p)},ownKeys(){return Reflect.ownKeys(t)},set(a,p,y){return t[p]=y,delete a[p],!0}})}function vb(t,s={scriptable:!0,indexable:!0}){let{_scriptable:e=s.scriptable,_indexable:i=s.indexable,_allKeys:n=s.allKeys}=t;return{allKeys:n,scriptable:e,indexable:i,isScriptable:cl(e)?e:()=>e,isIndexable:cl(i)?i:()=>i}}var kk=(t,s)=>t?t+tg(s):s,xb=(t,s)=>Hi(s)&&t!=="adapters"&&(Object.getPrototypeOf(s)===null||s.constructor===Object);function F3(t,s,e){if(Object.prototype.hasOwnProperty.call(t,s))return t[s];let i=e();return t[s]=i,i}function Ek(t,s,e){let{_proxy:i,_context:n,_subProxy:a,_descriptors:p}=t,y=i[s];return cl(y)&&p.isScriptable(s)&&(y=Pk(s,y,t,e)),Rn(y)&&y.length&&(y=Dk(s,y,t,p.isIndexable)),xb(s,y)&&(y=Vu(y,n,a&&a[s],p)),y}function Pk(t,s,e,i){let{_proxy:n,_context:a,_subProxy:p,_stack:y}=e;if(y.has(t))throw new Error("Recursion detected: "+Array.from(y).join("->")+"->"+t);y.add(t);let C=s(a,p||i);return y.delete(t),xb(t,C)&&(C=wb(n._scopes,n,t,C)),C}function Dk(t,s,e,i){let{_proxy:n,_context:a,_subProxy:p,_descriptors:y}=e;if(typeof a.index<"u"&&i(t))return s[a.index%s.length];if(Hi(s[0])){let C=s,A=n._scopes.filter(R=>R!==C);s=[];for(let R of C){let $=wb(A,n,t,R);s.push(Vu($,a,p&&p[t],y))}}return s}function O3(t,s,e){return cl(t)?t(s,e):t}var Lk=(t,s)=>t===!0?s:typeof t=="string"?dl(s,t):void 0;function Ak(t,s,e,i,n){for(let a of s){let p=Lk(e,a);if(p){t.add(p);let y=O3(p._fallback,e,n);if(typeof y<"u"&&y!==e&&y!==i)return y}else if(p===!1&&typeof i<"u"&&e!==i)return null}return!1}function wb(t,s,e,i){let n=s._rootScopes,a=O3(s._fallback,e,i),p=[...t,...n],y=new Set;y.add(i);let C=d3(y,p,e,a||e,i);return C===null||typeof a<"u"&&a!==e&&(C=d3(y,p,a,C,i),C===null)?!1:lg(Array.from(y),[""],n,a,()=>Fk(s,e,i))}function d3(t,s,e,i,n){for(;e;)e=Ak(t,s,e,i,n);return e}function Fk(t,s,e){let i=t._getTarget();s in i||(i[s]={});let n=i[s];return Rn(n)&&Hi(e)?e:n||{}}function Ok(t,s,e,i){let n;for(let a of s)if(n=V3(kk(a,t),e),typeof n<"u")return xb(t,n)?wb(e,i,t,n):n}function V3(t,s){for(let e of s){if(!e)continue;let i=e[t];if(typeof i<"u")return i}}function p3(t){let s=t._keys;return s||(s=t._keys=Vk(t._scopes)),s}function Vk(t){let s=new Set;for(let e of t)for(let i of Object.keys(e).filter(n=>!n.startsWith("_")))s.add(i);return Array.from(s)}function Ib(t,s,e,i){let{iScale:n}=t,{key:a="r"}=this._parsing,p=new Array(i),y,C,A,R;for(y=0,C=i;y<C;++y)A=y+e,R=s[A],p[y]={r:n.parse(dl(R,a),A)};return p}var zk=Number.EPSILON||1e-14,_p=(t,s)=>s<t.length&&!t[s].skip&&t[s],z3=t=>t==="x"?"y":"x";function Bk(t,s,e,i){let n=t.skip?s:t,a=s,p=e.skip?s:e,y=Jf(a,n),C=Jf(p,a),A=y/(y+C),R=C/(y+C);A=isNaN(A)?0:A,R=isNaN(R)?0:R;let $=i*A,Y=i*R;return{previous:{x:a.x-$*(p.x-n.x),y:a.y-$*(p.y-n.y)},next:{x:a.x+Y*(p.x-n.x),y:a.y+Y*(p.y-n.y)}}}function Rk(t,s,e){let i=t.length,n,a,p,y,C,A=_p(t,0);for(let R=0;R<i-1;++R)if(C=A,A=_p(t,R+1),!(!C||!A)){if(vp(s[R],0,zk)){e[R]=e[R+1]=0;continue}n=e[R]/s[R],a=e[R+1]/s[R],y=Math.pow(n,2)+Math.pow(a,2),!(y<=9)&&(p=3/Math.sqrt(y),e[R]=n*p*s[R],e[R+1]=a*p*s[R])}}function Nk(t,s,e="x"){let i=z3(e),n=t.length,a,p,y,C=_p(t,0);for(let A=0;A<n;++A){if(p=y,y=C,C=_p(t,A+1),!y)continue;let R=y[e],$=y[i];p&&(a=(R-p[e])/3,y[`cp1${e}`]=R-a,y[`cp1${i}`]=$-a*s[A]),C&&(a=(C[e]-R)/3,y[`cp2${e}`]=R+a,y[`cp2${i}`]=$+a*s[A])}}function qk(t,s="x"){let e=z3(s),i=t.length,n=Array(i).fill(0),a=Array(i),p,y,C,A=_p(t,0);for(p=0;p<i;++p)if(y=C,C=A,A=_p(t,p+1),!!C){if(A){let R=A[s]-C[s];n[p]=R!==0?(A[e]-C[e])/R:0}a[p]=y?A?ts(n[p-1])!==ts(n[p])?0:(n[p-1]+n[p])/2:n[p-1]:n[p]}Rk(t,n,a),Nk(t,a,s)}function Qf(t,s,e){return Math.max(Math.min(t,e),s)}function jk(t,s){let e,i,n,a,p,y=Es(t[0],s);for(e=0,i=t.length;e<i;++e)p=a,a=y,y=e<i-1&&Es(t[e+1],s),a&&(n=t[e],p&&(n.cp1x=Qf(n.cp1x,s.left,s.right),n.cp1y=Qf(n.cp1y,s.top,s.bottom)),y&&(n.cp2x=Qf(n.cp2x,s.left,s.right),n.cp2y=Qf(n.cp2y,s.top,s.bottom)))}function B3(t,s,e,i,n){let a,p,y,C;if(s.spanGaps&&(t=t.filter(A=>!A.skip)),s.cubicInterpolationMode==="monotone")qk(t,n);else{let A=i?t[t.length-1]:t[0];for(a=0,p=t.length;a<p;++a)y=t[a],C=Bk(A,y,t[Math.min(a+1,p-(i?0:1))%p],s.tension),y.cp1x=C.previous.x,y.cp1y=C.previous.y,y.cp2x=C.next.x,y.cp2y=C.next.y,A=y}s.capBezierPoints&&jk(t,e)}function cg(){return typeof window<"u"&&typeof document<"u"}function ug(t){let s=t.parentNode;return s&&s.toString()==="[object ShadowRoot]"&&(s=s.host),s}function eg(t,s,e){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*s.parentNode[e])):i=t,i}var dg=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Hk(t,s){return dg(t).getPropertyValue(s)}var Gk=["top","right","bottom","left"];function Ou(t,s,e){let i={};e=e?"-"+e:"";for(let n=0;n<4;n++){let a=Gk[n];i[a]=parseFloat(t[s+"-"+a+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var Uk=(t,s,e)=>(t>0||s>0)&&(!e||!e.shadowRoot);function $k(t,s){let e=t.touches,i=e&&e.length?e[0]:t,{offsetX:n,offsetY:a}=i,p=!1,y,C;if(Uk(n,a,t.target))y=n,C=a;else{let A=s.getBoundingClientRect();y=i.clientX-A.left,C=i.clientY-A.top,p=!0}return{x:y,y:C,box:p}}function yc(t,s){if("native"in t)return t;let{canvas:e,currentDevicePixelRatio:i}=s,n=dg(e),a=n.boxSizing==="border-box",p=Ou(n,"padding"),y=Ou(n,"border","width"),{x:C,y:A,box:R}=$k(t,e),$=p.left+(R&&y.left),Y=p.top+(R&&y.top),{width:re,height:te}=s;return a&&(re-=p.width+y.width,te-=p.height+y.height),{x:Math.round((C-$)/re*e.width/i),y:Math.round((A-Y)/te*e.height/i)}}function Kk(t,s,e){let i,n;if(s===void 0||e===void 0){let a=ug(t);if(!a)s=t.clientWidth,e=t.clientHeight;else{let p=a.getBoundingClientRect(),y=dg(a),C=Ou(y,"border","width"),A=Ou(y,"padding");s=p.width-A.width-C.width,e=p.height-A.height-C.height,i=eg(y.maxWidth,a,"clientWidth"),n=eg(y.maxHeight,a,"clientHeight")}}return{width:s,height:e,maxWidth:i||Yf,maxHeight:n||Yf}}var Zf=t=>Math.round(t*10)/10;function R3(t,s,e,i){let n=dg(t),a=Ou(n,"margin"),p=eg(n.maxWidth,t,"clientWidth")||Yf,y=eg(n.maxHeight,t,"clientHeight")||Yf,C=Kk(t,s,e),{width:A,height:R}=C;if(n.boxSizing==="content-box"){let Y=Ou(n,"border","width"),re=Ou(n,"padding");A-=re.width+Y.width,R-=re.height+Y.height}return A=Math.max(0,A-a.width),R=Math.max(0,i?A/i:R-a.height),A=Zf(Math.min(A,p,C.maxWidth)),R=Zf(Math.min(R,y,C.maxHeight)),A&&!R&&(R=Zf(A/2)),(s!==void 0||e!==void 0)&&i&&C.height&&R>C.height&&(R=C.height,A=Zf(Math.floor(R*i))),{width:A,height:R}}function Tb(t,s,e){let i=s||1,n=Math.floor(t.height*i),a=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);let p=t.canvas;return p.style&&(e||!p.style.height&&!p.style.width)&&(p.style.height=`${t.height}px`,p.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||p.height!==n||p.width!==a?(t.currentDevicePixelRatio=i,p.height=n,p.width=a,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}var N3=function(){let t=!1;try{let s={get passive(){return t=!0,!1}};cg()&&(window.addEventListener("test",null,s),window.removeEventListener("test",null,s))}catch{}return t}();function Cb(t,s){let e=Hk(t,s),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function mc(t,s,e,i){return{x:t.x+e*(s.x-t.x),y:t.y+e*(s.y-t.y)}}function q3(t,s,e,i){return{x:t.x+e*(s.x-t.x),y:i==="middle"?e<.5?t.y:s.y:i==="after"?e<1?t.y:s.y:e>0?s.y:t.y}}function j3(t,s,e,i){let n={x:t.cp2x,y:t.cp2y},a={x:s.cp1x,y:s.cp1y},p=mc(t,n,e),y=mc(n,a,e),C=mc(a,s,e),A=mc(p,y,e),R=mc(y,C,e);return mc(A,R,e)}var Wk=function(t,s){return{x(e){return t+t+s-e},setWidth(e){s=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},Qk=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,s){return t+s},leftForLtr(t,s){return t}}};function Bu(t,s,e){return t?Wk(s,e):Qk()}function Sb(t,s){let e,i;(s==="ltr"||s==="rtl")&&(e=t.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",s,"important"),t.prevTextDirection=i)}function Mb(t,s){s!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",s[0],s[1]))}function H3(t){return t==="angle"?{between:xp,compare:pk,normalize:ar}:{between:Ds,compare:(s,e)=>s-e,normalize:s=>s}}function h3({start:t,end:s,count:e,loop:i,style:n}){return{start:t%e,end:s%e,loop:i&&(s-t+1)%e===0,style:n}}function Zk(t,s,e){let{property:i,start:n,end:a}=e,{between:p,normalize:y}=H3(i),C=s.length,{start:A,end:R,loop:$}=t,Y,re;if($){for(A+=C,R+=C,Y=0,re=C;Y<re&&p(y(s[A%C][i]),n,a);++Y)A--,R--;A%=C,R%=C}return R<A&&(R+=C),{start:A,end:R,loop:$,style:t.style}}function kb(t,s,e){if(!e)return[t];let{property:i,start:n,end:a}=e,p=s.length,{compare:y,between:C,normalize:A}=H3(i),{start:R,end:$,loop:Y,style:re}=Zk(t,s,e),te=[],Me=!1,ke=null,je,Ye,_t,wt=()=>C(n,_t,je)&&y(n,_t)!==0,st=()=>y(a,je)===0||C(a,_t,je),yt=()=>Me||wt(),Rt=()=>!Me||st();for(let Mt=R,Xt=R;Mt<=$;++Mt)Ye=s[Mt%p],!Ye.skip&&(je=A(Ye[i]),je!==_t&&(Me=C(je,n,a),ke===null&&yt()&&(ke=y(je,n)===0?Mt:Xt),ke!==null&&Rt()&&(te.push(h3({start:ke,end:Mt,loop:Y,count:p,style:re})),ke=null),Xt=Mt,_t=je));return ke!==null&&te.push(h3({start:ke,end:$,loop:Y,count:p,style:re})),te}function Eb(t,s){let e=[],i=t.segments;for(let n=0;n<i.length;n++){let a=kb(i[n],t.points,s);a.length&&e.push(...a)}return e}function Xk(t,s,e,i){let n=0,a=s-1;if(e&&!i)for(;n<s&&!t[n].skip;)n++;for(;n<s&&t[n].skip;)n++;for(n%=s,e&&(a+=n);a>n&&t[a%s].skip;)a--;return a%=s,{start:n,end:a}}function Yk(t,s,e,i){let n=t.length,a=[],p=s,y=t[s],C;for(C=s+1;C<=e;++C){let A=t[C%n];A.skip||A.stop?y.skip||(i=!1,a.push({start:s%n,end:(C-1)%n,loop:i}),s=p=A.stop?C:null):(p=C,y.skip&&(s=C)),y=A}return p!==null&&a.push({start:s%n,end:p%n,loop:i}),a}function G3(t,s){let e=t.points,i=t.options.spanGaps,n=e.length;if(!n)return[];let a=!!t._loop,{start:p,end:y}=Xk(e,n,a,i);if(i===!0)return m3(t,[{start:p,end:y,loop:a}],e,s);let C=y<p?y+n:y,A=!!t._fullLoop&&p===0&&y===n-1;return m3(t,Yk(e,p,C,A),e,s)}function m3(t,s,e,i){return!i||!i.setContext||!e?s:Jk(t,s,e,i)}function Jk(t,s,e,i){let n=t._chart.getContext(),a=f3(t.options),{_datasetIndex:p,options:{spanGaps:y}}=t,C=e.length,A=[],R=a,$=s[0].start,Y=$;function re(te,Me,ke,je){let Ye=y?-1:1;if(te!==Me){for(te+=C;e[te%C].skip;)te-=Ye;for(;e[Me%C].skip;)Me+=Ye;te%C!==Me%C&&(A.push({start:te%C,end:Me%C,loop:ke,style:je}),R=je,$=Me%C)}}for(let te of s){$=y?$:te.start;let Me=e[$%C],ke;for(Y=$+1;Y<=te.end;Y++){let je=e[Y%C];ke=f3(i.setContext(pl(n,{type:"segment",p0:Me,p1:je,p0DataIndex:(Y-1)%C,p1DataIndex:Y%C,datasetIndex:p}))),eE(ke,R)&&re($,Y-1,te.loop,R),Me=je,R=ke}$<Y-1&&re($,Y-1,te.loop,R)}return A}function f3(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function eE(t,s){if(!s)return!1;let e=[],i=function(n,a){return fb(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(t,i)!==JSON.stringify(s,i)}var Rb=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(s,e,i,n){let a=e.listeners[n],p=e.duration;a.forEach(y=>y({chart:s,initial:e.initial,numSteps:p,currentStep:Math.min(i-e.start,p)}))}_refresh(){this._request||(this._running=!0,this._request=db.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(s=Date.now()){let e=0;this._charts.forEach((i,n)=>{if(!i.running||!i.items.length)return;let a=i.items,p=a.length-1,y=!1,C;for(;p>=0;--p)C=a[p],C._active?(C._total>i.duration&&(i.duration=C._total),C.tick(s),y=!0):(a[p]=a[a.length-1],a.pop());y&&(n.draw(),this._notify(n,i,s,"progress")),a.length||(i.running=!1,this._notify(n,i,s,"complete"),i.initial=!1),e+=a.length}),this._lastDate=s,e===0&&(this._running=!1)}_getAnims(s){let e=this._charts,i=e.get(s);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(s,i)),i}listen(s,e,i){this._getAnims(s).listeners[e].push(i)}add(s,e){!e||!e.length||this._getAnims(s).items.push(...e)}has(s){return this._getAnims(s).items.length>0}start(s){let e=this._charts.get(s);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,n)=>Math.max(i,n._duration),0),this._refresh())}running(s){if(!this._running)return!1;let e=this._charts.get(s);return!(!e||!e.running||!e.items.length)}stop(s){let e=this._charts.get(s);if(!e||!e.items.length)return;let i=e.items,n=i.length-1;for(;n>=0;--n)i[n].cancel();e.items=[],this._notify(s,e,Date.now(),"complete")}remove(s){return this._charts.delete(s)}},hl=new Rb,U3="transparent",tE={boolean(t,s,e){return e>.5?s:t},color(t,s,e){let i=gb(t||U3),n=i.valid&&gb(s||U3);return n&&n.valid?n.mix(i,e).hexString():s},number(t,s,e){return t+(s-t)*e}},Nb=class{constructor(s,e,i,n){let a=e[i];n=Tp([s.to,n,a,s.from]);let p=Tp([s.from,a,n]);this._active=!0,this._fn=s.fn||tE[s.type||typeof p],this._easing=fp[s.easing]||fp.linear,this._start=Math.floor(Date.now()+(s.delay||0)),this._duration=this._total=Math.floor(s.duration),this._loop=!!s.loop,this._target=e,this._prop=i,this._from=p,this._to=n,this._promises=void 0}active(){return this._active}update(s,e,i){if(this._active){this._notify(!1);let n=this._target[this._prop],a=i-this._start,p=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(p,s.duration)),this._total+=a,this._loop=!!s.loop,this._to=Tp([s.to,e,n,s.from]),this._from=Tp([s.from,n,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(s){let e=s-this._start,i=this._duration,n=this._prop,a=this._from,p=this._loop,y=this._to,C;if(this._active=a!==y&&(p||e<i),!this._active){this._target[n]=y,this._notify(!0);return}if(e<0){this._target[n]=a;return}C=e/i%2,C=p&&C>1?2-C:C,C=this._easing(Math.min(1,Math.max(0,C))),this._target[n]=this._fn(a,y,C)}wait(){let s=this._promises||(this._promises=[]);return new Promise((e,i)=>{s.push({res:e,rej:i})})}_notify(s){let e=s?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][e]()}},xg=class{constructor(s,e){this._chart=s,this._properties=new Map,this.configure(e)}configure(s){if(!Hi(s))return;let e=Object.keys(ha.animation),i=this._properties;Object.getOwnPropertyNames(s).forEach(n=>{let a=s[n];if(!Hi(a))return;let p={};for(let y of e)p[y]=a[y];(Rn(a.properties)&&a.properties||[n]).forEach(y=>{(y===n||!i.has(y))&&i.set(y,p)})})}_animateOptions(s,e){let i=e.options,n=nE(s,i);if(!n)return[];let a=this._createAnimations(n,i);return i.$shared&&iE(s.options.$animations,i).then(()=>{s.options=i},()=>{}),a}_createAnimations(s,e){let i=this._properties,n=[],a=s.$animations||(s.$animations={}),p=Object.keys(e),y=Date.now(),C;for(C=p.length-1;C>=0;--C){let A=p[C];if(A.charAt(0)==="$")continue;if(A==="options"){n.push(...this._animateOptions(s,e));continue}let R=e[A],$=a[A],Y=i.get(A);if($)if(Y&&$.active()){$.update(Y,R,y);continue}else $.cancel();if(!Y||!Y.duration){s[A]=R;continue}a[A]=$=new Nb(Y,s,A,R),n.push($)}return n}update(s,e){if(this._properties.size===0){Object.assign(s,e);return}let i=this._createAnimations(s,e);if(i.length)return hl.add(this._chart,i),!0}};function iE(t,s){let e=[],i=Object.keys(s);for(let n=0;n<i.length;n++){let a=t[i[n]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function nE(t,s){if(!s)return;let e=t.options;if(!e){t.options=s;return}return e.$shared&&(t.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function $3(t,s){let e=t&&t.options||{},i=e.reverse,n=e.min===void 0?s:0,a=e.max===void 0?s:0;return{start:i?a:n,end:i?n:a}}function aE(t,s,e){if(e===!1)return!1;let i=$3(t,e),n=$3(s,e);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}function oE(t){let s,e,i,n;return Hi(t)?(s=t.top,e=t.right,i=t.bottom,n=t.left):s=e=i=n=t,{top:s,right:e,bottom:i,left:n,disabled:t===!1}}function $5(t,s){let e=[],i=t._getSortedDatasetMetas(s),n,a;for(n=0,a=i.length;n<a;++n)e.push(i[n].index);return e}function K3(t,s,e,i={}){let n=t.keys,a=i.mode==="single",p,y,C,A;if(s!==null){for(p=0,y=n.length;p<y;++p){if(C=+n[p],C===e){if(i.all)continue;break}A=t.values[C],pa(A)&&(a||s===0||ts(s)===ts(A))&&(s+=A)}return s}}function rE(t){let s=Object.keys(t),e=new Array(s.length),i,n,a;for(i=0,n=s.length;i<n;++i)a=s[i],e[i]={x:a,y:t[a]};return e}function W3(t,s){let e=t&&t.options.stacked;return e||e===void 0&&s.stack!==void 0}function sE(t,s,e){return`${t.id}.${s.id}.${e.stack||e.type}`}function lE(t){let{min:s,max:e,minDefined:i,maxDefined:n}=t.getUserBounds();return{min:i?s:Number.NEGATIVE_INFINITY,max:n?e:Number.POSITIVE_INFINITY}}function cE(t,s,e){let i=t[s]||(t[s]={});return i[e]||(i[e]={})}function Q3(t,s,e,i){for(let n of s.getMatchingVisibleMetas(i).reverse()){let a=t[n.index];if(e&&a>0||!e&&a<0)return n.index}return null}function Z3(t,s){let{chart:e,_cachedMeta:i}=t,n=e._stacks||(e._stacks={}),{iScale:a,vScale:p,index:y}=i,C=a.axis,A=p.axis,R=sE(a,p,i),$=s.length,Y;for(let re=0;re<$;++re){let te=s[re],{[C]:Me,[A]:ke}=te,je=te._stacks||(te._stacks={});Y=je[A]=cE(n,R,Me),Y[y]=ke,Y._top=Q3(Y,p,!0,i.type),Y._bottom=Q3(Y,p,!1,i.type);let Ye=Y._visualValues||(Y._visualValues={});Ye[y]=ke}}function Pb(t,s){let e=t.scales;return Object.keys(e).filter(i=>e[i].axis===s).shift()}function uE(t,s){return pl(t,{active:!1,dataset:void 0,datasetIndex:s,index:s,mode:"default",type:"dataset"})}function dE(t,s,e){return pl(t,{active:!1,dataIndex:s,parsed:void 0,raw:void 0,element:e,index:s,mode:"default",type:"data"})}function mm(t,s){let e=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){s=s||t._parsed;for(let n of s){let a=n._stacks;if(!a||a[i]===void 0||a[i][e]===void 0)return;delete a[i][e],a[i]._visualValues!==void 0&&a[i]._visualValues[e]!==void 0&&delete a[i]._visualValues[e]}}}var Db=t=>t==="reset"||t==="none",X3=(t,s)=>s?t:Object.assign({},t),pE=(t,s,e)=>t&&!s.hidden&&s._stacked&&{keys:$5(e,!0),values:null},xc=(()=>{class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=W3(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&mm(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,i=this._cachedMeta,n=this.getDataset(),a=(Y,re,te,Me)=>Y==="x"?re:Y==="r"?Me:te,p=i.xAxisID=Di(n.xAxisID,Pb(e,"x")),y=i.yAxisID=Di(n.yAxisID,Pb(e,"y")),C=i.rAxisID=Di(n.rAxisID,Pb(e,"r")),A=i.indexAxis,R=i.iAxisID=a(A,p,y,C),$=i.vAxisID=a(A,y,p,C);i.xScale=this.getScaleForId(p),i.yScale=this.getScaleForId(y),i.rScale=this.getScaleForId(C),i.iScale=this.getScaleForId(R),i.vScale=this.getScaleForId($)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&cb(this._data,this),e._stacked&&mm(e)}_dataCheck(){let e=this.getDataset(),i=e.data||(e.data=[]),n=this._data;if(Hi(i))this._data=rE(i);else if(n!==i){if(n){cb(n,this);let a=this._cachedMeta;mm(a),a._parsed=[]}i&&Object.isExtensible(i)&&S3(i,this),this._syncList=[],this._data=i}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let i=this._cachedMeta,n=this.getDataset(),a=!1;this._dataCheck();let p=i._stacked;i._stacked=W3(i.vScale,i),i.stack!==n.stack&&(a=!0,mm(i),i.stack=n.stack),this._resyncElements(e),(a||p!==i._stacked)&&Z3(this,i._parsed)}configure(){let e=this.chart.config,i=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){let{_cachedMeta:n,_data:a}=this,{iScale:p,_stacked:y}=n,C=p.axis,A=e===0&&i===a.length?!0:n._sorted,R=e>0&&n._parsed[e-1],$,Y,re;if(this._parsing===!1)n._parsed=a,n._sorted=!0,re=a;else{Rn(a[e])?re=this.parseArrayData(n,a,e,i):Hi(a[e])?re=this.parseObjectData(n,a,e,i):re=this.parsePrimitiveData(n,a,e,i);let te=()=>Y[C]===null||R&&Y[C]<R[C];for($=0;$<i;++$)n._parsed[$+e]=Y=re[$],A&&(te()&&(A=!1),R=Y);n._sorted=A}y&&Z3(this,re)}parsePrimitiveData(e,i,n,a){let{iScale:p,vScale:y}=e,C=p.axis,A=y.axis,R=p.getLabels(),$=p===y,Y=new Array(a),re,te,Me;for(re=0,te=a;re<te;++re)Me=re+n,Y[re]={[C]:$||p.parse(R[Me],Me),[A]:y.parse(i[Me],Me)};return Y}parseArrayData(e,i,n,a){let{xScale:p,yScale:y}=e,C=new Array(a),A,R,$,Y;for(A=0,R=a;A<R;++A)$=A+n,Y=i[$],C[A]={x:p.parse(Y[0],$),y:y.parse(Y[1],$)};return C}parseObjectData(e,i,n,a){let{xScale:p,yScale:y}=e,{xAxisKey:C="x",yAxisKey:A="y"}=this._parsing,R=new Array(a),$,Y,re,te;for($=0,Y=a;$<Y;++$)re=$+n,te=i[re],R[$]={x:p.parse(dl(te,C),re),y:y.parse(dl(te,A),re)};return R}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,n){let a=this.chart,p=this._cachedMeta,y=i[e.axis],C={keys:$5(a,!0),values:i._stacks[e.axis]._visualValues};return K3(C,y,p.index,{mode:n})}updateRangeFromParsed(e,i,n,a){let p=n[i.axis],y=p===null?NaN:p,C=a&&n._stacks[i.axis];a&&C&&(a.values=C,y=K3(a,p,this._cachedMeta.index)),e.min=Math.min(e.min,y),e.max=Math.max(e.max,y)}getMinMax(e,i){let n=this._cachedMeta,a=n._parsed,p=n._sorted&&e===n.iScale,y=a.length,C=this._getOtherScale(e),A=pE(i,n,this.chart),R={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:$,max:Y}=lE(C),re,te;function Me(){te=a[re];let ke=te[C.axis];return!pa(te[e.axis])||$>ke||Y<ke}for(re=0;re<y&&!(!Me()&&(this.updateRangeFromParsed(R,e,te,A),p));++re);if(p){for(re=y-1;re>=0;--re)if(!Me()){this.updateRangeFromParsed(R,e,te,A);break}}return R}getAllParsedValues(e){let i=this._cachedMeta._parsed,n=[],a,p,y;for(a=0,p=i.length;a<p;++a)y=i[a][e.axis],pa(y)&&n.push(y);return n}getMaxOverflow(){return!1}getLabelAndValue(e){let i=this._cachedMeta,n=i.iScale,a=i.vScale,p=this.getParsed(e);return{label:n?""+n.getLabelForValue(p[n.axis]):"",value:a?""+a.getLabelForValue(p[a.axis]):""}}_update(e){let i=this._cachedMeta;this.update(e||"default"),i._clip=oE(Di(this.options.clip,aE(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,i=this.chart,n=this._cachedMeta,a=n.data||[],p=i.chartArea,y=[],C=this._drawStart||0,A=this._drawCount||a.length-C,R=this.options.drawActiveElementsOnTop,$;for(n.dataset&&n.dataset.draw(e,p,C,A),$=C;$<C+A;++$){let Y=a[$];Y.hidden||(Y.active&&R?y.push(Y):Y.draw(e,p))}for($=0;$<y.length;++$)y[$].draw(e,p)}getStyle(e,i){let n=i?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,i,n){let a=this.getDataset(),p;if(e>=0&&e<this._cachedMeta.data.length){let y=this._cachedMeta.data[e];p=y.$context||(y.$context=dE(this.getContext(),e,y)),p.parsed=this.getParsed(e),p.raw=a.data[e],p.index=p.dataIndex=e}else p=this.$context||(this.$context=uE(this.chart.getContext(),this.index)),p.dataset=a,p.index=p.datasetIndex=this.index;return p.active=!!i,p.mode=n,p}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",n){let a=i==="active",p=this._cachedDataOpts,y=e+"-"+i,C=p[y],A=this.enableOptionSharing&&yp(n);if(C)return X3(C,A);let R=this.chart.config,$=R.datasetElementScopeKeys(this._type,e),Y=a?[`${e}Hover`,"hover",e,""]:[e,""],re=R.getOptionScopes(this.getDataset(),$),te=Object.keys(ha.elements[e]),Me=()=>this.getContext(n,a,i),ke=R.resolveNamedOptions(re,te,Me,Y);return ke.$shared&&(ke.$shared=A,p[y]=Object.freeze(X3(ke,A))),ke}_resolveAnimations(e,i,n){let a=this.chart,p=this._cachedDataOpts,y=`animation-${i}`,C=p[y];if(C)return C;let A;if(a.options.animation!==!1){let $=this.chart.config,Y=$.datasetAnimationScopeKeys(this._type,i),re=$.getOptionScopes(this.getDataset(),Y);A=$.createResolver(re,this.getContext(e,n,i))}let R=new xg(a,A&&A.animations);return A&&A._cacheable&&(p[y]=Object.freeze(R)),R}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||Db(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){let n=this.resolveDataElementOptions(e,i),a=this._sharedOptions,p=this.getSharedOptions(n),y=this.includeOptions(i,p)||p!==a;return this.updateSharedOptions(p,i,n),{sharedOptions:p,includeOptions:y}}updateElement(e,i,n,a){Db(a)?Object.assign(e,n):this._resolveAnimations(i,a).update(e,n)}updateSharedOptions(e,i,n){e&&!Db(i)&&this._resolveAnimations(void 0,i).update(e,n)}_setStyle(e,i,n,a){e.active=a;let p=this.getStyle(i,a);this._resolveAnimations(i,n,a).update(e,{options:!a&&this.getSharedOptions(p)||p})}removeHoverStyle(e,i,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,i,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let i=this._data,n=this._cachedMeta.data;for(let[C,A,R]of this._syncList)this[C](A,R);this._syncList=[];let a=n.length,p=i.length,y=Math.min(p,a);y&&this.parse(0,y),p>a?this._insertElements(a,p-a,e):p<a&&this._removeElements(p,a-p)}_insertElements(e,i,n=!0){let a=this._cachedMeta,p=a.data,y=e+i,C,A=R=>{for(R.length+=i,C=R.length-1;C>=y;C--)R[C]=R[C-i]};for(A(p),C=e;C<y;++C)p[C]=new this.dataElementType;this._parsing&&A(a._parsed),this.parse(e,i),n&&this.updateElements(p,e,i,"reset")}updateElements(e,i,n,a){}_removeElements(e,i){let n=this._cachedMeta;if(this._parsing){let a=n._parsed.splice(e,i);n._stacked&&mm(n,a)}n.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[i,n,a]=e;this[i](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);let n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t})();function hE(t,s){if(!t._cache.$bar){let e=t.getMatchingVisibleMetas(s),i=[];for(let n=0,a=e.length;n<a;n++)i=i.concat(e[n].controller.getAllParsedValues(t));t._cache.$bar=ub(i.sort((n,a)=>n-a))}return t._cache.$bar}function mE(t){let s=t.iScale,e=hE(s,t.type),i=s._length,n,a,p,y,C=()=>{p===32767||p===-32768||(yp(y)&&(i=Math.min(i,Math.abs(p-y)||i)),y=p)};for(n=0,a=e.length;n<a;++n)p=s.getPixelForValue(e[n]),C();for(y=void 0,n=0,a=s.ticks.length;n<a;++n)p=s.getPixelForTick(n),C();return i}function fE(t,s,e,i){let n=e.barThickness,a,p;return en(n)?(a=s.min*e.categoryPercentage,p=e.barPercentage):(a=n*i,p=1),{chunk:a/i,ratio:p,start:s.pixels[t]-a/2}}function gE(t,s,e,i){let n=s.pixels,a=n[t],p=t>0?n[t-1]:null,y=t<n.length-1?n[t+1]:null,C=e.categoryPercentage;p===null&&(p=a-(y===null?s.end-s.start:y-a)),y===null&&(y=a+a-p);let A=a-(a-Math.min(p,y))/2*C;return{chunk:Math.abs(y-p)/2*C/i,ratio:e.barPercentage,start:A}}function _E(t,s,e,i){let n=e.parse(t[0],i),a=e.parse(t[1],i),p=Math.min(n,a),y=Math.max(n,a),C=p,A=y;Math.abs(p)>Math.abs(y)&&(C=y,A=p),s[e.axis]=A,s._custom={barStart:C,barEnd:A,start:n,end:a,min:p,max:y}}function K5(t,s,e,i){return Rn(t)?_E(t,s,e,i):s[e.axis]=e.parse(t,i),s}function Y3(t,s,e,i){let n=t.iScale,a=t.vScale,p=n.getLabels(),y=n===a,C=[],A,R,$,Y;for(A=e,R=e+i;A<R;++A)Y=s[A],$={},$[n.axis]=y||n.parse(p[A],A),C.push(K5(Y,$,a,A));return C}function Lb(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function bE(t,s,e){return t!==0?ts(t):(s.isHorizontal()?1:-1)*(s.min>=e?1:-1)}function yE(t){let s,e,i,n,a;return t.horizontal?(s=t.base>t.x,e="left",i="right"):(s=t.base<t.y,e="bottom",i="top"),s?(n="end",a="start"):(n="start",a="end"),{start:e,end:i,reverse:s,top:n,bottom:a}}function vE(t,s,e,i){let n=s.borderSkipped,a={};if(!n){t.borderSkipped=a;return}if(n===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:p,end:y,reverse:C,top:A,bottom:R}=yE(t);n==="middle"&&e&&(t.enableBorderRadius=!0,(e._top||0)===i?n=A:(e._bottom||0)===i?n=R:(a[J3(R,p,y,C)]=!0,n=A)),a[J3(n,p,y,C)]=!0,t.borderSkipped=a}function J3(t,s,e,i){return i?(t=xE(t,s,e),t=e5(t,e,s)):t=e5(t,s,e),t}function xE(t,s,e){return t===s?e:t===e?s:t}function e5(t,s,e){return t==="start"?s:t==="end"?e:t}function wE(t,{inflateAmount:s},e){t.inflateAmount=s==="auto"?e===1?.33:0:s}var IE=(()=>{class t extends xc{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,i,n,a){return Y3(e,i,n,a)}parseArrayData(e,i,n,a){return Y3(e,i,n,a)}parseObjectData(e,i,n,a){let{iScale:p,vScale:y}=e,{xAxisKey:C="x",yAxisKey:A="y"}=this._parsing,R=p.axis==="x"?C:A,$=y.axis==="x"?C:A,Y=[],re,te,Me,ke;for(re=n,te=n+a;re<te;++re)ke=i[re],Me={},Me[p.axis]=p.parse(dl(ke,R),re),Y.push(K5(dl(ke,$),Me,y,re));return Y}updateRangeFromParsed(e,i,n,a){super.updateRangeFromParsed(e,i,n,a);let p=n._custom;p&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,p.min),e.max=Math.max(e.max,p.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let i=this._cachedMeta,{iScale:n,vScale:a}=i,p=this.getParsed(e),y=p._custom,C=Lb(y)?"["+y.start+", "+y.end+"]":""+a.getLabelForValue(p[a.axis]);return{label:""+n.getLabelForValue(p[n.axis]),value:C}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,n,a){let p=a==="reset",{index:y,_cachedMeta:{vScale:C}}=this,A=C.getBasePixel(),R=C.isHorizontal(),$=this._getRuler(),{sharedOptions:Y,includeOptions:re}=this._getSharedOptions(i,a);for(let te=i;te<i+n;te++){let Me=this.getParsed(te),ke=p||en(Me[C.axis])?{base:A,head:A}:this._calculateBarValuePixels(te),je=this._calculateBarIndexPixels(te,$),Ye=(Me._stacks||{})[C.axis],_t={horizontal:R,base:ke.base,enableBorderRadius:!Ye||Lb(Me._custom)||y===Ye._top||y===Ye._bottom,x:R?ke.head:je.center,y:R?je.center:ke.head,height:R?je.size:Math.abs(ke.size),width:R?Math.abs(ke.size):je.size};re&&(_t.options=Y||this.resolveDataElementOptions(te,e[te].active?"active":a));let wt=_t.options||e[te].options;vE(_t,wt,Ye,y),wE(_t,wt,$.ratio),this.updateElement(e[te],te,_t,a)}}_getStacks(e,i){let{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(A=>A.controller.options.grouped),p=n.options.stacked,y=[],C=A=>{let R=A.controller.getParsed(i),$=R&&R[A.vScale.axis];if(en($)||isNaN($))return!0};for(let A of a)if(!(i!==void 0&&C(A))&&((p===!1||y.indexOf(A.stack)===-1||p===void 0&&A.stack===void 0)&&y.push(A.stack),A.index===e))break;return y.length||y.push(void 0),y}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,n){let a=this._getStacks(e,n),p=i!==void 0?a.indexOf(i):-1;return p===-1?a.length-1:p}_getRuler(){let e=this.options,i=this._cachedMeta,n=i.iScale,a=[],p,y;for(p=0,y=i.data.length;p<y;++p)a.push(n.getPixelForValue(this.getParsed(p)[n.axis],p));let C=e.barThickness;return{min:C||mE(i),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:C?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:i,_stacked:n,index:a},options:{base:p,minBarLength:y}}=this,C=p||0,A=this.getParsed(e),R=A._custom,$=Lb(R),Y=A[i.axis],re=0,te=n?this.applyStack(i,A,n):Y,Me,ke;te!==Y&&(re=te-Y,te=Y),$&&(Y=R.barStart,te=R.barEnd-R.barStart,Y!==0&&ts(Y)!==ts(R.barEnd)&&(re=0),re+=Y);let je=!en(p)&&!$?p:re,Ye=i.getPixelForValue(je);if(this.chart.getDataVisibility(e)?Me=i.getPixelForValue(re+te):Me=Ye,ke=Me-Ye,Math.abs(ke)<y){ke=bE(ke,i,C)*y,Y===C&&(Ye-=ke/2);let _t=i.getPixelForDecimal(0),wt=i.getPixelForDecimal(1),st=Math.min(_t,wt),yt=Math.max(_t,wt);Ye=Math.max(Math.min(Ye,yt),st),Me=Ye+ke,n&&!$&&(A._stacks[i.axis]._visualValues[a]=i.getValueForPixel(Me)-i.getValueForPixel(Ye))}if(Ye===i.getPixelForValue(C)){let _t=ts(ke)*i.getLineWidthForValue(C)/2;Ye+=_t,ke-=_t}return{size:ke,base:Ye,head:Me,center:Me+ke/2}}_calculateBarIndexPixels(e,i){let n=i.scale,a=this.options,p=a.skipNull,y=Di(a.maxBarThickness,1/0),C,A;if(i.grouped){let R=p?this._getStackCount(e):i.stackCount,$=a.barThickness==="flex"?gE(e,i,a,R):fE(e,i,a,R),Y=this._getStackIndex(this.index,this._cachedMeta.stack,p?e:void 0);C=$.start+$.chunk*Y+$.chunk/2,A=Math.min(y,$.chunk*$.ratio)}else C=n.getPixelForValue(this.getParsed(e)[n.axis],e),A=Math.min(y,i.min*i.ratio);return{base:C-A/2,head:C+A/2,center:C,size:A}}draw(){let e=this._cachedMeta,i=e.vScale,n=e.data,a=n.length,p=0;for(;p<a;++p)this.getParsed(p)[i.axis]!==null&&n[p].draw(this._ctx)}}return t})(),TE=(()=>{class t extends xc{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,n,a){let p=super.parsePrimitiveData(e,i,n,a);for(let y=0;y<p.length;y++)p[y]._custom=this.resolveDataElementOptions(y+n).radius;return p}parseArrayData(e,i,n,a){let p=super.parseArrayData(e,i,n,a);for(let y=0;y<p.length;y++){let C=i[n+y];p[y]._custom=Di(C[2],this.resolveDataElementOptions(y+n).radius)}return p}parseObjectData(e,i,n,a){let p=super.parseObjectData(e,i,n,a);for(let y=0;y<p.length;y++){let C=i[n+y];p[y]._custom=Di(C&&C.r&&+C.r,this.resolveDataElementOptions(y+n).radius)}return p}getMaxOverflow(){let e=this._cachedMeta.data,i=0;for(let n=e.length-1;n>=0;--n)i=Math.max(i,e[n].size(this.resolveDataElementOptions(n))/2);return i>0&&i}getLabelAndValue(e){let i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:p}=i,y=this.getParsed(e),C=a.getLabelForValue(y.x),A=p.getLabelForValue(y.y),R=y._custom;return{label:n[e]||"",value:"("+C+", "+A+(R?", "+R:"")+")"}}update(e){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,n,a){let p=a==="reset",{iScale:y,vScale:C}=this._cachedMeta,{sharedOptions:A,includeOptions:R}=this._getSharedOptions(i,a),$=y.axis,Y=C.axis;for(let re=i;re<i+n;re++){let te=e[re],Me=!p&&this.getParsed(re),ke={},je=ke[$]=p?y.getPixelForDecimal(.5):y.getPixelForValue(Me[$]),Ye=ke[Y]=p?C.getBasePixel():C.getPixelForValue(Me[Y]);ke.skip=isNaN(je)||isNaN(Ye),R&&(ke.options=A||this.resolveDataElementOptions(re,te.active?"active":a),p&&(ke.options.radius=0)),this.updateElement(te,re,ke,a)}}resolveDataElementOptions(e,i){let n=this.getParsed(e),a=super.resolveDataElementOptions(e,i);a.$shared&&(a=Object.assign({},a,{$shared:!1}));let p=a.radius;return i!=="active"&&(a.radius=0),a.radius+=Di(n&&n._custom,p),a}}return t})();function CE(t,s,e){let i=1,n=1,a=0,p=0;if(s<qn){let y=t,C=y+s,A=Math.cos(y),R=Math.sin(y),$=Math.cos(C),Y=Math.sin(C),re=(_t,wt,st)=>xp(_t,y,C,!0)?1:Math.max(wt,wt*e,st,st*e),te=(_t,wt,st)=>xp(_t,y,C,!0)?-1:Math.min(wt,wt*e,st,st*e),Me=re(0,A,$),ke=re(va,R,Y),je=te(Nn,A,$),Ye=te(Nn+va,R,Y);i=(Me-je)/2,n=(ke-Ye)/2,a=-(Me+je)/2,p=-(ke+Ye)/2}return{ratioX:i,ratioY:n,offsetX:a,offsetY:p}}var ry=(()=>{class t extends xc{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:n,color:a}}=e.legend.options;return i.labels.map((p,y)=>{let A=e.getDatasetMeta(0).controller.getStyle(y);return{text:p,fillStyle:A.backgroundColor,strokeStyle:A.borderColor,fontColor:a,lineWidth:A.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(y),index:y}})}return[]}},onClick(e,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}}};constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){let n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let p=A=>+n[A];if(Hi(n[e])){let{key:A="value"}=this._parsing;p=R=>+dl(n[R],A)}let y,C;for(y=e,C=e+i;y<C;++y)a._parsed[y]=p(y)}}_getRotation(){return qr(this.options.rotation-90)}_getCircumference(){return qr(this.options.circumference)}_getRotationExtents(){let e=qn,i=-qn;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){let a=this.chart.getDatasetMeta(n).controller,p=a._getRotation(),y=a._getCircumference();e=Math.min(e,p),i=Math.max(i,p+y)}return{rotation:e,circumference:i-e}}update(e){let i=this.chart,{chartArea:n}=i,a=this._cachedMeta,p=a.data,y=this.getMaxBorderWidth()+this.getMaxOffset(p)+this.options.spacing,C=Math.max((Math.min(n.width,n.height)-y)/2,0),A=Math.min(_3(this.options.cutout,C),1),R=this._getRingWeight(this.index),{circumference:$,rotation:Y}=this._getRotationExtents(),{ratioX:re,ratioY:te,offsetX:Me,offsetY:ke}=CE(Y,$,A),je=(n.width-y)/re,Ye=(n.height-y)/te,_t=Math.max(Math.min(je,Ye)/2,0),wt=nb(this.options.radius,_t),st=Math.max(wt*A,0),yt=(wt-st)/this._getVisibleDatasetWeightTotal();this.offsetX=Me*wt,this.offsetY=ke*wt,a.total=this.calculateTotal(),this.outerRadius=wt-yt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-yt*R,0),this.updateElements(p,0,p.length,e)}_circumference(e,i){let n=this.options,a=this._cachedMeta,p=this._getCircumference();return i&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*p/qn)}updateElements(e,i,n,a){let p=a==="reset",y=this.chart,C=y.chartArea,R=y.options.animation,$=(C.left+C.right)/2,Y=(C.top+C.bottom)/2,re=p&&R.animateScale,te=re?0:this.innerRadius,Me=re?0:this.outerRadius,{sharedOptions:ke,includeOptions:je}=this._getSharedOptions(i,a),Ye=this._getRotation(),_t;for(_t=0;_t<i;++_t)Ye+=this._circumference(_t,p);for(_t=i;_t<i+n;++_t){let wt=this._circumference(_t,p),st=e[_t],yt={x:$+this.offsetX,y:Y+this.offsetY,startAngle:Ye,endAngle:Ye+wt,circumference:wt,outerRadius:Me,innerRadius:te};je&&(yt.options=ke||this.resolveDataElementOptions(_t,st.active?"active":a)),Ye+=wt,this.updateElement(st,_t,yt,a)}}calculateTotal(){let e=this._cachedMeta,i=e.data,n=0,a;for(a=0;a<i.length;a++){let p=e._parsed[a];p!==null&&!isNaN(p)&&this.chart.getDataVisibility(a)&&!i[a].hidden&&(n+=Math.abs(p))}return n}calculateCircumference(e){let i=this._cachedMeta.total;return i>0&&!isNaN(e)?qn*(Math.abs(e)/i):0}getLabelAndValue(e){let i=this._cachedMeta,n=this.chart,a=n.data.labels||[],p=wp(i._parsed[e],n.options.locale);return{label:a[e]||"",value:p}}getMaxBorderWidth(e){let i=0,n=this.chart,a,p,y,C,A;if(!e){for(a=0,p=n.data.datasets.length;a<p;++a)if(n.isDatasetVisible(a)){y=n.getDatasetMeta(a),e=y.data,C=y.controller;break}}if(!e)return 0;for(a=0,p=e.length;a<p;++a)A=C.resolveDataElementOptions(a),A.borderAlign!=="inner"&&(i=Math.max(i,A.borderWidth||0,A.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let n=0,a=e.length;n<a;++n){let p=this.resolveDataElementOptions(n);i=Math.max(i,p.offset||0,p.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(i+=this._getRingWeight(n));return i}_getRingWeight(e){return Math.max(Di(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t})(),SE=(()=>{class t extends xc{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let i=this._cachedMeta,{dataset:n,data:a=[],_dataset:p}=i,y=this.chart._animationsDisabled,{start:C,count:A}=hb(i,a,y);this._drawStart=C,this._drawCount=A,mb(i)&&(C=0,A=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!p._decimated,n.points=a;let R=this.resolveDatasetElementOptions(e);this.options.showLine||(R.borderWidth=0),R.segment=this.options.segment,this.updateElement(n,void 0,{animated:!y,options:R},e),this.updateElements(a,C,A,e)}updateElements(e,i,n,a){let p=a==="reset",{iScale:y,vScale:C,_stacked:A,_dataset:R}=this._cachedMeta,{sharedOptions:$,includeOptions:Y}=this._getSharedOptions(i,a),re=y.axis,te=C.axis,{spanGaps:Me,segment:ke}=this.options,je=zu(Me)?Me:Number.POSITIVE_INFINITY,Ye=this.chart._animationsDisabled||p||a==="none",_t=i+n,wt=e.length,st=i>0&&this.getParsed(i-1);for(let yt=0;yt<wt;++yt){let Rt=e[yt],Mt=Ye?Rt:{};if(yt<i||yt>=_t){Mt.skip=!0;continue}let Xt=this.getParsed(yt),mi=en(Xt[te]),hi=Mt[re]=y.getPixelForValue(Xt[re],yt),Ci=Mt[te]=p||mi?C.getBasePixel():C.getPixelForValue(A?this.applyStack(C,Xt,A):Xt[te],yt);Mt.skip=isNaN(hi)||isNaN(Ci)||mi,Mt.stop=yt>0&&Math.abs(Xt[re]-st[re])>je,ke&&(Mt.parsed=Xt,Mt.raw=R.data[yt]),Y&&(Mt.options=$||this.resolveDataElementOptions(yt,Rt.active?"active":a)),Ye||this.updateElement(Rt,yt,Mt,a),st=Xt}}getMaxOverflow(){let e=this._cachedMeta,i=e.dataset,n=i.options&&i.options.borderWidth||0,a=e.data||[];if(!a.length)return n;let p=a[0].size(this.resolveDataElementOptions(0)),y=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,p,y)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return t})(),W5=(()=>{class t extends xc{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:n,color:a}}=e.legend.options;return i.labels.map((p,y)=>{let A=e.getDatasetMeta(0).controller.getStyle(y);return{text:p,fillStyle:A.backgroundColor,strokeStyle:A.borderColor,fontColor:a,lineWidth:A.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(y),index:y}})}return[]}},onClick(e,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let i=this._cachedMeta,n=this.chart,a=n.data.labels||[],p=wp(i._parsed[e].r,n.options.locale);return{label:a[e]||"",value:p}}parseObjectData(e,i,n,a){return Ib.bind(this)(e,i,n,a)}update(e){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){let e=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,a)=>{let p=this.getParsed(a).r;!isNaN(p)&&this.chart.getDataVisibility(a)&&(p<i.min&&(i.min=p),p>i.max&&(i.max=p))}),i}_updateRadius(){let e=this.chart,i=e.chartArea,n=e.options,a=Math.min(i.right-i.left,i.bottom-i.top),p=Math.max(a/2,0),y=Math.max(n.cutoutPercentage?p/100*n.cutoutPercentage:1,0),C=(p-y)/e.getVisibleDatasetCount();this.outerRadius=p-C*this.index,this.innerRadius=this.outerRadius-C}updateElements(e,i,n,a){let p=a==="reset",y=this.chart,A=y.options.animation,R=this._cachedMeta.rScale,$=R.xCenter,Y=R.yCenter,re=R.getIndexAngle(0)-.5*Nn,te=re,Me,ke=360/this.countVisibleElements();for(Me=0;Me<i;++Me)te+=this._computeAngle(Me,a,ke);for(Me=i;Me<i+n;Me++){let je=e[Me],Ye=te,_t=te+this._computeAngle(Me,a,ke),wt=y.getDataVisibility(Me)?R.getDistanceFromCenterForValue(this.getParsed(Me).r):0;te=_t,p&&(A.animateScale&&(wt=0),A.animateRotate&&(Ye=_t=re));let st={x:$,y:Y,innerRadius:0,outerRadius:wt,startAngle:Ye,endAngle:_t,options:this.resolveDataElementOptions(Me,je.active?"active":a)};this.updateElement(je,Me,st,a)}}countVisibleElements(){let e=this._cachedMeta,i=0;return e.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&i++}),i}_computeAngle(e,i,n){return this.chart.getDataVisibility(e)?qr(this.resolveDataElementOptions(e,i).angle||n):0}}return t})(),ME=(()=>{class t extends ry{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return t})(),kE=(()=>{class t extends xc{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let i=this._cachedMeta.vScale,n=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(n[i.axis])}}parseObjectData(e,i,n,a){return Ib.bind(this)(e,i,n,a)}update(e){let i=this._cachedMeta,n=i.dataset,a=i.data||[],p=i.iScale.getLabels();if(n.points=a,e!=="resize"){let y=this.resolveDatasetElementOptions(e);this.options.showLine||(y.borderWidth=0);let C={_loop:!0,_fullLoop:p.length===a.length,options:y};this.updateElement(n,void 0,C,e)}this.updateElements(a,0,a.length,e)}updateElements(e,i,n,a){let p=this._cachedMeta.rScale,y=a==="reset";for(let C=i;C<i+n;C++){let A=e[C],R=this.resolveDataElementOptions(C,A.active?"active":a),$=p.getPointPositionForValue(C,this.getParsed(C).r),Y=y?p.xCenter:$.x,re=y?p.yCenter:$.y,te={x:Y,y:re,angle:$.angle,skip:isNaN(Y)||isNaN(re),options:R};this.updateElement(A,C,te,a)}}}return t})(),EE=(()=>{class t extends xc{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:p}=i,y=this.getParsed(e),C=a.getLabelForValue(y.x),A=p.getLabelForValue(y.y);return{label:n[e]||"",value:"("+C+", "+A+")"}}update(e){let i=this._cachedMeta,{data:n=[]}=i,a=this.chart._animationsDisabled,{start:p,count:y}=hb(i,n,a);if(this._drawStart=p,this._drawCount=y,mb(i)&&(p=0,y=n.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:C,_dataset:A}=i;C._chart=this.chart,C._datasetIndex=this.index,C._decimated=!!A._decimated,C.points=n;let R=this.resolveDatasetElementOptions(e);R.segment=this.options.segment,this.updateElement(C,void 0,{animated:!a,options:R},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(n,p,y,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,n,a){let p=a==="reset",{iScale:y,vScale:C,_stacked:A,_dataset:R}=this._cachedMeta,$=this.resolveDataElementOptions(i,a),Y=this.getSharedOptions($),re=this.includeOptions(a,Y),te=y.axis,Me=C.axis,{spanGaps:ke,segment:je}=this.options,Ye=zu(ke)?ke:Number.POSITIVE_INFINITY,_t=this.chart._animationsDisabled||p||a==="none",wt=i>0&&this.getParsed(i-1);for(let st=i;st<i+n;++st){let yt=e[st],Rt=this.getParsed(st),Mt=_t?yt:{},Xt=en(Rt[Me]),mi=Mt[te]=y.getPixelForValue(Rt[te],st),hi=Mt[Me]=p||Xt?C.getBasePixel():C.getPixelForValue(A?this.applyStack(C,Rt,A):Rt[Me],st);Mt.skip=isNaN(mi)||isNaN(hi)||Xt,Mt.stop=st>0&&Math.abs(Rt[te]-wt[te])>Ye,je&&(Mt.parsed=Rt,Mt.raw=R.data[st]),re&&(Mt.options=Y||this.resolveDataElementOptions(st,yt.active?"active":a)),_t||this.updateElement(yt,st,Mt,a),wt=Rt}this.updateSharedOptions(Y,a,$)}getMaxOverflow(){let e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let C=0;for(let A=i.length-1;A>=0;--A)C=Math.max(C,i[A].size(this.resolveDataElementOptions(A))/2);return C>0&&C}let n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!i.length)return a;let p=i[0].size(this.resolveDataElementOptions(0)),y=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(a,p,y)/2}}return t})(),PE=Object.freeze({__proto__:null,BarController:IE,BubbleController:TE,DoughnutController:ry,LineController:SE,PieController:ME,PolarAreaController:W5,RadarController:kE,ScatterController:EE});function Ru(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var qb=class t{static override(s){Object.assign(t.prototype,s)}options;constructor(s){this.options=s||{}}init(){}formats(){return Ru()}parse(){return Ru()}format(){return Ru()}add(){return Ru()}diff(){return Ru()}startOf(){return Ru()}endOf(){return Ru()}},DE={_date:qb};function LE(t,s,e,i){let{controller:n,data:a,_sorted:p}=t,y=n._cachedMeta.iScale;if(y&&s===y.axis&&s!=="r"&&p&&a.length){let C=y._reversePixels?I3:ks;if(i){if(n._sharedOptions){let A=a[0],R=typeof A.getRange=="function"&&A.getRange(s);if(R){let $=C(a,s,e-R),Y=C(a,s,e+R);return{lo:$.lo,hi:Y.hi}}}}else return C(a,s,e)}return{lo:0,hi:a.length-1}}function Tm(t,s,e,i,n){let a=t.getSortedVisibleDatasetMetas(),p=e[s];for(let y=0,C=a.length;y<C;++y){let{index:A,data:R}=a[y],{lo:$,hi:Y}=LE(a[y],s,p,n);for(let re=$;re<=Y;++re){let te=R[re];te.skip||i(te,A,re)}}}function AE(t){let s=t.indexOf("x")!==-1,e=t.indexOf("y")!==-1;return function(i,n){let a=s?Math.abs(i.x-n.x):0,p=e?Math.abs(i.y-n.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(p,2))}}function Ab(t,s,e,i,n){let a=[];return!n&&!t.isPointInArea(s)||Tm(t,e,s,function(y,C,A){!n&&!Es(y,t.chartArea,0)||y.inRange(s.x,s.y,i)&&a.push({element:y,datasetIndex:C,index:A})},!0),a}function FE(t,s,e,i){let n=[];function a(p,y,C){let{startAngle:A,endAngle:R}=p.getProps(["startAngle","endAngle"],i),{angle:$}=lb(p,{x:s.x,y:s.y});xp($,A,R)&&n.push({element:p,datasetIndex:y,index:C})}return Tm(t,e,s,a),n}function OE(t,s,e,i,n,a){let p=[],y=AE(e),C=Number.POSITIVE_INFINITY;function A(R,$,Y){let re=R.inRange(s.x,s.y,n);if(i&&!re)return;let te=R.getCenterPoint(n);if(!(!!a||t.isPointInArea(te))&&!re)return;let ke=y(s,te);ke<C?(p=[{element:R,datasetIndex:$,index:Y}],C=ke):ke===C&&p.push({element:R,datasetIndex:$,index:Y})}return Tm(t,e,s,A),p}function Fb(t,s,e,i,n,a){return!a&&!t.isPointInArea(s)?[]:e==="r"&&!i?FE(t,s,e,n):OE(t,s,e,i,n,a)}function t5(t,s,e,i,n){let a=[],p=e==="x"?"inXRange":"inYRange",y=!1;return Tm(t,e,s,(C,A,R)=>{C[p](s[e],n)&&(a.push({element:C,datasetIndex:A,index:R}),y=y||C.inRange(s.x,s.y,n))}),i&&!y?[]:a}var VE={evaluateInteractionItems:Tm,modes:{index(t,s,e,i){let n=yc(s,t),a=e.axis||"x",p=e.includeInvisible||!1,y=e.intersect?Ab(t,n,a,i,p):Fb(t,n,a,!1,i,p),C=[];return y.length?(t.getSortedVisibleDatasetMetas().forEach(A=>{let R=y[0].index,$=A.data[R];$&&!$.skip&&C.push({element:$,datasetIndex:A.index,index:R})}),C):[]},dataset(t,s,e,i){let n=yc(s,t),a=e.axis||"xy",p=e.includeInvisible||!1,y=e.intersect?Ab(t,n,a,i,p):Fb(t,n,a,!1,i,p);if(y.length>0){let C=y[0].datasetIndex,A=t.getDatasetMeta(C).data;y=[];for(let R=0;R<A.length;++R)y.push({element:A[R],datasetIndex:C,index:R})}return y},point(t,s,e,i){let n=yc(s,t),a=e.axis||"xy",p=e.includeInvisible||!1;return Ab(t,n,a,i,p)},nearest(t,s,e,i){let n=yc(s,t),a=e.axis||"xy",p=e.includeInvisible||!1;return Fb(t,n,a,e.intersect,i,p)},x(t,s,e,i){let n=yc(s,t);return t5(t,n,"x",e.intersect,i)},y(t,s,e,i){let n=yc(s,t);return t5(t,n,"y",e.intersect,i)}}},Q5=["left","top","right","bottom"];function fm(t,s){return t.filter(e=>e.pos===s)}function i5(t,s){return t.filter(e=>Q5.indexOf(e.pos)===-1&&e.box.axis===s)}function gm(t,s){return t.sort((e,i)=>{let n=s?i:e,a=s?e:i;return n.weight===a.weight?n.index-a.index:n.weight-a.weight})}function zE(t){let s=[],e,i,n,a,p,y;for(e=0,i=(t||[]).length;e<i;++e)n=t[e],{position:a,options:{stack:p,stackWeight:y=1}}=n,s.push({index:e,box:n,pos:a,horizontal:n.isHorizontal(),weight:n.weight,stack:p&&a+p,stackWeight:y});return s}function BE(t){let s={};for(let e of t){let{stack:i,pos:n,stackWeight:a}=e;if(!i||!Q5.includes(n))continue;let p=s[i]||(s[i]={count:0,placed:0,weight:0,size:0});p.count++,p.weight+=a}return s}function RE(t,s){let e=BE(t),{vBoxMaxWidth:i,hBoxMaxHeight:n}=s,a,p,y;for(a=0,p=t.length;a<p;++a){y=t[a];let{fullSize:C}=y.box,A=e[y.stack],R=A&&y.stackWeight/A.weight;y.horizontal?(y.width=R?R*i:C&&s.availableWidth,y.height=n):(y.width=i,y.height=R?R*n:C&&s.availableHeight)}return e}function NE(t){let s=zE(t),e=gm(s.filter(A=>A.box.fullSize),!0),i=gm(fm(s,"left"),!0),n=gm(fm(s,"right")),a=gm(fm(s,"top"),!0),p=gm(fm(s,"bottom")),y=i5(s,"x"),C=i5(s,"y");return{fullSize:e,leftAndTop:i.concat(a),rightAndBottom:n.concat(C).concat(p).concat(y),chartArea:fm(s,"chartArea"),vertical:i.concat(n).concat(C),horizontal:a.concat(p).concat(y)}}function n5(t,s,e,i){return Math.max(t[e],s[e])+Math.max(t[i],s[i])}function Z5(t,s){t.top=Math.max(t.top,s.top),t.left=Math.max(t.left,s.left),t.bottom=Math.max(t.bottom,s.bottom),t.right=Math.max(t.right,s.right)}function qE(t,s,e,i){let{pos:n,box:a}=e,p=t.maxPadding;if(!Hi(n)){e.size&&(t[n]-=e.size);let $=i[e.stack]||{size:0,count:1};$.size=Math.max($.size,e.horizontal?a.height:a.width),e.size=$.size/$.count,t[n]+=e.size}a.getPadding&&Z5(p,a.getPadding());let y=Math.max(0,s.outerWidth-n5(p,t,"left","right")),C=Math.max(0,s.outerHeight-n5(p,t,"top","bottom")),A=y!==t.w,R=C!==t.h;return t.w=y,t.h=C,e.horizontal?{same:A,other:R}:{same:R,other:A}}function jE(t){let s=t.maxPadding;function e(i){let n=Math.max(s[i]-t[i],0);return t[i]+=n,n}t.y+=e("top"),t.x+=e("left"),e("right"),e("bottom")}function HE(t,s){let e=s.maxPadding;function i(n){let a={left:0,top:0,right:0,bottom:0};return n.forEach(p=>{a[p]=Math.max(s[p],e[p])}),a}return i(t?["left","right"]:["top","bottom"])}function ym(t,s,e,i){let n=[],a,p,y,C,A,R;for(a=0,p=t.length,A=0;a<p;++a){y=t[a],C=y.box,C.update(y.width||s.w,y.height||s.h,HE(y.horizontal,s));let{same:$,other:Y}=qE(s,e,y,i);A|=$&&n.length,R=R||Y,C.fullSize||n.push(y)}return A&&ym(n,s,e,i)||R}function pg(t,s,e,i,n){t.top=e,t.left=s,t.right=s+i,t.bottom=e+n,t.width=i,t.height=n}function a5(t,s,e,i){let n=e.padding,{x:a,y:p}=s;for(let y of t){let C=y.box,A=i[y.stack]||{count:1,placed:0,weight:1},R=y.stackWeight/A.weight||1;if(y.horizontal){let $=s.w*R,Y=A.size||C.height;yp(A.start)&&(p=A.start),C.fullSize?pg(C,n.left,p,e.outerWidth-n.right-n.left,Y):pg(C,s.left+A.placed,p,$,Y),A.start=p,A.placed+=$,p=C.bottom}else{let $=s.h*R,Y=A.size||C.width;yp(A.start)&&(a=A.start),C.fullSize?pg(C,a,n.top,Y,e.outerHeight-n.bottom-n.top):pg(C,a,s.top+A.placed,Y,$),A.start=a,A.placed+=$,a=C.right}}s.x=a,s.y=p}var Ao={addBox(t,s){t.boxes||(t.boxes=[]),s.fullSize=s.fullSize||!1,s.position=s.position||"top",s.weight=s.weight||0,s._layers=s._layers||function(){return[{z:0,draw(e){s.draw(e)}}]},t.boxes.push(s)},removeBox(t,s){let e=t.boxes?t.boxes.indexOf(s):-1;e!==-1&&t.boxes.splice(e,1)},configure(t,s,e){s.fullSize=e.fullSize,s.position=e.position,s.weight=e.weight},update(t,s,e,i){if(!t)return;let n=yo(t.options.layout.padding),a=Math.max(s-n.width,0),p=Math.max(e-n.height,0),y=NE(t.boxes),C=y.vertical,A=y.horizontal;xn(t.boxes,Me=>{typeof Me.beforeLayout=="function"&&Me.beforeLayout()});let R=C.reduce((Me,ke)=>ke.box.options&&ke.box.options.display===!1?Me:Me+1,0)||1,$=Object.freeze({outerWidth:s,outerHeight:e,padding:n,availableWidth:a,availableHeight:p,vBoxMaxWidth:a/2/R,hBoxMaxHeight:p/2}),Y=Object.assign({},n);Z5(Y,yo(i));let re=Object.assign({maxPadding:Y,w:a,h:p,x:n.left,y:n.top},n),te=RE(C.concat(A),$);ym(y.fullSize,re,$,te),ym(C,re,$,te),ym(A,re,$,te)&&ym(C,re,$,te),jE(re),a5(y.leftAndTop,re,$,te),re.x+=re.w,re.y+=re.h,a5(y.rightAndBottom,re,$,te),t.chartArea={left:re.left,top:re.top,right:re.left+re.w,bottom:re.top+re.h,height:re.h,width:re.w},xn(y.chartArea,Me=>{let ke=Me.box;Object.assign(ke,t.chartArea),ke.update(re.w,re.h,{left:0,top:0,right:0,bottom:0})})}},wg=class{acquireContext(s,e){}releaseContext(s){return!1}addEventListener(s,e,i){}removeEventListener(s,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(s,e,i,n){return e=Math.max(0,e||s.width),i=i||s.height,{width:e,height:Math.max(0,n?Math.floor(e/n):i)}}isAttached(s){return!0}updateConfig(s){}},jb=class extends wg{acquireContext(s){return s&&s.getContext&&s.getContext("2d")||null}updateConfig(s){s.options.animation=!1}},yg="$chartjs",GE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},o5=t=>t===null||t==="";function UE(t,s){let e=t.style,i=t.getAttribute("height"),n=t.getAttribute("width");if(t[yg]={initial:{height:i,width:n,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",o5(n)){let a=Cb(t,"width");a!==void 0&&(t.width=a)}if(o5(i))if(t.style.height==="")t.height=t.width/(s||2);else{let a=Cb(t,"height");a!==void 0&&(t.height=a)}return t}var X5=N3?{passive:!0}:!1;function $E(t,s,e){t&&t.addEventListener(s,e,X5)}function KE(t,s,e){t&&t.canvas&&t.canvas.removeEventListener(s,e,X5)}function WE(t,s){let e=GE[t.type]||t.type,{x:i,y:n}=yc(t,s);return{type:e,chart:s,native:t,x:i!==void 0?i:null,y:n!==void 0?n:null}}function Ig(t,s){for(let e of t)if(e===s||e.contains(s))return!0}function QE(t,s,e){let i=t.canvas,n=new MutationObserver(a=>{let p=!1;for(let y of a)p=p||Ig(y.addedNodes,i),p=p&&!Ig(y.removedNodes,i);p&&e()});return n.observe(document,{childList:!0,subtree:!0}),n}function ZE(t,s,e){let i=t.canvas,n=new MutationObserver(a=>{let p=!1;for(let y of a)p=p||Ig(y.removedNodes,i),p=p&&!Ig(y.addedNodes,i);p&&e()});return n.observe(document,{childList:!0,subtree:!0}),n}var xm=new Map,r5=0;function Y5(){let t=window.devicePixelRatio;t!==r5&&(r5=t,xm.forEach((s,e)=>{e.currentDevicePixelRatio!==t&&s()}))}function XE(t,s){xm.size||window.addEventListener("resize",Y5),xm.set(t,s)}function YE(t){xm.delete(t),xm.size||window.removeEventListener("resize",Y5)}function JE(t,s,e){let i=t.canvas,n=i&&ug(i);if(!n)return;let a=pb((y,C)=>{let A=n.clientWidth;e(y,C),A<n.clientWidth&&e()},window),p=new ResizeObserver(y=>{let C=y[0],A=C.contentRect.width,R=C.contentRect.height;A===0&&R===0||a(A,R)});return p.observe(n),XE(t,a),p}function Ob(t,s,e){e&&e.disconnect(),s==="resize"&&YE(t)}function e7(t,s,e){let i=t.canvas,n=pb(a=>{t.ctx!==null&&e(WE(a,t))},t);return $E(i,s,n),n}var Hb=class extends wg{acquireContext(s,e){let i=s&&s.getContext&&s.getContext("2d");return i&&i.canvas===s?(UE(s,e),i):null}releaseContext(s){let e=s.canvas;if(!e[yg])return!1;let i=e[yg].initial;["height","width"].forEach(a=>{let p=i[a];en(p)?e.removeAttribute(a):e.setAttribute(a,p)});let n=i.style||{};return Object.keys(n).forEach(a=>{e.style[a]=n[a]}),e.width=e.width,delete e[yg],!0}addEventListener(s,e,i){this.removeEventListener(s,e);let n=s.$proxies||(s.$proxies={}),p={attach:QE,detach:ZE,resize:JE}[e]||e7;n[e]=p(s,e,i)}removeEventListener(s,e){let i=s.$proxies||(s.$proxies={}),n=i[e];if(!n)return;({attach:Ob,detach:Ob,resize:Ob}[e]||KE)(s,e,n),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(s,e,i,n){return R3(s,e,i,n)}isAttached(s){let e=ug(s);return!!(e&&e.isConnected)}};function t7(t){return!cg()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?jb:Hb}var is=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(s){let{x:e,y:i}=this.getProps(["x","y"],s);return{x:e,y:i}}hasValue(){return zu(this.x)&&zu(this.y)}getProps(s,e){let i=this.$animations;if(!e||!i)return this;let n={};return s.forEach(a=>{n[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),n}};function i7(t,s){let e=t.options.ticks,i=n7(t),n=Math.min(e.maxTicksLimit||i,i),a=e.major.enabled?o7(s):[],p=a.length,y=a[0],C=a[p-1],A=[];if(p>n)return r7(s,A,a,p/n),A;let R=a7(a,s,n);if(p>0){let $,Y,re=p>1?Math.round((C-y)/(p-1)):null;for(hg(s,A,R,en(re)?0:y-re,y),$=0,Y=p-1;$<Y;$++)hg(s,A,R,a[$],a[$+1]);return hg(s,A,R,C,en(re)?s.length:C+re),A}return hg(s,A,R),A}function n7(t){let s=t.options.offset,e=t._tickSize(),i=t._length/e+(s?0:1),n=t._maxLength/e;return Math.floor(Math.min(i,n))}function a7(t,s,e){let i=s7(t),n=s.length/e;if(!i)return Math.max(n,1);let a=v3(i);for(let p=0,y=a.length-1;p<y;p++){let C=a[p];if(C>n)return C}return Math.max(n,1)}function o7(t){let s=[],e,i;for(e=0,i=t.length;e<i;e++)t[e].major&&s.push(e);return s}function r7(t,s,e,i){let n=0,a=e[0],p;for(i=Math.ceil(i),p=0;p<t.length;p++)p===a&&(s.push(t[p]),n++,a=e[n*i])}function hg(t,s,e,i,n){let a=Di(i,0),p=Math.min(Di(n,t.length),t.length),y=0,C,A,R;for(e=Math.ceil(e),n&&(C=n-i,e=C/Math.floor(C/e)),R=a;R<0;)y++,R=Math.round(a+y*e);for(A=Math.max(a,0);A<p;A++)A===R&&(s.push(t[A]),y++,R=Math.round(a+y*e))}function s7(t){let s=t.length,e,i;if(s<2)return!1;for(i=t[0],e=1;e<s;++e)if(t[e]-t[e-1]!==i)return!1;return i}var l7=t=>t==="left"?"right":t==="right"?"left":t,s5=(t,s,e)=>s==="top"||s==="left"?t[s]+e:t[s]-e,l5=(t,s)=>Math.min(s||t,t);function c5(t,s){let e=[],i=t.length/s,n=t.length,a=0;for(;a<n;a+=i)e.push(t[Math.floor(a)]);return e}function c7(t,s,e){let i=t.ticks.length,n=Math.min(s,i-1),a=t._startPixel,p=t._endPixel,y=1e-6,C=t.getPixelForTick(n),A;if(!(e&&(i===1?A=Math.max(C-a,p-C):s===0?A=(t.getPixelForTick(1)-C)/2:A=(C-t.getPixelForTick(n-1))/2,C+=n<s?A:-A,C<a-y||C>p+y)))return C}function u7(t,s){xn(t,e=>{let i=e.gc,n=i.length/2,a;if(n>s){for(a=0;a<n;++a)delete e.data[i[a]];i.splice(0,n)}})}function _m(t){return t.drawTicks?t.tickLength:0}function u5(t,s){if(!t.display)return 0;let e=Ba(t.font,s),i=yo(t.padding);return(Rn(t.text)?t.text.length:1)*e.lineHeight+i.height}function d7(t,s){return pl(t,{scale:s,type:"scale"})}function p7(t,s,e){return pl(t,{tick:e,index:s,type:"tick"})}function h7(t,s,e){let i=ag(t);return(e&&s!=="right"||!e&&s==="right")&&(i=l7(i)),i}function m7(t,s,e,i){let{top:n,left:a,bottom:p,right:y,chart:C}=t,{chartArea:A,scales:R}=C,$=0,Y,re,te,Me=p-n,ke=y-a;if(t.isHorizontal()){if(re=bo(i,a,y),Hi(e)){let je=Object.keys(e)[0],Ye=e[je];te=R[je].getPixelForValue(Ye)+Me-s}else e==="center"?te=(A.bottom+A.top)/2+Me-s:te=s5(t,e,s);Y=y-a}else{if(Hi(e)){let je=Object.keys(e)[0],Ye=e[je];re=R[je].getPixelForValue(Ye)-ke+s}else e==="center"?re=(A.left+A.right)/2-ke+s:re=s5(t,e,s);te=bo(i,p,n),$=e==="left"?-va:va}return{titleX:re,titleY:te,maxWidth:Y,rotation:$}}var qu=class t extends is{constructor(s){super(),this.id=s.id,this.type=s.type,this.options=void 0,this.ctx=s.ctx,this.chart=s.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(s){this.options=s.setContext(this.getContext()),this.axis=s.axis,this._userMin=this.parse(s.min),this._userMax=this.parse(s.max),this._suggestedMin=this.parse(s.suggestedMin),this._suggestedMax=this.parse(s.suggestedMax)}parse(s,e){return s}getUserBounds(){let{_userMin:s,_userMax:e,_suggestedMin:i,_suggestedMax:n}=this;return s=or(s,Number.POSITIVE_INFINITY),e=or(e,Number.NEGATIVE_INFINITY),i=or(i,Number.POSITIVE_INFINITY),n=or(n,Number.NEGATIVE_INFINITY),{min:or(s,i),max:or(e,n),minDefined:pa(s),maxDefined:pa(e)}}getMinMax(s){let{min:e,max:i,minDefined:n,maxDefined:a}=this.getUserBounds(),p;if(n&&a)return{min:e,max:i};let y=this.getMatchingVisibleMetas();for(let C=0,A=y.length;C<A;++C)p=y[C].controller.getMinMax(this,s),n||(e=Math.min(e,p.min)),a||(i=Math.max(i,p.max));return e=a&&e>i?i:e,i=n&&e>i?e:i,{min:or(e,or(i,e)),max:or(i,or(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let s=this.chart.data;return this.options.labels||(this.isHorizontal()?s.xLabels:s.yLabels)||s.labels||[]}getLabelItems(s=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(s))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Fn(this.options.beforeUpdate,[this])}update(s,e,i){let{beginAtZero:n,grace:a,ticks:p}=this.options,y=p.sampleSize;this.beforeUpdate(),this.maxWidth=s,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=A3(this,a,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let C=y<this.ticks.length;this._convertTicksToLabels(C?c5(this.ticks,y):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),p.display&&(p.autoSkip||p.source==="auto")&&(this.ticks=i7(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),C&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let s=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,s=!s),this._startPixel=e,this._endPixel=i,this._reversePixels=s,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Fn(this.options.afterUpdate,[this])}beforeSetDimensions(){Fn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Fn(this.options.afterSetDimensions,[this])}_callHooks(s){this.chart.notifyPlugins(s,this.getContext()),Fn(this.options[s],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Fn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(s){let e=this.options.ticks,i,n,a;for(i=0,n=s.length;i<n;i++)a=s[i],a.label=Fn(e.callback,[a.value,i,s],this)}afterTickToLabelConversion(){Fn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Fn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let s=this.options,e=s.ticks,i=l5(this.ticks.length,s.ticks.maxTicksLimit),n=e.minRotation||0,a=e.maxRotation,p=n,y,C,A;if(!this._isVisible()||!e.display||n>=a||i<=1||!this.isHorizontal()){this.labelRotation=n;return}let R=this._getLabelSizes(),$=R.widest.width,Y=R.highest.height,re=$a(this.chart.width-$,0,this.maxWidth);y=s.offset?this.maxWidth/i:re/(i-1),$+6>y&&(y=re/(i-(s.offset?.5:1)),C=this.maxHeight-_m(s.grid)-e.padding-u5(s.title,this.chart.options.font),A=Math.sqrt($*$+Y*Y),p=ig(Math.min(Math.asin($a((R.highest.height+6)/y,-1,1)),Math.asin($a(C/A,-1,1))-Math.asin($a(Y/A,-1,1)))),p=Math.max(n,Math.min(a,p))),this.labelRotation=p}afterCalculateLabelRotation(){Fn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Fn(this.options.beforeFit,[this])}fit(){let s={width:0,height:0},{chart:e,options:{ticks:i,title:n,grid:a}}=this,p=this._isVisible(),y=this.isHorizontal();if(p){let C=u5(n,e.options.font);if(y?(s.width=this.maxWidth,s.height=_m(a)+C):(s.height=this.maxHeight,s.width=_m(a)+C),i.display&&this.ticks.length){let{first:A,last:R,widest:$,highest:Y}=this._getLabelSizes(),re=i.padding*2,te=qr(this.labelRotation),Me=Math.cos(te),ke=Math.sin(te);if(y){let je=i.mirror?0:ke*$.width+Me*Y.height;s.height=Math.min(this.maxHeight,s.height+je+re)}else{let je=i.mirror?0:Me*$.width+ke*Y.height;s.width=Math.min(this.maxWidth,s.width+je+re)}this._calculatePadding(A,R,ke,Me)}}this._handleMargins(),y?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=s.height):(this.width=s.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(s,e,i,n){let{ticks:{align:a,padding:p},position:y}=this.options,C=this.labelRotation!==0,A=y!=="top"&&this.axis==="x";if(this.isHorizontal()){let R=this.getPixelForTick(0)-this.left,$=this.right-this.getPixelForTick(this.ticks.length-1),Y=0,re=0;C?A?(Y=n*s.width,re=i*e.height):(Y=i*s.height,re=n*e.width):a==="start"?re=e.width:a==="end"?Y=s.width:a!=="inner"&&(Y=s.width/2,re=e.width/2),this.paddingLeft=Math.max((Y-R+p)*this.width/(this.width-R),0),this.paddingRight=Math.max((re-$+p)*this.width/(this.width-$),0)}else{let R=e.height/2,$=s.height/2;a==="start"?(R=0,$=s.height):a==="end"&&(R=e.height,$=0),this.paddingTop=R+p,this.paddingBottom=$+p}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Fn(this.options.afterFit,[this])}isHorizontal(){let{axis:s,position:e}=this.options;return e==="top"||e==="bottom"||s==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(s){this.beforeTickToLabelConversion(),this.generateTickLabels(s);let e,i;for(e=0,i=s.length;e<i;e++)en(s[e].label)&&(s.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let s=this._labelSizes;if(!s){let e=this.options.ticks.sampleSize,i=this.ticks;e<i.length&&(i=c5(i,e)),this._labelSizes=s=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return s}_computeLabelSizes(s,e,i){let{ctx:n,_longestTextCache:a}=this,p=[],y=[],C=Math.floor(e/l5(e,i)),A=0,R=0,$,Y,re,te,Me,ke,je,Ye,_t,wt,st;for($=0;$<e;$+=C){if(te=s[$].label,Me=this._resolveTickFontOptions($),n.font=ke=Me.string,je=a[ke]=a[ke]||{data:{},gc:[]},Ye=Me.lineHeight,_t=wt=0,!en(te)&&!Rn(te))_t=cm(n,je.data,je.gc,_t,te),wt=Ye;else if(Rn(te))for(Y=0,re=te.length;Y<re;++Y)st=te[Y],!en(st)&&!Rn(st)&&(_t=cm(n,je.data,je.gc,_t,st),wt+=Ye);p.push(_t),y.push(wt),A=Math.max(_t,A),R=Math.max(wt,R)}u7(a,e);let yt=p.indexOf(A),Rt=y.indexOf(R),Mt=Xt=>({width:p[Xt]||0,height:y[Xt]||0});return{first:Mt(0),last:Mt(e-1),widest:Mt(yt),highest:Mt(Rt),widths:p,heights:y}}getLabelForValue(s){return s}getPixelForValue(s,e){return NaN}getValueForPixel(s){}getPixelForTick(s){let e=this.ticks;return s<0||s>e.length-1?null:this.getPixelForValue(e[s].value)}getPixelForDecimal(s){this._reversePixels&&(s=1-s);let e=this._startPixel+s*this._length;return w3(this._alignToPixels?gc(this.chart,e,0):e)}getDecimalForPixel(s){let e=(s-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:s,max:e}=this;return s<0&&e<0?e:s>0&&e>0?s:0}getContext(s){let e=this.ticks||[];if(s>=0&&s<e.length){let i=e[s];return i.$context||(i.$context=p7(this.getContext(),s,i))}return this.$context||(this.$context=d7(this.chart.getContext(),this))}_tickSize(){let s=this.options.ticks,e=qr(this.labelRotation),i=Math.abs(Math.cos(e)),n=Math.abs(Math.sin(e)),a=this._getLabelSizes(),p=s.autoSkipPadding||0,y=a?a.widest.width+p:0,C=a?a.highest.height+p:0;return this.isHorizontal()?C*i>y*n?y/i:C/n:C*n<y*i?C/i:y/n}_isVisible(){let s=this.options.display;return s!=="auto"?!!s:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(s){let e=this.axis,i=this.chart,n=this.options,{grid:a,position:p,border:y}=n,C=a.offset,A=this.isHorizontal(),$=this.ticks.length+(C?1:0),Y=_m(a),re=[],te=y.setContext(this.getContext()),Me=te.display?te.width:0,ke=Me/2,je=function(Yi){return gc(i,Yi,Me)},Ye,_t,wt,st,yt,Rt,Mt,Xt,mi,hi,Ci,kn;if(p==="top")Ye=je(this.bottom),Rt=this.bottom-Y,Xt=Ye-ke,hi=je(s.top)+ke,kn=s.bottom;else if(p==="bottom")Ye=je(this.top),hi=s.top,kn=je(s.bottom)-ke,Rt=Ye+ke,Xt=this.top+Y;else if(p==="left")Ye=je(this.right),yt=this.right-Y,Mt=Ye-ke,mi=je(s.left)+ke,Ci=s.right;else if(p==="right")Ye=je(this.left),mi=s.left,Ci=je(s.right)-ke,yt=Ye+ke,Mt=this.left+Y;else if(e==="x"){if(p==="center")Ye=je((s.top+s.bottom)/2+.5);else if(Hi(p)){let Yi=Object.keys(p)[0],di=p[Yi];Ye=je(this.chart.scales[Yi].getPixelForValue(di))}hi=s.top,kn=s.bottom,Rt=Ye+ke,Xt=Rt+Y}else if(e==="y"){if(p==="center")Ye=je((s.left+s.right)/2);else if(Hi(p)){let Yi=Object.keys(p)[0],di=p[Yi];Ye=je(this.chart.scales[Yi].getPixelForValue(di))}yt=Ye-ke,Mt=yt-Y,mi=s.left,Ci=s.right}let ka=Di(n.ticks.maxTicksLimit,$),Si=Math.max(1,Math.ceil($/ka));for(_t=0;_t<$;_t+=Si){let Yi=this.getContext(_t),di=a.setContext(Yi),Ea=y.setContext(Yi),Tn=di.lineWidth,Fo=di.color,kr=Ea.dash||[],vo=Ea.dashOffset,ea=di.tickWidth,xa=di.tickColor,oo=di.tickBorderDash||[],jn=di.tickBorderDashOffset;wt=c7(this,_t,C),wt!==void 0&&(st=gc(i,wt,Tn),A?yt=Mt=mi=Ci=st:Rt=Xt=hi=kn=st,re.push({tx1:yt,ty1:Rt,tx2:Mt,ty2:Xt,x1:mi,y1:hi,x2:Ci,y2:kn,width:Tn,color:Fo,borderDash:kr,borderDashOffset:vo,tickWidth:ea,tickColor:xa,tickBorderDash:oo,tickBorderDashOffset:jn}))}return this._ticksLength=$,this._borderValue=Ye,re}_computeLabelItems(s){let e=this.axis,i=this.options,{position:n,ticks:a}=i,p=this.isHorizontal(),y=this.ticks,{align:C,crossAlign:A,padding:R,mirror:$}=a,Y=_m(i.grid),re=Y+R,te=$?-R:re,Me=-qr(this.labelRotation),ke=[],je,Ye,_t,wt,st,yt,Rt,Mt,Xt,mi,hi,Ci,kn="middle";if(n==="top")yt=this.bottom-te,Rt=this._getXAxisLabelAlignment();else if(n==="bottom")yt=this.top+te,Rt=this._getXAxisLabelAlignment();else if(n==="left"){let Si=this._getYAxisLabelAlignment(Y);Rt=Si.textAlign,st=Si.x}else if(n==="right"){let Si=this._getYAxisLabelAlignment(Y);Rt=Si.textAlign,st=Si.x}else if(e==="x"){if(n==="center")yt=(s.top+s.bottom)/2+re;else if(Hi(n)){let Si=Object.keys(n)[0],Yi=n[Si];yt=this.chart.scales[Si].getPixelForValue(Yi)+re}Rt=this._getXAxisLabelAlignment()}else if(e==="y"){if(n==="center")st=(s.left+s.right)/2-re;else if(Hi(n)){let Si=Object.keys(n)[0],Yi=n[Si];st=this.chart.scales[Si].getPixelForValue(Yi)}Rt=this._getYAxisLabelAlignment(Y).textAlign}e==="y"&&(C==="start"?kn="top":C==="end"&&(kn="bottom"));let ka=this._getLabelSizes();for(je=0,Ye=y.length;je<Ye;++je){_t=y[je],wt=_t.label;let Si=a.setContext(this.getContext(je));Mt=this.getPixelForTick(je)+a.labelOffset,Xt=this._resolveTickFontOptions(je),mi=Xt.lineHeight,hi=Rn(wt)?wt.length:1;let Yi=hi/2,di=Si.color,Ea=Si.textStrokeColor,Tn=Si.textStrokeWidth,Fo=Rt;p?(st=Mt,Rt==="inner"&&(je===Ye-1?Fo=this.options.reverse?"left":"right":je===0?Fo=this.options.reverse?"right":"left":Fo="center"),n==="top"?A==="near"||Me!==0?Ci=-hi*mi+mi/2:A==="center"?Ci=-ka.highest.height/2-Yi*mi+mi:Ci=-ka.highest.height+mi/2:A==="near"||Me!==0?Ci=mi/2:A==="center"?Ci=ka.highest.height/2-Yi*mi:Ci=ka.highest.height-hi*mi,$&&(Ci*=-1),Me!==0&&!Si.showLabelBackdrop&&(st+=mi/2*Math.sin(Me))):(yt=Mt,Ci=(1-hi)*mi/2);let kr;if(Si.showLabelBackdrop){let vo=yo(Si.backdropPadding),ea=ka.heights[je],xa=ka.widths[je],oo=Ci-vo.top,jn=0-vo.left;switch(kn){case"middle":oo-=ea/2;break;case"bottom":oo-=ea;break}switch(Rt){case"center":jn-=xa/2;break;case"right":jn-=xa;break;case"inner":je===Ye-1?jn-=xa:je>0&&(jn-=xa/2);break}kr={left:jn,top:oo,width:xa+vo.width,height:ea+vo.height,color:Si.backdropColor}}ke.push({label:wt,font:Xt,textOffset:Ci,options:{rotation:Me,color:di,strokeColor:Ea,strokeWidth:Tn,textAlign:Fo,textBaseline:kn,translation:[st,yt],backdrop:kr}})}return ke}_getXAxisLabelAlignment(){let{position:s,ticks:e}=this.options;if(-qr(this.labelRotation))return s==="top"?"left":"right";let n="center";return e.align==="start"?n="left":e.align==="end"?n="right":e.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(s){let{position:e,ticks:{crossAlign:i,mirror:n,padding:a}}=this.options,p=this._getLabelSizes(),y=s+a,C=p.widest.width,A,R;return e==="left"?n?(R=this.right+a,i==="near"?A="left":i==="center"?(A="center",R+=C/2):(A="right",R+=C)):(R=this.right-y,i==="near"?A="right":i==="center"?(A="center",R-=C/2):(A="left",R=this.left)):e==="right"?n?(R=this.left+a,i==="near"?A="right":i==="center"?(A="center",R-=C/2):(A="left",R-=C)):(R=this.left+y,i==="near"?A="left":i==="center"?(A="center",R+=C/2):(A="right",R=this.right)):A="right",{textAlign:A,x:R}}_computeLabelArea(){if(this.options.ticks.mirror)return;let s=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:s.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:s.width}}drawBackground(){let{ctx:s,options:{backgroundColor:e},left:i,top:n,width:a,height:p}=this;e&&(s.save(),s.fillStyle=e,s.fillRect(i,n,a,p),s.restore())}getLineWidthForValue(s){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let n=this.ticks.findIndex(a=>a.value===s);return n>=0?e.setContext(this.getContext(n)).lineWidth:0}drawGrid(s){let e=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(s)),a,p,y=(C,A,R)=>{!R.width||!R.color||(i.save(),i.lineWidth=R.width,i.strokeStyle=R.color,i.setLineDash(R.borderDash||[]),i.lineDashOffset=R.borderDashOffset,i.beginPath(),i.moveTo(C.x,C.y),i.lineTo(A.x,A.y),i.stroke(),i.restore())};if(e.display)for(a=0,p=n.length;a<p;++a){let C=n[a];e.drawOnChartArea&&y({x:C.x1,y:C.y1},{x:C.x2,y:C.y2},C),e.drawTicks&&y({x:C.tx1,y:C.ty1},{x:C.tx2,y:C.ty2},{color:C.tickColor,width:C.tickWidth,borderDash:C.tickBorderDash,borderDashOffset:C.tickBorderDashOffset})}}drawBorder(){let{chart:s,ctx:e,options:{border:i,grid:n}}=this,a=i.setContext(this.getContext()),p=i.display?a.width:0;if(!p)return;let y=n.setContext(this.getContext(0)).lineWidth,C=this._borderValue,A,R,$,Y;this.isHorizontal()?(A=gc(s,this.left,p)-p/2,R=gc(s,this.right,y)+y/2,$=Y=C):($=gc(s,this.top,p)-p/2,Y=gc(s,this.bottom,y)+y/2,A=R=C),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(A,$),e.lineTo(R,Y),e.stroke(),e.restore()}drawLabels(s){if(!this.options.ticks.display)return;let i=this.ctx,n=this._computeLabelArea();n&&pm(i,n);let a=this.getLabelItems(s);for(let p of a){let y=p.options,C=p.font,A=p.label,R=p.textOffset;_c(i,A,0,R,C,y)}n&&hm(i)}drawTitle(){let{ctx:s,options:{position:e,title:i,reverse:n}}=this;if(!i.display)return;let a=Ba(i.font),p=yo(i.padding),y=i.align,C=a.lineHeight/2;e==="bottom"||e==="center"||Hi(e)?(C+=p.bottom,Rn(i.text)&&(C+=a.lineHeight*(i.text.length-1))):C+=p.top;let{titleX:A,titleY:R,maxWidth:$,rotation:Y}=m7(this,C,e,y);_c(s,i.text,0,0,a,{color:i.color,maxWidth:$,rotation:Y,textAlign:h7(y,e,n),textBaseline:"middle",translation:[A,R]})}draw(s){this._isVisible()&&(this.drawBackground(),this.drawGrid(s),this.drawBorder(),this.drawTitle(),this.drawLabels(s))}_layers(){let s=this.options,e=s.ticks&&s.ticks.z||0,i=Di(s.grid&&s.grid.z,-1),n=Di(s.border&&s.border.z,0);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(s){let e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[],a,p;for(a=0,p=e.length;a<p;++a){let y=e[a];y[i]===this.id&&(!s||y.type===s)&&n.push(y)}return n}_resolveTickFontOptions(s){let e=this.options.ticks.setContext(this.getContext(s));return Ba(e.font)}_maxDigits(){let s=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/s}},Sp=class{constructor(s,e,i){this.type=s,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(s){return Object.prototype.isPrototypeOf.call(this.type.prototype,s.prototype)}register(s){let e=Object.getPrototypeOf(s),i;_7(e)&&(i=this.register(e));let n=this.items,a=s.id,p=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+s);return a in n||(n[a]=s,f7(s,p,i),this.override&&ha.override(s.id,s.overrides)),p}get(s){return this.items[s]}unregister(s){let e=this.items,i=s.id,n=this.scope;i in e&&delete e[i],n&&i in ha[n]&&(delete ha[n][i],this.override&&delete fc[i])}};function f7(t,s,e){let i=gp(Object.create(null),[e?ha.get(e):{},ha.get(s),t.defaults]);ha.set(s,i),t.defaultRoutes&&g7(s,t.defaultRoutes),t.descriptors&&ha.describe(s,t.descriptors)}function g7(t,s){Object.keys(s).forEach(e=>{let i=e.split("."),n=i.pop(),a=[t].concat(i).join("."),p=s[e].split("."),y=p.pop(),C=p.join(".");ha.route(a,n,C,y)})}function _7(t){return"id"in t&&"defaults"in t}var Gb=class{constructor(){this.controllers=new Sp(xc,"datasets",!0),this.elements=new Sp(is,"elements"),this.plugins=new Sp(Object,"plugins"),this.scales=new Sp(qu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...s){this._each("register",s)}remove(...s){this._each("unregister",s)}addControllers(...s){this._each("register",s,this.controllers)}addElements(...s){this._each("register",s,this.elements)}addPlugins(...s){this._each("register",s,this.plugins)}addScales(...s){this._each("register",s,this.scales)}getController(s){return this._get(s,this.controllers,"controller")}getElement(s){return this._get(s,this.elements,"element")}getPlugin(s){return this._get(s,this.plugins,"plugin")}getScale(s){return this._get(s,this.scales,"scale")}removeControllers(...s){this._each("unregister",s,this.controllers)}removeElements(...s){this._each("unregister",s,this.elements)}removePlugins(...s){this._each("unregister",s,this.plugins)}removeScales(...s){this._each("unregister",s,this.scales)}_each(s,e,i){[...e].forEach(n=>{let a=i||this._getRegistryForType(n);i||a.isForType(n)||a===this.plugins&&n.id?this._exec(s,a,n):xn(n,p=>{let y=i||this._getRegistryForType(p);this._exec(s,y,p)})})}_exec(s,e,i){let n=tg(s);Fn(i["before"+n],[],i),e[s](i),Fn(i["after"+n],[],i)}_getRegistryForType(s){for(let e=0;e<this._typedRegistries.length;e++){let i=this._typedRegistries[e];if(i.isForType(s))return i}return this.plugins}_get(s,e,i){let n=e.get(s);if(n===void 0)throw new Error('"'+s+'" is not a registered '+i+".");return n}},As=new Gb,Ub=class{constructor(){this._init=[]}notify(s,e,i,n){e==="beforeInit"&&(this._init=this._createDescriptors(s,!0),this._notify(this._init,s,"install"));let a=n?this._descriptors(s).filter(n):this._descriptors(s),p=this._notify(a,s,e,i);return e==="afterDestroy"&&(this._notify(a,s,"stop"),this._notify(this._init,s,"uninstall")),p}_notify(s,e,i,n){n=n||{};for(let a of s){let p=a.plugin,y=p[i],C=[e,n,a.options];if(Fn(y,C,p)===!1&&n.cancelable)return!1}return!0}invalidate(){en(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(s){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(s);return this._notifyStateChanges(s),e}_createDescriptors(s,e){let i=s&&s.config,n=Di(i.options&&i.options.plugins,{}),a=b7(i);return n===!1&&!e?[]:v7(s,a,n,e)}_notifyStateChanges(s){let e=this._oldCache||[],i=this._cache,n=(a,p)=>a.filter(y=>!p.some(C=>y.plugin.id===C.plugin.id));this._notify(n(e,i),s,"stop"),this._notify(n(i,e),s,"start")}};function b7(t){let s={},e=[],i=Object.keys(As.plugins.items);for(let a=0;a<i.length;a++)e.push(As.getPlugin(i[a]));let n=t.plugins||[];for(let a=0;a<n.length;a++){let p=n[a];e.indexOf(p)===-1&&(e.push(p),s[p.id]=!0)}return{plugins:e,localIds:s}}function y7(t,s){return!s&&t===!1?null:t===!0?{}:t}function v7(t,{plugins:s,localIds:e},i,n){let a=[],p=t.getContext();for(let y of s){let C=y.id,A=y7(i[C],n);A!==null&&a.push({plugin:y,options:x7(t.config,{plugin:y,local:e[C]},A,p)})}return a}function x7(t,{plugin:s,local:e},i,n){let a=t.pluginScopeKeys(s),p=t.getOptionScopes(i,a);return e&&s.defaults&&p.push(s.defaults),t.createResolver(p,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function $b(t,s){let e=ha.datasets[t]||{};return((s.datasets||{})[t]||{}).indexAxis||s.indexAxis||e.indexAxis||"x"}function w7(t,s){let e=t;return t==="_index_"?e=s:t==="_value_"&&(e=s==="x"?"y":"x"),e}function I7(t,s){return t===s?"_index_":"_value_"}function d5(t){if(t==="x"||t==="y"||t==="r")return t}function T7(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Kb(t,...s){if(d5(t))return t;for(let e of s){let i=e.axis||T7(e.position)||t.length>1&&d5(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function p5(t,s,e){if(e[s+"AxisID"]===t)return{axis:s}}function C7(t,s){if(s.data&&s.data.datasets){let e=s.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(e.length)return p5(t,"x",e[0])||p5(t,"y",e[0])}return{}}function S7(t,s){let e=fc[t.type]||{scales:{}},i=s.scales||{},n=$b(t.type,s),a=Object.create(null);return Object.keys(i).forEach(p=>{let y=i[p];if(!Hi(y))return console.error(`Invalid scale configuration for scale: ${p}`);if(y._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${p}`);let C=Kb(p,y,C7(p,t),ha.scales[y.type]),A=I7(C,n),R=e.scales||{};a[p]=bp(Object.create(null),[{axis:C},y,R[C],R[A]])}),t.data.datasets.forEach(p=>{let y=p.type||t.type,C=p.indexAxis||$b(y,s),R=(fc[y]||{}).scales||{};Object.keys(R).forEach($=>{let Y=w7($,C),re=p[Y+"AxisID"]||Y;a[re]=a[re]||Object.create(null),bp(a[re],[{axis:Y},i[re],R[$]])})}),Object.keys(a).forEach(p=>{let y=a[p];bp(y,[ha.scales[y.type],ha.scale])}),a}function J5(t){let s=t.options||(t.options={});s.plugins=Di(s.plugins,{}),s.scales=S7(t,s)}function eI(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function M7(t){return t=t||{},t.data=eI(t.data),J5(t),t}var h5=new Map,tI=new Set;function mg(t,s){let e=h5.get(t);return e||(e=s(),h5.set(t,e),tI.add(e)),e}var bm=(t,s,e)=>{let i=dl(s,e);i!==void 0&&t.add(i)},Wb=class{constructor(s){this._config=M7(s),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(s){this._config.type=s}get data(){return this._config.data}set data(s){this._config.data=eI(s)}get options(){return this._config.options}set options(s){this._config.options=s}get plugins(){return this._config.plugins}update(){let s=this._config;this.clearCache(),J5(s)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(s){return mg(s,()=>[[`datasets.${s}`,""]])}datasetAnimationScopeKeys(s,e){return mg(`${s}.transition.${e}`,()=>[[`datasets.${s}.transitions.${e}`,`transitions.${e}`],[`datasets.${s}`,""]])}datasetElementScopeKeys(s,e){return mg(`${s}-${e}`,()=>[[`datasets.${s}.elements.${e}`,`datasets.${s}`,`elements.${e}`,""]])}pluginScopeKeys(s){let e=s.id,i=this.type;return mg(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...s.additionalOptionScopes||[]]])}_cachedScopes(s,e){let i=this._scopeCache,n=i.get(s);return(!n||e)&&(n=new Map,i.set(s,n)),n}getOptionScopes(s,e,i){let{options:n,type:a}=this,p=this._cachedScopes(s,i),y=p.get(e);if(y)return y;let C=new Set;e.forEach(R=>{s&&(C.add(s),R.forEach($=>bm(C,s,$))),R.forEach($=>bm(C,n,$)),R.forEach($=>bm(C,fc[a]||{},$)),R.forEach($=>bm(C,ha,$)),R.forEach($=>bm(C,og,$))});let A=Array.from(C);return A.length===0&&A.push(Object.create(null)),tI.has(e)&&p.set(e,A),A}chartOptionScopes(){let{options:s,type:e}=this;return[s,fc[e]||{},ha.datasets[e]||{},{type:e},ha,og]}resolveNamedOptions(s,e,i,n=[""]){let a={$shared:!0},{resolver:p,subPrefixes:y}=m5(this._resolverCache,s,n),C=p;if(E7(p,e)){a.$shared=!1,i=cl(i)?i():i;let A=this.createResolver(s,i,y);C=Vu(p,i,A)}for(let A of e)a[A]=C[A];return a}createResolver(s,e,i=[""],n){let{resolver:a}=m5(this._resolverCache,s,i);return Hi(e)?Vu(a,e,void 0,n):a}};function m5(t,s,e){let i=t.get(s);i||(i=new Map,t.set(s,i));let n=e.join(),a=i.get(n);return a||(a={resolver:lg(s,e),subPrefixes:e.filter(y=>!y.toLowerCase().includes("hover"))},i.set(n,a)),a}var k7=t=>Hi(t)&&Object.getOwnPropertyNames(t).some(s=>cl(t[s]));function E7(t,s){let{isScriptable:e,isIndexable:i}=vb(t);for(let n of s){let a=e(n),p=i(n),y=(p||a)&&t[n];if(a&&(cl(y)||k7(y))||p&&Rn(y))return!0}return!1}var P7="4.4.2",D7=["top","bottom","left","right","chartArea"];function f5(t,s){return t==="top"||t==="bottom"||D7.indexOf(t)===-1&&s==="x"}function g5(t,s){return function(e,i){return e[t]===i[t]?e[s]-i[s]:e[t]-i[t]}}function _5(t){let s=t.chart,e=s.options.animation;s.notifyPlugins("afterRender"),Fn(e&&e.onComplete,[t],s)}function L7(t){let s=t.chart,e=s.options.animation;Fn(e&&e.onProgress,[t],s)}function iI(t){return cg()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var vg={},b5=t=>{let s=iI(t);return Object.values(vg).filter(e=>e.canvas===s).pop()};function A7(t,s,e){let i=Object.keys(t);for(let n of i){let a=+n;if(a>=s){let p=t[n];delete t[n],(e>0||a>s)&&(t[a+e]=p)}}}function F7(t,s,e,i){return!e||t.type==="mouseout"?null:i?s:t}function fg(t,s,e){return t.options.clip?t[e]:s[e]}function O7(t,s){let{xScale:e,yScale:i}=t;return e&&i?{left:fg(e,s,"left"),right:fg(e,s,"right"),top:fg(i,s,"top"),bottom:fg(i,s,"bottom")}:s}var Mg=(()=>{class t{static defaults=ha;static instances=vg;static overrides=fc;static registry=As;static version=P7;static getChart=b5;static register(...e){As.add(...e),y5()}static unregister(...e){As.remove(...e),y5()}constructor(e,i){let n=this.config=new Wb(i),a=iI(e),p=b5(a);if(p)throw new Error("Canvas is already in use. Chart with ID '"+p.id+"' must be destroyed before the canvas with ID '"+p.canvas.id+"' can be reused.");let y=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||t7(a)),this.platform.updateConfig(n);let C=this.platform.acquireContext(a,y.aspectRatio),A=C&&C.canvas,R=A&&A.height,$=A&&A.width;if(this.id=g3(),this.ctx=C,this.canvas=A,this.width=$,this.height=R,this._options=y,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ub,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=M3(Y=>this.update(Y),y.resizeDelay||0),this._dataChanges=[],vg[this.id]=this,!C||!A){console.error("Failed to create chart: can't acquire context from the given item");return}hl.listen(this,"complete",_5),hl.listen(this,"progress",L7),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:i},width:n,height:a,_aspectRatio:p}=this;return en(e)?i&&p?p:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return As}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Tb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return _b(this.canvas,this.ctx),this}stop(){return hl.stop(this),this}resize(e,i){hl.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){let n=this.options,a=this.canvas,p=n.maintainAspectRatio&&this.aspectRatio,y=this.platform.getMaximumSize(a,e,i,p),C=n.devicePixelRatio||this.platform.getDevicePixelRatio(),A=this.width?"resize":"attach";this.width=y.width,this.height=y.height,this._aspectRatio=this.aspectRatio,Tb(this,C,!0)&&(this.notifyPlugins("resize",{size:y}),Fn(n.onResize,[this,y],this),this.attached&&this._doResize(A)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};xn(i,(n,a)=>{n.id=a})}buildOrUpdateScales(){let e=this.options,i=e.scales,n=this.scales,a=Object.keys(n).reduce((y,C)=>(y[C]=!1,y),{}),p=[];i&&(p=p.concat(Object.keys(i).map(y=>{let C=i[y],A=Kb(y,C),R=A==="r",$=A==="x";return{options:C,dposition:R?"chartArea":$?"bottom":"left",dtype:R?"radialLinear":$?"category":"linear"}}))),xn(p,y=>{let C=y.options,A=C.id,R=Kb(A,C),$=Di(C.type,y.dtype);(C.position===void 0||f5(C.position,R)!==f5(y.dposition))&&(C.position=y.dposition),a[A]=!0;let Y=null;if(A in n&&n[A].type===$)Y=n[A];else{let re=As.getScale($);Y=new re({id:A,type:$,ctx:this.ctx,chart:this}),n[Y.id]=Y}Y.init(C,e)}),xn(a,(y,C)=>{y||delete n[C]}),xn(n,y=>{Ao.configure(this,y,y.options),Ao.addBox(this,y)})}_updateMetasets(){let e=this._metasets,i=this.data.datasets.length,n=e.length;if(e.sort((a,p)=>a.index-p.index),n>i){for(let a=i;a<n;++a)this._destroyDatasetMeta(a);e.splice(i,n-i)}this._sortedMetasets=e.slice(0).sort(g5("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((n,a)=>{i.filter(p=>p===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){let e=[],i=this.data.datasets,n,a;for(this._removeUnreferencedMetasets(),n=0,a=i.length;n<a;n++){let p=i[n],y=this.getDatasetMeta(n),C=p.type||this.config.type;if(y.type&&y.type!==C&&(this._destroyDatasetMeta(n),y=this.getDatasetMeta(n)),y.type=C,y.indexAxis=p.indexAxis||$b(C,this.options),y.order=p.order||0,y.index=n,y.label=""+p.label,y.visible=this.isDatasetVisible(n),y.controller)y.controller.updateIndex(n),y.controller.linkScales();else{let A=As.getController(C),{datasetElementType:R,dataElementType:$}=ha.datasets[C];Object.assign(A,{dataElementType:As.getElement($),datasetElementType:R&&As.getElement(R)}),y.controller=new A(this,n),e.push(y.controller)}}return this._updateMetasets(),e}_resetElements(){xn(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let i=this.config;i.update();let n=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let p=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let y=0;for(let R=0,$=this.data.datasets.length;R<$;R++){let{controller:Y}=this.getDatasetMeta(R),re=!a&&p.indexOf(Y)===-1;Y.buildOrUpdateElements(re),y=Math.max(+Y.getMaxOverflow(),y)}y=this._minPadding=n.layout.autoPadding?y:0,this._updateLayout(y),a||xn(p,R=>{R.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(g5("z","_idx"));let{_active:C,_lastEvent:A}=this;A?this._eventHandler(A,!0):C.length&&this._updateHoverStyles(C,C,!0),this.render()}_updateScales(){xn(this.scales,e=>{Ao.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,i=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!ab(i,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(let{method:n,start:a,count:p}of i){let y=n==="_removeElements"?-p:p;A7(e,a,y)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let i=this.data.datasets.length,n=p=>new Set(e.filter(y=>y[0]===p).map((y,C)=>C+","+y.splice(1).join(","))),a=n(0);for(let p=1;p<i;p++)if(!ab(a,n(p)))return;return Array.from(a).map(p=>p.split(",")).map(p=>({method:p[1],start:+p[2],count:+p[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ao.update(this,this.width,this.height,e);let i=this.chartArea,n=i.width<=0||i.height<=0;this._layers=[],xn(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,p)=>{a._idx=p}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let i=0,n=this.data.datasets.length;i<n;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,n=this.data.datasets.length;i<n;++i)this._updateDataset(i,cl(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){let n=this.getDatasetMeta(e),a={meta:n,index:e,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(i),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(hl.has(this)?this.attached&&!hl.running(this)&&hl.start(this):(this.draw(),_5({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:n,height:a}=this._resizeBeforeDraw;this._resize(n,a),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let i=this._sortedMetasets,n=[],a,p;for(a=0,p=i.length;a<p;++a){let y=i[a];(!e||y.visible)&&n.push(y)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let i=this.ctx,n=e._clip,a=!n.disabled,p=O7(e,this.chartArea),y={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",y)!==!1&&(a&&pm(i,{left:n.left===!1?0:p.left-n.left,right:n.right===!1?this.width:p.right+n.right,top:n.top===!1?0:p.top-n.top,bottom:n.bottom===!1?this.height:p.bottom+n.bottom}),e.controller.draw(),a&&hm(i),y.cancelable=!1,this.notifyPlugins("afterDatasetDraw",y))}isPointInArea(e){return Es(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,n,a){let p=VE.modes[i];return typeof p=="function"?p(this,e,n,a):[]}getDatasetMeta(e){let i=this.data.datasets[e],n=this._metasets,a=n.filter(p=>p&&p._dataset===i).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=pl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let i=this.data.datasets[e];if(!i)return!1;let n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!i.hidden}setDatasetVisibility(e,i){let n=this.getDatasetMeta(e);n.hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,n){let a=n?"show":"hide",p=this.getDatasetMeta(e),y=p.controller._resolveAnimations(void 0,a);yp(i)?(p.data[i].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),y.update(p,{visible:n}),this.update(C=>C.datasetIndex===e?a:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){let i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),hl.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),_b(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete vg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,i=this.platform,n=(p,y)=>{i.addEventListener(this,p,y),e[p]=y},a=(p,y,C)=>{p.offsetX=y,p.offsetY=C,this._eventHandler(p)};xn(this.options.events,p=>n(p,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,i=this.platform,n=(A,R)=>{i.addEventListener(this,A,R),e[A]=R},a=(A,R)=>{e[A]&&(i.removeEventListener(this,A,R),delete e[A])},p=(A,R)=>{this.canvas&&this.resize(A,R)},y,C=()=>{a("attach",C),this.attached=!0,this.resize(),n("resize",p),n("detach",y)};y=()=>{this.attached=!1,a("resize",p),this._stop(),this._resize(0,0),n("attach",C)},i.isAttached(this.canvas)?C():y()}unbindEvents(){xn(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},xn(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,n){let a=n?"set":"remove",p,y,C,A;for(i==="dataset"&&(p=this.getDatasetMeta(e[0].datasetIndex),p.controller["_"+a+"DatasetHoverStyle"]()),C=0,A=e.length;C<A;++C){y=e[C];let R=y&&this.getDatasetMeta(y.datasetIndex).controller;R&&R[a+"HoverStyle"](y.element,y.datasetIndex,y.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let i=this._active||[],n=e.map(({datasetIndex:p,index:y})=>{let C=this.getDatasetMeta(p);if(!C)throw new Error("No dataset found at index "+p);return{datasetIndex:p,element:C.data[y],index:y}});!um(n,i)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,i))}notifyPlugins(e,i,n){return this._plugins.notify(this,e,i,n)}isPluginEnabled(e){return this._plugins._cache.filter(i=>i.plugin.id===e).length===1}_updateHoverStyles(e,i,n){let a=this.options.hover,p=(A,R)=>A.filter($=>!R.some(Y=>$.datasetIndex===Y.datasetIndex&&$.index===Y.index)),y=p(i,e),C=n?e:p(e,i);y.length&&this.updateHoverStyle(y,a.mode,!1),C.length&&a.mode&&this.updateHoverStyle(C,a.mode,!0)}_eventHandler(e,i){let n={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},a=y=>(y.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;let p=this._handleEvent(e,i,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(p||n.changed)&&this.render(),this}_handleEvent(e,i,n){let{_active:a=[],options:p}=this,y=i,C=this._getActiveElements(e,a,n,y),A=y3(e),R=F7(e,this._lastEvent,n,A);n&&(this._lastEvent=null,Fn(p.onHover,[e,C,this],this),A&&Fn(p.onClick,[e,C,this],this));let $=!um(C,a);return($||i)&&(this._active=C,this._updateHoverStyles(C,a,i)),this._lastEvent=R,$}_getActiveElements(e,i,n,a){if(e.type==="mouseout")return[];if(!n)return i;let p=this.options.hover;return this.getElementsAtEventForMode(e,p.mode,p,a)}}return t})();function y5(){return xn(Mg.instances,t=>t._plugins.invalidate())}function V7(t,s,e){let{startAngle:i,pixelMargin:n,x:a,y:p,outerRadius:y,innerRadius:C}=s,A=n/y;t.beginPath(),t.arc(a,p,y,i-A,e+A),C>n?(A=n/C,t.arc(a,p,C,e+A,i-A,!0)):t.arc(a,p,n,e+va,i-va),t.closePath(),t.clip()}function z7(t){return sg(t,["outerStart","outerEnd","innerStart","innerEnd"])}function B7(t,s,e,i){let n=z7(t.options.borderRadius),a=(e-s)/2,p=Math.min(a,i*s/2),y=C=>{let A=(e-Math.min(a,C))*i/2;return $a(C,0,Math.min(a,A))};return{outerStart:y(n.outerStart),outerEnd:y(n.outerEnd),innerStart:$a(n.innerStart,0,p),innerEnd:$a(n.innerEnd,0,p)}}function Cp(t,s,e,i){return{x:e+t*Math.cos(s),y:i+t*Math.sin(s)}}function Tg(t,s,e,i,n,a){let{x:p,y,startAngle:C,pixelMargin:A,innerRadius:R}=s,$=Math.max(s.outerRadius+i+e-A,0),Y=R>0?R+i+e+A:0,re=0,te=n-C;if(i){let Si=R>0?R-i:0,Yi=$>0?$-i:0,di=(Si+Yi)/2,Ea=di!==0?te*di/(di+i):te;re=(te-Ea)/2}let Me=Math.max(.001,te*$-e/Nn)/$,ke=(te-Me)/2,je=C+ke+re,Ye=n-ke-re,{outerStart:_t,outerEnd:wt,innerStart:st,innerEnd:yt}=B7(s,Y,$,Ye-je),Rt=$-_t,Mt=$-wt,Xt=je+_t/Rt,mi=Ye-wt/Mt,hi=Y+st,Ci=Y+yt,kn=je+st/hi,ka=Ye-yt/Ci;if(t.beginPath(),a){let Si=(Xt+mi)/2;if(t.arc(p,y,$,Xt,Si),t.arc(p,y,$,Si,mi),wt>0){let Tn=Cp(Mt,mi,p,y);t.arc(Tn.x,Tn.y,wt,mi,Ye+va)}let Yi=Cp(Ci,Ye,p,y);if(t.lineTo(Yi.x,Yi.y),yt>0){let Tn=Cp(Ci,ka,p,y);t.arc(Tn.x,Tn.y,yt,Ye+va,ka+Math.PI)}let di=(Ye-yt/Y+(je+st/Y))/2;if(t.arc(p,y,Y,Ye-yt/Y,di,!0),t.arc(p,y,Y,di,je+st/Y,!0),st>0){let Tn=Cp(hi,kn,p,y);t.arc(Tn.x,Tn.y,st,kn+Math.PI,je-va)}let Ea=Cp(Rt,je,p,y);if(t.lineTo(Ea.x,Ea.y),_t>0){let Tn=Cp(Rt,Xt,p,y);t.arc(Tn.x,Tn.y,_t,je-va,Xt)}}else{t.moveTo(p,y);let Si=Math.cos(Xt)*$+p,Yi=Math.sin(Xt)*$+y;t.lineTo(Si,Yi);let di=Math.cos(mi)*$+p,Ea=Math.sin(mi)*$+y;t.lineTo(di,Ea)}t.closePath()}function R7(t,s,e,i,n){let{fullCircles:a,startAngle:p,circumference:y}=s,C=s.endAngle;if(a){Tg(t,s,e,i,C,n);for(let A=0;A<a;++A)t.fill();isNaN(y)||(C=p+(y%qn||qn))}return Tg(t,s,e,i,C,n),t.fill(),C}function N7(t,s,e,i,n){let{fullCircles:a,startAngle:p,circumference:y,options:C}=s,{borderWidth:A,borderJoinStyle:R,borderDash:$,borderDashOffset:Y}=C,re=C.borderAlign==="inner";if(!A)return;t.setLineDash($||[]),t.lineDashOffset=Y,re?(t.lineWidth=A*2,t.lineJoin=R||"round"):(t.lineWidth=A,t.lineJoin=R||"bevel");let te=s.endAngle;if(a){Tg(t,s,e,i,te,n);for(let Me=0;Me<a;++Me)t.stroke();isNaN(y)||(te=p+(y%qn||qn))}re&&V7(t,s,te),a||(Tg(t,s,e,i,te,n),t.stroke())}var Qb=class extends is{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:s=>s!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(s){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,e,i){let n=this.getProps(["x","y"],i),{angle:a,distance:p}=lb(n,{x:s,y:e}),{startAngle:y,endAngle:C,innerRadius:A,outerRadius:R,circumference:$}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),Y=(this.options.spacing+this.options.borderWidth)/2,te=Di($,C-y)>=qn||xp(a,y,C),Me=Ds(p,A+Y,R+Y);return te&&Me}getCenterPoint(s){let{x:e,y:i,startAngle:n,endAngle:a,innerRadius:p,outerRadius:y}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:C,spacing:A}=this.options,R=(n+a)/2,$=(p+y+A+C)/2;return{x:e+Math.cos(R)*$,y:i+Math.sin(R)*$}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){let{options:e,circumference:i}=this,n=(e.offset||0)/4,a=(e.spacing||0)/2,p=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>qn?Math.floor(i/qn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;s.save();let y=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(y)*n,Math.sin(y)*n);let C=1-Math.sin(Math.min(Nn,i||0)),A=n*C;s.fillStyle=e.backgroundColor,s.strokeStyle=e.borderColor,R7(s,this,A,a,p),N7(s,this,A,a,p),s.restore()}};function nI(t,s,e=s){t.lineCap=Di(e.borderCapStyle,s.borderCapStyle),t.setLineDash(Di(e.borderDash,s.borderDash)),t.lineDashOffset=Di(e.borderDashOffset,s.borderDashOffset),t.lineJoin=Di(e.borderJoinStyle,s.borderJoinStyle),t.lineWidth=Di(e.borderWidth,s.borderWidth),t.strokeStyle=Di(e.borderColor,s.borderColor)}function q7(t,s,e){t.lineTo(e.x,e.y)}function j7(t){return t.stepped?D3:t.tension||t.cubicInterpolationMode==="monotone"?L3:q7}function aI(t,s,e={}){let i=t.length,{start:n=0,end:a=i-1}=e,{start:p,end:y}=s,C=Math.max(n,p),A=Math.min(a,y),R=n<p&&a<p||n>y&&a>y;return{count:i,start:C,loop:s.loop,ilen:A<C&&!R?i+A-C:A-C}}function H7(t,s,e,i){let{points:n,options:a}=s,{count:p,start:y,loop:C,ilen:A}=aI(n,e,i),R=j7(a),{move:$=!0,reverse:Y}=i||{},re,te,Me;for(re=0;re<=A;++re)te=n[(y+(Y?A-re:re))%p],!te.skip&&($?(t.moveTo(te.x,te.y),$=!1):R(t,Me,te,Y,a.stepped),Me=te);return C&&(te=n[(y+(Y?A:0))%p],R(t,Me,te,Y,a.stepped)),!!C}function G7(t,s,e,i){let n=s.points,{count:a,start:p,ilen:y}=aI(n,e,i),{move:C=!0,reverse:A}=i||{},R=0,$=0,Y,re,te,Me,ke,je,Ye=wt=>(p+(A?y-wt:wt))%a,_t=()=>{Me!==ke&&(t.lineTo(R,ke),t.lineTo(R,Me),t.lineTo(R,je))};for(C&&(re=n[Ye(0)],t.moveTo(re.x,re.y)),Y=0;Y<=y;++Y){if(re=n[Ye(Y)],re.skip)continue;let wt=re.x,st=re.y,yt=wt|0;yt===te?(st<Me?Me=st:st>ke&&(ke=st),R=($*R+wt)/++$):(_t(),t.lineTo(wt,st),te=yt,$=0,Me=ke=st),je=st}_t()}function Zb(t){let s=t.options,e=s.borderDash&&s.borderDash.length;return!t._decimated&&!t._loop&&!s.tension&&s.cubicInterpolationMode!=="monotone"&&!s.stepped&&!e?G7:H7}function U7(t){return t.stepped?q3:t.tension||t.cubicInterpolationMode==="monotone"?j3:mc}function $7(t,s,e,i){let n=s._path;n||(n=s._path=new Path2D,s.path(n,e,i)&&n.closePath()),nI(t,s.options),t.stroke(n)}function K7(t,s,e,i){let{segments:n,options:a}=s,p=Zb(s);for(let y of n)nI(t,a,y.style),t.beginPath(),p(t,s,y,{start:e,end:e+i-1})&&t.closePath(),t.stroke()}var W7=typeof Path2D=="function";function Q7(t,s,e,i){W7&&!s.options.segment?$7(t,s,e,i):K7(t,s,e,i)}var kg=(()=>{class t extends is{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){let n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){let a=n.spanGaps?this._loop:this._fullLoop;B3(this._points,n,e,a,i),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=G3(this,this.options.segment))}first(){let e=this.segments,i=this.points;return e.length&&i[e[0].start]}last(){let e=this.segments,i=this.points,n=e.length;return n&&i[e[n-1].end]}interpolate(e,i){let n=this.options,a=e[i],p=this.points,y=Eb(this,{property:i,start:a,end:a});if(!y.length)return;let C=[],A=U7(n),R,$;for(R=0,$=y.length;R<$;++R){let{start:Y,end:re}=y[R],te=p[Y],Me=p[re];if(te===Me){C.push(te);continue}let ke=Math.abs((a-te[i])/(Me[i]-te[i])),je=A(te,Me,ke,n.stepped);je[i]=e[i],C.push(je)}return C.length===1?C[0]:C}pathSegment(e,i,n){return Zb(this)(e,this,i,n)}path(e,i,n){let a=this.segments,p=Zb(this),y=this._loop;i=i||0,n=n||this.points.length-i;for(let C of a)y&=p(e,this,C,{start:i,end:i+n-1});return!!y}draw(e,i,n,a){let p=this.options||{};(this.points||[]).length&&p.borderWidth&&(e.save(),Q7(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t})();function v5(t,s,e,i){let n=t.options,{[e]:a}=t.getProps([e],i);return Math.abs(s-a)<n.radius+n.hitRadius}var Z7=(()=>{class t extends is{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,n){let a=this.options,{x:p,y}=this.getProps(["x","y"],n);return Math.pow(e-p,2)+Math.pow(i-y,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,i){return v5(this,e,"x",i)}inYRange(e,i){return v5(this,e,"y",i)}getCenterPoint(e){let{x:i,y:n}=this.getProps(["x","y"],e);return{x:i,y:n}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);let n=i&&e.borderWidth||0;return(i+n)*2}draw(e,i){let n=this.options;this.skip||n.radius<.1||!Es(this,i,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,rg(e,n,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return t})();function oI(t,s){let{x:e,y:i,base:n,width:a,height:p}=t.getProps(["x","y","base","width","height"],s),y,C,A,R,$;return t.horizontal?($=p/2,y=Math.min(e,n),C=Math.max(e,n),A=i-$,R=i+$):($=a/2,y=e-$,C=e+$,A=Math.min(i,n),R=Math.max(i,n)),{left:y,top:A,right:C,bottom:R}}function vc(t,s,e,i){return t?0:$a(s,e,i)}function X7(t,s,e){let i=t.options.borderWidth,n=t.borderSkipped,a=yb(i);return{t:vc(n.top,a.top,0,e),r:vc(n.right,a.right,0,s),b:vc(n.bottom,a.bottom,0,e),l:vc(n.left,a.left,0,s)}}function Y7(t,s,e){let{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),n=t.options.borderRadius,a=bc(n),p=Math.min(s,e),y=t.borderSkipped,C=i||Hi(n);return{topLeft:vc(!C||y.top||y.left,a.topLeft,0,p),topRight:vc(!C||y.top||y.right,a.topRight,0,p),bottomLeft:vc(!C||y.bottom||y.left,a.bottomLeft,0,p),bottomRight:vc(!C||y.bottom||y.right,a.bottomRight,0,p)}}function J7(t){let s=oI(t),e=s.right-s.left,i=s.bottom-s.top,n=X7(t,e/2,i/2),a=Y7(t,e/2,i/2);return{outer:{x:s.left,y:s.top,w:e,h:i,radius:a},inner:{x:s.left+n.l,y:s.top+n.t,w:e-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,a.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(n.b,n.r))}}}}function Vb(t,s,e,i){let n=s===null,a=e===null,y=t&&!(n&&a)&&oI(t,i);return y&&(n||Ds(s,y.left,y.right))&&(a||Ds(e,y.top,y.bottom))}function e8(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function t8(t,s){t.rect(s.x,s.y,s.w,s.h)}function zb(t,s,e={}){let i=t.x!==e.x?-s:0,n=t.y!==e.y?-s:0,a=(t.x+t.w!==e.x+e.w?s:0)-i,p=(t.y+t.h!==e.y+e.h?s:0)-n;return{x:t.x+i,y:t.y+n,w:t.w+a,h:t.h+p,radius:t.radius}}var Xb=class extends is{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(s){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,s&&Object.assign(this,s)}draw(s){let{inflateAmount:e,options:{borderColor:i,backgroundColor:n}}=this,{inner:a,outer:p}=J7(this),y=e8(p.radius)?Ip:t8;s.save(),(p.w!==a.w||p.h!==a.h)&&(s.beginPath(),y(s,zb(p,e,a)),s.clip(),y(s,zb(a,-e,p)),s.fillStyle=i,s.fill("evenodd")),s.beginPath(),y(s,zb(a,e)),s.fillStyle=n,s.fill(),s.restore()}inRange(s,e,i){return Vb(this,s,e,i)}inXRange(s,e){return Vb(this,s,null,e)}inYRange(s,e){return Vb(this,null,s,e)}getCenterPoint(s){let{x:e,y:i,base:n,horizontal:a}=this.getProps(["x","y","base","horizontal"],s);return{x:a?(e+n)/2:e,y:a?i:(i+n)/2}}getRange(s){return s==="x"?this.width/2:this.height/2}},i8=Object.freeze({__proto__:null,ArcElement:Qb,BarElement:Xb,LineElement:kg,PointElement:Z7}),Yb=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],x5=Yb.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function rI(t){return Yb[t%Yb.length]}function sI(t){return x5[t%x5.length]}function n8(t,s){return t.borderColor=rI(s),t.backgroundColor=sI(s),++s}function a8(t,s){return t.backgroundColor=t.data.map(()=>rI(s++)),s}function o8(t,s){return t.backgroundColor=t.data.map(()=>sI(s++)),s}function r8(t){let s=0;return(e,i)=>{let n=t.getDatasetMeta(i).controller;n instanceof ry?s=a8(e,s):n instanceof W5?s=o8(e,s):n&&(s=n8(e,s))}}function w5(t){let s;for(s in t)if(t[s].borderColor||t[s].backgroundColor)return!0;return!1}function s8(t){return t&&(t.borderColor||t.backgroundColor)}var l8={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,s,e){if(!e.enabled)return;let{data:{datasets:i},options:n}=t.config,{elements:a}=n;if(!e.forceOverride&&(w5(i)||s8(n)||a&&w5(a)))return;let p=r8(t);i.forEach(p)}};function c8(t,s,e,i,n){let a=n.samples||i;if(a>=e)return t.slice(s,s+e);let p=[],y=(e-2)/(a-2),C=0,A=s+e-1,R=s,$,Y,re,te,Me;for(p[C++]=t[R],$=0;$<a-2;$++){let ke=0,je=0,Ye,_t=Math.floor(($+1)*y)+1+s,wt=Math.min(Math.floor(($+2)*y)+1,e)+s,st=wt-_t;for(Ye=_t;Ye<wt;Ye++)ke+=t[Ye].x,je+=t[Ye].y;ke/=st,je/=st;let yt=Math.floor($*y)+1+s,Rt=Math.min(Math.floor(($+1)*y)+1,e)+s,{x:Mt,y:Xt}=t[R];for(re=te=-1,Ye=yt;Ye<Rt;Ye++)te=.5*Math.abs((Mt-ke)*(t[Ye].y-Xt)-(Mt-t[Ye].x)*(je-Xt)),te>re&&(re=te,Y=t[Ye],Me=Ye);p[C++]=Y,R=Me}return p[C++]=t[A],p}function u8(t,s,e,i){let n=0,a=0,p,y,C,A,R,$,Y,re,te,Me,ke=[],je=s+e-1,Ye=t[s].x,wt=t[je].x-Ye;for(p=s;p<s+e;++p){y=t[p],C=(y.x-Ye)/wt*i,A=y.y;let st=C|0;if(st===R)A<te?(te=A,$=p):A>Me&&(Me=A,Y=p),n=(a*n+y.x)/++a;else{let yt=p-1;if(!en($)&&!en(Y)){let Rt=Math.min($,Y),Mt=Math.max($,Y);Rt!==re&&Rt!==yt&&ke.push(Ta(ai({},t[Rt]),{x:n})),Mt!==re&&Mt!==yt&&ke.push(Ta(ai({},t[Mt]),{x:n}))}p>0&&yt!==re&&ke.push(t[yt]),ke.push(y),R=st,a=0,te=Me=A,$=Y=re=p}}return ke}function lI(t){if(t._decimated){let s=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:s})}}function I5(t){t.data.datasets.forEach(s=>{lI(s)})}function d8(t,s){let e=s.length,i=0,n,{iScale:a}=t,{min:p,max:y,minDefined:C,maxDefined:A}=a.getUserBounds();return C&&(i=$a(ks(s,a.axis,p).lo,0,e-1)),A?n=$a(ks(s,a.axis,y).hi+1,i,e)-i:n=e-i,{start:i,count:n}}var p8={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,s,e)=>{if(!e.enabled){I5(t);return}let i=t.width;t.data.datasets.forEach((n,a)=>{let{_data:p,indexAxis:y}=n,C=t.getDatasetMeta(a),A=p||n.data;if(Tp([y,t.options.indexAxis])==="y"||!C.controller.supportsDecimation)return;let R=t.scales[C.xAxisID];if(R.type!=="linear"&&R.type!=="time"||t.options.parsing)return;let{start:$,count:Y}=d8(C,A),re=e.threshold||4*i;if(Y<=re){lI(n);return}en(p)&&(n._data=A,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Me){this._data=Me}}));let te;switch(e.algorithm){case"lttb":te=c8(A,$,Y,i,e);break;case"min-max":te=u8(A,$,Y,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}n._decimated=te})},destroy(t){I5(t)}};function h8(t,s,e){let i=t.segments,n=t.points,a=s.points,p=[];for(let y of i){let{start:C,end:A}=y;A=sy(C,A,n);let R=Jb(e,n[C],n[A],y.loop);if(!s.segments){p.push({source:y,target:R,start:n[C],end:n[A]});continue}let $=Eb(s,R);for(let Y of $){let re=Jb(e,a[Y.start],a[Y.end],Y.loop),te=kb(y,n,re);for(let Me of te)p.push({source:Me,target:Y,start:{[e]:T5(R,re,"start",Math.max)},end:{[e]:T5(R,re,"end",Math.min)}})}}return p}function Jb(t,s,e,i){if(i)return;let n=s[t],a=e[t];return t==="angle"&&(n=ar(n),a=ar(a)),{property:t,start:n,end:a}}function m8(t,s){let{x:e=null,y:i=null}=t||{},n=s.points,a=[];return s.segments.forEach(({start:p,end:y})=>{y=sy(p,y,n);let C=n[p],A=n[y];i!==null?(a.push({x:C.x,y:i}),a.push({x:A.x,y:i})):e!==null&&(a.push({x:e,y:C.y}),a.push({x:e,y:A.y}))}),a}function sy(t,s,e){for(;s>t;s--){let i=e[s];if(!isNaN(i.x)&&!isNaN(i.y))break}return s}function T5(t,s,e,i){return t&&s?i(t[e],s[e]):t?t[e]:s?s[e]:0}function cI(t,s){let e=[],i=!1;return Rn(t)?(i=!0,e=t):e=m8(t,s),e.length?new kg({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function C5(t){return t&&t.fill!==!1}function f8(t,s,e){let n=t[s].fill,a=[s],p;if(!e)return n;for(;n!==!1&&a.indexOf(n)===-1;){if(!pa(n))return n;if(p=t[n],!p)return!1;if(p.visible)return n;a.push(n),n=p.fill}return!1}function g8(t,s,e){let i=v8(t);if(Hi(i))return isNaN(i.value)?!1:i;let n=parseFloat(i);return pa(n)&&Math.floor(n)===n?_8(i[0],s,n,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function _8(t,s,e,i){return(t==="-"||t==="+")&&(e=s+e),e===s||e<0||e>=i?!1:e}function b8(t,s){let e=null;return t==="start"?e=s.bottom:t==="end"?e=s.top:Hi(t)?e=s.getPixelForValue(t.value):s.getBasePixel&&(e=s.getBasePixel()),e}function y8(t,s,e){let i;return t==="start"?i=e:t==="end"?i=s.options.reverse?s.min:s.max:Hi(t)?i=t.value:i=s.getBaseValue(),i}function v8(t){let s=t.options,e=s.fill,i=Di(e&&e.target,e);return i===void 0&&(i=!!s.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function x8(t){let{scale:s,index:e,line:i}=t,n=[],a=i.segments,p=i.points,y=w8(s,e);y.push(cI({x:null,y:s.bottom},i));for(let C=0;C<a.length;C++){let A=a[C];for(let R=A.start;R<=A.end;R++)I8(n,p[R],y)}return new kg({points:n,options:{}})}function w8(t,s){let e=[],i=t.getMatchingVisibleMetas("line");for(let n=0;n<i.length;n++){let a=i[n];if(a.index===s)break;a.hidden||e.unshift(a.dataset)}return e}function I8(t,s,e){let i=[];for(let n=0;n<e.length;n++){let a=e[n],{first:p,last:y,point:C}=T8(a,s,"x");if(!(!C||p&&y)){if(p)i.unshift(C);else if(t.push(C),!y)break}}t.push(...i)}function T8(t,s,e){let i=t.interpolate(s,e);if(!i)return{};let n=i[e],a=t.segments,p=t.points,y=!1,C=!1;for(let A=0;A<a.length;A++){let R=a[A],$=p[R.start][e],Y=p[R.end][e];if(Ds(n,$,Y)){y=n===$,C=n===Y;break}}return{first:y,last:C,point:i}}var Cg=class{constructor(s){this.x=s.x,this.y=s.y,this.radius=s.radius}pathSegment(s,e,i){let{x:n,y:a,radius:p}=this;return e=e||{start:0,end:qn},s.arc(n,a,p,e.end,e.start,!0),!i.bounds}interpolate(s){let{x:e,y:i,radius:n}=this,a=s.angle;return{x:e+Math.cos(a)*n,y:i+Math.sin(a)*n,angle:a}}};function C8(t){let{chart:s,fill:e,line:i}=t;if(pa(e))return S8(s,e);if(e==="stack")return x8(t);if(e==="shape")return!0;let n=M8(t);return n instanceof Cg?n:cI(n,i)}function S8(t,s){let e=t.getDatasetMeta(s);return e&&t.isDatasetVisible(s)?e.dataset:null}function M8(t){return(t.scale||{}).getPointPositionForValue?E8(t):k8(t)}function k8(t){let{scale:s={},fill:e}=t,i=b8(e,s);if(pa(i)){let n=s.isHorizontal();return{x:n?i:null,y:n?null:i}}return null}function E8(t){let{scale:s,fill:e}=t,i=s.options,n=s.getLabels().length,a=i.reverse?s.max:s.min,p=y8(e,s,a),y=[];if(i.grid.circular){let C=s.getPointPositionForValue(0,a);return new Cg({x:C.x,y:C.y,radius:s.getDistanceFromCenterForValue(p)})}for(let C=0;C<n;++C)y.push(s.getPointPositionForValue(C,p));return y}function Bb(t,s,e){let i=C8(s),{line:n,scale:a,axis:p}=s,y=n.options,C=y.fill,A=y.backgroundColor,{above:R=A,below:$=A}=C||{};i&&n.points.length&&(pm(t,e),P8(t,{line:n,target:i,above:R,below:$,area:e,scale:a,axis:p}),hm(t))}function P8(t,s){let{line:e,target:i,above:n,below:a,area:p,scale:y}=s,C=e._loop?"angle":s.axis;t.save(),C==="x"&&a!==n&&(S5(t,i,p.top),M5(t,{line:e,target:i,color:n,scale:y,property:C}),t.restore(),t.save(),S5(t,i,p.bottom)),M5(t,{line:e,target:i,color:a,scale:y,property:C}),t.restore()}function S5(t,s,e){let{segments:i,points:n}=s,a=!0,p=!1;t.beginPath();for(let y of i){let{start:C,end:A}=y,R=n[C],$=n[sy(C,A,n)];a?(t.moveTo(R.x,R.y),a=!1):(t.lineTo(R.x,e),t.lineTo(R.x,R.y)),p=!!s.pathSegment(t,y,{move:p}),p?t.closePath():t.lineTo($.x,e)}t.lineTo(s.first().x,e),t.closePath(),t.clip()}function M5(t,s){let{line:e,target:i,property:n,color:a,scale:p}=s,y=h8(e,i,n);for(let{source:C,target:A,start:R,end:$}of y){let{style:{backgroundColor:Y=a}={}}=C,re=i!==!0;t.save(),t.fillStyle=Y,D8(t,p,re&&Jb(n,R,$)),t.beginPath();let te=!!e.pathSegment(t,C),Me;if(re){te?t.closePath():k5(t,i,$,n);let ke=!!i.pathSegment(t,A,{move:te,reverse:!0});Me=te&&ke,Me||k5(t,i,R,n)}t.closePath(),t.fill(Me?"evenodd":"nonzero"),t.restore()}}function D8(t,s,e){let{top:i,bottom:n}=s.chart.chartArea,{property:a,start:p,end:y}=e||{};a==="x"&&(t.beginPath(),t.rect(p,i,y-p,n-i),t.clip())}function k5(t,s,e,i){let n=s.interpolate(e,i);n&&t.lineTo(n.x,n.y)}var L8={id:"filler",afterDatasetsUpdate(t,s,e){let i=(t.data.datasets||[]).length,n=[],a,p,y,C;for(p=0;p<i;++p)a=t.getDatasetMeta(p),y=a.dataset,C=null,y&&y.options&&y instanceof kg&&(C={visible:t.isDatasetVisible(p),index:p,fill:g8(y,p,i),chart:t,axis:a.controller.options.indexAxis,scale:a.vScale,line:y}),a.$filler=C,n.push(C);for(p=0;p<i;++p)C=n[p],!(!C||C.fill===!1)&&(C.fill=f8(n,p,e.propagate))},beforeDraw(t,s,e){let i=e.drawTime==="beforeDraw",n=t.getSortedVisibleDatasetMetas(),a=t.chartArea;for(let p=n.length-1;p>=0;--p){let y=n[p].$filler;y&&(y.line.updateControlPoints(a,y.axis),i&&y.fill&&Bb(t.ctx,y,a))}},beforeDatasetsDraw(t,s,e){if(e.drawTime!=="beforeDatasetsDraw")return;let i=t.getSortedVisibleDatasetMetas();for(let n=i.length-1;n>=0;--n){let a=i[n].$filler;C5(a)&&Bb(t.ctx,a,t.chartArea)}},beforeDatasetDraw(t,s,e){let i=s.meta.$filler;!C5(i)||e.drawTime!=="beforeDatasetDraw"||Bb(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},E5=(t,s)=>{let{boxHeight:e=s,boxWidth:i=s}=t;return t.usePointStyle&&(e=Math.min(e,s),i=t.pointStyleWidth||Math.min(i,s)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(s,e)}},A8=(t,s)=>t!==null&&s!==null&&t.datasetIndex===s.datasetIndex&&t.index===s.index,Sg=class extends is{constructor(s){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,e,i){this.maxWidth=s,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let s=this.options.labels||{},e=Fn(s.generateLabels,[this.chart],this)||[];s.filter&&(e=e.filter(i=>s.filter(i,this.chart.data))),s.sort&&(e=e.sort((i,n)=>s.sort(i,n,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:s,ctx:e}=this;if(!s.display){this.width=this.height=0;return}let i=s.labels,n=Ba(i.font),a=n.size,p=this._computeTitleHeight(),{boxWidth:y,itemHeight:C}=E5(i,a),A,R;e.font=n.string,this.isHorizontal()?(A=this.maxWidth,R=this._fitRows(p,a,y,C)+10):(R=this.maxHeight,A=this._fitCols(p,n,y,C)+10),this.width=Math.min(A,s.maxWidth||this.maxWidth),this.height=Math.min(R,s.maxHeight||this.maxHeight)}_fitRows(s,e,i,n){let{ctx:a,maxWidth:p,options:{labels:{padding:y}}}=this,C=this.legendHitBoxes=[],A=this.lineWidths=[0],R=n+y,$=s;a.textAlign="left",a.textBaseline="middle";let Y=-1,re=-R;return this.legendItems.forEach((te,Me)=>{let ke=i+e/2+a.measureText(te.text).width;(Me===0||A[A.length-1]+ke+2*y>p)&&($+=R,A[A.length-(Me>0?0:1)]=0,re+=R,Y++),C[Me]={left:0,top:re,row:Y,width:ke,height:n},A[A.length-1]+=ke+y}),$}_fitCols(s,e,i,n){let{ctx:a,maxHeight:p,options:{labels:{padding:y}}}=this,C=this.legendHitBoxes=[],A=this.columnSizes=[],R=p-s,$=y,Y=0,re=0,te=0,Me=0;return this.legendItems.forEach((ke,je)=>{let{itemWidth:Ye,itemHeight:_t}=F8(i,e,a,ke,n);je>0&&re+_t+2*y>R&&($+=Y+y,A.push({width:Y,height:re}),te+=Y+y,Me++,Y=re=0),C[je]={left:te,top:re,col:Me,width:Ye,height:_t},Y=Math.max(Y,Ye),re+=_t+y}),$+=Y,A.push({width:Y,height:re}),$}adjustHitBoxes(){if(!this.options.display)return;let s=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:n},rtl:a}}=this,p=Bu(a,this.left,this.width);if(this.isHorizontal()){let y=0,C=bo(i,this.left+n,this.right-this.lineWidths[y]);for(let A of e)y!==A.row&&(y=A.row,C=bo(i,this.left+n,this.right-this.lineWidths[y])),A.top+=this.top+s+n,A.left=p.leftForLtr(p.x(C),A.width),C+=A.width+n}else{let y=0,C=bo(i,this.top+s+n,this.bottom-this.columnSizes[y].height);for(let A of e)A.col!==y&&(y=A.col,C=bo(i,this.top+s+n,this.bottom-this.columnSizes[y].height)),A.top=C,A.left+=this.left+n,A.left=p.leftForLtr(p.x(A.left),A.width),C+=A.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let s=this.ctx;pm(s,this),this._draw(),hm(s)}}_draw(){let{options:s,columnSizes:e,lineWidths:i,ctx:n}=this,{align:a,labels:p}=s,y=ha.color,C=Bu(s.rtl,this.left,this.width),A=Ba(p.font),{padding:R}=p,$=A.size,Y=$/2,re;this.drawTitle(),n.textAlign=C.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=A.string;let{boxWidth:te,boxHeight:Me,itemHeight:ke}=E5(p,$),je=function(yt,Rt,Mt){if(isNaN(te)||te<=0||isNaN(Me)||Me<0)return;n.save();let Xt=Di(Mt.lineWidth,1);if(n.fillStyle=Di(Mt.fillStyle,y),n.lineCap=Di(Mt.lineCap,"butt"),n.lineDashOffset=Di(Mt.lineDashOffset,0),n.lineJoin=Di(Mt.lineJoin,"miter"),n.lineWidth=Xt,n.strokeStyle=Di(Mt.strokeStyle,y),n.setLineDash(Di(Mt.lineDash,[])),p.usePointStyle){let mi={radius:Me*Math.SQRT2/2,pointStyle:Mt.pointStyle,rotation:Mt.rotation,borderWidth:Xt},hi=C.xPlus(yt,te/2),Ci=Rt+Y;bb(n,mi,hi,Ci,p.pointStyleWidth&&te)}else{let mi=Rt+Math.max(($-Me)/2,0),hi=C.leftForLtr(yt,te),Ci=bc(Mt.borderRadius);n.beginPath(),Object.values(Ci).some(kn=>kn!==0)?Ip(n,{x:hi,y:mi,w:te,h:Me,radius:Ci}):n.rect(hi,mi,te,Me),n.fill(),Xt!==0&&n.stroke()}n.restore()},Ye=function(yt,Rt,Mt){_c(n,Mt.text,yt,Rt+ke/2,A,{strikethrough:Mt.hidden,textAlign:C.textAlign(Mt.textAlign)})},_t=this.isHorizontal(),wt=this._computeTitleHeight();_t?re={x:bo(a,this.left+R,this.right-i[0]),y:this.top+R+wt,line:0}:re={x:this.left+R,y:bo(a,this.top+wt+R,this.bottom-e[0].height),line:0},Sb(this.ctx,s.textDirection);let st=ke+R;this.legendItems.forEach((yt,Rt)=>{n.strokeStyle=yt.fontColor,n.fillStyle=yt.fontColor;let Mt=n.measureText(yt.text).width,Xt=C.textAlign(yt.textAlign||(yt.textAlign=p.textAlign)),mi=te+Y+Mt,hi=re.x,Ci=re.y;C.setWidth(this.width),_t?Rt>0&&hi+mi+R>this.right&&(Ci=re.y+=st,re.line++,hi=re.x=bo(a,this.left+R,this.right-i[re.line])):Rt>0&&Ci+st>this.bottom&&(hi=re.x=hi+e[re.line].width+R,re.line++,Ci=re.y=bo(a,this.top+wt+R,this.bottom-e[re.line].height));let kn=C.x(hi);if(je(kn,Ci,yt),hi=k3(Xt,hi+te+Y,_t?hi+mi:this.right,s.rtl),Ye(C.x(hi),Ci,yt),_t)re.x+=mi+R;else if(typeof yt.text!="string"){let ka=A.lineHeight;re.y+=uI(yt,ka)+R}else re.y+=st}),Mb(this.ctx,s.textDirection)}drawTitle(){let s=this.options,e=s.title,i=Ba(e.font),n=yo(e.padding);if(!e.display)return;let a=Bu(s.rtl,this.left,this.width),p=this.ctx,y=e.position,C=i.size/2,A=n.top+C,R,$=this.left,Y=this.width;if(this.isHorizontal())Y=Math.max(...this.lineWidths),R=this.top+A,$=bo(s.align,$,this.right-Y);else{let te=this.columnSizes.reduce((Me,ke)=>Math.max(Me,ke.height),0);R=A+bo(s.align,this.top,this.bottom-te-s.labels.padding-this._computeTitleHeight())}let re=bo(y,$,$+Y);p.textAlign=a.textAlign(ag(y)),p.textBaseline="middle",p.strokeStyle=e.color,p.fillStyle=e.color,p.font=i.string,_c(p,e.text,re,R,i)}_computeTitleHeight(){let s=this.options.title,e=Ba(s.font),i=yo(s.padding);return s.display?e.lineHeight+i.height:0}_getLegendItemAt(s,e){let i,n,a;if(Ds(s,this.left,this.right)&&Ds(e,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(n=a[i],Ds(s,n.left,n.left+n.width)&&Ds(e,n.top,n.top+n.height))return this.legendItems[i]}return null}handleEvent(s){let e=this.options;if(!z8(s.type,e))return;let i=this._getLegendItemAt(s.x,s.y);if(s.type==="mousemove"||s.type==="mouseout"){let n=this._hoveredItem,a=A8(n,i);n&&!a&&Fn(e.onLeave,[s,n,this],this),this._hoveredItem=i,i&&!a&&Fn(e.onHover,[s,i,this],this)}else i&&Fn(e.onClick,[s,i,this],this)}};function F8(t,s,e,i,n){let a=O8(i,t,s,e),p=V8(n,i,s.lineHeight);return{itemWidth:a,itemHeight:p}}function O8(t,s,e,i){let n=t.text;return n&&typeof n!="string"&&(n=n.reduce((a,p)=>a.length>p.length?a:p)),s+e.size/2+i.measureText(n).width}function V8(t,s,e){let i=t;return typeof s.text!="string"&&(i=uI(s,e)),i}function uI(t,s){let e=t.text?t.text.length:0;return s*e}function z8(t,s){return!!((t==="mousemove"||t==="mouseout")&&(s.onHover||s.onLeave)||s.onClick&&(t==="click"||t==="mouseup"))}var B8={id:"legend",_element:Sg,start(t,s,e){let i=t.legend=new Sg({ctx:t.ctx,options:e,chart:t});Ao.configure(t,i,e),Ao.addBox(t,i)},stop(t){Ao.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,s,e){let i=t.legend;Ao.configure(t,i,e),i.options=e},afterUpdate(t){let s=t.legend;s.buildLabels(),s.adjustHitBoxes()},afterEvent(t,s){s.replay||t.legend.handleEvent(s.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,s,e){let i=s.datasetIndex,n=e.chart;n.isDatasetVisible(i)?(n.hide(i),s.hidden=!0):(n.show(i),s.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let s=t.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:n,color:a,useBorderRadius:p,borderRadius:y}}=t.legend.options;return t._getSortedDatasetMetas().map(C=>{let A=C.controller.getStyle(e?0:void 0),R=yo(A.borderWidth);return{text:s[C.index].label,fillStyle:A.backgroundColor,fontColor:a,hidden:!C.visible,lineCap:A.borderCapStyle,lineDash:A.borderDash,lineDashOffset:A.borderDashOffset,lineJoin:A.borderJoinStyle,lineWidth:(R.width+R.height)/4,strokeStyle:A.borderColor,pointStyle:i||A.pointStyle,rotation:A.rotation,textAlign:n||A.textAlign,borderRadius:p&&(y||A.borderRadius),datasetIndex:C.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},wm=class extends is{constructor(s){super(),this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,e){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=s,this.height=this.bottom=e;let n=Rn(i.text)?i.text.length:1;this._padding=yo(i.padding);let a=n*Ba(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){let s=this.options.position;return s==="top"||s==="bottom"}_drawArgs(s){let{top:e,left:i,bottom:n,right:a,options:p}=this,y=p.align,C=0,A,R,$;return this.isHorizontal()?(R=bo(y,i,a),$=e+s,A=a-i):(p.position==="left"?(R=i+s,$=bo(y,n,e),C=Nn*-.5):(R=a-s,$=bo(y,e,n),C=Nn*.5),A=n-e),{titleX:R,titleY:$,maxWidth:A,rotation:C}}draw(){let s=this.ctx,e=this.options;if(!e.display)return;let i=Ba(e.font),a=i.lineHeight/2+this._padding.top,{titleX:p,titleY:y,maxWidth:C,rotation:A}=this._drawArgs(a);_c(s,e.text,0,0,i,{color:e.color,maxWidth:C,rotation:A,textAlign:ag(e.align),textBaseline:"middle",translation:[p,y]})}};function R8(t,s){let e=new wm({ctx:t.ctx,options:s,chart:t});Ao.configure(t,e,s),Ao.addBox(t,e),t.titleBlock=e}var N8={id:"title",_element:wm,start(t,s,e){R8(t,e)},stop(t){let s=t.titleBlock;Ao.removeBox(t,s),delete t.titleBlock},beforeUpdate(t,s,e){let i=t.titleBlock;Ao.configure(t,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},gg=new WeakMap,q8={id:"subtitle",start(t,s,e){let i=new wm({ctx:t.ctx,options:e,chart:t});Ao.configure(t,i,e),Ao.addBox(t,i),gg.set(t,i)},stop(t){Ao.removeBox(t,gg.get(t)),gg.delete(t)},beforeUpdate(t,s,e){let i=gg.get(t);Ao.configure(t,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},vm={average(t){if(!t.length)return!1;let s,e,i=new Set,n=0,a=0;for(s=0,e=t.length;s<e;++s){let y=t[s].element;if(y&&y.hasValue()){let C=y.tooltipPosition();i.add(C.x),n+=C.y,++a}}return{x:[...i].reduce((y,C)=>y+C)/i.size,y:n/a}},nearest(t,s){if(!t.length)return!1;let e=s.x,i=s.y,n=Number.POSITIVE_INFINITY,a,p,y;for(a=0,p=t.length;a<p;++a){let C=t[a].element;if(C&&C.hasValue()){let A=C.getCenterPoint(),R=Jf(s,A);R<n&&(n=R,y=C)}}if(y){let C=y.tooltipPosition();e=C.x,i=C.y}return{x:e,y:i}}};function Ls(t,s){return s&&(Rn(s)?Array.prototype.push.apply(t,s):t.push(s)),t}function ml(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function j8(t,s){let{element:e,datasetIndex:i,index:n}=s,a=t.getDatasetMeta(i).controller,{label:p,value:y}=a.getLabelAndValue(n);return{chart:t,label:p,parsed:a.getParsed(n),raw:t.data.datasets[i].data[n],formattedValue:y,dataset:a.getDataset(),dataIndex:n,datasetIndex:i,element:e}}function P5(t,s){let e=t.chart.ctx,{body:i,footer:n,title:a}=t,{boxWidth:p,boxHeight:y}=s,C=Ba(s.bodyFont),A=Ba(s.titleFont),R=Ba(s.footerFont),$=a.length,Y=n.length,re=i.length,te=yo(s.padding),Me=te.height,ke=0,je=i.reduce((wt,st)=>wt+st.before.length+st.lines.length+st.after.length,0);if(je+=t.beforeBody.length+t.afterBody.length,$&&(Me+=$*A.lineHeight+($-1)*s.titleSpacing+s.titleMarginBottom),je){let wt=s.displayColors?Math.max(y,C.lineHeight):C.lineHeight;Me+=re*wt+(je-re)*C.lineHeight+(je-1)*s.bodySpacing}Y&&(Me+=s.footerMarginTop+Y*R.lineHeight+(Y-1)*s.footerSpacing);let Ye=0,_t=function(wt){ke=Math.max(ke,e.measureText(wt).width+Ye)};return e.save(),e.font=A.string,xn(t.title,_t),e.font=C.string,xn(t.beforeBody.concat(t.afterBody),_t),Ye=s.displayColors?p+2+s.boxPadding:0,xn(i,wt=>{xn(wt.before,_t),xn(wt.lines,_t),xn(wt.after,_t)}),Ye=0,e.font=R.string,xn(t.footer,_t),e.restore(),ke+=te.width,{width:ke,height:Me}}function H8(t,s){let{y:e,height:i}=s;return e<i/2?"top":e>t.height-i/2?"bottom":"center"}function G8(t,s,e,i){let{x:n,width:a}=i,p=e.caretSize+e.caretPadding;if(t==="left"&&n+a+p>s.width||t==="right"&&n-a-p<0)return!0}function U8(t,s,e,i){let{x:n,width:a}=e,{width:p,chartArea:{left:y,right:C}}=t,A="center";return i==="center"?A=n<=(y+C)/2?"left":"right":n<=a/2?A="left":n>=p-a/2&&(A="right"),G8(A,t,s,e)&&(A="center"),A}function D5(t,s,e){let i=e.yAlign||s.yAlign||H8(t,e);return{xAlign:e.xAlign||s.xAlign||U8(t,s,e,i),yAlign:i}}function $8(t,s){let{x:e,width:i}=t;return s==="right"?e-=i:s==="center"&&(e-=i/2),e}function K8(t,s,e){let{y:i,height:n}=t;return s==="top"?i+=e:s==="bottom"?i-=n+e:i-=n/2,i}function L5(t,s,e,i){let{caretSize:n,caretPadding:a,cornerRadius:p}=t,{xAlign:y,yAlign:C}=e,A=n+a,{topLeft:R,topRight:$,bottomLeft:Y,bottomRight:re}=bc(p),te=$8(s,y),Me=K8(s,C,A);return C==="center"?y==="left"?te+=A:y==="right"&&(te-=A):y==="left"?te-=Math.max(R,Y)+n:y==="right"&&(te+=Math.max($,re)+n),{x:$a(te,0,i.width-s.width),y:$a(Me,0,i.height-s.height)}}function _g(t,s,e){let i=yo(e.padding);return s==="center"?t.x+t.width/2:s==="right"?t.x+t.width-i.right:t.x+i.left}function A5(t){return Ls([],ml(t))}function W8(t,s,e){return pl(t,{tooltip:s,tooltipItems:e,type:"tooltip"})}function F5(t,s){let e=s&&s.dataset&&s.dataset.tooltip&&s.dataset.tooltip.callbacks;return e?t.override(e):t}var dI={beforeTitle:Ps,title(t){if(t.length>0){let s=t[0],e=s.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return s.dataset.label||"";if(s.label)return s.label;if(i>0&&s.dataIndex<i)return e[s.dataIndex]}return""},afterTitle:Ps,beforeBody:Ps,beforeLabel:Ps,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let s=t.dataset.label||"";s&&(s+=": ");let e=t.formattedValue;return en(e)||(s+=e),s},labelColor(t){let e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ps,afterBody:Ps,beforeFooter:Ps,footer:Ps,afterFooter:Ps};function rr(t,s,e,i){let n=t[s].call(e,i);return typeof n>"u"?dI[s].call(e,i):n}var O5=(()=>{class t extends is{static positioners=vm;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let i=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&i.options.animation&&n.animations,p=new xg(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(p)),p}getContext(){return this.$context||(this.$context=W8(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){let{callbacks:n}=i,a=rr(n,"beforeTitle",this,e),p=rr(n,"title",this,e),y=rr(n,"afterTitle",this,e),C=[];return C=Ls(C,ml(a)),C=Ls(C,ml(p)),C=Ls(C,ml(y)),C}getBeforeBody(e,i){return A5(rr(i.callbacks,"beforeBody",this,e))}getBody(e,i){let{callbacks:n}=i,a=[];return xn(e,p=>{let y={before:[],lines:[],after:[]},C=F5(n,p);Ls(y.before,ml(rr(C,"beforeLabel",this,p))),Ls(y.lines,rr(C,"label",this,p)),Ls(y.after,ml(rr(C,"afterLabel",this,p))),a.push(y)}),a}getAfterBody(e,i){return A5(rr(i.callbacks,"afterBody",this,e))}getFooter(e,i){let{callbacks:n}=i,a=rr(n,"beforeFooter",this,e),p=rr(n,"footer",this,e),y=rr(n,"afterFooter",this,e),C=[];return C=Ls(C,ml(a)),C=Ls(C,ml(p)),C=Ls(C,ml(y)),C}_createItems(e){let i=this._active,n=this.chart.data,a=[],p=[],y=[],C=[],A,R;for(A=0,R=i.length;A<R;++A)C.push(j8(this.chart,i[A]));return e.filter&&(C=C.filter(($,Y,re)=>e.filter($,Y,re,n))),e.itemSort&&(C=C.sort(($,Y)=>e.itemSort($,Y,n))),xn(C,$=>{let Y=F5(e.callbacks,$);a.push(rr(Y,"labelColor",this,$)),p.push(rr(Y,"labelPointStyle",this,$)),y.push(rr(Y,"labelTextColor",this,$))}),this.labelColors=a,this.labelPointStyles=p,this.labelTextColors=y,this.dataPoints=C,C}update(e,i){let n=this.options.setContext(this.getContext()),a=this._active,p,y=[];if(!a.length)this.opacity!==0&&(p={opacity:0});else{let C=vm[n.position].call(this,a,this._eventPosition);y=this._createItems(n),this.title=this.getTitle(y,n),this.beforeBody=this.getBeforeBody(y,n),this.body=this.getBody(y,n),this.afterBody=this.getAfterBody(y,n),this.footer=this.getFooter(y,n);let A=this._size=P5(this,n),R=Object.assign({},C,A),$=D5(this.chart,n,R),Y=L5(n,R,$,this.chart);this.xAlign=$.xAlign,this.yAlign=$.yAlign,p={opacity:1,x:Y.x,y:Y.y,width:A.width,height:A.height,caretX:C.x,caretY:C.y}}this._tooltipItems=y,this.$context=void 0,p&&this._resolveAnimations().update(this,p),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,n,a){let p=this.getCaretPosition(e,n,a);i.lineTo(p.x1,p.y1),i.lineTo(p.x2,p.y2),i.lineTo(p.x3,p.y3)}getCaretPosition(e,i,n){let{xAlign:a,yAlign:p}=this,{caretSize:y,cornerRadius:C}=n,{topLeft:A,topRight:R,bottomLeft:$,bottomRight:Y}=bc(C),{x:re,y:te}=e,{width:Me,height:ke}=i,je,Ye,_t,wt,st,yt;return p==="center"?(st=te+ke/2,a==="left"?(je=re,Ye=je-y,wt=st+y,yt=st-y):(je=re+Me,Ye=je+y,wt=st-y,yt=st+y),_t=je):(a==="left"?Ye=re+Math.max(A,$)+y:a==="right"?Ye=re+Me-Math.max(R,Y)-y:Ye=this.caretX,p==="top"?(wt=te,st=wt-y,je=Ye-y,_t=Ye+y):(wt=te+ke,st=wt+y,je=Ye+y,_t=Ye-y),yt=wt),{x1:je,x2:Ye,x3:_t,y1:wt,y2:st,y3:yt}}drawTitle(e,i,n){let a=this.title,p=a.length,y,C,A;if(p){let R=Bu(n.rtl,this.x,this.width);for(e.x=_g(this,n.titleAlign,n),i.textAlign=R.textAlign(n.titleAlign),i.textBaseline="middle",y=Ba(n.titleFont),C=n.titleSpacing,i.fillStyle=n.titleColor,i.font=y.string,A=0;A<p;++A)i.fillText(a[A],R.x(e.x),e.y+y.lineHeight/2),e.y+=y.lineHeight+C,A+1===p&&(e.y+=n.titleMarginBottom-C)}}_drawColorBox(e,i,n,a,p){let y=this.labelColors[n],C=this.labelPointStyles[n],{boxHeight:A,boxWidth:R}=p,$=Ba(p.bodyFont),Y=_g(this,"left",p),re=a.x(Y),te=A<$.lineHeight?($.lineHeight-A)/2:0,Me=i.y+te;if(p.usePointStyle){let ke={radius:Math.min(R,A)/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:1},je=a.leftForLtr(re,R)+R/2,Ye=Me+A/2;e.strokeStyle=p.multiKeyBackground,e.fillStyle=p.multiKeyBackground,rg(e,ke,je,Ye),e.strokeStyle=y.borderColor,e.fillStyle=y.backgroundColor,rg(e,ke,je,Ye)}else{e.lineWidth=Hi(y.borderWidth)?Math.max(...Object.values(y.borderWidth)):y.borderWidth||1,e.strokeStyle=y.borderColor,e.setLineDash(y.borderDash||[]),e.lineDashOffset=y.borderDashOffset||0;let ke=a.leftForLtr(re,R),je=a.leftForLtr(a.xPlus(re,1),R-2),Ye=bc(y.borderRadius);Object.values(Ye).some(_t=>_t!==0)?(e.beginPath(),e.fillStyle=p.multiKeyBackground,Ip(e,{x:ke,y:Me,w:R,h:A,radius:Ye}),e.fill(),e.stroke(),e.fillStyle=y.backgroundColor,e.beginPath(),Ip(e,{x:je,y:Me+1,w:R-2,h:A-2,radius:Ye}),e.fill()):(e.fillStyle=p.multiKeyBackground,e.fillRect(ke,Me,R,A),e.strokeRect(ke,Me,R,A),e.fillStyle=y.backgroundColor,e.fillRect(je,Me+1,R-2,A-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,i,n){let{body:a}=this,{bodySpacing:p,bodyAlign:y,displayColors:C,boxHeight:A,boxWidth:R,boxPadding:$}=n,Y=Ba(n.bodyFont),re=Y.lineHeight,te=0,Me=Bu(n.rtl,this.x,this.width),ke=function(Xt){i.fillText(Xt,Me.x(e.x+te),e.y+re/2),e.y+=re+p},je=Me.textAlign(y),Ye,_t,wt,st,yt,Rt,Mt;for(i.textAlign=y,i.textBaseline="middle",i.font=Y.string,e.x=_g(this,je,n),i.fillStyle=n.bodyColor,xn(this.beforeBody,ke),te=C&&je!=="right"?y==="center"?R/2+$:R+2+$:0,st=0,Rt=a.length;st<Rt;++st){for(Ye=a[st],_t=this.labelTextColors[st],i.fillStyle=_t,xn(Ye.before,ke),wt=Ye.lines,C&&wt.length&&(this._drawColorBox(i,e,st,Me,n),re=Math.max(Y.lineHeight,A)),yt=0,Mt=wt.length;yt<Mt;++yt)ke(wt[yt]),re=Y.lineHeight;xn(Ye.after,ke)}te=0,re=Y.lineHeight,xn(this.afterBody,ke),e.y-=p}drawFooter(e,i,n){let a=this.footer,p=a.length,y,C;if(p){let A=Bu(n.rtl,this.x,this.width);for(e.x=_g(this,n.footerAlign,n),e.y+=n.footerMarginTop,i.textAlign=A.textAlign(n.footerAlign),i.textBaseline="middle",y=Ba(n.footerFont),i.fillStyle=n.footerColor,i.font=y.string,C=0;C<p;++C)i.fillText(a[C],A.x(e.x),e.y+y.lineHeight/2),e.y+=y.lineHeight+n.footerSpacing}}drawBackground(e,i,n,a){let{xAlign:p,yAlign:y}=this,{x:C,y:A}=e,{width:R,height:$}=n,{topLeft:Y,topRight:re,bottomLeft:te,bottomRight:Me}=bc(a.cornerRadius);i.fillStyle=a.backgroundColor,i.strokeStyle=a.borderColor,i.lineWidth=a.borderWidth,i.beginPath(),i.moveTo(C+Y,A),y==="top"&&this.drawCaret(e,i,n,a),i.lineTo(C+R-re,A),i.quadraticCurveTo(C+R,A,C+R,A+re),y==="center"&&p==="right"&&this.drawCaret(e,i,n,a),i.lineTo(C+R,A+$-Me),i.quadraticCurveTo(C+R,A+$,C+R-Me,A+$),y==="bottom"&&this.drawCaret(e,i,n,a),i.lineTo(C+te,A+$),i.quadraticCurveTo(C,A+$,C,A+$-te),y==="center"&&p==="left"&&this.drawCaret(e,i,n,a),i.lineTo(C,A+Y),i.quadraticCurveTo(C,A,C+Y,A),i.closePath(),i.fill(),a.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){let i=this.chart,n=this.$animations,a=n&&n.x,p=n&&n.y;if(a||p){let y=vm[e.position].call(this,this._active,this._eventPosition);if(!y)return;let C=this._size=P5(this,e),A=Object.assign({},y,this._size),R=D5(i,e,A),$=L5(e,A,R,i);(a._to!==$.x||p._to!==$.y)&&(this.xAlign=R.xAlign,this.yAlign=R.yAlign,this.width=C.width,this.height=C.height,this.caretX=y.x,this.caretY=y.y,this._resolveAnimations().update(this,$))}}_willRender(){return!!this.opacity}draw(e){let i=this.options.setContext(this.getContext()),n=this.opacity;if(!n)return;this._updateAnimationTarget(i);let a={width:this.width,height:this.height},p={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;let y=yo(i.padding),C=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&C&&(e.save(),e.globalAlpha=n,this.drawBackground(p,e,a,i),Sb(e,i.textDirection),p.y+=y.top,this.drawTitle(p,e,i),this.drawBody(p,e,i),this.drawFooter(p,e,i),Mb(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){let n=this._active,a=e.map(({datasetIndex:C,index:A})=>{let R=this.chart.getDatasetMeta(C);if(!R)throw new Error("Cannot find a dataset at index "+C);return{datasetIndex:C,element:R.data[A],index:A}}),p=!um(n,a),y=this._positionChanged(a,i);(p||y)&&(this._active=a,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,n=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let a=this.options,p=this._active||[],y=this._getActiveElements(e,p,i,n),C=this._positionChanged(y,e),A=i||!um(y,p)||C;return A&&(this._active=y,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),A}_getActiveElements(e,i,n,a){let p=this.options;if(e.type==="mouseout")return[];if(!a)return i.filter(C=>this.chart.data.datasets[C.datasetIndex]&&this.chart.getDatasetMeta(C.datasetIndex).controller.getParsed(C.index)!==void 0);let y=this.chart.getElementsAtEventForMode(e,p.mode,p,n);return p.reverse&&y.reverse(),y}_positionChanged(e,i){let{caretX:n,caretY:a,options:p}=this,y=vm[p.position].call(this,e,i);return y!==!1&&(n!==y.x||a!==y.y)}}return t})(),Q8={id:"tooltip",_element:O5,positioners:vm,afterInit(t,s,e){e&&(t.tooltip=new O5({chart:t,options:e}))},beforeUpdate(t,s,e){t.tooltip&&t.tooltip.initialize(e)},reset(t,s,e){t.tooltip&&t.tooltip.initialize(e)},afterDraw(t){let s=t.tooltip;if(s&&s._willRender()){let e={tooltip:s};if(t.notifyPlugins("beforeTooltipDraw",Ta(ai({},e),{cancelable:!0}))===!1)return;s.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",e)}},afterEvent(t,s){if(t.tooltip){let e=s.replay;t.tooltip.handleEvent(s.event,e,s.inChartArea)&&(s.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,s)=>s.bodyFont.size,boxWidth:(t,s)=>s.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:dI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Z8=Object.freeze({__proto__:null,Colors:l8,Decimation:p8,Filler:L8,Legend:B8,SubTitle:q8,Title:N8,Tooltip:Q8}),X8=(t,s,e,i)=>(typeof s=="string"?(e=t.push(s)-1,i.unshift({index:e,label:s})):isNaN(s)&&(e=null),e);function Y8(t,s,e,i){let n=t.indexOf(s);if(n===-1)return X8(t,s,e,i);let a=t.lastIndexOf(s);return n!==a?e:n}var J8=(t,s)=>t===null?null:$a(Math.round(t),0,s);function V5(t){let s=this.getLabels();return t>=0&&t<s.length?s[t]:t}var e9=(()=>{class t extends qu{static id="category";static defaults={ticks:{callback:V5}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let i=this._addedLabels;if(i.length){let n=this.getLabels();for(let{index:a,label:p}of i)n[a]===p&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(en(e))return null;let n=this.getLabels();return i=isFinite(i)&&n[i]===e?i:Y8(n,e,Di(i,e),this._addedLabels),J8(i,n.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),i||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){let e=this.min,i=this.max,n=this.options.offset,a=[],p=this.getLabels();p=e===0&&i===p.length-1?p:p.slice(e,i+1),this._valueRange=Math.max(p.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let y=e;y<=i;y++)a.push({value:y});return a}getLabelForValue(e){return V5.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return t})();function t9(t,s){let e=[],{bounds:n,step:a,min:p,max:y,precision:C,count:A,maxTicks:R,maxDigits:$,includeBounds:Y}=t,re=a||1,te=R-1,{min:Me,max:ke}=s,je=!en(p),Ye=!en(y),_t=!en(A),wt=(ke-Me)/($+1),st=ob((ke-Me)/te/re)*re,yt,Rt,Mt,Xt;if(st<1e-14&&!je&&!Ye)return[{value:Me},{value:ke}];Xt=Math.ceil(ke/st)-Math.floor(Me/st),Xt>te&&(st=ob(Xt*st/te/re)*re),en(C)||(yt=Math.pow(10,C),st=Math.ceil(st*yt)/yt),n==="ticks"?(Rt=Math.floor(Me/st)*st,Mt=Math.ceil(ke/st)*st):(Rt=Me,Mt=ke),je&&Ye&&a&&x3((y-p)/a,st/1e3)?(Xt=Math.round(Math.min((y-p)/st,R)),st=(y-p)/Xt,Rt=p,Mt=y):_t?(Rt=je?p:Rt,Mt=Ye?y:Mt,Xt=A-1,st=(Mt-Rt)/Xt):(Xt=(Mt-Rt)/st,vp(Xt,Math.round(Xt),st/1e3)?Xt=Math.round(Xt):Xt=Math.ceil(Xt));let mi=Math.max(sb(st),sb(Rt));yt=Math.pow(10,en(C)?mi:C),Rt=Math.round(Rt*yt)/yt,Mt=Math.round(Mt*yt)/yt;let hi=0;for(je&&(Y&&Rt!==p?(e.push({value:p}),Rt<p&&hi++,vp(Math.round((Rt+hi*st)*yt)/yt,p,z5(p,wt,t))&&hi++):Rt<p&&hi++);hi<Xt;++hi){let Ci=Math.round((Rt+hi*st)*yt)/yt;if(Ye&&Ci>y)break;e.push({value:Ci})}return Ye&&Y&&Mt!==y?e.length&&vp(e[e.length-1].value,y,z5(y,wt,t))?e[e.length-1].value=y:e.push({value:y}):(!Ye||Mt===y)&&e.push({value:Mt}),e}function z5(t,s,{horizontal:e,minRotation:i}){let n=qr(i),a=(e?Math.sin(n):Math.cos(n))||.001,p=.75*s*(""+t).length;return Math.min(s/a,p)}var Mp=class extends qu{constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(s,e){return en(s)||(typeof s=="number"||s instanceof Number)&&!isFinite(+s)?null:+s}handleTickRangeOptions(){let{beginAtZero:s}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:n,max:a}=this,p=C=>n=e?n:C,y=C=>a=i?a:C;if(s){let C=ts(n),A=ts(a);C<0&&A<0?y(0):C>0&&A>0&&p(0)}if(n===a){let C=a===0?1:Math.abs(a*.05);y(a+C),s||p(n-C)}this.min=n,this.max=a}getTickLimit(){let s=this.options.ticks,{maxTicksLimit:e,stepSize:i}=s,n;return i?(n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),e=e||11),e&&(n=Math.min(e,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let s=this.options,e=s.ticks,i=this.getTickLimit();i=Math.max(2,i);let n={maxTicks:i,bounds:s.bounds,min:s.min,max:s.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,p=t9(n,a);return s.bounds==="ticks"&&rb(p,this,"value"),s.reverse?(p.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),p}configure(){let s=this.ticks,e=this.min,i=this.max;if(super.configure(),this.options.offset&&s.length){let n=(i-e)/Math.max(s.length-1,1)/2;e-=n,i+=n}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(s){return wp(s,this.chart.options.locale,this.options.ticks.format)}},ey=class extends Mp{static id="linear";static defaults={ticks:{callback:dm.formatters.numeric}};determineDataLimits(){let{min:s,max:e}=this.getMinMax(!0);this.min=pa(s)?s:0,this.max=pa(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let s=this.isHorizontal(),e=s?this.width:this.height,i=qr(this.options.ticks.minRotation),n=(s?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/n))}getPixelForValue(s){return s===null?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getValueForPixel(s){return this._startValue+this.getDecimalForPixel(s)*this._valueRange}},Im=t=>Math.floor(ul(t)),Nu=(t,s)=>Math.pow(10,Im(t)+s);function B5(t){return t/Math.pow(10,Im(t))===1}function R5(t,s,e){let i=Math.pow(10,e),n=Math.floor(t/i);return Math.ceil(s/i)-n}function i9(t,s){let e=s-t,i=Im(e);for(;R5(t,s,i)>10;)i++;for(;R5(t,s,i)<10;)i--;return Math.min(i,Im(t))}function n9(t,{min:s,max:e}){s=or(t.min,s);let i=[],n=Im(s),a=i9(s,e),p=a<0?Math.pow(10,Math.abs(a)):1,y=Math.pow(10,a),C=n>a?Math.pow(10,n):0,A=Math.round((s-C)*p)/p,R=Math.floor((s-C)/y/10)*y*10,$=Math.floor((A-R)/Math.pow(10,a)),Y=or(t.min,Math.round((C+R+$*Math.pow(10,a))*p)/p);for(;Y<e;)i.push({value:Y,major:B5(Y),significand:$}),$>=10?$=$<15?15:20:$++,$>=20&&(a++,$=2,p=a>=0?1:p),Y=Math.round((C+R+$*Math.pow(10,a))*p)/p;let re=or(t.max,Y);return i.push({value:re,major:B5(re),significand:$}),i}var ty=class extends qu{static id="logarithmic";static defaults={ticks:{callback:dm.formatters.logarithmic,major:{enabled:!0}}};constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(s,e){let i=Mp.prototype.parse.apply(this,[s,e]);if(i===0){this._zero=!0;return}return pa(i)&&i>0?i:null}determineDataLimits(){let{min:s,max:e}=this.getMinMax(!0);this.min=pa(s)?Math.max(0,s):null,this.max=pa(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!pa(this._userMin)&&(this.min=s===Nu(this.min,0)?Nu(this.min,-1):Nu(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:s,maxDefined:e}=this.getUserBounds(),i=this.min,n=this.max,a=y=>i=s?i:y,p=y=>n=e?n:y;i===n&&(i<=0?(a(1),p(10)):(a(Nu(i,-1)),p(Nu(n,1)))),i<=0&&a(Nu(n,-1)),n<=0&&p(Nu(i,1)),this.min=i,this.max=n}buildTicks(){let s=this.options,e={min:this._userMin,max:this._userMax},i=n9(e,this);return s.bounds==="ticks"&&rb(i,this,"value"),s.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(s){return s===void 0?"0":wp(s,this.chart.options.locale,this.options.ticks.format)}configure(){let s=this.min;super.configure(),this._startValue=ul(s),this._valueRange=ul(this.max)-ul(s)}getPixelForValue(s){return(s===void 0||s===0)&&(s=this.min),s===null||isNaN(s)?NaN:this.getPixelForDecimal(s===this.min?0:(ul(s)-this._startValue)/this._valueRange)}getValueForPixel(s){let e=this.getDecimalForPixel(s);return Math.pow(10,this._startValue+e*this._valueRange)}};function iy(t){let s=t.ticks;if(s.display&&t.display){let e=yo(s.backdropPadding);return Di(s.font&&s.font.size,ha.font.size)+e.height}return 0}function a9(t,s,e){return e=Rn(e)?e:[e],{w:P3(t,s.string,e),h:e.length*s.lineHeight}}function N5(t,s,e,i,n){return t===i||t===n?{start:s-e/2,end:s+e/2}:t<i||t>n?{start:s-e,end:s}:{start:s,end:s+e}}function o9(t){let s={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},e=Object.assign({},s),i=[],n=[],a=t._pointLabels.length,p=t.options.pointLabels,y=p.centerPointLabels?Nn/a:0;for(let C=0;C<a;C++){let A=p.setContext(t.getPointLabelContext(C));n[C]=A.padding;let R=t.getPointPosition(C,t.drawingArea+n[C],y),$=Ba(A.font),Y=a9(t.ctx,$,t._pointLabels[C]);i[C]=Y;let re=ar(t.getIndexAngle(C)+y),te=Math.round(ig(re)),Me=N5(te,R.x,Y.w,0,180),ke=N5(te,R.y,Y.h,90,270);r9(e,s,re,Me,ke)}t.setCenterPoint(s.l-e.l,e.r-s.r,s.t-e.t,e.b-s.b),t._pointLabelItems=c9(t,i,n)}function r9(t,s,e,i,n){let a=Math.abs(Math.sin(e)),p=Math.abs(Math.cos(e)),y=0,C=0;i.start<s.l?(y=(s.l-i.start)/a,t.l=Math.min(t.l,s.l-y)):i.end>s.r&&(y=(i.end-s.r)/a,t.r=Math.max(t.r,s.r+y)),n.start<s.t?(C=(s.t-n.start)/p,t.t=Math.min(t.t,s.t-C)):n.end>s.b&&(C=(n.end-s.b)/p,t.b=Math.max(t.b,s.b+C))}function s9(t,s,e){let i=t.drawingArea,{extra:n,additionalAngle:a,padding:p,size:y}=e,C=t.getPointPosition(s,i+n+p,a),A=Math.round(ig(ar(C.angle+va))),R=p9(C.y,y.h,A),$=u9(A),Y=d9(C.x,y.w,$);return{visible:!0,x:C.x,y:R,textAlign:$,left:Y,top:R,right:Y+y.w,bottom:R+y.h}}function l9(t,s){if(!s)return!0;let{left:e,top:i,right:n,bottom:a}=t;return!(Es({x:e,y:i},s)||Es({x:e,y:a},s)||Es({x:n,y:i},s)||Es({x:n,y:a},s))}function c9(t,s,e){let i=[],n=t._pointLabels.length,a=t.options,{centerPointLabels:p,display:y}=a.pointLabels,C={extra:iy(a)/2,additionalAngle:p?Nn/n:0},A;for(let R=0;R<n;R++){C.padding=e[R],C.size=s[R];let $=s9(t,R,C);i.push($),y==="auto"&&($.visible=l9($,A),$.visible&&(A=$))}return i}function u9(t){return t===0||t===180?"center":t<180?"left":"right"}function d9(t,s,e){return e==="right"?t-=s:e==="center"&&(t-=s/2),t}function p9(t,s,e){return e===90||e===270?t-=s/2:(e>270||e<90)&&(t-=s),t}function h9(t,s,e){let{left:i,top:n,right:a,bottom:p}=e,{backdropColor:y}=s;if(!en(y)){let C=bc(s.borderRadius),A=yo(s.backdropPadding);t.fillStyle=y;let R=i-A.left,$=n-A.top,Y=a-i+A.width,re=p-n+A.height;Object.values(C).some(te=>te!==0)?(t.beginPath(),Ip(t,{x:R,y:$,w:Y,h:re,radius:C}),t.fill()):t.fillRect(R,$,Y,re)}}function m9(t,s){let{ctx:e,options:{pointLabels:i}}=t;for(let n=s-1;n>=0;n--){let a=t._pointLabelItems[n];if(!a.visible)continue;let p=i.setContext(t.getPointLabelContext(n));h9(e,p,a);let y=Ba(p.font),{x:C,y:A,textAlign:R}=a;_c(e,t._pointLabels[n],C,A+y.lineHeight/2,y,{color:p.color,textAlign:R,textBaseline:"middle"})}}function pI(t,s,e,i){let{ctx:n}=t;if(e)n.arc(t.xCenter,t.yCenter,s,0,qn);else{let a=t.getPointPosition(0,s);n.moveTo(a.x,a.y);for(let p=1;p<i;p++)a=t.getPointPosition(p,s),n.lineTo(a.x,a.y)}}function f9(t,s,e,i,n){let a=t.ctx,p=s.circular,{color:y,lineWidth:C}=s;!p&&!i||!y||!C||e<0||(a.save(),a.strokeStyle=y,a.lineWidth=C,a.setLineDash(n.dash),a.lineDashOffset=n.dashOffset,a.beginPath(),pI(t,e,p,i),a.closePath(),a.stroke(),a.restore())}function g9(t,s,e){return pl(t,{label:e,index:s,type:"pointLabel"})}var ny=class extends Mp{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:dm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(s){return s},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(s){super(s),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let s=this._padding=yo(iy(this.options)/2),e=this.width=this.maxWidth-s.width,i=this.height=this.maxHeight-s.height;this.xCenter=Math.floor(this.left+e/2+s.left),this.yCenter=Math.floor(this.top+i/2+s.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){let{min:s,max:e}=this.getMinMax(!1);this.min=pa(s)&&!isNaN(s)?s:0,this.max=pa(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/iy(this.options))}generateTickLabels(s){Mp.prototype.generateTickLabels.call(this,s),this._pointLabels=this.getLabels().map((e,i)=>{let n=Fn(this.options.pointLabels.callback,[e,i],this);return n||n===0?n:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){let s=this.options;s.display&&s.pointLabels.display?o9(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(s,e,i,n){this.xCenter+=Math.floor((s-e)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(s,e,i,n))}getIndexAngle(s){let e=qn/(this._pointLabels.length||1),i=this.options.startAngle||0;return ar(s*e+qr(i))}getDistanceFromCenterForValue(s){if(en(s))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-s)*e:(s-this.min)*e}getValueForDistanceFromCenter(s){if(en(s))return NaN;let e=s/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(s){let e=this._pointLabels||[];if(s>=0&&s<e.length){let i=e[s];return g9(this.getContext(),s,i)}}getPointPosition(s,e,i=0){let n=this.getIndexAngle(s)-va+i;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter,angle:n}}getPointPositionForValue(s,e){return this.getPointPosition(s,this.getDistanceFromCenterForValue(e))}getBasePosition(s){return this.getPointPositionForValue(s||0,this.getBaseValue())}getPointLabelPosition(s){let{left:e,top:i,right:n,bottom:a}=this._pointLabelItems[s];return{left:e,top:i,right:n,bottom:a}}drawBackground(){let{backgroundColor:s,grid:{circular:e}}=this.options;if(s){let i=this.ctx;i.save(),i.beginPath(),pI(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=s,i.fill(),i.restore()}}drawGrid(){let s=this.ctx,e=this.options,{angleLines:i,grid:n,border:a}=e,p=this._pointLabels.length,y,C,A;if(e.pointLabels.display&&m9(this,p),n.display&&this.ticks.forEach((R,$)=>{if($!==0||$===0&&this.min<0){C=this.getDistanceFromCenterForValue(R.value);let Y=this.getContext($),re=n.setContext(Y),te=a.setContext(Y);f9(this,re,C,p,te)}}),i.display){for(s.save(),y=p-1;y>=0;y--){let R=i.setContext(this.getPointLabelContext(y)),{color:$,lineWidth:Y}=R;!Y||!$||(s.lineWidth=Y,s.strokeStyle=$,s.setLineDash(R.borderDash),s.lineDashOffset=R.borderDashOffset,C=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),A=this.getPointPosition(y,C),s.beginPath(),s.moveTo(this.xCenter,this.yCenter),s.lineTo(A.x,A.y),s.stroke())}s.restore()}}drawBorder(){}drawLabels(){let s=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;let n=this.getIndexAngle(0),a,p;s.save(),s.translate(this.xCenter,this.yCenter),s.rotate(n),s.textAlign="center",s.textBaseline="middle",this.ticks.forEach((y,C)=>{if(C===0&&this.min>=0&&!e.reverse)return;let A=i.setContext(this.getContext(C)),R=Ba(A.font);if(a=this.getDistanceFromCenterForValue(this.ticks[C].value),A.showLabelBackdrop){s.font=R.string,p=s.measureText(y.label).width,s.fillStyle=A.backdropColor;let $=yo(A.backdropPadding);s.fillRect(-p/2-$.left,-a-R.size/2-$.top,p+$.width,R.size+$.height)}_c(s,y.label,0,-a,R,{color:A.color,strokeColor:A.textStrokeColor,strokeWidth:A.textStrokeWidth})}),s.restore()}drawTitle(){}},Eg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},sr=Object.keys(Eg);function q5(t,s){return t-s}function j5(t,s){if(en(s))return null;let e=t._adapter,{parser:i,round:n,isoWeekday:a}=t._parseOpts,p=s;return typeof i=="function"&&(p=i(p)),pa(p)||(p=typeof i=="string"?e.parse(p,i):e.parse(p)),p===null?null:(n&&(p=n==="week"&&(zu(a)||a===!0)?e.startOf(p,"isoWeek",a):e.startOf(p,n)),+p)}function H5(t,s,e,i){let n=sr.length;for(let a=sr.indexOf(t);a<n-1;++a){let p=Eg[sr[a]],y=p.steps?p.steps:Number.MAX_SAFE_INTEGER;if(p.common&&Math.ceil((e-s)/(y*p.size))<=i)return sr[a]}return sr[n-1]}function _9(t,s,e,i,n){for(let a=sr.length-1;a>=sr.indexOf(e);a--){let p=sr[a];if(Eg[p].common&&t._adapter.diff(n,i,p)>=s-1)return p}return sr[e?sr.indexOf(e):0]}function b9(t){for(let s=sr.indexOf(t)+1,e=sr.length;s<e;++s)if(Eg[sr[s]].common)return sr[s]}function G5(t,s,e){if(!e)t[s]=!0;else if(e.length){let{lo:i,hi:n}=ng(e,s),a=e[i]>=s?e[i]:e[n];t[a]=!0}}function y9(t,s,e,i){let n=t._adapter,a=+n.startOf(s[0].value,i),p=s[s.length-1].value,y,C;for(y=a;y<=p;y=+n.add(y,1,i))C=e[y],C>=0&&(s[C].major=!0);return s}function U5(t,s,e){let i=[],n={},a=s.length,p,y;for(p=0;p<a;++p)y=s[p],n[y]=p,i.push({value:y,major:!1});return a===0||!e?i:y9(t,i,n,e)}var ay=(()=>{class t extends qu{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){let n=e.time||(e.time={}),a=this._adapter=new DE._date(e.adapters.date);a.init(i),bp(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return e===void 0?null:j5(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,i=this._adapter,n=e.time.unit||"day",{min:a,max:p,minDefined:y,maxDefined:C}=this.getUserBounds();function A(R){!y&&!isNaN(R.min)&&(a=Math.min(a,R.min)),!C&&!isNaN(R.max)&&(p=Math.max(p,R.max))}(!y||!C)&&(A(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&A(this.getMinMax(!1))),a=pa(a)&&!isNaN(a)?a:+i.startOf(Date.now(),n),p=pa(p)&&!isNaN(p)?p:+i.endOf(Date.now(),n)+1,this.min=Math.min(a,p-1),this.max=Math.max(a+1,p)}_getLabelBounds(){let e=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],n=e[e.length-1]),{min:i,max:n}}buildTicks(){let e=this.options,i=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);let p=this.min,y=this.max,C=T3(a,p,y);return this._unit=i.unit||(n.autoSkip?H5(i.minUnit,this.min,this.max,this._getLabelCapacity(p)):_9(this,C.length,i.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:b9(this._unit),this.initOffsets(a),e.reverse&&C.reverse(),U5(this,C,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let i=0,n=0,a,p;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?i=1-a:i=(this.getDecimalForValue(e[1])-a)/2,p=this.getDecimalForValue(e[e.length-1]),e.length===1?n=p:n=(p-this.getDecimalForValue(e[e.length-2]))/2);let y=e.length<3?.5:.25;i=$a(i,0,y),n=$a(n,0,y),this._offsets={start:i,end:n,factor:1/(i+1+n)}}_generate(){let e=this._adapter,i=this.min,n=this.max,a=this.options,p=a.time,y=p.unit||H5(p.minUnit,i,n,this._getLabelCapacity(i)),C=Di(a.ticks.stepSize,1),A=y==="week"?p.isoWeekday:!1,R=zu(A)||A===!0,$={},Y=i,re,te;if(R&&(Y=+e.startOf(Y,"isoWeek",A)),Y=+e.startOf(Y,R?"day":y),e.diff(n,i,y)>1e5*C)throw new Error(i+" and "+n+" are too far apart with stepSize of "+C+" "+y);let Me=a.ticks.source==="data"&&this.getDataTimestamps();for(re=Y,te=0;re<n;re=+e.add(re,C,y),te++)G5($,re,Me);return(re===n||a.bounds==="ticks"||te===1)&&G5($,re,Me),Object.keys($).sort(q5).map(ke=>+ke)}getLabelForValue(e){let i=this._adapter,n=this.options.time;return n.tooltipFormat?i.format(e,n.tooltipFormat):i.format(e,n.displayFormats.datetime)}format(e,i){let a=this.options.time.displayFormats,p=this._unit,y=i||a[p];return this._adapter.format(e,y)}_tickFormatFunction(e,i,n,a){let p=this.options,y=p.ticks.callback;if(y)return Fn(y,[e,i,n],this);let C=p.time.displayFormats,A=this._unit,R=this._majorUnit,$=A&&C[A],Y=R&&C[R],re=n[i],te=R&&Y&&re&&re.major;return this._adapter.format(e,a||(te?Y:$))}generateTickLabels(e){let i,n,a;for(i=0,n=e.length;i<n;++i)a=e[i],a.label=this._tickFormatFunction(a.value,i,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let i=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+n)*i.factor)}getValueForPixel(e){let i=this._offsets,n=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){let i=this.options.ticks,n=this.ctx.measureText(e).width,a=qr(this.isHorizontal()?i.maxRotation:i.minRotation),p=Math.cos(a),y=Math.sin(a),C=this._resolveTickFontOptions(0).size;return{w:n*p+C*y,h:n*y+C*p}}_getLabelCapacity(e){let i=this.options.time,n=i.displayFormats,a=n[i.unit]||n.millisecond,p=this._tickFormatFunction(e,0,U5(this,[e],this._majorUnit),a),y=this._getLabelSize(p),C=Math.floor(this.isHorizontal()?this.width/y.w:this.height/y.h)-1;return C>0?C:1}getDataTimestamps(){let e=this._cache.data||[],i,n;if(e.length)return e;let a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(i=0,n=a.length;i<n;++i)e=e.concat(a[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],i,n;if(e.length)return e;let a=this.getLabels();for(i=0,n=a.length;i<n;++i)e.push(j5(this,a[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return ub(e.sort(q5))}}return t})();function bg(t,s,e){let i=0,n=t.length-1,a,p,y,C;e?(s>=t[i].pos&&s<=t[n].pos&&({lo:i,hi:n}=ks(t,"pos",s)),{pos:a,time:y}=t[i],{pos:p,time:C}=t[n]):(s>=t[i].time&&s<=t[n].time&&({lo:i,hi:n}=ks(t,"time",s)),{time:a,pos:y}=t[i],{time:p,pos:C}=t[n]);let A=p-a;return A?y+(C-y)*(s-a)/A:y}var oy=class extends ay{static id="timeseries";static defaults=ay.defaults;constructor(s){super(s),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let s=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(s);this._minPos=bg(e,this.min),this._tableRange=bg(e,this.max)-this._minPos,super.initOffsets(s)}buildLookupTable(s){let{min:e,max:i}=this,n=[],a=[],p,y,C,A,R;for(p=0,y=s.length;p<y;++p)A=s[p],A>=e&&A<=i&&n.push(A);if(n.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(p=0,y=n.length;p<y;++p)R=n[p+1],C=n[p-1],A=n[p],Math.round((R+C)/2)!==A&&a.push({time:A,pos:p/(y-1)});return a}_generate(){let s=this.min,e=this.max,i=super.getDataTimestamps();return(!i.includes(s)||!i.length)&&i.splice(0,0,s),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((n,a)=>n-a)}_getTimestampsForTable(){let s=this._cache.all||[];if(s.length)return s;let e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?s=this.normalize(e.concat(i)):s=e.length?e:i,s=this._cache.all=s,s}getDecimalForValue(s){return(bg(this._table,s)-this._minPos)/this._tableRange}getValueForPixel(s){let e=this._offsets,i=this.getDecimalForPixel(s)/e.factor-e.end;return bg(this._table,i*this._tableRange+this._minPos,!0)}},v9=Object.freeze({__proto__:null,CategoryScale:e9,LinearScale:ey,LogarithmicScale:ty,RadialLinearScale:ny,TimeScale:ay,TimeSeriesScale:oy}),hI=[PE,i8,Z8,v9];Mg.register(...hI);var mI=Mg;var x9={root:({instance:t})=>({display:"block",position:"relative",width:t.width,height:t.height})},w9={root:"p-chart"},fI=(()=>{class t extends Vt{name="chart";classes=w9;inlineStyles=x9;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var ly=(()=>{class t extends Ot{el;zone;type;plugins=[];width;height;responsive=!0;ariaLabel;ariaLabelledBy;get data(){return this._data}set data(e){this._data=e,this.reinit()}get options(){return this._options}set options(e){this._options=e,this.reinit()}onDataSelect=new Fe;isBrowser=!1;initialized;_data;_options={};chart;_componentStyle=lt(fI);constructor(e,i){super(),this.el=e,this.zone=i}ngAfterViewInit(){super.ngAfterViewInit(),this.initChart(),this.initialized=!0}onCanvasClick(e){if(this.chart){let i=this.chart.getElementsAtEventForMode(e,"nearest",{intersect:!0},!1),n=this.chart.getElementsAtEventForMode(e,"dataset",{intersect:!0},!1);i&&i[0]&&n&&this.onDataSelect.emit({originalEvent:e,element:i[0],dataset:n})}}initChart(){if(ci(this.platformId)){let e=this.options||{};e.responsive=this.responsive,e.responsive&&(this.height||this.width)&&(e.maintainAspectRatio=!1),this.zone.runOutsideAngular(()=>{this.chart=new mI(this.el.nativeElement.children[0],{type:this.type,data:this.data,options:this.options,plugins:this.plugins})})}}getCanvas(){return this.el.nativeElement.children[0]}getBase64Image(){return this.chart.toBase64Image()}generateLegend(){if(this.chart)return this.chart.generateLegend()}refresh(){this.chart&&this.chart.update()}reinit(){this.chart&&(this.chart.destroy(),this.initChart())}ngOnDestroy(){super.ngOnDestroy(),this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)}static \u0275fac=function(i){return new(i||t)(At(Ja),At(fo))};static \u0275cmp=Je({type:t,selectors:[["p-chart"]],hostVars:4,hostBindings:function(i,n){i&2&&(Ft(n.sx("root")),K(n.cx("root")))},inputs:{type:"type",plugins:"plugins",width:"width",height:"height",responsive:[2,"responsive","responsive",we],ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",data:"data",options:"options"},outputs:{onDataSelect:"onDataSelect"},features:[bt([fI]),gt],decls:1,vars:4,consts:[["role","img",3,"click"]],template:function(i,n){i&1&&(L(0,"canvas",0),Ie("click",function(p){return n.onCanvasClick(p)}),D()),i&2&&ue("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledBy)("width",n.responsive&&!n.width?null:n.width)("height",n.responsive&&!n.height?null:n.height)},dependencies:[mt,Xe],encapsulation:2,changeDetection:0})}return t})(),gI=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[ly,Xe,Xe]})}return t})();var Pg=class t{constructor(s){this.layoutService=s;this.subscription=this.layoutService.configUpdate$.pipe(px(25)).subscribe(()=>{this.initCharts()})}lineData;barData;pieData;polarData;radarData;lineOptions;barOptions;pieOptions;polarOptions;radarOptions;subscription;ngOnInit(){this.initCharts()}initCharts(){let s=getComputedStyle(document.documentElement),e=s.getPropertyValue("--text-color"),i=s.getPropertyValue("--text-color-secondary"),n=s.getPropertyValue("--surface-border");this.barData={labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:s.getPropertyValue("--p-primary-500"),borderColor:s.getPropertyValue("--p-primary-500"),data:[65,59,80,81,56,55,40]},{label:"My Second dataset",backgroundColor:s.getPropertyValue("--p-primary-200"),borderColor:s.getPropertyValue("--p-primary-200"),data:[28,48,40,19,86,27,90]}]},this.barOptions={maintainAspectRatio:!1,aspectRatio:.8,plugins:{legend:{labels:{color:e}}},scales:{x:{ticks:{color:i,font:{weight:500}},grid:{display:!1,drawBorder:!1}},y:{ticks:{color:i},grid:{color:n,drawBorder:!1}}}},this.pieData={labels:["A","B","C"],datasets:[{data:[540,325,702],backgroundColor:[s.getPropertyValue("--p-indigo-500"),s.getPropertyValue("--p-purple-500"),s.getPropertyValue("--p-teal-500")],hoverBackgroundColor:[s.getPropertyValue("--p-indigo-400"),s.getPropertyValue("--p-purple-400"),s.getPropertyValue("--p-teal-400")]}]},this.pieOptions={plugins:{legend:{labels:{usePointStyle:!0,color:e}}}},this.lineData={labels:["January","February","March","April","May","June","July"],datasets:[{label:"First Dataset",data:[65,59,80,81,56,55,40],fill:!1,backgroundColor:s.getPropertyValue("--p-primary-500"),borderColor:s.getPropertyValue("--p-primary-500"),tension:.4},{label:"Second Dataset",data:[28,48,40,19,86,27,90],fill:!1,backgroundColor:s.getPropertyValue("--p-primary-200"),borderColor:s.getPropertyValue("--p-primary-200"),tension:.4}]},this.lineOptions={maintainAspectRatio:!1,aspectRatio:.8,plugins:{legend:{labels:{color:e}}},scales:{x:{ticks:{color:i},grid:{color:n,drawBorder:!1}},y:{ticks:{color:i},grid:{color:n,drawBorder:!1}}}},this.polarData={datasets:[{data:[11,16,7,3],backgroundColor:[s.getPropertyValue("--p-indigo-500"),s.getPropertyValue("--p-purple-500"),s.getPropertyValue("--p-teal-500"),s.getPropertyValue("--p-orange-500")],label:"My dataset"}],labels:["Indigo","Purple","Teal","Orange"]},this.polarOptions={plugins:{legend:{labels:{color:e}}},scales:{r:{grid:{color:n},ticks:{display:!1,color:i}}}},this.radarData={labels:["Eating","Drinking","Sleeping","Designing","Coding","Cycling","Running"],datasets:[{label:"My First dataset",borderColor:s.getPropertyValue("--p-indigo-400"),pointBackgroundColor:s.getPropertyValue("--p-indigo-400"),pointBorderColor:s.getPropertyValue("--p-indigo-400"),pointHoverBackgroundColor:e,pointHoverBorderColor:s.getPropertyValue("--p-indigo-400"),data:[65,59,90,81,56,55,40]},{label:"My Second dataset",borderColor:s.getPropertyValue("--p-purple-400"),pointBackgroundColor:s.getPropertyValue("--p-purple-400"),pointBorderColor:s.getPropertyValue("--p-purple-400"),pointHoverBackgroundColor:e,pointHoverBorderColor:s.getPropertyValue("--p-purple-400"),data:[28,48,40,19,96,27,100]}]},this.radarOptions={plugins:{legend:{labels:{color:e}}},scales:{r:{pointLabels:{color:e},grid:{color:n}}}}}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)(At(rp))};static \u0275cmp=Je({type:t,selectors:[["app-chart-demo"]],decls:31,vars:12,consts:[[1,"grid","grid-cols-12","gap-8"],[1,"col-span-12","xl:col-span-6"],[1,"card"],[1,"font-semibold","text-xl","mb-4"],["type","line",3,"data","options"],["type","bar",3,"data","options"],[1,"card","flex","flex-col","items-center"],["type","pie",3,"data","options"],["type","doughnut",3,"data","options"],["type","polarArea",3,"data","options"],["type","radar",3,"data","options"]],template:function(e,i){e&1&&(L(0,"p-fluid",0)(1,"div",1)(2,"div",2)(3,"div",3),ne(4,"Linear"),D(),oe(5,"p-chart",4),D()(),L(6,"div",1)(7,"div",2)(8,"div",3),ne(9,"Bar"),D(),oe(10,"p-chart",5),D()(),L(11,"div",1)(12,"div",6)(13,"div",3),ne(14,"Pie"),D(),oe(15,"p-chart",7),D()(),L(16,"div",1)(17,"div",6)(18,"div",3),ne(19,"Doughnut"),D(),oe(20,"p-chart",8),D()(),L(21,"div",1)(22,"div",6)(23,"div",3),ne(24,"Polar Area"),D(),oe(25,"p-chart",9),D()(),L(26,"div",1)(27,"div",6)(28,"div",3),ne(29,"Radar"),D(),oe(30,"p-chart",10),D()()()),e&2&&(S(5),T("data",i.lineData)("options",i.lineOptions),S(5),T("data",i.barData)("options",i.barOptions),S(5),T("data",i.pieData)("options",i.pieOptions),S(5),T("data",i.pieData)("options",i.pieOptions),S(5),T("data",i.polarData)("options",i.polarOptions),S(5),T("data",i.radarData)("options",i.radarOptions))},dependencies:[mt,gI,ly,tp,Ts],encapsulation:2})};function T9(t,s){t&1&&(L(0,"div"),ne(1,"Drag and drop files to here to upload."),D())}var Dg=class t{constructor(s){this.messageService=s}uploadedFiles=[];onUpload(s){for(let e of s.files)this.uploadedFiles.push(e);this.messageService.add({severity:"info",summary:"Success",detail:"File Uploaded"})}onBasicUpload(){this.messageService.add({severity:"info",summary:"Success",detail:"File Uploaded with Basic Mode"})}static \u0275fac=function(e){return new(e||t)(At(er))};static \u0275cmp=Je({type:t,selectors:[["app-file-demo"]],features:[bt([er])],decls:17,vars:1,consts:[["empty",""],["fu",""],[1,"grid","grid-cols-12","gap-8"],[1,"col-span-full","lg:col-span-6"],[1,"card"],[1,"font-semibold","text-xl","mb-4"],["name","demo[]","accept","image/*","maxFileSize","1000000","mode","advanced","url","https://www.primefaces.org/cdn/api/upload.php",3,"onUpload","multiple"],[1,"flex","flex-col","gap-4","items-center","justify-center"],["mode","basic","chooseLabel","Choose","chooseIcon","pi pi-upload","name","demo[]","url","https://www.primefaces.org/cdn/api/upload.php","accept","image/*","maxFileSize","1000000",3,"onUpload"],["label","Upload","severity","secondary",3,"onClick"]],template:function(e,i){if(e&1){let n=Re();oe(0,"p-toast"),L(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),ne(5,"Advanced"),D(),L(6,"p-fileupload",6),Ie("onUpload",function(p){return Z(n),X(i.onUpload(p))}),B(7,T9,2,0,"ng-template",null,0,Be),D()()(),L(9,"div",3)(10,"div",4)(11,"div",5),ne(12,"Basic"),D(),L(13,"div",7)(14,"p-fileupload",8,1),Ie("onUpload",function(p){return Z(n),X(i.onUpload(p))}),D(),L(16,"p-button",9),Ie("onClick",function(){Z(n);let p=Ut(15);return X(p.upload())}),D()()()()()}e&2&&(S(6),T("multiple",!0))},dependencies:[mt,Cw,Tw,ac,sp,Fi,qi],encapsulation:2})};var Lg=class t{dropdownItems=[{name:"Option 1",code:"Option 1"},{name:"Option 2",code:"Option 2"},{name:"Option 3",code:"Option 3"}];dropdownItem=null;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Je({type:t,selectors:[["app-formlayout-demo"]],decls:92,vars:3,consts:[[1,"flex","flex-col","md:flex-row","gap-8"],[1,"md:w-1/2"],[1,"card","flex","flex-col","gap-4"],[1,"font-semibold","text-xl"],[1,"flex","flex-col","gap-2"],["for","name1"],["pInputText","","id","name1","type","text"],["for","email1"],["pInputText","","id","email1","type","text"],["for","age1"],["pInputText","","id","age1","type","text"],[1,"flex","flex-wrap","gap-6"],[1,"flex","flex-col","grow","basis-0","gap-2"],["for","name2"],["pInputText","","id","name2","type","text"],["for","email2"],["pInputText","","id","email2","type","text"],[1,"grid","grid-cols-12","gap-4","grid-cols-12","gap-2"],["for","name3",1,"flex","items-center","col-span-12","mb-2","md:col-span-2","md:mb-0"],[1,"col-span-12","md:col-span-10"],["pInputText","","id","name3","type","text"],["for","email3",1,"flex","items-center","col-span-12","mb-2","md:col-span-2","md:mb-0"],["pInputText","","id","email3","type","text"],[1,"flex","flex-wrap","items-start","gap-6"],[1,"field"],["for","firstname1",1,"sr-only"],["pInputText","","id","firstname1","type","text","placeholder","Firstname"],["for","lastname1",1,"sr-only"],["pInputText","","id","lastname1","type","text","placeholder","Lastname"],["label","Submit",3,"fluid"],[1,"flex","flex-wrap","gap-2"],["for","username"],["pInputText","","id","username","type","text"],[1,"flex","mt-8"],[1,"card","flex","flex-col","gap-6","w-full"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"flex","flex-wrap","gap-2","w-full"],["for","firstname2"],["pInputText","","id","firstname2","type","text"],["for","lastname2"],["pInputText","","id","lastname2","type","text"],[1,"flex","flex-wrap"],["for","address"],["pTextarea","","id","address","rows","4"],["for","state"],["id","state","optionLabel","name","placeholder","Select One",1,"w-full",3,"ngModelChange","ngModel","options"],["for","zip"],["pInputText","","id","zip","type","text"]],template:function(e,i){e&1&&(L(0,"p-fluid")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),ne(5,"Vertical"),D(),L(6,"div",4)(7,"label",5),ne(8,"Name"),D(),oe(9,"input",6),D(),L(10,"div",4)(11,"label",7),ne(12,"Email"),D(),oe(13,"input",8),D(),L(14,"div",4)(15,"label",9),ne(16,"Age"),D(),oe(17,"input",10),D()(),L(18,"div",2)(19,"div",3),ne(20,"Vertical Grid"),D(),L(21,"div",11)(22,"div",12)(23,"label",13),ne(24,"Name"),D(),oe(25,"input",14),D(),L(26,"div",12)(27,"label",15),ne(28,"Email"),D(),oe(29,"input",16),D()()()(),L(30,"div",1)(31,"div",2)(32,"div",3),ne(33,"Horizontal"),D(),L(34,"div",17)(35,"label",18),ne(36,"Name"),D(),L(37,"div",19),oe(38,"input",20),D()(),L(39,"div",17)(40,"label",21),ne(41,"Email"),D(),L(42,"div",19),oe(43,"input",22),D()()(),L(44,"div",2)(45,"div",3),ne(46,"Inline"),D(),L(47,"div",23)(48,"div",24)(49,"label",25),ne(50,"Firstname"),D(),oe(51,"input",26),D(),L(52,"div",24)(53,"label",27),ne(54,"Lastname"),D(),oe(55,"input",28),D(),oe(56,"p-button",29),D()(),L(57,"div",2)(58,"div",3),ne(59,"Help Text"),D(),L(60,"div",30)(61,"label",31),ne(62,"Username"),D(),oe(63,"input",32),L(64,"small"),ne(65,"Enter your username to reset your password."),D()()()()(),L(66,"div",33)(67,"div",34)(68,"div",3),ne(69,"Advanced"),D(),L(70,"div",35)(71,"div",36)(72,"label",37),ne(73,"Firstname"),D(),oe(74,"input",38),D(),L(75,"div",36)(76,"label",39),ne(77,"Lastname"),D(),oe(78,"input",40),D()(),L(79,"div",41)(80,"label",42),ne(81,"Address"),D(),oe(82,"textarea",43),D(),L(83,"div",35)(84,"div",36)(85,"label",44),ne(86,"State"),D(),L(87,"p-select",45),si("ngModelChange",function(a){return ri(i.dropdownItem,a)||(i.dropdownItem=a),a}),D()(),L(88,"div",36)(89,"label",46),ne(90,"Zip"),D(),oe(91,"input",47),D()()()()()),e&2&&(S(56),T("fluid",!1),S(31),oi("ngModel",i.dropdownItem),T("options",i.dropdownItems))},dependencies:[Po,sa,tp,Ts,Fi,qi,lc,sc,ln,Yn,Jn,Ff,Af],encapsulation:2})};var yI=`
    .p-inputgroup,
    .p-inputgroup .p-iconfield,
    .p-inputgroup .p-floatlabel,
    .p-inputgroup .p-iftalabel {
        display: flex;
        align-items: stretch;
        width: 100%;
    }

    .p-inputgroup .p-inputtext,
    .p-inputgroup .p-inputwrapper {
        flex: 1 1 auto;
        width: 1%;
    }

    .p-inputgroupaddon {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: dt('inputgroup.addon.padding');
        background: dt('inputgroup.addon.background');
        color: dt('inputgroup.addon.color');
        border-block-start: 1px solid dt('inputgroup.addon.border.color');
        border-block-end: 1px solid dt('inputgroup.addon.border.color');
        min-width: dt('inputgroup.addon.min.width');
    }

    .p-inputgroupaddon:first-child,
    .p-inputgroupaddon + .p-inputgroupaddon {
        border-inline-start: 1px solid dt('inputgroup.addon.border.color');
    }

    .p-inputgroupaddon:last-child {
        border-inline-end: 1px solid dt('inputgroup.addon.border.color');
    }

    .p-inputgroupaddon:has(.p-button) {
        padding: 0;
        overflow: hidden;
    }

    .p-inputgroupaddon .p-button {
        border-radius: 0;
    }

    .p-inputgroup > .p-component,
    .p-inputgroup > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iconfield > .p-component,
    .p-inputgroup > .p-floatlabel > .p-component,
    .p-inputgroup > .p-floatlabel > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel > .p-component,
    .p-inputgroup > .p-iftalabel > .p-inputwrapper > .p-component {
        border-radius: 0;
        margin: 0;
    }

    .p-inputgroupaddon:first-child,
    .p-inputgroup > .p-component:first-child,
    .p-inputgroup > .p-inputwrapper:first-child > .p-component,
    .p-inputgroup > .p-iconfield:first-child > .p-component,
    .p-inputgroup > .p-floatlabel:first-child > .p-component,
    .p-inputgroup > .p-floatlabel:first-child > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel:first-child > .p-component,
    .p-inputgroup > .p-iftalabel:first-child > .p-inputwrapper > .p-component {
        border-start-start-radius: dt('inputgroup.addon.border.radius');
        border-end-start-radius: dt('inputgroup.addon.border.radius');
    }

    .p-inputgroupaddon:last-child,
    .p-inputgroup > .p-component:last-child,
    .p-inputgroup > .p-inputwrapper:last-child > .p-component,
    .p-inputgroup > .p-iconfield:last-child > .p-component,
    .p-inputgroup > .p-floatlabel:last-child > .p-component,
    .p-inputgroup > .p-floatlabel:last-child > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel:last-child > .p-component,
    .p-inputgroup > .p-iftalabel:last-child > .p-inputwrapper > .p-component {
        border-start-end-radius: dt('inputgroup.addon.border.radius');
        border-end-end-radius: dt('inputgroup.addon.border.radius');
    }

    .p-inputgroup .p-component:focus,
    .p-inputgroup .p-component.p-focus,
    .p-inputgroup .p-inputwrapper-focus,
    .p-inputgroup .p-component:focus ~ label,
    .p-inputgroup .p-component.p-focus ~ label,
    .p-inputgroup .p-inputwrapper-focus ~ label {
        z-index: 1;
    }

    .p-inputgroup > .p-button:not(.p-button-icon-only) {
        width: auto;
    }

    .p-inputgroup .p-iconfield + .p-iconfield .p-inputtext {
        border-inline-start: 0;
    }
`;var S9=["*"],M9=`
    ${yI}

    /*For PrimeNG*/

    .p-inputgroup > .p-component,
    .p-inputgroup > .p-inputwrapper > .p-component,
    .p-inputgroup:first-child > p-button > .p-button,
    .p-inputgroup > .p-floatlabel > .p-component,
    .p-inputgroup > .p-floatlabel > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel > .p-component,
    .p-inputgroup > .p-iftalabel > .p-inputwrapper > .p-component {
        border-radius: 0;
        margin: 0;
    }

    .p-inputgroup p-button:first-child,
    .p-inputgroup p-button:last-child {
        display: inline-flex;
    }

    .p-inputgroup:has(> p-button:first-child) .p-button {
        border-start-start-radius: dt('inputgroup.addon.border.radius');
        border-end-start-radius: dt('inputgroup.addon.border.radius');
    }

    .p-inputgroup:has(> p-button:last-child) .p-button {
        border-start-end-radius: dt('inputgroup.addon.border.radius');
        border-end-end-radius: dt('inputgroup.addon.border.radius');
    }
`,k9={root:({instance:t})=>["p-inputgroup",{"p-inputgroup-fluid":t.fluid}]},vI=(()=>{class t extends Vt{name="inputgroup";theme=M9;classes=k9;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var uy=(()=>{class t extends Ot{styleClass;_componentStyle=lt(vI);static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-inputgroup"],["p-inputGroup"],["p-input-group"]],hostVars:3,hostBindings:function(i,n){i&2&&(ue("data-pc-name","inputgroup"),K(n.cn(n.cx("root"),n.styleClass)))},inputs:{styleClass:"styleClass"},features:[bt([vI]),gt],ngContentSelectors:S9,decls:1,vars:0,template:function(i,n){i&1&&($i(),Pi(0))},dependencies:[mt,Xe],encapsulation:2})}return t})(),xI=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[uy,Xe,Xe]})}return t})();var wI=`
    .p-floatlabel {
        display: block;
        position: relative;
    }

    .p-floatlabel label {
        position: absolute;
        pointer-events: none;
        top: 50%;
        transform: translateY(-50%);
        transition-property: all;
        transition-timing-function: ease;
        line-height: 1;
        font-weight: dt('floatlabel.font.weight');
        inset-inline-start: dt('floatlabel.position.x');
        color: dt('floatlabel.color');
        transition-duration: dt('floatlabel.transition.duration');
    }

    .p-floatlabel:has(.p-textarea) label {
        top: dt('floatlabel.position.y');
        transform: translateY(0);
    }

    .p-floatlabel:has(.p-inputicon:first-child) label {
        inset-inline-start: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-floatlabel:has(input:focus) label,
    .p-floatlabel:has(input.p-filled) label,
    .p-floatlabel:has(input:-webkit-autofill) label,
    .p-floatlabel:has(textarea:focus) label,
    .p-floatlabel:has(textarea.p-filled) label,
    .p-floatlabel:has(.p-inputwrapper-focus) label,
    .p-floatlabel:has(.p-inputwrapper-filled) label,
    .p-floatlabel:has(input[placeholder]) label,
    .p-floatlabel:has(textarea[placeholder]) label {
        top: dt('floatlabel.over.active.top');
        transform: translateY(0);
        font-size: dt('floatlabel.active.font.size');
        font-weight: dt('floatlabel.active.font.weight');
    }

    .p-floatlabel:has(input.p-filled) label,
    .p-floatlabel:has(textarea.p-filled) label,
    .p-floatlabel:has(.p-inputwrapper-filled) label {
        color: dt('floatlabel.active.color');
    }

    .p-floatlabel:has(input:focus) label,
    .p-floatlabel:has(input:-webkit-autofill) label,
    .p-floatlabel:has(textarea:focus) label,
    .p-floatlabel:has(.p-inputwrapper-focus) label {
        color: dt('floatlabel.focus.color');
    }

    .p-floatlabel-in .p-inputtext,
    .p-floatlabel-in .p-textarea,
    .p-floatlabel-in .p-select-label,
    .p-floatlabel-in .p-multiselect-label,
    .p-floatlabel-in .p-autocomplete-input-multiple,
    .p-floatlabel-in .p-cascadeselect-label,
    .p-floatlabel-in .p-treeselect-label {
        padding-block-start: dt('floatlabel.in.input.padding.top');
        padding-block-end: dt('floatlabel.in.input.padding.bottom');
    }

    .p-floatlabel-in:has(input:focus) label,
    .p-floatlabel-in:has(input.p-filled) label,
    .p-floatlabel-in:has(input:-webkit-autofill) label,
    .p-floatlabel-in:has(textarea:focus) label,
    .p-floatlabel-in:has(textarea.p-filled) label,
    .p-floatlabel-in:has(.p-inputwrapper-focus) label,
    .p-floatlabel-in:has(.p-inputwrapper-filled) label,
    .p-floatlabel-in:has(input[placeholder]) label,
    .p-floatlabel-in:has(textarea[placeholder]) label {
        top: dt('floatlabel.in.active.top');
    }

    .p-floatlabel-on:has(input:focus) label,
    .p-floatlabel-on:has(input.p-filled) label,
    .p-floatlabel-on:has(input:-webkit-autofill) label,
    .p-floatlabel-on:has(textarea:focus) label,
    .p-floatlabel-on:has(textarea.p-filled) label,
    .p-floatlabel-on:has(.p-inputwrapper-focus) label,
    .p-floatlabel-on:has(.p-inputwrapper-filled) label,
    .p-floatlabel-on:has(input[placeholder]) label,
    .p-floatlabel-on:has(textarea[placeholder]) label {
        top: 0;
        transform: translateY(-50%);
        border-radius: dt('floatlabel.on.border.radius');
        background: dt('floatlabel.on.active.background');
        padding: dt('floatlabel.on.active.padding');
    }

    .p-floatlabel:has([class^='p-'][class$='-fluid']) {
        width: 100%;
    }

    .p-floatlabel:has(.p-invalid) label {
        color: dt('floatlabel.invalid.color');
    }
`;var P9=["*"],D9=`
    ${wI}

    /* For PrimeNG */
    .p-floatlabel:has(.ng-invalid.ng-dirty) label {
        color: dt('floatlabel.invalid.color');
    }
`,L9={root:({instance:t})=>["p-floatlabel",{"p-floatlabel-over":t.variant==="over","p-floatlabel-on":t.variant==="on","p-floatlabel-in":t.variant==="in"}]},II=(()=>{class t extends Vt{name="floatlabel";theme=D9;classes=L9;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var dy=(()=>{class t extends Ot{_componentStyle=lt(II);variant="over";static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-floatlabel"],["p-floatLabel"],["p-float-label"]],hostVars:2,hostBindings:function(i,n){i&2&&K(n.cx("root"))},inputs:{variant:"variant"},features:[bt([II]),gt],ngContentSelectors:P9,decls:1,vars:0,template:function(i,n){i&1&&($i(),Pi(0))},dependencies:[mt,Xe],encapsulation:2,changeDetection:0})}return t})(),TI=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[dy,Xe,Xe]})}return t})();var CI=`
    .p-autocomplete {
        display: inline-flex;
    }

    .p-autocomplete-loader {
        position: absolute;
        top: 50%;
        margin-top: -0.5rem;
        inset-inline-end: dt('autocomplete.padding.x');
    }

    .p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-loader {
        inset-inline-end: calc(dt('autocomplete.dropdown.width') + dt('autocomplete.padding.x'));
    }

    .p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-input {
        flex: 1 1 auto;
        width: 1%;
    }

    .p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-input,
    .p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-input-multiple {
        border-start-end-radius: 0;
        border-end-end-radius: 0;
    }

    .p-autocomplete-dropdown {
        cursor: pointer;
        display: inline-flex;
        user-select: none;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
        width: dt('autocomplete.dropdown.width');
        border-start-end-radius: dt('autocomplete.dropdown.border.radius');
        border-end-end-radius: dt('autocomplete.dropdown.border.radius');
        background: dt('autocomplete.dropdown.background');
        border: 1px solid dt('autocomplete.dropdown.border.color');
        border-inline-start: 0 none;
        color: dt('autocomplete.dropdown.color');
        transition:
            background dt('autocomplete.transition.duration'),
            color dt('autocomplete.transition.duration'),
            border-color dt('autocomplete.transition.duration'),
            outline-color dt('autocomplete.transition.duration'),
            box-shadow dt('autocomplete.transition.duration');
        outline-color: transparent;
    }

    .p-autocomplete-dropdown:not(:disabled):hover {
        background: dt('autocomplete.dropdown.hover.background');
        border-color: dt('autocomplete.dropdown.hover.border.color');
        color: dt('autocomplete.dropdown.hover.color');
    }

    .p-autocomplete-dropdown:not(:disabled):active {
        background: dt('autocomplete.dropdown.active.background');
        border-color: dt('autocomplete.dropdown.active.border.color');
        color: dt('autocomplete.dropdown.active.color');
    }

    .p-autocomplete-dropdown:focus-visible {
        box-shadow: dt('autocomplete.dropdown.focus.ring.shadow');
        outline: dt('autocomplete.dropdown.focus.ring.width') dt('autocomplete.dropdown.focus.ring.style') dt('autocomplete.dropdown.focus.ring.color');
        outline-offset: dt('autocomplete.dropdown.focus.ring.offset');
    }

    .p-autocomplete-overlay {
        position: absolute;
        top: 0;
        left: 0;
        background: dt('autocomplete.overlay.background');
        color: dt('autocomplete.overlay.color');
        border: 1px solid dt('autocomplete.overlay.border.color');
        border-radius: dt('autocomplete.overlay.border.radius');
        box-shadow: dt('autocomplete.overlay.shadow');
        min-width: 100%;
    }

    .p-autocomplete-list-container {
        overflow: auto;
    }

    .p-autocomplete-list {
        margin: 0;
        list-style-type: none;
        display: flex;
        flex-direction: column;
        gap: dt('autocomplete.list.gap');
        padding: dt('autocomplete.list.padding');
    }

    .p-autocomplete-option {
        cursor: pointer;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        padding: dt('autocomplete.option.padding');
        border: 0 none;
        color: dt('autocomplete.option.color');
        background: transparent;
        transition:
            background dt('autocomplete.transition.duration'),
            color dt('autocomplete.transition.duration'),
            border-color dt('autocomplete.transition.duration');
        border-radius: dt('autocomplete.option.border.radius');
    }

    .p-autocomplete-option:not(.p-autocomplete-option-selected):not(.p-disabled).p-focus {
        background: dt('autocomplete.option.focus.background');
        color: dt('autocomplete.option.focus.color');
    }

    .p-autocomplete-option-selected {
        background: dt('autocomplete.option.selected.background');
        color: dt('autocomplete.option.selected.color');
    }

    .p-autocomplete-option-selected.p-focus {
        background: dt('autocomplete.option.selected.focus.background');
        color: dt('autocomplete.option.selected.focus.color');
    }

    .p-autocomplete-option-group {
        margin: 0;
        padding: dt('autocomplete.option.group.padding');
        color: dt('autocomplete.option.group.color');
        background: dt('autocomplete.option.group.background');
        font-weight: dt('autocomplete.option.group.font.weight');
    }

    .p-autocomplete-input-multiple {
        margin: 0;
        list-style-type: none;
        cursor: text;
        overflow: hidden;
        display: flex;
        align-items: center;
        flex-wrap: wrap;
        padding: calc(dt('autocomplete.padding.y') / 2) dt('autocomplete.padding.x');
        gap: calc(dt('autocomplete.padding.y') / 2);
        color: dt('autocomplete.color');
        background: dt('autocomplete.background');
        border: 1px solid dt('autocomplete.border.color');
        border-radius: dt('autocomplete.border.radius');
        width: 100%;
        transition:
            background dt('autocomplete.transition.duration'),
            color dt('autocomplete.transition.duration'),
            border-color dt('autocomplete.transition.duration'),
            outline-color dt('autocomplete.transition.duration'),
            box-shadow dt('autocomplete.transition.duration');
        outline-color: transparent;
        box-shadow: dt('autocomplete.shadow');
    }

    .p-autocomplete-input-multiple.p-disabled {
        opacity: 1;
        background: dt('inputtext.disabled.background');
        color: dt('inputtext.disabled.color');
    }

    .p-autocomplete:not(.p-disabled):hover .p-autocomplete-input-multiple {
        border-color: dt('autocomplete.hover.border.color');
    }

    .p-autocomplete:not(.p-disabled).p-focus .p-autocomplete-input-multiple {
        border-color: dt('autocomplete.focus.border.color');
        box-shadow: dt('autocomplete.focus.ring.shadow');
        outline: dt('autocomplete.focus.ring.width') dt('autocomplete.focus.ring.style') dt('autocomplete.focus.ring.color');
        outline-offset: dt('autocomplete.focus.ring.offset');
    }

    .p-autocomplete.p-invalid .p-autocomplete-input-multiple {
        border-color: dt('autocomplete.invalid.border.color');
    }

    .p-variant-filled.p-autocomplete-input-multiple {
        background: dt('autocomplete.filled.background');
    }

    .p-autocomplete:not(.p-disabled):hover .p-variant-filled.p-autocomplete-input-multiple {
        background: dt('autocomplete.filled.hover.background');
    }

    .p-autocomplete:not(.p-disabled).p-focus .p-variant-filled.p-autocomplete-input-multiple {
        background: dt('autocomplete.filled.focus.background');
    }

    .p-autocomplete.p-disabled .p-autocomplete-input-multiple {
        opacity: 1;
        background: dt('autocomplete.disabled.background');
        color: dt('autocomplete.disabled.color');
    }

    .p-autocomplete-chip.p-chip {
        padding-block-start: calc(dt('autocomplete.padding.y') / 2);
        padding-block-end: calc(dt('autocomplete.padding.y') / 2);
        border-radius: dt('autocomplete.chip.border.radius');
    }

    .p-autocomplete-input-multiple:has(.p-autocomplete-chip) {
        padding-inline-start: calc(dt('autocomplete.padding.y') / 2);
        padding-inline-end: calc(dt('autocomplete.padding.y') / 2);
    }

    .p-autocomplete-chip-item.p-focus .p-autocomplete-chip {
        background: dt('autocomplete.chip.focus.background');
        color: dt('autocomplete.chip.focus.color');
    }

    .p-autocomplete-input-chip {
        flex: 1 1 auto;
        display: inline-flex;
        padding-block-start: calc(dt('autocomplete.padding.y') / 2);
        padding-block-end: calc(dt('autocomplete.padding.y') / 2);
    }

    .p-autocomplete-input-chip input {
        border: 0 none;
        outline: 0 none;
        background: transparent;
        margin: 0;
        padding: 0;
        box-shadow: none;
        border-radius: 0;
        width: 100%;
        font-family: inherit;
        font-feature-settings: inherit;
        font-size: 1rem;
        color: inherit;
    }

    .p-autocomplete-input-chip input::placeholder {
        color: dt('autocomplete.placeholder.color');
    }

    .p-autocomplete.p-invalid .p-autocomplete-input-chip input::placeholder {
        color: dt('autocomplete.invalid.placeholder.color');
    }

    .p-autocomplete-empty-message {
        padding: dt('autocomplete.empty.message.padding');
    }

    .p-autocomplete-fluid {
        display: flex;
    }

    .p-autocomplete-fluid:has(.p-autocomplete-dropdown) .p-autocomplete-input {
        width: 1%;
    }

    .p-autocomplete:has(.p-inputtext-sm) .p-autocomplete-dropdown {
        width: dt('autocomplete.dropdown.sm.width');
    }

    .p-autocomplete:has(.p-inputtext-sm) .p-autocomplete-dropdown .p-icon {
        font-size: dt('form.field.sm.font.size');
        width: dt('form.field.sm.font.size');
        height: dt('form.field.sm.font.size');
    }

    .p-autocomplete:has(.p-inputtext-lg) .p-autocomplete-dropdown {
        width: dt('autocomplete.dropdown.lg.width');
    }

    .p-autocomplete:has(.p-inputtext-lg) .p-autocomplete-dropdown .p-icon {
        font-size: dt('form.field.lg.font.size');
        width: dt('form.field.lg.font.size');
        height: dt('form.field.lg.font.size');
    }

    .p-autocomplete-clear-icon {
        position: absolute;
        top: 50%;
        margin-top: -0.5rem;
        cursor: pointer;
        color: dt('autocomplete.dropdown.color');
        inset-inline-end: dt('autocomplete.padding.x');
    }

    .p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-clear-icon {
        inset-inline-end: calc(dt('autocomplete.padding.x') + dt('autocomplete.dropdown.width'));
    }
`;var F9=["item"],O9=["empty"],V9=["header"],z9=["footer"],B9=["selecteditem"],R9=["group"],N9=["loader"],q9=["removeicon"],j9=["loadingicon"],H9=["clearicon"],G9=["dropdownicon"],U9=["focusInput"],$9=["multiIn"],K9=["multiContainer"],W9=["ddBtn"],Q9=["items"],Z9=["scroller"],X9=["overlay"],Y9=t=>({i:t}),MI=t=>({$implicit:t}),J9=(t,s,e)=>({removeCallback:t,index:s,class:e}),Ag=t=>({height:t}),kI=(t,s)=>({$implicit:t,options:s}),eP=t=>({options:t}),tP=()=>({}),iP=(t,s,e)=>({option:t,i:s,scrollerOptions:e}),nP=(t,s)=>({$implicit:t,index:s});function aP(t,s){if(t&1){let e=Re();L(0,"input",17,2),Ie("input",function(n){Z(e);let a=M();return X(a.onInput(n))})("keydown",function(n){Z(e);let a=M();return X(a.onKeyDown(n))})("change",function(n){Z(e);let a=M();return X(a.onInputChange(n))})("focus",function(n){Z(e);let a=M();return X(a.onInputFocus(n))})("blur",function(n){Z(e);let a=M();return X(a.onInputBlur(n))})("paste",function(n){Z(e);let a=M();return X(a.onInputPaste(n))})("keyup",function(n){Z(e);let a=M();return X(a.onInputKeyUp(n))}),D()}if(t&2){let e=M();K(e.cn(e.cx("pcInputText"),e.inputStyleClass)),T("pAutoFocus",e.autofocus)("ngStyle",e.inputStyle)("variant",e.$variant())("invalid",e.invalid())("pSize",e.size())("fluid",e.hasFluid),ue("type",e.type)("value",e.inputValue())("id",e.inputId)("autocomplete",e.autocomplete)("placeholder",e.placeholder)("name",e.name())("minlength",e.minlength())("min",e.min())("max",e.max())("pattern",e.pattern())("size",e.inputSize())("maxlength",e.maxlength())("tabindex",e.$disabled()?-1:e.tabindex)("required",e.required()?"":void 0)("readonly",e.readonly?"":void 0)("disabled",e.$disabled()?"":void 0)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required())("aria-expanded",e.overlayVisible??!1)("aria-controls",e.overlayVisible?e.id+"_list":null)("aria-activedescendant",e.focused?e.focusedOptionId:void 0)}}function oP(t,s){if(t&1){let e=Re();it(),L(0,"svg",20),Ie("click",function(){Z(e);let n=M(2);return X(n.clear())}),D()}if(t&2){let e=M(2);K(e.cx("clearIcon")),ue("aria-hidden",!0)}}function rP(t,s){}function sP(t,s){t&1&&B(0,rP,0,0,"ng-template")}function lP(t,s){if(t&1){let e=Re();L(0,"span",21),Ie("click",function(){Z(e);let n=M(2);return X(n.clear())}),B(1,sP,1,0,null,22),D()}if(t&2){let e=M(2);K(e.cx("clearIcon")),ue("aria-hidden",!0),S(),T("ngTemplateOutlet",e.clearIconTemplate||e._clearIconTemplate)}}function cP(t,s){if(t&1&&(We(0),B(1,oP,1,3,"svg",18)(2,lP,2,4,"span",19),Qe()),t&2){let e=M();S(),T("ngIf",!e.clearIconTemplate&&!e._clearIconTemplate),S(),T("ngIf",e.clearIconTemplate||e._clearIconTemplate)}}function uP(t,s){t&1&&nt(0)}function dP(t,s){if(t&1){let e=Re();L(0,"span",21),Ie("click",function(n){Z(e);let a=M(2).index,p=M(2);return X(p.readonly?"":p.removeOption(n,a))}),it(),oe(1,"svg",29),D()}if(t&2){let e=M(4);K(e.cx("chipIcon")),S(),K(e.cx("chipIcon")),ue("aria-hidden",!0)}}function pP(t,s){}function hP(t,s){t&1&&B(0,pP,0,0,"ng-template")}function mP(t,s){if(t&1&&(L(0,"span"),B(1,hP,1,0,null,28),D()),t&2){let e=M(2).index,i=M(2);ue("aria-hidden",!0),S(),T("ngTemplateOutlet",i.removeIconTemplate||i._removeIconTemplate)("ngTemplateOutletContext",Ir(3,J9,i.removeOption.bind(i),e,i.cx("chipIcon")))}}function fP(t,s){if(t&1&&B(0,dP,2,5,"span",19)(1,mP,2,7,"span",13),t&2){let e=M(3);T("ngIf",!e.removeIconTemplate&&!e._removeIconTemplate),S(),T("ngIf",e.removeIconTemplate||e._removeIconTemplate)}}function gP(t,s){if(t&1){let e=Re();L(0,"li",25,4)(2,"p-chip",27),Ie("onRemove",function(n){let a=Z(e).index,p=M(2);return X(p.readonly?"":p.removeOption(n,a))}),B(3,uP,1,0,"ng-container",28)(4,fP,2,2,"ng-template",null,5,Be),D()()}if(t&2){let e=s.$implicit,i=s.index,n=M(2);K(n.cx("chipItem",rt(13,Y9,i))),ue("id",n.id+"_multiple_option_"+i)("aria-label",n.getOptionLabel(e))("aria-setsize",n.modelValue().length)("aria-posinset",i+1)("aria-selected",!0),S(2),K(n.cx("pcChip")),T("label",!n.selectedItemTemplate&&!n._selectedItemTemplate&&n.getOptionLabel(e))("removable",!0),S(),T("ngTemplateOutlet",n.selectedItemTemplate||n._selectedItemTemplate)("ngTemplateOutletContext",rt(15,MI,e))}}function _P(t,s){if(t&1){let e=Re();L(0,"ul",23,3),Ie("focus",function(n){Z(e);let a=M();return X(a.onMultipleContainerFocus(n))})("blur",function(n){Z(e);let a=M();return X(a.onMultipleContainerBlur(n))})("keydown",function(n){Z(e);let a=M();return X(a.onMultipleContainerKeyDown(n))}),B(2,gP,6,17,"li",24),L(3,"li",25)(4,"input",26,2),Ie("input",function(n){Z(e);let a=M();return X(a.onInput(n))})("keydown",function(n){Z(e);let a=M();return X(a.onKeyDown(n))})("change",function(n){Z(e);let a=M();return X(a.onInputChange(n))})("focus",function(n){Z(e);let a=M();return X(a.onInputFocus(n))})("blur",function(n){Z(e);let a=M();return X(a.onInputBlur(n))})("paste",function(n){Z(e);let a=M();return X(a.onInputPaste(n))})("keyup",function(n){Z(e);let a=M();return X(a.onInputKeyUp(n))}),D()()()}if(t&2){let e=M();K(e.cx("inputMultiple")),T("tabindex",-1),ue("aria-orientation","horizontal")("aria-activedescendant",e.focused?e.focusedMultipleOptionId:void 0),S(2),T("ngForOf",e.modelValue()),S(),K(e.cx("inputChip")),S(),K(e.cx("pcInputText")),T("pAutoFocus",e.autofocus)("ngStyle",e.inputStyle),ue("type",e.type)("id",e.inputId)("autocomplete",e.autocomplete)("name",e.name())("minlength",e.minlength())("maxlength",e.maxlength())("size",e.size())("min",e.min())("max",e.max())("pattern",e.pattern())("placeholder",e.$filled()?null:e.placeholder)("tabindex",e.$disabled()?-1:e.tabindex)("required",e.required()?"":void 0)("readonly",e.readonly?"":void 0)("disabled",e.$disabled()?"":void 0)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required())("aria-expanded",e.overlayVisible??!1)("aria-controls",e.overlayVisible?e.id+"_list":null)("aria-activedescendant",e.focused?e.focusedOptionId:void 0)}}function bP(t,s){if(t&1&&(it(),oe(0,"svg",32)),t&2){let e=M(2);K(e.cx("loader")),T("spin",!0),ue("aria-hidden",!0)}}function yP(t,s){}function vP(t,s){t&1&&B(0,yP,0,0,"ng-template")}function xP(t,s){if(t&1&&(L(0,"span"),B(1,vP,1,0,null,22),D()),t&2){let e=M(2);K(e.cx("loader")),ue("aria-hidden",!0),S(),T("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)}}function wP(t,s){if(t&1&&(We(0),B(1,bP,1,4,"svg",30)(2,xP,2,4,"span",31),Qe()),t&2){let e=M();S(),T("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),S(),T("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function IP(t,s){if(t&1&&oe(0,"span",35),t&2){let e=M(2);T("ngClass",e.dropdownIcon),ue("aria-hidden",!0)}}function TP(t,s){t&1&&(it(),oe(0,"svg",37))}function CP(t,s){}function SP(t,s){t&1&&B(0,CP,0,0,"ng-template")}function MP(t,s){if(t&1&&(We(0),B(1,TP,1,0,"svg",36)(2,SP,1,0,null,22),Qe()),t&2){let e=M(2);S(),T("ngIf",!e.dropdownIconTemplate&&!e._dropdownIconTemplate),S(),T("ngTemplateOutlet",e.dropdownIconTemplate||e._dropdownIconTemplate)}}function kP(t,s){if(t&1){let e=Re();L(0,"button",33,6),Ie("click",function(n){Z(e);let a=M();return X(a.handleDropdownClick(n))}),B(2,IP,1,2,"span",34)(3,MP,3,2,"ng-container",13),D()}if(t&2){let e=M();K(e.cx("dropdown")),T("disabled",e.$disabled()),ue("aria-label",e.dropdownAriaLabel)("tabindex",e.tabindex),S(2),T("ngIf",e.dropdownIcon),S(),T("ngIf",!e.dropdownIcon)}}function EP(t,s){t&1&&nt(0)}function PP(t,s){t&1&&nt(0)}function DP(t,s){if(t&1&&B(0,PP,1,0,"ng-container",28),t&2){let e=s.$implicit,i=s.options;M(2);let n=Ut(6);T("ngTemplateOutlet",n)("ngTemplateOutletContext",li(2,kI,e,i))}}function LP(t,s){t&1&&nt(0)}function AP(t,s){if(t&1&&B(0,LP,1,0,"ng-container",28),t&2){let e=s.options,i=M(4);T("ngTemplateOutlet",i.loaderTemplate||i._loaderTemplate)("ngTemplateOutletContext",rt(2,eP,e))}}function FP(t,s){t&1&&(We(0),B(1,AP,1,4,"ng-template",null,9,Be),Qe())}function OP(t,s){if(t&1){let e=Re();L(0,"p-scroller",41,8),Ie("onLazyLoad",function(n){Z(e);let a=M(2);return X(a.onLazyLoad.emit(n))}),B(2,DP,1,5,"ng-template",null,1,Be)(4,FP,3,0,"ng-container",13),D()}if(t&2){let e=M(2);Ft(rt(8,Ag,e.scrollHeight)),T("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),S(4),T("ngIf",e.loaderTemplate||e._loaderTemplate)}}function VP(t,s){t&1&&nt(0)}function zP(t,s){if(t&1&&(We(0),B(1,VP,1,0,"ng-container",28),Qe()),t&2){M();let e=Ut(6),i=M();S(),T("ngTemplateOutlet",e)("ngTemplateOutletContext",li(3,kI,i.visibleOptions(),Kt(2,tP)))}}function BP(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(2).$implicit,i=M(3);S(),Dt(i.getOptionGroupLabel(e.optionGroup))}}function RP(t,s){t&1&&nt(0)}function NP(t,s){if(t&1&&(We(0),L(1,"li",45),B(2,BP,2,1,"span",13)(3,RP,1,0,"ng-container",28),D(),Qe()),t&2){let e=M(),i=e.$implicit,n=e.index,a=M().options,p=M(2);S(),K(p.cx("optionGroup")),T("ngStyle",rt(7,Ag,a.itemSize+"px")),ue("id",p.id+"_"+p.getOptionIndex(n,a)),S(),T("ngIf",!p.groupTemplate),S(),T("ngTemplateOutlet",p.groupTemplate)("ngTemplateOutletContext",rt(9,MI,i.optionGroup))}}function qP(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(2).$implicit,i=M(3);S(),Dt(i.getOptionLabel(e))}}function jP(t,s){t&1&&nt(0)}function HP(t,s){if(t&1){let e=Re();We(0),L(1,"li",46),Ie("click",function(n){Z(e);let a=M().$implicit,p=M(3);return X(p.onOptionSelect(n,a))})("mouseenter",function(n){Z(e);let a=M().index,p=M().options,y=M(2);return X(y.onOptionMouseEnter(n,y.getOptionIndex(a,p)))}),B(2,qP,2,1,"span",13)(3,jP,1,0,"ng-container",28),D(),Qe()}if(t&2){let e=M(),i=e.$implicit,n=e.index,a=M().options,p=M(2);S(),K(p.cx("option",Ir(13,iP,i,n,a))),T("ngStyle",rt(17,Ag,a.itemSize+"px")),ue("id",p.id+"_"+p.getOptionIndex(n,a))("aria-label",p.getOptionLabel(i))("aria-selected",p.isSelected(i))("aria-disabled",p.isOptionDisabled(i))("data-p-focused",p.focusedOptionIndex()===p.getOptionIndex(n,a))("aria-setsize",p.ariaSetSize)("aria-posinset",p.getAriaPosInset(p.getOptionIndex(n,a))),S(),T("ngIf",!p.itemTemplate&&!p._itemTemplate),S(),T("ngTemplateOutlet",p.itemTemplate||p._itemTemplate)("ngTemplateOutletContext",li(19,nP,i,a.getOptions?a.getOptions(n):n))}}function GP(t,s){if(t&1&&B(0,NP,4,11,"ng-container",13)(1,HP,4,22,"ng-container",13),t&2){let e=s.$implicit,i=M(3);T("ngIf",i.isOptionGroup(e)),S(),T("ngIf",!i.isOptionGroup(e))}}function UP(t,s){if(t&1&&(We(0),ne(1),Qe()),t&2){let e=M(4);S(),ni(" ",e.searchResultMessageText," ")}}function $P(t,s){t&1&&nt(0,null,11)}function KP(t,s){if(t&1&&(L(0,"li",45),B(1,UP,2,1,"ng-container",47)(2,$P,2,0,"ng-container",22),D()),t&2){let e=M().options,i=M(2);K(i.cx("emptyMessage")),T("ngStyle",rt(6,Ag,e.itemSize+"px")),S(),T("ngIf",!i.emptyTemplate&&!i._emptyTemplate)("ngIfElse",i.empty),S(),T("ngTemplateOutlet",i.emptyTemplate||i._emptyTemplate)}}function WP(t,s){if(t&1&&(L(0,"ul",42,10),B(2,GP,2,2,"ng-template",43)(3,KP,3,8,"li",44),D()),t&2){let e=s.$implicit,i=s.options,n=M(2);Ft(i.contentStyle),K(n.cn(n.cx("list"),i.contentStyleClass)),ue("id",n.id+"_list")("aria-label",n.listLabel),S(2),T("ngForOf",e),S(),T("ngIf",!e||e&&e.length===0&&n.showEmptyMessage)}}function QP(t,s){t&1&&nt(0)}function ZP(t,s){if(t&1&&(L(0,"div",38),B(1,EP,1,0,"ng-container",22),L(2,"div"),B(3,OP,5,10,"p-scroller",39)(4,zP,2,6,"ng-container",13),D(),B(5,WP,4,8,"ng-template",null,7,Be)(7,QP,1,0,"ng-container",22),D(),L(8,"span",40),ne(9),D()),t&2){let e=M();K(e.cn(e.cx("overlay"),e.panelStyleClass)),T("ngStyle",e.panelStyle),S(),T("ngTemplateOutlet",e.headerTemplate||e._headerTemplate),S(),K(e.cx("listContainer")),Zn("max-height",e.virtualScroll?"auto":e.scrollHeight),S(),T("ngIf",e.virtualScroll),S(),T("ngIf",!e.virtualScroll),S(3),T("ngTemplateOutlet",e.footerTemplate||e._footerTemplate),S(2),ni(" ",e.selectedMessageText," ")}}var XP=`
    ${CI}

    /* For PrimeNG */
    p-autoComplete.ng-invalid.ng-dirty .p-autocomplete-input,
    p-autoComplete.ng-invalid.ng-dirty .p-autocomplete-input-multiple,
    p-auto-complete.ng-invalid.ng-dirty .p-autocomplete-input,
    p-auto-complete.ng-invalid.ng-dirty .p-autocomplete-input-multiple p-autocomplete.ng-invalid.ng-dirty .p-autocomplete-input,
    p-autocomplete.ng-invalid.ng-dirty .p-autocomplete-input-multiple {
        border-color: dt('autocomplete.invalid.border.color');
    }

    p-autoComplete.ng-invalid.ng-dirty .p-autocomplete-input:enabled:focus,
    p-autoComplete.ng-invalid.ng-dirty:not(.p-disabled).p-focus .p-autocomplete-input-multiple,
    p-auto-complete.ng-invalid.ng-dirty .p-autocomplete-input:enabled:focus,
    p-auto-complete.ng-invalid.ng-dirty:not(.p-disabled).p-focus .p-autocomplete-input-multiple,
    p-autocomplete.ng-invalid.ng-dirty .p-autocomplete-input:enabled:focus,
    p-autocomplete.ng-invalid.ng-dirty:not(.p-disabled).p-focus .p-autocomplete-input-multiple {
        border-color: dt('autocomplete.focus.border.color');
    }

    p-autoComplete.ng-invalid.ng-dirty .p-autocomplete-input-chip input::placeholder,
    p-auto-complete.ng-invalid.ng-dirty .p-autocomplete-input-chip input::placeholder,
    p-autocomplete.ng-invalid.ng-dirty .p-autocomplete-input-chip input::placeholder {
        color: dt('autocomplete.invalid.placeholder.color');
    }

    p-autoComplete.ng-invalid.ng-dirty .p-autocomplete-input::placeholder,
    p-auto-complete.ng-invalid.ng-dirty .p-autocomplete-input::placeholder,
    p-autocomplete.ng-invalid.ng-dirty .p-autocomplete-input::placeholder {
        color: dt('autocomplete.invalid.placeholder.color');
    }
`,YP={root:{position:"relative"}},JP={root:({instance:t})=>["p-autocomplete p-component p-inputwrapper",{"p-invalid":t.invalid(),"p-focus":t.focused,"p-inputwrapper-filled":t.$filled(),"p-inputwrapper-focus":t.focused&&!t.$disabled()||t.autofocus||t.overlayVisible,"p-autocomplete-open":t.overlayVisible,"p-autocomplete-clearable":t.showClear&&!t.$disabled(),"p-autocomplete-fluid":t.hasFluid}],pcInputText:"p-autocomplete-input",inputMultiple:({instance:t})=>["p-autocomplete-input-multiple",{"p-disabled":t.$disabled(),"p-variant-filled":t.$variant()==="filled"}],chipItem:({instance:t,i:s})=>["p-autocomplete-chip-item",{"p-focus":t.focusedMultipleOptionIndex()===s}],pcChip:"p-autocomplete-chip",chipIcon:"p-autocomplete-chip-icon",inputChip:"p-autocomplete-input-chip",loader:"p-autocomplete-loader",dropdown:"p-autocomplete-dropdown",overlay:({instance:t})=>["p-autocomplete-overlay p-component-overlay p-component",{"p-input-filled":t.$variant()==="filled","p-ripple-disabled":t.config.ripple()===!1}],listContainer:"p-autocomplete-list-container",list:"p-autocomplete-list",optionGroup:"p-autocomplete-option-group",option:({instance:t,option:s,i:e,scrollerOptions:i})=>({"p-autocomplete-option":!0,"p-autocomplete-option-selected":t.isSelected(s),"p-focus":t.focusedOptionIndex()===t.getOptionIndex(e,i),"p-disabled":t.isOptionDisabled(s)}),emptyMessage:"p-autocomplete-empty-message",clearIcon:"p-autocomplete-clear-icon"},SI=(()=>{class t extends Vt{name="autocomplete";theme=XP;classes=JP;inlineStyles=YP;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var eD={provide:Eo,useExisting:nn(()=>Fg),multi:!0},Fg=(()=>{class t extends ow{overlayService;zone;minLength=1;minQueryLength;delay=300;panelStyle;styleClass;panelStyleClass;inputStyle;inputId;inputStyleClass;placeholder;readonly;scrollHeight="200px";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;autoHighlight;forceSelection;type="text";autoZIndex=!0;baseZIndex=0;ariaLabel;dropdownAriaLabel;ariaLabelledBy;dropdownIcon;unique=!0;group;completeOnFocus=!1;showClear=!1;dropdown;showEmptyMessage=!0;dropdownMode="blank";multiple;tabindex;dataKey;emptyMessage;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autofocus;autocomplete="off";optionGroupChildren="items";optionGroupLabel="label";overlayOptions;get suggestions(){return this._suggestions()}set suggestions(e){this._suggestions.set(e),this.handleSuggestionsChange()}optionLabel;optionValue;id;searchMessage;emptySelectionMessage;selectionMessage;autoOptionFocus=!1;selectOnFocus;searchLocale;optionDisabled;focusOnHover=!0;typeahead=!0;appendTo=sn(void 0);completeMethod=new Fe;onSelect=new Fe;onUnselect=new Fe;onFocus=new Fe;onBlur=new Fe;onDropdownClick=new Fe;onClear=new Fe;onKeyUp=new Fe;onShow=new Fe;onHide=new Fe;onLazyLoad=new Fe;inputEL;multiInputEl;multiContainerEL;dropdownButton;itemsViewChild;scroller;overlayViewChild;itemsWrapper;itemTemplate;emptyTemplate;headerTemplate;footerTemplate;selectedItemTemplate;groupTemplate;loaderTemplate;removeIconTemplate;loadingIconTemplate;clearIconTemplate;dropdownIconTemplate;onHostClick(e){this.onContainerClick(e)}primeng=lt(Bx);value;_suggestions=Ei(null);timeout;overlayVisible;suggestionsUpdated;highlightOption;highlightOptionChanged;focused=!1;loading;scrollHandler;listId;searchTimeout;dirty=!1;_itemTemplate;_groupTemplate;_selectedItemTemplate;_headerTemplate;_emptyTemplate;_footerTemplate;_loaderTemplate;_removeIconTemplate;_loadingIconTemplate;_clearIconTemplate;_dropdownIconTemplate;focusedMultipleOptionIndex=Ei(-1);focusedOptionIndex=Ei(-1);_componentStyle=lt(SI);$appendTo=Vi(()=>this.appendTo()||this.config.overlayAppendTo());visibleOptions=Vi(()=>this.group?this.flatOptions(this._suggestions()):this._suggestions()||[]);inputValue=Vi(()=>{let e=this.modelValue(),i=this.optionValueSelected?(this.suggestions||[]).find(n=>Ai(n,this.optionValue)===e):e;if(Gt(e))if(typeof e=="object"||this.optionValueSelected){let n=this.getOptionLabel(i);return n??e}else return e;else return""});get focusedMultipleOptionId(){return this.focusedMultipleOptionIndex()!==-1?`${this.id}_multiple_option_${this.focusedMultipleOptionIndex()}`:null}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}get searchResultMessageText(){return Gt(this.visibleOptions())&&this.overlayVisible?this.searchMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptySearchMessageText}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptySearchMessageText(){return this.emptyMessage||this.config.translation.emptySearchMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption()?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue()?.length:"1"):this.emptySelectionMessageText}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}get listLabel(){return this.config.getTranslation(_o.ARIA).listLabel}get virtualScrollerDisabled(){return!this.virtualScroll}get optionValueSelected(){return typeof this.modelValue()=="string"&&this.optionValue}chipItemClass(e){return this._componentStyle.classes.chipItem({instance:this,i:e})}constructor(e,i){super(),this.overlayService=e,this.zone=i}ngOnInit(){super.ngOnInit(),this.id=this.id||xi("pn_id_"),this.cd.detectChanges()}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break;case"group":this._groupTemplate=e.template;break;case"selecteditem":this._selectedItemTemplate=e.template;break;case"selectedItem":this._selectedItemTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"empty":this._emptyTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;case"removetokenicon":this._removeIconTemplate=e.template;break;case"loadingicon":this._loadingIconTemplate=e.template;break;case"clearicon":this._clearIconTemplate=e.template;break;case"dropdownicon":this._dropdownIconTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlayViewChild&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1),this.suggestionsUpdated=!1})}handleSuggestionsChange(){if(this.loading){this._suggestions()?.length>0||this.showEmptyMessage||this.emptyTemplate?this.show():this.hide();let e=this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(e),this.suggestionsUpdated=!0,this.loading=!1,this.cd.markForCheck()}}flatOptions(e){return(e||[]).reduce((i,n,a)=>{i.push({optionGroup:n,group:!0,index:a});let p=this.getOptionGroupChildren(n);return p&&p.forEach(y=>i.push(y)),i},[])}isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findLastOptionIndex(){return Xn(this.visibleOptions(),e=>this.isValidOption(e))}findFirstFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findLastFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let i=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(n=>this.isValidOption(n)):-1;return i>-1?i+e+1:e}findPrevOptionIndex(e){let i=e>0?Xn(this.visibleOptions().slice(0,e),n=>this.isValidOption(n)):-1;return i>-1?i:e}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionDisabled(e){return this.optionDisabled?Ai(e,this.optionDisabled):!1}isSelected(e){return this.multiple?this.unique?this.modelValue()?.find(i=>Ha(i,this.getOptionValue(e),this.equalityKey())):!1:Ha(this.modelValue(),this.getOptionValue(e),this.equalityKey())}isOptionMatched(e,i){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.searchLocale)===i.toLocaleLowerCase(this.searchLocale)}isInputClicked(e){return e.target===this.inputEL.nativeElement}isDropdownClicked(e){return this.dropdownButton?.nativeElement?e.target===this.dropdownButton.nativeElement||this.dropdownButton.nativeElement.contains(e.target):!1}equalityKey(){return this.dataKey}onContainerClick(e){this.$disabled()||this.loading||this.isInputClicked(e)||this.isDropdownClicked(e)||(!this.overlayViewChild||!this.overlayViewChild.overlayViewChild?.nativeElement.contains(e.target))&&Wt(this.inputEL.nativeElement)}handleDropdownClick(e){let i;this.overlayVisible?this.hide(!0):(Wt(this.inputEL.nativeElement),i=this.inputEL.nativeElement.value,this.dropdownMode==="blank"?this.search(e,"","dropdown"):this.dropdownMode==="current"&&this.search(e,i,"dropdown")),this.onDropdownClick.emit({originalEvent:e,query:i})}onInput(e){if(this.typeahead){let i=this.minQueryLength||this.minLength;this.searchTimeout&&clearTimeout(this.searchTimeout);let n=e.target.value;this.maxlength()!==null&&(n=n.split("").slice(0,this.maxlength()).join("")),!this.multiple&&!this.forceSelection&&this.updateModel(n),n.length===0&&!this.multiple?(this.onClear.emit(),setTimeout(()=>{this.hide()},this.delay/2)):n.length>=i?(this.focusedOptionIndex.set(-1),this.searchTimeout=setTimeout(()=>{this.search(e,n,"input")},this.delay)):this.hide()}}onInputChange(e){if(this.forceSelection){let i=!1;if(this.visibleOptions()){let n=this.visibleOptions().find(a=>this.isOptionMatched(a,this.inputEL.nativeElement.value||""));n!==void 0&&(i=!0,!this.isSelected(n)&&this.onOptionSelect(e,n))}i||(this.inputEL.nativeElement.value="",!this.multiple&&this.updateModel(null))}}onInputFocus(e){if(this.$disabled())return;!this.dirty&&this.completeOnFocus&&this.search(e,e.target.value,"focus"),this.dirty=!0,this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(e)}onMultipleContainerFocus(e){this.$disabled()||(this.focused=!0)}onMultipleContainerBlur(e){this.focusedMultipleOptionIndex.set(-1),this.focused=!1}onMultipleContainerKeyDown(e){if(this.$disabled()){e.preventDefault();return}switch(e.code){case"ArrowLeft":this.onArrowLeftKeyOnMultiple(e);break;case"ArrowRight":this.onArrowRightKeyOnMultiple(e);break;case"Backspace":this.onBackspaceKeyOnMultiple(e);break;default:break}}onInputBlur(e){this.dirty=!1,this.focused=!1,this.focusedOptionIndex.set(-1),this.onModelTouched(),this.onBlur.emit(e)}onInputPaste(e){this.onKeyDown(e)}onInputKeyUp(e){this.onKeyUp.emit(e)}onKeyDown(e){if(this.$disabled()){e.preventDefault();return}switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e);break;case"ShiftLeft":case"ShiftRight":break;default:break}}onArrowDownKey(e){if(!this.overlayVisible)return;let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,i),e.preventDefault(),e.stopPropagation()}onArrowUpKey(e){if(this.overlayVisible)if(e.altKey)this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide(),e.preventDefault();else{let i=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,i),e.preventDefault(),e.stopPropagation()}}onArrowLeftKey(e){let i=e.currentTarget;this.focusedOptionIndex.set(-1),this.multiple&&(dn(i.value)&&this.hasSelectedOption()?(Wt(this.multiContainerEL.nativeElement),this.focusedMultipleOptionIndex.set(this.modelValue().length)):e.stopPropagation())}onArrowRightKey(e){this.focusedOptionIndex.set(-1),this.multiple&&e.stopPropagation()}onHomeKey(e){let{currentTarget:i}=e,n=i.value.length;i.setSelectionRange(0,e.shiftKey?n:0),this.focusedOptionIndex.set(-1),e.preventDefault()}onEndKey(e){let{currentTarget:i}=e,n=i.value.length;i.setSelectionRange(e.shiftKey?0:n,n),this.focusedOptionIndex.set(-1),e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onEnterKey(e){if(this.typeahead||this.multiple&&(this.updateModel([...this.modelValue()||[],e.target.value]),this.inputEL.nativeElement.value=""),this.overlayVisible)this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.hide();else return;e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onTabKey(e){this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide()}onBackspaceKey(e){if(this.multiple){if(Gt(this.modelValue())&&!this.inputEL.nativeElement.value){let i=this.modelValue()[this.modelValue().length-1],n=this.modelValue().slice(0,-1);this.updateModel(n),this.onUnselect.emit({originalEvent:e,value:i})}e.stopPropagation()}!this.multiple&&this.showClear&&this.findSelectedOptionIndex()!=-1&&this.clear()}onArrowLeftKeyOnMultiple(e){let i=this.focusedMultipleOptionIndex()<1?0:this.focusedMultipleOptionIndex()-1;this.focusedMultipleOptionIndex.set(i)}onArrowRightKeyOnMultiple(e){let i=this.focusedMultipleOptionIndex();i++,this.focusedMultipleOptionIndex.set(i),i>this.modelValue().length-1&&(this.focusedMultipleOptionIndex.set(-1),Wt(this.inputEL.nativeElement))}onBackspaceKeyOnMultiple(e){this.focusedMultipleOptionIndex()!==-1&&this.removeOption(e,this.focusedMultipleOptionIndex())}onOptionSelect(e,i,n=!0){let a=this.getOptionValue(i);this.multiple?(this.inputEL.nativeElement.value="",this.isSelected(i)||this.updateModel([...this.modelValue()||[],a])):this.updateModel(a),this.onSelect.emit({originalEvent:e,value:i}),n&&this.hide(!0)}onOptionMouseEnter(e,i){this.focusOnHover&&this.changeFocusedOptionIndex(e,i)}search(e,i,n){i!=null&&(n==="input"&&i.trim().length===0||(this.loading=!0,this.completeMethod.emit({originalEvent:e,query:i})))}removeOption(e,i){e.stopPropagation();let n=this.modelValue()[i],a=this.modelValue().filter((p,y)=>y!==i);this.updateModel(a),this.onUnselect.emit({originalEvent:e,value:n}),Wt(this.inputEL.nativeElement)}updateModel(e){this.value=e,this.writeModelValue(e),this.onModelChange(e),this.updateInputValue(),this.cd.markForCheck()}updateInputValue(){this.inputEL&&this.inputEL.nativeElement&&(this.multiple?this.inputEL.nativeElement.value="":this.inputEL.nativeElement.value=this.inputValue())}autoUpdateModel(){if((this.selectOnFocus||this.autoHighlight)&&this.autoOptionFocus&&!this.hasSelectedOption()){let e=this.findFirstFocusedOptionIndex();this.focusedOptionIndex.set(e),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)}}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let n=ti(this.itemsViewChild.nativeElement,`li[id="${i}"]`);n?n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}changeFocusedOptionIndex(e,i){this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions()[i],!1))}show(e=!1){this.dirty=!0,this.overlayVisible=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),e&&Wt(this.inputEL.nativeElement),e&&Wt(this.inputEL.nativeElement),this.onShow.emit(),this.cd.markForCheck()}hide(e=!1){let i=()=>{this.dirty=e,this.overlayVisible=!1,this.focusedOptionIndex.set(-1),e&&Wt(this.inputEL.nativeElement),this.onHide.emit(),this.cd.markForCheck()};setTimeout(()=>{i()},0)}clear(){this.updateModel(null),this.inputEL.nativeElement.value="",this.onClear.emit()}hasSelectedOption(){return Gt(this.modelValue())}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(i=>this.isOptionGroup(i)).length:e)+1}getOptionLabel(e){return this.optionLabel?Ai(e,this.optionLabel):e&&e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?Ai(e,this.optionValue):e&&e.value!=null?e.value:e}getOptionIndex(e,i){return this.virtualScrollerDisabled?e:i&&i.getItemOptions(e).index}getOptionGroupLabel(e){return this.optionGroupLabel?Ai(e,this.optionGroupLabel):e&&e.label!=null?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?Ai(e,this.optionGroupChildren):e.items}onOverlayAnimationStart(e){if(e.toState==="visible"&&(this.itemsWrapper=ti(this.overlayViewChild.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-autocomplete-panel"),this.virtualScroll&&(this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.scroller.viewInit()),this.visibleOptions()&&this.visibleOptions().length))if(this.virtualScroll){let i=this.modelValue()?this.focusedOptionIndex():-1;i!==-1&&this.scroller?.scrollToIndex(i)}else{let i=ti(this.itemsWrapper,".p-autocomplete-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"center"})}}writeControlValue(e,i){this.value=e,i(e),this.updateInputValue(),this.cd.markForCheck()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||t)(At(Br),At(fo))};static \u0275cmp=Je({type:t,selectors:[["p-autoComplete"],["p-autocomplete"],["p-auto-complete"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,F9,5),ve(a,O9,5),ve(a,V9,5),ve(a,z9,5),ve(a,B9,5),ve(a,R9,5),ve(a,N9,5),ve(a,q9,5),ve(a,j9,5),ve(a,H9,5),ve(a,G9,5),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.itemTemplate=p.first),le(p=ce())&&(n.emptyTemplate=p.first),le(p=ce())&&(n.headerTemplate=p.first),le(p=ce())&&(n.footerTemplate=p.first),le(p=ce())&&(n.selectedItemTemplate=p.first),le(p=ce())&&(n.groupTemplate=p.first),le(p=ce())&&(n.loaderTemplate=p.first),le(p=ce())&&(n.removeIconTemplate=p.first),le(p=ce())&&(n.loadingIconTemplate=p.first),le(p=ce())&&(n.clearIconTemplate=p.first),le(p=ce())&&(n.dropdownIconTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&(dt(U9,5),dt($9,5),dt(K9,5),dt(W9,5),dt(Q9,5),dt(Z9,5),dt(X9,5)),i&2){let a;le(a=ce())&&(n.inputEL=a.first),le(a=ce())&&(n.multiInputEl=a.first),le(a=ce())&&(n.multiContainerEL=a.first),le(a=ce())&&(n.dropdownButton=a.first),le(a=ce())&&(n.itemsViewChild=a.first),le(a=ce())&&(n.scroller=a.first),le(a=ce())&&(n.overlayViewChild=a.first)}},hostVars:4,hostBindings:function(i,n){i&1&&Ie("click",function(p){return n.onHostClick(p)}),i&2&&(Ft(n.sx("root")),K(n.cn(n.cx("root"),n.styleClass)))},inputs:{minLength:[2,"minLength","minLength",Tt],minQueryLength:[2,"minQueryLength","minQueryLength",Tt],delay:[2,"delay","delay",Tt],panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:[2,"readonly","readonly",we],scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",we],virtualScroll:[2,"virtualScroll","virtualScroll",we],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Tt],virtualScrollOptions:"virtualScrollOptions",autoHighlight:[2,"autoHighlight","autoHighlight",we],forceSelection:[2,"forceSelection","forceSelection",we],type:"type",autoZIndex:[2,"autoZIndex","autoZIndex",we],baseZIndex:[2,"baseZIndex","baseZIndex",Tt],ariaLabel:"ariaLabel",dropdownAriaLabel:"dropdownAriaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:[2,"unique","unique",we],group:[2,"group","group",we],completeOnFocus:[2,"completeOnFocus","completeOnFocus",we],showClear:[2,"showClear","showClear",we],dropdown:[2,"dropdown","dropdown",we],showEmptyMessage:[2,"showEmptyMessage","showEmptyMessage",we],dropdownMode:"dropdownMode",multiple:[2,"multiple","multiple",we],tabindex:[2,"tabindex","tabindex",Tt],dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:[2,"autofocus","autofocus",we],autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",overlayOptions:"overlayOptions",suggestions:"suggestions",optionLabel:"optionLabel",optionValue:"optionValue",id:"id",searchMessage:"searchMessage",emptySelectionMessage:"emptySelectionMessage",selectionMessage:"selectionMessage",autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",we],selectOnFocus:[2,"selectOnFocus","selectOnFocus",we],searchLocale:[2,"searchLocale","searchLocale",we],optionDisabled:"optionDisabled",focusOnHover:[2,"focusOnHover","focusOnHover",we],typeahead:[2,"typeahead","typeahead",we],appendTo:[1,"appendTo"]},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide",onLazyLoad:"onLazyLoad"},features:[bt([eD,SI]),gt],decls:9,vars:12,consts:[["overlay",""],["content",""],["focusInput",""],["multiContainer",""],["token",""],["removeicon",""],["ddBtn",""],["buildInItems",""],["scroller",""],["loader",""],["items",""],["empty",""],["pInputText","","aria-autocomplete","list","role","combobox",3,"pAutoFocus","class","ngStyle","variant","invalid","pSize","fluid","input","keydown","change","focus","blur","paste","keyup",4,"ngIf"],[4,"ngIf"],["role","listbox",3,"class","tabindex","focus","blur","keydown",4,"ngIf"],["type","button","pRipple","",3,"class","disabled","click",4,"ngIf"],[3,"visibleChange","onAnimationStart","onHide","hostAttrSelector","visible","options","target","appendTo","showTransitionOptions","hideTransitionOptions"],["pInputText","","aria-autocomplete","list","role","combobox",3,"input","keydown","change","focus","blur","paste","keyup","pAutoFocus","ngStyle","variant","invalid","pSize","fluid"],["data-p-icon","times",3,"class","click",4,"ngIf"],[3,"class","click",4,"ngIf"],["data-p-icon","times",3,"click"],[3,"click"],[4,"ngTemplateOutlet"],["role","listbox",3,"focus","blur","keydown","tabindex"],["role","option",3,"class",4,"ngFor","ngForOf"],["role","option"],["role","combobox","aria-autocomplete","list",3,"input","keydown","change","focus","blur","paste","keyup","pAutoFocus","ngStyle"],[3,"onRemove","label","removable"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","times-circle"],["data-p-icon","spinner",3,"class","spin",4,"ngIf"],[3,"class",4,"ngIf"],["data-p-icon","spinner",3,"spin"],["type","button","pRipple","",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["data-p-icon","chevron-down",4,"ngIf"],["data-p-icon","chevron-down"],[3,"ngStyle"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["role","status","aria-live","polite",1,"p-hidden-accessible"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["role","listbox"],["ngFor","",3,"ngForOf"],["role","option",3,"class","ngStyle",4,"ngIf"],["role","option",3,"ngStyle"],["pRipple","","role","option",3,"click","mouseenter","ngStyle"],[4,"ngIf","ngIfElse"]],template:function(i,n){if(i&1){let a=Re();B(0,aP,2,30,"input",12)(1,cP,3,2,"ng-container",13)(2,_P,6,33,"ul",14)(3,wP,3,2,"ng-container",13)(4,kP,4,7,"button",15),L(5,"p-overlay",16,0),si("visibleChange",function(y){return Z(a),ri(n.overlayVisible,y)||(n.overlayVisible=y),X(y)}),Ie("onAnimationStart",function(y){return Z(a),X(n.onOverlayAnimationStart(y))})("onHide",function(){return Z(a),X(n.hide())}),B(7,ZP,10,12,"ng-template",null,1,Be),D()}i&2&&(T("ngIf",!n.multiple),S(),T("ngIf",n.$filled()&&!n.$disabled()&&n.showClear&&!n.loading),S(),T("ngIf",n.multiple),S(),T("ngIf",n.loading),S(),T("ngIf",n.dropdown),S(),T("hostAttrSelector",n.attrSelector),oi("visible",n.overlayVisible),T("options",n.overlayOptions)("target","@parent")("appendTo",n.$appendTo())("showTransitionOptions",n.showTransitionOptions)("hideTransitionOptions",n.hideTransitionOptions))},dependencies:[mt,Ca,ji,$t,ei,bi,up,sa,pn,Jr,ko,Qx,Ss,Ma,dc,Xe,Mr],encapsulation:2,changeDetection:0})}return t})(),EI=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[Fg,Xe]})}return t})();var PI=`
    .p-slider {
        display: block;
        position: relative;
        background: dt('slider.track.background');
        border-radius: dt('slider.track.border.radius');
    }

    .p-slider-handle {
        cursor: grab;
        touch-action: none;
        user-select: none;
        display: flex;
        justify-content: center;
        align-items: center;
        height: dt('slider.handle.height');
        width: dt('slider.handle.width');
        background: dt('slider.handle.background');
        border-radius: dt('slider.handle.border.radius');
        transition:
            background dt('slider.transition.duration'),
            color dt('slider.transition.duration'),
            border-color dt('slider.transition.duration'),
            box-shadow dt('slider.transition.duration'),
            outline-color dt('slider.transition.duration');
        outline-color: transparent;
    }

    .p-slider-handle::before {
        content: '';
        width: dt('slider.handle.content.width');
        height: dt('slider.handle.content.height');
        display: block;
        background: dt('slider.handle.content.background');
        border-radius: dt('slider.handle.content.border.radius');
        box-shadow: dt('slider.handle.content.shadow');
        transition: background dt('slider.transition.duration');
    }

    .p-slider:not(.p-disabled) .p-slider-handle:hover {
        background: dt('slider.handle.hover.background');
    }

    .p-slider:not(.p-disabled) .p-slider-handle:hover::before {
        background: dt('slider.handle.content.hover.background');
    }

    .p-slider-handle:focus-visible {
        box-shadow: dt('slider.handle.focus.ring.shadow');
        outline: dt('slider.handle.focus.ring.width') dt('slider.handle.focus.ring.style') dt('slider.handle.focus.ring.color');
        outline-offset: dt('slider.handle.focus.ring.offset');
    }

    .p-slider-range {
        display: block;
        background: dt('slider.range.background');
        border-radius: dt('slider.track.border.radius');
    }

    .p-slider.p-slider-horizontal {
        height: dt('slider.track.size');
    }

    .p-slider-horizontal .p-slider-range {
        inset-block-start: 0;
        inset-inline-start: 0;
        height: 100%;
    }

    .p-slider-horizontal .p-slider-handle {
        inset-block-start: 50%;
        margin-block-start: calc(-1 * calc(dt('slider.handle.height') / 2));
        margin-inline-start: calc(-1 * calc(dt('slider.handle.width') / 2));
    }

    .p-slider-vertical {
        min-height: 100px;
        width: dt('slider.track.size');
    }

    .p-slider-vertical .p-slider-handle {
        inset-inline-start: 50%;
        margin-inline-start: calc(-1 * calc(dt('slider.handle.width') / 2));
        margin-block-end: calc(-1 * calc(dt('slider.handle.height') / 2));
    }

    .p-slider-vertical .p-slider-range {
        inset-block-end: 0;
        inset-inline-start: 0;
        width: 100%;
    }
`;var iD=["sliderHandle"],nD=["sliderHandleStart"],aD=["sliderHandleEnd"],oD=(t,s)=>({position:"absolute","inset-inline-start":t,width:s}),rD=(t,s)=>({position:"absolute",bottom:t,height:s}),sD=t=>({position:"absolute",height:t}),lD=t=>({position:"absolute",width:t}),py=(t,s)=>({position:"absolute","inset-inline-start":t,bottom:s});function cD(t,s){if(t&1&&oe(0,"span",7),t&2){let e=M();K(e.cx("range")),T("ngStyle",li(4,oD,e.offset!==null&&e.offset!==void 0?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%")),ue("data-pc-section","range")}}function uD(t,s){if(t&1&&oe(0,"span",7),t&2){let e=M();K(e.cx("range")),T("ngStyle",li(4,rD,e.offset!==null&&e.offset!==void 0?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%")),ue("data-pc-section","range")}}function dD(t,s){if(t&1&&oe(0,"span",7),t&2){let e=M();K(e.cx("range")),T("ngStyle",rt(4,sD,e.handleValue+"%")),ue("data-pc-section","range")}}function pD(t,s){if(t&1&&oe(0,"span",7),t&2){let e=M();K(e.cx("range")),T("ngStyle",rt(4,lD,e.handleValue+"%")),ue("data-pc-section","range")}}function hD(t,s){if(t&1){let e=Re();L(0,"span",8,0),Ie("touchstart",function(n){Z(e);let a=M();return X(a.onDragStart(n))})("touchmove",function(n){Z(e);let a=M();return X(a.onDrag(n))})("touchend",function(n){Z(e);let a=M();return X(a.onDragEnd(n))})("mousedown",function(n){Z(e);let a=M();return X(a.onMouseDown(n))})("keydown",function(n){Z(e);let a=M();return X(a.onKeyDown(n))}),D()}if(t&2){let e=M();K(e.cx("handle")),Zn("transition",e.dragging?"none":null),T("ngStyle",li(14,py,e.orientation=="horizontal"?e.handleValue+"%":null,e.orientation=="vertical"?e.handleValue+"%":null))("pAutoFocus",e.autofocus),ue("tabindex",e.$disabled()?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","handle")}}function mD(t,s){if(t&1){let e=Re();L(0,"span",9,1),Ie("keydown",function(n){Z(e);let a=M();return X(a.onKeyDown(n,0))})("mousedown",function(n){Z(e);let a=M();return X(a.onMouseDown(n,0))})("touchstart",function(n){Z(e);let a=M();return X(a.onDragStart(n,0))})("touchmove",function(n){Z(e);let a=M();return X(a.onDrag(n))})("touchend",function(n){Z(e);let a=M();return X(a.onDragEnd(n))}),D()}if(t&2){let e=M();K(e.cn(e.cx("handle"),e.handleIndex==0&&"p-slider-handle-active")),Zn("transition",e.dragging?"none":null),T("ngStyle",li(14,py,e.rangeStartLeft,e.rangeStartBottom))("pAutoFocus",e.autofocus),ue("tabindex",e.$disabled()?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[0]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","startHandler")}}function fD(t,s){if(t&1){let e=Re();L(0,"span",10,2),Ie("keydown",function(n){Z(e);let a=M();return X(a.onKeyDown(n,1))})("mousedown",function(n){Z(e);let a=M();return X(a.onMouseDown(n,1))})("touchstart",function(n){Z(e);let a=M();return X(a.onDragStart(n,1))})("touchmove",function(n){Z(e);let a=M();return X(a.onDrag(n))})("touchend",function(n){Z(e);let a=M();return X(a.onDragEnd(n))}),D()}if(t&2){let e=M();K(e.cn(e.cx("handle"),e.handleIndex==1&&"p-slider-handle-active")),Zn("transition",e.dragging?"none":null),T("ngStyle",li(13,py,e.rangeEndLeft,e.rangeEndBottom)),ue("tabindex",e.$disabled()?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[1]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","endHandler")}}var gD={handle:{position:"absolute"},range:{position:"absolute"}},_D={root:({instance:t})=>["p-slider p-component",{"p-disabled":t.$disabled(),"p-invalid":t.invalid(),"p-slider-horizontal":t.orientation==="horizontal","p-slider-vertical":t.orientation==="vertical","p-slider-animate":t.animate}],range:"p-slider-range",handle:"p-slider-handle"},DI=(()=>{class t extends Vt{name="slider";theme=PI;classes=_D;inlineStyles=gD;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var bD={provide:Eo,useExisting:nn(()=>kp),multi:!0},kp=(()=>{class t extends tr{animate;min=0;max=100;orientation="horizontal";step;range;styleClass;ariaLabel;ariaLabelledBy;tabindex=0;autofocus;onChange=new Fe;onSlideEnd=new Fe;sliderHandle;sliderHandleStart;sliderHandleEnd;_componentStyle=lt(DI);value;values;handleValue;handleValues=[];diff;offset;bottom;dragging;dragListener;mouseupListener;initX;initY;barWidth;barHeight;sliderHandleClick;handleIndex=0;startHandleValue;startx;starty;ngZone=lt(fo);onHostClick(e){this.onBarClick(e)}onMouseDown(e,i){this.$disabled()||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.range&&this.handleValues&&this.handleValues[0]===this.max?this.handleIndex=0:this.handleIndex=i,this.bindDragListeners(),e.target.focus(),e.preventDefault(),this.animate&&Sa(this.el.nativeElement,"p-slider-animate"))}onDragStart(e,i){if(!this.$disabled()){var n=e.changedTouches[0];this.startHandleValue=this.range?this.handleValues[i]:this.handleValue,this.dragging=!0,this.range&&this.handleValues&&this.handleValues[0]===this.max?this.handleIndex=0:this.handleIndex=i,this.orientation==="horizontal"?(this.startx=parseInt(n.clientX,10),this.barWidth=this.el.nativeElement.offsetWidth):(this.starty=parseInt(n.clientY,10),this.barHeight=this.el.nativeElement.offsetHeight),this.animate&&Sa(this.el.nativeElement,"p-slider-animate"),e.preventDefault()}}onDrag(e){if(!this.$disabled()){var i=e.changedTouches[0],n=0;this.orientation==="horizontal"?n=Math.floor((parseInt(i.clientX,10)-this.startx)*100/this.barWidth)+this.startHandleValue:n=Math.floor((this.starty-parseInt(i.clientY,10))*100/this.barHeight)+this.startHandleValue,this.setValueFromHandle(e,n),e.preventDefault()}}onDragEnd(e){this.$disabled()||(this.dragging=!1,this.range?this.onSlideEnd.emit({originalEvent:e,values:this.values}):this.onSlideEnd.emit({originalEvent:e,value:this.value}),this.animate&&Bn(this.el.nativeElement,"p-slider-animate"),e.preventDefault())}onBarClick(e){this.$disabled()||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(e),this.range?this.onSlideEnd.emit({originalEvent:e,values:this.values}):this.onSlideEnd.emit({originalEvent:e,value:this.value})),this.sliderHandleClick=!1)}onKeyDown(e,i){switch(this.handleIndex=i,e.code){case"ArrowDown":case"ArrowLeft":this.decrementValue(e,i),e.preventDefault();break;case"ArrowUp":case"ArrowRight":this.incrementValue(e,i),e.preventDefault();break;case"PageDown":this.decrementValue(e,i,!0),e.preventDefault();break;case"PageUp":this.incrementValue(e,i,!0),e.preventDefault();break;case"Home":this.updateValue(this.min,e),e.preventDefault();break;case"End":this.updateValue(this.max,e),e.preventDefault();break;default:break}}decrementValue(e,i,n=!1){let a;this.range?this.step?a=this.values[i]-this.step:a=this.values[i]-1:this.step?a=this.value-this.step:!this.step&&n?a=this.value-10:a=this.value-1,this.updateValue(a,e),e.preventDefault()}incrementValue(e,i,n=!1){let a;this.range?this.step?a=this.values[i]+this.step:a=this.values[i]+1:this.step?a=this.value+this.step:!this.step&&n?a=this.value+10:a=this.value+1,this.updateValue(a,e),e.preventDefault()}handleChange(e){let i=this.calculateHandleValue(e);this.setValueFromHandle(e,i)}bindDragListeners(){ci(this.platformId)&&this.ngZone.runOutsideAngular(()=>{let e=this.el?this.el.nativeElement.ownerDocument:this.document;this.dragListener||(this.dragListener=this.renderer.listen(e,"mousemove",i=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(i)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(e,"mouseup",i=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.range?this.onSlideEnd.emit({originalEvent:i,values:this.values}):this.onSlideEnd.emit({originalEvent:i,value:this.value}),this.animate&&Bn(this.el.nativeElement,"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&(this.dragListener(),this.dragListener=null),this.mouseupListener&&(this.mouseupListener(),this.mouseupListener=null)}setValueFromHandle(e,i){let n=this.getValueFromHandle(i);this.range?this.step?this.handleStepChange(n,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=i,this.updateValue(n,e)):this.step?this.handleStepChange(n,this.value):(this.handleValue=i,this.updateValue(n,e)),this.cd.markForCheck()}handleStepChange(e,i){let n=e-i,a=i,p=this.step;n<0?a=i+Math.ceil(e/p-i/p)*p:n>0&&(a=i+Math.floor(e/p-i/p)*p),this.updateValue(a),this.updateHandleValue()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]>100?"100%":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return this.orientation==="vertical"}updateDomData(){let e=this.el.nativeElement.getBoundingClientRect();this.initX=e.left+Mx(),this.initY=e.top+uf(),this.barWidth=this.el.nativeElement.offsetWidth,this.barHeight=this.el.nativeElement.offsetHeight}calculateHandleValue(e){return this.orientation==="horizontal"?ku(this.el.nativeElement)?(this.initX+this.barWidth-e.pageX)*100/this.barWidth:(e.pageX-this.initX)*100/this.barWidth:(this.initY+this.barHeight-e.pageY)*100/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=(this.values[0]<this.min?0:this.values[0]-this.min)*100/(this.max-this.min),this.handleValues[1]=(this.values[1]>this.max?100:this.values[1]-this.min)*100/(this.max-this.min)):this.value<this.min?this.handleValue=0:this.value>this.max?this.handleValue=100:this.handleValue=(this.value-this.min)*100/(this.max-this.min),this.step&&this.updateDiffAndOffset()}updateDiffAndOffset(){this.diff=this.getDiff(),this.offset=this.getOffset()}getDiff(){return Math.abs(this.handleValues[0]-this.handleValues[1])}getOffset(){return Math.min(this.handleValues[0],this.handleValues[1])}updateValue(e,i){if(this.range){let n=e;this.handleIndex==0?(n<this.min?(n=this.min,this.handleValues[0]=0):n>this.values[1]&&n>this.max&&(n=this.max,this.handleValues[0]=100),this.sliderHandleStart?.nativeElement.focus()):(n>this.max?(n=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):n<this.min?(n=this.min,this.handleValues[1]=0):n<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd?.nativeElement.focus()),this.step?this.updateHandleValue():this.updateDiffAndOffset(),this.values[this.handleIndex]=this.getNormalizedValue(n);let a=[this.minVal,this.maxVal];this.onModelChange(a),this.onChange.emit({event:i,values:this.values})}else e<this.min?(e=this.min,this.handleValue=0):e>this.max&&(e=this.max,this.handleValue=100),this.value=this.getNormalizedValue(e),this.onModelChange(this.value),this.onChange.emit({event:i,value:this.value}),this.sliderHandle?.nativeElement.focus();this.updateHandleValue()}getValueFromHandle(e){return(this.max-this.min)*(e/100)+this.min}getDecimalsCount(e){return e&&Math.floor(e)!==e&&e.toString().split(".")[1].length||0}getNormalizedValue(e){let i=this.getDecimalsCount(this.step);return i>0?+parseFloat(e.toString()).toFixed(i):Math.floor(e)}ngOnDestroy(){this.unbindDragListeners(),super.ngOnDestroy()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}writeControlValue(e){this.range?this.values=e||[0,0]:this.value=e||0,this.updateHandleValue(),this.updateDiffAndOffset(),this.cd.markForCheck()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-slider"]],viewQuery:function(i,n){if(i&1&&(dt(iD,5),dt(nD,5),dt(aD,5)),i&2){let a;le(a=ce())&&(n.sliderHandle=a.first),le(a=ce())&&(n.sliderHandleStart=a.first),le(a=ce())&&(n.sliderHandleEnd=a.first)}},hostVars:4,hostBindings:function(i,n){i&1&&Ie("click",function(p){return n.onHostClick(p)}),i&2&&(ue("data-pc-name","slider")("data-pc-section","root"),K(n.cn(n.cx("root"),n.styleClass)))},inputs:{animate:[2,"animate","animate",we],min:[2,"min","min",Tt],max:[2,"max","max",Tt],orientation:"orientation",step:[2,"step","step",Tt],range:[2,"range","range",we],styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",tabindex:[2,"tabindex","tabindex",Tt],autofocus:[2,"autofocus","autofocus",we]},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[bt([bD,DI]),gt],decls:7,vars:7,consts:[["sliderHandle",""],["sliderHandleStart",""],["sliderHandleEnd",""],[3,"class","ngStyle",4,"ngIf"],["role","slider",3,"class","transition","ngStyle","pAutoFocus","touchstart","touchmove","touchend","mousedown","keydown",4,"ngIf"],["role","slider",3,"transition","class","ngStyle","pAutoFocus","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["role","slider",3,"transition","class","ngStyle","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[3,"ngStyle"],["role","slider",3,"touchstart","touchmove","touchend","mousedown","keydown","ngStyle","pAutoFocus"],["role","slider",3,"keydown","mousedown","touchstart","touchmove","touchend","ngStyle","pAutoFocus"],["role","slider",3,"keydown","mousedown","touchstart","touchmove","touchend","ngStyle"]],template:function(i,n){i&1&&B(0,cD,1,7,"span",3)(1,uD,1,7,"span",3)(2,dD,1,6,"span",3)(3,pD,1,6,"span",3)(4,hD,2,17,"span",4)(5,mD,2,17,"span",5)(6,fD,2,16,"span",6),i&2&&(T("ngIf",n.range&&n.orientation=="horizontal"),S(),T("ngIf",n.range&&n.orientation=="vertical"),S(),T("ngIf",!n.range&&n.orientation=="vertical"),S(),T("ngIf",!n.range&&n.orientation=="horizontal"),S(),T("ngIf",!n.range),S(),T("ngIf",n.range),S(),T("ngIf",n.range))},dependencies:[mt,$t,bi,ko,Xe],encapsulation:2,changeDetection:0})}return t})(),Og=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[kp,Xe,Xe]})}return t})();var AI=`
    .p-colorpicker {
        display: inline-block;
        position: relative;
    }

    .p-colorpicker-dragging {
        cursor: pointer;
    }

    .p-colorpicker-preview {
        width: dt('colorpicker.preview.width');
        height: dt('colorpicker.preview.height');
        padding: 0;
        border: 0 none;
        border-radius: dt('colorpicker.preview.border.radius');
        transition:
            background dt('colorpicker.transition.duration'),
            color dt('colorpicker.transition.duration'),
            border-color dt('colorpicker.transition.duration'),
            outline-color dt('colorpicker.transition.duration'),
            box-shadow dt('colorpicker.transition.duration');
        outline-color: transparent;
        cursor: pointer;
    }

    .p-colorpicker-preview:enabled:focus-visible {
        border-color: dt('colorpicker.preview.focus.border.color');
        box-shadow: dt('colorpicker.preview.focus.ring.shadow');
        outline: dt('colorpicker.preview.focus.ring.width') dt('colorpicker.preview.focus.ring.style') dt('colorpicker.preview.focus.ring.color');
        outline-offset: dt('colorpicker.preview.focus.ring.offset');
    }

    .p-colorpicker-panel {
        background: dt('colorpicker.panel.background');
        border: 1px solid dt('colorpicker.panel.border.color');
        border-radius: dt('colorpicker.panel.border.radius');
        box-shadow: dt('colorpicker.panel.shadow');
        width: 193px;
        height: 166px;
        position: absolute;
        top: 0;
        left: 0;
    }

    .p-colorpicker-panel-inline {
        box-shadow: none;
        position: static;
    }

    .p-colorpicker-content {
        position: relative;
    }

    .p-colorpicker-color-selector {
        width: 150px;
        height: 150px;
        inset-block-start: 8px;
        inset-inline-start: 8px;
        position: absolute;
    }

    .p-colorpicker-color-background {
        width: 100%;
        height: 100%;
        background: linear-gradient(to top, #000 0%, rgba(0, 0, 0, 0) 100%), linear-gradient(to right, #fff 0%, rgba(255, 255, 255, 0) 100%);
    }

    .p-colorpicker-color-handle {
        position: absolute;
        inset-block-start: 0px;
        inset-inline-start: 150px;
        border-radius: 100%;
        width: 10px;
        height: 10px;
        border-width: 1px;
        border-style: solid;
        margin: -5px 0 0 -5px;
        cursor: pointer;
        opacity: 0.85;
        border-color: dt('colorpicker.handle.color');
    }

    .p-colorpicker-hue {
        width: 17px;
        height: 150px;
        inset-block-start: 8px;
        inset-inline-start: 167px;
        position: absolute;
        opacity: 0.85;
        background: linear-gradient(0deg, red 0, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, red);
    }

    .p-colorpicker-hue-handle {
        position: absolute;
        inset-block-start: 150px;
        inset-inline-start: 0px;
        width: 21px;
        margin-inline-start: -2px;
        margin-block-start: -5px;
        height: 10px;
        border-width: 2px;
        border-style: solid;
        opacity: 0.85;
        cursor: pointer;
        border-color: dt('colorpicker.handle.color');
    }
`;var vD=["input"],xD=["colorSelector"],wD=["colorHandle"],ID=["hue"],TD=["hueHandle"],CD=(t,s)=>({showTransitionParams:t,hideTransitionParams:s}),SD=t=>({value:"visible",params:t});function MD(t,s){if(t&1){let e=Re();L(0,"input",7,0),Ie("click",function(){Z(e);let n=M();return X(n.onInputClick())})("keydown",function(n){Z(e);let a=M();return X(a.onInputKeydown(n))})("focus",function(){Z(e);let n=M();return X(n.onInputFocus())}),D()}if(t&2){let e=M();K(e.cx("preview")),Zn("background-color",e.inputBgColor),T("pAutoFocus",e.autofocus),ue("tabindex",e.tabindex)("disabled",e.$disabled()?"":void 0)("id",e.inputId)("data-pc-section","input")("aria-label",e.ariaLabel)}}function kD(t,s){if(t&1){let e=Re();L(0,"div",8),Ie("click",function(n){Z(e);let a=M();return X(a.onOverlayClick(n))})("@overlayAnimation.start",function(n){Z(e);let a=M();return X(a.onOverlayAnimationStart(n))})("@overlayAnimation.done",function(n){Z(e);let a=M();return X(a.onOverlayAnimationEnd(n))}),L(1,"div")(2,"div",9,1),Ie("touchstart",function(n){Z(e);let a=M();return X(a.onColorDragStart(n))})("touchmove",function(n){Z(e);let a=M();return X(a.onDrag(n))})("touchend",function(){Z(e);let n=M();return X(n.onDragEnd())})("mousedown",function(n){Z(e);let a=M();return X(a.onColorMousedown(n))}),L(4,"div"),oe(5,"div",null,2),D()(),L(7,"div",10,3),Ie("mousedown",function(n){Z(e);let a=M();return X(a.onHueMousedown(n))})("touchstart",function(n){Z(e);let a=M();return X(a.onHueDragStart(n))})("touchmove",function(n){Z(e);let a=M();return X(a.onDrag(n))})("touchend",function(){Z(e);let n=M();return X(n.onDragEnd())}),oe(9,"div",null,4),D()()()}if(t&2){let e=M();K(e.cx("panel")),T("@overlayAnimation",rt(26,SD,li(23,CD,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.inline===!0),ue("data-pc-section","panel"),S(),K(e.cx("content")),ue("data-pc-section","content"),S(),K(e.cx("colorSelector")),ue("data-pc-section","selector"),S(2),K(e.cx("colorBackground")),ue("data-pc-section","color"),S(),K(e.cx("colorHandle")),ue("data-pc-section","colorHandle"),S(2),K(e.cx("hue")),ue("data-pc-section","hue"),S(2),K(e.cx("hueHandle")),ue("data-pc-section","hueHandle")}}var ED={root:({instance:t})=>["p-colorpicker p-component",{"p-colorpicker-overlay":!t.inline,"p-colorpicker-dragging":t.colorDragging||t.hueDragging}],preview:({instance:t})=>["p-colorpicker-preview",{"p-disabled":t.$disabled()}],panel:({instance:t})=>["p-colorpicker-panel",{"p-colorpicker-panel-inline":t.inline,"p-disabled":t.$disabled()}],content:"p-colorpicker-content",colorSelector:"p-colorpicker-color-selector",colorBackground:"p-colorpicker-color-background",colorHandle:"p-colorpicker-color-handle",hue:"p-colorpicker-hue",hueHandle:"p-colorpicker-hue-handle"},FI=(()=>{class t extends Vt{name="colorpicker";theme=AI;classes=ED;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var PD={provide:Eo,useExisting:nn(()=>Vg),multi:!0},Vg=(()=>{class t extends tr{overlayService;styleClass;inline;format="hex";tabindex;inputId;autoZIndex=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autofocus;defaultColor="ff0000";appendTo=sn(void 0);onChange=new Fe;onShow=new Fe;onHide=new Fe;inputViewChild;$appendTo=Vi(()=>this.appendTo()||this.config.overlayAppendTo());value={h:0,s:100,b:100};inputBgColor;shown;overlayVisible;documentClickListener;documentResizeListener;documentMousemoveListener;documentMouseupListener;documentHueMoveListener;scrollHandler;selfClick;colorDragging;hueDragging;overlay;colorSelectorViewChild;colorHandleViewChild;hueViewChild;hueHandleViewChild;_componentStyle=lt(FI);constructor(e){super(),this.overlayService=e}set colorSelector(e){this.colorSelectorViewChild=e}set colorHandle(e){this.colorHandleViewChild=e}set hue(e){this.hueViewChild=e}set hueHandle(e){this.hueHandleViewChild=e}get ariaLabel(){return this.config?.getTranslation(_o.ARIA)[_o.SELECT_COLOR]}onHueMousedown(e){this.$disabled()||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.hueDragging=!0,this.pickHue(e))}onHueDragStart(e){this.$disabled()||(this.hueDragging=!0,this.pickHue(e,e.changedTouches[0]))}onColorDragStart(e){this.$disabled()||(this.colorDragging=!0,this.pickColor(e,e.changedTouches[0]))}pickHue(e,i){let n=i?i.pageY:e.pageY,a=this.hueViewChild?.nativeElement.getBoundingClientRect().top+(this.document.defaultView.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0);this.value=this.validateHSB({h:Math.floor(360*(150-Math.max(0,Math.min(150,n-a)))/150),s:this.value.s,b:this.value.b}),this.updateColorSelector(),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:e,value:this.getValueToUpdate()})}onColorMousedown(e){this.$disabled()||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.colorDragging=!0,this.pickColor(e))}onDrag(e){this.colorDragging&&(this.pickColor(e,e.changedTouches[0]),e.preventDefault()),this.hueDragging&&(this.pickHue(e,e.changedTouches[0]),e.preventDefault())}onDragEnd(){this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}pickColor(e,i){let n=i?i.pageX:e.pageX,a=i?i.pageY:e.pageY,p=this.colorSelectorViewChild?.nativeElement.getBoundingClientRect(),y=p.top+(this.document.defaultView.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0),C=p.left+this.document.body.scrollLeft,A=Math.floor(100*Math.max(0,Math.min(150,n-C))/150),R=Math.floor(100*(150-Math.max(0,Math.min(150,a-y)))/150);this.value=this.validateHSB({h:this.value.h,s:A,b:R}),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:e,value:this.getValueToUpdate()})}getValueToUpdate(){let e;switch(this.format){case"hex":e="#"+this.HSBtoHEX(this.value);break;case"rgb":e=this.HSBtoRGB(this.value);break;case"hsb":e=this.value;break}return e}updateModel(){this.onModelChange(this.getValueToUpdate()),this.cd.markForCheck()}updateColorSelector(){if(this.colorSelectorViewChild){let e={};e.s=100,e.b=100,e.h=this.value.h,this.colorSelectorViewChild.nativeElement.style.backgroundColor="#"+this.HSBtoHEX(e)}}updateUI(){this.colorHandleViewChild&&this.hueHandleViewChild?.nativeElement&&(this.colorHandleViewChild.nativeElement.style.left=Math.floor(150*this.value.s/100)+"px",this.colorHandleViewChild.nativeElement.style.top=Math.floor(150*(100-this.value.b)/100)+"px",this.hueHandleViewChild.nativeElement.style.top=Math.floor(150-150*this.value.h/360)+"px"),this.inputBgColor="#"+this.HSBtoHEX(this.value)}onInputFocus(){this.onModelTouched()}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.inline||(this.overlay=e.element,this.attrSelector&&this.overlay.setAttribute(this.attrSelector,""),this.appendOverlay(),this.autoZIndex&&Zi.set("overlay",this.overlay,this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.updateColorSelector(),this.updateUI());break;case"void":this.onOverlayHide();break}}onOverlayAnimationEnd(e){switch(e.toState){case"visible":this.inline||this.onShow.emit({});break;case"void":this.autoZIndex&&Zi.clear(e.element),this.onHide.emit({});break}}appendOverlay(){sl.appendOverlay(this.overlay,this.$appendTo()==="body"?this.document.body:this.$appendTo(),this.$appendTo())}restoreOverlayAppend(){this.overlay&&this.$appendTo()!=="self"&&this.renderer.appendChild(this.inputViewChild?.nativeElement,this.overlay)}alignOverlay(){this.$appendTo()==="self"?df(this.overlay,this.inputViewChild?.nativeElement):Xd(this.overlay,this.inputViewChild?.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onInputClick(){this.selfClick=!0,this.togglePanel()}togglePanel(){this.overlayVisible?this.hide():this.show()}onInputKeydown(e){switch(e.code){case"Space":this.togglePanel(),e.preventDefault();break;case"Escape":case"Tab":this.hide();break;default:break}}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}bindDocumentClickListener(){if(!this.documentClickListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",()=>{this.selfClick||(this.overlayVisible=!1,this.unbindDocumentClickListener()),this.selfClick=!1,this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentMousemoveListener(){if(!this.documentMousemoveListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentMousemoveListener=this.renderer.listen(e,"mousemove",i=>{this.colorDragging&&this.pickColor(i),this.hueDragging&&this.pickHue(i)})}}unbindDocumentMousemoveListener(){this.documentMousemoveListener&&(this.documentMousemoveListener(),this.documentMousemoveListener=null)}bindDocumentMouseupListener(){if(!this.documentMouseupListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentMouseupListener=this.renderer.listen(e,"mouseup",()=>{this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()})}}unbindDocumentMouseupListener(){this.documentMouseupListener&&(this.documentMouseupListener(),this.documentMouseupListener=null)}bindDocumentResizeListener(){ci(this.platformId)&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!Vr()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new ep(this.el?.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}validateHSB(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}}validateRGB(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}}validateHEX(e){var i=6-e.length;if(i>0){for(var n=[],a=0;a<i;a++)n.push("0");n.push(e),e=n.join("")}return e}HEXtoRGB(e){let i=parseInt(e.indexOf("#")>-1?e.substring(1):e,16);return{r:i>>16,g:(i&65280)>>8,b:i&255}}HEXtoHSB(e){return this.RGBtoHSB(this.HEXtoRGB(e))}RGBtoHSB(e){var i={h:0,s:0,b:0},n=Math.min(e.r,e.g,e.b),a=Math.max(e.r,e.g,e.b),p=a-n;return i.b=a,i.s=a!=0?255*p/a:0,i.s!=0?e.r==a?i.h=(e.g-e.b)/p:e.g==a?i.h=2+(e.b-e.r)/p:i.h=4+(e.r-e.g)/p:i.h=-1,i.h*=60,i.h<0&&(i.h+=360),i.s*=100/255,i.b*=100/255,i}HSBtoRGB(e){var i={r:0,g:0,b:0};let n=e.h,a=e.s*255/100,p=e.b*255/100;if(a==0)i={r:p,g:p,b:p};else{let y=p,C=(255-a)*p/255,A=(y-C)*(n%60)/60;n==360&&(n=0),n<60?(i.r=y,i.b=C,i.g=C+A):n<120?(i.g=y,i.b=C,i.r=y-A):n<180?(i.g=y,i.r=C,i.b=C+A):n<240?(i.b=y,i.r=C,i.g=y-A):n<300?(i.b=y,i.g=C,i.r=C+A):n<360?(i.r=y,i.g=C,i.b=y-A):(i.r=0,i.g=0,i.b=0)}return{r:Math.round(i.r),g:Math.round(i.g),b:Math.round(i.b)}}RGBtoHEX(e){var i=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];for(var n in i)i[n].length==1&&(i[n]="0"+i[n]);return i.join("")}HSBtoHEX(e){return this.RGBtoHEX(this.HSBtoRGB(e))}onOverlayHide(){this.unbindScrollListener(),this.unbindDocumentResizeListener(),this.unbindDocumentClickListener(),this.overlay=null}ngAfterViewInit(){this.inline&&(this.updateColorSelector(),this.updateUI())}writeControlValue(e){if(e)switch(this.format){case"hex":this.value=this.HEXtoHSB(e);break;case"rgb":this.value=this.RGBtoHSB(e);break;case"hsb":this.value=e;break}else this.value=this.HEXtoHSB(this.defaultColor);this.updateColorSelector(),this.updateUI(),this.cd.markForCheck()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&this.autoZIndex&&Zi.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}cn=Sx;static \u0275fac=function(i){return new(i||t)(At(Br))};static \u0275cmp=Je({type:t,selectors:[["p-colorPicker"],["p-colorpicker"],["p-color-picker"]],viewQuery:function(i,n){if(i&1&&(dt(vD,5),dt(xD,5),dt(wD,5),dt(ID,5),dt(TD,5)),i&2){let a;le(a=ce())&&(n.inputViewChild=a.first),le(a=ce())&&(n.colorSelector=a.first),le(a=ce())&&(n.colorHandle=a.first),le(a=ce())&&(n.hue=a.first),le(a=ce())&&(n.hueHandle=a.first)}},hostVars:4,hostBindings:function(i,n){i&2&&(ue("data-pc-name","colorpicker")("data-pc-section","root"),K(n.cn(n.cx("root"),n.styleClass)))},inputs:{styleClass:"styleClass",inline:[2,"inline","inline",we],format:"format",tabindex:"tabindex",inputId:"inputId",autoZIndex:[2,"autoZIndex","autoZIndex",we],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:[2,"autofocus","autofocus",we],defaultColor:"defaultColor",appendTo:[1,"appendTo"]},outputs:{onChange:"onChange",onShow:"onShow",onHide:"onHide"},features:[bt([PD,FI]),gt],decls:2,vars:2,consts:[["input",""],["colorSelector",""],["colorHandle",""],["hue",""],["hueHandle",""],["type","text","readonly","",3,"class","backgroundColor","pAutoFocus","click","keydown","focus",4,"ngIf"],[3,"class","click",4,"ngIf"],["type","text","readonly","",3,"click","keydown","focus","pAutoFocus"],[3,"click"],[3,"touchstart","touchmove","touchend","mousedown"],[3,"mousedown","touchstart","touchmove","touchend"]],template:function(i,n){i&1&&B(0,MD,2,10,"input",5)(1,kD,11,28,"div",6),i&2&&(T("ngIf",!n.inline),S(),T("ngIf",n.inline||n.overlayVisible))},dependencies:[mt,$t,bf,ko,Xe],encapsulation:2,data:{animation:[ra("overlayAnimation",[Ni(":enter",[Ri({opacity:0,transform:"scaleY(0.8)"}),Ki("{{showTransitionParams}}")]),Ni(":leave",[Ki("{{hideTransitionParams}}",Ri({opacity:0}))])])]},changeDetection:0})}return t})(),OI=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[Vg,Xe,Xe]})}return t})();var VI=`
    .p-knob-range {
        fill: none;
        transition: stroke 0.1s ease-in;
    }

    .p-knob-value {
        animation-name: p-knob-dash-frame;
        animation-fill-mode: forwards;
        fill: none;
    }

    .p-knob-text {
        font-size: 1.3rem;
        text-align: center;
    }

    .p-knob svg {
        border-radius: 50%;
        outline-color: transparent;
        transition:
            background dt('knob.transition.duration'),
            color dt('knob.transition.duration'),
            outline-color dt('knob.transition.duration'),
            box-shadow dt('knob.transition.duration');
    }

    .p-knob svg:focus-visible {
        box-shadow: dt('knob.focus.ring.shadow');
        outline: dt('knob.focus.ring.width') dt('knob.focus.ring.style') dt('knob.focus.ring.color');
        outline-offset: dt('knob.focus.ring.offset');
    }

    @keyframes p-knob-dash-frame {
        100% {
            stroke-dashoffset: 0;
        }
    }
`;function LD(t,s){if(t&1&&(it(),L(0,"text",2),ne(1),D()),t&2){let e=M();K(e.cx("text")),ue("x",50)("y",57)("fill",e.textColor)("name",e.name()),S(),ni(" ",e.valueToDisplay()," ")}}var AD={root:({instance:t})=>["p-knob p-component",{"p-disabled":t.$disabled()}],range:"p-knob-range",value:"p-knob-value",text:"p-knob-text"},zI=(()=>{class t extends Vt{name="knob";theme=VI;classes=AD;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var FD={provide:Eo,useExisting:nn(()=>zg),multi:!0},zg=(()=>{class t extends tr{styleClass;ariaLabel;ariaLabelledBy;tabindex=0;valueColor=gf("knob.value.background").variable;rangeColor=gf("knob.range.background").variable;textColor=gf("knob.text.color").variable;valueTemplate="{value}";size=100;min=0;max=100;step=1;strokeWidth=14;showValue=!0;readonly=!1;onChange=new Fe;radius=40;midX=50;midY=50;minRadians=4*Math.PI/3;maxRadians=-Math.PI/3;value=0;windowMouseMoveListener;windowMouseUpListener;windowTouchMoveListener;windowTouchEndListener;_componentStyle=lt(zI);mapRange(e,i,n,a,p){return(e-i)*(p-a)/(n-i)+a}onClick(e){!this.$disabled()&&!this.readonly&&this.updateValue(e.offsetX,e.offsetY)}updateValue(e,i){let n=e-this.size/2,a=this.size/2-i,p=Math.atan2(a,n),y=-Math.PI/2-Math.PI/6;this.updateModel(p,y)}updateModel(e,i){let n;if(e>this.maxRadians)n=this.mapRange(e,this.minRadians,this.maxRadians,this.min,this.max);else if(e<i)n=this.mapRange(e+2*Math.PI,this.minRadians,this.maxRadians,this.min,this.max);else return;let a=Math.round((n-this.min)/this.step)*this.step+this.min;this.value=a,this.writeModelValue(this.value),this.onModelChange(this.value),this.onChange.emit(this.value)}onMouseDown(e){if(!this.$disabled()&&!this.readonly){let i=this.document.defaultView||"window";this.windowMouseMoveListener=this.renderer.listen(i,"mousemove",this.onMouseMove.bind(this)),this.windowMouseUpListener=this.renderer.listen(i,"mouseup",this.onMouseUp.bind(this)),e.preventDefault()}}onMouseUp(e){!this.$disabled()&&!this.readonly&&(this.windowMouseMoveListener&&(this.windowMouseMoveListener(),this.windowMouseUpListener=null),this.windowMouseUpListener&&(this.windowMouseUpListener(),this.windowMouseMoveListener=null),e.preventDefault())}onTouchStart(e){if(!this.$disabled()&&!this.readonly){let i=this.document.defaultView||"window";this.windowTouchMoveListener=this.renderer.listen(i,"touchmove",this.onTouchMove.bind(this)),this.windowTouchEndListener=this.renderer.listen(i,"touchend",this.onTouchEnd.bind(this)),e.preventDefault()}}onTouchEnd(e){!this.$disabled()&&!this.readonly&&(this.windowTouchMoveListener&&this.windowTouchMoveListener(),this.windowTouchEndListener&&this.windowTouchEndListener(),this.windowTouchMoveListener=null,this.windowTouchEndListener=null,e.preventDefault())}onMouseMove(e){!this.$disabled()&&!this.readonly&&(this.updateValue(e.offsetX,e.offsetY),e.preventDefault())}onTouchMove(e){if(!this.$disabled()&&!this.readonly&&e instanceof TouchEvent&&e.touches.length===1){let i=this.el.nativeElement.children[0].getBoundingClientRect(),n=e.targetTouches.item(0);if(n){let a=n.clientX-i.left,p=n.clientY-i.top;this.updateValue(a,p)}}}updateModelValue(e){e>this.max?this.value=this.max:e<this.min?this.value=this.min:this.value=e,this.writeModelValue(this.value),this.onModelChange(this.value),this.onChange.emit(this.value)}onKeyDown(e){if(!this.$disabled()&&!this.readonly)switch(e.code){case"ArrowRight":case"ArrowUp":{e.preventDefault(),this.updateModelValue(this._value+1);break}case"ArrowLeft":case"ArrowDown":{e.preventDefault(),this.updateModelValue(this._value-1);break}case"Home":{e.preventDefault(),this.updateModelValue(this.min);break}case"End":{e.preventDefault(),this.updateModelValue(this.max);break}case"PageUp":{e.preventDefault(),this.updateModelValue(this._value+10);break}case"PageDown":{e.preventDefault(),this.updateModelValue(this._value-10);break}}}rangePath(){return`M ${this.minX()} ${this.minY()} A ${this.radius} ${this.radius} 0 1 1 ${this.maxX()} ${this.maxY()}`}valuePath(){return`M ${this.zeroX()} ${this.zeroY()} A ${this.radius} ${this.radius} 0 ${this.largeArc()} ${this.sweep()} ${this.valueX()} ${this.valueY()}`}zeroRadians(){return this.min>0&&this.max>0?this.mapRange(this.min,this.min,this.max,this.minRadians,this.maxRadians):this.mapRange(0,this.min,this.max,this.minRadians,this.maxRadians)}valueRadians(){return this.mapRange(this._value,this.min,this.max,this.minRadians,this.maxRadians)}minX(){return this.midX+Math.cos(this.minRadians)*this.radius}minY(){return this.midY-Math.sin(this.minRadians)*this.radius}maxX(){return this.midX+Math.cos(this.maxRadians)*this.radius}maxY(){return this.midY-Math.sin(this.maxRadians)*this.radius}zeroX(){return this.midX+Math.cos(this.zeroRadians())*this.radius}zeroY(){return this.midY-Math.sin(this.zeroRadians())*this.radius}valueX(){return this.midX+Math.cos(this.valueRadians())*this.radius}valueY(){return this.midY-Math.sin(this.valueRadians())*this.radius}largeArc(){return Math.abs(this.zeroRadians()-this.valueRadians())<Math.PI?0:1}sweep(){return this.valueRadians()>this.zeroRadians()?0:1}valueToDisplay(){return this.valueTemplate.replace("{value}",this._value.toString())}get _value(){return this.value!=null?this.value:this.min}writeControlValue(e,i){this.value=e,i(this.value),this.cd.markForCheck()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-knob"]],hostVars:4,hostBindings:function(i,n){i&2&&(ue("data-pc-name","knob")("data-pc-section","root"),K(n.cn(n.cx("root"),n.styleClass)))},inputs:{styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",tabindex:[2,"tabindex","tabindex",Tt],valueColor:"valueColor",rangeColor:"rangeColor",textColor:"textColor",valueTemplate:"valueTemplate",size:[2,"size","size",Tt],min:[2,"min","min",Tt],max:[2,"max","max",Tt],step:[2,"step","step",Tt],strokeWidth:[2,"strokeWidth","strokeWidth",Tt],showValue:[2,"showValue","showValue",we],readonly:[2,"readonly","readonly",we]},outputs:{onChange:"onChange"},features:[bt([FD,zI]),gt],decls:4,vars:23,consts:[["viewBox","0 0 100 100","role","slider",3,"click","keydown","mousedown","mouseup","touchstart","touchend"],["text-anchor","middle",3,"class",4,"ngIf"],["text-anchor","middle"]],template:function(i,n){i&1&&(it(),L(0,"svg",0),Ie("click",function(p){return n.onClick(p)})("keydown",function(p){return n.onKeyDown(p)})("mousedown",function(p){return n.onMouseDown(p)})("mouseup",function(p){return n.onMouseUp(p)})("touchstart",function(p){return n.onTouchStart(p)})("touchend",function(p){return n.onTouchEnd(p)}),oe(1,"path")(2,"path"),B(3,LD,2,7,"text",1),D()),i&2&&(Zn("width",n.size+"px")("height",n.size+"px"),ue("aria-valuemin",n.min)("aria-valuemax",n.max)("required",n.required()?"":void 0)("aria-valuenow",n._value)("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel)("tabindex",n.readonly||n.$disabled()?-1:n.tabindex)("data-pc-section","svg"),S(),K(n.cx("range")),ue("d",n.rangePath())("stroke-width",n.strokeWidth)("stroke",n.rangeColor),S(),K(n.cx("value")),ue("d",n.valuePath())("stroke-width",n.strokeWidth)("stroke",n.valueColor),S(),T("ngIf",n.showValue))},dependencies:[mt,$t,Xe],encapsulation:2,changeDetection:0})}return t})(),BI=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[zg,Xe,Xe]})}return t})();var RI=`
    .p-toggleswitch {
        display: inline-block;
        width: dt('toggleswitch.width');
        height: dt('toggleswitch.height');
    }

    .p-toggleswitch-input {
        cursor: pointer;
        appearance: none;
        position: absolute;
        top: 0;
        inset-inline-start: 0;
        width: 100%;
        height: 100%;
        padding: 0;
        margin: 0;
        opacity: 0;
        z-index: 1;
        outline: 0 none;
        border-radius: dt('toggleswitch.border.radius');
    }

    .p-toggleswitch-slider {
        cursor: pointer;
        width: 100%;
        height: 100%;
        border-width: dt('toggleswitch.border.width');
        border-style: solid;
        border-color: dt('toggleswitch.border.color');
        background: dt('toggleswitch.background');
        transition:
            background dt('toggleswitch.transition.duration'),
            color dt('toggleswitch.transition.duration'),
            border-color dt('toggleswitch.transition.duration'),
            outline-color dt('toggleswitch.transition.duration'),
            box-shadow dt('toggleswitch.transition.duration');
        border-radius: dt('toggleswitch.border.radius');
        outline-color: transparent;
        box-shadow: dt('toggleswitch.shadow');
    }

    .p-toggleswitch-handle {
        position: absolute;
        top: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        background: dt('toggleswitch.handle.background');
        color: dt('toggleswitch.handle.color');
        width: dt('toggleswitch.handle.size');
        height: dt('toggleswitch.handle.size');
        inset-inline-start: dt('toggleswitch.gap');
        margin-block-start: calc(-1 * calc(dt('toggleswitch.handle.size') / 2));
        border-radius: dt('toggleswitch.handle.border.radius');
        transition:
            background dt('toggleswitch.transition.duration'),
            color dt('toggleswitch.transition.duration'),
            inset-inline-start dt('toggleswitch.slide.duration'),
            box-shadow dt('toggleswitch.slide.duration');
    }

    .p-toggleswitch.p-toggleswitch-checked .p-toggleswitch-slider {
        background: dt('toggleswitch.checked.background');
        border-color: dt('toggleswitch.checked.border.color');
    }

    .p-toggleswitch.p-toggleswitch-checked .p-toggleswitch-handle {
        background: dt('toggleswitch.handle.checked.background');
        color: dt('toggleswitch.handle.checked.color');
        inset-inline-start: calc(dt('toggleswitch.width') - calc(dt('toggleswitch.handle.size') + dt('toggleswitch.gap')));
    }

    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover) .p-toggleswitch-slider {
        background: dt('toggleswitch.hover.background');
        border-color: dt('toggleswitch.hover.border.color');
    }

    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover) .p-toggleswitch-handle {
        background: dt('toggleswitch.handle.hover.background');
        color: dt('toggleswitch.handle.hover.color');
    }

    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover).p-toggleswitch-checked .p-toggleswitch-slider {
        background: dt('toggleswitch.checked.hover.background');
        border-color: dt('toggleswitch.checked.hover.border.color');
    }

    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover).p-toggleswitch-checked .p-toggleswitch-handle {
        background: dt('toggleswitch.handle.checked.hover.background');
        color: dt('toggleswitch.handle.checked.hover.color');
    }

    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:focus-visible) .p-toggleswitch-slider {
        box-shadow: dt('toggleswitch.focus.ring.shadow');
        outline: dt('toggleswitch.focus.ring.width') dt('toggleswitch.focus.ring.style') dt('toggleswitch.focus.ring.color');
        outline-offset: dt('toggleswitch.focus.ring.offset');
    }

    .p-toggleswitch.p-invalid > .p-toggleswitch-slider {
        border-color: dt('toggleswitch.invalid.border.color');
    }

    .p-toggleswitch.p-disabled {
        opacity: 1;
    }

    .p-toggleswitch.p-disabled .p-toggleswitch-slider {
        background: dt('toggleswitch.disabled.background');
    }

    .p-toggleswitch.p-disabled .p-toggleswitch-handle {
        background: dt('toggleswitch.handle.disabled.background');
    }
`;var VD=["handle"],zD=["input"],BD=t=>({checked:t});function RD(t,s){t&1&&nt(0)}function ND(t,s){if(t&1&&B(0,RD,1,0,"ng-container",2),t&2){let e=M();T("ngTemplateOutlet",e.handleTemplate||e._handleTemplate)("ngTemplateOutletContext",rt(2,BD,e.checked()))}}var qD=`
    ${RI}

    p-toggleswitch.ng-invalid.ng-dirty > .p-toggleswitch-slider {
        border-color: dt('toggleswitch.invalid.border.color');
    }
`,jD={root:{position:"relative"}},HD={root:({instance:t})=>["p-toggleswitch p-component",{"p-toggleswitch p-component":!0,"p-toggleswitch-checked":t.checked(),"p-disabled":t.$disabled(),"p-invalid":t.invalid()}],input:"p-toggleswitch-input",slider:"p-toggleswitch-slider",handle:"p-toggleswitch-handle"},NI=(()=>{class t extends Vt{name="toggleswitch";theme=qD;classes=HD;inlineStyles=jD;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var GD={provide:Eo,useExisting:nn(()=>Bg),multi:!0},Bg=(()=>{class t extends tr{styleClass;tabindex;inputId;readonly;trueValue=!0;falseValue=!1;ariaLabel;size=sn();ariaLabelledBy;autofocus;onChange=new Fe;input;handleTemplate;_handleTemplate;focused=!1;_componentStyle=lt(NI);templates;onHostClick(e){this.onClick(e)}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"handle":this._handleTemplate=e.template;break;default:this._handleTemplate=e.template;break}})}onClick(e){!this.$disabled()&&!this.readonly&&(this.writeModelValue(this.checked()?this.falseValue:this.trueValue),this.onModelChange(this.modelValue()),this.onChange.emit({originalEvent:e,checked:this.modelValue()}),this.input.nativeElement.focus())}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}checked(){return this.modelValue()===this.trueValue}writeControlValue(e,i){i(e),this.cd.markForCheck()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-toggleswitch"],["p-toggleSwitch"],["p-toggle-switch"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,VD,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.handleTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&dt(zD,5),i&2){let a;le(a=ce())&&(n.input=a.first)}},hostVars:6,hostBindings:function(i,n){i&1&&Ie("click",function(p){return n.onHostClick(p)}),i&2&&(ue("data-pc-name","toggleswitch")("data-pc-section","root"),Ft(n.sx("root")),K(n.cn(n.cx("root"),n.styleClass)))},inputs:{styleClass:"styleClass",tabindex:[2,"tabindex","tabindex",Tt],inputId:"inputId",readonly:[2,"readonly","readonly",we],trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",size:[1,"size"],ariaLabelledBy:"ariaLabelledBy",autofocus:[2,"autofocus","autofocus",we]},outputs:{onChange:"onChange"},features:[bt([GD,NI]),gt],decls:5,vars:19,consts:[["input",""],["type","checkbox","role","switch",3,"focus","blur","checked","pAutoFocus"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){if(i&1){let a=Re();L(0,"input",1,0),Ie("focus",function(){return Z(a),X(n.onFocus())})("blur",function(){return Z(a),X(n.onBlur())}),D(),L(2,"div")(3,"div"),Gi(4,ND,1,4,"ng-container"),D()()}i&2&&(K(n.cx("input")),T("checked",n.checked())("pAutoFocus",n.autofocus),ue("id",n.inputId)("required",n.required()?"":void 0)("disabled",n.$disabled()?"":void 0)("aria-checked",n.checked())("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel)("name",n.name())("tabindex",n.tabindex)("data-pc-section","hiddenInput"),S(2),K(n.cx("slider")),ue("data-pc-section","slider"),S(),K(n.cx("handle")),S(),Ui(n.handleTemplate||n._handleTemplate?4:-1))},dependencies:[mt,ei,ko,Xe],encapsulation:2,changeDetection:0})}return t})(),qI=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[Bg,Xe,Xe]})}return t})();var jI=`
    .p-tree {
        display: block;
        background: dt('tree.background');
        color: dt('tree.color');
        padding: dt('tree.padding');
    }

    .p-tree-root-children,
    .p-tree-node-children {
        display: flex;
        list-style-type: none;
        flex-direction: column;
        margin: 0;
        gap: dt('tree.gap');
    }

    .p-tree-root-children {
        padding: 0;
        padding-block-start: dt('tree.gap');
    }

    .p-tree-node-children {
        padding: 0;
        padding-block-start: dt('tree.gap');
        padding-inline-start: dt('tree.indent');
    }

    .p-tree-node {
        padding: 0;
        outline: 0 none;
    }

    .p-tree-node-content {
        border-radius: dt('tree.node.border.radius');
        padding: dt('tree.node.padding');
        display: flex;
        align-items: center;
        outline-color: transparent;
        color: dt('tree.node.color');
        gap: dt('tree.node.gap');
        transition:
            background dt('tree.transition.duration'),
            color dt('tree.transition.duration'),
            outline-color dt('tree.transition.duration'),
            box-shadow dt('tree.transition.duration');
    }

    .p-tree-node:focus-visible > .p-tree-node-content {
        box-shadow: dt('tree.node.focus.ring.shadow');
        outline: dt('tree.node.focus.ring.width') dt('tree.node.focus.ring.style') dt('tree.node.focus.ring.color');
        outline-offset: dt('tree.node.focus.ring.offset');
    }

    .p-tree-node-content.p-tree-node-selectable:not(.p-tree-node-selected):hover {
        background: dt('tree.node.hover.background');
        color: dt('tree.node.hover.color');
    }

    .p-tree-node-content.p-tree-node-selectable:not(.p-tree-node-selected):hover .p-tree-node-icon {
        color: dt('tree.node.icon.hover.color');
    }

    .p-tree-node-content.p-tree-node-selected {
        background: dt('tree.node.selected.background');
        color: dt('tree.node.selected.color');
    }

    .p-tree-node-content.p-tree-node-selected .p-tree-node-toggle-button {
        color: inherit;
    }

    .p-tree-node-toggle-button {
        cursor: pointer;
        user-select: none;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
        flex-shrink: 0;
        width: dt('tree.node.toggle.button.size');
        height: dt('tree.node.toggle.button.size');
        color: dt('tree.node.toggle.button.color');
        border: 0 none;
        background: transparent;
        border-radius: dt('tree.node.toggle.button.border.radius');
        transition:
            background dt('tree.transition.duration'),
            color dt('tree.transition.duration'),
            border-color dt('tree.transition.duration'),
            outline-color dt('tree.transition.duration'),
            box-shadow dt('tree.transition.duration');
        outline-color: transparent;
        padding: 0;
    }

    .p-tree-node-toggle-button:enabled:hover {
        background: dt('tree.node.toggle.button.hover.background');
        color: dt('tree.node.toggle.button.hover.color');
    }

    .p-tree-node-content.p-tree-node-selected .p-tree-node-toggle-button:hover {
        background: dt('tree.node.toggle.button.selected.hover.background');
        color: dt('tree.node.toggle.button.selected.hover.color');
    }

    .p-tree-root {
        overflow: auto;
    }

    .p-tree-node-selectable {
        cursor: pointer;
        user-select: none;
    }

    .p-tree-node-leaf > .p-tree-node-content .p-tree-node-toggle-button {
        visibility: hidden;
    }

    .p-tree-node-icon {
        color: dt('tree.node.icon.color');
        transition: color dt('tree.transition.duration');
    }

    .p-tree-node-content.p-tree-node-selected .p-tree-node-icon {
        color: dt('tree.node.icon.selected.color');
    }

    .p-tree-filter {
        margin: dt('tree.filter.margin');
    }

    .p-tree-filter-input {
        width: 100%;
    }

    .p-tree-loading {
        position: relative;
        height: 100%;
    }

    .p-tree-loading-icon {
        font-size: dt('tree.loading.icon.size');
        width: dt('tree.loading.icon.size');
        height: dt('tree.loading.icon.size');
    }

    .p-tree .p-tree-mask {
        position: absolute;
        z-index: 1;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-tree-flex-scrollable {
        display: flex;
        flex: 1;
        height: 100%;
        flex-direction: column;
    }

    .p-tree-flex-scrollable .p-tree-root {
        flex: 1;
    }
`;var GI=t=>({height:t}),UI=t=>({param:t}),$D=(t,s)=>({$implicit:t,loading:s}),KD=(t,s,e)=>({$implicit:t,partialSelected:s,class:e}),$I=t=>({$implicit:t});function WD(t,s){if(t&1){let e=Re();L(0,"li",9),Ie("drop",function(n){Z(e);let a=M(2);return X(a.onDropPoint(n,-1))})("dragover",function(n){Z(e);let a=M(2);return X(a.onDropPointDragOver(n))})("dragenter",function(n){Z(e);let a=M(2);return X(a.onDropPointDragEnter(n,-1))})("dragleave",function(n){Z(e);let a=M(2);return X(a.onDropPointDragLeave(n))}),D()}if(t&2){let e=M(2);K(e.cx("dropPoint",rt(3,UI,e.draghoverPrev))),ue("aria-hidden",!0)}}function QD(t,s){if(t&1&&(it(),oe(0,"svg",12)),t&2){let e=M(4);K(e.cx("nodeToggleIcon"))}}function ZD(t,s){if(t&1&&(it(),oe(0,"svg",13)),t&2){let e=M(4);K(e.cx("nodeToggleIcon"))}}function XD(t,s){if(t&1&&(We(0),B(1,QD,1,2,"svg",10)(2,ZD,1,2,"svg",11),Qe()),t&2){let e=M(3);S(),T("ngIf",!e.node.expanded),S(),T("ngIf",e.node.expanded)}}function YD(t,s){if(t&1&&(We(0),it(),oe(1,"svg",14),Qe()),t&2){let e=M(3);S(),K(e.cx("nodeToggleIcon"))}}function JD(t,s){if(t&1&&(We(0),B(1,XD,3,2,"ng-container",5)(2,YD,2,2,"ng-container",5),Qe()),t&2){let e=M(2);S(),T("ngIf",!e.node.loading),S(),T("ngIf",e.loadingMode==="icon"&&e.node.loading)}}function eL(t,s){}function tL(t,s){t&1&&B(0,eL,0,0,"ng-template")}function iL(t,s){if(t&1&&(L(0,"span"),B(1,tL,1,0,null,15),D()),t&2){let e=M(2);K(e.cx("nodeToggleIcon")),S(),T("ngTemplateOutlet",e.tree.togglerIconTemplate||e.tree._togglerIconTemplate)("ngTemplateOutletContext",li(4,$D,e.node.expanded,e.node.loading))}}function nL(t,s){}function aL(t,s){t&1&&B(0,nL,0,0,"ng-template")}function oL(t,s){if(t&1&&B(0,aL,1,0,null,15),t&2){let e=M(4);T("ngTemplateOutlet",e.tree.checkboxIconTemplate||e.tree._checkboxIconTemplate)("ngTemplateOutletContext",Ir(2,KD,e.isSelected(),e.node.partialSelected,e.cx("nodeCheckbox")))}}function rL(t,s){t&1&&(We(0),B(1,oL,1,6,"ng-template",null,0,Be),Qe())}function sL(t,s){if(t&1){let e=Re();L(0,"p-checkbox",16),Ie("click",function(n){return Z(e),X(n.preventDefault())}),B(1,rL,3,0,"ng-container",5),D()}if(t&2){let e=M(2);T("ngModel",e.isSelected())("styleClass",e.cx("nodeCheckbox"))("binary",!0)("indeterminate",e.node.partialSelected)("disabled",e.node.selectable===!1)("variant",(e.tree==null?null:e.tree.config.inputStyle())==="filled"||(e.tree==null?null:e.tree.config.inputVariant())==="filled"?"filled":"outlined")("tabindex",-1),ue("data-p-partialchecked",e.node.partialSelected),S(),T("ngIf",e.tree.checkboxIconTemplate||e.tree._checkboxIconTemplate)}}function lL(t,s){if(t&1&&oe(0,"span"),t&2){let e=M(2);K(e.getIcon())}}function cL(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(2);S(),Dt(e.node.label)}}function uL(t,s){t&1&&nt(0)}function dL(t,s){if(t&1&&(L(0,"span"),B(1,uL,1,0,"ng-container",15),D()),t&2){let e=M(2);S(),T("ngTemplateOutlet",e.tree.getTemplateForNode(e.node))("ngTemplateOutletContext",rt(2,$I,e.node))}}function pL(t,s){if(t&1&&oe(0,"p-treeNode",19),t&2){let e=s.$implicit,i=s.first,n=s.last,a=s.index,p=M(3);T("node",e)("parentNode",p.node)("firstChild",i)("lastChild",n)("index",a)("itemSize",p.itemSize)("level",p.level+1)("loadingMode",p.loadingMode)}}function hL(t,s){if(t&1&&(L(0,"ul",17),B(1,pL,1,8,"p-treeNode",18),D()),t&2){let e=M(2);K(e.cx("nodeChildren")),S(),T("ngForOf",e.node.children)("ngForTrackBy",e.tree.trackBy.bind(e))}}function mL(t,s){if(t&1){let e=Re();L(0,"li",9),Ie("drop",function(n){Z(e);let a=M(2);return X(a.onDropPoint(n,1))})("dragover",function(n){Z(e);let a=M(2);return X(a.onDropPointDragOver(n))})("dragenter",function(n){Z(e);let a=M(2);return X(a.onDropPointDragEnter(n,1))})("dragleave",function(n){Z(e);let a=M(2);return X(a.onDropPointDragLeave(n))}),D()}if(t&2){let e=M(2);K(e.cx("dropPoint",rt(3,UI,e.draghoverNext))),ue("aria-hidden",!0)}}function fL(t,s){if(t&1){let e=Re();B(0,WD,1,5,"li",1),L(1,"li",2),Ie("keydown",function(n){Z(e);let a=M();return X(a.onKeyDown(n))}),L(2,"div",3),Ie("click",function(n){Z(e);let a=M();return X(a.onNodeClick(n))})("contextmenu",function(n){Z(e);let a=M();return X(a.onNodeRightClick(n))})("dblclick",function(n){Z(e);let a=M();return X(a.onNodeDblClick(n))})("touchend",function(){Z(e);let n=M();return X(n.onNodeTouchEnd())})("drop",function(n){Z(e);let a=M();return X(a.onDropNode(n))})("dragover",function(n){Z(e);let a=M();return X(a.onDropNodeDragOver(n))})("dragenter",function(n){Z(e);let a=M();return X(a.onDropNodeDragEnter(n))})("dragleave",function(n){Z(e);let a=M();return X(a.onDropNodeDragLeave(n))})("dragstart",function(n){Z(e);let a=M();return X(a.onDragStart(n))})("dragend",function(n){Z(e);let a=M();return X(a.onDragStop(n))}),L(3,"button",4),Ie("click",function(n){Z(e);let a=M();return X(a.toggle(n))}),B(4,JD,3,2,"ng-container",5)(5,iL,2,7,"span",6),D(),B(6,sL,2,9,"p-checkbox",7)(7,lL,1,2,"span",6),L(8,"span"),B(9,cL,2,1,"span",5)(10,dL,2,4,"span",5),D()(),B(11,hL,2,4,"ul",8),D(),B(12,mL,1,5,"li",1)}if(t&2){let e=M();T("ngIf",e.tree.droppableNodes),S(),Ft(e.node.style),K(e.cn(e.cx("node"),e.node.styleClass)),T("ngStyle",rt(33,GI,e.itemSize+"px")),ue("aria-label",e.node.label)("aria-checked",e.checked)("aria-setsize",e.node.children?e.node.children.length:0)("aria-selected",e.selected)("aria-expanded",e.node.expanded)("aria-posinset",e.index+1)("aria-level",e.level+1)("tabindex",e.index===0?0:-1)("data-id",e.node.key),S(),K(e.cx("nodeContent")),Zn("padding-left",e.level*e.indentation+"rem"),T("draggable",e.tree.draggableNodes),S(),K(e.cx("nodeToggleButton")),ue("data-pc-section","toggler"),S(),T("ngIf",!e.tree.togglerIconTemplate&&!e.tree._togglerIconTemplate),S(),T("ngIf",e.tree.togglerIconTemplate||e.tree._togglerIconTemplate),S(),T("ngIf",e.tree.selectionMode=="checkbox"),S(),T("ngIf",e.node.icon||e.node.expandedIcon||e.node.collapsedIcon),S(),K(e.cx("nodeLabel")),S(),T("ngIf",!e.tree.getTemplateForNode(e.node)),S(),T("ngIf",e.tree.getTemplateForNode(e.node)),S(),T("ngIf",!e.tree.virtualScroll&&e.node.children&&e.node.expanded),S(),T("ngIf",e.tree.droppableNodes&&e.lastChild)}}var HI=["filter"],gL=["node"],_L=["header"],bL=["footer"],yL=["loader"],vL=["empty"],xL=["togglericon"],wL=["checkboxicon"],IL=["loadingicon"],TL=["filtericon"],CL=["scroller"],SL=["wrapper"],ML=["content"],kL=t=>({options:t});function EL(t,s){if(t&1&&oe(0,"i"),t&2){let e=M(2);K(e.cn(e.cx("loadingIcon"),"pi-spin"+e.loadingIcon))}}function PL(t,s){if(t&1&&(it(),oe(0,"svg",12)),t&2){let e=M(3);K(e.cx("loadingIcon"))}}function DL(t,s){}function LL(t,s){t&1&&B(0,DL,0,0,"ng-template")}function AL(t,s){if(t&1&&(L(0,"span"),B(1,LL,1,0,null,8),D()),t&2){let e=M(3);K(e.cx("loadingIcon")),S(),T("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)}}function FL(t,s){if(t&1&&(We(0),B(1,PL,1,2,"svg",11)(2,AL,2,3,"span",7),Qe()),t&2){let e=M(2);S(),T("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),S(),T("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function OL(t,s){if(t&1&&(L(0,"div"),B(1,EL,1,2,"i",7)(2,FL,3,2,"ng-container",10),D()),t&2){let e=M();K(e.cx("mask")),S(),T("ngIf",e.loadingIcon),S(),T("ngIf",!e.loadingIcon)}}function VL(t,s){t&1&&nt(0)}function zL(t,s){t&1&&nt(0)}function BL(t,s){if(t&1&&B(0,zL,1,0,"ng-container",13),t&2){let e=M();T("ngTemplateOutlet",e.filterTemplate||e._filterTemplate)("ngTemplateOutletContext",rt(2,$I,e.filterOptions))}}function RL(t,s){if(t&1&&(it(),oe(0,"svg",16)),t&2){let e=M(3);K(e.cx("filterIcon"))}}function NL(t,s){}function qL(t,s){t&1&&B(0,NL,0,0,"ng-template")}function jL(t,s){if(t&1&&(L(0,"span"),B(1,qL,1,0,null,8),D()),t&2){let e=M(3);K(e.cx("filterIcon")),S(),T("ngTemplateOutlet",e.filterIconTemplate||e._filterIconTemplate)}}function HL(t,s){if(t&1){let e=Re();L(0,"p-iconfield")(1,"input",14,0),Ie("keydown.enter",function(n){return Z(e),X(n.preventDefault())})("input",function(n){Z(e);let a=M(2);return X(a._filter(n.target==null?null:n.target.value))}),D(),L(3,"p-inputicon"),B(4,RL,1,2,"svg",15)(5,jL,2,3,"span",7),D()()}if(t&2){let e=M(2);K(e.cx("pcFilterContainer")),S(),K(e.cx("pcFilterInput")),T("pAutoFocus",e.filterInputAutoFocus),ue("placeholder",e.filterPlaceholder),S(3),T("ngIf",!e.filterIconTemplate&&!e._filterIconTemplate),S(),T("ngIf",e.filterIconTemplate||e._filterIconTemplate)}}function GL(t,s){if(t&1&&B(0,HL,6,8,"p-iconfield",7),t&2){let e=M();T("ngIf",e.filter)}}function UL(t,s){if(t&1&&oe(0,"p-treeNode",22,3),t&2){let e=s.$implicit,i=s.first,n=s.last,a=s.index,p=M(2).options,y=M(3);T("level",e.level)("rowNode",e)("node",e.node)("parentNode",e.parent)("firstChild",i)("lastChild",n)("index",y.getIndex(p,a))("itemSize",p.itemSize)("indentation",y.indentation)("loadingMode",y.loadingMode)}}function $L(t,s){if(t&1&&(L(0,"ul",20,2),B(2,UL,2,10,"p-treeNode",21),D()),t&2){let e=M(),i=e.$implicit,n=e.options,a=M(3);Ft(n.contentStyle),K(a.cx("rootChildren")),T("ngClass",n.contentStyleClass),ue("aria-label",a.ariaLabel)("aria-labelledby",a.ariaLabelledBy),S(2),T("ngForOf",i)("ngForTrackBy",a.trackBy)}}function KL(t,s){if(t&1&&B(0,$L,3,9,"ul",19),t&2){let e=s.$implicit;T("ngIf",e)}}function WL(t,s){t&1&&nt(0)}function QL(t,s){if(t&1&&B(0,WL,1,0,"ng-container",13),t&2){let e=s.options,i=M(4);T("ngTemplateOutlet",i.loaderTemplate||i._loaderTemplate)("ngTemplateOutletContext",rt(2,kL,e))}}function ZL(t,s){t&1&&(We(0),B(1,QL,1,4,"ng-template",null,4,Be),Qe())}function XL(t,s){if(t&1){let e=Re();L(0,"p-scroller",18,1),Ie("onScroll",function(n){Z(e);let a=M(2);return X(a.onScroll.emit(n))})("onScrollIndexChange",function(n){Z(e);let a=M(2);return X(a.onScrollIndexChange.emit(n))})("onLazyLoad",function(n){Z(e);let a=M(2);return X(a.onLazyLoad.emit(n))}),B(2,KL,1,1,"ng-template",null,2,Be)(4,ZL,3,0,"ng-container",10),D()}if(t&2){let e=M(2);Ft(rt(10,GI,e.scrollHeight!=="flex"?e.scrollHeight:void 0)),T("items",e.serializedValue)("tabindex",-1)("styleClass",e.cx("wrapper"))("scrollHeight",e.scrollHeight!=="flex"?void 0:"100%")("itemSize",e.virtualScrollItemSize)("lazy",e.lazy)("options",e.virtualScrollOptions),S(4),T("ngIf",e.loaderTemplate||e._loaderTemplate)}}function YL(t,s){if(t&1&&oe(0,"p-treeNode",26),t&2){let e=s.$implicit,i=s.first,n=s.last,a=s.index,p=M(4);T("node",e)("firstChild",i)("lastChild",n)("index",a)("level",0)("loadingMode",p.loadingMode)}}function JL(t,s){if(t&1&&(L(0,"ul",24,2),B(2,YL,1,6,"p-treeNode",25),D()),t&2){let e=M(3);K(e.cx("rootChildren")),ue("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy),S(2),T("ngForOf",e.getRootNode())("ngForTrackBy",e.trackBy.bind(e))}}function eA(t,s){if(t&1&&(We(0),L(1,"div",null,5),B(3,JL,3,6,"ul",23),D(),Qe()),t&2){let e=M(2);S(),K(e.cx("wrapper")),Zn("max-height",e.scrollHeight),S(2),T("ngIf",e.getRootNode())}}function tA(t,s){if(t&1&&(We(0),B(1,XL,5,12,"p-scroller",17)(2,eA,4,5,"ng-container",10),Qe()),t&2){let e=M();S(),T("ngIf",e.virtualScroll),S(),T("ngIf",!e.virtualScroll)}}function iA(t,s){if(t&1&&(We(0),ne(1),Qe()),t&2){let e=M(2);S(),ni(" ",e.emptyMessageLabel," ")}}function nA(t,s){}function aA(t,s){t&1&&B(0,nA,0,0,"ng-template",null,6,Be)}function oA(t,s){if(t&1&&(L(0,"div"),B(1,iA,2,1,"ng-container",27)(2,aA,2,0,null,8),D()),t&2){let e=M();K(e.cx("emptyMessage")),S(),T("ngIf",!e.emptyMessageTemplate&&!e._emptyMessageTemplate)("ngIfElse",e.emptyFilter),S(),T("ngTemplateOutlet",e.emptyMessageTemplate||e._emptyMessageTemplate)}}function rA(t,s){t&1&&nt(0)}var sA={root:({instance:t})=>["p-tree p-component",{"p-tree-selectable":t.selectionMode!=null,"p-tree-loading":t.loading,"p-tree-flex-scrollable":t.scrollHeight==="flex","p-tree-node-dragover":t.dragHover}],mask:"p-tree-mask p-overlay-mask",loadingIcon:"p-tree-loading-icon",pcFilterInput:"p-tree-filter-input",wrapper:"p-tree-root",rootChildren:"p-tree-root-children",node:({instance:t})=>({"p-tree-node":!0,"p-tree-node-leaf":t.isLeaf()}),nodeContent:({instance:t})=>({"p-tree-node-content":!0,"p-tree-node-selectable":t.selectable,"p-tree-node-dragover":t.draghoverNode,"p-tree-node-selected":t.selectionMode==="checkbox"&&t.tree.highlightOnSelect?t.checked:t.selected}),nodeToggleButton:"p-tree-node-toggle-button",nodeToggleIcon:"p-tree-node-toggle-icon",nodeCheckbox:"p-tree-node-checkbox",nodeIcon:"p-tree-node-icon",nodeLabel:"p-tree-node-label",nodeChildren:"p-tree-node-children",emptyMessage:"p-tree-empty-message",dropPoint:({param:t})=>["p-tree-node-droppoint",{"p-tree-node-droppoint-active":t}]},Rg=(()=>{class t extends Vt{name="tree";theme=jI;classes=sA;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var lA=(()=>{class t extends Ot{static ICON_CLASS="p-tree-node-icon ";rowNode;node;parentNode;root;index;firstChild;lastChild;level;indentation;itemSize;loadingMode;tree=lt(nn(()=>Ep));timeout;draghoverPrev;draghoverNext;draghoverNode;_componentStyle=lt(Rg);get selected(){return this.tree.selectionMode==="single"||this.tree.selectionMode==="multiple"?this.isSelected():void 0}get checked(){return this.tree.selectionMode==="checkbox"?this.isSelected():void 0}get nodeClass(){return this.tree._componentStyle.classes.node({instance:this})}get selectable(){return this.node.selectable===!1?!1:this.tree.selectionMode!=null}ngOnInit(){super.ngOnInit(),this.node.parent=this.parentNode;let i=this.tree.el.nativeElement.closest("p-dialog");this.parentNode&&!i&&(this.setAllNodesTabIndexes(),this.tree.syncNodeOption(this.node,this.tree.value,"parent",this.tree.getNodeWithKey(this.parentNode.key,this.tree.value)))}getIcon(){let e;return this.node.icon?e=this.node.icon:e=this.node.expanded&&this.node.children&&this.node.children?.length?this.node.expandedIcon:this.node.collapsedIcon,t.ICON_CLASS+" "+e+" p-tree-node-icon"}isLeaf(){return this.tree.isNodeLeaf(this.node)}toggle(e){this.node.expanded?this.collapse(e):this.expand(e),e.stopPropagation()}expand(e){this.node.expanded=!0,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeExpand.emit({originalEvent:e,node:this.node})}collapse(e){this.node.expanded=!1,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeCollapse.emit({originalEvent:e,node:this.node})}onNodeClick(e){this.tree.onNodeClick(e,this.node)}onNodeKeydown(e){e.key==="Enter"&&this.tree.onNodeClick(e,this.node)}onNodeTouchEnd(){this.tree.onNodeTouchEnd()}onNodeRightClick(e){this.tree.onNodeRightClick(e,this.node)}onNodeDblClick(e){this.tree.onNodeDblClick(e,this.node)}isSelected(){return this.tree.isSelected(this.node)}isSameNode(e){return e.currentTarget&&(e.currentTarget.isSameNode(e.target)||e.currentTarget.isSameNode(e.target.closest('[role="treeitem"]')))}onDropPoint(e,i){e.preventDefault();let n=this.tree.dragNode,a=this.tree.dragNodeIndex,p=this.tree.dragNodeScope,y=this.tree.dragNodeTree===this.tree?i===1||a!==this.index-1:!0;if(this.tree.allowDrop(n,this.node,p)&&y){let C=ai({},this.createDropPointEventMetadata(i));this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:e,dragNode:n,dropNode:this.node,index:this.index,accept:()=>{this.processPointDrop(C)}}):(this.processPointDrop(C),this.tree.onNodeDrop.emit({originalEvent:e,dragNode:n,dropNode:this.node,index:this.index}))}this.draghoverPrev=!1,this.draghoverNext=!1}processPointDrop(e){let i=e.dropNode.parent?e.dropNode.parent.children:this.tree.value;e.dragNodeSubNodes.splice(e.dragNodeIndex,1);let n=this.index;e.position<0?(n=e.dragNodeSubNodes===i?e.dragNodeIndex>e.index?e.index:e.index-1:e.index,i.splice(n,0,e.dragNode)):(n=i.length,i.push(e.dragNode)),this.tree.dragDropService.stopDrag({node:e.dragNode,subNodes:e.dropNode.parent?e.dropNode.parent.children:this.tree.value,index:e.dragNodeIndex})}createDropPointEventMetadata(e){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node,index:this.index,position:e}}onDropPointDragOver(e){e.dataTransfer.dropEffect="move",e.preventDefault()}onDropPointDragEnter(e,i){this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(i<0?this.draghoverPrev=!0:this.draghoverNext=!0)}onDropPointDragLeave(e){this.draghoverPrev=!1,this.draghoverNext=!1}onDragStart(e){this.tree.draggableNodes&&this.node.draggable!==!1?(e.dataTransfer.setData("text","data"),this.tree.dragDropService.startDrag({tree:this,node:this.node,subNodes:this.node?.parent?this.node.parent.children:this.tree.value,index:this.index,scope:this.tree.draggableScope})):e.preventDefault()}onDragStop(e){this.tree.dragDropService.stopDrag({node:this.node,subNodes:this.node?.parent?this.node.parent.children:this.tree.value,index:this.index})}onDropNodeDragOver(e){e.dataTransfer.dropEffect="move",this.tree.droppableNodes&&(e.preventDefault(),e.stopPropagation())}onDropNode(e){if(this.tree.droppableNodes&&this.node?.droppable!==!1){let i=this.tree.dragNode;if(this.tree.allowDrop(i,this.node,this.tree.dragNodeScope)){let n=ai({},this.createDropNodeEventMetadata());this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:e,dragNode:i,dropNode:this.node,index:this.index,accept:()=>{this.processNodeDrop(n)}}):(this.processNodeDrop(n),this.tree.onNodeDrop.emit({originalEvent:e,dragNode:i,dropNode:this.node,index:this.index}))}}e.preventDefault(),e.stopPropagation(),this.draghoverNode=!1}createDropNodeEventMetadata(){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node}}processNodeDrop(e){let i=e.dragNodeIndex;e.dragNodeSubNodes.splice(i,1),e.dropNode.children?e.dropNode.children.push(e.dragNode):e.dropNode.children=[e.dragNode],this.tree.dragDropService.stopDrag({node:e.dragNode,subNodes:e.dropNode.parent?e.dropNode.parent.children:this.tree.value,index:i})}onDropNodeDragEnter(e){this.tree.droppableNodes&&this.node?.droppable!==!1&&this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(this.draghoverNode=!0)}onDropNodeDragLeave(e){if(this.tree.droppableNodes){let i=e.currentTarget.getBoundingClientRect();(e.x>i.left+i.width||e.x<i.left||e.y>=Math.floor(i.top+i.height)||e.y<i.top)&&(this.draghoverNode=!1)}}onKeyDown(e){if(!(!this.isSameNode(e)||this.tree.contextMenu&&this.tree.contextMenu.containerViewChild?.nativeElement.style.display==="block"))switch(e.code){case"ArrowDown":this.onArrowDown(e);break;case"ArrowUp":this.onArrowUp(e);break;case"ArrowRight":this.onArrowRight(e);break;case"ArrowLeft":this.onArrowLeft(e);break;case"Enter":case"Space":case"NumpadEnter":this.onEnter(e);break;case"Tab":this.setAllNodesTabIndexes();break;default:break}}onArrowUp(e){let i=e.target.getAttribute("data-pc-section")==="toggler"?e.target.closest('[role="treeitem"]'):e.target.parentElement;if(i.previousElementSibling)this.focusRowChange(i,i.previousElementSibling,this.findLastVisibleDescendant(i.previousElementSibling));else{let n=this.getParentNodeElement(i);n&&this.focusRowChange(i,n)}e.preventDefault()}onArrowDown(e){let i=e.target.getAttribute("data-pc-section")==="toggler"?e.target.closest('[role="treeitem"]'):e.target,n=i.children[1];if(n&&n.children.length>0)this.focusRowChange(i,n.children[0]);else if(i.parentElement.nextElementSibling)this.focusRowChange(i,i.parentElement.nextElementSibling);else{let a=this.findNextSiblingOfAncestor(i.parentElement);a&&this.focusRowChange(i,a)}e.preventDefault()}onArrowRight(e){!this.node?.expanded&&!this.tree.isNodeLeaf(this.node)&&(this.expand(e),e.currentTarget.tabIndex=-1,setTimeout(()=>{this.onArrowDown(e)},1)),e.preventDefault()}onArrowLeft(e){let i=e.target.getAttribute("data-pc-section")==="toggler"?e.target.closest('[role="treeitem"]'):e.target;if(this.level===0&&!this.node?.expanded)return!1;if(this.node?.expanded){this.collapse(e);return}let n=this.getParentNodeElement(i.parentElement);n&&this.focusRowChange(e.currentTarget,n),e.preventDefault()}onEnter(e){this.tree.onNodeClick(e,this.node),this.setTabIndexForSelectionMode(e,this.tree.nodeTouched),e.preventDefault()}setAllNodesTabIndexes(){let e=da(this.tree.el.nativeElement,".p-tree-node"),i=[...e].some(n=>n.getAttribute("aria-selected")==="true"||n.getAttribute("aria-checked")==="true");if([...e].forEach(n=>{n.tabIndex=-1}),i){let n=[...e].filter(a=>a.getAttribute("aria-selected")==="true"||a.getAttribute("aria-checked")==="true");n[0].tabIndex=0;return}e.length&&([...e][0].tabIndex=0)}setTabIndexForSelectionMode(e,i){if(this.tree.selectionMode!==null){let n=[...da(this.tree.el.nativeElement,'[role="treeitem"]')];e.currentTarget.tabIndex=i===!1?-1:0,n.every(a=>a.tabIndex===-1)&&(n[0].tabIndex=0)}}findNextSiblingOfAncestor(e){let i=this.getParentNodeElement(e);return i?i.nextElementSibling?i.nextElementSibling:this.findNextSiblingOfAncestor(i):null}findLastVisibleDescendant(e){let n=Array.from(e.children).find(a=>Ho(a,"p-tree-node"))?.children[1];if(n&&n.children.length>0){let a=n.children[n.children.length-1];return this.findLastVisibleDescendant(a)}else return e}getParentNodeElement(e){let i=e.parentElement?.parentElement?.parentElement;return i?.tagName==="P-TREENODE"?i:null}focusNode(e){this.tree.droppableNodes?e.children[1].focus():e.children[0].focus()}focusRowChange(e,i,n){e.tabIndex="-1",i.children[0].tabIndex="0",this.focusNode(n||i)}focusVirtualNode(){this.timeout=setTimeout(()=>{let e=ti(this.tree?.contentViewChild.nativeElement,`[data-id="${this.node?.key??this.node?.data}"]`);Wt(e)},1)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-treeNode"]],inputs:{rowNode:"rowNode",node:"node",parentNode:"parentNode",root:[2,"root","root",we],index:[2,"index","index",Tt],firstChild:[2,"firstChild","firstChild",we],lastChild:[2,"lastChild","lastChild",we],level:[2,"level","level",Tt],indentation:[2,"indentation","indentation",Tt],itemSize:[2,"itemSize","itemSize",Tt],loadingMode:"loadingMode"},features:[bt([Rg]),gt],decls:1,vars:1,consts:[["icon",""],[3,"class","drop","dragover","dragenter","dragleave",4,"ngIf"],["role","treeitem",3,"keydown","ngStyle"],[3,"click","contextmenu","dblclick","touchend","drop","dragover","dragenter","dragleave","dragstart","dragend","draggable"],["type","button","pRipple","","tabindex","-1",3,"click"],[4,"ngIf"],[3,"class",4,"ngIf"],[3,"ngModel","styleClass","binary","indeterminate","disabled","variant","tabindex","click",4,"ngIf"],["role","group",3,"class",4,"ngIf"],[3,"drop","dragover","dragenter","dragleave"],["data-p-icon","chevron-right",3,"class",4,"ngIf"],["data-p-icon","chevron-down",3,"class",4,"ngIf"],["data-p-icon","chevron-right"],["data-p-icon","chevron-down"],["data-p-icon","spinner","spin",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","ngModel","styleClass","binary","indeterminate","disabled","variant","tabindex"],["role","group"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level","loadingMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level","loadingMode"]],template:function(i,n){i&1&&Gi(0,fL,13,35),i&2&&Ui(n.node?0:-1)},dependencies:[t,mt,ji,$t,ei,bi,pn,Rr,ln,Yn,Jn,ao,Ma,Ss,Xe],encapsulation:2})}return t})(),Ep=(()=>{class t extends Ot{dragDropService;value;selectionMode;loadingMode="mask";selection;styleClass;contextMenu;draggableScope;droppableScope;draggableNodes;droppableNodes;metaKeySelection=!1;propagateSelectionUp=!0;propagateSelectionDown=!0;loading;loadingIcon;emptyMessage="";ariaLabel;togglerAriaLabel;ariaLabelledBy;validateDrop;filter;filterInputAutoFocus=!1;filterBy="label";filterMode="lenient";filterOptions;filterPlaceholder;filteredNodes;filterLocale;scrollHeight;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;indentation=1.5;_templateMap;trackBy=(e,i)=>i;highlightOnSelect=!1;selectionChange=new Fe;onNodeSelect=new Fe;onNodeUnselect=new Fe;onNodeExpand=new Fe;onNodeCollapse=new Fe;onNodeContextMenuSelect=new Fe;onNodeDoubleClick=new Fe;onNodeDrop=new Fe;onLazyLoad=new Fe;onScroll=new Fe;onScrollIndexChange=new Fe;onFilter=new Fe;filterTemplate;nodeTemplate;headerTemplate;footerTemplate;loaderTemplate;emptyMessageTemplate;togglerIconTemplate;checkboxIconTemplate;loadingIconTemplate;filterIconTemplate;filterViewChild;scroller;wrapperViewChild;contentViewChild;templates;_headerTemplate;_emptyMessageTemplate;_footerTemplate;_loaderTemplate;_togglerIconTemplate;_checkboxIconTemplate;_loadingIconTemplate;_filterIconTemplate;_filterTemplate;ngAfterContentInit(){this.templates.length&&(this._templateMap={}),this.templates.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"empty":this._emptyMessageTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;case"togglericon":this._togglerIconTemplate=e.template;break;case"checkboxicon":this._checkboxIconTemplate=e.template;break;case"loadingicon":this._loadingIconTemplate=e.template;break;case"filtericon":this._filterIconTemplate=e.template;break;case"filter":this._filterTemplate=e.template;break;default:this._templateMap[e.name]=e.template;break}})}serializedValue;nodeTouched;dragNodeTree;dragNode;dragNodeSubNodes;dragNodeIndex;dragNodeScope;dragHover;dragStartSubscription;dragStopSubscription;_componentStyle=lt(Rg);handleDropEvent(e){this.onDrop(e)}handleDragOverEvent(e){this.onDragOver(e)}handleDragEnterEvent(){this.onDragEnter()}handleDragLeaveEvent(e){this.onDragLeave(e)}constructor(e){super(),this.dragDropService=e}ngOnInit(){super.ngOnInit(),this.filterBy&&(this.filterOptions={filter:e=>this._filter(e),reset:()=>this.resetFilter()}),this.droppableNodes&&(this.dragStartSubscription=this.dragDropService.dragStart$.subscribe(e=>{this.dragNodeTree=e.tree,this.dragNode=e.node,this.dragNodeSubNodes=e.subNodes,this.dragNodeIndex=e.index,this.dragNodeScope=e.scope}),this.dragStopSubscription=this.dragDropService.dragStop$.subscribe(e=>{this.dragNodeTree=null,this.dragNode=null,this.dragNodeSubNodes=null,this.dragNodeIndex=null,this.dragNodeScope=null,this.dragHover=!1}))}ngOnChanges(e){super.ngOnChanges(e),e.value&&(this.updateSerializedValue(),this.hasFilterActive()&&this._filter(this.filterViewChild.nativeElement.value))}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(_o.EMPTY_MESSAGE)}updateSerializedValue(){this.serializedValue=[],this.serializeNodes(null,this.getRootNode(),0,!0)}serializeNodes(e,i,n,a){if(i&&i.length)for(let p of i){p.parent=e;let y={node:p,parent:e,level:n,visible:a&&(e?e.expanded:!0)};this.serializedValue.push(y),y.visible&&p.expanded&&this.serializeNodes(p,p.children,n+1,y.visible)}}onNodeClick(e,i){let n=e.target;if(!(Ho(n,"p-tree-toggler")||Ho(n,"p-tree-toggler-icon"))){if(this.selectionMode){if(i.selectable===!1){i.style="--p-focus-ring-color: none;";return}else i.style?.includes("--p-focus-ring-color")||(i.style=i.style?`${i.style}--p-focus-ring-color: var(--primary-color)`:"--p-focus-ring-color: var(--primary-color)");if(this.hasFilteredNodes()&&(i=this.getNodeWithKey(i.key,this.filteredNodes),!i))return;let a=this.findIndexInSelection(i),p=a>=0;if(this.isCheckboxSelectionMode())p?(this.propagateSelectionDown?this.propagateDown(i,!1):this.selection=this.selection.filter((y,C)=>C!=a),this.propagateSelectionUp&&i.parent&&this.propagateUp(i.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e,node:i})):(this.propagateSelectionDown?this.propagateDown(i,!0):this.selection=[...this.selection||[],i],this.propagateSelectionUp&&i.parent&&this.propagateUp(i.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e,node:i}));else if(this.nodeTouched?!1:this.metaKeySelection){let C=e.metaKey||e.ctrlKey;p&&C?(this.isSingleSelectionMode()?this.selectionChange.emit(null):(this.selection=this.selection.filter((A,R)=>R!=a),this.selectionChange.emit(this.selection)),this.onNodeUnselect.emit({originalEvent:e,node:i})):(this.isSingleSelectionMode()?this.selectionChange.emit(i):this.isMultipleSelectionMode()&&(this.selection=C?this.selection||[]:[],this.selection=[...this.selection,i],this.selectionChange.emit(this.selection)),this.onNodeSelect.emit({originalEvent:e,node:i}))}else this.isSingleSelectionMode()?p?(this.selection=null,this.onNodeUnselect.emit({originalEvent:e,node:i})):(this.selection=i,setTimeout(()=>{this.onNodeSelect.emit({originalEvent:e,node:i})})):p?(this.selection=this.selection.filter((C,A)=>A!=a),this.onNodeUnselect.emit({originalEvent:e,node:i})):(this.selection=[...this.selection||[],i],setTimeout(()=>{this.onNodeSelect.emit({originalEvent:e,node:i})})),this.selectionChange.emit(this.selection)}this.nodeTouched=!1}}onNodeTouchEnd(){this.nodeTouched=!0}onNodeRightClick(e,i){if(this.contextMenu){let n=e.target;if(n.className&&n.className.indexOf("p-tree-toggler")===0)return;this.findIndexInSelection(i)>=0||(this.isSingleSelectionMode()?this.selectionChange.emit(i):this.selectionChange.emit([i])),this.contextMenu.show(e),this.onNodeContextMenuSelect.emit({originalEvent:e,node:i})}}onNodeDblClick(e,i){this.onNodeDoubleClick.emit({originalEvent:e,node:i})}findIndexInSelection(e){let i=-1;if(this.selectionMode&&this.selection)if(this.isSingleSelectionMode())i=this.selection.key&&this.selection.key===e.key||this.selection==e?0:-1;else for(let n=0;n<this.selection.length;n++){let a=this.selection[n];if(a.key&&a.key===e.key||a==e){i=n;break}}return i}syncNodeOption(e,i,n,a){let p=this.hasFilteredNodes()?this.getNodeWithKey(e.key,i):null;p&&(p[n]=a||e[n])}hasFilteredNodes(){return this.filter&&this.filteredNodes&&this.filteredNodes.length}hasFilterActive(){return this.filter&&this.filterViewChild?.nativeElement?.value.length>0}getNodeWithKey(e,i){for(let n of i){if(n.key===e)return n;if(n.children){let a=this.getNodeWithKey(e,n.children);if(a)return a}}}propagateUp(e,i){if(e.children&&e.children.length){let a=0,p=!1;for(let y of e.children)this.isSelected(y)?a++:y.partialSelected&&(p=!0);if(i&&a==e.children.length)this.selection=[...this.selection||[],e],e.partialSelected=!1;else{if(!i){let y=this.findIndexInSelection(e);y>=0&&(this.selection=this.selection.filter((C,A)=>A!=y))}p||a>0&&a!=e.children.length?e.partialSelected=!0:e.partialSelected=!1}this.syncNodeOption(e,this.filteredNodes,"partialSelected")}let n=e.parent;n&&this.propagateUp(n,i)}propagateDown(e,i){let n=this.findIndexInSelection(e);if(i&&n==-1?this.selection=[...this.selection||[],e]:!i&&n>-1&&(this.selection=this.selection.filter((a,p)=>p!=n)),e.partialSelected=!1,this.syncNodeOption(e,this.filteredNodes,"partialSelected"),e.children&&e.children.length)for(let a of e.children)this.propagateDown(a,i)}isSelected(e){return this.findIndexInSelection(e)!=-1}isSingleSelectionMode(){return this.selectionMode&&this.selectionMode=="single"}isMultipleSelectionMode(){return this.selectionMode&&this.selectionMode=="multiple"}isCheckboxSelectionMode(){return this.selectionMode&&this.selectionMode=="checkbox"}isNodeLeaf(e){return e.leaf==!1?!1:!(e.children&&e.children.length)}getRootNode(){return this.filteredNodes?this.filteredNodes:this.value}getTemplateForNode(e){return this._templateMap?e.type?this._templateMap[e.type]:this._templateMap.default:null}onDragOver(e){this.droppableNodes&&(!this.value||this.value.length===0)&&(e.dataTransfer.dropEffect="move",e.preventDefault())}onDrop(e){if(this.droppableNodes&&(!this.value||this.value.length===0)){e.preventDefault();let i=this.dragNode;if(this.allowDrop(i,null,this.dragNodeScope)){let n=this.dragNodeIndex;this.value=this.value||[],this.validateDrop?this.onNodeDrop.emit({originalEvent:e,dragNode:i,dropNode:null,index:n,accept:()=>{this.processTreeDrop(i,n)}}):(this.onNodeDrop.emit({originalEvent:e,dragNode:i,dropNode:null,index:n}),this.processTreeDrop(i,n))}}}processTreeDrop(e,i){this.dragNodeSubNodes.splice(i,1),this.value.push(e),this.dragDropService.stopDrag({node:e})}onDragEnter(){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(this.dragHover=!0)}onDragLeave(e){if(this.droppableNodes){let i=e.currentTarget.getBoundingClientRect();(e.x>i.left+i.width||e.x<i.left||e.y>i.top+i.height||e.y<i.top)&&(this.dragHover=!1)}}allowDrop(e,i,n){if(e)if(this.isValidDragScope(n)){let a=!0;if(i)if(e===i)a=!1;else{let p=i.parent;for(;p!=null;){if(p===e){a=!1;break}p=p.parent}}return a}else return!1;else return!1}isValidDragScope(e){let i=this.droppableScope;if(i){if(typeof i=="string"){if(typeof e=="string")return i===e;if(Array.isArray(e))return e.indexOf(i)!=-1}else if(Array.isArray(i)){if(typeof e=="string")return i.indexOf(e)!=-1;if(Array.isArray(e)){for(let n of i)for(let a of e)if(n===a)return!0}}return!1}else return!0}_filter(e){let i=e;if(i==="")this.filteredNodes=null;else{this.filteredNodes=[];let n=this.filterBy.split(","),a=H1(i).toLocaleLowerCase(this.filterLocale),p=this.filterMode==="strict";for(let y of this.value){let C=ai({},y),A={searchFields:n,filterText:a,isStrictMode:p};(p&&(this.findFilteredNodes(C,A)||this.isFilterMatched(C,A))||!p&&(this.isFilterMatched(C,A)||this.findFilteredNodes(C,A)))&&this.filteredNodes.push(C)}}this.updateSerializedValue(),this.onFilter.emit({filter:i,filteredValue:this.filteredNodes})}resetFilter(){this.filteredNodes=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}scrollToVirtualIndex(e){this.virtualScroll&&this.scroller?.scrollToIndex(e)}scrollTo(e){this.virtualScroll?this.scroller?.scrollTo(e):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top))}findFilteredNodes(e,i){if(e){let n=!1;if(e.children){let a=[...e.children];e.children=[];for(let p of a){let y=ai({},p);this.isFilterMatched(y,i)&&(n=!0,e.children.push(y))}}if(n)return e.expanded=!0,!0}}isFilterMatched(e,i){let{searchFields:n,filterText:a,isStrictMode:p}=i,y=!1;for(let C of n)H1(String(Ai(e,C))).toLocaleLowerCase(this.filterLocale).indexOf(a)>-1&&(y=!0);return(!y||p&&!this.isNodeLeaf(e))&&(y=this.findFilteredNodes(e,{searchFields:n,filterText:a,isStrictMode:p})||y),y}getIndex(e,i){let n=e.getItemOptions;return n?n(i).index:i}getBlockableElement(){return this.el.nativeElement.children[0]}ngOnDestroy(){this.dragStartSubscription&&this.dragStartSubscription.unsubscribe(),this.dragStopSubscription&&this.dragStopSubscription.unsubscribe(),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||t)(At(zx,8))};static \u0275cmp=Je({type:t,selectors:[["p-tree"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,HI,4),ve(a,gL,4),ve(a,_L,4),ve(a,bL,4),ve(a,yL,4),ve(a,vL,4),ve(a,xL,4),ve(a,wL,4),ve(a,IL,4),ve(a,TL,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.filterTemplate=p.first),le(p=ce())&&(n.nodeTemplate=p.first),le(p=ce())&&(n.headerTemplate=p.first),le(p=ce())&&(n.footerTemplate=p.first),le(p=ce())&&(n.loaderTemplate=p.first),le(p=ce())&&(n.emptyMessageTemplate=p.first),le(p=ce())&&(n.togglerIconTemplate=p.first),le(p=ce())&&(n.checkboxIconTemplate=p.first),le(p=ce())&&(n.loadingIconTemplate=p.first),le(p=ce())&&(n.filterIconTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&(dt(HI,5),dt(CL,5),dt(SL,5),dt(ML,5)),i&2){let a;le(a=ce())&&(n.filterViewChild=a.first),le(a=ce())&&(n.scroller=a.first),le(a=ce())&&(n.wrapperViewChild=a.first),le(a=ce())&&(n.contentViewChild=a.first)}},hostVars:2,hostBindings:function(i,n){i&1&&Ie("drop",function(p){return n.handleDropEvent(p)})("dragover",function(p){return n.handleDragOverEvent(p)})("dragenter",function(){return n.handleDragEnterEvent()})("dragleave",function(p){return n.handleDragLeaveEvent(p)}),i&2&&K(n.cn(n.cx("root"),n.styleClass))},inputs:{value:"value",selectionMode:"selectionMode",loadingMode:"loadingMode",selection:"selection",styleClass:"styleClass",contextMenu:"contextMenu",draggableScope:"draggableScope",droppableScope:"droppableScope",draggableNodes:[2,"draggableNodes","draggableNodes",we],droppableNodes:[2,"droppableNodes","droppableNodes",we],metaKeySelection:[2,"metaKeySelection","metaKeySelection",we],propagateSelectionUp:[2,"propagateSelectionUp","propagateSelectionUp",we],propagateSelectionDown:[2,"propagateSelectionDown","propagateSelectionDown",we],loading:[2,"loading","loading",we],loadingIcon:"loadingIcon",emptyMessage:"emptyMessage",ariaLabel:"ariaLabel",togglerAriaLabel:"togglerAriaLabel",ariaLabelledBy:"ariaLabelledBy",validateDrop:[2,"validateDrop","validateDrop",we],filter:[2,"filter","filter",we],filterInputAutoFocus:[2,"filterInputAutoFocus","filterInputAutoFocus",we],filterBy:"filterBy",filterMode:"filterMode",filterOptions:"filterOptions",filterPlaceholder:"filterPlaceholder",filteredNodes:"filteredNodes",filterLocale:"filterLocale",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",we],virtualScroll:[2,"virtualScroll","virtualScroll",we],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Tt],virtualScrollOptions:"virtualScrollOptions",indentation:[2,"indentation","indentation",Tt],_templateMap:"_templateMap",trackBy:"trackBy",highlightOnSelect:[2,"highlightOnSelect","highlightOnSelect",we]},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onNodeContextMenuSelect:"onNodeContextMenuSelect",onNodeDoubleClick:"onNodeDoubleClick",onNodeDrop:"onNodeDrop",onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange",onFilter:"onFilter"},features:[bt([Rg]),gt,wr],decls:7,vars:6,consts:[["filter",""],["scroller",""],["content",""],["treeNode",""],["loader",""],["wrapper",""],["emptyFilter",""],[3,"class",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"class"],[4,"ngIf"],["data-p-icon","spinner","spin","",3,"class",4,"ngIf"],["data-p-icon","spinner","spin",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["pInputText","","type","search","autocomplete","off",3,"keydown.enter","input","pAutoFocus"],["data-p-icon","search",3,"class",4,"ngIf"],["data-p-icon","search"],[3,"items","tabindex","styleClass","style","scrollHeight","itemSize","lazy","options","onScroll","onScrollIndexChange","onLazyLoad",4,"ngIf"],[3,"onScroll","onScrollIndexChange","onLazyLoad","items","tabindex","styleClass","scrollHeight","itemSize","lazy","options"],["role","tree",3,"class","ngClass","style",4,"ngIf"],["role","tree",3,"ngClass"],[3,"level","rowNode","node","parentNode","firstChild","lastChild","index","itemSize","indentation","loadingMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"level","rowNode","node","parentNode","firstChild","lastChild","index","itemSize","indentation","loadingMode"],["role","tree",3,"class",4,"ngIf"],["role","tree"],[3,"node","firstChild","lastChild","index","level","loadingMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild","index","level","loadingMode"],[4,"ngIf","ngIfElse"]],template:function(i,n){if(i&1&&(B(0,OL,3,4,"div",7)(1,VL,1,0,"ng-container",8),Gi(2,BL,1,4,"ng-container")(3,GL,1,1,"p-iconfield",9),B(4,tA,3,2,"ng-container",10)(5,oA,3,5,"div",7)(6,rA,1,0,"ng-container",8)),i&2){let a;T("ngIf",n.loading&&n.loadingMode==="mask"),S(),T("ngTemplateOutlet",n.headerTemplate||n._headerTemplate),S(),Ui(n.filterTemplate||n._filterTemplate?2:3),S(2),T("ngIf",(a=n.getRootNode())==null?null:a.length),S(),T("ngIf",!n.loading&&(n.getRootNode()==null||n.getRootNode().length===0)),S(),T("ngTemplateOutlet",n.footerTemplate||n._footerTemplate)}},dependencies:[mt,Ca,ji,$t,ei,Jr,Xe,np,Ss,sa,ln,ir,nr,lA,bf,ko],encapsulation:2})}return t})(),KI=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[Ep,Xe,Xe]})}return t})();var WI=`
    .p-treeselect {
        display: inline-flex;
        cursor: pointer;
        position: relative;
        user-select: none;
        background: dt('treeselect.background');
        border: 1px solid dt('treeselect.border.color');
        transition:
            background dt('treeselect.transition.duration'),
            color dt('treeselect.transition.duration'),
            border-color dt('treeselect.transition.duration'),
            outline-color dt('treeselect.transition.duration'),
            box-shadow dt('treeselect.transition.duration');
        border-radius: dt('treeselect.border.radius');
        outline-color: transparent;
        box-shadow: dt('treeselect.shadow');
    }

    .p-treeselect:not(.p-disabled):hover {
        border-color: dt('treeselect.hover.border.color');
    }

    .p-treeselect:not(.p-disabled).p-focus {
        border-color: dt('treeselect.focus.border.color');
        box-shadow: dt('treeselect.focus.ring.shadow');
        outline: dt('treeselect.focus.ring.width') dt('treeselect.focus.ring.style') dt('treeselect.focus.ring.color');
        outline-offset: dt('treeselect.focus.ring.offset');
    }

    .p-treeselect.p-variant-filled {
        background: dt('treeselect.filled.background');
    }

    .p-treeselect.p-variant-filled:not(.p-disabled):hover {
        background: dt('treeselect.filled.hover.background');
    }

    .p-treeselect.p-variant-filled.p-focus {
        background: dt('treeselect.filled.focus.background');
    }

    .p-treeselect.p-invalid {
        border-color: dt('treeselect.invalid.border.color');
    }

    .p-treeselect.p-disabled {
        opacity: 1;
        background: dt('treeselect.disabled.background');
    }

    .p-treeselect-clear-icon {
        position: absolute;
        top: 50%;
        margin-top: -0.5rem;
        color: dt('treeselect.clear.icon.color');
        inset-inline-end: dt('treeselect.dropdown.width');
    }

    .p-treeselect-dropdown {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        background: transparent;
        color: dt('treeselect.dropdown.color');
        width: dt('treeselect.dropdown.width');
        border-start-end-radius: dt('border.radius.md');
        border-end-end-radius: dt('border.radius.md');
    }

    .p-treeselect-label-container {
        overflow: hidden;
        flex: 1 1 auto;
        cursor: pointer;
    }

    .p-treeselect-label {
        display: flex;
        align-items: center;
        gap: calc(dt('treeselect.padding.y') / 2);
        white-space: nowrap;
        cursor: pointer;
        overflow: hidden;
        text-overflow: ellipsis;
        padding: dt('treeselect.padding.y') dt('treeselect.padding.x');
        color: dt('treeselect.color');
    }

    .p-treeselect-label.p-placeholder {
        color: dt('treeselect.placeholder.color');
    }

    .p-treeselect.p-invalid .p-treeselect-label.p-placeholder {
        color: dt('treeselect.invalid.placeholder.color');
    }

    .p-treeselect.p-disabled .p-treeselect-label {
        color: dt('treeselect.disabled.color');
    }

    .p-treeselect-label-empty {
        overflow: hidden;
        visibility: hidden;
    }

    .p-treeselect-overlay {
        position: absolute;
        top: 0;
        left: 0;
        background: dt('treeselect.overlay.background');
        color: dt('treeselect.overlay.color');
        border: 1px solid dt('treeselect.overlay.border.color');
        border-radius: dt('treeselect.overlay.border.radius');
        box-shadow: dt('treeselect.overlay.shadow');
        overflow: hidden;
        min-width: 100%;
    }

    .p-treeselect-tree-container {
        overflow: auto;
    }

    .p-treeselect-empty-message {
        padding: dt('treeselect.empty.message.padding');
        background: transparent;
    }

    .p-treeselect-fluid {
        display: flex;
    }

    .p-treeselect-overlay .p-tree {
        padding: dt('treeselect.tree.padding');
    }

    .p-treeselect-overlay .p-tree-loading {
        min-height: 3rem;
    }

    .p-treeselect-label .p-chip {
        padding-block-start: calc(dt('treeselect.padding.y') / 2);
        padding-block-end: calc(dt('treeselect.padding.y') / 2);
        border-radius: dt('treeselect.chip.border.radius');
    }

    .p-treeselect-label:has(.p-chip) {
        padding: calc(dt('treeselect.padding.y') / 2) calc(dt('treeselect.padding.x') / 2);
    }

    .p-treeselect-sm .p-treeselect-label {
        font-size: dt('treeselect.sm.font.size');
        padding-block: dt('treeselect.sm.padding.y');
        padding-inline: dt('treeselect.sm.padding.x');
    }

    .p-treeselect-sm .p-treeselect-dropdown .p-icon {
        font-size: dt('treeselect.sm.font.size');
        width: dt('treeselect.sm.font.size');
        height: dt('treeselect.sm.font.size');
    }

    .p-treeselect-lg .p-treeselect-label {
        font-size: dt('treeselect.lg.font.size');
        padding-block: dt('treeselect.lg.padding.y');
        padding-inline: dt('treeselect.lg.padding.x');
    }

    .p-treeselect-lg .p-treeselect-dropdown .p-icon {
        font-size: dt('treeselect.lg.font.size');
        width: dt('treeselect.lg.font.size');
        height: dt('treeselect.lg.font.size');
    }
`;var uA=["value"],dA=["header"],pA=["empty"],hA=["footer"],mA=["clearicon"],fA=["triggericon"],gA=["dropdownicon"],_A=["filtericon"],bA=["closeicon"],yA=["itemtogglericon"],vA=["itemcheckboxicon"],xA=["itemloadingicon"],wA=["focusInput"],IA=["filter"],TA=["tree"],CA=["panel"],SA=["overlay"],MA=["firstHiddenFocusableEl"],kA=["lastHiddenFocusableEl"],EA=(t,s)=>({$implicit:t,placeholder:s}),QI=(t,s)=>({$implicit:t,options:s}),PA=t=>({"max-height":t}),DA=t=>({$implicit:t}),LA=(t,s)=>({$implicit:t,partialSelected:s});function AA(t,s){t&1&&nt(0)}function FA(t,s){if(t&1&&(We(0),B(1,AA,1,0,"ng-container",22),Qe()),t&2){let e=M();S(),T("ngTemplateOutlet",e.valueTemplate||e._valueTemplate)("ngTemplateOutletContext",li(2,EA,e.value,e.placeholder))}}function OA(t,s){if(t&1&&(We(0),ne(1),Qe()),t&2){let e=M(2);S(),ni(" ",e.label||"empty"," ")}}function VA(t,s){if(t&1&&(L(0,"div"),oe(1,"p-chip",24),D()),t&2){let e=s.$implicit,i=M(3);K(i.cx("chipItem")),S(),K(i.cx("pcChip")),T("label",e.label)}}function zA(t,s){if(t&1&&(We(0),ne(1),Qe()),t&2){let e=M(3);S(),Dt(e.placeholder||"empty")}}function BA(t,s){if(t&1&&B(0,VA,2,5,"div",23)(1,zA,2,1,"ng-container",17),t&2){let e=M(2);T("ngForOf",e.value),S(),T("ngIf",e.emptyValue)}}function RA(t,s){if(t&1&&B(0,OA,2,1,"ng-container",16)(1,BA,2,2,"ng-template",null,4,Be),t&2){let e=Ut(2),i=M();T("ngIf",i.display==="comma")("ngIfElse",e)}}function NA(t,s){if(t&1){let e=Re();it(),L(0,"svg",27),Ie("click",function(n){Z(e);let a=M(2);return X(a.clear(n))}),D()}if(t&2){let e=M(2);K(e.cx("clearIcon"))}}function qA(t,s){}function jA(t,s){t&1&&B(0,qA,0,0,"ng-template")}function HA(t,s){if(t&1){let e=Re();L(0,"span",28),Ie("click",function(n){Z(e);let a=M(2);return X(a.clear(n))}),B(1,jA,1,0,null,29),D()}if(t&2){let e=M(2);K(e.cx("clearIcon")),S(),T("ngTemplateOutlet",e.clearIconTemplate||e._clearIconTemplate)}}function GA(t,s){if(t&1&&(We(0),B(1,NA,1,2,"svg",25)(2,HA,2,3,"span",26),Qe()),t&2){let e=M();S(),T("ngIf",!e.clearIconTemplate&&!e._clearIconTemplate),S(),T("ngIf",e.clearIconTemplate||e.clearIconTemplate)}}function UA(t,s){if(t&1&&(it(),oe(0,"svg",30)),t&2){let e=M();K(e.cx("dropdownIcon"))}}function $A(t,s){}function KA(t,s){t&1&&B(0,$A,0,0,"ng-template")}function WA(t,s){if(t&1&&(L(0,"span"),B(1,KA,1,0,null,29),D()),t&2){let e=M();K(e.cx("dropdownIcon")),S(),T("ngTemplateOutlet",e.triggerIconTemplate||e._triggerIconTemplate||e.dropdownIconTemplate||e._dropdownIconTemplate)}}function QA(t,s){t&1&&nt(0)}function ZA(t,s){t&1&&nt(0)}function XA(t,s){if(t&1&&B(0,ZA,1,0,"ng-container",29),t&2){let e=M(3);T("ngTemplateOutlet",e.emptyTemplate||e._emptyTemplate)}}function YA(t,s){t&1&&(We(0),B(1,XA,1,1,"ng-template",null,9,Be),Qe())}function JA(t,s){t&1&&nt(0)}function eF(t,s){if(t&1&&B(0,JA,1,0,"ng-container",22),t&2){let e=s.$implicit,i=M(3);T("ngTemplateOutlet",i.itemTogglerIconTemplate||i._itemTogglerIconTemplate)("ngTemplateOutletContext",rt(2,DA,e))}}function tF(t,s){t&1&&B(0,eF,1,4,"ng-template",null,10,Be)}function iF(t,s){t&1&&nt(0)}function nF(t,s){if(t&1&&B(0,iF,1,0,"ng-container",22),t&2){let e=s.$implicit,i=s.partialSelected,n=M(3);T("ngTemplateOutlet",n.itemCheckboxIconTemplate||n._itemCheckboxIconTemplate)("ngTemplateOutletContext",li(2,LA,e,i))}}function aF(t,s){t&1&&B(0,nF,1,5,"ng-template",null,11,Be)}function oF(t,s){t&1&&nt(0)}function rF(t,s){if(t&1&&B(0,oF,1,0,"ng-container",29),t&2){let e=M(3);T("ngTemplateOutlet",e.itemLoadingIconTemplate||e._itemLoadingIconTemplate)}}function sF(t,s){t&1&&B(0,rF,1,1,"ng-template",null,12,Be)}function lF(t,s){t&1&&nt(0)}function cF(t,s){if(t&1){let e=Re();L(0,"div",15,5)(2,"span",31,6),Ie("focus",function(n){Z(e);let a=M();return X(a.onFirstHiddenFocus(n))}),D(),B(4,QA,1,0,"ng-container",22),L(5,"div",15)(6,"p-tree",32,7),Ie("selectionChange",function(n){Z(e);let a=M();return X(a.onSelectionChange(n))})("onNodeExpand",function(n){Z(e);let a=M();return X(a.nodeExpand(n))})("onNodeCollapse",function(n){Z(e);let a=M();return X(a.nodeCollapse(n))})("onNodeSelect",function(n){Z(e);let a=M();return X(a.onSelect(n))})("onNodeUnselect",function(n){Z(e);let a=M();return X(a.onUnselect(n))}),B(8,YA,3,0,"ng-container",17)(9,tF,2,0,null,17)(10,aF,2,0,null,17)(11,sF,2,0,null,17),D()(),B(12,lF,1,0,"ng-container",22),L(13,"span",31,8),Ie("focus",function(n){Z(e);let a=M();return X(a.onLastHiddenFocus(n))}),D()()}if(t&2){let e=M();K(e.cn(e.cx("panel"),e.panelStyleClass,e.panelClass)),T("ngStyle",e.panelStyle),ue("id",e.listId),S(2),ue("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),S(2),T("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)("ngTemplateOutletContext",li(40,QI,e.value,e.options)),S(),K(e.cx("treeContainer")),T("ngStyle",rt(43,PA,e.scrollHeight)),S(),T("value",e.options)("propagateSelectionDown",e.propagateSelectionDown)("propagateSelectionUp",e.propagateSelectionUp)("selectionMode",e.selectionMode)("selection",e.value)("metaKeySelection",e.metaKeySelection)("emptyMessage",e.emptyMessage)("filter",e.filter)("filterBy",e.filterBy)("filterMode",e.filterMode)("filterPlaceholder",e.filterPlaceholder)("filterLocale",e.filterLocale)("filteredNodes",e.filteredNodes)("virtualScroll",e.virtualScroll)("virtualScrollItemSize",e.virtualScrollItemSize)("virtualScrollOptions",e.virtualScrollOptions)("_templateMap",e.templateMap)("loading",e.loading)("filterInputAutoFocus",e.filterInputAutoFocus),S(2),T("ngIf",e.emptyTemplate||e._emptyTemplate),S(),T("ngIf",e.itemTogglerIconTemplate||e._itemTogglerIconTemplate),S(),T("ngIf",e.itemCheckboxIconTemplate||e._itemCheckboxIconTemplate),S(),T("ngIf",e.itemLoadingIconTemplate||e._itemLoadingIconTemplate),S(),T("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",li(45,QI,e.value,e.options)),S(),ue("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var uF=`
    ${WI}

    /* For PrimeNG */

    .p-treeselect.ng-invalid.ng-dirty {
        border-color: dt('treeselect.invalid.border.color');
    }

    p-treeselect.ng-invalid.ng-dirty.p-focus {
        border-color: dt('treeselect.focus.border.color');
    }

    p-treeselect.ng-invalid.ng-dirty .p-treeselect-label.p-placeholder {
        color: dt('treeselect.invalid.placeholder.color');
    }
`,dF={root:({instance:t})=>ai({position:t.$appendTo()==="self"?"relative":void 0},t.containerStyle)},pF={root:({instance:t})=>["p-treeselect p-component p-inputwrapper",{"p-treeselect-display-chip":t.display==="chip","p-disabled":t.$disabled(),"p-invalid":t.invalid(),"p-focus":t.focused,"p-variant-filled":t.$variant()==="filled","p-inputwrapper-filled":!t.emptyValue,"p-inputwrapper-focus":t.focused||t.overlayVisible,"p-treeselect-open":t.overlayVisible,"p-treeselect-clearable":t.showClear,"p-treeselect-fluid":t.hasFluid,"p-treeselect-sm p-inputfield-sm":t.size()==="small","p-treeselect-lg p-inputfield-lg":t.size()==="large"}],labelContainer:"p-treeselect-label-container",label:({instance:t})=>["p-treeselect-label",{"p-placeholder":t.label===t.placeholder,"p-treeselect-label-empty":!t.placeholder&&t.emptyValue}],chip:"p-treeselect-chip-item",pcChip:"p-treeselect-chip",dropdown:"p-treeselect-dropdown",dropdownIcon:"p-treeselect-dropdown-icon",panel:"p-treeselect-overlay p-component-overlay p-component",treeContainer:"p-treeselect-tree-container",emptyMessage:"p-treeselect-empty-message"},ZI=(()=>{class t extends Vt{name="treeselect";theme=uF;classes=pF;inlineStyles=dF;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var hF={provide:Eo,useExisting:nn(()=>Ng),multi:!0},Ng=(()=>{class t extends tr{inputId;scrollHeight="400px";metaKeySelection=!1;display="comma";selectionMode="single";tabindex="0";ariaLabel;ariaLabelledBy;placeholder;panelClass;panelStyle;panelStyleClass;containerStyle;containerStyleClass;labelStyle;labelStyleClass;overlayOptions;emptyMessage="";filter=!1;filterBy="label";filterMode="lenient";filterPlaceholder;filterLocale;filterInputAutoFocus=!0;propagateSelectionDown=!0;propagateSelectionUp=!0;showClear=!1;resetFilterOnHide=!0;virtualScroll;virtualScrollItemSize;virtualScrollOptions;autofocus;get options(){return this._options}set options(e){this._options=e,this.updateTreeState()}loading;size=sn();variant=sn();fluid=sn(void 0,{transform:we});appendTo=sn(void 0);onNodeExpand=new Fe;onNodeCollapse=new Fe;onShow=new Fe;onHide=new Fe;onClear=new Fe;onFilter=new Fe;onFocus=new Fe;onBlur=new Fe;onNodeUnselect=new Fe;onNodeSelect=new Fe;$appendTo=Vi(()=>this.appendTo()||this.config.overlayAppendTo());focusInput;filterViewChild;treeViewChild;panelEl;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;$variant=Vi(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());pcFluid=lt(Ts,{optional:!0,host:!0,skipSelf:!0});get hasFluid(){return this.fluid()??!!this.pcFluid}filteredNodes;filterValue=null;serializedValue;valueTemplate;headerTemplate;emptyTemplate;footerTemplate;clearIconTemplate;triggerIconTemplate;dropdownIconTemplate;filterIconTemplate;closeIconTemplate;itemTogglerIconTemplate;itemCheckboxIconTemplate;itemLoadingIconTemplate;templates;_valueTemplate;_headerTemplate;_emptyTemplate;_footerTemplate;_clearIconTemplate;_triggerIconTemplate;_filterIconTemplate;_closeIconTemplate;_itemTogglerIconTemplate;_itemCheckboxIconTemplate;_itemLoadingIconTemplate;_dropdownIconTemplate;focused;overlayVisible;value;expandedNodes=[];_options;templateMap;listId="";_componentStyle=lt(ZI);onHostClick(e){this.onClick(e)}ngOnInit(){super.ngOnInit(),this.listId=xi("pn_id_")+"_list",this.updateTreeState()}ngAfterContentInit(){this.templates.length&&(this.templateMap={}),this.templates.forEach(e=>{switch(e.getType()){case"value":this._valueTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"empty":this._emptyTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"clearicon":this._clearIconTemplate=e.template;break;case"triggericon":this._triggerIconTemplate=e.template;break;case"filtericon":this._filterIconTemplate=e.template;break;case"closeicon":this._closeIconTemplate=e.template;break;case"itemtogglericon":this._itemTogglerIconTemplate=e.template;break;case"itemcheckboxicon":this._itemCheckboxIconTemplate=e.template;break;case"dropdownicon":this._dropdownIconTemplate=e.template;break;case"itemloadingicon":this._itemLoadingIconTemplate=e.template;break;default:e.name?this.templateMap[e.name]=e.template:this.valueTemplate=e.template;break}})}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.filter)Gt(this.filterValue)&&this.treeViewChild?._filter(this.filterValue),this.filterInputAutoFocus&&this.filterViewChild?.nativeElement.focus();else{let i=Eu(this.panelEl.nativeElement);i&&i.length>0&&i[0].focus()}break}}onOverlayBeforeHide(e){let i=Eu(this.el.nativeElement);i&&i.length>0&&i[0].focus()}onSelectionChange(e){this.value=e,this.onModelChange(this.value),this.cd.markForCheck()}onClick(e){this.$disabled()||!this.overlayViewChild?.el?.nativeElement?.contains(e.target)&&!Ho(e.target,"p-treeselect-close")&&!Ho(e.target,"p-checkbox-box")&&!Ho(e.target,"p-checkbox-icon")&&(this.overlayVisible?this.hide():this.show(),this.focusInput?.nativeElement.focus())}onKeyDown(e){switch(e.code){case"ArrowDown":this.overlayVisible||(this.show(),e.preventDefault()),this.onArrowDown(e),e.preventDefault();break;case"Space":case"Enter":this.overlayVisible||(this.show(),e.preventDefault());break;case"Escape":this.overlayVisible&&(this.hide(),this.focusInput?.nativeElement.focus(),e.preventDefault());break;case"Tab":this.onTabKey(e);break;default:break}}onFilterInput(e){this.filterValue=e.target.value,this.treeViewChild?._filter(this.filterValue),this.onFilter.emit({filter:this.filterValue,filteredValue:this.treeViewChild?.filteredNodes}),setTimeout(()=>{this.overlayViewChild.alignOverlay()})}onArrowDown(e){if(this.overlayVisible&&this.panelEl?.nativeElement){let i=Eu(this.panelEl.nativeElement,".p-tree-node");i&&i.length>0&&i[0].focus(),e.preventDefault()}}onFirstHiddenFocus(e){let i=e.relatedTarget===this.focusInput?.nativeElement?Pu(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInput?.nativeElement;Wt(i)}onLastHiddenFocus(e){let i=e.relatedTarget===this.focusInput?.nativeElement?mf(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInput?.nativeElement;Wt(i)}show(){this.overlayVisible=!0}hide(e){this.overlayVisible=!1,this.resetFilter(),this.onHide.emit(e),this.cd.markForCheck()}clear(e){this.value=null,this.resetExpandedNodes(),this.resetPartialSelected(),this.onModelChange(this.value),this.onClear.emit(),e.stopPropagation()}checkValue(){return this.value!==null&&Gt(this.value)}onTabKey(e,i=!1){i||(this.overlayVisible&&this.hasFocusableElements()?(Wt(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault()):this.overlayVisible&&this.hide(this.filter))}hasFocusableElements(){return Eu(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}resetFilter(){this.filter&&!this.resetFilterOnHide?(this.filteredNodes=this.treeViewChild?.filteredNodes,this.treeViewChild?.resetFilter()):this.filterValue=null}updateTreeState(){if(this.value){let e=this.selectionMode==="single"?[this.value]:[...this.value];this.resetExpandedNodes(),this.resetPartialSelected(),e&&this.options&&this.updateTreeBranchState(null,null,e)}}updateTreeBranchState(e,i,n){if(e){if(this.isSelected(e)&&(this.expandPath(i),n.splice(n.indexOf(e),1)),n.length>0&&e.children)for(let a of e.children)this.updateTreeBranchState(a,[...i,e],n)}else for(let a of this.options)this.updateTreeBranchState(a,[],n)}expandPath(e){for(let i of e)i.expanded=!0;this.expandedNodes=[...e]}nodeExpand(e){this.onNodeExpand.emit(e),this.expandedNodes.push(e.node),setTimeout(()=>{this.overlayViewChild.alignOverlay()})}nodeCollapse(e){this.onNodeCollapse.emit(e),this.expandedNodes.splice(this.expandedNodes.indexOf(e.node),1),setTimeout(()=>{this.overlayViewChild.alignOverlay()})}resetExpandedNodes(){for(let e of this.expandedNodes)e.expanded=!1;this.expandedNodes=[]}resetPartialSelected(e=this.options){if(e)for(let i of e)i.partialSelected=!1,i.children&&i.children?.length>0&&this.resetPartialSelected(i.children)}findSelectedNodes(e,i,n){if(e){if(this.isSelected(e)&&(n.push(e),delete i[e.key]),Object.keys(i).length&&e.children)for(let a of e.children)this.findSelectedNodes(a,i,n)}else for(let a of this.options)this.findSelectedNodes(a,i,n)}isSelected(e){return this.findIndexInSelection(e)!=-1}findIndexInSelection(e){let i=-1;if(this.value)if(this.selectionMode==="single")i=this.value.key&&this.value.key===e.key||this.value==e?0:-1;else for(let n=0;n<this.value.length;n++){let a=this.value[n];if(a.key&&a.key===e.key||a==e){i=n;break}}return i}onSelect(e){this.onNodeSelect.emit(e),this.selectionMode==="single"&&(this.hide(),this.focusInput?.nativeElement.focus())}onUnselect(e){this.onNodeUnselect.emit(e)}onInputFocus(e){this.$disabled()||(this.focused=!0,this.onFocus.emit(e))}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.onModelTouched()}writeControlValue(e){this.value=e,this.updateTreeState(),this.cd.markForCheck()}get emptyValue(){return!this.value||Object.keys(this.value).length===0}get emptyOptions(){return!this.options||this.options.length===0}get label(){let e=this.value||[];return e.length?e.map(i=>i.label).join(", "):this.selectionMode==="single"&&this.value?e.label:this.placeholder}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-treeSelect"],["p-treeselect"],["p-tree-select"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,uA,4),ve(a,dA,4),ve(a,pA,4),ve(a,hA,4),ve(a,mA,4),ve(a,fA,4),ve(a,gA,4),ve(a,_A,4),ve(a,bA,4),ve(a,yA,4),ve(a,vA,4),ve(a,xA,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.valueTemplate=p.first),le(p=ce())&&(n.headerTemplate=p.first),le(p=ce())&&(n.emptyTemplate=p.first),le(p=ce())&&(n.footerTemplate=p.first),le(p=ce())&&(n.clearIconTemplate=p.first),le(p=ce())&&(n.triggerIconTemplate=p.first),le(p=ce())&&(n.dropdownIconTemplate=p.first),le(p=ce())&&(n.filterIconTemplate=p.first),le(p=ce())&&(n.closeIconTemplate=p.first),le(p=ce())&&(n.itemTogglerIconTemplate=p.first),le(p=ce())&&(n.itemCheckboxIconTemplate=p.first),le(p=ce())&&(n.itemLoadingIconTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&(dt(wA,5),dt(IA,5),dt(TA,5),dt(CA,5),dt(SA,5),dt(MA,5),dt(kA,5)),i&2){let a;le(a=ce())&&(n.focusInput=a.first),le(a=ce())&&(n.filterViewChild=a.first),le(a=ce())&&(n.treeViewChild=a.first),le(a=ce())&&(n.panelEl=a.first),le(a=ce())&&(n.overlayViewChild=a.first),le(a=ce())&&(n.firstHiddenFocusableElementOnOverlay=a.first),le(a=ce())&&(n.lastHiddenFocusableElementOnOverlay=a.first)}},hostVars:4,hostBindings:function(i,n){i&1&&Ie("click",function(p){return n.onHostClick(p)}),i&2&&(Ft(n.sx("root")),K(n.cn(n.cx("root"),n.containerStyleClass)))},inputs:{inputId:"inputId",scrollHeight:"scrollHeight",metaKeySelection:[2,"metaKeySelection","metaKeySelection",we],display:"display",selectionMode:"selectionMode",tabindex:"tabindex",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",placeholder:"placeholder",panelClass:"panelClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",containerStyle:"containerStyle",containerStyleClass:"containerStyleClass",labelStyle:"labelStyle",labelStyleClass:"labelStyleClass",overlayOptions:"overlayOptions",emptyMessage:"emptyMessage",filter:[2,"filter","filter",we],filterBy:"filterBy",filterMode:"filterMode",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",filterInputAutoFocus:[2,"filterInputAutoFocus","filterInputAutoFocus",we],propagateSelectionDown:[2,"propagateSelectionDown","propagateSelectionDown",we],propagateSelectionUp:[2,"propagateSelectionUp","propagateSelectionUp",we],showClear:[2,"showClear","showClear",we],resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",we],virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",autofocus:[2,"autofocus","autofocus",we],options:"options",loading:[2,"loading","loading",we],size:[1,"size"],variant:[1,"variant"],fluid:[1,"fluid"],appendTo:[1,"appendTo"]},outputs:{onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onShow:"onShow",onHide:"onHide",onClear:"onClear",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onNodeUnselect:"onNodeUnselect",onNodeSelect:"onNodeSelect"},features:[bt([hF,ZI]),gt],decls:16,vars:28,consts:[["focusInput",""],["defaultValueTemplate",""],["overlay",""],["content",""],["chipsValueTemplate",""],["panel",""],["firstHiddenFocusableEl",""],["tree",""],["lastHiddenFocusableEl",""],["empty",""],["togglericon",""],["checkboxicon",""],["loadingicon",""],[1,"p-hidden-accessible"],["type","text","role","combobox","readonly","",3,"focus","blur","keydown","pAutoFocus"],[3,"ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["role","button","aria-haspopup","tree"],["data-p-icon","chevron-down",3,"class",4,"ngIf"],[3,"class",4,"ngIf"],[3,"visibleChange","onAnimationStart","onBeforeHide","onShow","onHide","hostAttrSelector","visible","options","target","appendTo"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class",4,"ngFor","ngForOf"],[3,"label"],["data-p-icon","times",3,"class","click",4,"ngIf"],[3,"class","click",4,"ngIf"],["data-p-icon","times",3,"click"],[3,"click"],[4,"ngTemplateOutlet"],["data-p-icon","chevron-down"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],[3,"selectionChange","onNodeExpand","onNodeCollapse","onNodeSelect","onNodeUnselect","value","propagateSelectionDown","propagateSelectionUp","selectionMode","selection","metaKeySelection","emptyMessage","filter","filterBy","filterMode","filterPlaceholder","filterLocale","filteredNodes","virtualScroll","virtualScrollItemSize","virtualScrollOptions","_templateMap","loading","filterInputAutoFocus"]],template:function(i,n){if(i&1){let a=Re();L(0,"div",13)(1,"input",14,0),Ie("focus",function(y){return Z(a),X(n.onInputFocus(y))})("blur",function(y){return Z(a),X(n.onInputBlur(y))})("keydown",function(y){return Z(a),X(n.onKeyDown(y))}),D()(),L(3,"div")(4,"div",15),B(5,FA,2,5,"ng-container",16)(6,RA,3,2,"ng-template",null,1,Be),D()(),B(8,GA,3,2,"ng-container",17),L(9,"div",18),B(10,UA,1,2,"svg",19)(11,WA,2,3,"span",20),D(),L(12,"p-overlay",21,2),si("visibleChange",function(y){return Z(a),ri(n.overlayVisible,y)||(n.overlayVisible=y),X(y)}),Ie("onAnimationStart",function(y){return Z(a),X(n.onOverlayAnimationStart(y))})("onBeforeHide",function(y){return Z(a),X(n.onOverlayBeforeHide(y))})("onShow",function(y){return Z(a),X(n.onShow.emit(y))})("onHide",function(y){return Z(a),X(n.hide(y))}),B(14,cF,15,48,"ng-template",null,3,Be),D()}if(i&2){let a=Ut(7);S(),T("pAutoFocus",n.autofocus),ue("id",n.inputId)("disabled",n.$disabled()?"":void 0)("tabindex",n.$disabled()?-1:n.tabindex)("aria-controls",n.overlayVisible?n.listId:null)("aria-haspopup","tree")("aria-expanded",n.overlayVisible??!1)("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel||(n.label==="p-emptylabel"?void 0:n.label)),S(2),K(n.cx("labelContainer")),S(),K(n.cn(n.cx("label"),n.labelStyleClass)),T("ngStyle",n.labelStyle),S(),T("ngIf",n.valueTemplate||n._valueTemplate)("ngIfElse",a),S(3),T("ngIf",n.checkValue()&&!n.$disabled()&&n.showClear),S(),K(n.cx("dropdown")),ue("aria-expanded",n.overlayVisible??!1)("aria-label","treeselect trigger"),S(),T("ngIf",!n.triggerIconTemplate&&!n._triggerIconTemplate&&!n.dropdownIconTemplate&&!n._dropdownIconTemplate),S(),T("ngIf",n.triggerIconTemplate||n._triggerIconTemplate||n.dropdownIconTemplate||n._dropdownIconTemplate),S(),T("hostAttrSelector",n.attrSelector),oi("visible",n.overlayVisible),T("options",n.overlayOptions)("target","@parent")("appendTo",n.$appendTo())}},dependencies:[mt,ji,$t,ei,bi,up,Xe,Ep,ko,Mr,Ma,dc],encapsulation:2,changeDetection:0})}return t})(),XI=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[Ng,Xe,Xe]})}return t})();var YI=`
    .p-multiselect {
        display: inline-flex;
        cursor: pointer;
        position: relative;
        user-select: none;
        background: dt('multiselect.background');
        border: 1px solid dt('multiselect.border.color');
        transition:
            background dt('multiselect.transition.duration'),
            color dt('multiselect.transition.duration'),
            border-color dt('multiselect.transition.duration'),
            outline-color dt('multiselect.transition.duration'),
            box-shadow dt('multiselect.transition.duration');
        border-radius: dt('multiselect.border.radius');
        outline-color: transparent;
        box-shadow: dt('multiselect.shadow');
    }

    .p-multiselect:not(.p-disabled):hover {
        border-color: dt('multiselect.hover.border.color');
    }

    .p-multiselect:not(.p-disabled).p-focus {
        border-color: dt('multiselect.focus.border.color');
        box-shadow: dt('multiselect.focus.ring.shadow');
        outline: dt('multiselect.focus.ring.width') dt('multiselect.focus.ring.style') dt('multiselect.focus.ring.color');
        outline-offset: dt('multiselect.focus.ring.offset');
    }

    .p-multiselect.p-variant-filled {
        background: dt('multiselect.filled.background');
    }

    .p-multiselect.p-variant-filled:not(.p-disabled):hover {
        background: dt('multiselect.filled.hover.background');
    }

    .p-multiselect.p-variant-filled.p-focus {
        background: dt('multiselect.filled.focus.background');
    }

    .p-multiselect.p-invalid {
        border-color: dt('multiselect.invalid.border.color');
    }

    .p-multiselect.p-disabled {
        opacity: 1;
        background: dt('multiselect.disabled.background');
    }

    .p-multiselect-dropdown {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        background: transparent;
        color: dt('multiselect.dropdown.color');
        width: dt('multiselect.dropdown.width');
        border-start-end-radius: dt('multiselect.border.radius');
        border-end-end-radius: dt('multiselect.border.radius');
    }

    .p-multiselect-clear-icon {
        position: absolute;
        top: 50%;
        margin-top: -0.5rem;
        color: dt('multiselect.clear.icon.color');
        inset-inline-end: dt('multiselect.dropdown.width');
    }

    .p-multiselect-label-container {
        overflow: hidden;
        flex: 1 1 auto;
        cursor: pointer;
    }

    .p-multiselect-label {
        white-space: nowrap;
        cursor: pointer;
        overflow: hidden;
        text-overflow: ellipsis;
        padding: dt('multiselect.padding.y') dt('multiselect.padding.x');
        color: dt('multiselect.color');
    }

    .p-multiselect-display-chip .p-multiselect-label {
        display: flex;
        align-items: center;
        gap: calc(dt('multiselect.padding.y') / 2);
    }

    .p-multiselect-label.p-placeholder {
        color: dt('multiselect.placeholder.color');
    }

    .p-multiselect.p-invalid .p-multiselect-label.p-placeholder {
        color: dt('multiselect.invalid.placeholder.color');
    }

    .p-multiselect.p-disabled .p-multiselect-label {
        color: dt('multiselect.disabled.color');
    }

    .p-multiselect-label-empty {
        overflow: hidden;
        visibility: hidden;
    }

    .p-multiselect-overlay {
        position: absolute;
        top: 0;
        left: 0;
        background: dt('multiselect.overlay.background');
        color: dt('multiselect.overlay.color');
        border: 1px solid dt('multiselect.overlay.border.color');
        border-radius: dt('multiselect.overlay.border.radius');
        box-shadow: dt('multiselect.overlay.shadow');
        min-width: 100%;
    }

    .p-multiselect-header {
        display: flex;
        align-items: center;
        padding: dt('multiselect.list.header.padding');
    }

    .p-multiselect-header .p-checkbox {
        margin-inline-end: dt('multiselect.option.gap');
    }

    .p-multiselect-filter-container {
        flex: 1 1 auto;
    }

    .p-multiselect-filter {
        width: 100%;
    }

    .p-multiselect-list-container {
        overflow: auto;
    }

    .p-multiselect-list {
        margin: 0;
        padding: 0;
        list-style-type: none;
        padding: dt('multiselect.list.padding');
        display: flex;
        flex-direction: column;
        gap: dt('multiselect.list.gap');
    }

    .p-multiselect-option {
        cursor: pointer;
        font-weight: normal;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        gap: dt('multiselect.option.gap');
        padding: dt('multiselect.option.padding');
        border: 0 none;
        color: dt('multiselect.option.color');
        background: transparent;
        transition:
            background dt('multiselect.transition.duration'),
            color dt('multiselect.transition.duration'),
            border-color dt('multiselect.transition.duration'),
            box-shadow dt('multiselect.transition.duration'),
            outline-color dt('multiselect.transition.duration');
        border-radius: dt('multiselect.option.border.radius');
    }

    .p-multiselect-option:not(.p-multiselect-option-selected):not(.p-disabled).p-focus {
        background: dt('multiselect.option.focus.background');
        color: dt('multiselect.option.focus.color');
    }

    .p-multiselect-option.p-multiselect-option-selected {
        background: dt('multiselect.option.selected.background');
        color: dt('multiselect.option.selected.color');
    }

    .p-multiselect-option.p-multiselect-option-selected.p-focus {
        background: dt('multiselect.option.selected.focus.background');
        color: dt('multiselect.option.selected.focus.color');
    }

    .p-multiselect-option-group {
        cursor: auto;
        margin: 0;
        padding: dt('multiselect.option.group.padding');
        background: dt('multiselect.option.group.background');
        color: dt('multiselect.option.group.color');
        font-weight: dt('multiselect.option.group.font.weight');
    }

    .p-multiselect-empty-message {
        padding: dt('multiselect.empty.message.padding');
    }

    .p-multiselect-label .p-chip {
        padding-block-start: calc(dt('multiselect.padding.y') / 2);
        padding-block-end: calc(dt('multiselect.padding.y') / 2);
        border-radius: dt('multiselect.chip.border.radius');
    }

    .p-multiselect-label:has(.p-chip) {
        padding: calc(dt('multiselect.padding.y') / 2) calc(dt('multiselect.padding.x') / 2);
    }

    .p-multiselect-fluid {
        display: flex;
        width: 100%;
    }

    .p-multiselect-sm .p-multiselect-label {
        font-size: dt('multiselect.sm.font.size');
        padding-block: dt('multiselect.sm.padding.y');
        padding-inline: dt('multiselect.sm.padding.x');
    }

    .p-multiselect-sm .p-multiselect-dropdown .p-icon {
        font-size: dt('multiselect.sm.font.size');
        width: dt('multiselect.sm.font.size');
        height: dt('multiselect.sm.font.size');
    }

    .p-multiselect-lg .p-multiselect-label {
        font-size: dt('multiselect.lg.font.size');
        padding-block: dt('multiselect.lg.padding.y');
        padding-inline: dt('multiselect.lg.padding.x');
    }

    .p-multiselect-lg .p-multiselect-dropdown .p-icon {
        font-size: dt('multiselect.lg.font.size');
        width: dt('multiselect.lg.font.size');
        height: dt('multiselect.lg.font.size');
    }
`;var Cm=t=>({height:t}),JI=t=>({$implicit:t}),fF=(t,s)=>({checked:t,class:s});function gF(t,s){}function _F(t,s){t&1&&B(0,gF,0,0,"ng-template")}function bF(t,s){if(t&1&&B(0,_F,1,0,null,4),t&2){let e=s.class,i=M(2);T("ngTemplateOutlet",i.itemCheckboxIconTemplate)("ngTemplateOutletContext",li(2,fF,i.selected,e))}}function yF(t,s){t&1&&(We(0),B(1,bF,1,5,"ng-template",null,0,Be),Qe())}function vF(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M();S(),Dt(e.label??"empty")}}function xF(t,s){t&1&&nt(0)}var wF=["item"],IF=["group"],TF=["loader"],CF=["header"],SF=["filter"],MF=["footer"],kF=["emptyfilter"],EF=["empty"],PF=["selecteditems"],DF=["loadingicon"],LF=["filtericon"],AF=["removetokenicon"],FF=["chipicon"],OF=["clearicon"],VF=["dropdownicon"],zF=["itemcheckboxicon"],BF=["headercheckboxicon"],RF=["overlay"],NF=["filterInput"],qF=["focusInput"],jF=["items"],HF=["scroller"],GF=["lastHiddenFocusableEl"],UF=["firstHiddenFocusableEl"],$F=["headerCheckbox"],KF=[[["p-header"]],[["p-footer"]]],WF=["p-header","p-footer"],QF=()=>({class:"p-multiselect-chip-icon"}),ZF=(t,s)=>({$implicit:t,removeChip:s}),eT=t=>({options:t}),XF=(t,s,e)=>({checked:t,partialSelected:s,class:e}),tT=(t,s)=>({$implicit:t,options:s}),YF=()=>({});function JF(t,s){if(t&1&&(We(0),ne(1),Qe()),t&2){let e=M(2);S(),Dt(e.label()||"empty")}}function eO(t,s){if(t&1&&ne(0),t&2){let e=M(3);ni(" ",e.getSelectedItemsLabel()," ")}}function tO(t,s){t&1&&nt(0)}function iO(t,s){if(t&1){let e=Re();L(0,"span",26),Ie("click",function(n){Z(e);let a=M(4).$implicit,p=M(4);return X(p.removeOption(a,n))}),B(1,tO,1,0,"ng-container",27),D()}if(t&2){let e=M(8);K(e.cx("chipIcon")),ue("data-pc-section","clearicon")("aria-hidden",!0),S(),T("ngTemplateOutlet",e.chipIconTemplate||e._chipIconTemplate||e.removeTokenIconTemplate||e._removeTokenIconTemplate)("ngTemplateOutletContext",Kt(6,QF))}}function nO(t,s){if(t&1&&(We(0),B(1,iO,2,7,"span",25),Qe()),t&2){let e=M(7);S(),T("ngIf",e.chipIconTemplate||e._chipIconTemplate||e.removeTokenIconTemplate||e._removeTokenIconTemplate)}}function aO(t,s){if(t&1&&B(0,nO,2,1,"ng-container",19),t&2){let e=M(6);T("ngIf",!e.$disabled()&&!e.readonly)}}function oO(t,s){t&1&&(We(0),B(1,aO,1,1,"ng-template",null,5,Be),Qe())}function rO(t,s){if(t&1){let e=Re();L(0,"div",null,4)(2,"p-chip",24),Ie("onRemove",function(n){let a=Z(e).$implicit,p=M(4);return X(p.removeOption(a,n))}),B(3,oO,3,0,"ng-container",19),D()()}if(t&2){let e=s.$implicit,i=M(4);K(i.cx("chipItem")),S(2),K(i.cx("pcChip")),T("label",i.getLabelByValue(e))("removable",!i.$disabled()&&!i.readonly)("removeIcon",i.chipIcon),S(),T("ngIf",i.chipIconTemplate||i._chipIconTemplate||i.removeTokenIconTemplate||i._removeTokenIconTemplate)}}function sO(t,s){if(t&1&&B(0,rO,4,8,"div",23),t&2){let e=M(3);T("ngForOf",e.chipSelectedItems())}}function lO(t,s){if(t&1&&(We(0),ne(1),Qe()),t&2){let e=M(3);S(),Dt(e.placeholder()||"empty")}}function cO(t,s){if(t&1&&(We(0),Gi(1,eO,1,1)(2,sO,1,1,"div",22),B(3,lO,2,1,"ng-container",19),Qe()),t&2){let e=M(2);S(),Ui(e.chipSelectedItems()&&e.chipSelectedItems().length===e.maxSelectedLabels?1:2),S(2),T("ngIf",!e.modelValue()||e.modelValue().length===0)}}function uO(t,s){if(t&1&&(We(0),B(1,JF,2,1,"ng-container",19)(2,cO,4,2,"ng-container",19),Qe()),t&2){let e=M();S(),T("ngIf",e.display==="comma"),S(),T("ngIf",e.display==="chip")}}function dO(t,s){t&1&&nt(0)}function pO(t,s){if(t&1&&(We(0),ne(1),Qe()),t&2){let e=M(2);S(),Dt(e.placeholder()||"empty")}}function hO(t,s){if(t&1&&(We(0),B(1,dO,1,0,"ng-container",27)(2,pO,2,1,"ng-container",19),Qe()),t&2){let e=M();S(),T("ngTemplateOutlet",e.selectedItemsTemplate||e._selectedItemsTemplate)("ngTemplateOutletContext",li(3,ZF,e.selectedOptions,e.removeOption.bind(e))),S(),T("ngIf",!e.modelValue()||e.modelValue().length===0)}}function mO(t,s){if(t&1){let e=Re();it(),L(0,"svg",29),Ie("click",function(n){Z(e);let a=M(2);return X(a.clear(n))}),D()}if(t&2){let e=M(2);K(e.cx("clearIcon")),ue("data-pc-section","clearicon")("aria-hidden",!0)}}function fO(t,s){}function gO(t,s){t&1&&B(0,fO,0,0,"ng-template")}function _O(t,s){if(t&1){let e=Re();L(0,"span",26),Ie("click",function(n){Z(e);let a=M(2);return X(a.clear(n))}),B(1,gO,1,0,null,30),D()}if(t&2){let e=M(2);K(e.cx("clearIcon")),ue("data-pc-section","clearicon")("aria-hidden",!0),S(),T("ngTemplateOutlet",e.clearIconTemplate||e._clearIconTemplate)}}function bO(t,s){if(t&1&&(We(0),B(1,mO,1,4,"svg",28)(2,_O,2,5,"span",25),Qe()),t&2){let e=M();S(),T("ngIf",!e.clearIconTemplate&&!e._clearIconTemplate),S(),T("ngIf",e.clearIconTemplate||e._clearIconTemplate)}}function yO(t,s){t&1&&nt(0)}function vO(t,s){if(t&1&&(We(0),B(1,yO,1,0,"ng-container",30),Qe()),t&2){let e=M(2);S(),T("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)}}function xO(t,s){if(t&1&&oe(0,"span"),t&2){let e=M(3);K(e.cn(e.cx("loadingIcon"),"pi-spin "+e.loadingIcon)),ue("aria-hidden",!0)}}function wO(t,s){if(t&1&&oe(0,"span"),t&2){let e=M(3);K(e.cn(e.cx("loadingIcon"),"pi pi-spinner pi-spin")),ue("aria-hidden",!0)}}function IO(t,s){if(t&1&&(We(0),B(1,xO,1,3,"span",31)(2,wO,1,3,"span",31),Qe()),t&2){let e=M(2);S(),T("ngIf",e.loadingIcon),S(),T("ngIf",!e.loadingIcon)}}function TO(t,s){if(t&1&&(We(0),B(1,vO,2,1,"ng-container",19)(2,IO,3,2,"ng-container",19),Qe()),t&2){let e=M();S(),T("ngIf",e.loadingIconTemplate||e._loadingIconTemplate),S(),T("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate)}}function CO(t,s){if(t&1&&oe(0,"span",34),t&2){let e=M(3);K(e.cx("dropdownIcon")),T("ngClass",e.dropdownIcon),ue("data-pc-section","triggericon")("aria-hidden",!0)}}function SO(t,s){if(t&1&&(it(),oe(0,"svg",35)),t&2){let e=M(3);K(e.cx("dropdownIcon")),ue("data-pc-section","triggericon")("aria-hidden",!0)}}function MO(t,s){if(t&1&&(We(0),B(1,CO,1,5,"span",32)(2,SO,1,4,"svg",33),Qe()),t&2){let e=M(2);S(),T("ngIf",e.dropdownIcon),S(),T("ngIf",!e.dropdownIcon)}}function kO(t,s){}function EO(t,s){t&1&&B(0,kO,0,0,"ng-template")}function PO(t,s){if(t&1&&(L(0,"span"),B(1,EO,1,0,null,30),D()),t&2){let e=M(2);K(e.cx("dropdownIcon")),ue("data-pc-section","triggericon")("aria-hidden",!0),S(),T("ngTemplateOutlet",e.dropdownIconTemplate||e._dropdownIconTemplate)}}function DO(t,s){if(t&1&&B(0,MO,3,2,"ng-container",19)(1,PO,2,5,"span",31),t&2){let e=M();T("ngIf",!e.dropdownIconTemplate&&!e._dropdownIconTemplate),S(),T("ngIf",e.dropdownIconTemplate||e._dropdownIconTemplate)}}function LO(t,s){t&1&&nt(0)}function AO(t,s){t&1&&nt(0)}function FO(t,s){if(t&1&&(We(0),B(1,AO,1,0,"ng-container",27),Qe()),t&2){let e=M(3);S(),T("ngTemplateOutlet",e.filterTemplate||e._filterTemplate)("ngTemplateOutletContext",rt(2,eT,e.filterOptions))}}function OO(t,s){if(t&1&&(it(),oe(0,"svg",42)),t&2){let e=M().class;K(e),ue("data-pc-section","icon")}}function VO(t,s){}function zO(t,s){t&1&&B(0,VO,0,0,"ng-template")}function BO(t,s){if(t&1&&B(0,OO,1,3,"svg",41)(1,zO,1,0,null,27),t&2){let e=s.class,i=M(5);T("ngIf",!i.headerCheckboxIconTemplate&&!i._headerCheckboxIconTemplate&&i.allSelected()),S(),T("ngTemplateOutlet",i.headerCheckboxIconTemplate||i._headerCheckboxIconTemplate)("ngTemplateOutletContext",Ir(3,XF,i.allSelected(),i.partialSelected(),e))}}function RO(t,s){if(t&1){let e=Re();L(0,"p-checkbox",40,10),Ie("onChange",function(n){Z(e);let a=M(4);return X(a.onToggleAll(n))}),B(2,BO,2,7,"ng-template",null,11,Be),D()}if(t&2){let e=M(4);T("ngModel",e.allSelected())("ariaLabel",e.toggleAllAriaLabel)("binary",!0)("variant",e.$variant())("disabled",e.$disabled())}}function NO(t,s){t&1&&(it(),oe(0,"svg",46))}function qO(t,s){}function jO(t,s){t&1&&B(0,qO,0,0,"ng-template")}function HO(t,s){if(t&1&&(L(0,"span",47),B(1,jO,1,0,null,30),D()),t&2){let e=M(5);S(),T("ngTemplateOutlet",e.filterIconTemplate||e._filterIconTemplate)}}function GO(t,s){if(t&1){let e=Re();L(0,"p-iconfield")(1,"input",43,12),Ie("input",function(n){Z(e);let a=M(4);return X(a.onFilterInputChange(n))})("keydown",function(n){Z(e);let a=M(4);return X(a.onFilterKeyDown(n))})("click",function(n){Z(e);let a=M(4);return X(a.onInputClick(n))})("blur",function(n){Z(e);let a=M(4);return X(a.onFilterBlur(n))}),D(),L(3,"p-inputicon"),B(4,NO,1,0,"svg",44)(5,HO,2,1,"span",45),D()()}if(t&2){let e=M(4);K(e.cx("pcFilterContainer")),S(),K(e.cx("pcFilter")),T("variant",e.$variant())("value",e._filterValue()||""),ue("autocomplete",e.autocomplete)("aria-owns",e.id+"_list")("aria-activedescendant",e.focusedOptionId)("disabled",e.$disabled()?"":void 0)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel),S(3),T("ngIf",!e.filterIconTemplate&&!e._filterIconTemplate),S(),T("ngIf",e.filterIconTemplate||e._filterIconTemplate)}}function UO(t,s){if(t&1&&B(0,RO,4,5,"p-checkbox",39)(1,GO,6,14,"p-iconfield",31),t&2){let e=M(3);T("ngIf",e.showToggleAll&&!e.selectionLimit),S(),T("ngIf",e.filter)}}function $O(t,s){if(t&1&&(L(0,"div"),Pi(1),B(2,FO,2,4,"ng-container",20)(3,UO,2,2,"ng-template",null,9,Be),D()),t&2){let e=Ut(4),i=M(2);K(i.cx("header")),S(2),T("ngIf",i.filterTemplate||i._filterTemplate)("ngIfElse",e)}}function KO(t,s){t&1&&nt(0)}function WO(t,s){if(t&1&&B(0,KO,1,0,"ng-container",27),t&2){let e=s.$implicit,i=s.options;M(2);let n=Ut(9);T("ngTemplateOutlet",n)("ngTemplateOutletContext",li(2,tT,e,i))}}function QO(t,s){t&1&&nt(0)}function ZO(t,s){if(t&1&&B(0,QO,1,0,"ng-container",27),t&2){let e=s.options,i=M(4);T("ngTemplateOutlet",i.loaderTemplate||i._loaderTemplate)("ngTemplateOutletContext",rt(2,eT,e))}}function XO(t,s){t&1&&(We(0),B(1,ZO,1,4,"ng-template",null,14,Be),Qe())}function YO(t,s){if(t&1){let e=Re();L(0,"p-scroller",48,13),Ie("onLazyLoad",function(n){Z(e);let a=M(2);return X(a.onLazyLoad.emit(n))}),B(2,WO,1,5,"ng-template",null,3,Be)(4,XO,3,0,"ng-container",19),D()}if(t&2){let e=M(2);Ft(rt(9,Cm,e.scrollHeight)),T("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize)("autoSize",!0)("tabindex",-1)("lazy",e.lazy)("options",e.virtualScrollOptions),S(4),T("ngIf",e.loaderTemplate||e._loaderTemplate)}}function JO(t,s){t&1&&nt(0)}function eV(t,s){if(t&1&&(We(0),B(1,JO,1,0,"ng-container",27),Qe()),t&2){M();let e=Ut(9),i=M();S(),T("ngTemplateOutlet",e)("ngTemplateOutletContext",li(3,tT,i.visibleOptions(),Kt(2,YF)))}}function tV(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(2).$implicit,i=M(3);S(),Dt(i.getOptionGroupLabel(e.optionGroup))}}function iV(t,s){t&1&&nt(0)}function nV(t,s){if(t&1&&(We(0),L(1,"li",52),B(2,tV,2,1,"span",19)(3,iV,1,0,"ng-container",27),D(),Qe()),t&2){let e=M(),i=e.$implicit,n=e.index,a=M().options,p=M(2);S(),K(p.cx("optionGroup")),T("ngStyle",rt(7,Cm,a.itemSize+"px")),ue("id",p.id+"_"+p.getOptionIndex(n,a)),S(),T("ngIf",!p.groupTemplate),S(),T("ngTemplateOutlet",p.groupTemplate)("ngTemplateOutletContext",rt(9,JI,i.optionGroup))}}function aV(t,s){if(t&1){let e=Re();We(0),L(1,"p-multiselect-item",53),Ie("onClick",function(n){Z(e);let a=M().index,p=M().options,y=M(2);return X(y.onOptionSelect(n,!1,y.getOptionIndex(a,p)))})("onMouseEnter",function(n){Z(e);let a=M().index,p=M().options,y=M(2);return X(y.onOptionMouseEnter(n,y.getOptionIndex(a,p)))}),D(),Qe()}if(t&2){let e=M(),i=e.$implicit,n=e.index,a=M().options,p=M(2);S(),T("id",p.id+"_"+p.getOptionIndex(n,a))("option",i)("selected",p.isSelected(i))("label",p.getOptionLabel(i))("disabled",p.isOptionDisabled(i))("template",p.itemTemplate||p._itemTemplate)("itemCheckboxIconTemplate",p.itemCheckboxIconTemplate||p._itemCheckboxIconTemplate)("itemSize",a.itemSize)("focused",p.focusedOptionIndex()===p.getOptionIndex(n,a))("ariaPosInset",p.getAriaPosInset(p.getOptionIndex(n,a)))("ariaSetSize",p.ariaSetSize)("variant",p.$variant())("highlightOnSelect",p.highlightOnSelect)}}function oV(t,s){if(t&1&&B(0,nV,4,11,"ng-container",19)(1,aV,2,13,"ng-container",19),t&2){let e=s.$implicit,i=M(3);T("ngIf",i.isOptionGroup(e)),S(),T("ngIf",!i.isOptionGroup(e))}}function rV(t,s){if(t&1&&ne(0),t&2){let e=M(4);ni(" ",e.emptyFilterMessageLabel," ")}}function sV(t,s){t&1&&nt(0)}function lV(t,s){if(t&1&&B(0,sV,1,0,"ng-container",30),t&2){let e=M(4);T("ngTemplateOutlet",e.emptyFilterTemplate||e._emptyFilterTemplate||e.emptyTemplate||e._emptyFilterTemplate)}}function cV(t,s){if(t&1&&(L(0,"li",52),Gi(1,rV,1,1)(2,lV,1,1,"ng-container"),D()),t&2){let e=M().options,i=M(2);K(i.cx("emptyMessage")),T("ngStyle",rt(4,Cm,e.itemSize+"px")),S(),Ui(!i.emptyFilterTemplate&&!i._emptyFilterTemplate&&!i.emptyTemplate&&!i._emptyTemplate?1:2)}}function uV(t,s){if(t&1&&ne(0),t&2){let e=M(4);ni(" ",e.emptyMessageLabel," ")}}function dV(t,s){t&1&&nt(0)}function pV(t,s){if(t&1&&B(0,dV,1,0,"ng-container",30),t&2){let e=M(4);T("ngTemplateOutlet",e.emptyTemplate||e._emptyTemplate)}}function hV(t,s){if(t&1&&(L(0,"li",52),Gi(1,uV,1,1)(2,pV,1,1,"ng-container"),D()),t&2){let e=M().options,i=M(2);K(i.cx("emptyMessage")),T("ngStyle",rt(4,Cm,e.itemSize+"px")),S(),Ui(!i.emptyTemplate&&!i._emptyTemplate?1:2)}}function mV(t,s){if(t&1&&(L(0,"ul",49,15),B(2,oV,2,2,"ng-template",50)(3,cV,3,6,"li",51)(4,hV,3,6,"li",51),D()),t&2){let e=s.$implicit,i=s.options,n=M(2);Ft(i.contentStyle),K(n.cn(n.cx("list"),i.contentStyleClass)),ue("aria-label",n.listLabel),S(2),T("ngForOf",e),S(),T("ngIf",n.hasFilter()&&n.isEmpty()),S(),T("ngIf",!n.hasFilter()&&n.isEmpty())}}function fV(t,s){t&1&&nt(0)}function gV(t,s){if(t&1&&(L(0,"div"),Pi(1,1),B(2,fV,1,0,"ng-container",30),D()),t&2){let e=M(2);S(2),T("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}function _V(t,s){if(t&1){let e=Re();L(0,"div",36)(1,"span",37,6),Ie("focus",function(n){Z(e);let a=M();return X(a.onFirstHiddenFocus(n))}),D(),B(3,LO,1,0,"ng-container",30)(4,$O,5,4,"div",31),L(5,"div"),B(6,YO,5,11,"p-scroller",38)(7,eV,2,6,"ng-container",19)(8,mV,5,8,"ng-template",null,7,Be),D(),B(10,gV,3,1,"div",19),L(11,"span",37,8),Ie("focus",function(n){Z(e);let a=M();return X(a.onLastHiddenFocus(n))}),D()()}if(t&2){let e=M();K(e.cn(e.cx("overlay"),e.panelStyleClass)),T("ngStyle",e.panelStyle),ue("id",e.id+"_list"),S(),ue("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),S(2),T("ngTemplateOutlet",e.headerTemplate||e._headerTemplate),S(),T("ngIf",e.showHeader),S(),K(e.cx("listContainer")),Zn("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),S(),T("ngIf",e.virtualScroll),S(),T("ngIf",!e.virtualScroll),S(3),T("ngIf",e.footerFacet||e.footerTemplate||e._footerTemplate),S(),ue("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var bV=`
    ${YI}

    /* For PrimeNG */
   .p-multiselect.ng-invalid.ng-dirty {
        border-color: dt('multiselect.invalid.border.color');
    }
    p-multiSelect.ng-invalid.ng-dirty .p-multiselect-label.p-placeholder,
    p-multi-select.ng-invalid.ng-dirty .p-multiselect-label.p-placeholder,
    p-multiselect.ng-invalid.ng-dirty .p-multiselect-label.p-placeholder {
        color: dt('multiselect.invalid.placeholder.color');
    }
`,yV={root:({instance:t})=>({position:t.$appendTo()==="self"?"relative":void 0})},vV={root:({instance:t})=>["p-multiselect p-component p-inputwrapper",{"p-multiselect p-component p-inputwrapper":!0,"p-multiselect-display-chip":t.display==="chip","p-disabled":t.$disabled(),"p-invalid":t.invalid(),"p-variant-filled":t.$variant(),"p-focus":t.focused,"p-inputwrapper-filled":t.$filled(),"p-inputwrapper-focus":t.focused||t.overlayVisible,"p-multiselect-open":t.overlayVisible,"p-multiselect-fluid":t.hasFluid,"p-multiselect-sm p-inputfield-sm":t.size()==="small","p-multiselect-lg p-inputfield-lg":t.size()==="large"}],labelContainer:"p-multiselect-label-container",label:({instance:t})=>({"p-multiselect-label":!0,"p-placeholder":t.label()===t.placeholder(),"p-multiselect-label-empty":!t.placeholder()&&!t.defaultLabel&&(!t.modelValue()||t.modelValue().length===0)}),chipItem:"p-multiselect-chip-item",pcChip:"p-multiselect-chip",chipIcon:"p-multiselect-chip-icon",dropdown:"p-multiselect-dropdown",loadingIcon:"p-multiselect-loading-icon",dropdownIcon:"p-multiselect-dropdown-icon",overlay:"p-multiselect-overlay p-component-overlay p-component",header:"p-multiselect-header",pcFilterContainer:"p-multiselect-filter-container",pcFilter:"p-multiselect-filter",listContainer:"p-multiselect-list-container",list:"p-multiselect-list",optionGroup:"p-multiselect-option-group",option:({instance:t})=>({"p-multiselect-option":!0,"p-multiselect-option-selected":t.selected&&t.highlightOnSelect,"p-disabled":t.disabled,"p-focus":t.focused}),emptyMessage:"p-multiselect-empty-message",clearIcon:"p-multiselect-clear-icon"},qg=(()=>{class t extends Vt{name="multiselect";theme=bV;classes=vV;inlineStyles=yV;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var xV={provide:Eo,useExisting:nn(()=>Pp),multi:!0},wV=(()=>{class t extends Ot{id;option;selected;label;disabled;itemSize;focused;ariaPosInset;ariaSetSize;variant;template;checkIconTemplate;itemCheckboxIconTemplate;highlightOnSelect;onClick=new Fe;onMouseEnter=new Fe;_componentStyle=lt(qg);onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option,selected:this.selected}),e.stopPropagation(),e.preventDefault()}onOptionMouseEnter(e){this.onMouseEnter.emit({originalEvent:e,option:this.option,selected:this.selected})}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-multiSelectItem"],["p-multiselect-item"]],inputs:{id:"id",option:"option",selected:[2,"selected","selected",we],label:"label",disabled:[2,"disabled","disabled",we],itemSize:[2,"itemSize","itemSize",Tt],focused:[2,"focused","focused",we],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",variant:"variant",template:"template",checkIconTemplate:"checkIconTemplate",itemCheckboxIconTemplate:"itemCheckboxIconTemplate",highlightOnSelect:[2,"highlightOnSelect","highlightOnSelect",we]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[bt([qg]),gt],decls:5,vars:25,consts:[["icon",""],["pRipple","","role","option",3,"click","mouseenter","ngStyle","id"],[3,"ngModel","binary","tabindex","variant","ariaLabel"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){i&1&&(L(0,"li",1),Ie("click",function(p){return n.onOptionClick(p)})("mouseenter",function(p){return n.onOptionMouseEnter(p)}),L(1,"p-checkbox",2),B(2,yF,3,0,"ng-container",3),D(),B(3,vF,2,1,"span",3)(4,xF,1,0,"ng-container",4),D()),i&2&&(K(n.cx("option")),T("ngStyle",rt(21,Cm,n.itemSize+"px"))("id",n.id),ue("aria-label",n.label)("aria-setsize",n.ariaSetSize)("aria-posinset",n.ariaPosInset)("aria-selected",n.selected)("data-p-focused",n.focused)("data-p-highlight",n.selected)("data-p-disabled",n.disabled)("aria-checked",n.selected),S(),T("ngModel",n.selected)("binary",!0)("tabindex",-1)("variant",n.variant)("ariaLabel",n.label),S(),T("ngIf",n.itemCheckboxIconTemplate),S(),T("ngIf",!n.template),S(),T("ngTemplateOutlet",n.template)("ngTemplateOutletContext",rt(23,JI,n.option)))},dependencies:[mt,$t,ei,bi,Rr,ln,Yn,Jn,pn,Xe],encapsulation:2})}return t})(),Pp=(()=>{class t extends tr{zone;filterService;overlayService;id;ariaLabel;styleClass;panelStyle;panelStyleClass;inputId;readonly;group;filter=!0;filterPlaceHolder;filterLocale;overlayVisible;tabindex=0;dataKey;ariaLabelledBy;set displaySelectedLabel(e){this._displaySelectedLabel=e}get displaySelectedLabel(){return this._displaySelectedLabel}set maxSelectedLabels(e){this._maxSelectedLabels=e}get maxSelectedLabels(){return this._maxSelectedLabels}selectionLimit;selectedItemsLabel;showToggleAll=!0;emptyFilterMessage="";emptyMessage="";resetFilterOnHide=!1;dropdownIcon;chipIcon;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";showHeader=!0;filterBy;scrollHeight="200px";lazy=!1;virtualScroll;loading=!1;virtualScrollItemSize;loadingIcon;virtualScrollOptions;overlayOptions;ariaFilterLabel;filterMatchMode="contains";tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;autofocusFilter=!1;display="comma";autocomplete="off";showClear=!1;autofocus;set placeholder(e){this._placeholder.set(e)}get placeholder(){return this._placeholder.asReadonly()}get options(){return this._options()}set options(e){Ax(this._options(),e)||this._options.set(e)}get filterValue(){return this._filterValue()}set filterValue(e){this._filterValue.set(e)}get selectAll(){return this._selectAll}set selectAll(e){this._selectAll=e}focusOnHover=!0;filterFields;selectOnFocus=!1;autoOptionFocus=!1;highlightOnSelect=!0;size=sn();variant=sn();fluid=sn(void 0,{transform:we});appendTo=sn(void 0);onChange=new Fe;onFilter=new Fe;onFocus=new Fe;onBlur=new Fe;onClick=new Fe;onClear=new Fe;onPanelShow=new Fe;onPanelHide=new Fe;onLazyLoad=new Fe;onRemove=new Fe;onSelectAllChange=new Fe;overlayViewChild;filterInputChild;focusInputViewChild;itemsViewChild;scroller;lastHiddenFocusableElementOnOverlay;firstHiddenFocusableElementOnOverlay;headerCheckboxViewChild;footerFacet;headerFacet;_componentStyle=lt(qg);searchValue;searchTimeout;_selectAll=null;_placeholder=Ei(void 0);_disableTooltip=!1;value;_filteredOptions;focus;filtered;itemTemplate;groupTemplate;loaderTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;selectedItemsTemplate;loadingIconTemplate;filterIconTemplate;removeTokenIconTemplate;chipIconTemplate;clearIconTemplate;dropdownIconTemplate;itemCheckboxIconTemplate;headerCheckboxIconTemplate;templates;_itemTemplate;_groupTemplate;_loaderTemplate;_headerTemplate;_filterTemplate;_footerTemplate;_emptyFilterTemplate;_emptyTemplate;_selectedItemsTemplate;_loadingIconTemplate;_filterIconTemplate;_removeTokenIconTemplate;_chipIconTemplate;_clearIconTemplate;_dropdownIconTemplate;_itemCheckboxIconTemplate;_headerCheckboxIconTemplate;$variant=Vi(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());$appendTo=Vi(()=>this.appendTo()||this.config.overlayAppendTo());pcFluid=lt(Ts,{optional:!0,host:!0,skipSelf:!0});get hasFluid(){return this.fluid()??!!this.pcFluid}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break;case"group":this._groupTemplate=e.template;break;case"selectedItems":case"selecteditems":this._selectedItemsTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"filter":this._filterTemplate=e.template;break;case"emptyfilter":this._emptyFilterTemplate=e.template;break;case"empty":this._emptyTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;case"headercheckboxicon":this._headerCheckboxIconTemplate=e.template;break;case"loadingicon":this._loadingIconTemplate=e.template;break;case"filtericon":this._filterIconTemplate=e.template;break;case"removetokenicon":this._removeTokenIconTemplate=e.template;break;case"clearicon":this._clearIconTemplate=e.template;break;case"dropdownicon":this._dropdownIconTemplate=e.template;break;case"itemcheckboxicon":this._itemCheckboxIconTemplate=e.template;break;case"chipicon":this._chipIconTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}headerCheckboxFocus;filterOptions;preventModelTouched;focused=!1;itemsWrapper;_displaySelectedLabel=!0;_maxSelectedLabels=3;modelValue=Ei(null);_filterValue=Ei(null);_options=Ei(null);startRangeIndex=Ei(-1);focusedOptionIndex=Ei(-1);selectedOptions;clickInProgress=!1;get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(_o.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(_o.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.modelValue()!==""&&Gt(this.modelValue())&&this.showClear&&!this.$disabled()&&!this.readonly&&this.$filled()}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}get listLabel(){return this.config.getTranslation(_o.ARIA).listLabel}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}visibleOptions=Vi(()=>{let e=this.getAllVisibleAndNonVisibleOptions(),i=Ox(e)&&_f.isObject(e[0]);if(this._filterValue()){let n;if(i?n=this.filterService.filter(e,this.searchFields(),this._filterValue(),this.filterMatchMode,this.filterLocale):n=e.filter(a=>a.toString().toLocaleLowerCase().includes(this._filterValue().toLocaleLowerCase())),this.group){let a=this.options||[],p=[];return a.forEach(y=>{let A=this.getOptionGroupChildren(y).filter(R=>n.includes(R));A.length>0&&p.push(Ta(ai({},y),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...A]}))}),this.flatOptions(p)}return n}return e});label=Vi(()=>{let e,i=this.modelValue();if(i&&i.length&&this.displaySelectedLabel){if(Gt(this.maxSelectedLabels)&&i.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(let n=0;n<i.length;n++)n!==0&&(e+=", "),e+=this.getLabelByValue(i[n])}else e=this.placeholder()||"";return e});chipSelectedItems=Vi(()=>Gt(this.maxSelectedLabels)&&this.modelValue()&&this.modelValue().length>this.maxSelectedLabels?this.modelValue().slice(0,this.maxSelectedLabels):this.modelValue());constructor(e,i,n){super(),this.zone=e,this.filterService=i,this.overlayService=n,Or(()=>{let a=this.modelValue(),p=this.getAllVisibleAndNonVisibleOptions();p&&Gt(p)&&(this.optionValue&&this.optionLabel&&a?this.selectedOptions=p.filter(y=>a.includes(y[this.optionLabel])||a.includes(y[this.optionValue])):this.selectedOptions=a,this.cd.markForCheck())})}ngOnInit(){super.ngOnInit(),this.id=this.id||xi("pn_id_"),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}maxSelectionLimitReached(){return this.selectionLimit&&this.modelValue()&&this.modelValue().length===this.selectionLimit}ngAfterViewInit(){super.ngAfterViewInit(),this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild?.alignOverlay()},1)}),this.filtered=!1)}flatOptions(e){return(e||[]).reduce((i,n,a)=>{i.push({optionGroup:n,group:!0,index:a});let p=this.getOptionGroupChildren(n);return p&&p.forEach(y=>i.push(y)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()){this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex());let e=this.getOptionValue(this.visibleOptions()[this.focusedOptionIndex()]);this.onOptionSelect({originalEvent:null,option:[e]})}}updateModel(e,i){this.value=e,this.onModelChange(e),this.writeValue(e)}onInputClick(e){e.stopPropagation(),e.preventDefault(),this.focusedOptionIndex.set(-1)}onOptionSelect(e,i=!1,n=-1){let{originalEvent:a,option:p}=e;if(this.$disabled()||this.isOptionDisabled(p))return;let y=this.isSelected(p),C=null;y?C=this.modelValue().filter(A=>!Ha(A,this.getOptionValue(p),this.equalityKey())):C=[...this.modelValue()||[],this.getOptionValue(p)],this.updateModel(C,a),n!==-1&&this.focusedOptionIndex.set(n),i&&Wt(this.focusInputViewChild?.nativeElement),this.onChange.emit({originalEvent:e,value:C,itemValue:p})}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}onOptionSelectRange(e,i=-1,n=-1){if(i===-1&&(i=this.findNearestSelectedOptionIndex(n,!0)),n===-1&&(n=this.findNearestSelectedOptionIndex(i)),i!==-1&&n!==-1){let a=Math.min(i,n),p=Math.max(i,n),y=this.visibleOptions().slice(a,p+1).filter(C=>this.isValidOption(C)).map(C=>this.getOptionValue(C));this.updateModel(y,e)}}searchFields(){return(this.filterBy||this.optionLabel||"label").split(",")}findNearestSelectedOptionIndex(e,i=!1){let n=-1;return this.hasSelectedOption()&&(i?(n=this.findPrevSelectedOptionIndex(e),n=n===-1?this.findNextSelectedOptionIndex(e):n):(n=this.findNextSelectedOptionIndex(e),n=n===-1?this.findPrevSelectedOptionIndex(e):n)),n>-1?n:e}findPrevSelectedOptionIndex(e){let i=this.hasSelectedOption()&&e>0?Xn(this.visibleOptions().slice(0,e),n=>this.isValidSelectedOption(n)):-1;return i>-1?i:-1}findFirstFocusedOptionIndex(){let e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextSelectedOptionIndex(e){let i=this.hasSelectedOption()&&e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(n=>this.isValidSelectedOption(n)):-1;return i>-1?i+e+1:-1}equalityKey(){return this.optionValue?null:this.dataKey}hasSelectedOption(){return Gt(this.modelValue())}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isOptionGroup(e){return(this.group||this.optionGroupLabel)&&e.optionGroup&&e.group}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionDisabled(e){return this.maxSelectionLimitReached()&&!this.isSelected(e)?!0:this.optionDisabled?Ai(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}isSelected(e){let i=this.getOptionValue(e);return(this.modelValue()||[]).some(n=>Ha(n,i,this.equalityKey()))}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}getOptionIndex(e,i){return this.virtualScrollerDisabled?e:i&&i.getItemOptions(e).index}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(i=>this.isOptionGroup(i)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}getLabelByValue(e){let n=(this.group?this.flatOptions(this._options()):this._options()||[]).find(a=>!this.isOptionGroup(a)&&Ha(this.getOptionValue(a),e,this.equalityKey()));return n?this.getOptionLabel(n):null}getSelectedItemsLabel(){let e=/{(.*?)}/,i=this.selectedItemsLabel?this.selectedItemsLabel:this.config.getTranslation(_o.SELECTION_MESSAGE);return e.test(i)?i.replace(i.match(e)[0],this.modelValue().length+""):i}getOptionLabel(e){return this.optionLabel?Ai(e,this.optionLabel):e&&e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?Ai(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}getOptionGroupLabel(e){return this.optionGroupLabel?Ai(e,this.optionGroupLabel):e&&e.label!=null?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?Ai(e,this.optionGroupChildren):e.items}onKeyDown(e){if(this.$disabled()){e.preventDefault();return}let i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(e.code==="KeyA"&&i){let n=this.visibleOptions().filter(a=>this.isValidOption(a)).map(a=>this.getOptionValue(a));this.updateModel(n,e),e.preventDefault();break}!i&&Jo(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e,e.key),e.preventDefault());break}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onArrowLeftKey(e,i=!1){i&&this.focusedOptionIndex.set(-1)}onArrowDownKey(e){let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex(),i),this.changeFocusedOptionIndex(e,i),!this.overlayVisible&&this.show(),e.preventDefault(),e.stopPropagation()}onArrowUpKey(e,i=!1){if(e.altKey&&!i)this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide(),e.preventDefault();else{let n=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,n,this.startRangeIndex()),this.changeFocusedOptionIndex(e,n),!this.overlayVisible&&this.show(),e.preventDefault()}e.stopPropagation()}onHomeKey(e,i=!1){let{currentTarget:n}=e;if(i){let a=n.value.length;n.setSelectionRange(0,e.shiftKey?a:0),this.focusedOptionIndex.set(-1)}else{let a=e.metaKey||e.ctrlKey,p=this.findFirstOptionIndex();e.shiftKey&&a&&this.onOptionSelectRange(e,p,this.startRangeIndex()),this.changeFocusedOptionIndex(e,p),!this.overlayVisible&&this.show()}e.preventDefault()}onEndKey(e,i=!1){let{currentTarget:n}=e;if(i){let a=n.value.length;n.setSelectionRange(e.shiftKey?0:a,a),this.focusedOptionIndex.set(-1)}else{let a=e.metaKey||e.ctrlKey,p=this.findLastFocusedOptionIndex();e.shiftKey&&a&&this.onOptionSelectRange(e,this.startRangeIndex(),p),this.changeFocusedOptionIndex(e,p),!this.overlayVisible&&this.show()}e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onEnterKey(e){this.overlayVisible?this.focusedOptionIndex()!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex()):this.onOptionSelect({originalEvent:e,option:this.visibleOptions()[this.focusedOptionIndex()]})):this.onArrowDownKey(e),e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.stopPropagation(),e.preventDefault()}onTabKey(e,i=!1){if(!i)if(this.overlayVisible&&this.hasFocusableElements())Wt(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault();else{if(this.focusedOptionIndex()!==-1){let n=this.visibleOptions()[this.focusedOptionIndex()];!this.isSelected(n)&&this.onOptionSelect({originalEvent:e,option:n})}this.overlayVisible&&this.hide(this.filter)}}onShiftKey(){this.startRangeIndex.set(this.focusedOptionIndex())}onContainerClick(e){if(!(this.$disabled()||this.loading||this.readonly||e.target.isSameNode(this.focusInputViewChild?.nativeElement))){if(!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target)){if(this.clickInProgress)return;this.clickInProgress=!0,setTimeout(()=>{this.clickInProgress=!1},150),this.overlayVisible?this.hide(!0):this.show(!0)}this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),this.onClick.emit(e),this.cd.detectChanges()}}onFirstHiddenFocus(e){let i=e.relatedTarget===this.focusInputViewChild?.nativeElement?Pu(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;Wt(i)}onInputFocus(e){this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit({originalEvent:e})}onInputBlur(e){this.focused=!1,this.onBlur.emit({originalEvent:e}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onFilterInputChange(e){let i=e.target.value;this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()})}onLastHiddenFocus(e){let i=e.relatedTarget===this.focusInputViewChild?.nativeElement?mf(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;Wt(i)}onOptionMouseEnter(e,i){this.focusOnHover&&this.changeFocusedOptionIndex(e,i)}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onToggleAll(e){if(!(this.$disabled()||this.readonly)){if(this.selectAll!=null)this.onSelectAllChange.emit({originalEvent:e,checked:!this.allSelected()});else{let i=this.getAllVisibleAndNonVisibleOptions().filter(C=>this.isSelected(C)&&(this.optionDisabled?Ai(C,this.optionDisabled):C&&C.disabled!==void 0?C.disabled:!1)),n=this.allSelected()?this.visibleOptions().filter(C=>!this.isValidOption(C)&&this.isSelected(C)):this.visibleOptions().filter(C=>this.isSelected(C)||this.isValidOption(C)),p=[...this.filter&&!this.allSelected()?this.getAllVisibleAndNonVisibleOptions().filter(C=>this.isSelected(C)&&this.isValidOption(C)):[],...i,...n].map(C=>this.getOptionValue(C)),y=[...new Set(p)];this.updateModel(y,e),(!y.length||y.length===this.getAllVisibleAndNonVisibleOptions().length)&&this.onSelectAllChange.emit({originalEvent:e,checked:!!y.length})}this.partialSelected()&&(this.selectedOptions=null,this.cd.markForCheck()),this.onChange.emit({originalEvent:e,value:this.value}),sl.focus(this.headerCheckboxViewChild?.inputViewChild?.nativeElement),this.headerCheckboxFocus=!0,e.originalEvent.preventDefault(),e.originalEvent.stopPropagation()}}changeFocusedOptionIndex(e,i){this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView())}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let n=ti(this.itemsViewChild.nativeElement,`li[id="${i}"]`);n?n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}allSelected(){return this.selectAll!==null?this.selectAll:Gt(this.visibleOptions())&&this.visibleOptions().every(e=>this.isOptionGroup(e)||this.isOptionDisabled(e)||this.isSelected(e))}partialSelected(){return this.selectedOptions&&this.selectedOptions.length>0&&this.selectedOptions.length<this.options.length}show(e){this.overlayVisible=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex();this.focusedOptionIndex.set(i),e&&Wt(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.overlayOptions?.mode==="modal"&&tc(),e&&Wt(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(e){if(e.toState==="visible"){if(this.itemsWrapper=ti(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-multiselect-list-container"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let i=this.modelValue()?this.focusedOptionIndex():-1;i!==-1&&this.scroller?.scrollToIndex(i)}else{let i=ti(this.itemsWrapper,'[data-p-highlight="true"]');i&&i.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit(e)}e.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onPanelHide.emit(e))}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue.set(null),this._filteredOptions=null}close(e){this.hide(),e.preventDefault(),e.stopPropagation()}clear(e){this.value=null,this.updateModel(null,e),this.selectedOptions=null,this.onClear.emit(),this._disableTooltip=!0,e.stopPropagation()}labelContainerMouseLeave(){this._disableTooltip&&(this._disableTooltip=!1)}removeOption(e,i){let n=this.modelValue().filter(a=>!Ha(a,e,this.equalityKey()));this.updateModel(n,i),this.onChange.emit({originalEvent:i,value:n,itemValue:e}),this.onRemove.emit({newValue:n,removed:e}),i&&i.stopPropagation()}findNextOptionIndex(e){let i=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(n=>this.isValidOption(n)):-1;return i>-1?i+e+1:e}findPrevOptionIndex(e){let i=e>0?Xn(this.visibleOptions().slice(0,e),n=>this.isValidOption(n)):-1;return i>-1?i:e}findLastSelectedOptionIndex(){return this.hasSelectedOption()?Xn(this.visibleOptions(),e=>this.isValidSelectedOption(e)):-1}findLastFocusedOptionIndex(){let e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findLastOptionIndex(){return Xn(this.visibleOptions(),e=>this.isValidOption(e))}searchOptions(e,i){this.searchValue=(this.searchValue||"")+i;let n=-1,a=!1;return this.focusedOptionIndex()!==-1?(n=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(p=>this.isOptionMatched(p)),n=n===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(p=>this.isOptionMatched(p)):n+this.focusedOptionIndex()):n=this.visibleOptions().findIndex(p=>this.isOptionMatched(p)),n!==-1&&(a=!0),n===-1&&this.focusedOptionIndex()===-1&&(n=this.findFirstFocusedOptionIndex()),n!==-1&&this.changeFocusedOptionIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),a}hasFocusableElements(){return Eu(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}writeControlValue(e,i){this.value=e,i(e),this.cd.markForCheck()}static \u0275fac=function(i){return new(i||t)(At(fo),At(zr),At(Br))};static \u0275cmp=Je({type:t,selectors:[["p-multiSelect"],["p-multiselect"],["p-multi-select"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,ws,5),ve(a,ec,5),ve(a,wF,4),ve(a,IF,4),ve(a,TF,4),ve(a,CF,4),ve(a,SF,4),ve(a,MF,4),ve(a,kF,4),ve(a,EF,4),ve(a,PF,4),ve(a,DF,4),ve(a,LF,4),ve(a,AF,4),ve(a,FF,4),ve(a,OF,4),ve(a,VF,4),ve(a,zF,4),ve(a,BF,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.footerFacet=p.first),le(p=ce())&&(n.headerFacet=p.first),le(p=ce())&&(n.itemTemplate=p.first),le(p=ce())&&(n.groupTemplate=p.first),le(p=ce())&&(n.loaderTemplate=p.first),le(p=ce())&&(n.headerTemplate=p.first),le(p=ce())&&(n.filterTemplate=p.first),le(p=ce())&&(n.footerTemplate=p.first),le(p=ce())&&(n.emptyFilterTemplate=p.first),le(p=ce())&&(n.emptyTemplate=p.first),le(p=ce())&&(n.selectedItemsTemplate=p.first),le(p=ce())&&(n.loadingIconTemplate=p.first),le(p=ce())&&(n.filterIconTemplate=p.first),le(p=ce())&&(n.removeTokenIconTemplate=p.first),le(p=ce())&&(n.chipIconTemplate=p.first),le(p=ce())&&(n.clearIconTemplate=p.first),le(p=ce())&&(n.dropdownIconTemplate=p.first),le(p=ce())&&(n.itemCheckboxIconTemplate=p.first),le(p=ce())&&(n.headerCheckboxIconTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&(dt(RF,5),dt(NF,5),dt(qF,5),dt(jF,5),dt(HF,5),dt(GF,5),dt(UF,5),dt($F,5)),i&2){let a;le(a=ce())&&(n.overlayViewChild=a.first),le(a=ce())&&(n.filterInputChild=a.first),le(a=ce())&&(n.focusInputViewChild=a.first),le(a=ce())&&(n.itemsViewChild=a.first),le(a=ce())&&(n.scroller=a.first),le(a=ce())&&(n.lastHiddenFocusableElementOnOverlay=a.first),le(a=ce())&&(n.firstHiddenFocusableElementOnOverlay=a.first),le(a=ce())&&(n.headerCheckboxViewChild=a.first)}},hostVars:5,hostBindings:function(i,n){i&1&&Ie("click",function(p){return n.onContainerClick(p)}),i&2&&(ue("id",n.id),Ft(n.sx("root")),K(n.cn(n.cx("root"),n.styleClass)))},inputs:{id:"id",ariaLabel:"ariaLabel",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",readonly:[2,"readonly","readonly",we],group:[2,"group","group",we],filter:[2,"filter","filter",we],filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:[2,"overlayVisible","overlayVisible",we],tabindex:[2,"tabindex","tabindex",Tt],dataKey:"dataKey",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:[2,"selectionLimit","selectionLimit",Tt],selectedItemsLabel:"selectedItemsLabel",showToggleAll:[2,"showToggleAll","showToggleAll",we],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",we],dropdownIcon:"dropdownIcon",chipIcon:"chipIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:[2,"showHeader","showHeader",we],filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",we],virtualScroll:[2,"virtualScroll","virtualScroll",we],loading:[2,"loading","loading",we],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Tt],loadingIcon:"loadingIcon",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:[2,"autofocusFilter","autofocusFilter",we],display:"display",autocomplete:"autocomplete",showClear:[2,"showClear","showClear",we],autofocus:[2,"autofocus","autofocus",we],placeholder:"placeholder",options:"options",filterValue:"filterValue",selectAll:"selectAll",focusOnHover:[2,"focusOnHover","focusOnHover",we],filterFields:"filterFields",selectOnFocus:[2,"selectOnFocus","selectOnFocus",we],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",we],highlightOnSelect:[2,"highlightOnSelect","highlightOnSelect",we],size:[1,"size"],variant:[1,"variant"],fluid:[1,"fluid"],appendTo:[1,"appendTo"]},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad",onRemove:"onRemove",onSelectAllChange:"onSelectAllChange"},features:[bt([xV,qg]),gt],ngContentSelectors:WF,decls:16,vars:40,consts:[["focusInput",""],["elseBlock",""],["overlay",""],["content",""],["token",""],["removeicon",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["headerCheckbox",""],["icon",""],["filterInput",""],["scroller",""],["loader",""],["items",""],[1,"p-hidden-accessible"],["role","combobox",3,"focus","blur","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","pAutoFocus"],[3,"mouseleave","pTooltip","tooltipDisabled","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","hostAttrSelector","visible","options","target","appendTo"],[3,"class"],[3,"class",4,"ngFor","ngForOf"],[3,"onRemove","label","removable","removeIcon"],[3,"class","click",4,"ngIf"],[3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","times",3,"class","click",4,"ngIf"],["data-p-icon","times",3,"click"],[4,"ngTemplateOutlet"],[3,"class",4,"ngIf"],[3,"class","ngClass",4,"ngIf"],["data-p-icon","chevron-down",3,"class",4,"ngIf"],[3,"ngClass"],["data-p-icon","chevron-down"],[3,"ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],[3,"ngModel","ariaLabel","binary","variant","disabled","onChange",4,"ngIf"],[3,"onChange","ngModel","ariaLabel","binary","variant","disabled"],["data-p-icon","check",3,"class",4,"ngIf"],["data-p-icon","check"],["pInputText","","type","text","role","searchbox",3,"input","keydown","click","blur","variant","value"],["data-p-icon","search",4,"ngIf"],["class","p-multiselect-filter-icon",4,"ngIf"],["data-p-icon","search"],[1,"p-multiselect-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","tabindex","lazy","options"],["role","listbox","aria-multiselectable","true"],["ngFor","",3,"ngForOf"],["role","option",3,"class","ngStyle",4,"ngIf"],["role","option",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","selected","label","disabled","template","itemCheckboxIconTemplate","itemSize","focused","ariaPosInset","ariaSetSize","variant","highlightOnSelect"]],template:function(i,n){if(i&1){let a=Re();$i(KF),L(0,"div",16)(1,"input",17,0),Ie("focus",function(y){return Z(a),X(n.onInputFocus(y))})("blur",function(y){return Z(a),X(n.onInputBlur(y))})("keydown",function(y){return Z(a),X(n.onKeyDown(y))}),D()(),L(3,"div",18),Ie("mouseleave",function(){return Z(a),X(n.labelContainerMouseLeave())}),L(4,"div"),B(5,uO,3,2,"ng-container",19)(6,hO,3,6,"ng-container",19),D()(),B(7,bO,3,2,"ng-container",19),L(8,"div"),B(9,TO,3,2,"ng-container",20)(10,DO,2,2,"ng-template",null,1,Be),D(),L(12,"p-overlay",21,2),si("visibleChange",function(y){return Z(a),ri(n.overlayVisible,y)||(n.overlayVisible=y),X(y)}),Ie("onAnimationStart",function(y){return Z(a),X(n.onOverlayAnimationStart(y))})("onHide",function(){return Z(a),X(n.hide())}),B(14,_V,13,19,"ng-template",null,3,Be),D()}if(i&2){let a=Ut(11);ue("data-p-hidden-accessible",!0),S(),T("pTooltip",n.tooltip)("tooltipPosition",n.tooltipPosition)("positionStyle",n.tooltipPositionStyle)("tooltipStyleClass",n.tooltipStyleClass)("pAutoFocus",n.autofocus),ue("aria-disabled",n.$disabled())("id",n.inputId)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",n.overlayVisible??!1)("aria-controls",n.overlayVisible?n.id+"_list":null)("tabindex",n.$disabled()?-1:n.tabindex)("aria-activedescendant",n.focused?n.focusedOptionId:void 0)("value",n.modelValue())("name",n.name())("required",n.required()?"":void 0)("disabled",n.$disabled()?"":void 0),S(2),K(n.cx("labelContainer")),T("pTooltip",n.tooltip)("tooltipDisabled",n._disableTooltip)("tooltipPosition",n.tooltipPosition)("positionStyle",n.tooltipPositionStyle)("tooltipStyleClass",n.tooltipStyleClass),S(),K(n.cx("label")),S(),T("ngIf",!n.selectedItemsTemplate&&!n._selectedItemsTemplate),S(),T("ngIf",n.selectedItemsTemplate||n._selectedItemsTemplate),S(),T("ngIf",n.isVisibleClearIcon),S(),K(n.cx("dropdown")),S(),T("ngIf",n.loading)("ngIfElse",a),S(3),T("hostAttrSelector",n.attrSelector),oi("visible",n.overlayVisible),T("options",n.overlayOptions)("target","@parent")("appendTo",n.$appendTo())}},dependencies:[mt,Ca,ji,$t,ei,bi,wV,up,Xe,Ga,Jr,ko,ip,np,Mr,Ma,ir,nr,sa,dc,Rr,ln,Yn,Jn],encapsulation:2,changeDetection:0})}return t})(),jg=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[Pp,Xe,Xe]})}return t})();var nT=`
    .p-listbox {
        display: block;
        background: dt('listbox.background');
        color: dt('listbox.color');
        border: 1px solid dt('listbox.border.color');
        border-radius: dt('listbox.border.radius');
        transition:
            background dt('listbox.transition.duration'),
            color dt('listbox.transition.duration'),
            border-color dt('listbox.transition.duration'),
            box-shadow dt('listbox.transition.duration'),
            outline-color dt('listbox.transition.duration');
        outline-color: transparent;
        box-shadow: dt('listbox.shadow');
    }

    .p-listbox.p-disabled {
        opacity: 1;
        background: dt('listbox.disabled.background');
        color: dt('listbox.disabled.color');
    }

    .p-listbox.p-disabled .p-listbox-option {
        color: dt('listbox.disabled.color');
    }

    .p-listbox.p-invalid {
        border-color: dt('listbox.invalid.border.color');
    }

    .p-listbox-header {
        padding: dt('listbox.list.header.padding');
    }

    .p-listbox-filter {
        width: 100%;
    }

    .p-listbox-list-container {
        overflow: auto;
    }

    .p-listbox-list {
        list-style-type: none;
        margin: 0;
        padding: dt('listbox.list.padding');
        outline: 0 none;
        display: flex;
        flex-direction: column;
        gap: dt('listbox.list.gap');
    }

    .p-listbox-option {
        display: flex;
        align-items: center;
        cursor: pointer;
        position: relative;
        overflow: hidden;
        padding: dt('listbox.option.padding');
        border: 0 none;
        border-radius: dt('listbox.option.border.radius');
        color: dt('listbox.option.color');
        transition:
            background dt('listbox.transition.duration'),
            color dt('listbox.transition.duration'),
            border-color dt('listbox.transition.duration'),
            box-shadow dt('listbox.transition.duration'),
            outline-color dt('listbox.transition.duration');
    }

    .p-listbox-striped li:nth-child(even of .p-listbox-option) {
        background: dt('listbox.option.striped.background');
    }

    .p-listbox .p-listbox-list .p-listbox-option.p-listbox-option-selected {
        background: dt('listbox.option.selected.background');
        color: dt('listbox.option.selected.color');
    }

    .p-listbox:not(.p-disabled) .p-listbox-option.p-listbox-option-selected.p-focus {
        background: dt('listbox.option.selected.focus.background');
        color: dt('listbox.option.selected.focus.color');
    }

    .p-listbox:not(.p-disabled) .p-listbox-option:not(.p-listbox-option-selected):not(.p-disabled).p-focus {
        background: dt('listbox.option.focus.background');
        color: dt('listbox.option.focus.color');
    }

    .p-listbox:not(.p-disabled) .p-listbox-option:not(.p-listbox-option-selected):not(.p-disabled):hover {
        background: dt('listbox.option.focus.background');
        color: dt('listbox.option.focus.color');
    }

    .p-listbox-option-blank-icon {
        flex-shrink: 0;
    }

    .p-listbox-option-check-icon {
        position: relative;
        flex-shrink: 0;
        margin-inline-start: dt('listbox.checkmark.gutter.start');
        margin-inline-end: dt('listbox.checkmark.gutter.end');
        color: dt('listbox.checkmark.color');
    }

    .p-listbox-option-group {
        margin: 0;
        padding: dt('listbox.option.group.padding');
        color: dt('listbox.option.group.color');
        background: dt('listbox.option.group.background');
        font-weight: dt('listbox.option.group.font.weight');
    }

    .p-listbox-empty-message {
        padding: dt('listbox.empty.message.padding');
    }

    .p-listbox-fluid {
        width: 100%;
    }
`;var TV=["item"],CV=["group"],SV=["header"],aT=["filter"],MV=["footer"],kV=["emptyfilter"],EV=["empty"],PV=["filtericon"],DV=["checkicon"],LV=["checkmark"],AV=["loader"],FV=["headerchkbox"],OV=["lastHiddenFocusableElement"],VV=["firstHiddenFocusableElement"],zV=["scroller"],BV=["list"],RV=["container"],NV=[[["p-header"]],[["p-footer"]]],qV=["p-header","p-footer"],Hg=(t,s)=>({$implicit:t,options:s}),hy=t=>({$implicit:t}),rT=t=>({options:t}),sT=()=>[],my=t=>({height:t}),jV=()=>({}),HV=(t,s,e)=>({option:t,i:s,scrollerOptions:e}),GV=(t,s,e,i)=>({$implicit:t,index:s,selected:e,disabled:i}),UV=t=>({implicit:t});function $V(t,s){t&1&&nt(0)}function KV(t,s){if(t&1&&(L(0,"div"),Pi(1),B(2,$V,1,0,"ng-container",20),D()),t&2){let e=M();K(e.cx("header")),S(2),T("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)("ngTemplateOutletContext",li(4,Hg,e.modelValue(),e.visibleOptions()))}}function WV(t,s){}function QV(t,s){t&1&&B(0,WV,0,0,"ng-template")}function ZV(t,s){if(t&1&&B(0,QV,1,0,null,20),t&2){let e=M(4);T("ngTemplateOutlet",e.checkIconTemplate||e._checkIconTemplate)("ngTemplateOutletContext",rt(2,hy,e.allSelected()))}}function XV(t,s){t&1&&(We(0),B(1,ZV,1,4,"ng-template",null,5,Be),Qe())}function YV(t,s){if(t&1){let e=Re();L(0,"p-checkbox",23,4),Ie("onChange",function(n){Z(e);let a=M(2);return X(a.onToggleAll(n))}),B(2,XV,3,0,"ng-container",17),D()}if(t&2){let e=M(2);K(e.cx("optionCheckIcon")),T("ngModel",e.allSelected())("disabled",e.$disabled())("tabindex",-1)("variant",e.config.inputStyle()==="filled"||e.config.inputVariant()==="filled"?"filled":"outlined")("binary",!0),ue("aria-label",e.toggleAllAriaLabel),S(2),T("ngIf",e.checkIconTemplate||e._checkIconTemplate)}}function JV(t,s){t&1&&nt(0)}function ez(t,s){if(t&1&&(We(0),B(1,JV,1,0,"ng-container",20),Qe()),t&2){let e=M(2);S(),T("ngTemplateOutlet",e.filterTemplate||e._filterTemplate)("ngTemplateOutletContext",rt(2,rT,e.filterOptions))}}function tz(t,s){t&1&&(it(),oe(0,"svg",27)),t&2&&ue("aria-hidden",!0)}function iz(t,s){}function nz(t,s){t&1&&B(0,iz,0,0,"ng-template")}function az(t,s){if(t&1&&(L(0,"span"),B(1,nz,1,0,null,28),D()),t&2){let e=M(4);ue("aria-hidden",!0),S(),T("ngTemplateOutlet",e.filterIconTemplate||e._filterIconTemplate)}}function oz(t,s){if(t&1){let e=Re();L(0,"div")(1,"p-iconfield")(2,"input",25,6),Ie("input",function(n){Z(e);let a=M(3);return X(a.onFilterChange(n))})("keydown",function(n){Z(e);let a=M(3);return X(a.onFilterKeyDown(n))})("blur",function(n){Z(e);let a=M(3);return X(a.onFilterBlur(n))}),D(),L(4,"p-inputicon"),B(5,tz,1,1,"svg",26)(6,az,2,2,"span",17),D()()()}if(t&2){let e=M(3);S(2),K(e.cx("pcFilter")),T("value",e._filterValue()||""),ue("disabled",e.$disabled()?"":void 0)("aria-owns",e.id+"_list")("aria-activedescendant",e.focusedOptionId)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel)("tabindex",!e.$disabled()&&!e.focused?e.tabindex:-1),S(3),T("ngIf",!e.filterIconTemplate&&!e._filterIconTemplate),S(),T("ngIf",e.filterIconTemplate||e._filterIconTemplate)}}function rz(t,s){if(t&1&&(B(0,oz,7,11,"div",17),L(1,"span",24),ne(2),D()),t&2){let e=M(2);T("ngIf",e.filter),S(),ue("aria-live","polite")("data-p-hidden-accessible",!0),S(),ni(" ",e.filterResultMessageText," ")}}function sz(t,s){if(t&1&&(L(0,"div"),B(1,YV,3,9,"p-checkbox",21)(2,ez,2,4,"ng-container",22)(3,rz,3,4,"ng-template",null,3,Be),D()),t&2){let e=Ut(4),i=M();K(i.cx("header")),S(),T("ngIf",i.checkbox&&i.multiple),S(),T("ngIf",i.filterTemplate||i._filterTemplate)("ngIfElse",e)}}function lz(t,s){if(t&1&&ne(0),t&2){let e=M(2);ni(" ",e.emptyFilterMessageText," ")}}function cz(t,s){t&1&&nt(0,null,7)}function uz(t,s){if(t&1&&B(0,cz,2,0,"ng-container",28),t&2){let e=M(2);T("ngTemplateOutlet",e.emptyFilterTemplate||e._emptyFilterTemplate||e._emptyTemplate||e.emptyTemplate)}}function dz(t,s){if(t&1){let e=Re();L(0,"div",29),Ie("cdkDropListDropped",function(n){Z(e);let a=M();return X(a.drop(n))}),Gi(1,lz,1,1)(2,uz,1,1,"ng-container"),D()}if(t&2){let e=M();K(e.cx("emptyMessage")),T("cdkDropListData",Kt(4,sT)),S(),Ui(!e.emptyFilterTemplate&&!e._emptyFilterTemplate&&!e._emptyTemplate&&!e.emptyTemplate?1:2)}}function pz(t,s){if(t&1&&ne(0),t&2){let e=M(2);ni(" ",e.emptyMessage," ")}}function hz(t,s){t&1&&nt(0,null,8)}function mz(t,s){if(t&1&&B(0,hz,2,0,"ng-container",28),t&2){let e=M(2);T("ngTemplateOutlet",e.emptyTemplate||e._emptyTemplate)}}function fz(t,s){if(t&1){let e=Re();L(0,"div",29),Ie("cdkDropListDropped",function(n){Z(e);let a=M();return X(a.drop(n))}),Gi(1,pz,1,1)(2,mz,1,1,"ng-container"),D()}if(t&2){let e=M();K(e.cx("emptyMessage")),T("cdkDropListData",Kt(4,sT)),S(),Ui(!e.emptyTemplate&&!e._emptyTemplate?1:2)}}function gz(t,s){t&1&&nt(0)}function _z(t,s){if(t&1&&B(0,gz,1,0,"ng-container",20),t&2){let e=s.$implicit,i=s.options;M(2);let n=Ut(3);T("ngTemplateOutlet",n)("ngTemplateOutletContext",li(2,Hg,e,i))}}function bz(t,s){t&1&&nt(0)}function yz(t,s){if(t&1&&B(0,bz,1,0,"ng-container",20),t&2){let e=s.options,i=M(4);T("ngTemplateOutlet",i.loaderTemplate||i._loaderTemplate)("ngTemplateOutletContext",rt(2,rT,e))}}function vz(t,s){t&1&&B(0,yz,1,4,"ng-template",null,12,Be)}function xz(t,s){if(t&1){let e=Re();L(0,"p-scroller",31,10),Ie("onLazyLoad",function(n){Z(e);let a=M(2);return X(a.onLazyLoad.emit(n))}),B(2,_z,1,5,"ng-template",null,11,Be),Gi(4,vz,2,0),D()}if(t&2){let e=M(2);Ft(rt(9,my,e.scrollHeight)),T("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions)("tabindex",e.scrollerTabIndex),S(4),Ui(e.loaderTemplate||e._loaderTemplate?4:-1)}}function wz(t,s){t&1&&nt(0)}function Iz(t,s){if(t&1&&(We(0),B(1,wz,1,0,"ng-container",20),Qe()),t&2){M();let e=Ut(3),i=M();S(),T("ngTemplateOutlet",e)("ngTemplateOutletContext",li(3,Hg,i.visibleOptions(),Kt(2,jV)))}}function Tz(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(2).$implicit,i=M(3);S(),Dt(i.getOptionGroupLabel(e.optionGroup))}}function Cz(t,s){t&1&&nt(0)}function Sz(t,s){if(t&1&&(We(0),L(1,"li",34),B(2,Tz,2,1,"span",17)(3,Cz,1,0,"ng-container",20),D(),Qe()),t&2){let e=M(),i=e.$implicit,n=e.index,a=M().options,p=M(2);S(),K(p.cx("optionGroup")),T("ngStyle",rt(9,my,a.itemSize+"px"))("cdkDragData",i)("cdkDragDisabled",!p.dragdrop),ue("id",p.id+"_"+p.getOptionIndex(n,a)),S(),T("ngIf",!p.groupTemplate&&!p._groupTemplate),S(),T("ngTemplateOutlet",p.groupTemplate||p._groupTemplate)("ngTemplateOutletContext",rt(11,hy,i.optionGroup))}}function Mz(t,s){}function kz(t,s){t&1&&B(0,Mz,0,0,"ng-template")}function Ez(t,s){if(t&1&&B(0,kz,1,0,null,20),t&2){let e=M(4).$implicit,i=M(3);T("ngTemplateOutlet",i.checkIconTemplate||i._checkIconTemplate)("ngTemplateOutletContext",rt(2,hy,i.isSelected(e)))}}function Pz(t,s){t&1&&(We(0),B(1,Ez,1,4,"ng-template",null,5,Be),Qe())}function Dz(t,s){if(t&1&&(L(0,"p-checkbox",37),B(1,Pz,3,0,"ng-container",17),D()),t&2){let e=M(2).$implicit,i=M(3);K(i.cx("optionCheckIcon")),T("ngModel",i.isSelected(e))("readonly",!0)("disabled",i.$disabled()||i.isOptionDisabled(e))("tabindex",-1)("variant",i.config.inputStyle()==="filled"||i.config.inputVariant()==="filled"?"filled":"outlined")("binary",!0),S(),T("ngIf",i.checkIconTemplate||i._checkIconTemplate)}}function Lz(t,s){if(t&1&&(it(),oe(0,"svg",40)),t&2){let e=M(7);K(e.cx("optionBlankIcon"))}}function Az(t,s){if(t&1&&(it(),oe(0,"svg",41)),t&2){let e=M(7);K(e.cx("optionCheckIcon"))}}function Fz(t,s){if(t&1&&(We(0),B(1,Lz,1,2,"svg",38)(2,Az,1,2,"svg",39),Qe()),t&2){let e=M(3).$implicit,i=M(3);S(),T("ngIf",!i.isSelected(e)),S(),T("ngIf",i.isSelected(e))}}function Oz(t,s){t&1&&nt(0)}function Vz(t,s){if(t&1&&(We(0),B(1,Fz,3,2,"ng-container",17)(2,Oz,1,0,"ng-container",20),Qe()),t&2){let e=M(2).$implicit,i=M(3);S(),T("ngIf",!i.checkmarkTemplate&&!i._checkmarkTemplate),S(),T("ngTemplateOutlet",i.checkmarkTemplate||i._checkmarkTemplate)("ngTemplateOutletContext",rt(3,UV,i.isSelected(e)))}}function zz(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(2).$implicit,i=M(3);S(),Dt(i.getOptionLabel(e))}}function Bz(t,s){t&1&&nt(0)}function Rz(t,s){if(t&1){let e=Re();We(0),L(1,"li",35),Ie("click",function(n){Z(e);let a=M(),p=a.$implicit,y=a.index,C=M().options,A=M(2);return X(A.onOptionSelect(n,p,A.getOptionIndex(y,C)))})("dblclick",function(n){Z(e);let a=M().$implicit,p=M(3);return X(p.onOptionDoubleClick(n,a))})("mousedown",function(n){Z(e);let a=M().index,p=M().options,y=M(2);return X(y.onOptionMouseDown(n,y.getOptionIndex(a,p)))})("mouseenter",function(n){Z(e);let a=M().index,p=M().options,y=M(2);return X(y.onOptionMouseEnter(n,y.getOptionIndex(a,p)))})("touchend",function(){Z(e);let n=M(4);return X(n.onOptionTouchEnd())}),B(2,Dz,2,9,"p-checkbox",36)(3,Vz,3,5,"ng-container",17)(4,zz,2,1,"span",17)(5,Bz,1,0,"ng-container",20),D(),Qe()}if(t&2){let e=M(),i=e.$implicit,n=e.index,a=M().options,p=M(2);S(),K(p.cx("option",Ir(18,HV,i,n,a))),T("ngStyle",rt(22,my,a.itemSize+"px"))("cdkDragData",i)("cdkDragDisabled",!p.dragdrop),ue("id",p.id+"_"+p.getOptionIndex(n,a))("aria-label",p.getOptionLabel(i))("aria-selected",p.isSelected(i))("aria-disabled",p.isOptionDisabled(i))("aria-setsize",p.ariaSetSize)("ariaPosInset",p.getAriaPosInset(p.getOptionIndex(n,a)))("data-pc-section","item")("data-p-selected",p.isSelected(i)),S(),T("ngIf",p.checkbox&&p.multiple),S(),T("ngIf",p.checkmark),S(),T("ngIf",!p.itemTemplate&&!p._itemTemplate),S(),T("ngTemplateOutlet",p.itemTemplate||p._itemTemplate)("ngTemplateOutletContext",Mu(24,GV,i,p.getOptionIndex(n,a),p.isSelected(i),p.isOptionDisabled(i)))}}function Nz(t,s){if(t&1&&B(0,Sz,4,13,"ng-container",17)(1,Rz,6,29,"ng-container",17),t&2){let e=s.$implicit,i=M(3);T("ngIf",i.isOptionGroup(e)),S(),T("ngIf",!i.isOptionGroup(e))}}function qz(t,s){if(t&1){let e=Re();L(0,"ul",32),Ie("focus",function(n){Z(e);let a=M(2);return X(a.onListFocus(n))})("blur",function(n){Z(e);let a=M(2);return X(a.onListBlur(n))})("keydown",function(n){Z(e);let a=M(2);return X(a.onListKeyDown(n))})("cdkDropListDropped",function(n){Z(e);let a=M(2);return X(a.drop(n))}),B(1,Nz,2,2,"ng-template",33),D()}if(t&2){let e=s.$implicit,i=s.options,n=M(2);Ft(i.contentStyle),K(n.cx("list")),T("id",n.id+"_list")("tabindex",-1)("ngClass",i.contentStyleClass)("cdkDropListData",e),ue("aria-multiselectable",!0)("aria-activedescendant",n.focused?n.focusedOptionId:void 0)("aria-label",n.ariaLabel)("aria-disabled",n.$disabled()),S(),T("ngForOf",e)}}function jz(t,s){if(t&1&&B(0,xz,5,11,"p-scroller",30)(1,Iz,2,6,"ng-container",17)(2,qz,2,13,"ng-template",null,9,Be),t&2){let e=M();T("ngIf",e.virtualScroll),S(),T("ngIf",!e.virtualScroll)}}function Hz(t,s){t&1&&nt(0)}function Gz(t,s){if(t&1&&(L(0,"div"),Pi(1,1),B(2,Hz,1,0,"ng-container",20),D()),t&2){let e=M();S(2),T("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)("ngTemplateOutletContext",li(2,Hg,e.modelValue(),e.visibleOptions()))}}function Uz(t,s){if(t&1&&(L(0,"span",19),ne(1),D()),t&2){let e=M();S(),ni(" ",e.emptyMessage," ")}}var $z=`
    ${nT}

    /* For PrimeNG */
    .p-listbox.ng-invalid.ng-dirty {
        border-color: dt('listbox.invalid.border.color');
    }

    .p-listbox-header {
        display: flex;
        align-items: center;
    }
`,Kz={root:({instance:t})=>["p-listbox p-component",{"p-listbox-striped":t.striped,"p-disabled":t.$disabled(),"p-invalid":t.invalid(),"p-listbox-fluid":t.fluid()}],header:"p-listbox-header",pcFilter:"p-listbox-filter",listContainer:"p-listbox-list-container",list:"p-listbox-list",optionGroup:"p-listbox-option-group",option:({instance:t,option:s,i:e,scrollerOptions:i})=>["p-listbox-option",{"p-listbox-option-selected":t.isSelected(s)&&t.highlightOnSelect,"p-focus":t.focusedOptionIndex()===t.getOptionIndex(e,i),"p-disabled":t.isOptionDisabled(s)}],optionCheckIcon:"p-listbox-option-check-icon",optionBlankIcon:"p-listbox-option-blank-icon",emptyMessage:"p-listbox-empty-message"},oT=(()=>{class t extends Vt{name="listbox";theme=$z;classes=Kz;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var Wz={provide:Eo,useExisting:nn(()=>wc),multi:!0},wc=(()=>{class t extends tr{filterService;id;searchMessage;emptySelectionMessage;selectionMessage;autoOptionFocus=!0;ariaLabel;selectOnFocus;searchLocale;focusOnHover=!0;filterMessage;filterFields;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;scrollHeight="14rem";tabindex=0;multiple;styleClass;listStyle;listStyleClass;readonly;checkbox=!1;filter=!1;filterBy;filterMatchMode="contains";filterLocale;metaKeySelection=!1;dataKey;showToggleAll=!0;optionLabel;optionValue;optionGroupChildren="items";optionGroupLabel="label";optionDisabled;ariaFilterLabel;filterPlaceHolder;emptyFilterMessage;emptyMessage;group;get options(){return this._options()}set options(e){this._options.set(e)}get filterValue(){return this._filterValue()}set filterValue(e){this._filterValue.set(e)}get selectAll(){return this._selectAll}set selectAll(e){this._selectAll=e}striped=!1;highlightOnSelect=!0;checkmark=!1;dragdrop=!1;fluid=sn(void 0,{transform:we});onChange=new Fe;onClick=new Fe;onDblClick=new Fe;onFilter=new Fe;onFocus=new Fe;onBlur=new Fe;onSelectAllChange=new Fe;onLazyLoad=new Fe;onDrop=new Fe;headerCheckboxViewChild;filterViewChild;lastHiddenFocusableElement;firstHiddenFocusableElement;scroller;listViewChild;containerViewChild;headerFacet;footerFacet;itemTemplate;groupTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;filterIconTemplate;checkIconTemplate;checkmarkTemplate;loaderTemplate;templates;_itemTemplate;_groupTemplate;_headerTemplate;_filterTemplate;_footerTemplate;_emptyFilterTemplate;_emptyTemplate;_filterIconTemplate;_checkIconTemplate;_checkmarkTemplate;_loaderTemplate;_filterValue=Ei(null);_filteredOptions;filterOptions;filtered;value;optionTouched;focus;headerCheckboxFocus;translationSubscription;focused;scrollerTabIndex="0";_componentStyle=lt(oT);get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}get filterResultMessageText(){return Gt(this.visibleOptions())?this.filterMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptyFilterMessageText}get filterMessageText(){return this.filterMessage||this.config.translation.searchMessage||""}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptyFilterMessageText(){return this.emptyFilterMessage||this.config.translation.emptySearchMessage||this.config.translation.emptyFilterMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption()?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue().length:"1"):this.emptySelectionMessageText}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}get virtualScrollerDisabled(){return!this.virtualScroll}get searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}searchValue;searchTimeout;_selectAll=null;_options=Ei(null);startRangeIndex=Ei(-1);focusedOptionIndex=Ei(-1);onHostFocusOut(e){this.onFocusout(e)}visibleOptions=Vi(()=>{let e=this.group?this.flatOptions(this._options()):this._options()||[];return this._filterValue()?this.filterService.filter(e,this.searchFields,this._filterValue(),this.filterMatchMode,this.filterLocale):e});constructor(e){super(),this.filterService=e}ngOnInit(){super.ngOnInit(),this.id=this.id||xi("pn_id_"),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterChange(e),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break;case"group":this._groupTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"filter":this._filterTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"empty":this._emptyTemplate=e.template;break;case"emptyfilter":this._emptyFilterTemplate=e.template;break;case"filtericon":this._filterIconTemplate=e.template;break;case"checkicon":this._checkIconTemplate=e.template;break;case"checkmark":this._checkmarkTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}flatOptions(e){return(e||[]).reduce((i,n,a)=>{i.push({optionGroup:n,group:!0,index:a});let p=this.getOptionGroupChildren(n);return p&&p.forEach(y=>i.push(y)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&!this.multiple){let e=this.findFirstFocusedOptionIndex();this.focusedOptionIndex.set(e),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()])}}updateModel(e,i){this.value=e,this.writeModelValue(e),this.onModelChange(e),this.onChange.emit({originalEvent:i,value:this.value})}removeOption(e){return this.modelValue().filter(i=>!Ha(i,this.getOptionValue(e),this.equalityKey()))}onOptionSelect(e,i,n=-1){this.$disabled()||this.isOptionDisabled(i)||this.readonly||(e&&this.onClick.emit({originalEvent:e,option:i,value:this.value}),this.multiple?this.onOptionSelectMultiple(e,i):this.onOptionSelectSingle(e,i),this.optionTouched=!1,n!==-1&&this.focusedOptionIndex.set(n))}onOptionSelectMultiple(e,i){let n=this.isSelected(i),a=null;if(this.optionTouched?!1:this.metaKeySelection){let y=e.metaKey||e.ctrlKey;n?a=y?this.removeOption(i):[this.getOptionValue(i)]:(a=y?this.modelValue()||[]:[],a=[...a,this.getOptionValue(i)])}else a=n?this.removeOption(i):[...this.modelValue()||[],this.getOptionValue(i)];this.updateModel(a,e)}onOptionSelectSingle(e,i){let n=this.isSelected(i),a=!1,p=null;if(this.optionTouched?!1:this.metaKeySelection){let C=e.metaKey||e.ctrlKey;n?C&&(p=null,a=!0):(p=this.getOptionValue(i),a=!0)}else p=n?null:this.getOptionValue(i),a=!0;a&&this.updateModel(p,e)}onOptionSelectRange(e,i=-1,n=-1){if(i===-1&&(i=this.findNearestSelectedOptionIndex(n,!0)),n===-1&&(n=this.findNearestSelectedOptionIndex(i)),i!==-1&&n!==-1){let a=Math.min(i,n),p=Math.max(i,n),y=this.visibleOptions().slice(a,p+1).filter(C=>this.isValidOption(C)).map(C=>this.getOptionValue(C));this.updateModel(y,e)}}onToggleAll(e){if(!(this.$disabled()||this.readonly))if(Wt(this.headerCheckboxViewChild.nativeElement),this.selectAll!==null)this.onSelectAllChange.emit({originalEvent:e,checked:!this.allSelected()});else{let i=this.allSelected()?[]:this.visibleOptions().filter(n=>this.isValidOption(n)).map(n=>this.getOptionValue(n));this.updateModel(i,e),this.onChange.emit({originalEvent:e,value:this.value})}}allSelected(){return this.selectAll!==null?this.selectAll:Gt(this.visibleOptions())&&this.visibleOptions().every(e=>this.isOptionGroup(e)||this.isOptionDisabled(e)||this.isSelected(e))}onOptionTouchEnd(){this.$disabled()||(this.optionTouched=!0)}onOptionMouseDown(e,i){this.changeFocusedOptionIndex(e,i)}onOptionMouseEnter(e,i){this.focusOnHover&&this.focused&&this.changeFocusedOptionIndex(e,i)}onOptionDoubleClick(e,i){this.$disabled()||this.isOptionDisabled(i)||this.readonly||this.onDblClick.emit({originalEvent:e,option:i,value:this.value})}onFirstHiddenFocus(e){Wt(this.listViewChild?.nativeElement);let i=Pu(this.el.nativeElement,':not([data-p-hidden-focusable="true"])');this.lastHiddenFocusableElement.nativeElement.tabIndex=dn(i)?"-1":void 0,this.firstHiddenFocusableElement.nativeElement.tabIndex=-1}onLastHiddenFocus(e){if(e.relatedTarget===this.listViewChild?.nativeElement){let n=Pu(this.el.nativeElement,":not(.p-hidden-focusable)");Wt(n),this.firstHiddenFocusableElement.nativeElement.tabIndex=void 0}else Wt(this.firstHiddenFocusableElement.nativeElement);this.lastHiddenFocusableElement.nativeElement.tabIndex=-1}onFocusout(e){!this.el.nativeElement.contains(e.relatedTarget)&&this.lastHiddenFocusableElement&&this.firstHiddenFocusableElement&&(this.firstHiddenFocusableElement.nativeElement.tabIndex=this.lastHiddenFocusableElement.nativeElement.tabIndex=void 0,this.scrollerTabIndex="0")}onListFocus(e){this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex();this.focusedOptionIndex.set(i),this.scrollInView(i),this.onFocus.emit(e),this.scrollerTabIndex="-1"}onListBlur(e){this.focused=!1,this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.searchValue="",this.onBlur.emit(e)}onHeaderCheckboxKeyDown(e){if(this.$disabled()){e.preventDefault();return}switch(e.code){case"Space":this.onToggleAll(e);break;case"Enter":this.onToggleAll(e);break;case"Tab":this.onHeaderCheckboxTabKeyDown(e);break;default:break}}onHeaderCheckboxTabKeyDown(e){Wt(this.listViewChild?.nativeElement),e.preventDefault()}onFilterChange(e){let i=e.target.value?.trim();this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0)}onFilterBlur(e){this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1)}onListKeyDown(e){let i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":case"NumpadEnter":this.onSpaceKey(e);break;case"Tab":break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(this.multiple&&e.code==="KeyA"&&i){let n=this.visibleOptions().filter(a=>this.isValidOption(a)).map(a=>this.getOptionValue(a));this.updateModel(n,e),e.preventDefault();break}!i&&Jo(e.key)&&(this.searchOptions(e,e.key),e.preventDefault());break}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":this.onEnterKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:break}}onArrowDownKey(e){let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex(),i),this.changeFocusedOptionIndex(e,i),e.preventDefault()}onArrowUpKey(e){let i=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,i,this.startRangeIndex()),this.changeFocusedOptionIndex(e,i),e.preventDefault()}onArrowLeftKey(e,i=!1){i&&this.focusedOptionIndex.set(-1)}onHomeKey(e,i=!1){if(i)e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex.set(-1);else{let n=e.metaKey||e.ctrlKey,a=this.findFirstOptionIndex();this.multiple&&e.shiftKey&&n&&this.onOptionSelectRange(e,a,this.startRangeIndex()),this.changeFocusedOptionIndex(e,a)}e.preventDefault()}onEndKey(e,i=!1){if(i){let n=e.currentTarget,a=n.value.length;n.setSelectionRange(a,a),this.focusedOptionIndex.set(-1)}else{let n=e.metaKey||e.ctrlKey,a=this.findLastOptionIndex();this.multiple&&e.shiftKey&&n&&this.onOptionSelectRange(e,this.startRangeIndex(),a),this.changeFocusedOptionIndex(e,a)}e.preventDefault()}onPageDownKey(e){this.scrollInView(0),e.preventDefault()}onPageUpKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onEnterKey(e){this.focusedOptionIndex()!==-1&&(this.multiple&&e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex()):this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()])),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onShiftKey(){let e=this.focusedOptionIndex();this.startRangeIndex.set(e)}getOptionGroupChildren(e){return this.optionGroupChildren?Ai(e,this.optionGroupChildren):e.items}getOptionGroupLabel(e){return this.optionGroupLabel?Ai(e,this.optionGroupLabel):e&&e.label!==void 0?e.label:e}getOptionLabel(e){return this.optionLabel?Ai(e,this.optionLabel):e.label!=null?e.label:e}getOptionIndex(e,i){return this.virtualScrollerDisabled?e:i&&i.getItemOptions(e).index}getOptionValue(e){return this.optionValue?Ai(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(i=>this.isOptionGroup(i)).length:e)+1}hasSelectedOption(){return Gt(this.modelValue())}isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group}changeFocusedOptionIndex(e,i){this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus&&!this.multiple&&this.onOptionSelect(e,this.visibleOptions()[i]))}searchOptions(e,i){this.searchValue=(this.searchValue||"")+i;let n=-1,a=!1;return this.focusedOptionIndex()!==-1?(n=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(p=>this.isOptionMatched(p)),n=n===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(p=>this.isOptionMatched(p)):n+this.focusedOptionIndex()):n=this.visibleOptions().findIndex(p=>this.isOptionMatched(p)),n!==-1&&(a=!0),n===-1&&this.focusedOptionIndex()===-1&&(n=this.findFirstFocusedOptionIndex()),n!==-1&&this.changeFocusedOptionIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),a}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedOptionId,n=ti(this.listViewChild?.nativeElement,`li[id="${i}"]`);n?n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||this.virtualScroll&&this.scroller.scrollToIndex(e!==-1?e:this.focusedOptionIndex())}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findLastOptionIndex(){return Xn(this.visibleOptions(),e=>this.isValidOption(e))}findFirstFocusedOptionIndex(){let e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findLastFocusedOptionIndex(){let e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findLastSelectedOptionIndex(){return this.hasSelectedOption()?Xn(this.visibleOptions(),e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let i=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(n=>this.isValidOption(n)):-1;return i>-1?i+e+1:e}findNextSelectedOptionIndex(e){let i=this.hasSelectedOption()&&e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(n=>this.isValidSelectedOption(n)):-1;return i>-1?i+e+1:-1}findPrevSelectedOptionIndex(e){let i=this.hasSelectedOption()&&e>0?Xn(this.visibleOptions().slice(0,e),n=>this.isValidSelectedOption(n)):-1;return i>-1?i:-1}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findPrevOptionIndex(e){let i=e>0?Xn(this.visibleOptions().slice(0,e),n=>this.isValidOption(n)):-1;return i>-1?i:e}findSelectedOptionIndex(){if(this.$filled)if(this.multiple)for(let e=this.modelValue().length-1;e>=0;e--){let i=this.modelValue()[e],n=this.visibleOptions().findIndex(a=>this.isValidSelectedOption(a)&&this.isEquals(i,this.getOptionValue(a)));if(n>-1)return n}else return this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e));return-1}findNearestSelectedOptionIndex(e,i=!1){let n=-1;return this.hasSelectedOption()&&(i?(n=this.findPrevSelectedOptionIndex(e),n=n===-1?this.findNextSelectedOptionIndex(e):n):(n=this.findNextSelectedOptionIndex(e),n=n===-1?this.findPrevSelectedOptionIndex(e):n)),n>-1?n:e}equalityKey(){return this.optionValue?null:this.dataKey}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isOptionDisabled(e){return Fx(this.optionDisabled)?this.optionDisabled(e):this.optionDisabled?Ai(e,this.optionDisabled):!1}isEquals(e,i){return Ha(e,i,this.equalityKey())}isSelected(e){let i=this.getOptionValue(e);return this.multiple?(this.modelValue()||[]).some(n=>this.isEquals(n,i)):this.isEquals(this.modelValue(),i)}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isEmpty(){return!this._options()?.length||!this.visibleOptions()?.length}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue.set(null)}drop(e){e&&this.onDrop.emit(e)}writeControlValue(e,i){this.value=e,i(this.value),this.cd.markForCheck()}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe(),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||t)(At(zr))};static \u0275cmp=Je({type:t,selectors:[["p-listbox"],["p-listBox"],["p-list-box"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,ec,5),ve(a,ws,5),ve(a,TV,4),ve(a,CV,4),ve(a,SV,4),ve(a,aT,4),ve(a,MV,4),ve(a,kV,4),ve(a,EV,4),ve(a,PV,4),ve(a,DV,4),ve(a,LV,4),ve(a,AV,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.headerFacet=p.first),le(p=ce())&&(n.footerFacet=p.first),le(p=ce())&&(n.itemTemplate=p.first),le(p=ce())&&(n.groupTemplate=p.first),le(p=ce())&&(n.headerTemplate=p.first),le(p=ce())&&(n.filterTemplate=p.first),le(p=ce())&&(n.footerTemplate=p.first),le(p=ce())&&(n.emptyFilterTemplate=p.first),le(p=ce())&&(n.emptyTemplate=p.first),le(p=ce())&&(n.filterIconTemplate=p.first),le(p=ce())&&(n.checkIconTemplate=p.first),le(p=ce())&&(n.checkmarkTemplate=p.first),le(p=ce())&&(n.loaderTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&(dt(FV,5),dt(aT,5),dt(OV,5),dt(VV,5),dt(zV,5),dt(BV,5),dt(RV,5)),i&2){let a;le(a=ce())&&(n.headerCheckboxViewChild=a.first),le(a=ce())&&(n.filterViewChild=a.first),le(a=ce())&&(n.lastHiddenFocusableElement=a.first),le(a=ce())&&(n.firstHiddenFocusableElement=a.first),le(a=ce())&&(n.scroller=a.first),le(a=ce())&&(n.listViewChild=a.first),le(a=ce())&&(n.containerViewChild=a.first)}},hostVars:3,hostBindings:function(i,n){i&1&&Ie("focusout",function(p){return n.onHostFocusOut(p)}),i&2&&(ue("id",n.id),K(n.cn(n.cx("root"),n.styleClass)))},inputs:{id:"id",searchMessage:"searchMessage",emptySelectionMessage:"emptySelectionMessage",selectionMessage:"selectionMessage",autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",we],ariaLabel:"ariaLabel",selectOnFocus:[2,"selectOnFocus","selectOnFocus",we],searchLocale:[2,"searchLocale","searchLocale",we],focusOnHover:[2,"focusOnHover","focusOnHover",we],filterMessage:"filterMessage",filterFields:"filterFields",lazy:[2,"lazy","lazy",we],virtualScroll:[2,"virtualScroll","virtualScroll",we],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Tt],virtualScrollOptions:"virtualScrollOptions",scrollHeight:"scrollHeight",tabindex:[2,"tabindex","tabindex",Tt],multiple:[2,"multiple","multiple",we],styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:[2,"readonly","readonly",we],checkbox:[2,"checkbox","checkbox",we],filter:[2,"filter","filter",we],filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:[2,"metaKeySelection","metaKeySelection",we],dataKey:"dataKey",showToggleAll:[2,"showToggleAll","showToggleAll",we],optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:[2,"group","group",we],options:"options",filterValue:"filterValue",selectAll:"selectAll",striped:[2,"striped","striped",we],highlightOnSelect:[2,"highlightOnSelect","highlightOnSelect",we],checkmark:[2,"checkmark","checkmark",we],dragdrop:[2,"dragdrop","dragdrop",we],fluid:[1,"fluid"]},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onSelectAllChange:"onSelectAllChange",onLazyLoad:"onLazyLoad",onDrop:"onDrop"},features:[bt([Wz,oT,{provide:yw,useValue:{zIndex:1200}}]),gt],ngContentSelectors:qV,decls:15,vars:15,consts:[["firstHiddenFocusableElement",""],["container",""],["lastHiddenFocusableElement",""],["builtInFilterElement",""],["headerchkbox",""],["icon",""],["filterInput",""],["emptyFilter",""],["empty",""],["buildInItems",""],["scroller",""],["content",""],["loader",""],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus","tabindex"],[3,"class",4,"ngIf"],[3,"ngStyle"],["cdkDropList","",3,"class","cdkDropListData"],[4,"ngIf"],["role","status","aria-live","polite","class","p-hidden-accessible",4,"ngIf"],["role","status","aria-live","polite",1,"p-hidden-accessible"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","ngModel","disabled","tabindex","variant","binary","onChange",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"onChange","ngModel","disabled","tabindex","variant","binary"],["role","status",1,"p-hidden-accessible"],["pInputText","","type","text","role","searchbox",3,"input","keydown","blur","value"],["data-p-icon","search",4,"ngIf"],["data-p-icon","search"],[4,"ngTemplateOutlet"],["cdkDropList","",3,"cdkDropListDropped","cdkDropListData"],[3,"items","style","itemSize","autoSize","lazy","options","tabindex","onLazyLoad",4,"ngIf"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options","tabindex"],["role","listbox","cdkDropList","",3,"focus","blur","keydown","cdkDropListDropped","id","tabindex","ngClass","cdkDropListData"],["ngFor","",3,"ngForOf"],["role","option","cdkDrag","",3,"ngStyle","cdkDragData","cdkDragDisabled"],["pRipple","","role","option","cdkDrag","",3,"click","dblclick","mousedown","mouseenter","touchend","ngStyle","cdkDragData","cdkDragDisabled"],[3,"class","ngModel","readonly","disabled","tabindex","variant","binary",4,"ngIf"],[3,"ngModel","readonly","disabled","tabindex","variant","binary"],["data-p-icon","blank",3,"class",4,"ngIf"],["data-p-icon","check",3,"class",4,"ngIf"],["data-p-icon","blank"],["data-p-icon","check"]],template:function(i,n){if(i&1){let a=Re();$i(NV),L(0,"span",13,0),Ie("focus",function(y){return Z(a),X(n.onFirstHiddenFocus(y))}),D(),B(2,KV,3,7,"div",14)(3,sz,5,5,"div",14),L(4,"div",15,1),Gi(6,dz,3,5,"div",16)(7,fz,3,5,"div",16)(8,jz,4,2),D(),B(9,Gz,3,5,"div",17)(10,Uz,2,1,"span",18),L(11,"span",19),ne(12),D(),L(13,"span",13,2),Ie("focus",function(y){return Z(a),X(n.onLastHiddenFocus(y))}),D()}i&2&&(T("tabindex",n.$disabled()?-1:n.tabindex),ue("data-p-hidden-focusable",!0),S(2),T("ngIf",n.headerFacet||n.headerTemplate||n._headerTemplate),S(),T("ngIf",n.checkbox&&n.multiple&&n.showToggleAll||n.filter),S(),K(n.cn(n.cx("listContainer"),n.listStyleClass)),Zn("max-height",n.virtualScroll?"auto":n.scrollHeight||"auto"),T("ngStyle",n.listStyle),S(2),Ui(n.hasFilter()&&n.isEmpty()?6:!n.hasFilter()&&n.isEmpty()?7:8),S(3),T("ngIf",n.footerFacet||n.footerTemplate||n._footerTemplate),S(),T("ngIf",n.isEmpty()),S(2),ni(" ",n.selectedMessageText," "),S(),T("tabindex",n.$disabled()?-1:n.tabindex),ue("data-p-hidden-focusable",!0))},dependencies:[mt,Ca,ji,$t,ei,bi,pn,Jr,nr,np,Rr,ip,ir,sa,Gx,ln,Yn,Jn,Xe,pp,ww,vw],encapsulation:2,changeDetection:0})}return t})(),lT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[wc,Xe,Xe]})}return t})();var Zz=["*"],Xz={root:"p-inputgroupaddon"},cT=(()=>{class t extends Vt{name="inputgroupaddon";classes=Xz;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})(),fy=(()=>{class t extends Ot{style;styleClass;_componentStyle=lt(cT);get hostStyle(){return this.style}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-inputgroup-addon"],["p-inputGroupAddon"]],hostVars:7,hostBindings:function(i,n){i&2&&(ue("data-pc-name","inputgroupaddon"),Ft(n.hostStyle),K(n.styleClass),rf("p-inputgroupaddon",!0))},inputs:{style:"style",styleClass:"styleClass"},features:[bt([cT]),gt],ngContentSelectors:Zz,decls:1,vars:0,template:function(i,n){i&1&&($i(),Pi(0))},dependencies:[mt],encapsulation:2})}return t})(),uT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[fy,Xe,Xe]})}return t})();var Sm=class t{getData(){return[{name:"Afghanistan",code:"AF"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"Andorra",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:'Cote D"Ivoire',code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic Of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:'Korea, Democratic People"S Republic of',code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:'Lao People"S Democratic Republic',code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"RWANDA",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia and Montenegro",code:"CS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}]}getCountries(){return Promise.resolve(this.getData())}static \u0275fac=function(e){return new(e||t)};static \u0275prov=St({token:t,factory:t.\u0275fac})};var Ic=class t{getTreeNodesData(){return[{key:"0",label:"Documents",data:"Documents Folder",icon:"pi pi-fw pi-inbox",children:[{key:"0-0",label:"Work",data:"Work Folder",icon:"pi pi-fw pi-cog",children:[{key:"0-0-0",label:"Expenses.doc",icon:"pi pi-fw pi-file",data:"Expenses Document"},{key:"0-0-1",label:"Resume.doc",icon:"pi pi-fw pi-file",data:"Resume Document"}]},{key:"0-1",label:"Home",data:"Home Folder",icon:"pi pi-fw pi-home",children:[{key:"0-1-0",label:"Invoices.txt",icon:"pi pi-fw pi-file",data:"Invoices for this month"}]}]},{key:"1",label:"Events",data:"Events Folder",icon:"pi pi-fw pi-calendar",children:[{key:"1-0",label:"Meeting",icon:"pi pi-fw pi-calendar-plus",data:"Meeting"},{key:"1-1",label:"Product Launch",icon:"pi pi-fw pi-calendar-plus",data:"Product Launch"},{key:"1-2",label:"Report Review",icon:"pi pi-fw pi-calendar-plus",data:"Report Review"}]},{key:"2",label:"Movies",data:"Movies Folder",icon:"pi pi-fw pi-star-fill",children:[{key:"2-0",icon:"pi pi-fw pi-star-fill",label:"Al Pacino",data:"Pacino Movies",children:[{key:"2-0-0",label:"Scarface",icon:"pi pi-fw pi-video",data:"Scarface Movie"},{key:"2-0-1",label:"Serpico",icon:"pi pi-fw pi-video",data:"Serpico Movie"}]},{key:"2-1",label:"Robert De Niro",icon:"pi pi-fw pi-star-fill",data:"De Niro Movies",children:[{key:"2-1-0",label:"Goodfellas",icon:"pi pi-fw pi-video",data:"Goodfellas Movie"},{key:"2-1-1",label:"Untouchables",icon:"pi pi-fw pi-video",data:"Untouchables Movie"}]}]}]}getTreeTableNodesData(){return[{key:"0",data:{name:"Applications",size:"100kb",type:"Folder"},children:[{key:"0-0",data:{name:"Angular",size:"25kb",type:"Folder"},children:[{key:"0-0-0",data:{name:"angular.app",size:"10kb",type:"Application"}},{key:"0-0-1",data:{name:"native.app",size:"10kb",type:"Application"}},{key:"0-0-2",data:{name:"mobile.app",size:"5kb",type:"Application"}}]},{key:"0-1",data:{name:"editor.app",size:"25kb",type:"Application"}},{key:"0-2",data:{name:"settings.app",size:"50kb",type:"Application"}}]},{key:"1",data:{name:"Cloud",size:"20kb",type:"Folder"},children:[{key:"1-0",data:{name:"backup-1.zip",size:"10kb",type:"Zip"}},{key:"1-1",data:{name:"backup-2.zip",size:"10kb",type:"Zip"}}]},{key:"2",data:{name:"Desktop",size:"150kb",type:"Folder"},children:[{key:"2-0",data:{name:"note-meeting.txt",size:"50kb",type:"Text"}},{key:"2-1",data:{name:"note-todo.txt",size:"100kb",type:"Text"}}]},{key:"3",data:{name:"Documents",size:"75kb",type:"Folder"},children:[{key:"3-0",data:{name:"Work",size:"55kb",type:"Folder"},children:[{key:"3-0-0",data:{name:"Expenses.doc",size:"30kb",type:"Document"}},{key:"3-0-1",data:{name:"Resume.doc",size:"25kb",type:"Resume"}}]},{key:"3-1",data:{name:"Home",size:"20kb",type:"Folder"},children:[{key:"3-1-0",data:{name:"Invoices",size:"20kb",type:"Text"}}]}]},{key:"4",data:{name:"Downloads",size:"25kb",type:"Folder"},children:[{key:"4-0",data:{name:"Spanish",size:"10kb",type:"Folder"},children:[{key:"4-0-0",data:{name:"tutorial-a1.txt",size:"5kb",type:"Text"}},{key:"4-0-1",data:{name:"tutorial-a2.txt",size:"5kb",type:"Text"}}]},{key:"4-1",data:{name:"Travel",size:"15kb",type:"Text"},children:[{key:"4-1-0",data:{name:"Hotel.pdf",size:"10kb",type:"PDF"}},{key:"4-1-1",data:{name:"Flight.pdf",size:"5kb",type:"PDF"}}]}]},{key:"5",data:{name:"Main",size:"50kb",type:"Folder"},children:[{key:"5-0",data:{name:"bin",size:"50kb",type:"Link"}},{key:"5-1",data:{name:"etc",size:"100kb",type:"Link"}},{key:"5-2",data:{name:"var",size:"100kb",type:"Link"}}]},{key:"6",data:{name:"Other",size:"5kb",type:"Folder"},children:[{key:"6-0",data:{name:"todo.txt",size:"3kb",type:"Text"}},{key:"6-1",data:{name:"logo.png",size:"2kb",type:"Picture"}}]},{key:"7",data:{name:"Pictures",size:"150kb",type:"Folder"},children:[{key:"7-0",data:{name:"barcelona.jpg",size:"90kb",type:"Picture"}},{key:"7-1",data:{name:"primeng.png",size:"30kb",type:"Picture"}},{key:"7-2",data:{name:"prime.jpg",size:"30kb",type:"Picture"}}]},{key:"8",data:{name:"Videos",size:"1500kb",type:"Folder"},children:[{key:"8-0",data:{name:"primefaces.mkv",size:"1000kb",type:"Video"}},{key:"8-1",data:{name:"intro.avi",size:"500kb",type:"Video"}}]}]}getLazyNodesData(){return[{label:"Lazy Node 0",data:"Node 0",expandedIcon:"pi pi-folder-open",collapsedIcon:"pi pi-folder",leaf:!1},{label:"Lazy Node 1",data:"Node 1",expandedIcon:"pi pi-folder-open",collapsedIcon:"pi pi-folder",leaf:!1},{label:"Lazy Node 1",data:"Node 2",expandedIcon:"pi pi-folder-open",collapsedIcon:"pi pi-folder",leaf:!1}]}getFileSystemNodesData(){return[{data:{name:"Applications",size:"200mb",type:"Folder"},children:[{data:{name:"Angular",size:"25mb",type:"Folder"},children:[{data:{name:"angular.app",size:"10mb",type:"Application"}},{data:{name:"cli.app",size:"10mb",type:"Application"}},{data:{name:"mobile.app",size:"5mb",type:"Application"}}]},{data:{name:"editor.app",size:"25mb",type:"Application"}},{data:{name:"settings.app",size:"50mb",type:"Application"}}]},{data:{name:"Cloud",size:"20mb",type:"Folder"},children:[{data:{name:"backup-1.zip",size:"10mb",type:"Zip"}},{data:{name:"backup-2.zip",size:"10mb",type:"Zip"}}]},{data:{name:"Desktop",size:"150kb",type:"Folder"},children:[{data:{name:"note-meeting.txt",size:"50kb",type:"Text"}},{data:{name:"note-todo.txt",size:"100kb",type:"Text"}}]},{data:{name:"Documents",size:"75kb",type:"Folder"},children:[{data:{name:"Work",size:"55kb",type:"Folder"},children:[{data:{name:"Expenses.doc",size:"30kb",type:"Document"}},{data:{name:"Resume.doc",size:"25kb",type:"Resume"}}]},{data:{name:"Home",size:"20kb",type:"Folder"},children:[{data:{name:"Invoices",size:"20kb",type:"Text"}}]}]},{data:{name:"Downloads",size:"25mb",type:"Folder"},children:[{data:{name:"Spanish",size:"10mb",type:"Folder"},children:[{data:{name:"tutorial-a1.txt",size:"5mb",type:"Text"}},{data:{name:"tutorial-a2.txt",size:"5mb",type:"Text"}}]},{data:{name:"Travel",size:"15mb",type:"Text"},children:[{data:{name:"Hotel.pdf",size:"10mb",type:"PDF"}},{data:{name:"Flight.pdf",size:"5mb",type:"PDF"}}]}]},{data:{name:"Main",size:"50mb",type:"Folder"},children:[{data:{name:"bin",size:"50kb",type:"Link"}},{data:{name:"etc",size:"100kb",type:"Link"}},{data:{name:"var",size:"100kb",type:"Link"}}]},{data:{name:"Other",size:"5mb",type:"Folder"},children:[{data:{name:"todo.txt",size:"3mb",type:"Text"}},{data:{name:"logo.png",size:"2mb",type:"Picture"}}]},{data:{name:"Pictures",size:"150kb",type:"Folder"},children:[{data:{name:"barcelona.jpg",size:"90kb",type:"Picture"}},{data:{name:"primeng.png",size:"30kb",type:"Picture"}},{data:{name:"prime.jpg",size:"30kb",type:"Picture"}}]},{data:{name:"Videos",size:"1500mb",type:"Folder"},children:[{data:{name:"primefaces.mkv",size:"1000mb",type:"Video"}},{data:{name:"intro.avi",size:"500mb",type:"Video"}}]}]}getDynamicTreeNodes(s,e){let i=[];for(let n=0;n<s;n++){let a=[];for(let p=0;p<e;p++)a.push({key:`${n}-${p}`,label:`Child ${n}-${p}`,selectable:!0});i.push({key:n.toString(),label:`Parent ${n}`,selectable:!0,children:a})}return i}getLargeTreeNodes(){return Promise.resolve(this.getDynamicTreeNodes(10,100))}getTreeTableNodes(){return Promise.resolve(this.getTreeTableNodesData())}getTreeNodes(){return Promise.resolve(this.getTreeNodesData())}getFiles(){return Promise.resolve(this.getTreeNodesData())}getLazyFiles(){return Promise.resolve(this.getLazyNodesData())}getFilesystem(){return Promise.resolve(this.getFileSystemNodesData())}static \u0275fac=function(e){return new(e||t)};static \u0275prov=St({token:t,factory:t.\u0275fac})};var iB=()=>({width:"2rem"}),nB=()=>({width:"10em"}),aB=(t,s)=>s.code;function oB(t,s){if(t&1&&(L(0,"div",56),oe(1,"span",57),L(2,"div"),ne(3),D()()),t&2){let e=s.$implicit;S(),K("mr-2 flag flag-"+e.code.toLowerCase()),S(2),Dt(e.name)}}function rB(t,s){if(t&1&&fx(0,oB,4,3,"div",56,aB),t&2){let e=s.$implicit;gx(e)}}function sB(t,s){if(t&1&&(L(0,"div",26),oe(1,"span",57),L(2,"div"),ne(3),D()()),t&2){let e=s.$implicit;S(),K("mr-2 flag flag-"+e.code.toLowerCase()),S(2),Dt(e.name)}}var Gg=class t{floatValue=null;autoValue;autoFilteredValue=[];selectedAutoValue=null;calendarValue=null;inputNumberValue=null;sliderValue=50;ratingValue=null;colorValue="#1976D2";radioValue=null;checkboxValue=[];switchValue=!1;listboxValues=[{name:"New York",code:"NY"},{name:"Rome",code:"RM"},{name:"London",code:"LDN"},{name:"Istanbul",code:"IST"},{name:"Paris",code:"PRS"}];listboxValue=null;dropdownValues=[{name:"New York",code:"NY"},{name:"Rome",code:"RM"},{name:"London",code:"LDN"},{name:"Istanbul",code:"IST"},{name:"Paris",code:"PRS"}];dropdownValue=null;multiselectCountries=[{name:"Australia",code:"AU"},{name:"Brazil",code:"BR"},{name:"China",code:"CN"},{name:"Egypt",code:"EG"},{name:"France",code:"FR"},{name:"Germany",code:"DE"},{name:"India",code:"IN"},{name:"Japan",code:"JP"},{name:"Spain",code:"ES"},{name:"United States",code:"US"}];multiselectSelectedCountries;toggleValue=!1;selectButtonValue=null;selectButtonValues=[{name:"Option 1"},{name:"Option 2"},{name:"Option 3"}];knobValue=50;inputGroupValue=!1;treeSelectNodes;selectedNode=null;countryService=lt(Sm);nodeService=lt(Ic);ngOnInit(){this.countryService.getCountries().then(s=>{this.autoValue=s}),this.nodeService.getFiles().then(s=>this.treeSelectNodes=s)}filterCountry(s){let e=[],i=s.query;for(let n=0;n<this.autoValue.length;n++){let a=this.autoValue[n];a.name.toLowerCase().indexOf(i.toLowerCase())==0&&e.push(a)}this.autoFilteredValue=e}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Je({type:t,selectors:[["app-input-demo"]],features:[bt([Sm,Ic])],decls:138,vars:45,consts:[["selecteditems",""],["item",""],[1,"flex","flex-col","md:flex-row","gap-8"],[1,"md:w-1/2"],[1,"card","flex","flex-col","gap-4"],[1,"font-semibold","text-xl"],[1,"flex","flex-col","md:flex-row","gap-4"],["pInputText","","type","text","placeholder","Default"],["pInputText","","type","text","placeholder","Disabled",3,"disabled"],["pInputText","","type","text","placeholder","Invalid",1,"ng-dirty","ng-invalid"],[1,"pi","pi-user"],["pInputText","","type","text","placeholder","Username"],["iconPosition","left"],["pInputText","","type","text","placeholder","Search"],[1,"pi","pi-search"],["pInputText","","id","username","type","text",3,"ngModelChange","ngModel"],["for","username"],["pTextarea","","placeholder","Your Message","rows","3","cols","30",3,"autoResize"],["optionLabel","name","placeholder","Search","dropdown","","multiple","","display","chip",3,"ngModelChange","completeMethod","ngModel","suggestions"],[3,"ngModelChange","showIcon","showButtonBar","ngModel"],["showButtons","","mode","decimal",3,"ngModelChange","ngModel"],["pInputText","","type","number",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[1,"flex","flex-row","mt-6"],[1,"flex","flex-col","gap-4","w-1/2"],["valueTemplate","{value}%",3,"ngModelChange","ngModel","step","min","max"],[1,"flex","items-center"],["id","option1","name","option","value","Chicago",3,"ngModelChange","ngModel"],["for","option1",1,"leading-none","ml-2"],["id","option2","name","option","value","Los Angeles",3,"ngModelChange","ngModel"],["for","option2",1,"leading-none","ml-2"],["id","option3","name","option","value","New York",3,"ngModelChange","ngModel"],["for","option3",1,"leading-none","ml-2"],["id","checkOption1","name","option","value","Chicago",3,"ngModelChange","ngModel"],["for","checkOption1",1,"ml-2"],["id","checkOption2","name","option","value","Los Angeles",3,"ngModelChange","ngModel"],["for","checkOption2",1,"ml-2"],["id","checkOption3","name","option","value","New York",3,"ngModelChange","ngModel"],["for","checkOption3",1,"ml-2"],["optionLabel","name",3,"ngModelChange","ngModel","options","filter"],["optionLabel","name","placeholder","Select",3,"ngModelChange","ngModel","options"],["placeholder","Select Countries","optionLabel","name","display","chip",3,"ngModelChange","options","ngModel","filter"],["placeholder","Select Item",3,"ngModelChange","ngModel","options"],["onLabel","Yes","offLabel","No",3,"ngModelChange","ngModel"],["optionLabel","name",3,"ngModelChange","ngModel","options"],[1,"flex","mt-8"],[1,"card","flex","flex-col","gap-6","w-full"],[1,"flex","flex-col","md:flex-row","gap-6"],["pInputText","","placeholder","Username"],[1,"pi","pi-clock"],[1,"pi","pi-star-fill"],["placeholder","Price"],["label","Search"],["pInputText","","placeholder","Keyword"],[3,"ngModelChange","ngModel","binary"],["pInputText","","placeholder","Confirm"],[1,"inline-flex","items-center","py-1","px-2","bg-primary","text-primary-contrast","rounded-border","mr-2"],[2,"width","18px","height","12px"]],template:function(e,i){if(e&1){let n=Re();L(0,"p-fluid",2)(1,"div",3)(2,"div",4)(3,"div",5),ne(4,"InputText"),D(),L(5,"div",6),oe(6,"input",7)(7,"input",8)(8,"input",9),D(),L(9,"div",5),ne(10,"Icons"),D(),L(11,"p-iconfield"),oe(12,"p-inputicon",10)(13,"input",11),D(),L(14,"p-iconfield",12),oe(15,"input",13)(16,"p-inputicon",14),D(),L(17,"div",5),ne(18,"Float Label"),D(),L(19,"p-floatlabel")(20,"input",15),si("ngModelChange",function(p){return Z(n),ri(i.floatValue,p)||(i.floatValue=p),X(p)}),D(),L(21,"label",16),ne(22,"Username"),D()(),L(23,"div",5),ne(24,"Textarea"),D(),oe(25,"textarea",17),L(26,"div",5),ne(27,"AutoComplete"),D(),L(28,"p-autocomplete",18),si("ngModelChange",function(p){return Z(n),ri(i.selectedAutoValue,p)||(i.selectedAutoValue=p),X(p)}),Ie("completeMethod",function(p){return Z(n),X(i.filterCountry(p))}),D(),L(29,"div",5),ne(30,"DatePicker"),D(),L(31,"p-datepicker",19),si("ngModelChange",function(p){return Z(n),ri(i.calendarValue,p)||(i.calendarValue=p),X(p)}),D(),L(32,"div",5),ne(33,"InputNumber"),D(),L(34,"p-inputnumber",20),si("ngModelChange",function(p){return Z(n),ri(i.inputNumberValue,p)||(i.inputNumberValue=p),X(p)}),D()(),L(35,"div",4)(36,"div",5),ne(37,"Slider"),D(),L(38,"input",21),si("ngModelChange",function(p){return Z(n),ri(i.sliderValue,p)||(i.sliderValue=p),X(p)}),D(),L(39,"p-slider",22),si("ngModelChange",function(p){return Z(n),ri(i.sliderValue,p)||(i.sliderValue=p),X(p)}),D(),L(40,"div",23)(41,"div",24)(42,"div",5),ne(43,"Rating"),D(),L(44,"p-rating",22),si("ngModelChange",function(p){return Z(n),ri(i.ratingValue,p)||(i.ratingValue=p),X(p)}),D()(),L(45,"div",24)(46,"div",5),ne(47,"ColorPicker"),D(),L(48,"p-colorpicker",22),si("ngModelChange",function(p){return Z(n),ri(i.colorValue,p)||(i.colorValue=p),X(p)}),D()()(),L(49,"div",5),ne(50,"Knob"),D(),L(51,"p-knob",25),si("ngModelChange",function(p){return Z(n),ri(i.knobValue,p)||(i.knobValue=p),X(p)}),D()()(),L(52,"div",3)(53,"div",4)(54,"div",5),ne(55,"RadioButton"),D(),L(56,"div",6)(57,"div",26)(58,"p-radiobutton",27),si("ngModelChange",function(p){return Z(n),ri(i.radioValue,p)||(i.radioValue=p),X(p)}),D(),L(59,"label",28),ne(60,"Chicago"),D()(),L(61,"div",26)(62,"p-radiobutton",29),si("ngModelChange",function(p){return Z(n),ri(i.radioValue,p)||(i.radioValue=p),X(p)}),D(),L(63,"label",30),ne(64,"Los Angeles"),D()(),L(65,"div",26)(66,"p-radiobutton",31),si("ngModelChange",function(p){return Z(n),ri(i.radioValue,p)||(i.radioValue=p),X(p)}),D(),L(67,"label",32),ne(68,"New York"),D()()(),L(69,"div",5),ne(70,"Checkbox"),D(),L(71,"div",6)(72,"div",26)(73,"p-checkbox",33),si("ngModelChange",function(p){return Z(n),ri(i.checkboxValue,p)||(i.checkboxValue=p),X(p)}),D(),L(74,"label",34),ne(75,"Chicago"),D()(),L(76,"div",26)(77,"p-checkbox",35),si("ngModelChange",function(p){return Z(n),ri(i.checkboxValue,p)||(i.checkboxValue=p),X(p)}),D(),L(78,"label",36),ne(79,"Los Angeles"),D()(),L(80,"div",26)(81,"p-checkbox",37),si("ngModelChange",function(p){return Z(n),ri(i.checkboxValue,p)||(i.checkboxValue=p),X(p)}),D(),L(82,"label",38),ne(83,"New York"),D()()(),L(84,"div",5),ne(85,"ToggleSwitch"),D(),L(86,"p-toggleswitch",22),si("ngModelChange",function(p){return Z(n),ri(i.switchValue,p)||(i.switchValue=p),X(p)}),D()(),L(87,"div",4)(88,"div",5),ne(89,"Listbox"),D(),L(90,"p-listbox",39),si("ngModelChange",function(p){return Z(n),ri(i.listboxValue,p)||(i.listboxValue=p),X(p)}),D(),L(91,"div",5),ne(92,"Select"),D(),L(93,"p-select",40),si("ngModelChange",function(p){return Z(n),ri(i.dropdownValue,p)||(i.dropdownValue=p),X(p)}),D(),L(94,"div",5),ne(95,"MultiSelect"),D(),L(96,"p-multiselect",41),si("ngModelChange",function(p){return Z(n),ri(i.multiselectSelectedCountries,p)||(i.multiselectSelectedCountries=p),X(p)}),B(97,rB,2,0,"ng-template",null,0,Be)(99,sB,4,3,"ng-template",null,1,Be),D(),L(101,"div",5),ne(102,"TreeSelect"),D(),L(103,"p-treeselect",42),si("ngModelChange",function(p){return Z(n),ri(i.selectedNode,p)||(i.selectedNode=p),X(p)}),D()(),L(104,"div",4)(105,"div",5),ne(106,"ToggleButton"),D(),L(107,"p-togglebutton",43),si("ngModelChange",function(p){return Z(n),ri(i.toggleValue,p)||(i.toggleValue=p),X(p)}),D(),L(108,"div",5),ne(109,"SelectButton"),D(),L(110,"p-selectbutton",44),si("ngModelChange",function(p){return Z(n),ri(i.selectButtonValue,p)||(i.selectButtonValue=p),X(p)}),D()()()(),L(111,"p-fluid",45)(112,"div",46)(113,"div",5),ne(114,"InputGroup"),D(),L(115,"div",47)(116,"p-inputgroup")(117,"p-inputgroup-addon"),oe(118,"i",10),D(),oe(119,"input",48),D(),L(120,"p-inputgroup")(121,"p-inputgroup-addon"),oe(122,"i",49),D(),L(123,"p-inputgroup-addon"),oe(124,"i",50),D(),oe(125,"p-inputnumber",51),L(126,"p-inputgroup-addon"),ne(127,"$"),D(),L(128,"p-inputgroup-addon"),ne(129,".00"),D()()(),L(130,"div",47)(131,"p-inputgroup"),oe(132,"p-button",52)(133,"input",53),D(),L(134,"p-inputgroup")(135,"p-inputgroup-addon")(136,"p-checkbox",54),si("ngModelChange",function(p){return Z(n),ri(i.inputGroupValue,p)||(i.inputGroupValue=p),X(p)}),D()(),oe(137,"input",55),D()()()()}e&2&&(S(7),T("disabled",!0),S(13),oi("ngModel",i.floatValue),S(5),T("autoResize",!0),S(3),oi("ngModel",i.selectedAutoValue),T("suggestions",i.autoFilteredValue),S(3),T("showIcon",!0)("showButtonBar",!0),oi("ngModel",i.calendarValue),S(3),oi("ngModel",i.inputNumberValue),S(4),oi("ngModel",i.sliderValue),S(),oi("ngModel",i.sliderValue),S(5),oi("ngModel",i.ratingValue),S(4),Ft(Kt(43,iB)),oi("ngModel",i.colorValue),S(3),oi("ngModel",i.knobValue),T("step",10)("min",-50)("max",50),S(7),oi("ngModel",i.radioValue),S(4),oi("ngModel",i.radioValue),S(4),oi("ngModel",i.radioValue),S(7),oi("ngModel",i.checkboxValue),S(4),oi("ngModel",i.checkboxValue),S(4),oi("ngModel",i.checkboxValue),S(5),oi("ngModel",i.switchValue),S(4),oi("ngModel",i.listboxValue),T("options",i.listboxValues)("filter",!0),S(3),oi("ngModel",i.dropdownValue),T("options",i.dropdownValues),S(3),T("options",i.multiselectCountries),oi("ngModel",i.multiselectSelectedCountries),T("filter",!0),S(7),oi("ngModel",i.selectedNode),T("options",i.treeSelectNodes),S(4),Ft(Kt(44,nB)),oi("ngModel",i.toggleValue),S(3),oi("ngModel",i.selectButtonValue),T("options",i.selectButtonValues),S(26),oi("ngModel",i.inputGroupValue),T("binary",!0))},dependencies:[mt,ln,op,Zx,Yn,Jn,Po,sa,Fi,qi,aw,Rr,dw,uw,Cf,Tf,xI,uy,tp,Ts,oc,ir,rc,nr,TI,dy,EI,Fg,cw,lw,Og,kp,Bf,zf,OI,Vg,BI,zg,lc,sc,sw,rw,If,wf,qI,Bg,XI,Ng,jg,Pp,lT,wc,uT,fy,Ff,Af],encapsulation:2})};var dT=`
    .p-dataview {
        position: relative;
        border-color: dt('dataview.border.color');
        border-width: dt('dataview.border.width');
        border-style: solid;
        border-radius: dt('dataview.border.radius');
        padding: dt('dataview.padding');
    }

    .p-dataview-header {
        background: dt('dataview.header.background');
        color: dt('dataview.header.color');
        border-color: dt('dataview.header.border.color');
        border-width: dt('dataview.header.border.width');
        border-style: solid;
        padding: dt('dataview.header.padding');
        border-radius: dt('dataview.header.border.radius');
    }

    .p-dataview-content {
        background: dt('dataview.content.background');
        border-color: dt('dataview.content.border.color');
        border-width: dt('dataview.content.border.width');
        border-style: solid;
        color: dt('dataview.content.color');
        padding: dt('dataview.content.padding');
        border-radius: dt('dataview.content.border.radius');
    }

    .p-dataview-footer {
        background: dt('dataview.footer.background');
        color: dt('dataview.footer.color');
        border-color: dt('dataview.footer.border.color');
        border-width: dt('dataview.footer.border.width');
        border-style: solid;
        padding: dt('dataview.footer.padding');
        border-radius: dt('dataview.footer.border.radius');
    }

    .p-dataview-paginator-top {
        border-width: dt('dataview.paginator.top.border.width');
        border-color: dt('dataview.paginator.top.border.color');
        border-style: solid;
    }

    .p-dataview-paginator-bottom {
        border-width: dt('dataview.paginator.bottom.border.width');
        border-color: dt('dataview.paginator.bottom.border.color');
        border-style: solid;
    }

    .p-dataview-loading-overlay {
        position: absolute;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 2;
    }
`;var cB=["list"],uB=["grid"],dB=["header"],pB=["emptymessage"],hB=["footer"],mB=["paginatorleft"],fB=["paginatorright"],gB=["paginatordropdownitem"],_B=["loadingicon"],bB=["listicon"],yB=["gridicon"],vB=[[["p-header"]],[["p-footer"]]],xB=["p-header","p-footer"],wB=()=>({position:"top"}),hT=t=>({$implicit:t}),IB=()=>({position:"bottom"});function TB(t,s){if(t&1&&oe(0,"i"),t&2){let e=M(2);K(e.cn(e.cx("loadingIcon"),"pi-spin"+e.loadingIcon))}}function CB(t,s){if(t&1&&(it(),oe(0,"svg",6)),t&2){let e=M(3);K(e.cx("loadingIcon")),T("spin",!0)}}function SB(t,s){}function MB(t,s){t&1&&B(0,SB,0,0,"ng-template")}function kB(t,s){if(t&1&&(We(0),B(1,CB,1,3,"svg",4)(2,MB,1,0,null,5),Qe()),t&2){let e=M(2);S(),T("ngIf",!e.loadingicon),S(),T("ngTemplateOutlet",e.loadingicon)}}function EB(t,s){if(t&1&&(L(0,"div")(1,"div"),B(2,TB,1,2,"i",1)(3,kB,3,2,"ng-container",3),D()()),t&2){let e=M();K(e.cx("loading")),S(),K(e.cx("loadingOverlay")),S(),T("ngIf",e.loadingIcon),S(),T("ngIf",!e.loadingIcon)}}function PB(t,s){t&1&&nt(0)}function DB(t,s){if(t&1&&(L(0,"div"),Pi(1),B(2,PB,1,0,"ng-container",5),D()),t&2){let e=M();K(e.cx("header")),S(2),T("ngTemplateOutlet",e.headerTemplate)}}function LB(t,s){if(t&1){let e=Re();L(0,"p-paginator",7),Ie("onPageChange",function(n){Z(e);let a=M();return X(a.paginate(n))}),D()}if(t&2){let e=M();T("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("styleClass",e.cx("pcPaginator",Kt(18,wB)))("rowsPerPageOptions",e.rowsPerPageOptions)("appendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("templateLeft",e.paginatorleft)("templateRight",e.paginatorright)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatordropdownitem)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("styleClass",e.paginatorStyleClass)}}function AB(t,s){t&1&&nt(0)}function FB(t,s){if(t&1&&(B(0,AB,1,0,"ng-container",8),Yl(1,"slice")),t&2){let e=M();T("ngTemplateOutlet",e.listTemplate)("ngTemplateOutletContext",rt(6,hT,e.paginator?Yh(1,2,e.filteredValue||e.value,e.lazy?0:e.first,(e.lazy?0:e.first)+e.rows):e.filteredValue||e.value))}}function OB(t,s){t&1&&nt(0)}function VB(t,s){if(t&1&&(B(0,OB,1,0,"ng-container",8),Yl(1,"slice")),t&2){let e=M();T("ngTemplateOutlet",e.gridTemplate)("ngTemplateOutletContext",rt(6,hT,e.paginator?Yh(1,2,e.filteredValue||e.value,e.lazy?0:e.first,(e.lazy?0:e.first)+e.rows):e.filteredValue||e.value))}}function zB(t,s){if(t&1&&(We(0),ne(1),Qe()),t&2){let e=M(2);S(),ni(" ",e.emptyMessageLabel," ")}}function BB(t,s){t&1&&nt(0,null,0)}function RB(t,s){if(t&1&&(L(0,"div")(1,"div"),B(2,zB,2,1,"ng-container",9)(3,BB,2,0,"ng-container",5),D()()),t&2){let e=M();S(),K(e.cx("emptyMessage")),S(),T("ngIf",!e.emptymessageTemplate)("ngIfElse",e.empty),S(),T("ngTemplateOutlet",e.emptymessageTemplate)}}function NB(t,s){if(t&1){let e=Re();L(0,"p-paginator",7),Ie("onPageChange",function(n){Z(e);let a=M();return X(a.paginate(n))}),D()}if(t&2){let e=M();T("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("styleClass",e.cx("pcPaginator",Kt(18,IB)))("rowsPerPageOptions",e.rowsPerPageOptions)("appendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("templateLeft",e.paginatorleft)("templateRight",e.paginatorright)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatordropdownitem)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("styleClass",e.paginatorStyleClass)}}function qB(t,s){t&1&&nt(0)}function jB(t,s){if(t&1&&(L(0,"div"),Pi(1,1),B(2,qB,1,0,"ng-container",5),D()),t&2){let e=M();K(e.cx("footer")),S(2),T("ngTemplateOutlet",e.footerTemplate)}}var HB={root:({instance:t})=>["p-dataview p-component",{"p-dataview-list":t.layout==="list","p-dataview-grid":t.layout==="grid"}],header:"p-dataview-header",loading:"p-dataview-loading",loadingOverlay:"p-dataview-loading-overlay p-overlay-mask",loadingIcon:"p-dataview-loading-icon",pcPaginator:({position:t})=>"p-dataview-paginator-"+t,content:"p-dataview-content",emptyMessage:"p-dataview-empty-message",footer:"p-dataview-footer"},pT=(()=>{class t extends Vt{name="dataview";theme=dT;classes=HB;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var by=(()=>{class t extends Ot{paginator;rows;totalRecords;pageLinks=5;rowsPerPageOptions;paginatorPosition="bottom";paginatorStyleClass;alwaysShowPaginator=!0;paginatorDropdownAppendTo;paginatorDropdownScrollHeight="200px";currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showFirstLastIcon=!0;showPageLinks=!0;lazy;lazyLoadOnInit=!0;emptyMessage="";styleClass;gridStyleClass="";trackBy=(e,i)=>i;filterBy;filterLocale;loading;loadingIcon;first=0;sortField;sortOrder;value;layout="list";onLazyLoad=new Fe;onPage=new Fe;onSort=new Fe;onChangeLayout=new Fe;listTemplate;gridTemplate;headerTemplate;emptymessageTemplate;footerTemplate;paginatorleft;paginatorright;paginatordropdownitem;loadingicon;listicon;gridicon;header;footer;_value;filteredValue;filterValue;initialized;_layout="list";translationSubscription;_componentStyle=lt(pT);get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(_o.EMPTY_MESSAGE)}filterService=lt(zr);ngOnInit(){super.ngOnInit(),this.lazy&&this.lazyLoadOnInit&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.initialized=!0}ngAfterViewInit(){super.ngAfterViewInit()}ngOnChanges(e){super.ngOnChanges(e),e.layout&&!e.layout.firstChange&&this.onChangeLayout.emit({layout:e.layout.currentValue}),e.value&&(this._value=e.value.currentValue,this.updateTotalRecords(),!this.lazy&&this.hasFilter()&&this.filter(this.filterValue)),(e.sortField||e.sortOrder)&&(!this.lazy||this.initialized)&&this.sort()}updateTotalRecords(){this.totalRecords=this.lazy?this.totalRecords:this._value?this._value.length:0}paginate(e){this.first=e.first,this.rows=e.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows})}sort(){this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.value.sort((e,i)=>{let n=Ai(e,this.sortField),a=Ai(i,this.sortField),p=null;return n==null&&a!=null?p=-1:n!=null&&a==null?p=1:n==null&&a==null?p=0:typeof n=="string"&&typeof a=="string"?p=n.localeCompare(a):p=n<a?-1:n>a?1:0,this.sortOrder*p}),this.hasFilter()&&this.filter(this.filterValue)),this.onSort.emit({sortField:this.sortField,sortOrder:this.sortOrder})}isEmpty(){let e=this.filteredValue||this.value;return e==null||e.length==0}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder}}getBlockableElement(){return this.el.nativeElement.children[0]}filter(e,i="contains"){if(this.filterValue=e,this.value&&this.value.length){let n=this.filterBy.split(",");this.filteredValue=this.filterService.filter(this.value,n,e,i,this.filterLocale),this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.first=0,this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0),this.cd.markForCheck()}}hasFilter(){return this.filterValue&&this.filterValue.trim().length>0}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe(),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-dataView"],["p-dataview"],["p-data-view"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,cB,5),ve(a,uB,5),ve(a,dB,5),ve(a,pB,5),ve(a,hB,5),ve(a,mB,5),ve(a,fB,5),ve(a,gB,5),ve(a,_B,5),ve(a,bB,5),ve(a,yB,5),ve(a,ec,5),ve(a,ws,5)),i&2){let p;le(p=ce())&&(n.listTemplate=p.first),le(p=ce())&&(n.gridTemplate=p.first),le(p=ce())&&(n.headerTemplate=p.first),le(p=ce())&&(n.emptymessageTemplate=p.first),le(p=ce())&&(n.footerTemplate=p.first),le(p=ce())&&(n.paginatorleft=p.first),le(p=ce())&&(n.paginatorright=p.first),le(p=ce())&&(n.paginatordropdownitem=p.first),le(p=ce())&&(n.loadingicon=p.first),le(p=ce())&&(n.listicon=p.first),le(p=ce())&&(n.gridicon=p.first),le(p=ce())&&(n.header=p.first),le(p=ce())&&(n.footer=p.first)}},hostVars:2,hostBindings:function(i,n){i&2&&K(n.cn(n.cx("root"),n.styleClass))},inputs:{paginator:[2,"paginator","paginator",we],rows:[2,"rows","rows",Tt],totalRecords:[2,"totalRecords","totalRecords",Tt],pageLinks:[2,"pageLinks","pageLinks",Tt],rowsPerPageOptions:"rowsPerPageOptions",paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",alwaysShowPaginator:[2,"alwaysShowPaginator","alwaysShowPaginator",we],paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[2,"showCurrentPageReport","showCurrentPageReport",we],showJumpToPageDropdown:[2,"showJumpToPageDropdown","showJumpToPageDropdown",we],showFirstLastIcon:[2,"showFirstLastIcon","showFirstLastIcon",we],showPageLinks:[2,"showPageLinks","showPageLinks",we],lazy:[2,"lazy","lazy",we],lazyLoadOnInit:[2,"lazyLoadOnInit","lazyLoadOnInit",we],emptyMessage:"emptyMessage",styleClass:"styleClass",gridStyleClass:"gridStyleClass",trackBy:"trackBy",filterBy:"filterBy",filterLocale:"filterLocale",loading:[2,"loading","loading",we],loadingIcon:"loadingIcon",first:[2,"first","first",Tt],sortField:"sortField",sortOrder:[2,"sortOrder","sortOrder",Tt],value:"value",layout:"layout"},outputs:{onLazyLoad:"onLazyLoad",onPage:"onPage",onSort:"onSort",onChangeLayout:"onChangeLayout"},features:[bt([pT]),gt,wr],ngContentSelectors:xB,decls:9,vars:10,consts:[["empty",""],[3,"class",4,"ngIf"],[3,"rows","first","totalRecords","pageLinkSize","alwaysShow","styleClass","rowsPerPageOptions","appendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],[4,"ngIf"],["data-p-icon","spinner",3,"spin","class",4,"ngIf"],[4,"ngTemplateOutlet"],["data-p-icon","spinner",3,"spin"],[3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","styleClass","rowsPerPageOptions","appendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"]],template:function(i,n){i&1&&($i(vB),B(0,EB,4,6,"div",1)(1,DB,3,3,"div",1)(2,LB,1,19,"p-paginator",2),L(3,"div"),Gi(4,FB,2,8,"ng-container"),Gi(5,VB,2,8,"ng-container"),B(6,RB,4,5,"div",3),D(),B(7,NB,1,19,"p-paginator",2)(8,jB,3,3,"div",1)),i&2&&(T("ngIf",n.loading),S(),T("ngIf",n.header||n.headerTemplate),S(),T("ngIf",n.paginator&&(n.paginatorPosition==="top"||n.paginatorPosition=="both")),S(),K(n.cx("content")),S(),Ui(n.layout==="list"?4:-1),S(),Ui(n.layout==="grid"?5:-1),S(),T("ngIf",n.isEmpty()&&!n.loading),S(),T("ngIf",n.paginator&&(n.paginatorPosition==="bottom"||n.paginatorPosition=="both")),S(),T("ngIf",n.footer||n.footerTemplate))},dependencies:[mt,$t,ei,Mf,Sf,Ss,Xe,Tx],encapsulation:2,changeDetection:0})}return t})(),mT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[by,Xe,Xe]})}return t})();var fT=`
    .p-orderlist {
        display: flex;
        gap: dt('orderlist.gap');
    }

    .p-orderlist .p-listbox {
        flex: 1 1 auto;
    }

    .p-orderlist-controls {
        display: flex;
        flex-direction: column;
        justify-content: center;
        gap: dt('orderlist.controls.gap');
    }
`;var UB=["item"],$B=["empty"],KB=["emptyfilter"],gT=["filter"],WB=["header"],QB=["moveupicon"],ZB=["movetopicon"],XB=["movedownicon"],YB=["movebottomicon"],JB=["filtericon"],eR=["listelement"],tR=(t,s,e)=>({$implicit:t,selected:s,index:e});function iR(t,s){t&1&&(it(),oe(0,"svg",13)),t&2&&ue("data-pc-section","moveupicon")}function nR(t,s){}function aR(t,s){t&1&&B(0,nR,0,0,"ng-template")}function oR(t,s){t&1&&(it(),oe(0,"svg",14)),t&2&&ue("data-pc-section","movetopicon")}function rR(t,s){}function sR(t,s){t&1&&B(0,rR,0,0,"ng-template")}function lR(t,s){t&1&&(it(),oe(0,"svg",15)),t&2&&ue("data-pc-section","movedownicon")}function cR(t,s){}function uR(t,s){t&1&&B(0,cR,0,0,"ng-template")}function dR(t,s){t&1&&(it(),oe(0,"svg",16)),t&2&&ue("data-pc-section","movebottomicon")}function pR(t,s){}function hR(t,s){t&1&&B(0,pR,0,0,"ng-template")}function mR(t,s){}function fR(t,s){t&1&&B(0,mR,0,0,"ng-template")}function gR(t,s){if(t&1&&B(0,fR,1,0,null,7),t&2){let e=M(2);T("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)}}function _R(t,s){t&1&&(We(0),B(1,gR,1,1,"ng-template",null,1,Be),Qe())}function bR(t,s){}function yR(t,s){t&1&&B(0,bR,0,0,"ng-template")}function vR(t,s){if(t&1&&B(0,yR,1,0,null,17),t&2){let e=s.$implicit,i=s.selected,n=s.index,a=M(2);T("ngTemplateOutlet",a.itemTemplate||a._itemTemplate)("ngTemplateOutletContext",Ir(2,tR,e,i,n))}}function xR(t,s){t&1&&(We(0),B(1,vR,1,6,"ng-template",null,2,Be),Qe())}function wR(t,s){}function IR(t,s){t&1&&B(0,wR,0,0,"ng-template")}function TR(t,s){if(t&1&&B(0,IR,1,0,null,7),t&2){let e=M(2);T("ngTemplateOutlet",e.emptyMessageTemplate||e._emptyMessageTemplate)}}function CR(t,s){t&1&&(We(0),B(1,TR,1,1,"ng-template",null,3,Be),Qe())}function SR(t,s){}function MR(t,s){t&1&&B(0,SR,0,0,"ng-template")}function kR(t,s){if(t&1&&B(0,MR,1,0,null,7),t&2){let e=M(2);T("ngTemplateOutlet",e.emptyFilterMessageTemplate||e._emptyFilterMessageTemplate)}}function ER(t,s){t&1&&(We(0),B(1,kR,1,1,"ng-template",null,4,Be),Qe())}var PR={root:()=>["p-orderlist p-component"],controls:"p-orderlist-controls"},_T=(()=>{class t extends Vt{name="orderlist";theme=fT;classes=PR;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var yy=(()=>{class t extends Ot{header;styleClass;tabindex;ariaLabel;ariaLabelledBy;listStyle;responsive;filterBy;filterPlaceholder;filterLocale;metaKeySelection=!1;dragdrop=!1;controlsPosition="left";ariaFilterLabel;filterMatchMode="contains";breakpoint="960px";stripedRows;disabled;trackBy=(e,i)=>i;scrollHeight="14rem";autoOptionFocus=!0;set selection(e){this.d_selection=e}get selection(){return this.d_selection}set value(e){this._value=e,this.filterValue&&this.filter()}get value(){return this._value}buttonProps={severity:"secondary"};moveUpButtonProps;moveTopButtonProps;moveDownButtonProps;moveBottomButtonProps;selectionChange=new Fe;onReorder=new Fe;onSelectionChange=new Fe;onFilterEvent=new Fe;onFocus=new Fe;onBlur=new Fe;listViewChild;filterViewChild;itemTemplate;emptyMessageTemplate;emptyFilterMessageTemplate;filterTemplate;headerTemplate;moveUpIconTemplate;moveTopIconTemplate;moveDownIconTemplate;moveBottomIconTemplate;filterIconTemplate;get moveUpAriaLabel(){return this.config.translation.aria?this.config.translation.aria.moveUp:void 0}get moveTopAriaLabel(){return this.config.translation.aria?this.config.translation.aria.moveTop:void 0}get moveDownAriaLabel(){return this.config.translation.aria?this.config.translation.aria.moveDown:void 0}get moveBottomAriaLabel(){return this.config.translation.aria?this.config.translation.aria.moveBottom:void 0}_componentStyle=lt(_T);filterOptions;d_selection=[];movedUp;movedDown;itemTouched;styleElement;id=xi("pn_id_");filterValue;visibleOptions;_value;filterService=lt(zr);getButtonProps(e){switch(e){case"up":return ai(ai({},this.buttonProps),this.moveUpButtonProps);case"top":return ai(ai({},this.buttonProps),this.moveTopButtonProps);case"down":return ai(ai({},this.buttonProps),this.moveDownButtonProps);case"bottom":return ai(ai({},this.buttonProps),this.moveBottomButtonProps);default:return this.buttonProps}}ngOnInit(){super.ngOnInit(),this.responsive&&this.createStyle(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterKeyup(e),reset:()=>this.resetFilter()})}templates;_itemTemplate;_emptyMessageTemplate;_emptyFilterMessageTemplate;_filterTemplate;_headerTemplate;_moveUpIconTemplate;_moveTopIconTemplate;_moveDownIconTemplate;_moveBottomIconTemplate;_filterIconTemplate;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break;case"empty":this._emptyMessageTemplate=e.template;break;case"emptyfilter":this._emptyFilterMessageTemplate=e.template;break;case"filter":this._filterTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"moveupicon":this._moveUpIconTemplate=e.template;break;case"movetopicon":this._moveTopIconTemplate=e.template;break;case"movedownicon":this._moveDownIconTemplate=e.template;break;case"movebottomicon":this._moveBottomIconTemplate=e.template;break;case"filtericon":this._filterIconTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}onChangeSelection(e){this.d_selection=e.value,this.selectionChange.emit(e.value),this.onSelectionChange.emit({originalEvent:e.originalEvent,value:e.value})}onFilterKeyup(e){this.filterValue=e.target.value.trim().toLocaleLowerCase(this.filterLocale),this.filter(),this.onFilterEvent.emit({originalEvent:e,value:this.visibleOptions})}filter(){let e=this.filterBy.split(",");this.visibleOptions=this.filterService.filter(this.value,e,this.filterValue,this.filterMatchMode,this.filterLocale)}resetFilter(){this.filterValue=null,this.filterViewChild&&(this.filterViewChild.nativeElement.value="")}isItemVisible(e){if(this.filterValue&&this.filterValue.trim().length){for(let i=0;i<this.visibleOptions.length;i++)if(e==this.visibleOptions[i])return!0}else return!0}isSelected(e){return vn(e,this.d_selection)!==-1}isEmpty(){return this.filterValue?!this.visibleOptions||this.visibleOptions.length===0:!this.value||this.value.length===0}moveUp(){if(this.selection){for(let e=0;e<this.selection.length;e++){let i=this.selection[e],n=vn(i,this.value);if(n!=0&&this.value instanceof Array){let a=this.value[n],p=this.value[n-1];this.value[n-1]=a,this.value[n]=p}else break}this.dragdrop&&this.filterValue&&this.filter(),this.movedUp=!0,this.onReorder.emit(this.selection)}this.listViewChild?.cd?.markForCheck()}moveTop(){if(this.selection){for(let e=this.selection.length-1;e>=0;e--){let i=this.selection[e],n=vn(i,this.value);if(n!=0&&this.value instanceof Array){let a=this.value.splice(n,1)[0];this.value.unshift(a)}else break}this.dragdrop&&this.filterValue&&this.filter(),this.onReorder.emit(this.selection),setTimeout(()=>{this.listViewChild.scrollInView(0)})}this.listViewChild?.cd?.markForCheck()}moveDown(){if(this.selection){for(let e=this.selection.length-1;e>=0;e--){let i=this.selection[e],n=vn(i,this.value);if(this.value instanceof Array&&n!=this.value.length-1){let a=this.value[n],p=this.value[n+1];this.value[n+1]=a,this.value[n]=p}else break}this.dragdrop&&this.filterValue&&this.filter(),this.movedDown=!0,this.onReorder.emit(this.selection)}this.listViewChild?.cd?.markForCheck()}moveBottom(){if(this.selection){for(let e=0;e<this.selection.length;e++){let i=this.selection[e],n=vn(i,this.value);if(this.value instanceof Array&&n!=this.value.length-1){let a=this.value.splice(n,1)[0];this.value.push(a)}else break}this.dragdrop&&this.filterValue&&this.filter(),this.onReorder.emit(this.selection),this.listViewChild.scrollInView(this.value?.length-1)}this.listViewChild?.cd?.markForCheck()}onDrop(e){let i=e.previousIndex,n=e.currentIndex;i!==n&&(this.visibleOptions&&(this.filterValue&&(i=vn(e.item.data,this.value),n=vn(this.visibleOptions[n],this.value)),dp(this.visibleOptions,e.previousIndex,e.currentIndex)),dp(this.value,i,n),this.onReorder.emit([e.item.data]))}onListFocus(e){this.onFocus.emit(e)}onListBlur(e){this.onBlur.emit(e)}getVisibleOptions(){return this.visibleOptions&&this.visibleOptions.length>0?this.visibleOptions:this.value&&this.value.length>0?this.value:null}moveDisabled(){if(this.disabled||!this.selection.length)return!0}createStyle(){if(ci(this.platformId)&&!this.styleElement){this.renderer.setAttribute(this.el.nativeElement.children[0],this.id,""),this.styleElement=this.renderer.createElement("style"),this.renderer.setAttribute(this.styleElement,"type","text/css"),this.renderer.appendChild(this.document.head,this.styleElement);let e=`
                    @media screen and (max-width: ${this.breakpoint}) {
                        .p-orderlist[${this.attrSelector}] {
                            flex-direction: column;
                        }

                        .p-orderlist[${this.attrSelector}] .p-orderlist-controls {
                            padding: var(--content-padding);
                            flex-direction: row;
                        }

                        .p-orderlist[${this.attrSelector}] .p-orderlist-controls .p-button {
                            margin-right: var(--inline-spacing);
                            margin-bottom: 0;
                        }

                        .p-orderlist[${this.attrSelector}] .p-orderlist-controls .p-button:last-child {
                            margin-right: 0;
                        }
                    }
                `;this.renderer.setProperty(this.styleElement,"innerHTML",e),Yr(this.styleElement,"nonce",this.config?.csp()?.nonce)}}destroyStyle(){ci(this.platformId)&&this.styleElement&&(this.renderer.removeChild(this.document,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.destroyStyle(),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-orderList"],["p-orderlist"],["p-order-list"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,UB,4),ve(a,$B,4),ve(a,KB,4),ve(a,gT,4),ve(a,WB,4),ve(a,QB,4),ve(a,ZB,4),ve(a,XB,4),ve(a,YB,4),ve(a,JB,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.itemTemplate=p.first),le(p=ce())&&(n.emptyMessageTemplate=p.first),le(p=ce())&&(n.emptyFilterMessageTemplate=p.first),le(p=ce())&&(n.filterTemplate=p.first),le(p=ce())&&(n.headerTemplate=p.first),le(p=ce())&&(n.moveUpIconTemplate=p.first),le(p=ce())&&(n.moveTopIconTemplate=p.first),le(p=ce())&&(n.moveDownIconTemplate=p.first),le(p=ce())&&(n.moveBottomIconTemplate=p.first),le(p=ce())&&(n.filterIconTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&(dt(eR,5),dt(gT,5)),i&2){let a;le(a=ce())&&(n.listViewChild=a.first),le(a=ce())&&(n.filterViewChild=a.first)}},hostVars:3,hostBindings:function(i,n){i&2&&(ue("data-pc-section","root"),K(n.cn(n.cx("root"),n.styleClass)))},inputs:{header:"header",styleClass:"styleClass",tabindex:[2,"tabindex","tabindex",Tt],ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",listStyle:"listStyle",responsive:[2,"responsive","responsive",we],filterBy:"filterBy",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",metaKeySelection:[2,"metaKeySelection","metaKeySelection",we],dragdrop:[2,"dragdrop","dragdrop",we],controlsPosition:"controlsPosition",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",breakpoint:"breakpoint",stripedRows:[2,"stripedRows","stripedRows",we],disabled:[2,"disabled","disabled",we],trackBy:"trackBy",scrollHeight:"scrollHeight",autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",we],selection:"selection",value:"value",buttonProps:"buttonProps",moveUpButtonProps:"moveUpButtonProps",moveTopButtonProps:"moveTopButtonProps",moveDownButtonProps:"moveDownButtonProps",moveBottomButtonProps:"moveBottomButtonProps"},outputs:{selectionChange:"selectionChange",onReorder:"onReorder",onSelectionChange:"onSelectionChange",onFilterEvent:"onFilterEvent",onFocus:"onFocus",onBlur:"onBlur"},features:[bt([_T]),gt],decls:19,vars:48,consts:[["listelement",""],["header",""],["item",""],["empty",""],["emptyfilter",""],["type","button","pButton","","pRipple","",3,"click","disabled","buttonProps"],["data-p-icon","angle-up","pButtonIcon","",4,"ngIf"],[4,"ngTemplateOutlet"],["data-p-icon","angle-double-up","pButtonIcon","",4,"ngIf"],["data-p-icon","angle-down","pButtonIcon","",4,"ngIf"],["data-p-icon","angle-double-down","pButtonIcon","",4,"ngIf"],["optionLabel","name",3,"ngModelChange","onFocus","onBlur","onChange","onDrop","multiple","options","ngModel","id","listStyle","striped","tabindex","ariaLabel","disabled","metaKeySelection","scrollHeight","autoOptionFocus","filter","filterBy","filterLocale","filterPlaceHolder","dragdrop"],[4,"ngIf"],["data-p-icon","angle-up","pButtonIcon",""],["data-p-icon","angle-double-up","pButtonIcon",""],["data-p-icon","angle-down","pButtonIcon",""],["data-p-icon","angle-double-down","pButtonIcon",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){if(i&1){let a=Re();L(0,"div")(1,"button",5),Ie("click",function(){return Z(a),X(n.moveUp())}),B(2,iR,1,1,"svg",6)(3,aR,1,0,null,7),D(),L(4,"button",5),Ie("click",function(){return Z(a),X(n.moveTop())}),B(5,oR,1,1,"svg",8)(6,sR,1,0,null,7),D(),L(7,"button",5),Ie("click",function(){return Z(a),X(n.moveDown())}),B(8,lR,1,1,"svg",9)(9,uR,1,0,null,7),D(),L(10,"button",5),Ie("click",function(){return Z(a),X(n.moveBottom())}),B(11,dR,1,1,"svg",10)(12,hR,1,0,null,7),D()(),L(13,"p-listbox",11,0),si("ngModelChange",function(y){return Z(a),ri(n.d_selection,y)||(n.d_selection=y),X(y)}),Ie("onFocus",function(y){return Z(a),X(n.onListFocus(y))})("onBlur",function(y){return Z(a),X(n.onListBlur(y))})("onChange",function(y){return Z(a),X(n.onChangeSelection(y))})("onDrop",function(y){return Z(a),X(n.onDrop(y))}),B(15,_R,3,0,"ng-container",12)(16,xR,3,0,"ng-container",12)(17,CR,3,0,"ng-container",12)(18,ER,3,0,"ng-container",12),D()}i&2&&(K(n.cx("controls")),ue("data-pc-section","controls"),S(),T("disabled",n.moveDisabled())("buttonProps",n.getButtonProps("up")),ue("aria-label",n.moveUpAriaLabel)("data-pc-section","moveUpButton"),S(),T("ngIf",!n.moveUpIconTemplate&&!n._moveUpIconTemplate),S(),T("ngTemplateOutlet",n.moveUpIconTemplate||n._moveUpIconTemplate),S(),T("disabled",n.moveDisabled())("buttonProps",n.getButtonProps("top")),ue("aria-label",n.moveTopAriaLabel)("data-pc-section","moveTopButton"),S(),T("ngIf",!n.moveTopIconTemplate&&!n._moveTopIconTemplate),S(),T("ngTemplateOutlet",n.moveTopIconTemplate||n._moveTopIconTemplate),S(),T("disabled",n.moveDisabled())("buttonProps",n.getButtonProps("down")),ue("aria-label",n.moveDownAriaLabel)("data-pc-section","moveDownButton"),S(),T("ngIf",!n.moveDownIconTemplate&&!n._moveDownIconTemplate),S(),T("ngTemplateOutlet",n.moveDownIconTemplate||n._moveDownIconTemplate),S(),T("disabled",n.moveDisabled())("buttonProps",n.getButtonProps("bottom")),ue("aria-label",n.moveBottomAriaLabel)("data-pc-section","moveBottomButton"),S(),T("ngIf",!n.moveBottomIconTemplate&&!n._moveBottomIconTemplate),S(),T("ngTemplateOutlet",n.moveBottomIconTemplate||n._moveBottomIconTemplate),S(),T("multiple",!0)("options",n.value),oi("ngModel",n.d_selection),T("id",n.id+"_list")("listStyle",n.listStyle)("striped",n.stripedRows)("tabindex",n.tabindex)("ariaLabel",n.ariaLabel)("disabled",n.disabled)("metaKeySelection",n.metaKeySelection)("scrollHeight",n.scrollHeight)("autoOptionFocus",n.autoOptionFocus)("filter",n.filterBy)("filterBy",n.filterBy)("filterLocale",n.filterLocale)("filterPlaceHolder",n.filterPlaceholder)("dragdrop",n.dragdrop),S(2),T("ngIf",n.headerTemplate||n._headerTemplate),S(),T("ngIf",n.itemTemplate||n._itemTemplate),S(),T("ngIf",n.emptyMessageTemplate||n._emptyMessageTemplate),S(),T("ngIf",n.emptyFilterMessageTemplate||n._emptyFilterMessageTemplate))},dependencies:[mt,$t,ei,Fi,Ms,xf,pn,pp,Rf,Nf,yf,ic,wc,ln,Yn,Jn,Xe],encapsulation:2,changeDetection:0})}return t})(),bT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[yy,Xe,Xe]})}return t})();var yT=`
    .p-picklist {
        display: flex;
        gap: dt('picklist.gap');
    }

    .p-picklist-controls {
        display: flex;
        flex-direction: column;
        justify-content: center;
        gap: dt('picklist.controls.gap');
    }

    .p-picklist-list-container {
        flex: 1 1 50%;
    }

    .p-picklist .p-listbox {
        height: 100%;
    }
`;var LR=["item"],AR=["sourceHeader"],FR=["targetHeader"],vT=["sourceFilter"],xT=["targetFilter"],OR=["emptymessagesource"],VR=["emptyfiltermessagesource"],zR=["emptymessagetarget"],BR=["emptyfiltermessagetarget"],RR=["moveupicon"],NR=["movetopicon"],qR=["movedownicon"],jR=["movebottomicon"],HR=["movetotargeticon"],GR=["movealltotargeticon"],UR=["movetosourceicon"],$R=["movealltosourceicon"],KR=["targetfiltericon"],WR=["sourcefiltericon"],QR=["sourcelist"],ZR=["targetlist"],Ug=t=>({$implicit:t}),IT=t=>({options:t}),TT=(t,s,e,i)=>({$implicit:t,index:s,selected:e,disabled:i});function XR(t,s){t&1&&(it(),oe(0,"svg",18)),t&2&&ue("data-pc-section","moveupicon")}function YR(t,s){}function JR(t,s){t&1&&B(0,YR,0,0,"ng-template")}function eN(t,s){t&1&&(it(),oe(0,"svg",19)),t&2&&ue("data-pc-section","movetopicon")}function tN(t,s){}function iN(t,s){t&1&&B(0,tN,0,0,"ng-template")}function nN(t,s){t&1&&(it(),oe(0,"svg",20)),t&2&&ue("data-pc-section","movedownicon")}function aN(t,s){}function oN(t,s){t&1&&B(0,aN,0,0,"ng-template")}function rN(t,s){t&1&&(it(),oe(0,"svg",21)),t&2&&ue("data-pc-section","movebottomicon")}function sN(t,s){}function lN(t,s){t&1&&B(0,sN,0,0,"ng-template")}function cN(t,s){if(t&1){let e=Re();L(0,"div")(1,"button",11),Ie("click",function(){Z(e);let n=M(),a=Ut(4);return X(n.moveUp(a,n.source,n.selectedItemsSource,n.onSourceReorder,n.SOURCE_LIST))}),B(2,XR,1,1,"svg",13)(3,JR,1,0,null,14),D(),L(4,"button",11),Ie("click",function(){Z(e);let n=M(),a=Ut(4);return X(n.moveTop(a,n.source,n.selectedItemsSource,n.onSourceReorder,n.SOURCE_LIST))}),B(5,eN,1,1,"svg",15)(6,iN,1,0,null,14),D(),L(7,"button",11),Ie("click",function(){Z(e);let n=M(),a=Ut(4);return X(n.moveDown(a,n.source,n.selectedItemsSource,n.onSourceReorder,n.SOURCE_LIST))}),B(8,nN,1,1,"svg",16)(9,oN,1,0,null,14),D(),L(10,"button",11),Ie("click",function(){Z(e);let n=M(),a=Ut(4);return X(n.moveBottom(a,n.source,n.selectedItemsSource,n.onSourceReorder,n.SOURCE_LIST))}),B(11,rN,1,1,"svg",17)(12,lN,1,0,null,14),D()()}if(t&2){let e=M();K(e.cx("sourceControls")),ue("data-pc-section","sourceControls")("data-pc-group-section","controls"),S(),T("disabled",e.sourceMoveDisabled())("buttonProps",e.getButtonProps("moveup")),ue("aria-label",e.moveUpAriaLabel)("data-pc-section","sourceMoveUpButton"),S(),T("ngIf",!e.moveUpIconTemplate&&!e._moveUpIconTemplate),S(),T("ngTemplateOutlet",e.moveUpIconTemplate||e._moveUpIconTemplate),S(),T("disabled",e.sourceMoveDisabled())("buttonProps",e.getButtonProps("movetop")),ue("aria-label",e.moveTopAriaLabel)("data-pc-section","sourceMoveTopButton"),S(),T("ngIf",!e.moveTopIconTemplate&&!e._moveTopIconTemplate),S(),T("ngTemplateOutlet",e.moveTopIconTemplate||e._moveTopIconTemplate),S(),T("disabled",e.sourceMoveDisabled())("buttonProps",e.getButtonProps("movedown")),ue("aria-label",e.moveDownAriaLabel)("data-pc-section","sourceMoveDownButton"),S(),T("ngIf",!e.moveDownIconTemplate&&!e._moveDownIconTemplate),S(),T("ngTemplateOutlet",e.moveDownIconTemplate||e._moveDownIconTemplate),S(),T("disabled",e.sourceMoveDisabled())("buttonProps",e.getButtonProps("movebottom")),ue("aria-label",e.moveBottomAriaLabel)("data-pc-section","sourceMoveBottomButton"),S(),T("ngIf",!e.moveBottomIconTemplate||e._moveBottomIconTemplate),S(),T("ngTemplateOutlet",e.moveBottomIconTemplate||e._moveBottomIconTemplate)}}function uN(t,s){if(t&1&&(L(0,"div"),ne(1),D()),t&2){let e=M(3);S(),Dt(e.sourceHeader)}}function dN(t,s){}function pN(t,s){t&1&&B(0,dN,0,0,"ng-template")}function hN(t,s){if(t&1&&B(0,uN,2,1,"div",10)(1,pN,1,0,null,14),t&2){let e=M(2);T("ngIf",!e.sourceHeaderTemplate&&!e._sourceHeaderTemplate),S(),T("ngTemplateOutlet",e.sourceHeaderTemplate||e._sourceHeaderTemplate)}}function mN(t,s){t&1&&(We(0),B(1,hN,2,2,"ng-template",null,2,Be),Qe())}function fN(t,s){}function gN(t,s){t&1&&B(0,fN,0,0,"ng-template")}function _N(t,s){if(t&1&&B(0,gN,1,0,null,12),t&2){let e=M(2);T("ngTemplateOutlet",e.sourceFilterTemplate||e._sourceFilterTemplate)("ngTemplateOutletContext",rt(2,IT,e.sourceFilterOptions))}}function bN(t,s){t&1&&(We(0),B(1,_N,1,4,"ng-template",null,3,Be),Qe())}function yN(t,s){t&1&&nt(0)}function vN(t,s){if(t&1&&(We(0),B(1,yN,1,0,"ng-container",14),Qe()),t&2){let e=M();S(),T("ngTemplateOutlet",e.sourceFilterIconTemplate||e._sourceFilterIconTemplate)}}function xN(t,s){t&1&&nt(0)}function wN(t,s){if(t&1&&B(0,xN,1,0,"ng-container",12),t&2){let e=s.$implicit,i=s.index,n=s.selected,a=s.disabled,p=M(2);T("ngTemplateOutlet",p.itemTemplate||p._itemTemplate)("ngTemplateOutletContext",Mu(2,TT,e,i,n,a))}}function IN(t,s){t&1&&(We(0),B(1,wN,1,7,"ng-template",null,4,Be),Qe())}function TN(t,s){t&1&&nt(0)}function CN(t,s){if(t&1&&B(0,TN,1,0,"ng-container",14),t&2){let e=M(2);T("ngTemplateOutlet",e.emptyMessageSourceTemplate||e._emptyMessageSourceTemplate)}}function SN(t,s){t&1&&(We(0),B(1,CN,1,1,"ng-template",null,5,Be),Qe())}function MN(t,s){t&1&&nt(0)}function kN(t,s){if(t&1&&B(0,MN,1,0,"ng-container",14),t&2){let e=M(2);T("ngTemplateOutlet",e.emptyFilterMessageSourceTemplate||e._emptyFilterMessageSourceTemplate)}}function EN(t,s){t&1&&(We(0),B(1,kN,1,1,"ng-template",null,6,Be),Qe())}function PN(t,s){t&1&&(it(),oe(0,"svg",23)),t&2&&ue("data-pc-section","movetotargeticon")}function DN(t,s){t&1&&(it(),oe(0,"svg",20)),t&2&&ue("data-pc-section","movetotargeticon")}function LN(t,s){if(t&1&&(We(0),B(1,PN,1,1,"svg",22)(2,DN,1,1,"svg",16),Qe()),t&2){let e=M();S(),T("ngIf",!e.viewChanged),S(),T("ngIf",e.viewChanged)}}function AN(t,s){}function FN(t,s){t&1&&B(0,AN,0,0,"ng-template")}function ON(t,s){t&1&&(it(),oe(0,"svg",25)),t&2&&ue("data-pc-section","movealltotargeticon")}function VN(t,s){t&1&&(it(),oe(0,"svg",21)),t&2&&ue("data-pc-section","movealltotargeticon")}function zN(t,s){if(t&1&&(We(0),B(1,ON,1,1,"svg",24)(2,VN,1,1,"svg",17),Qe()),t&2){let e=M();S(),T("ngIf",!e.viewChanged),S(),T("ngIf",e.viewChanged)}}function BN(t,s){}function RN(t,s){t&1&&B(0,BN,0,0,"ng-template")}function NN(t,s){t&1&&(it(),oe(0,"svg",27)),t&2&&ue("data-pc-section","movedownsourceticon")}function qN(t,s){t&1&&(it(),oe(0,"svg",18)),t&2&&ue("data-pc-section","movedownsourceticon")}function jN(t,s){if(t&1&&(We(0),B(1,NN,1,1,"svg",26)(2,qN,1,1,"svg",13),Qe()),t&2){let e=M();S(),T("ngIf",!e.viewChanged),S(),T("ngIf",e.viewChanged)}}function HN(t,s){}function GN(t,s){t&1&&B(0,HN,0,0,"ng-template")}function UN(t,s){t&1&&(it(),oe(0,"svg",29)),t&2&&ue("data-pc-section","movealltosourceticon")}function $N(t,s){t&1&&(it(),oe(0,"svg",19)),t&2&&ue("data-pc-section","movealltosourceticon")}function KN(t,s){if(t&1&&(We(0),B(1,UN,1,1,"svg",28)(2,$N,1,1,"svg",15),Qe()),t&2){let e=M();S(),T("ngIf",!e.viewChanged),S(),T("ngIf",e.viewChanged)}}function WN(t,s){}function QN(t,s){t&1&&B(0,WN,0,0,"ng-template")}function ZN(t,s){if(t&1&&(L(0,"div"),ne(1),D()),t&2){let e=M(3);S(),Dt(e.targetHeader)}}function XN(t,s){}function YN(t,s){t&1&&B(0,XN,0,0,"ng-template")}function JN(t,s){if(t&1&&B(0,ZN,2,1,"div",10)(1,YN,1,0,null,14),t&2){let e=M(2);T("ngIf",!e.targetHeaderTemplate&&!e._targetHeaderTemplate),S(),T("ngTemplateOutlet",e.targetHeaderTemplate||e._targetHeaderTemplate)}}function eq(t,s){t&1&&(We(0),B(1,JN,2,2,"ng-template",null,2,Be),Qe())}function tq(t,s){}function iq(t,s){t&1&&B(0,tq,0,0,"ng-template")}function nq(t,s){if(t&1&&B(0,iq,1,0,null,12),t&2){let e=M(2);T("ngTemplateOutlet",e.targetFilterTemplate||e._targetFilterTemplate)("ngTemplateOutletContext",rt(2,IT,e.targetFilterOptions))}}function aq(t,s){t&1&&(We(0),B(1,nq,1,4,"ng-template",null,3,Be),Qe())}function oq(t,s){t&1&&nt(0)}function rq(t,s){if(t&1&&(We(0),B(1,oq,1,0,"ng-container",14),Qe()),t&2){let e=M();S(),T("ngTemplateOutlet",e.targetFilterIconTemplate||e._targetFilterIconTemplate)}}function sq(t,s){t&1&&nt(0)}function lq(t,s){if(t&1&&B(0,sq,1,0,"ng-container",12),t&2){let e=s.$implicit,i=s.index,n=s.selected,a=s.disabled,p=M(2);T("ngTemplateOutlet",p.itemTemplate||p._itemTemplate)("ngTemplateOutletContext",Mu(2,TT,e,i,n,a))}}function cq(t,s){t&1&&(We(0),B(1,lq,1,7,"ng-template",null,4,Be),Qe())}function uq(t,s){t&1&&nt(0)}function dq(t,s){if(t&1&&B(0,uq,1,0,"ng-container",14),t&2){let e=M(2);T("ngTemplateOutlet",e.emptyMessageTargetTemplate||e._emptyMessageTargetTemplate)}}function pq(t,s){t&1&&(We(0),B(1,dq,1,1,"ng-template",null,5,Be),Qe())}function hq(t,s){t&1&&nt(0)}function mq(t,s){if(t&1&&B(0,hq,1,0,"ng-container",14),t&2){let e=M(2);T("ngTemplateOutlet",e.emptyFilterMessageTargetTemplate||e._emptyFilterMessageTargetTemplate)}}function fq(t,s){t&1&&(We(0),B(1,mq,1,1,"ng-template",null,6,Be),Qe())}function gq(t,s){t&1&&(it(),oe(0,"svg",18)),t&2&&ue("data-pc-section","moveupicon")}function _q(t,s){}function bq(t,s){t&1&&B(0,_q,0,0,"ng-template")}function yq(t,s){t&1&&(it(),oe(0,"svg",19)),t&2&&ue("data-pc-section","movetopicon")}function vq(t,s){}function xq(t,s){t&1&&B(0,vq,0,0,"ng-template")}function wq(t,s){t&1&&(it(),oe(0,"svg",20)),t&2&&ue("data-pc-section","movedownicon")}function Iq(t,s){}function Tq(t,s){t&1&&B(0,Iq,0,0,"ng-template")}function Cq(t,s){t&1&&(it(),oe(0,"svg",21)),t&2&&ue("data-pc-section","movebottomicon")}function Sq(t,s){}function Mq(t,s){t&1&&B(0,Sq,0,0,"ng-template")}function kq(t,s){if(t&1){let e=Re();L(0,"div")(1,"button",30),Ie("click",function(){Z(e);let n=M(),a=Ut(26);return X(n.moveUp(a,n.target,n.selectedItemsTarget,n.onTargetReorder,n.TARGET_LIST))}),B(2,gq,1,1,"svg",13)(3,bq,1,0,null,14),D(),L(4,"button",11),Ie("click",function(){Z(e);let n=M(),a=Ut(26);return X(n.moveTop(a,n.target,n.selectedItemsTarget,n.onTargetReorder,n.TARGET_LIST))}),B(5,yq,1,1,"svg",15)(6,xq,1,0,null,14),D(),L(7,"button",11),Ie("click",function(){Z(e);let n=M(),a=Ut(26);return X(n.moveDown(a,n.target,n.selectedItemsTarget,n.onTargetReorder,n.TARGET_LIST))}),B(8,wq,1,1,"svg",16)(9,Tq,1,0,null,14),D(),L(10,"button",11),Ie("click",function(){Z(e);let n=M(),a=Ut(26);return X(n.moveBottom(a,n.target,n.selectedItemsTarget,n.onTargetReorder,n.TARGET_LIST))}),B(11,Cq,1,1,"svg",17)(12,Mq,1,0,null,14),D()()}if(t&2){let e=M();K(e.cx("targetControls")),ue("data-pc-section","targetControls")("data-pc-group-section","controls"),S(),T("disabled",e.targetMoveDisabled())("buttonProps",e.getButtonProps("moveup")),ue("aria-label",e.moveUpAriaLabel)("data-pc-section","targetMoveUpButton"),S(),T("ngIf",!e.moveUpIconTemplate&&!e._moveUpIconTemplate),S(),T("ngTemplateOutlet",e.moveUpIconTemplate||e._moveUpIconTemplate),S(),T("disabled",e.targetMoveDisabled())("buttonProps",e.getButtonProps("movetop")),ue("aria-label",e.moveTopAriaLabel)("data-pc-section","targetMoveTopButton"),S(),T("ngIf",!e.moveTopIconTemplate&&!e._moveTopIconTemplate),S(),T("ngTemplateOutlet",e.moveTopIconTemplate||e.moveTopIconTemplate),S(),T("disabled",e.targetMoveDisabled())("buttonProps",e.getButtonProps("movedown")),ue("aria-label",e.moveDownAriaLabel)("data-pc-section","targetMoveDownButton"),S(),T("ngIf",!e.moveDownIconTemplate&&!e._moveDownIconTemplate),S(),T("ngTemplateOutlet",e.moveDownIconTemplate||e._moveDownIconTemplate),S(),T("disabled",e.targetMoveDisabled())("buttonProps",e.getButtonProps("movebottom")),ue("aria-label",e.moveBottomAriaLabel)("data-pc-section","targetMoveBottomButton"),S(),T("ngIf",!e.moveBottomIconTemplate&&!e._moveBottomIconTemplate),S(),T("ngTemplateOutlet",e.moveBottomIconTemplate||e._moveBottomIconTemplate)}}var Eq={root:()=>["p-picklist p-component"],sourceControls:"p-picklist-controls p-picklist-source-controls",sourceListContainer:"p-picklist-list-container p-picklist-source-list-container",transferControls:"p-picklist-controls p-picklist-transfer-controls",targetListContainer:"p-picklist-list-container p-picklist-target-list-container",targetControls:"p-picklist-controls p-picklist-target-controls"},wT=(()=>{class t extends Vt{name="picklist";theme=yT;classes=Eq;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var vy=(()=>{class t extends Ot{source;target;sourceHeader;tabindex=0;rightButtonAriaLabel;leftButtonAriaLabel;allRightButtonAriaLabel;allLeftButtonAriaLabel;upButtonAriaLabel;downButtonAriaLabel;topButtonAriaLabel;bottomButtonAriaLabel;targetHeader;responsive;filterBy;filterLocale;trackBy=(e,i)=>i;sourceTrackBy;targetTrackBy;showSourceFilter=!0;showTargetFilter=!0;metaKeySelection=!1;dragdrop=!1;style;styleClass;sourceStyle;targetStyle;showSourceControls=!0;showTargetControls=!0;sourceFilterPlaceholder;targetFilterPlaceholder;disabled;sourceOptionDisabled;targetOptionDisabled;ariaSourceFilterLabel;ariaTargetFilterLabel;filterMatchMode="contains";stripedRows;keepSelection=!1;scrollHeight="14rem";autoOptionFocus=!0;buttonProps={severity:"secondary"};moveUpButtonProps;moveTopButtonProps;moveDownButtonProps;moveBottomButtonProps;moveToTargetProps;moveAllToTargetProps;moveToSourceProps;moveAllToSourceProps;get breakpoint(){return this._breakpoint}set breakpoint(e){e!==this._breakpoint&&(this._breakpoint=e,ci(this.platformId)&&(this.destroyMedia(),this.initMedia()))}onMoveToSource=new Fe;onMoveAllToSource=new Fe;onMoveAllToTarget=new Fe;onMoveToTarget=new Fe;onSourceReorder=new Fe;onTargetReorder=new Fe;onSourceSelect=new Fe;onTargetSelect=new Fe;onSourceFilter=new Fe;onTargetFilter=new Fe;onFocus=new Fe;onBlur=new Fe;listViewSourceChild;listViewTargetChild;sourceFilterViewChild;targetFilterViewChild;getButtonProps(e){switch(e){case"moveup":return ai(ai({},this.buttonProps),this.moveUpButtonProps);case"movetop":return ai(ai({},this.buttonProps),this.moveTopButtonProps);case"movedown":return ai(ai({},this.buttonProps),this.moveDownButtonProps);case"movebottom":return ai(ai({},this.buttonProps),this.moveBottomButtonProps);case"movetotarget":return ai(ai({},this.buttonProps),this.moveToTargetProps);case"movealltotarget":return ai(ai({},this.buttonProps),this.moveAllToTargetProps);case"movetosource":return ai(ai({},this.buttonProps),this.moveToSourceProps);case"movealltosource":return ai(ai({},this.buttonProps),this.moveAllToSourceProps);default:return this.buttonProps}}get moveUpAriaLabel(){return this.upButtonAriaLabel?this.upButtonAriaLabel:this.config.translation.aria?this.config.translation.aria.moveUp:void 0}get moveTopAriaLabel(){return this.topButtonAriaLabel?this.topButtonAriaLabel:this.config.translation.aria?this.config.translation.aria.moveTop:void 0}get moveDownAriaLabel(){return this.downButtonAriaLabel?this.downButtonAriaLabel:this.config.translation.aria?this.config.translation.aria.moveDown:void 0}get moveBottomAriaLabel(){return this.bottomButtonAriaLabel?this.bottomButtonAriaLabel:this.config.translation.aria?this.config.translation.aria.moveDown:void 0}get moveToTargetAriaLabel(){return this.rightButtonAriaLabel?this.rightButtonAriaLabel:this.config.translation.aria?this.config.translation.aria.moveToTarget:void 0}get moveAllToTargetAriaLabel(){return this.allRightButtonAriaLabel?this.allRightButtonAriaLabel:this.config.translation.aria?this.config.translation.aria.moveAllToTarget:void 0}get moveToSourceAriaLabel(){return this.leftButtonAriaLabel?this.leftButtonAriaLabel:this.config.translation.aria?this.config.translation.aria.moveToSource:void 0}get moveAllToSourceAriaLabel(){return this.allLeftButtonAriaLabel?this.allLeftButtonAriaLabel:this.config.translation.aria?this.config.translation.aria.moveAllToSource:void 0}get idSource(){return this.id+"_source"}get idTarget(){return this.id+"_target"}_breakpoint="960px";visibleOptionsSource;visibleOptionsTarget;selectedItemsSource=[];selectedItemsTarget=[];reorderedListElement;movedUp;movedDown;itemTouched;styleElement;id=xi("pn_id_");filterValueSource;filterValueTarget;fromListType;sourceFilterOptions;targetFilterOptions;SOURCE_LIST=-1;TARGET_LIST=1;window;media;viewChanged;_componentStyle=lt(wT);mediaChangeListener;filterService=lt(zr);ngOnInit(){super.ngOnInit(),this.responsive&&(this.createStyle(),this.initMedia()),this.filterBy&&(this.sourceFilterOptions={filter:e=>this.filterSource(e),reset:()=>this.resetSourceFilter()},this.targetFilterOptions={filter:e=>this.filterTarget(e),reset:()=>this.resetTargetFilter()})}itemTemplate;sourceHeaderTemplate;targetHeaderTemplate;sourceFilterTemplate;targetFilterTemplate;emptyMessageSourceTemplate;emptyFilterMessageSourceTemplate;emptyMessageTargetTemplate;emptyFilterMessageTargetTemplate;moveUpIconTemplate;moveTopIconTemplate;moveDownIconTemplate;moveBottomIconTemplate;moveToTargetIconTemplate;moveAllToTargetIconTemplate;moveToSourceIconTemplate;moveAllToSourceIconTemplate;targetFilterIconTemplate;sourceFilterIconTemplate;templates;_itemTemplate;_sourceHeaderTemplate;_targetHeaderTemplate;_sourceFilterTemplate;_targetFilterTemplate;_emptyMessageSourceTemplate;_emptyFilterMessageSourceTemplate;_emptyMessageTargetTemplate;_emptyFilterMessageTargetTemplate;_moveUpIconTemplate;_moveTopIconTemplate;_moveDownIconTemplate;_moveBottomIconTemplate;_moveToTargetIconTemplate;_moveAllToTargetIconTemplate;_moveToSourceIconTemplate;_moveAllToSourceIconTemplate;_targetFilterIconTemplate;_sourceFilterIconTemplate;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break;case"option":this._itemTemplate=e.template;break;case"sourceHeader":this._sourceHeaderTemplate=e.template;break;case"targetHeader":this._targetHeaderTemplate=e.template;break;case"sourceFilter":this._sourceFilterTemplate=e.template;break;case"targetFilter":this._targetFilterTemplate=e.template;break;case"emptymessagesource":this._emptyMessageSourceTemplate=e.template;break;case"emptyfiltermessagesource":this._emptyFilterMessageSourceTemplate=e.template;break;case"emptymessagetarget":this._emptyMessageTargetTemplate=e.template;break;case"emptyfiltermessagetarget":this._emptyFilterMessageTargetTemplate=e.template;break;case"moveupicon":this._moveUpIconTemplate=e.template;break;case"movetopicon":this._moveTopIconTemplate=e.template;break;case"movedownicon":this._moveDownIconTemplate=e.template;break;case"movebottomicon":this._moveBottomIconTemplate=e.template;break;case"movetotargeticon":this._moveToTargetIconTemplate=e.template;break;case"movealltotargeticon":this._moveAllToTargetIconTemplate=e.template;break;case"movetosourceicon":this._moveToSourceIconTemplate=e.template;break;case"movealltosourceicon":this._moveAllToSourceIconTemplate=e.template;break;case"targetfiltericon":this._targetFilterIconTemplate=e.template;break;case"sourcefiltericon":this._sourceFilterIconTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}onChangeSelection(e,i){this.setSelectionList(i,e.value),(i===this.SOURCE_LIST?this.onSourceSelect:this.onTargetSelect).emit({originalEvent:e.originalEvent,items:e.value})}onSourceItemDblClick(){this.disabled||(this.moveRight(),this.triggerChangeDetection())}onTargetItemDblClick(){this.disabled||(this.moveLeft(),this.triggerChangeDetection())}onFilter(e,i){let n=e.target.value;i===this.SOURCE_LIST?this.filterSource(n):i===this.TARGET_LIST&&this.filterTarget(n)}filterSource(e=""){this.filterValueSource=e.trim().toLocaleLowerCase(this.filterLocale),this.filter(this.source,this.SOURCE_LIST),this.onSourceFilter.emit({query:this.filterValueSource,value:this.visibleOptionsSource})}filterTarget(e=""){this.filterValueTarget=e.trim().toLocaleLowerCase(this.filterLocale),this.filter(this.target,this.TARGET_LIST),this.onTargetFilter.emit({query:this.filterValueTarget,value:this.visibleOptionsTarget})}filter(e,i){let n=this.filterBy.split(",");i===this.SOURCE_LIST?(this.visibleOptionsSource=this.filterService.filter(e,n,this.filterValueSource,this.filterMatchMode,this.filterLocale),this.onSourceFilter.emit({query:this.filterValueSource,value:this.visibleOptionsSource})):i===this.TARGET_LIST&&(this.visibleOptionsTarget=this.filterService.filter(e,n,this.filterValueTarget,this.filterMatchMode,this.filterLocale),this.onTargetFilter.emit({query:this.filterValueTarget,value:this.visibleOptionsTarget}))}isItemVisible(e,i){return i==this.SOURCE_LIST?this.isVisibleInList(this.visibleOptionsSource,e,this.filterValueSource):this.isVisibleInList(this.visibleOptionsTarget,e,this.filterValueTarget)}isEmpty(e){return e==this.SOURCE_LIST?this.filterValueSource?!this.visibleOptionsSource||this.visibleOptionsSource.length===0:!this.source||this.source.length===0:this.filterValueTarget?!this.visibleOptionsTarget||this.visibleOptionsTarget.length===0:!this.target||this.target.length===0}isVisibleInList(e,i,n){if(n&&n.trim().length){for(let a=0;a<e.length;a++)if(i==e[a])return!0}else return!0}onItemTouchEnd(){this.disabled||(this.itemTouched=!0)}sortByIndexInList(e,i){return e.sort((n,a)=>vn(n,i)-vn(a,i))}triggerChangeDetection(){this.source=[...this.source],this.target=[...this.target]}moveUp(e,i,n,a,p){if(n&&n.length){n=this.sortByIndexInList(n,i);for(let y=0;y<n.length;y++){let C=n[y],A=vn(C,i);if(A!=0){let R=i[A],$=i[A-1];i[A-1]=R,i[A]=$}else break}this.dragdrop&&(this.filterValueSource&&p===this.SOURCE_LIST||this.filterValueTarget&&p===this.TARGET_LIST)&&this.filter(i,p),this.movedUp=!0,this.reorderedListElement=e,a.emit({items:n}),this.triggerChangeDetection()}}moveTop(e,i,n,a,p){if(n&&n.length){n=this.sortByIndexInList(n,i);for(let y=0;y<n.length;y++){let C=n[y],A=vn(C,i);if(A!=0){let R=i.splice(A,1)[0];i.unshift(R)}else break}this.dragdrop&&(this.filterValueSource&&p===this.SOURCE_LIST||this.filterValueTarget&&p===this.TARGET_LIST)&&this.filter(i,p),e.scrollTop=0,a.emit({items:n}),this.triggerChangeDetection()}}moveDown(e,i,n,a,p){if(n&&n.length){n=this.sortByIndexInList(n,i);for(let y=n.length-1;y>=0;y--){let C=n[y],A=vn(C,i);if(A!=i.length-1){let R=i[A],$=i[A+1];i[A+1]=R,i[A]=$}else break}this.dragdrop&&(this.filterValueSource&&p===this.SOURCE_LIST||this.filterValueTarget&&p===this.TARGET_LIST)&&this.filter(i,p),this.movedDown=!0,this.reorderedListElement=e,a.emit({items:n}),this.triggerChangeDetection()}}moveBottom(e,i,n,a,p){if(n&&n.length){n=this.sortByIndexInList(n,i);for(let y=n.length-1;y>=0;y--){let C=n[y],A=vn(C,i);if(A!=i.length-1){let R=i.splice(A,1)[0];i.push(R)}else break}this.dragdrop&&(this.filterValueSource&&p===this.SOURCE_LIST||this.filterValueTarget&&p===this.TARGET_LIST)&&this.filter(i,p),e.scrollTop=e.scrollHeight,a.emit({items:n}),this.triggerChangeDetection()}}moveRight(){if(this.selectedItemsSource&&this.selectedItemsSource.length){let e=[...this.selectedItemsSource];for(let i=0;i<e.length;i++){let n=e[i];vn(n,this.target)==-1&&(this.target?.push(this.source?.splice(vn(n,this.source),1)[0]),this.visibleOptionsSource?.includes(n)&&this.visibleOptionsSource.splice(vn(n,this.visibleOptionsSource),1))}this.onMoveToTarget.emit({items:e}),this.keepSelection&&(this.selectedItemsTarget=[...this.selectedItemsTarget,...e]),e=[],this.selectedItemsSource=[],this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST),this.triggerChangeDetection()}}moveAllRight(){if(this.source){let e=[];for(let i=0;i<this.source.length;i++)if(this.isItemVisible(this.source[i],this.SOURCE_LIST)){let n=this.source.splice(i,1)[0];this.target?.push(n),e.push(n),i--}this.onMoveAllToTarget.emit({items:e}),this.keepSelection&&(this.selectedItemsTarget=[...this.selectedItemsTarget,...this.selectedItemsSource]),this.selectedItemsSource=[],this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST),this.visibleOptionsSource=[],this.triggerChangeDetection()}}moveLeft(){if(this.selectedItemsTarget&&this.selectedItemsTarget.length){let e=[...this.selectedItemsTarget];for(let i=0;i<e.length;i++){let n=e[i];vn(n,this.source)==-1&&(this.source?.push(this.target?.splice(vn(n,this.target),1)[0]),this.visibleOptionsTarget?.includes(n)&&this.visibleOptionsTarget.splice(vn(n,this.visibleOptionsTarget),1)[0])}this.onMoveToSource.emit({items:e}),this.keepSelection&&(this.selectedItemsSource=[...this.selectedItemsSource,e]),e=[],this.selectedItemsTarget=[],this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST),this.triggerChangeDetection()}}moveAllLeft(){if(this.target){let e=[];for(let i=0;i<this.target.length;i++)if(this.isItemVisible(this.target[i],this.TARGET_LIST)){let n=this.target.splice(i,1)[0];this.source?.push(n),e.push(n),i--}this.onMoveAllToSource.emit({items:e}),this.keepSelection&&(this.selectedItemsSource=[...this.selectedItemsSource,...this.selectedItemsTarget]),this.selectedItemsTarget=[],this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST),this.visibleOptionsTarget=[],this.triggerChangeDetection()}}isSelected(e,i){return this.findIndexInList(e,i)!=-1}findIndexInList(e,i){return vn(e,i)}onDrop(e,i){let n=e.previousContainer!==e.container,a=this.getDropIndexes(e.previousIndex,e.currentIndex,i,n,e.item.data);if(i===this.SOURCE_LIST){if(n){$1(e.previousContainer.data,e.container.data,a.previousIndex,a.currentIndex);let p=vn(e.item.data,this.selectedItemsTarget);p!=-1&&(this.selectedItemsTarget.splice(p,1),this.keepSelection&&this.selectedItemsTarget.push(e.item.data)),this.visibleOptionsTarget&&this.visibleOptionsTarget.splice(e.previousIndex,1),this.onMoveToSource.emit({items:[e.item.data]})}else dp(e.container.data,a.previousIndex,a.currentIndex),this.onSourceReorder.emit({items:[e.item.data]});this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST)}else{if(n){$1(e.previousContainer.data,e.container.data,a.previousIndex,a.currentIndex);let p=vn(e.item.data,this.selectedItemsSource);p!=-1&&(this.selectedItemsSource.splice(p,1),this.keepSelection&&this.selectedItemsTarget.push(e.item.data)),this.visibleOptionsSource&&this.visibleOptionsSource.splice(e.previousIndex,1),this.onMoveToTarget.emit({items:[e.item.data]})}else dp(e.container.data,a.previousIndex,a.currentIndex),this.onTargetReorder.emit({items:[e.item.data]});this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST)}}onListFocus(e,i){this.onFocus.emit(e)}onListBlur(e,i){this.onBlur.emit(e)}getListElement(e){return e===this.SOURCE_LIST?this.listViewSourceChild?.el.nativeElement:this.listViewTargetChild?.el.nativeElement}getListItems(e){let i=this.getListElement(e);return da(i,"li.p-picklist-item")}getLatestSelectedVisibleOptionIndex(e,i){let n=[...i].reverse().find(a=>e.includes(a));return n!==void 0?e.indexOf(n):-1}getVisibleList(e){return e===this.SOURCE_LIST?this.visibleOptionsSource&&this.visibleOptionsSource.length>0?this.visibleOptionsSource:this.source&&this.source.length>0?this.source:null:this.visibleOptionsTarget&&this.visibleOptionsTarget.length>0?this.visibleOptionsTarget:this.target&&this.target.length>0?this.target:null}setSelectionList(e,i){e===this.SOURCE_LIST?this.selectedItemsSource=i:this.selectedItemsTarget=i}getDropIndexes(e,i,n,a,p){let y,C;return n===this.SOURCE_LIST?(y=a?this.filterValueTarget?vn(p,this.target):e:this.filterValueSource?vn(p,this.source):e,C=this.filterValueSource?this.findFilteredCurrentIndex(this.visibleOptionsSource,i,this.source):i):(y=a?this.filterValueSource?vn(p,this.source):e:this.filterValueTarget?vn(p,this.target):e,C=this.filterValueTarget?this.findFilteredCurrentIndex(this.visibleOptionsTarget,i,this.target):i),{previousIndex:y,currentIndex:C}}findFilteredCurrentIndex(e,i,n){return e.length===i?vn(e[i-1],n)+1:vn(e[i],n)}resetSourceFilter(){this.visibleOptionsSource=null,this.filterValueSource=null,this.sourceFilterViewChild&&(this.sourceFilterViewChild.nativeElement.value="")}resetTargetFilter(){this.visibleOptionsTarget=null,this.filterValueTarget=null,this.targetFilterViewChild&&(this.targetFilterViewChild.nativeElement.value="")}resetFilter(){this.resetSourceFilter(),this.resetTargetFilter()}initMedia(){ci(this.platformId)&&(this.media=this.document.defaultView.matchMedia(`(max-width: ${this.breakpoint})`),this.viewChanged=this.media.matches,this.bindMediaChangeListener())}destroyMedia(){this.unbindMediaChangeListener()}bindMediaChangeListener(){this.media&&!this.mediaChangeListener&&(this.mediaChangeListener=this.renderer.listen(this.media,"change",e=>{this.viewChanged=e.matches,this.cd.markForCheck()}))}unbindMediaChangeListener(){this.mediaChangeListener&&(this.mediaChangeListener(),this.mediaChangeListener=null)}createStyle(){if(ci(this.platformId)&&!this.styleElement){this.renderer.setAttribute(this.el.nativeElement.children[0],this.id,""),this.styleElement=this.renderer.createElement("style"),this.renderer.setAttribute(this.styleElement,"type","text/css"),this.renderer.appendChild(this.document.head,this.styleElement);let e=`
                @media screen and (max-width: ${this.breakpoint}) {
                    .p-picklist[${this.id}] {
                        flex-direction: column;
                    }

                    .p-picklist[${this.id}] .p-picklist-controls {
                        flex-direction: row;
                    }
                }`;this.renderer.setProperty(this.styleElement,"innerHTML",e),Yr(this.styleElement,"nonce",this.config?.csp()?.nonce)}}sourceMoveDisabled(){if(this.disabled||!this.selectedItemsSource.length)return!0}targetMoveDisabled(){if(this.disabled||!this.selectedItemsTarget.length)return!0}moveRightDisabled(){return this.disabled||dn(this.selectedItemsSource)}moveLeftDisabled(){return this.disabled||dn(this.selectedItemsTarget)}moveAllRightDisabled(){return this.disabled||dn(this.source)}moveAllLeftDisabled(){return this.disabled||dn(this.target)}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.destroyStyle(),this.destroyMedia(),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-pickList"],["p-picklist"],["p-pick-list"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,LR,4),ve(a,AR,4),ve(a,FR,4),ve(a,vT,4),ve(a,xT,4),ve(a,OR,4),ve(a,VR,4),ve(a,zR,4),ve(a,BR,4),ve(a,RR,4),ve(a,NR,4),ve(a,qR,4),ve(a,jR,4),ve(a,HR,4),ve(a,GR,4),ve(a,UR,4),ve(a,$R,4),ve(a,KR,4),ve(a,WR,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.itemTemplate=p.first),le(p=ce())&&(n.sourceHeaderTemplate=p.first),le(p=ce())&&(n.targetHeaderTemplate=p.first),le(p=ce())&&(n.sourceFilterTemplate=p.first),le(p=ce())&&(n.targetFilterTemplate=p.first),le(p=ce())&&(n.emptyMessageSourceTemplate=p.first),le(p=ce())&&(n.emptyFilterMessageSourceTemplate=p.first),le(p=ce())&&(n.emptyMessageTargetTemplate=p.first),le(p=ce())&&(n.emptyFilterMessageTargetTemplate=p.first),le(p=ce())&&(n.moveUpIconTemplate=p.first),le(p=ce())&&(n.moveTopIconTemplate=p.first),le(p=ce())&&(n.moveDownIconTemplate=p.first),le(p=ce())&&(n.moveBottomIconTemplate=p.first),le(p=ce())&&(n.moveToTargetIconTemplate=p.first),le(p=ce())&&(n.moveAllToTargetIconTemplate=p.first),le(p=ce())&&(n.moveToSourceIconTemplate=p.first),le(p=ce())&&(n.moveAllToSourceIconTemplate=p.first),le(p=ce())&&(n.targetFilterIconTemplate=p.first),le(p=ce())&&(n.sourceFilterIconTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&(dt(QR,5),dt(ZR,5),dt(vT,5),dt(xT,5)),i&2){let a;le(a=ce())&&(n.listViewSourceChild=a.first),le(a=ce())&&(n.listViewTargetChild=a.first),le(a=ce())&&(n.sourceFilterViewChild=a.first),le(a=ce())&&(n.targetFilterViewChild=a.first)}},inputs:{source:"source",target:"target",sourceHeader:"sourceHeader",tabindex:[2,"tabindex","tabindex",Tt],rightButtonAriaLabel:"rightButtonAriaLabel",leftButtonAriaLabel:"leftButtonAriaLabel",allRightButtonAriaLabel:"allRightButtonAriaLabel",allLeftButtonAriaLabel:"allLeftButtonAriaLabel",upButtonAriaLabel:"upButtonAriaLabel",downButtonAriaLabel:"downButtonAriaLabel",topButtonAriaLabel:"topButtonAriaLabel",bottomButtonAriaLabel:"bottomButtonAriaLabel",targetHeader:"targetHeader",responsive:[2,"responsive","responsive",we],filterBy:"filterBy",filterLocale:"filterLocale",trackBy:"trackBy",sourceTrackBy:"sourceTrackBy",targetTrackBy:"targetTrackBy",showSourceFilter:[2,"showSourceFilter","showSourceFilter",we],showTargetFilter:[2,"showTargetFilter","showTargetFilter",we],metaKeySelection:[2,"metaKeySelection","metaKeySelection",we],dragdrop:[2,"dragdrop","dragdrop",we],style:"style",styleClass:"styleClass",sourceStyle:"sourceStyle",targetStyle:"targetStyle",showSourceControls:[2,"showSourceControls","showSourceControls",we],showTargetControls:[2,"showTargetControls","showTargetControls",we],sourceFilterPlaceholder:"sourceFilterPlaceholder",targetFilterPlaceholder:"targetFilterPlaceholder",disabled:[2,"disabled","disabled",we],sourceOptionDisabled:"sourceOptionDisabled",targetOptionDisabled:"targetOptionDisabled",ariaSourceFilterLabel:"ariaSourceFilterLabel",ariaTargetFilterLabel:"ariaTargetFilterLabel",filterMatchMode:"filterMatchMode",stripedRows:[2,"stripedRows","stripedRows",we],keepSelection:[2,"keepSelection","keepSelection",we],scrollHeight:"scrollHeight",autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",we],buttonProps:"buttonProps",moveUpButtonProps:"moveUpButtonProps",moveTopButtonProps:"moveTopButtonProps",moveDownButtonProps:"moveDownButtonProps",moveBottomButtonProps:"moveBottomButtonProps",moveToTargetProps:"moveToTargetProps",moveAllToTargetProps:"moveAllToTargetProps",moveToSourceProps:"moveToSourceProps",moveAllToSourceProps:"moveAllToSourceProps",breakpoint:"breakpoint"},outputs:{onMoveToSource:"onMoveToSource",onMoveAllToSource:"onMoveAllToSource",onMoveAllToTarget:"onMoveAllToTarget",onMoveToTarget:"onMoveToTarget",onSourceReorder:"onSourceReorder",onTargetReorder:"onTargetReorder",onSourceSelect:"onSourceSelect",onTargetSelect:"onTargetSelect",onSourceFilter:"onSourceFilter",onTargetFilter:"onTargetFilter",onFocus:"onFocus",onBlur:"onBlur"},features:[bt([wT]),gt],decls:34,vars:103,consts:[["sourcelist",""],["targetlist",""],["header",""],["filter",""],["item",""],["empty",""],["emptyfilter",""],["cdkDropListGroup","",3,"ngStyle"],[3,"class",4,"ngIf"],["optionLabel","name",3,"ngModelChange","onFocus","onBlur","onChange","onDblClick","onDrop","onFilter","multiple","options","ngModel","id","listStyle","striped","tabindex","disabled","optionDisabled","metaKeySelection","scrollHeight","autoOptionFocus","filter","filterBy","filterLocale","filterMatchMode","filterPlaceHolder","dragdrop"],[4,"ngIf"],["type","button","pButton","","pRipple","","severity","secondary",3,"click","disabled","buttonProps"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","angle-up","pButtonIcon","",4,"ngIf"],[4,"ngTemplateOutlet"],["data-p-icon","angle-double-up","pButtonIcon","",4,"ngIf"],["data-p-icon","angle-down","pButtonIcon","",4,"ngIf"],["data-p-icon","angle-double-down","pButtonIcon","",4,"ngIf"],["data-p-icon","angle-up","pButtonIcon",""],["data-p-icon","angle-double-up","pButtonIcon",""],["data-p-icon","angle-down","pButtonIcon",""],["data-p-icon","angle-double-down","pButtonIcon",""],["data-p-icon","angle-right","pButtonIcon","",4,"ngIf"],["data-p-icon","angle-right","pButtonIcon",""],["data-p-icon","angle-double-right","pButtonIcon","",4,"ngIf"],["data-p-icon","angle-double-right","pButtonIcon",""],["data-p-icon","angle-left","pButtonIcon","",4,"ngIf"],["data-p-icon","angle-left","pButtonIcon",""],["data-p-icon","angle-double-left","pButtonIcon","",4,"ngIf"],["data-p-icon","angle-double-left","pButtonIcon",""],["type","button","pButton","","pRipple","","severity","secondary",1,"p-button-icon-only",3,"click","disabled","buttonProps"]],template:function(i,n){if(i&1){let a=Re();L(0,"div",7),B(1,cN,13,28,"div",8),L(2,"div")(3,"p-listbox",9,0),si("ngModelChange",function(y){return Z(a),ri(n.selectedItemsSource,y)||(n.selectedItemsSource=y),X(y)}),Ie("onFocus",function(y){return Z(a),X(n.onListFocus(y,n.SOURCE_LIST))})("onBlur",function(y){return Z(a),X(n.onListBlur(y,n.SOURCE_LIST))})("onChange",function(y){return Z(a),X(n.onChangeSelection(y,n.SOURCE_LIST))})("onDblClick",function(){return Z(a),X(n.onSourceItemDblClick())})("onDrop",function(y){return Z(a),X(n.onDrop(y,n.SOURCE_LIST))})("onFilter",function(y){return Z(a),X(n.onFilter(y.originalEvent,n.SOURCE_LIST))}),B(5,mN,3,0,"ng-container",10)(6,bN,3,0,"ng-container",10)(7,vN,2,1,"ng-container",10)(8,IN,3,0,"ng-container",10)(9,SN,3,0,"ng-container",10)(10,EN,3,0,"ng-container",10),D()(),L(11,"div")(12,"button",11),Ie("click",function(){return Z(a),X(n.moveRight())}),B(13,LN,3,2,"ng-container",10)(14,FN,1,0,null,12),D(),L(15,"button",11),Ie("click",function(){return Z(a),X(n.moveAllRight())}),B(16,zN,3,2,"ng-container",10)(17,RN,1,0,null,12),D(),L(18,"button",11),Ie("click",function(){return Z(a),X(n.moveLeft())}),B(19,jN,3,2,"ng-container",10)(20,GN,1,0,null,12),D(),L(21,"button",11),Ie("click",function(){return Z(a),X(n.moveAllLeft())}),B(22,KN,3,2,"ng-container",10)(23,QN,1,0,null,12),D()(),L(24,"div")(25,"p-listbox",9,1),si("ngModelChange",function(y){return Z(a),ri(n.selectedItemsTarget,y)||(n.selectedItemsTarget=y),X(y)}),Ie("onFocus",function(y){return Z(a),X(n.onListFocus(y,n.TARGET_LIST))})("onBlur",function(y){return Z(a),X(n.onListBlur(y,n.TARGET_LIST))})("onChange",function(y){return Z(a),X(n.onChangeSelection(y,n.TARGET_LIST))})("onDblClick",function(){return Z(a),X(n.onTargetItemDblClick())})("onDrop",function(y){return Z(a),X(n.onDrop(y,n.TARGET_LIST))})("onFilter",function(y){return Z(a),X(n.onFilter(y.originalEvent,n.TARGET_LIST))}),B(27,eq,3,0,"ng-container",10)(28,aq,3,0,"ng-container",10)(29,rq,2,1,"ng-container",10)(30,cq,3,0,"ng-container",10)(31,pq,3,0,"ng-container",10)(32,fq,3,0,"ng-container",10),D()(),B(33,kq,13,28,"div",8),D()}i&2&&(K(n.cn(n.cx("root"),n.styleClass)),T("ngStyle",n.style),ue("data-pc-name","picklist")("data-pc-section","root"),S(),T("ngIf",n.showSourceControls),S(),K(n.cx("sourceListContainer")),ue("data-pc-section","sourceWrapper")("data-pc-group-section","listWrapper"),S(),T("multiple",!0)("options",n.source),oi("ngModel",n.selectedItemsSource),T("id",n.idSource+"_list")("listStyle",n.sourceStyle)("striped",n.stripedRows)("tabindex",n.tabindex)("disabled",n.disabled)("optionDisabled",n.sourceOptionDisabled)("metaKeySelection",n.metaKeySelection)("scrollHeight",n.scrollHeight)("autoOptionFocus",n.autoOptionFocus)("filter",n.filterBy)("filterBy",n.filterBy)("filterLocale",n.filterLocale)("filterMatchMode",n.filterMatchMode)("filterPlaceHolder",n.sourceFilterPlaceholder)("dragdrop",n.dragdrop),S(2),T("ngIf",n.sourceHeaderTemplate||n._sourceHeaderTemplate||n.sourceHeader),S(),T("ngIf",n.sourceFilterTemplate||n._sourceFilterTemplate),S(),T("ngIf",n.sourceFilterIconTemplate||n._sourceFilterIconTemplate),S(),T("ngIf",n.itemTemplate||n._itemTemplate),S(),T("ngIf",n.emptyMessageSourceTemplate||n._emptyMessageSourceTemplate),S(),T("ngIf",n.emptyFilterMessageSourceTemplate||n._emptyFilterMessageSourceTemplate),S(),K(n.cx("targetControls")),ue("data-pc-section","buttons")("data-pc-group-section","controls"),S(),T("disabled",n.moveRightDisabled())("buttonProps",n.getButtonProps("movetotarget")),ue("aria-label",n.moveToTargetAriaLabel)("data-pc-section","moveToTargetButton"),S(),T("ngIf",!n.moveToTargetIconTemplate&&!n._moveToTargetIconTemplate),S(),T("ngTemplateOutlet",n.moveToTargetIconTemplate||n._moveToTargetIconTemplate)("ngTemplateOutletContext",rt(95,Ug,n.viewChanged)),S(),T("disabled",n.moveAllRightDisabled())("buttonProps",n.getButtonProps("movealltotarget")),ue("aria-label",n.moveAllToTargetAriaLabel)("data-pc-section","moveAllToTargetButton"),S(),T("ngIf",!n.moveAllToTargetIconTemplate&&!n._moveAllToTargetIconTemplate),S(),T("ngTemplateOutlet",n.moveAllToTargetIconTemplate||n._moveAllToTargetIconTemplate)("ngTemplateOutletContext",rt(97,Ug,n.viewChanged)),S(),T("disabled",n.moveLeftDisabled())("buttonProps",n.getButtonProps("movetosource")),ue("aria-label",n.moveToSourceAriaLabel)("data-pc-section","moveToSourceButton"),S(),T("ngIf",!n.moveToSourceIconTemplate&&!n._moveToSourceIconTemplate),S(),T("ngTemplateOutlet",n.moveToSourceIconTemplate||n._moveToSourceIconTemplate)("ngTemplateOutletContext",rt(99,Ug,n.viewChanged)),S(),T("disabled",n.moveAllLeftDisabled())("buttonProps",n.getButtonProps("movealltosource")),ue("aria-label",n.moveAllToSourceAriaLabel)("data-pc-section","moveAllToSourceButton"),S(),T("ngIf",!n.moveAllToSourceIconTemplate&&!n._moveAllToSourceIconTemplate),S(),T("ngTemplateOutlet",n.moveAllToSourceIconTemplate||n._moveAllToSourceIconTemplate)("ngTemplateOutletContext",rt(101,Ug,n.viewChanged)),S(),K(n.cx("targetListContainer")),ue("data-pc-section","targetWrapper")("data-pc-group-section","listwrapper"),S(),T("multiple",!0)("options",n.target),oi("ngModel",n.selectedItemsTarget),T("id",n.idTarget+"_list")("listStyle",n.targetStyle)("striped",n.stripedRows)("tabindex",n.tabindex)("disabled",n.disabled)("optionDisabled",n.targetOptionDisabled)("metaKeySelection",n.metaKeySelection)("scrollHeight",n.scrollHeight)("autoOptionFocus",n.autoOptionFocus)("filter",n.filterBy)("filterBy",n.filterBy)("filterLocale",n.filterLocale)("filterMatchMode",n.filterMatchMode)("filterPlaceHolder",n.targetFilterPlaceholder)("dragdrop",n.dragdrop),S(2),T("ngIf",n.targetHeaderTemplate||n._targetHeaderTemplate||n.targetHeader),S(),T("ngIf",n.targetFilterTemplate||n._targetFilterTemplate),S(),T("ngIf",n.targetFilterIconTemplate||n._targetFilterIconTemplate),S(),T("ngIf",n.itemTemplate||n._itemTemplate),S(),T("ngIf",n.emptyMessageTargetTemplate||n._emptyMessageTargetTemplate),S(),T("ngIf",n.emptyFilterMessageTargetTemplate||n._emptyFilterMessageTargetTemplate),S(),T("ngIf",n.showTargetControls))},dependencies:[mt,$t,ei,bi,Fi,Ms,xf,pn,pp,xw,Rf,qx,jx,Nf,ic,Hx,Cs,yf,wc,ln,Yn,Jn,Xe],encapsulation:2,changeDetection:0})}return t})(),CT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[vy,Xe,Xe]})}return t})();var Dq=(t,s)=>({"pi-bars":t,"pi-table":s}),Lq=t=>({"border-t border-surface":t}),ST=()=>({left:"4px",top:"4px"});function Aq(t,s){if(t&1&&oe(0,"i",17),t&2){let e=s.$implicit;T("ngClass",li(1,Dq,e==="list",e==="grid"))}}function Fq(t,s){if(t&1){let e=Re();L(0,"div",15)(1,"p-select-button",16),si("ngModelChange",function(n){Z(e);let a=M();return ri(a.layout,n)||(a.layout=n),X(n)}),B(2,Aq,1,4,"ng-template",null,3,Be),D()()}if(t&2){let e=M();S(),oi("ngModel",e.layout),T("options",e.options)("allowEmpty",!1)}}function Oq(t,s){if(t&1&&(L(0,"div")(1,"div",19)(2,"div",20),oe(3,"img",21),L(4,"div",22),oe(5,"p-tag",23),D()(),L(6,"div",24)(7,"div",25)(8,"div")(9,"span",26),ne(10),D(),L(11,"div",27),ne(12),D()(),L(13,"div",28)(14,"div",29)(15,"span",30),ne(16),D(),oe(17,"i",31),D()()(),L(18,"div",32)(19,"span",33),ne(20),D(),L(21,"div",34),oe(22,"p-button",35)(23,"p-button",36),D()()()()()),t&2){let e=s.$implicit,i=s.index,n=M(2);S(),T("ngClass",rt(14,Lq,i!==0)),S(2),T("src",vs("https://primefaces.org/cdn/primevue/images/product/",e.image),an)("alt",e.name),S(),Ft(Kt(16,ST)),S(),T("value",e.inventoryStatus)("severity",n.getSeverity(e)),S(5),Dt(e.category),S(2),Dt(e.name),S(4),Dt(e.rating),S(4),ni("$ ",e.price),S(2),T("outlined",!0),S(),T("disabled",e.inventoryStatus==="OUTOFSTOCK")}}function Vq(t,s){if(t&1&&(L(0,"div",5),B(1,Oq,24,17,"div",18),D()),t&2){let e=s.$implicit;S(),T("ngForOf",e)}}function zq(t,s){if(t&1&&(L(0,"div",39)(1,"div",40)(2,"div",41),oe(3,"img",42),L(4,"div",22),oe(5,"p-tag",23),D()(),L(6,"div",43)(7,"div",44)(8,"div")(9,"span",26),ne(10),D(),L(11,"div",45),ne(12),D()(),L(13,"div",28)(14,"div",29)(15,"span",46),ne(16),D(),oe(17,"i",31),D()()(),L(18,"div",47)(19,"span",48),ne(20),D(),L(21,"div",49),oe(22,"p-button",50)(23,"p-button",35),D()()()()()),t&2){let e=s.$implicit,i=M(2);S(3),T("src",vs("https://primefaces.org/cdn/primevue/images/product/",e.image),an)("alt",e.name),S(),Ft(Kt(13,ST)),S(),T("value",e.inventoryStatus)("severity",i.getSeverity(e)),S(5),Dt(e.category),S(2),ni(" ",e.name," "),S(4),Dt(e.rating),S(4),ni("$ ",e.price),S(2),T("disabled",e.inventoryStatus==="OUTOFSTOCK"),S(),T("outlined",!0)}}function Bq(t,s){if(t&1&&(L(0,"div",37),B(1,zq,24,14,"div",38),D()),t&2){let e=s.$implicit;S(),T("ngForOf",e)}}function Rq(t,s){if(t&1&&ne(0),t&2){let e=s.$implicit;ni(" ",e.name," ")}}function Nq(t,s){if(t&1&&ne(0),t&2){let e=s.$implicit;ni(" ",e.name," ")}}var $g=class t{constructor(s){this.productService=s}layout="list";options=["list","grid"];products=[];sourceCities=[];targetCities=[];orderCities=[];ngOnInit(){this.productService.getProductsSmall().then(s=>this.products=s.slice(0,6)),this.sourceCities=[{name:"San Francisco",code:"SF"},{name:"London",code:"LDN"},{name:"Paris",code:"PRS"},{name:"Istanbul",code:"IST"},{name:"Berlin",code:"BRL"},{name:"Barcelona",code:"BRC"},{name:"Rome",code:"RM"}],this.targetCities=[],this.orderCities=[{name:"San Francisco",code:"SF"},{name:"London",code:"LDN"},{name:"Paris",code:"PRS"},{name:"Istanbul",code:"IST"},{name:"Berlin",code:"BRL"},{name:"Barcelona",code:"BRC"},{name:"Rome",code:"RM"}]}getSeverity(s){switch(s.inventoryStatus){case"INSTOCK":return"success";case"LOWSTOCK":return"warn";case"OUTOFSTOCK":return"danger";default:return"info"}}static \u0275fac=function(e){return new(e||t)(At(Do))};static \u0275cmp=Je({type:t,selectors:[["app-list-demo"]],features:[bt([Do])],decls:26,vars:5,consts:[["header",""],["list",""],["grid",""],["item",""],["option",""],[1,"flex","flex-col"],[1,"card"],[1,"font-semibold","text-xl"],[3,"value","layout"],[1,"flex","flex-col","lg:flex-row","gap-20"],[1,"lg:w-2/3"],[1,"font-semibold","text-xl","mb-4"],["breakpoint","1400px",3,"source","target"],[1,"lg:w-1/3"],["dataKey","id","breakpoint","575px",3,"value"],[1,"flex","justify-end"],[3,"ngModelChange","ngModel","options","allowEmpty"],[1,"pi",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","sm:flex-row","sm:items-center","p-6","gap-4",3,"ngClass"],[1,"md:w-40","relative"],[1,"block","xl:block","mx-auto","rounded","w-full",3,"src","alt"],[1,"absolute","bg-black/70","rounded-border"],[3,"value","severity"],[1,"flex","flex-col","md:flex-row","justify-between","md:items-center","flex-1","gap-6"],[1,"flex","flex-row","md:flex-col","justify-between","items-start","gap-2"],[1,"font-medium","text-surface-500","dark:text-surface-400","text-sm"],[1,"text-lg","font-medium","mt-2"],[1,"bg-surface-100","p-1",2,"border-radius","30px"],[1,"bg-surface-0","flex","items-center","gap-2","justify-center","py-1","px-2",2,"border-radius","30px","box-shadow",`0px 1px 2px 0px rgba(0, 0, 0, 0.04),
                                                        0px 1px 2px 0px rgba(0, 0, 0, 0.06)`],[1,"text-surface-900","font-medium","text-sm"],[1,"pi","pi-star-fill","text-yellow-500"],[1,"flex","flex-col","md:items-end","gap-8"],[1,"text-xl","font-semibold"],[1,"flex","flex-row-reverse","md:flex-row","gap-2"],["icon","pi pi-heart","styleClass","h-full",3,"outlined"],["icon","pi pi-shopping-cart","label","Buy Now","styleClass","flex-auto md:flex-initial whitespace-nowrap",3,"disabled"],[1,"grid","grid-cols-12","gap-4"],["class","col-span-12 sm:col-span-6 lg:col-span-4 p-2",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","p-2"],[1,"p-6","border","border-surface-200","dark:border-surface-700","bg-surface-0","dark:bg-surface-900","rounded","flex","flex-col"],[1,"relative","w-full","shadow-sm"],[1,"rounded","w-full",3,"src","alt"],[1,"pt-12"],[1,"flex","flex-row","justify-between","items-start","gap-2"],[1,"text-lg","font-medium","mt-1"],[1,"text-surface-900","font-medium","text-xs"],[1,"flex","flex-col","gap-6","mt-6"],[1,"text-2xl","font-semibold"],[1,"flex","gap-2"],["icon","pi pi-shopping-cart","label","Buy Now","styleClass","w-full",1,"flex-auto","whitespace-nowrap",3,"disabled"]],template:function(e,i){e&1&&(L(0,"div",5)(1,"div",6)(2,"div",7),ne(3,"DataView"),D(),L(4,"p-dataview",8),B(5,Fq,4,3,"ng-template",null,0,Be)(7,Vq,2,1,"ng-template",null,1,Be)(9,Bq,2,1,"ng-template",null,2,Be),D()(),L(11,"div",9)(12,"div",10)(13,"div",6)(14,"div",11),ne(15,"PickList"),D(),L(16,"p-pick-list",12),B(17,Rq,1,1,"ng-template",null,3,Be),D()()(),L(19,"div",13)(20,"div",6)(21,"div",11),ne(22,"OrderList"),D(),L(23,"p-orderlist",14),B(24,Nq,1,1,"ng-template",null,4,Be),D()()()()()),e&2&&(S(4),T("value",i.products)("layout",i.layout),S(12),T("source",i.sourceCities)("target",i.targetCities),S(7),T("value",i.orderCities))},dependencies:[mt,Ca,ji,mT,by,ln,Yn,Jn,Cf,Tf,CT,vy,bT,yy,uc,cc,Fi,qi],styles:[".p-orderlist-list-container{width:100%}"]})};var MT=`
    .p-carousel {
        display: flex;
        flex-direction: column;
    }

    .p-carousel-content-container {
        display: flex;
        flex-direction: column;
        overflow: auto;
    }

    .p-carousel-content {
        display: flex;
        flex-direction: row;
        gap: dt('carousel.content.gap');
    }

    .p-carousel-content:dir(rtl) {
        flex-direction: row-reverse;
    }

    .p-carousel-viewport {
        overflow: hidden;
        width: 100%;
    }

    .p-carousel-item-list {
        display: flex;
        flex-direction: row;
    }

    .p-carousel-item-list:dir(rtl) {
        flex-direction: row-reverse;
    }

    .p-carousel-prev-button,
    .p-carousel-next-button {
        align-self: center;
        flex-shrink: 0;
    }

    .p-carousel-indicator-list {
        display: flex;
        flex-direction: row;
        justify-content: center;
        flex-wrap: wrap;
        padding: dt('carousel.indicator.list.padding');
        gap: dt('carousel.indicator.list.gap');
        margin: 0;
        list-style: none;
    }

    .p-carousel-indicator-button {
        display: flex;
        align-items: center;
        justify-content: center;
        background: dt('carousel.indicator.background');
        width: dt('carousel.indicator.width');
        height: dt('carousel.indicator.height');
        border: 0 none;
        transition:
            background dt('carousel.transition.duration'),
            color dt('carousel.transition.duration'),
            outline-color dt('carousel.transition.duration'),
            box-shadow dt('carousel.transition.duration');
        outline-color: transparent;
        border-radius: dt('carousel.indicator.border.radius');
        padding: 0;
        margin: 0;
        user-select: none;
        cursor: pointer;
    }

    .p-carousel-indicator-button:focus-visible {
        box-shadow: dt('carousel.indicator.focus.ring.shadow');
        outline: dt('carousel.indicator.focus.ring.width') dt('carousel.indicator.focus.ring.style') dt('carousel.indicator.focus.ring.color');
        outline-offset: dt('carousel.indicator.focus.ring.offset');
    }

    .p-carousel-indicator-button:hover {
        background: dt('carousel.indicator.hover.background');
    }

    .p-carousel-indicator-active .p-carousel-indicator-button {
        background: dt('carousel.indicator.active.background');
    }

    .p-carousel-vertical .p-carousel-content {
        flex-direction: column;
    }

    .p-carousel-vertical .p-carousel-item-list {
        flex-direction: column;
        height: 100%;
    }

    .p-items-hidden .p-carousel-item {
        visibility: hidden;
    }

    .p-items-hidden .p-carousel-item.p-carousel-item-active {
        visibility: visible;
    }
`;var qq=["item"],jq=["header"],Hq=["footer"],Gq=["previousicon"],Uq=["nexticon"],$q=["itemsContainer"],Kq=["indicatorContent"],Wq=[[["p-header"]],[["p-footer"]]],Qq=["p-header","p-footer"],Zq=t=>({height:t}),Kg=t=>({index:t}),Iy=t=>({$implicit:t});function Xq(t,s){t&1&&nt(0)}function Yq(t,s){if(t&1&&(L(0,"div"),Pi(1),B(2,Xq,1,0,"ng-container",11),D()),t&2){let e=M();K(e.cx("header")),S(2),T("ngTemplateOutlet",e.headerTemplate)}}function Jq(t,s){t&1&&(it(),oe(0,"svg",16))}function ej(t,s){t&1&&(it(),oe(0,"svg",17))}function tj(t,s){if(t&1&&(We(0),B(1,Jq,1,0,"svg",14)(2,ej,1,0,"svg",15),Qe()),t&2){let e=M(3);S(),T("ngIf",!e.isVertical()),S(),T("ngIf",e.isVertical())}}function ij(t,s){}function nj(t,s){t&1&&B(0,ij,0,0,"ng-template")}function aj(t,s){if(t&1&&(We(0),B(1,nj,1,0,null,11),Qe()),t&2){let e=M(3);S(),T("ngTemplateOutlet",e.previousIconTemplate||e._previousIconTemplate)}}function oj(t,s){if(t&1&&B(0,tj,3,2,"ng-container",13)(1,aj,2,1,"ng-container",13),t&2){let e=M(2);T("ngIf",!e.previousIconTemplate&&!e._previousIconTemplate&&!(e.prevButtonProps!=null&&e.prevButtonProps.icon)),S(),T("ngIf",(e.previousIconTemplate||e._previousIconTemplate)&&!(e.prevButtonProps!=null&&e.prevButtonProps.icon))}}function rj(t,s){if(t&1){let e=Re();L(0,"p-button",12),Ie("click",function(n){Z(e);let a=M();return X(a.navBackward(n))}),B(1,oj,2,2,"ng-template",null,1,Be),D()}if(t&2){let e=M();K(e.cx("pcPrevButton")),T("text",!0)("buttonProps",e.prevButtonProps),ue("aria-label",e.ariaPrevButtonLabel())}}function sj(t,s){t&1&&nt(0)}function lj(t,s){if(t&1&&(L(0,"div"),B(1,sj,1,0,"ng-container",18),D()),t&2){let e=s.$implicit,i=s.index,n=M();K(n.cx("itemClone",rt(7,Kg,i))),ue("aria-hidden",n.totalShiftedItems*-1!==n.value.length)("aria-label",n.ariaSlideNumber(i))("aria-roledescription",n.ariaSlideLabel()),S(),T("ngTemplateOutlet",n.itemTemplate||n._itemTemplate)("ngTemplateOutletContext",rt(9,Iy,e))}}function cj(t,s){t&1&&nt(0)}function uj(t,s){if(t&1&&(L(0,"div"),B(1,cj,1,0,"ng-container",18),D()),t&2){let e=s.$implicit,i=s.index,n=M();K(n.cx("item",rt(7,Kg,i))),ue("aria-hidden",!(n.firstIndex()<=i&&n.lastIndex()>=i))("aria-label",n.ariaSlideNumber(i))("aria-roledescription",n.ariaSlideLabel()),S(),T("ngTemplateOutlet",n.itemTemplate||n._itemTemplate)("ngTemplateOutletContext",rt(9,Iy,e))}}function dj(t,s){t&1&&nt(0)}function pj(t,s){if(t&1&&(L(0,"div"),B(1,dj,1,0,"ng-container",18),D()),t&2){let e=s.$implicit,i=s.index,n=M();K(n.cx("itemClone",rt(4,Kg,i))),S(),T("ngTemplateOutlet",n.itemTemplate||n._itemTemplate)("ngTemplateOutletContext",rt(6,Iy,e))}}function hj(t,s){t&1&&(it(),oe(0,"svg",22))}function mj(t,s){t&1&&(it(),oe(0,"svg",23))}function fj(t,s){if(t&1&&(We(0),B(1,hj,1,0,"svg",20)(2,mj,1,0,"svg",21),Qe()),t&2){let e=M(3);S(),T("ngIf",!e.isVertical()),S(),T("ngIf",e.isVertical())}}function gj(t,s){}function _j(t,s){t&1&&B(0,gj,0,0,"ng-template")}function bj(t,s){if(t&1&&(L(0,"span"),B(1,_j,1,0,null,11),D()),t&2){let e=M(3);S(),T("ngTemplateOutlet",e.nextIconTemplate||e._nextIconTemplate)}}function yj(t,s){if(t&1&&B(0,fj,3,2,"ng-container",13)(1,bj,2,1,"span",13),t&2){let e=M(2);T("ngIf",!e.nextIconTemplate&&!e._nextIconTemplate&&!(e.nextButtonProps!=null&&e.nextButtonProps.icon)),S(),T("ngIf",e.nextIconTemplate||e._nextIconTemplate&&!(e.nextButtonProps!=null&&e.nextButtonProps.icon))}}function vj(t,s){if(t&1){let e=Re();L(0,"p-button",19),Ie("click",function(n){Z(e);let a=M();return X(a.navForward(n))}),B(1,yj,2,2,"ng-template",null,1,Be),D()}if(t&2){let e=M();K(e.cx("pcNextButton")),T("buttonProps",e.nextButtonProps)("text",!0),ue("aria-label",e.ariaNextButtonLabel())}}function xj(t,s){if(t&1){let e=Re();L(0,"li")(1,"button",25),Ie("click",function(n){let a=Z(e).index,p=M(2);return X(p.onDotClick(n,a))}),D()()}if(t&2){let e=s.index,i=M(2);K(i.cx("indicator",rt(9,Kg,e))),ue("data-pc-section","indicator"),S(),K(i.cx("indicatorButton")),T("ngStyle",i.indicatorStyle)("tabindex",i._page===e?0:-1),ue("aria-label",i.ariaPageLabel(e+1))("aria-current",i._page===e?"page":void 0)}}function wj(t,s){if(t&1){let e=Re();L(0,"ul",24,2),Ie("keydown",function(n){Z(e);let a=M();return X(a.onIndicatorKeydown(n))}),B(2,xj,2,11,"li",8),D()}if(t&2){let e=M();K(e.cx("indicatorList")),T("ngStyle",e.indicatorsContentStyle),S(2),T("ngForOf",e.totalDotsArray())}}function Ij(t,s){t&1&&nt(0)}function Tj(t,s){if(t&1&&(L(0,"div"),Pi(1,1),B(2,Ij,1,0,"ng-container",11),D()),t&2){let e=M();K(e.cx("footer")),S(2),T("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}var Cj={root:({instance:t})=>["p-carousel p-component",{"p-carousel-vertical":t.isVertical(),"p-carousel-horizontal":!t.isVertical()}],header:"p-carousel-header",contentContainer:"p-carousel-content-container",content:"p-carousel-content",pcPrevButton:({instance:t})=>["p-carousel-prev-button",{"p-disabled":t.isBackwardNavDisabled()}],viewport:"p-carousel-viewport",itemList:"p-carousel-item-list",itemClone:({instance:t,index:s})=>["p-carousel-item p-carousel-item-clone",{"p-carousel-item-active":t.totalShiftedItems*-1===t.value.length,"p-carousel-item-start":s===0,"p-carousel-item-end":t.clonedItemsForStarting.length-1===s}],item:({instance:t,index:s})=>["p-carousel-item",{"p-carousel-item-active":t.firstIndex()<=s&&t.lastIndex()>=s,"p-carousel-item-start":t.firstIndex()===s,"p-carousel-item-end":t.lastIndex()===s}],pcNextButton:({instance:t})=>["p-carousel-next-button",{"p-disabled":t.isForwardNavDisabled()}],indicatorList:({instance:t})=>["p-carousel-indicator-list",t.indicatorsContentClass],indicator:({instance:t,index:s})=>["p-carousel-indicator",{"p-carousel-indicator-active":t._page===s}],indicatorButton:({instance:t})=>["p-carousel-indicator-button",t.indicatorStyleClass],footer:"p-carousel-footer"},kT=(()=>{class t extends Vt{name="carousel";theme=MT;classes=Cj;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var Ty=(()=>{class t extends Ot{el;zone;get page(){return this._page}set page(e){this.isCreated&&e!==this._page&&(this.autoplayInterval&&this.stopAutoplay(),e>this._page&&e<=this.totalDots()-1?this.step(-1,e):e<this._page&&this.step(1,e)),this._page=e}get numVisible(){return this._numVisible}set numVisible(e){this._numVisible=e}get numScroll(){return this._numVisible}set numScroll(e){this._numScroll=e}responsiveOptions;orientation="horizontal";verticalViewPortHeight="300px";contentClass="";indicatorsContentClass="";indicatorsContentStyle;indicatorStyleClass="";indicatorStyle;get value(){return this._value}set value(e){this._value=e}circular=!1;showIndicators=!0;showNavigators=!0;autoplayInterval=0;styleClass;prevButtonProps={severity:"secondary",text:!0,rounded:!0};nextButtonProps={severity:"secondary",text:!0,rounded:!0};onPage=new Fe;itemsContainer;indicatorContent;headerFacet;footerFacet;_numVisible=1;_numScroll=1;_oldNumScroll=0;prevState={numScroll:0,numVisible:0,value:[]};defaultNumScroll=1;defaultNumVisible=1;_page=0;_value;carouselStyle;id;totalShiftedItems;isRemainingItemsAdded=!1;animationTimeout;translateTimeout;remainingItems=0;_items;startPos;documentResizeListener;clonedItemsForStarting;clonedItemsForFinishing;allowAutoplay;interval;isCreated;swipeThreshold=20;itemTemplate;headerTemplate;footerTemplate;previousIconTemplate;nextIconTemplate;_itemTemplate;_headerTemplate;_footerTemplate;_previousIconTemplate;_nextIconTemplate;window;_componentStyle=lt(kT);constructor(e,i){super(),this.el=e,this.zone=i,this.totalShiftedItems=this.page*this.numScroll*-1,this.window=this.document.defaultView}ngOnChanges(e){ci(this.platformId)&&(e.value&&this.circular&&this._value&&this.setCloneItems(),this.isCreated&&(e.numVisible&&(this.responsiveOptions&&(this.defaultNumVisible=this.numVisible),this.isCircular()&&this.setCloneItems(),this.createStyle(),this.calculatePosition()),e.numScroll&&this.responsiveOptions&&(this.defaultNumScroll=this.numScroll))),this.cd.markForCheck()}templates;ngAfterContentInit(){this.id=xi("pn_id_"),ci(this.platformId)&&(this.allowAutoplay=!!this.autoplayInterval,this.circular&&this.setCloneItems(),this.responsiveOptions&&(this.defaultNumScroll=this._numScroll,this.defaultNumVisible=this._numVisible),this.createStyle(),this.calculatePosition(),this.responsiveOptions&&this.bindDocumentListeners()),this.templates?.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"previousicon":this._previousIconTemplate=e.template;break;case"nexticon":this._nextIconTemplate=e.template;break;default:this._itemTemplate=e.template;break}}),this.cd.detectChanges()}ngAfterContentChecked(){if(ci(this.platformId)){let e=this.isCircular(),i=this.totalShiftedItems;if(this.value&&this.itemsContainer&&(this.prevState.numScroll!==this._numScroll||this.prevState.numVisible!==this._numVisible||this.prevState.value.length!==this.value.length)){this.autoplayInterval&&this.stopAutoplay(!1),this.remainingItems=(this.value.length-this._numVisible)%this._numScroll;let n=this._page;this.totalDots()!==0&&n>=this.totalDots()&&(n=this.totalDots()-1,this._page=n,this.onPage.emit({page:this.page})),i=n*this._numScroll*-1,e&&(i-=this._numVisible),n===this.totalDots()-1&&this.remainingItems>0?(i+=-1*this.remainingItems+this._numScroll,this.isRemainingItemsAdded=!0):this.isRemainingItemsAdded=!1,i!==this.totalShiftedItems&&(this.totalShiftedItems=i),this._oldNumScroll=this._numScroll,this.prevState.numScroll=this._numScroll,this.prevState.numVisible=this._numVisible,this.prevState.value=[...this._value],this.totalDots()>0&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${i*(100/this._numVisible)}%, 0)`:`translate3d(${i*(100/this._numVisible)}%, 0, 0)`),this.isCreated=!0,this.autoplayInterval&&this.isAutoplay()&&this.startAutoplay()}e&&(this.page===0?i=-1*this._numVisible:i===0&&(i=-1*this.value.length,this.remainingItems>0&&(this.isRemainingItemsAdded=!0)),i!==this.totalShiftedItems&&(this.totalShiftedItems=i))}}createStyle(){this.carouselStyle||(this.carouselStyle=this.renderer.createElement("style"),this.carouselStyle.type="text/css",this.renderer.appendChild(this.document.head,this.carouselStyle),Yr(this.carouselStyle,"nonce",this.config?.csp()?.nonce));let e=`
            #${this.id} .p-carousel-item {
				flex: 1 0 ${100/this.numVisible}%
			}
        `;if(this.responsiveOptions){this.responsiveOptions.sort((i,n)=>{let a=i.breakpoint,p=n.breakpoint,y=null;return a==null&&p!=null?y=-1:a!=null&&p==null?y=1:a==null&&p==null?y=0:typeof a=="string"&&typeof p=="string"?y=a.localeCompare(p,void 0,{numeric:!0}):y=a<p?-1:a>p?1:0,-1*y});for(let i=0;i<this.responsiveOptions.length;i++){let n=this.responsiveOptions[i];e+=`
                    @media screen and (max-width: ${n.breakpoint}) {
                        #${this.id} .p-carousel-item {
                            flex: 1 0 ${100/n.numVisible}%
                        }
                    }
                `}}this.carouselStyle.innerHTML=e}calculatePosition(){if(this.responsiveOptions){let e={numVisible:this.defaultNumVisible,numScroll:this.defaultNumScroll};if(typeof window<"u"){let i=window.innerWidth;for(let n=0;n<this.responsiveOptions.length;n++){let a=this.responsiveOptions[n];parseInt(a.breakpoint,10)>=i&&(e=a)}}if(this._numScroll!==e.numScroll){let i=this._page;i=Math.floor(i*this._numScroll/e.numScroll);let n=e.numScroll*this.page*-1;this.isCircular()&&(n-=e.numVisible),this.totalShiftedItems=n,this._numScroll=e.numScroll,this._page=i,this.onPage.emit({page:this.page})}this._numVisible!==e.numVisible&&(this._numVisible=e.numVisible,this.setCloneItems()),this.cd.markForCheck()}}setCloneItems(){this.clonedItemsForStarting=[],this.clonedItemsForFinishing=[],this.isCircular()&&(this.clonedItemsForStarting.push(...this.value.slice(-1*this._numVisible)),this.clonedItemsForFinishing.push(...this.value.slice(0,this._numVisible)))}firstIndex(){return this.isCircular()?-1*(this.totalShiftedItems+this.numVisible):this.totalShiftedItems*-1}lastIndex(){return this.firstIndex()+this.numVisible-1}totalDots(){return this.value?.length?Math.ceil((this.value.length-this._numVisible)/this._numScroll)+1:0}totalDotsArray(){let e=this.totalDots();return e<=0?[]:Array(e).fill(0)}isVertical(){return this.orientation==="vertical"}isCircular(){return this.circular&&this.value&&this.value.length>=this.numVisible}isAutoplay(){return this.autoplayInterval&&this.allowAutoplay}isForwardNavDisabled(){return this.isEmpty()||this._page>=this.totalDots()-1&&!this.isCircular()}isBackwardNavDisabled(){return this.isEmpty()||this._page<=0&&!this.isCircular()}isEmpty(){return!this.value||this.value.length===0}navForward(e,i){(this.isCircular()||this._page<this.totalDots()-1)&&this.step(-1,i),this.autoplayInterval&&this.stopAutoplay(),e&&e.cancelable&&e.preventDefault()}navBackward(e,i){(this.isCircular()||this._page!==0)&&this.step(1,i),this.autoplayInterval&&this.stopAutoplay(),e&&e.cancelable&&e.preventDefault()}onDotClick(e,i){let n=this._page;this.autoplayInterval&&this.stopAutoplay(),i>n?this.navForward(e,i):i<n&&this.navBackward(e,i)}onIndicatorKeydown(e){switch(e.code){case"ArrowRight":this.onRightKey();break;case"ArrowLeft":this.onLeftKey();break}}onRightKey(){let e=[...da(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')],i=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(i,i+1===e.length?e.length-1:i+1)}onLeftKey(){let e=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(e,e-1<=0?0:e-1)}onHomeKey(){let e=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(e,0)}onEndKey(){let e=[...da(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]r')],i=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(i,e.length-1)}onTabKey(){let e=[...da(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')],i=e.findIndex(p=>go(p,"data-p-highlight")===!0),n=ti(this.indicatorContent.nativeElement,'[data-pc-section="indicator"] > button[tabindex="0"]'),a=e.findIndex(p=>p===n.parentElement);e[a].children[0].tabIndex="-1",e[i].children[0].tabIndex="0"}findFocusedIndicatorIndex(){let e=[...da(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')],i=ti(this.indicatorContent.nativeElement,'[data-pc-section="indicator"] > button[tabindex="0"]');return e.findIndex(n=>n===i.parentElement)}changedFocusedIndicator(e,i){let n=[...da(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')];n[e].children[0].tabIndex="-1",n[i].children[0].tabIndex="0",n[i].children[0].focus()}step(e,i){let n=this.totalShiftedItems,a=this.isCircular();if(i!=null)n=this._numScroll*i*-1,a&&(n-=this._numVisible),this.isRemainingItemsAdded=!1;else{n+=this._numScroll*e,this.isRemainingItemsAdded&&(n+=this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!1);let p=a?n+this._numVisible:n;i=Math.abs(Math.floor(p/this._numScroll))}a&&this.page===this.totalDots()-1&&e===-1?(n=-1*(this.value.length+this._numVisible),i=0):a&&this.page===0&&e===1?(n=0,i=this.totalDots()-1):i===this.totalDots()-1&&this.remainingItems>0&&(n+=this.remainingItems*-1-this._numScroll*e,this.isRemainingItemsAdded=!0),this.itemsContainer&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${n*(100/this._numVisible)}%, 0)`:`translate3d(${n*(100/this._numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=n,this._page=i,this.onPage.emit({page:this.page}),this.cd.markForCheck()}startAutoplay(){this.interval=setInterval(()=>{this.totalDots()>0&&(this.page===this.totalDots()-1?this.step(-1,0):this.step(-1,this.page+1))},this.autoplayInterval),this.allowAutoplay=!0,this.cd.markForCheck()}stopAutoplay(e=!0){this.interval&&(clearInterval(this.interval),this.interval=void 0,e&&(this.allowAutoplay=!1)),this.cd.markForCheck()}isPlaying(){return!!this.interval}onTransitionEnd(){this.itemsContainer&&(this.itemsContainer.nativeElement.style.transition="",(this.page===0||this.page===this.totalDots()-1)&&this.isCircular()&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${this.totalShiftedItems*(100/this._numVisible)}%, 0)`:`translate3d(${this.totalShiftedItems*(100/this._numVisible)}%, 0, 0)`))}onTouchStart(e){let i=e.changedTouches[0];this.startPos={x:i.pageX,y:i.pageY}}onTouchMove(e){e.cancelable&&e.preventDefault()}onTouchEnd(e){let i=e.changedTouches[0];this.isVertical()?this.changePageOnTouch(e,i.pageY-this.startPos.y):this.changePageOnTouch(e,i.pageX-this.startPos.x)}changePageOnTouch(e,i){Math.abs(i)>this.swipeThreshold&&(i<0?this.navForward(e):this.navBackward(e))}ariaPrevButtonLabel(){return this.config.translation.aria?this.config.translation.aria.prevPageLabel:void 0}ariaSlideLabel(){return this.config.translation.aria?this.config.translation.aria.slide:void 0}ariaNextButtonLabel(){return this.config.translation.aria?this.config.translation.aria.nextPageLabel:void 0}ariaSlideNumber(e){return this.config.translation.aria?this.config.translation.aria.slideNumber.replace(/{slideNumber}/g,e):void 0}ariaPageLabel(e){return this.config.translation.aria?this.config.translation.aria.pageLabel.replace(/{page}/g,e):void 0}bindDocumentListeners(){ci(this.platformId)&&(this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",e=>{this.calculatePosition()})))}unbindDocumentListeners(){ci(this.platformId)&&this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.autoplayInterval&&this.stopAutoplay()}static \u0275fac=function(i){return new(i||t)(At(Ja),At(fo))};static \u0275cmp=Je({type:t,selectors:[["p-carousel"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,ec,5),ve(a,ws,5),ve(a,qq,4),ve(a,jq,4),ve(a,Hq,4),ve(a,Gq,4),ve(a,Uq,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.headerFacet=p.first),le(p=ce())&&(n.footerFacet=p.first),le(p=ce())&&(n.itemTemplate=p.first),le(p=ce())&&(n.headerTemplate=p.first),le(p=ce())&&(n.footerTemplate=p.first),le(p=ce())&&(n.previousIconTemplate=p.first),le(p=ce())&&(n.nextIconTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&(dt($q,5),dt(Kq,5)),i&2){let a;le(a=ce())&&(n.itemsContainer=a.first),le(a=ce())&&(n.indicatorContent=a.first)}},hostVars:4,hostBindings:function(i,n){i&2&&(ue("id",n.id)("role","region"),K(n.cn(n.cx("root"),n.styleClass)))},inputs:{page:"page",numVisible:"numVisible",numScroll:"numScroll",responsiveOptions:"responsiveOptions",orientation:"orientation",verticalViewPortHeight:"verticalViewPortHeight",contentClass:"contentClass",indicatorsContentClass:"indicatorsContentClass",indicatorsContentStyle:"indicatorsContentStyle",indicatorStyleClass:"indicatorStyleClass",indicatorStyle:"indicatorStyle",value:"value",circular:[2,"circular","circular",we],showIndicators:[2,"showIndicators","showIndicators",we],showNavigators:[2,"showNavigators","showNavigators",we],autoplayInterval:[2,"autoplayInterval","autoplayInterval",Tt],styleClass:"styleClass",prevButtonProps:"prevButtonProps",nextButtonProps:"nextButtonProps"},outputs:{onPage:"onPage"},features:[bt([kT]),gt,wr],ngContentSelectors:Qq,decls:13,vars:21,consts:[["itemsContainer",""],["icon",""],["indicatorContent",""],[3,"class",4,"ngIf"],[3,"ngClass"],[3,"class","text","buttonProps","click",4,"ngIf"],[3,"touchend","touchstart","touchmove","ngStyle"],[3,"transitionend"],[3,"class",4,"ngFor","ngForOf"],["type","button",3,"class","buttonProps","text","click",4,"ngIf"],[3,"class","ngStyle","keydown",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"click","text","buttonProps"],[4,"ngIf"],["data-p-icon","chevron-left",4,"ngIf"],["data-p-icon","chevron-up",4,"ngIf"],["data-p-icon","chevron-left"],["data-p-icon","chevron-up"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"click","buttonProps","text"],["data-p-icon","chevron-right",4,"ngIf"],["data-p-icon","chevron-down",4,"ngIf"],["data-p-icon","chevron-right"],["data-p-icon","chevron-down"],[3,"keydown","ngStyle"],["type","button",3,"click","ngStyle","tabindex"]],template:function(i,n){if(i&1){let a=Re();$i(Wq),B(0,Yq,3,3,"div",3),L(1,"div",4)(2,"div"),B(3,rj,3,5,"p-button",5),L(4,"div",6),Ie("touchend",function(y){return Z(a),X(n.onTouchEnd(y))})("touchstart",function(y){return Z(a),X(n.onTouchStart(y))})("touchmove",function(y){return Z(a),X(n.onTouchMove(y))}),L(5,"div",7,0),Ie("transitionend",function(){return Z(a),X(n.onTransitionEnd())}),B(7,lj,2,11,"div",8)(8,uj,2,11,"div",8)(9,pj,2,8,"div",8),D()(),B(10,vj,3,5,"p-button",9),D(),B(11,wj,3,4,"ul",10),D(),B(12,Tj,3,3,"div",3)}i&2&&(T("ngIf",n.headerFacet||n.headerTemplate),S(),K(n.contentClass),T("ngClass",n.cx("contentContainer")),S(),K(n.cx("content")),ue("aria-live",n.allowAutoplay?"polite":"off"),S(),T("ngIf",n.showNavigators),S(),K(n.cx("viewport")),T("ngStyle",rt(19,Zq,n.isVertical()?n.verticalViewPortHeight:"auto")),S(),K(n.cx("itemList")),S(2),T("ngForOf",n.clonedItemsForStarting),S(),T("ngForOf",n.value),S(),T("ngForOf",n.clonedItemsForFinishing),S(),T("ngIf",n.showNavigators),S(),T("ngIf",n.showIndicators),S(),T("ngIf",n.footerFacet||n.footerTemplate||n._footerTemplate))},dependencies:[mt,Ca,ji,$t,ei,bi,ao,Fi,qi,nc,Ma,Lu,Xe],encapsulation:2,changeDetection:0})}return t})(),ET=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[Ty,Xe,Xe]})}return t})();var PT=`
    .p-galleria {
        overflow: hidden;
        border-style: solid;
        border-width: dt('galleria.border.width');
        border-color: dt('galleria.border.color');
        border-radius: dt('galleria.border.radius');
    }

    .p-galleria-content {
        display: flex;
        flex-direction: column;
    }

    .p-galleria-items-container {
        display: flex;
        flex-direction: column;
        position: relative;
    }

    .p-galleria-items {
        position: relative;
        display: flex;
        height: 100%;
    }

    .p-galleria-nav-button {
        position: absolute !important;
        top: 50%;
        display: inline-flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        background: dt('galleria.nav.button.background');
        color: dt('galleria.nav.button.color');
        width: dt('galleria.nav.button.size');
        height: dt('galleria.nav.button.size');
        transition:
            background dt('galleria.transition.duration'),
            color dt('galleria.transition.duration'),
            outline-color dt('galleria.transition.duration'),
            box-shadow dt('galleria.transition.duration');
        margin: calc(-1 * calc(dt('galleria.nav.button.size')) / 2) dt('galleria.nav.button.gutter') 0 dt('galleria.nav.button.gutter');
        padding: 0;
        user-select: none;
        border: 0 none;
        cursor: pointer;
        outline-color: transparent;
    }

    .p-galleria-nav-button:not(.p-disabled):hover {
        background: dt('galleria.nav.button.hover.background');
        color: dt('galleria.nav.button.hover.color');
    }

    .p-galleria-nav-button:not(.p-disabled):focus-visible {
        box-shadow: dt('galleria.nav.button.focus.ring.shadow');
        outline: dt('galleria.nav.button.focus.ring.width') dt('galleria.nav.button.focus.ring.style') dt('galleria.nav.button.focus.ring.color');
        outline-offset: dt('galleria.nav.button.focus.ring.offset');
    }

    .p-galleria-next-icon,
    .p-galleria-prev-icon {
        font-size: dt('galleria.nav.icon.size');
        width: dt('galleria.nav.icon.size');
        height: dt('galleria.nav.icon.size');
    }

    .p-galleria-prev-button {
        border-radius: dt('galleria.nav.button.prev.border.radius');
        left: 0;
    }

    .p-galleria-next-button {
        border-radius: dt('galleria.nav.button.next.border.radius');
        right: 0;
    }

    .p-galleria-prev-button:dir(rtl) {
        left: auto;
        right: 0;
        transform: rotate(180deg);
    }

    .p-galleria-next-button:dir(rtl) {
        right: auto;
        left: 0;
        transform: rotate(180deg);
    }

    .p-galleria-item {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
        width: 100%;
    }

    .p-galleria-hover-navigators .p-galleria-nav-button {
        pointer-events: none;
        opacity: 0;
        transition: opacity dt('galleria.transition.duration') ease-in-out;
    }

    .p-galleria-hover-navigators .p-galleria-items-container:hover .p-galleria-nav-button {
        pointer-events: all;
        opacity: 1;
    }

    .p-galleria-hover-navigators .p-galleria-items-container:hover .p-galleria-nav-button.p-disabled {
        pointer-events: none;
    }

    .p-galleria-caption {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        background: dt('galleria.caption.background');
        color: dt('galleria.caption.color');
        padding: dt('galleria.caption.padding');
    }

    .p-galleria-thumbnails {
        display: flex;
        flex-direction: column;
        overflow: auto;
        flex-shrink: 0;
    }

    .p-galleria-thumbnail-nav-button {
        align-self: center;
        flex: 0 0 auto;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        position: relative;
        margin: 0 dt('galleria.thumbnail.nav.button.gutter');
        padding: 0;
        border: none;
        user-select: none;
        cursor: pointer;
        background: transparent;
        color: dt('galleria.thumbnail.nav.button.color');
        width: dt('galleria.thumbnail.nav.button.size');
        height: dt('galleria.thumbnail.nav.button.size');
        transition:
            background dt('galleria.transition.duration'),
            color dt('galleria.transition.duration'),
            outline-color dt('galleria.transition.duration');
        outline-color: transparent;
        border-radius: dt('galleria.thumbnail.nav.button.border.radius');
    }

    .p-galleria-thumbnail-nav-button:hover {
        background: dt('galleria.thumbnail.nav.button.hover.background');
        color: dt('galleria.thumbnail.nav.button.hover.color');
    }

    .p-galleria-thumbnail-nav-button:focus-visible {
        box-shadow: dt('galleria.thumbnail.nav.button.focus.ring.shadow');
        outline: dt('galleria.thumbnail.nav.button.focus.ring.width') dt('galleria.thumbnail.nav.button.focus.ring.style') dt('galleria.thumbnail.nav.button.focus.ring.color');
        outline-offset: dt('galleria.thumbnail.nav.button.focus.ring.offset');
    }

    .p-galleria-thumbnail-nav-button .p-galleria-thumbnail-next-icon,
    .p-galleria-thumbnail-nav-button .p-galleria-thumbnail-prev-icon {
        font-size: dt('galleria.thumbnail.nav.button.icon.size');
        width: dt('galleria.thumbnail.nav.button.icon.size');
        height: dt('galleria.thumbnail.nav.button.icon.size');
    }

    .p-galleria-thumbnails-content {
        display: flex;
        flex-direction: row;
        background: dt('galleria.thumbnails.content.background');
        padding: dt('galleria.thumbnails.content.padding');
    }

    .p-galleria-thumbnails-viewport {
        overflow: hidden;
        width: 100%;
    }

    .p-galleria:not(.p-galleria-thumbnails-right):not(.p-galleria-thumbnails-left) .p-galleria-thumbnail-prev-button:dir(rtl),
    .p-galleria:not(.p-galleria-thumbnails-right):not(.p-galleria-thumbnails-left) .p-galleria-thumbnail-next-button:dir(rtl) {
        transform: rotate(180deg);
    }

    .p-galleria-thumbnail-items {
        display: flex;
    }

    .p-galleria-thumbnail-item {
        overflow: auto;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        opacity: 0.5;
    }

    .p-galleria-thumbnail {
        outline-color: transparent;
    }

    .p-galleria-thumbnail-item:hover {
        opacity: 1;
        transition: opacity 0.3s;
    }

    .p-galleria-thumbnail-item-current {
        opacity: 1;
    }

    .p-galleria-thumbnails-left .p-galleria-content,
    .p-galleria-thumbnails-right .p-galleria-content {
        flex-direction: row;
    }

    .p-galleria-thumbnails-left .p-galleria-items-container,
    .p-galleria-thumbnails-right .p-galleria-items-container {
        flex-direction: row;
    }

    .p-galleria-thumbnails-left .p-galleria-items-container,
    .p-galleria-thumbnails-top .p-galleria-items-container {
        order: 2;
    }

    .p-galleria-thumbnails-left .p-galleria-thumbnails,
    .p-galleria-thumbnails-top .p-galleria-thumbnails {
        order: 1;
    }

    .p-galleria-thumbnails-left .p-galleria-thumbnails-content,
    .p-galleria-thumbnails-right .p-galleria-thumbnails-content {
        flex-direction: column;
        flex-grow: 1;
    }

    .p-galleria-thumbnails-left .p-galleria-thumbnail-items,
    .p-galleria-thumbnails-right .p-galleria-thumbnail-items {
        flex-direction: column;
        height: 100%;
    }

    .p-galleria-indicator-list {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: dt('galleria.indicator.list.padding');
        gap: dt('galleria.indicator.list.gap');
        margin: 0;
        list-style: none;
    }

    .p-galleria-indicator-button {
        display: inline-flex;
        align-items: center;
        background: dt('galleria.indicator.button.background');
        width: dt('galleria.indicator.button.width');
        height: dt('galleria.indicator.button.height');
        transition:
            background dt('galleria.transition.duration'),
            color dt('galleria.transition.duration'),
            outline-color dt('galleria.transition.duration'),
            box-shadow dt('galleria.transition.duration');
        outline-color: transparent;
        border-radius: dt('galleria.indicator.button.border.radius');
        margin: 0;
        padding: 0;
        border: none;
        user-select: none;
        cursor: pointer;
    }

    .p-galleria-indicator-button:hover {
        background: dt('galleria.indicator.button.hover.background');
    }

    .p-galleria-indicator-button:focus-visible {
        box-shadow: dt('galleria.indicator.button.focus.ring.shadow');
        outline: dt('galleria.indicator.button.focus.ring.width') dt('galleria.indicator.button.focus.ring.style') dt('galleria.indicator.button.focus.ring.color');
        outline-offset: dt('galleria.indicator.button.focus.ring.offset');
    }

    .p-galleria-indicator-active .p-galleria-indicator-button {
        background: dt('galleria.indicator.button.active.background');
    }

    .p-galleria-indicators-left .p-galleria-items-container,
    .p-galleria-indicators-right .p-galleria-items-container {
        flex-direction: row;
        align-items: center;
    }

    .p-galleria-indicators-left .p-galleria-items,
    .p-galleria-indicators-top .p-galleria-items {
        order: 2;
    }

    .p-galleria-indicators-left .p-galleria-indicator-list,
    .p-galleria-indicators-top .p-galleria-indicator-list {
        order: 1;
    }

    .p-galleria-indicators-left .p-galleria-indicator-list,
    .p-galleria-indicators-right .p-galleria-indicator-list {
        flex-direction: column;
    }

    .p-galleria-inset-indicators .p-galleria-indicator-list {
        position: absolute;
        display: flex;
        z-index: 1;
        background: dt('galleria.inset.indicator.list.background');
    }

    .p-galleria-inset-indicators .p-galleria-indicator-button {
        background: dt('galleria.inset.indicator.button.background');
    }

    .p-galleria-inset-indicators .p-galleria-indicator-button:hover {
        background: dt('galleria.inset.indicator.button.hover.background');
    }

    .p-galleria-inset-indicators .p-galleria-indicator-active .p-galleria-indicator-button {
        background: dt('galleria.inset.indicator.button.active.background');
    }

    .p-galleria-inset-indicators.p-galleria-indicators-top .p-galleria-indicator-list {
        top: 0;
        left: 0;
        width: 100%;
        align-items: flex-start;
    }

    .p-galleria-inset-indicators.p-galleria-indicators-right .p-galleria-indicator-list {
        right: 0;
        top: 0;
        height: 100%;
        align-items: flex-end;
    }

    .p-galleria-inset-indicators.p-galleria-indicators-bottom .p-galleria-indicator-list {
        bottom: 0;
        left: 0;
        width: 100%;
        align-items: flex-end;
    }

    .p-galleria-inset-indicators.p-galleria-indicators-left .p-galleria-indicator-list {
        left: 0;
        top: 0;
        height: 100%;
        align-items: flex-start;
    }

    .p-galleria-mask {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-galleria-close-button {
        position: absolute !important;
        top: 0;
        right: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        margin: dt('galleria.close.button.gutter');
        background: dt('galleria.close.button.background');
        color: dt('galleria.close.button.color');
        width: dt('galleria.close.button.size');
        height: dt('galleria.close.button.size');
        padding: 0;
        border: none;
        user-select: none;
        cursor: pointer;
        border-radius: dt('galleria.close.button.border.radius');
        outline-color: transparent;
        transition:
            background dt('galleria.transition.duration'),
            color dt('galleria.transition.duration'),
            outline-color dt('galleria.transition.duration');
    }

    .p-galleria-close-icon {
        font-size: dt('galleria.close.button.icon.size');
        width: dt('galleria.close.button.icon.size');
        height: dt('galleria.close.button.icon.size');
    }

    .p-galleria-close-button:hover {
        background: dt('galleria.close.button.hover.background');
        color: dt('galleria.close.button.hover.color');
    }

    .p-galleria-close-button:focus-visible {
        box-shadow: dt('galleria.close.button.focus.ring.shadow');
        outline: dt('galleria.close.button.focus.ring.width') dt('galleria.close.button.focus.ring.style') dt('galleria.close.button.focus.ring.color');
        outline-offset: dt('galleria.close.button.focus.ring.offset');
    }

    .p-galleria-mask .p-galleria-nav-button {
        position: fixed;
        top: 50%;
    }

    .p-galleria-enter-active {
        transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
    }

    .p-galleria-leave-active {
        transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    .p-galleria-enter-from,
    .p-galleria-leave-to {
        opacity: 0;
        transform: scale(0.7);
    }

    .p-galleria-enter-active .p-galleria-nav-button {
        opacity: 0;
    }

    .p-items-hidden .p-galleria-thumbnail-item {
        visibility: hidden;
    }

    .p-items-hidden .p-galleria-thumbnail-item.p-galleria-thumbnail-item-active {
        visibility: visible;
    }
`;var Mj=["header"],kj=["footer"],Ej=["indicator"],Pj=["caption"],Dj=["closeicon"],Lj=["previousthumbnailicon"],Aj=["nextthumbnailicon"],Fj=["itempreviousicon"],Oj=["itemnexticon"],Vj=["item"],zj=["thumbnail"],Bj=["mask"],Rj=["container"],Nj=(t,s)=>({showTransitionParams:t,hideTransitionParams:s}),qj=t=>({value:"visible",params:t});function jj(t,s){if(t&1){let e=Re();L(0,"p-galleriaContent",7),Ie("@animation.start",function(n){Z(e);let a=M(3);return X(a.onAnimationStart(n))})("@animation.done",function(n){Z(e);let a=M(3);return X(a.onAnimationEnd(n))})("maskHide",function(){Z(e);let n=M(3);return X(n.onMaskHide())})("activeItemChange",function(n){Z(e);let a=M(3);return X(a.onActiveItemChange(n))}),D()}if(t&2){let e=M(3);T("@animation",rt(9,qj,li(6,Nj,e.showTransitionOptions,e.hideTransitionOptions)))("value",e.value)("activeIndex",e.activeIndex)("numVisible",e.numVisibleLimit||e.numVisible)("ngStyle",e.containerStyle)("fullScreen",e.fullScreen)}}function Hj(t,s){if(t&1){let e=Re();L(0,"div",5,2),Ie("click",function(n){Z(e);let a=M(2);return X(a.onMaskHide(n))}),B(2,jj,1,11,"p-galleriaContent",6),D()}if(t&2){let e=M(2);K(e.maskClass),T("ngClass",e.cx("mask")),ue("role",e.fullScreen?"dialog":"region")("aria-modal",e.fullScreen?"true":void 0),S(2),T("ngIf",e.visible)}}function Gj(t,s){if(t&1&&(L(0,"div",null,1),B(2,Hj,3,6,"div",4),D()),t&2){let e=M();S(2),T("ngIf",e.maskVisible)}}function Uj(t,s){if(t&1){let e=Re();L(0,"p-galleriaContent",8),Ie("activeItemChange",function(n){Z(e);let a=M();return X(a.onActiveItemChange(n))}),D()}if(t&2){let e=M();T("value",e.value)("activeIndex",e.activeIndex)("numVisible",e.numVisibleLimit||e.numVisible)}}var $j=["closeButton"],Kj=()=>({});function Wj(t,s){if(t&1&&(it(),oe(0,"svg",9)),t&2){let e=M(3);K(e.cx("closeIcon"))}}function Qj(t,s){}function Zj(t,s){t&1&&B(0,Qj,0,0,"ng-template")}function Xj(t,s){if(t&1){let e=Re();L(0,"button",6),Ie("click",function(){Z(e);let n=M(2);return X(n.maskHide.emit())}),B(1,Wj,1,2,"svg",7)(2,Zj,1,0,null,8),D()}if(t&2){let e=M(2);K(e.cx("closeButton")),ue("aria-label",e.closeAriaLabel())("data-pc-section","closebutton"),S(),T("ngIf",!e.galleria.closeIconTemplate&&!e.galleria._closeIconTemplate),S(),T("ngTemplateOutlet",e.galleria.closeIconTemplate||e.galleria._closeIconTemplate)}}function Yj(t,s){if(t&1&&(L(0,"div"),oe(1,"p-galleriaItemSlot",10),D()),t&2){let e=M(2);K(e.cx("header")),S(),T("templates",e.galleria.templates)}}function Jj(t,s){if(t&1){let e=Re();L(0,"p-galleriaThumbnails",11),Ie("onActiveIndexChange",function(n){Z(e);let a=M(2);return X(a.onActiveIndexChange(n))})("stopSlideShow",function(){Z(e);let n=M(2);return X(n.stopSlideShow())}),D()}if(t&2){let e=M(2);T("containerId",e.id)("value",e.value)("activeIndex",e.activeIndex)("templates",e.galleria.templates)("numVisible",e.numVisible)("responsiveOptions",e.galleria.responsiveOptions)("circular",e.galleria.circular)("isVertical",e.isVertical())("contentHeight",e.galleria.verticalThumbnailViewPortHeight)("showThumbnailNavigators",e.galleria.showThumbnailNavigators)("slideShowActive",e.slideShowActive)}}function eH(t,s){if(t&1&&(L(0,"div"),oe(1,"p-galleriaItemSlot",12),D()),t&2){let e=M(2);K(e.cx("footer")),S(),T("templates",e.galleria.templates)}}function tH(t,s){if(t&1){let e=Re();L(0,"div",1),B(1,Xj,3,6,"button",2)(2,Yj,2,3,"div",3),L(3,"div")(4,"p-galleriaItem",4),Ie("onActiveIndexChange",function(n){Z(e);let a=M();return X(a.onActiveIndexChange(n))})("startSlideShow",function(){Z(e);let n=M();return X(n.startSlideShow())})("stopSlideShow",function(){Z(e);let n=M();return X(n.stopSlideShow())}),D(),B(5,Jj,1,11,"p-galleriaThumbnails",5),D(),B(6,eH,2,3,"div",3),D()}if(t&2){let e=M();K(e.cn(e.cx("root"),e.galleria.containerClass)),T("ngStyle",e.galleria.fullScreen?Kt(25,Kj):e.galleria.containerStyle)("pFocusTrapDisabled",!e.fullScreen),ue("id",e.id)("role","region"),S(),T("ngIf",e.galleria.fullScreen),S(),T("ngIf",e.galleria.templates&&(e.galleria.headerFacet||e.galleria.headerTemplate)),S(),K(e.cx("content")),ue("aria-live",e.galleria.autoPlay?"polite":"off"),S(),T("id",e.id)("value",e.value)("activeIndex",e.activeIndex)("circular",e.galleria.circular)("templates",e.galleria.templates)("showIndicators",e.galleria.showIndicators)("changeItemOnIndicatorHover",e.galleria.changeItemOnIndicatorHover)("indicatorFacet",e.galleria.indicatorFacet)("captionFacet",e.galleria.captionFacet)("showItemNavigators",e.galleria.showItemNavigators)("autoPlay",e.galleria.autoPlay)("slideShowActive",e.slideShowActive),S(),T("ngIf",e.galleria.showThumbnails),S(),T("ngIf",e.shouldRenderFooter())}}function iH(t,s){t&1&&nt(0)}function nH(t,s){if(t&1&&(We(0),B(1,iH,1,0,"ng-container",1),Qe()),t&2){let e=M();S(),T("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",e.context)}}var aH=t=>({index:t});function oH(t,s){if(t&1&&(it(),oe(0,"svg",7)),t&2){let e=M(2);K(e.cx("prevIcon"))}}function rH(t,s){}function sH(t,s){t&1&&B(0,rH,0,0,"ng-template")}function lH(t,s){if(t&1){let e=Re();L(0,"button",4),Ie("click",function(n){Z(e);let a=M();return X(a.navBackward(n))})("focus",function(){Z(e);let n=M();return X(n.onButtonFocus("left"))})("blur",function(){Z(e);let n=M();return X(n.onButtonBlur("left"))}),B(1,oH,1,2,"svg",5)(2,sH,1,0,null,6),D()}if(t&2){let e=M();K(e.cx("prevButton")),S(),T("ngIf",!e.galleria.itemPreviousIconTemplate&&!e.galleria._itemPreviousIconTemplate),S(),T("ngTemplateOutlet",e.galleria.itemPreviousIconTemplate||e.galleria._itemPreviousIconTemplate)}}function cH(t,s){if(t&1&&(it(),oe(0,"svg",9)),t&2){let e=M(2);K(e.cx("nextIcon"))}}function uH(t,s){}function dH(t,s){t&1&&B(0,uH,0,0,"ng-template")}function pH(t,s){if(t&1){let e=Re();L(0,"button",4),Ie("click",function(n){Z(e);let a=M();return X(a.navForward(n))})("focus",function(){Z(e);let n=M();return X(n.onButtonFocus("right"))})("blur",function(){Z(e);let n=M();return X(n.onButtonBlur("right"))}),B(1,cH,1,2,"svg",8)(2,dH,1,0,null,6),D()}if(t&2){let e=M();K(e.cx("nextButton")),S(),T("ngIf",!e.galleria.itemNextIconTemplate&&!e.galleria._itemNextIconTemplate),S(),T("ngTemplateOutlet",e.galleria.itemNextIconTemplate||e.galleria._itemNextIconTemplate)}}function hH(t,s){if(t&1&&(L(0,"div"),oe(1,"p-galleriaItemSlot",10),D()),t&2){let e=M();K(e.cx("caption")),S(),T("item",e.activeItem)("templates",e.templates)}}function mH(t,s){if(t&1&&oe(0,"button",15),t&2){let e=M(3);K(e.cx("indicatorButton"))}}function fH(t,s){if(t&1){let e=Re();L(0,"li",12),Ie("click",function(){let n=Z(e).index,a=M(2);return X(a.onIndicatorClick(n))})("mouseenter",function(){let n=Z(e).index,a=M(2);return X(a.onIndicatorMouseEnter(n))})("keydown",function(n){let a=Z(e).index,p=M(2);return X(p.onIndicatorKeyDown(n,a))}),B(1,mH,1,2,"button",13),oe(2,"p-galleriaItemSlot",14),D()}if(t&2){let e=s.index,i=M(2);K(i.cx("indicator",rt(8,aH,e))),ue("aria-label",i.ariaPageLabel(e+1))("aria-selected",i.activeIndex===e)("aria-controls",i.id+"_item_"+e),S(),T("ngIf",!i.indicatorFacet&&!i.galleria.indicatorTemplate),S(),T("index",e)("templates",i.templates)}}function gH(t,s){if(t&1&&(L(0,"ul"),B(1,fH,3,10,"li",11),D()),t&2){let e=M();K(e.cx("indicatorList")),S(),T("ngForOf",e.value)}}var _H=["itemsContainer"],bH=t=>({height:t}),yH=(t,s)=>({index:t,activeIndex:s});function vH(t,s){if(t&1&&(it(),oe(0,"svg",10)),t&2){let e=M(3);K(e.cx("thumbnailPrevIcon"))}}function xH(t,s){if(t&1&&(it(),oe(0,"svg",11)),t&2){let e=M(3);K(e.cx("thumbnailPrevIcon"))}}function wH(t,s){if(t&1&&(We(0),B(1,vH,1,2,"svg",8)(2,xH,1,2,"svg",9),Qe()),t&2){let e=M(2);S(),T("ngIf",!e.isVertical),S(),T("ngIf",e.isVertical)}}function IH(t,s){}function TH(t,s){t&1&&B(0,IH,0,0,"ng-template")}function CH(t,s){if(t&1){let e=Re();L(0,"button",5),Ie("click",function(n){Z(e);let a=M();return X(a.navBackward(n))}),B(1,wH,3,2,"ng-container",6)(2,TH,1,0,null,7),D()}if(t&2){let e=M();K(e.cx("thumbnailPrevButton")),ue("aria-label",e.ariaPrevButtonLabel()),S(),T("ngIf",!e.galleria.previousThumbnailIconTemplate&&!e.galleria._previousThumbnailIconTemplate),S(),T("ngTemplateOutlet",e.galleria.previousThumbnailIconTemplate||e.galleria._previousThumbnailIconTemplate)}}function SH(t,s){if(t&1){let e=Re();L(0,"div",12),Ie("keydown",function(n){let a=Z(e).index,p=M();return X(p.onThumbnailKeydown(n,a))}),L(1,"div",13),Ie("click",function(){let n=Z(e).index,a=M();return X(a.onItemClick(n))})("touchend",function(){let n=Z(e).index,a=M();return X(a.onItemClick(n))})("keydown.enter",function(){let n=Z(e).index,a=M();return X(a.onItemClick(n))}),oe(2,"p-galleriaItemSlot",14),D()()}if(t&2){let e=s.$implicit,i=s.index,n=M();K(n.cx("thumbnailItem",li(13,yH,i,n.activeIndex))),ue("aria-selected",n.activeIndex===i)("aria-controls",n.containerId+"_item_"+i)("data-pc-section","thumbnailitem")("data-p-active",n.activeIndex===i),S(),K(n.cx("thumbnail")),ue("tabindex",n.activeIndex===i?0:-1)("aria-current",n.activeIndex===i?"page":void 0)("aria-label",n.ariaPageLabel(i+1)),S(),T("item",e)("templates",n.templates)}}function MH(t,s){if(t&1&&(it(),oe(0,"svg",17)),t&2){let e=M(3);K(e.cx("thumbnailNextIcon"))}}function kH(t,s){if(t&1&&(it(),oe(0,"svg",18)),t&2){let e=M(3);K(e.cx("thumbnailNextIcon"))}}function EH(t,s){if(t&1&&(We(0),B(1,MH,1,2,"svg",15)(2,kH,1,2,"svg",16),Qe()),t&2){let e=M(2);S(),T("ngIf",!e.isVertical),S(),T("ngIf",e.isVertical)}}function PH(t,s){}function DH(t,s){t&1&&B(0,PH,0,0,"ng-template")}function LH(t,s){if(t&1){let e=Re();L(0,"button",5),Ie("click",function(n){Z(e);let a=M();return X(a.navForward(n))}),B(1,EH,3,2,"ng-container",6)(2,DH,1,0,null,7),D()}if(t&2){let e=M();K(e.cx("thumbnailNextButton")),ue("aria-label",e.ariaNextButtonLabel()),S(),T("ngIf",!e.galleria.nextThumbnailIconTemplate&&!e.galleria._nextThumbnailIconTemplate),S(),T("ngTemplateOutlet",e.galleria.nextThumbnailIconTemplate||e.galleria._nextThumbnailIconTemplate)}}var AH={mask:"p-galleria-mask p-overlay-mask p-overlay-mask-enter",root:({instance:t})=>{let s=t.galleria.showThumbnails&&t.getPositionClass("p-galleria-thumbnails",t.galleria.thumbnailsPosition),e=t.galleria.showIndicators&&t.getPositionClass("p-galleria-indicators",t.galleria.indicatorsPosition);return["p-galleria p-component",{"p-galleria-fullscreen":t.galleria.fullScreen,"p-galleria-inset-indicators":t.galleria.showIndicatorsOnItem,"p-galleria-hover-navigators":t.galleria.showItemNavigatorsOnHover&&!t.galleria.fullScreen},s,e]},closeButton:"p-galleria-close-button",closeIcon:"p-galleria-close-icon",header:"p-galleria-header",content:"p-galleria-content",footer:"p-galleria-footer",itemsContainer:"p-galleria-items-container",items:"p-galleria-items",prevButton:({instance:t})=>["p-galleria-prev-button p-galleria-nav-button",{"p-disabled":t.isNavBackwardDisabled()}],prevIcon:"p-galleria-prev-icon",item:"p-galleria-item",nextButton:({instance:t})=>["p-galleria-next-button p-galleria-nav-button",{"p-disabled":t.isNavForwardDisabled()}],nextIcon:"p-galleria-next-icon",caption:"p-galleria-caption",indicatorList:"p-galleria-indicator-list",indicator:({instance:t,index:s})=>["p-galleria-indicator",{"p-galleria-indicator-active":t.isIndicatorItemActive(s)}],indicatorButton:"p-galleria-indicator-button",thumbnails:"p-galleria-thumbnails",thumbnailContent:"p-galleria-thumbnails-content",thumbnailPrevButton:({instance:t})=>["p-galleria-thumbnail-prev-button p-galleria-thumbnail-nav-button",{"p-disabled":t.isNavBackwardDisabled()}],thumbnailPrevIcon:"p-galleria-thumbnail-prev-icon",thumbnailsViewport:"p-galleria-thumbnails-viewport",thumbnailItems:"p-galleria-thumbnail-items",thumbnailItem:({instance:t,index:s,activeIndex:e})=>["p-galleria-thumbnail-item",{"p-galleria-thumbnail-item-current":e===s,"p-galleria-thumbnail-item-active":t.isItemActive(s),"p-galleria-thumbnail-item-start":t.firstItemAciveIndex()===s,"p-galleria-thumbnail-item-end":t.lastItemActiveIndex()===s}],thumbnail:"p-galleria-thumbnail",thumbnailNextButton:({instance:t})=>["p-galleria-thumbnail-next-button  p-galleria-thumbnail-nav-button",{"p-disabled":t.isNavForwardDisabled()}],thumbnailNextIcon:"p-galleria-thumbnail-next-icon"},Tc=(()=>{class t extends Vt{name="galleria";theme=PT;classes=AH;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var Dp=(()=>{class t extends Ot{platformId;element;cd;get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e}fullScreen=!1;id;value;numVisible=3;responsiveOptions;showItemNavigators=!1;showThumbnailNavigators=!0;showItemNavigatorsOnHover=!1;changeItemOnIndicatorHover=!1;circular=!1;autoPlay=!1;shouldStopAutoplayByClick=!0;transitionInterval=4e3;showThumbnails=!0;thumbnailsPosition="bottom";verticalThumbnailViewPortHeight="300px";showIndicators=!1;showIndicatorsOnItem=!1;indicatorsPosition="bottom";baseZIndex=0;maskClass;containerClass;containerStyle;showTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}activeIndexChange=new Fe;visibleChange=new Fe;mask;container;_visible=!1;_activeIndex=0;headerTemplate;headerFacet;footerTemplate;footerFacet;indicatorTemplate;indicatorFacet;captionTemplate;captionFacet;_closeIconTemplate;closeIconTemplate;_previousThumbnailIconTemplate;previousThumbnailIconTemplate;_nextThumbnailIconTemplate;nextThumbnailIconTemplate;_itemPreviousIconTemplate;itemPreviousIconTemplate;_itemNextIconTemplate;itemNextIconTemplate;_itemTemplate;itemTemplate;_thumbnailTemplate;thumbnailTemplate;maskVisible=!1;numVisibleLimit=0;_componentStyle=lt(Tc);constructor(e,i,n){super(),this.platformId=e,this.element=i,this.cd=n}templates;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this.headerFacet=e.template;break;case"footer":this.footerFacet=e.template;break;case"indicator":this.indicatorFacet=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;case"itemnexticon":this.itemNextIconTemplate=e.template;break;case"itempreviousicon":this.itemPreviousIconTemplate=e.template;break;case"previousthumbnailicon":this.previousThumbnailIconTemplate=e.template;break;case"nextthumbnailicon":this.nextThumbnailIconTemplate=e.template;break;case"caption":this.captionFacet=e.template;break;case"item":this.itemTemplate=e.template;break;case"thumbnail":this.thumbnailTemplate=e.template;break}})}ngOnChanges(e){super.ngOnChanges(e),e.value&&e.value.currentValue?.length<this.numVisible?this.numVisibleLimit=e.value.currentValue.length:this.numVisibleLimit=0}onMaskHide(e){(!e||e.target===e.currentTarget)&&(this.visible=!1,this.visibleChange.emit(!1))}onActiveItemChange(e){this.activeIndex!==e&&(this.activeIndex=e,this.activeIndexChange.emit(e))}onAnimationStart(e){switch(e.toState){case"visible":this.enableModality(),setTimeout(()=>{Wt(ti(this.container.nativeElement,'[data-pc-section="closebutton"]'))},25);break;case"void":Bn(this.mask?.nativeElement,"p-overlay-mask-leave");break}}onAnimationEnd(e){switch(e.toState){case"void":this.disableModality();break}}enableModality(){Jd(),this.cd.markForCheck(),this.mask&&Zi.set("modal",this.mask.nativeElement,this.baseZIndex||this.config.zIndex.modal)}disableModality(){tc(),this.maskVisible=!1,this.cd.markForCheck(),this.mask&&Zi.clear(this.mask.nativeElement)}ngOnDestroy(){this.fullScreen&&Sa(this.document.body,"p-overflow-hidden"),this.mask&&this.disableModality()}static \u0275fac=function(i){return new(i||t)(At(Xh),At(Ja),At(xs))};static \u0275cmp=Je({type:t,selectors:[["p-galleria"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,Mj,4),ve(a,kj,4),ve(a,Ej,4),ve(a,Pj,4),ve(a,Dj,4),ve(a,Lj,4),ve(a,Aj,4),ve(a,Fj,4),ve(a,Oj,4),ve(a,Vj,4),ve(a,zj,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.headerTemplate=p.first),le(p=ce())&&(n.footerTemplate=p.first),le(p=ce())&&(n.indicatorTemplate=p.first),le(p=ce())&&(n.captionTemplate=p.first),le(p=ce())&&(n._closeIconTemplate=p.first),le(p=ce())&&(n._previousThumbnailIconTemplate=p.first),le(p=ce())&&(n._nextThumbnailIconTemplate=p.first),le(p=ce())&&(n._itemPreviousIconTemplate=p.first),le(p=ce())&&(n._itemNextIconTemplate=p.first),le(p=ce())&&(n._itemTemplate=p.first),le(p=ce())&&(n._thumbnailTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&(dt(Bj,5),dt(Rj,5)),i&2){let a;le(a=ce())&&(n.mask=a.first),le(a=ce())&&(n.container=a.first)}},inputs:{activeIndex:"activeIndex",fullScreen:[2,"fullScreen","fullScreen",we],id:"id",value:"value",numVisible:[2,"numVisible","numVisible",Tt],responsiveOptions:"responsiveOptions",showItemNavigators:[2,"showItemNavigators","showItemNavigators",we],showThumbnailNavigators:[2,"showThumbnailNavigators","showThumbnailNavigators",we],showItemNavigatorsOnHover:[2,"showItemNavigatorsOnHover","showItemNavigatorsOnHover",we],changeItemOnIndicatorHover:[2,"changeItemOnIndicatorHover","changeItemOnIndicatorHover",we],circular:[2,"circular","circular",we],autoPlay:[2,"autoPlay","autoPlay",we],shouldStopAutoplayByClick:[2,"shouldStopAutoplayByClick","shouldStopAutoplayByClick",we],transitionInterval:[2,"transitionInterval","transitionInterval",Tt],showThumbnails:[2,"showThumbnails","showThumbnails",we],thumbnailsPosition:"thumbnailsPosition",verticalThumbnailViewPortHeight:"verticalThumbnailViewPortHeight",showIndicators:[2,"showIndicators","showIndicators",we],showIndicatorsOnItem:[2,"showIndicatorsOnItem","showIndicatorsOnItem",we],indicatorsPosition:"indicatorsPosition",baseZIndex:[2,"baseZIndex","baseZIndex",Tt],maskClass:"maskClass",containerClass:"containerClass",containerStyle:"containerStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",visible:"visible"},outputs:{activeIndexChange:"activeIndexChange",visibleChange:"visibleChange"},standalone:!1,features:[bt([Tc]),gt,wr],decls:3,vars:2,consts:[["windowed",""],["container",""],["mask",""],[4,"ngIf","ngIfElse"],[3,"ngClass","class","click",4,"ngIf"],[3,"click","ngClass"],[3,"value","activeIndex","numVisible","ngStyle","fullScreen","maskHide","activeItemChange",4,"ngIf"],[3,"maskHide","activeItemChange","value","activeIndex","numVisible","ngStyle","fullScreen"],[3,"activeItemChange","value","activeIndex","numVisible"]],template:function(i,n){if(i&1&&B(0,Gj,3,1,"div",3)(1,Uj,1,3,"ng-template",null,0,Be),i&2){let a=Ut(2);T("ngIf",n.fullScreen)("ngIfElse",a)}},dependencies:()=>[Ca,$t,bi,FH],encapsulation:2,data:{animation:[ra("animation",[Ni("void => visible",[Ri({transform:"scale(0.7)",opacity:0}),Ki("{{showTransitionParams}}")]),Ni("visible => void",[Ki("{{hideTransitionParams}}",Ri({transform:"scale(0.7)",opacity:0}))])])]},changeDetection:0})}return t})(),FH=(()=>{class t extends Ot{galleria;cd;differs;elementRef;get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e}value=[];numVisible;fullScreen;maskHide=new Fe;activeItemChange=new Fe;closeButton;_componentStyle=lt(Tc);id;_activeIndex=0;slideShowActive=!0;interval;styleClass;differ;constructor(e,i,n,a){super(),this.galleria=e,this.cd=i,this.differs=n,this.elementRef=a,this.id=this.galleria.id||xi("pn_id_"),this.differ=this.differs.find(this.galleria).create()}handleFullscreenChange(e){document?.fullscreenElement===this.elementRef.nativeElement?.children[0]?this.fullScreen=!0:this.fullScreen=!1}ngDoCheck(){if(ci(this.galleria.platformId)){let e=this.differ.diff(this.galleria);e&&e.forEachItem.length>0&&this.cd.markForCheck()}}shouldRenderFooter(){return this.galleria.footerFacet&&this.galleria.templates.toArray().length>0||this.galleria.footerTemplate}startSlideShow(){ci(this.galleria.platformId)&&(this.interval=setInterval(()=>{let e=this.galleria.circular&&this.value.length-1===this.activeIndex?0:this.activeIndex+1;this.onActiveIndexChange(e),this.activeIndex=e},this.galleria.transitionInterval),this.slideShowActive=!0)}stopSlideShow(){this.galleria.autoPlay&&!this.galleria.shouldStopAutoplayByClick||(this.interval&&clearInterval(this.interval),this.slideShowActive=!1)}getPositionClass(e,i){let a=["top","left","bottom","right"].find(p=>p===i);return a?`${e}-${a}`:""}isVertical(){return this.galleria.thumbnailsPosition==="left"||this.galleria.thumbnailsPosition==="right"}onActiveIndexChange(e){this.activeIndex!==e&&(this.activeIndex=e,this.activeItemChange.emit(this.activeIndex))}closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}static \u0275fac=function(i){return new(i||t)(At(Dp),At(xs),At(xx),At(Ja))};static \u0275cmp=Je({type:t,selectors:[["p-galleriaContent"]],viewQuery:function(i,n){if(i&1&&dt($j,5),i&2){let a;le(a=ce())&&(n.closeButton=a.first)}},hostBindings:function(i,n){i&1&&Ie("fullscreenchange",function(p){return n.handleFullscreenChange(p)},Zd)},inputs:{activeIndex:"activeIndex",value:"value",numVisible:[2,"numVisible","numVisible",Tt],fullScreen:[2,"fullScreen","fullScreen",we]},outputs:{maskHide:"maskHide",activeItemChange:"activeItemChange"},standalone:!1,features:[bt([Tc]),gt],decls:1,vars:1,consts:[["pFocusTrap","",3,"class","ngStyle","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","",3,"ngStyle","pFocusTrapDisabled"],["type","button",3,"class","click",4,"ngIf"],[3,"class",4,"ngIf"],[3,"onActiveIndexChange","startSlideShow","stopSlideShow","id","value","activeIndex","circular","templates","showIndicators","changeItemOnIndicatorHover","indicatorFacet","captionFacet","showItemNavigators","autoPlay","slideShowActive"],[3,"containerId","value","activeIndex","templates","numVisible","responsiveOptions","circular","isVertical","contentHeight","showThumbnailNavigators","slideShowActive","onActiveIndexChange","stopSlideShow",4,"ngIf"],["type","button",3,"click"],["data-p-icon","times",3,"class",4,"ngIf"],[4,"ngTemplateOutlet"],["data-p-icon","times"],["type","header",3,"templates"],[3,"onActiveIndexChange","stopSlideShow","containerId","value","activeIndex","templates","numVisible","responsiveOptions","circular","isVertical","contentHeight","showThumbnailNavigators","slideShowActive"],["type","footer",3,"templates"]],template:function(i,n){i&1&&B(0,tH,7,26,"div",0),i&2&&T("ngIf",n.value&&n.value.length>0)},dependencies:()=>[$t,ei,bi,Mr,lp,Cy,OH,VH],encapsulation:2,changeDetection:0})}return t})(),Cy=(()=>{class t{templates;index;get item(){return this._item}shouldRender(){return this.contentTemplate||this.galleria._itemTemplate||this.galleria.itemTemplate||this.galleria.captionTemplate||this.galleria.captionTemplate||this.galleria.captionFacet||this.galleria.thumbnailTemplate||this.galleria._thumbnailTemplate||this.galleria.footerTemplate}galleria=lt(Dp);set item(e){this._item=e,this.templates&&this.templates?.toArray().length>0?this.templates.forEach(i=>{if(i.getType()===this.type)switch(this.type){case"item":case"caption":case"thumbnail":this.context={$implicit:this.item},this.contentTemplate=i.template;break;case"footer":this.context={$implicit:this.item},this.contentTemplate=i.template;break}}):this.getContentTemplate()}getContentTemplate(){switch(this.type){case"item":this.context={$implicit:this.item},this.contentTemplate=this.galleria._itemTemplate||this.galleria.itemTemplate;break;case"caption":this.context={$implicit:this.item},this.contentTemplate=this.galleria.captionTemplate||this.galleria.captionFacet;break;case"thumbnail":this.context={$implicit:this.item},this.contentTemplate=this.galleria.thumbnailTemplate||this.galleria._thumbnailTemplate;break;case"indicator":this.context={$implicit:this.index},this.contentTemplate=this.galleria.indicatorTemplate||this.galleria.indicatorFacet;break;case"footer":this.context={$implicit:this.item},this.contentTemplate=this.galleria.footerTemplate||this.galleria.footerFacet;break;default:this.context={$implicit:this.item},this.contentTemplate=this.galleria._itemTemplate||this.galleria.itemTemplate}}type;contentTemplate;context;_item;ngAfterContentInit(){this.templates&&this.templates.toArray().length>0?this.templates?.forEach(e=>{if(e.getType()===this.type)switch(this.type){case"item":case"caption":case"thumbnail":this.context={$implicit:this.item},this.contentTemplate=e.template;break;case"indicator":this.context={$implicit:this.index},this.contentTemplate=e.template;break;case"footer":this.context={$implicit:this.item},this.contentTemplate=e.template;break;default:this.context={$implicit:this.item},this.contentTemplate=e.template;break}}):this.getContentTemplate()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Je({type:t,selectors:[["p-galleriaItemSlot"]],inputs:{templates:"templates",index:[2,"index","index",Tt],item:"item",type:"type"},standalone:!1,decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){i&1&&B(0,nH,2,2,"ng-container",0),i&2&&T("ngIf",n.shouldRender())},dependencies:[$t,ei],encapsulation:2,changeDetection:0})}return t})(),OH=(()=>{class t extends Ot{galleria;id;circular=!1;value;showItemNavigators=!1;showIndicators=!0;slideShowActive=!0;changeItemOnIndicatorHover=!0;autoPlay=!1;templates;indicatorFacet;captionFacet;startSlideShow=new Fe;stopSlideShow=new Fe;onActiveIndexChange=new Fe;_componentStyle=lt(Tc);get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e}get activeItem(){return this.value&&this.value[this._activeIndex]}_activeIndex=0;leftButtonFocused=!1;rightButtonFocused=!1;constructor(e){super(),this.galleria=e}ngOnChanges({autoPlay:e}){super.ngOnChanges({autoPlay:e}),e?.currentValue&&this.startSlideShow.emit(),e&&e.currentValue===!1&&this.stopTheSlideShow()}next(){let e=this.activeIndex+1,i=this.circular&&this.value.length-1===this.activeIndex?0:e;this.onActiveIndexChange.emit(i)}prev(){let e=this.activeIndex!==0?this.activeIndex-1:0,i=this.circular&&this.activeIndex===0?this.value.length-1:e;this.onActiveIndexChange.emit(i)}onButtonFocus(e){e==="left"?this.leftButtonFocused=!0:this.rightButtonFocused=!0}onButtonBlur(e){e==="left"?this.leftButtonFocused=!1:this.rightButtonFocused=!1}stopTheSlideShow(){this.slideShowActive&&this.stopSlideShow&&this.stopSlideShow.emit()}navForward(e){this.stopTheSlideShow(),this.next(),e&&e.cancelable&&e.preventDefault()}navBackward(e){this.stopTheSlideShow(),this.prev(),e&&e.cancelable&&e.preventDefault()}onIndicatorClick(e){this.stopTheSlideShow(),this.onActiveIndexChange.emit(e)}onIndicatorMouseEnter(e){this.changeItemOnIndicatorHover&&(this.stopTheSlideShow(),this.onActiveIndexChange.emit(e))}onIndicatorKeyDown(e,i){switch(e.code){case"Enter":case"Space":this.stopTheSlideShow(),this.onActiveIndexChange.emit(i),e.preventDefault();break;case"ArrowDown":case"ArrowUp":e.preventDefault();break;default:break}}isNavForwardDisabled(){return!this.circular&&this.activeIndex===this.value.length-1}isNavBackwardDisabled(){return!this.circular&&this.activeIndex===0}isIndicatorItemActive(e){return this.activeIndex===e}ariaSlideLabel(){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.slide:void 0}ariaSlideNumber(e){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.slideNumber.replace(/{slideNumber}/g,e):void 0}ariaPageLabel(e){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.pageLabel.replace(/{page}/g,e):void 0}static \u0275fac=function(i){return new(i||t)(At(Dp))};static \u0275cmp=Je({type:t,selectors:[["p-galleriaItem"]],hostVars:2,hostBindings:function(i,n){i&2&&K(n.cx("itemsContainer"))},inputs:{id:"id",circular:[2,"circular","circular",we],value:"value",showItemNavigators:[2,"showItemNavigators","showItemNavigators",we],showIndicators:[2,"showIndicators","showIndicators",we],slideShowActive:[2,"slideShowActive","slideShowActive",we],changeItemOnIndicatorHover:[2,"changeItemOnIndicatorHover","changeItemOnIndicatorHover",we],autoPlay:[2,"autoPlay","autoPlay",we],templates:"templates",indicatorFacet:"indicatorFacet",captionFacet:"captionFacet",activeIndex:"activeIndex"},outputs:{startSlideShow:"startSlideShow",stopSlideShow:"stopSlideShow",onActiveIndexChange:"onActiveIndexChange"},standalone:!1,features:[bt([Tc]),gt,wr],decls:7,vars:15,consts:[["type","button","role","navigation",3,"class","click","focus","blur",4,"ngIf"],["role","group",3,"id"],["type","item",3,"item","templates"],[3,"class",4,"ngIf"],["type","button","role","navigation",3,"click","focus","blur"],["data-p-icon","chevron-left",3,"class",4,"ngIf"],[4,"ngTemplateOutlet"],["data-p-icon","chevron-left"],["data-p-icon","chevron-right",3,"class",4,"ngIf"],["data-p-icon","chevron-right"],["type","caption",3,"item","templates"],["tabindex","0",3,"class","click","mouseenter","keydown",4,"ngFor","ngForOf"],["tabindex","0",3,"click","mouseenter","keydown"],["type","button","tabIndex","-1",3,"class",4,"ngIf"],["type","indicator",3,"index","templates"],["type","button","tabIndex","-1"]],template:function(i,n){i&1&&(L(0,"div"),B(1,lH,3,4,"button",0),L(2,"div",1),oe(3,"p-galleriaItemSlot",2),D(),B(4,pH,3,4,"button",0)(5,hH,2,4,"div",3),D(),B(6,gH,2,3,"ul",3)),i&2&&(K(n.cx("items")),S(),T("ngIf",n.showItemNavigators),S(),K(n.cx("item")),T("id",n.id+"_item_"+n.activeIndex),ue("aria-label",n.ariaSlideNumber(n.activeIndex+1))("aria-roledescription",n.ariaSlideLabel()),S(),K(n.cx("item")),T("item",n.activeItem)("templates",n.templates),S(),T("ngIf",n.showItemNavigators),S(),T("ngIf",n.captionFacet||n.galleria.captionTemplate),S(),T("ngIf",n.showIndicators))},dependencies:()=>[ji,$t,ei,ao,nc,Cy],encapsulation:2,changeDetection:0})}return t})(),VH=(()=>{class t extends Ot{galleria;containerId;value;isVertical=!1;slideShowActive=!1;circular=!1;responsiveOptions;contentHeight="300px";showThumbnailNavigators=!0;templates;onActiveIndexChange=new Fe;stopSlideShow=new Fe;itemsContainer;get numVisible(){return this._numVisible}set numVisible(e){this._numVisible=e,this._oldNumVisible=this.d_numVisible,this.d_numVisible=e}get activeIndex(){return this._activeIndex}set activeIndex(e){this._oldactiveIndex=this._activeIndex,this._activeIndex=e}index;startPos=null;thumbnailsStyle=null;sortedResponsiveOptions=null;totalShiftedItems=0;page=0;documentResizeListener;_numVisible=0;d_numVisible=0;_oldNumVisible=0;_activeIndex=0;_oldactiveIndex=0;_componentStyle=lt(Tc);constructor(e){super(),this.galleria=e}ngOnInit(){super.ngOnInit(),ci(this.platformId)&&(this.createStyle(),this.responsiveOptions&&this.bindDocumentListeners())}ngAfterContentChecked(){let e=this.totalShiftedItems;(this._oldNumVisible!==this.d_numVisible||this._oldactiveIndex!==this._activeIndex)&&this.itemsContainer&&(this._activeIndex<=this.getMedianItemIndex()?e=0:this.value.length-this.d_numVisible+this.getMedianItemIndex()<this._activeIndex?e=this.d_numVisible-this.value.length:this.value.length-this.d_numVisible<this._activeIndex&&this.d_numVisible%2===0?e=this._activeIndex*-1+this.getMedianItemIndex()+1:e=this._activeIndex*-1+this.getMedianItemIndex(),e!==this.totalShiftedItems&&(this.totalShiftedItems=e),this.itemsContainer&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical?`translate3d(0, ${e*(100/this.d_numVisible)}%, 0)`:`translate3d(${e*(100/this.d_numVisible)}%, 0, 0)`),this._oldactiveIndex!==this._activeIndex&&(Sa(this.itemsContainer.nativeElement,"p-items-hidden"),this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this._oldactiveIndex=this._activeIndex,this._oldNumVisible=this.d_numVisible)}ngAfterViewInit(){super.ngAfterViewInit(),ci(this.platformId)&&this.calculatePosition()}createStyle(){this.thumbnailsStyle||(this.thumbnailsStyle=this.document.createElement("style"),this.document.body.appendChild(this.thumbnailsStyle));let e=`
            #${this.containerId} .p-galleria-thumbnail-item {
                flex: 1 0 ${100/this.d_numVisible}%
            }
        `;if(this.responsiveOptions){this.sortedResponsiveOptions=[...this.responsiveOptions],this.sortedResponsiveOptions.sort((i,n)=>{let a=i.breakpoint,p=n.breakpoint,y=null;return a==null&&p!=null?y=-1:a!=null&&p==null?y=1:a==null&&p==null?y=0:typeof a=="string"&&typeof p=="string"?y=a.localeCompare(p,void 0,{numeric:!0}):y=a<p?-1:a>p?1:0,-1*y});for(let i=0;i<this.sortedResponsiveOptions.length;i++){let n=this.sortedResponsiveOptions[i];e+=`
                    @media screen and (max-width: ${n.breakpoint}) {
                        #${this.containerId} .p-galleria-thumbnail-item {
                            flex: 1 0 ${100/n.numVisible}%
                        }
                    }
                `}}this.thumbnailsStyle.innerHTML=e,Yr(this.thumbnailsStyle,"nonce",this.galleria.config?.csp()?.nonce)}calculatePosition(){if(ci(this.platformId)&&this.itemsContainer&&this.sortedResponsiveOptions){let e=window.innerWidth,i={numVisible:this._numVisible};for(let n=0;n<this.sortedResponsiveOptions.length;n++){let a=this.sortedResponsiveOptions[n];parseInt(a.breakpoint,10)>=e&&(i=a)}this.d_numVisible!==i.numVisible&&(this.d_numVisible=i.numVisible,this.cd.markForCheck())}}getTabIndex(e){return this.isItemActive(e)?0:null}navForward(e){this.stopTheSlideShow();let i=this._activeIndex+1;i+this.totalShiftedItems>this.getMedianItemIndex()&&(-1*this.totalShiftedItems<this.getTotalPageNumber()-1||this.circular)&&this.step(-1);let n=this.circular&&this.value.length-1===this._activeIndex?0:i;this.onActiveIndexChange.emit(n),e.cancelable&&e.preventDefault()}navBackward(e){this.stopTheSlideShow();let i=this._activeIndex!==0?this._activeIndex-1:0,n=i+this.totalShiftedItems;this.d_numVisible-n-1>this.getMedianItemIndex()&&(-1*this.totalShiftedItems!==0||this.circular)&&this.step(1);let a=this.circular&&this._activeIndex===0?this.value.length-1:i;this.onActiveIndexChange.emit(a),e.cancelable&&e.preventDefault()}onItemClick(e){this.stopTheSlideShow();let i=e;if(i!==this._activeIndex){let n=i+this.totalShiftedItems,a=0;i<this._activeIndex?(a=this.d_numVisible-n-1-this.getMedianItemIndex(),a>0&&-1*this.totalShiftedItems!==0&&this.step(a)):(a=this.getMedianItemIndex()-n,a<0&&-1*this.totalShiftedItems<this.getTotalPageNumber()-1&&this.step(a)),this.activeIndex=i,this.onActiveIndexChange.emit(this.activeIndex)}}onThumbnailKeydown(e,i){switch((e.code==="Enter"||e.code==="Space")&&(this.onItemClick(i),e.preventDefault()),e.code){case"ArrowRight":this.onRightKey();break;case"ArrowLeft":this.onLeftKey();break;case"Home":this.onHomeKey(),e.preventDefault();break;case"End":this.onEndKey(),e.preventDefault();break;case"ArrowUp":case"ArrowDown":e.preventDefault();break;case"Tab":this.onTabKey();break;default:break}}onRightKey(){let e=da(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"]'),i=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(i,i+1===e.length?e.length-1:i+1)}onLeftKey(){let e=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(e,e-1<=0?0:e-1)}onHomeKey(){let e=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(e,0)}onEndKey(){let e=da(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"]'),i=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(i,e.length-1)}onTabKey(){let e=[...da(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"]')],i=e.findIndex(p=>go(p,"data-p-active")===!0),n=ti(this.itemsContainer.nativeElement,'[tabindex="0"]'),a=e.findIndex(p=>p===n.parentElement);e[a].children[0].tabIndex="-1",e[i].children[0].tabIndex="0"}findFocusedIndicatorIndex(){let e=[...da(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"]')],i=ti(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"] > [tabindex="0"]');return e.findIndex(n=>n===i.parentElement)}changedFocusedIndicator(e,i){let n=da(this.itemsContainer.nativeElement,'[data-pc-section="thumbnailitem"]');n[e].children[0].tabIndex="-1",n[i].children[0].tabIndex="0",n[i].children[0].focus()}step(e){let i=this.totalShiftedItems+e;e<0&&-1*i+this.d_numVisible>this.value.length-1?i=this.d_numVisible-this.value.length:e>0&&i>0&&(i=0),this.circular&&(e<0&&this.value.length-1===this._activeIndex?i=0:e>0&&this._activeIndex===0&&(i=this.d_numVisible-this.value.length)),this.itemsContainer&&(Sa(this.itemsContainer.nativeElement,"p-items-hidden"),this.itemsContainer.nativeElement.style.transform=this.isVertical?`translate3d(0, ${i*(100/this.d_numVisible)}%, 0)`:`translate3d(${i*(100/this.d_numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=i}stopTheSlideShow(){this.slideShowActive&&this.stopSlideShow&&this.stopSlideShow.emit()}changePageOnTouch(e,i){i<0?this.navForward(e):this.navBackward(e)}getTotalPageNumber(){return this.value.length>this.d_numVisible?this.value.length-this.d_numVisible+1:0}getMedianItemIndex(){let e=Math.floor(this.d_numVisible/2);return this.d_numVisible%2?e:e-1}onTransitionEnd(){this.itemsContainer&&this.itemsContainer.nativeElement&&(Bn(this.itemsContainer.nativeElement,"p-items-hidden"),this.itemsContainer.nativeElement.style.transition="")}onTouchEnd(e){let i=e.changedTouches[0];this.isVertical?this.changePageOnTouch(e,i.pageY-this.startPos.y):this.changePageOnTouch(e,i.pageX-this.startPos.x)}onTouchMove(e){e.cancelable&&e.preventDefault()}onTouchStart(e){let i=e.changedTouches[0];this.startPos={x:i.pageX,y:i.pageY}}isNavBackwardDisabled(){return!this.circular&&this._activeIndex===0||this.value.length<=this.d_numVisible}isNavForwardDisabled(){return!this.circular&&this._activeIndex===this.value.length-1||this.value.length<=this.d_numVisible}firstItemAciveIndex(){return this.totalShiftedItems*-1}lastItemActiveIndex(){return this.firstItemAciveIndex()+this.d_numVisible-1}isItemActive(e){return this.firstItemAciveIndex()<=e&&this.lastItemActiveIndex()>=e}bindDocumentListeners(){if(ci(this.platformId)){let e=this.document.defaultView||"window";this.documentResizeListener=this.renderer.listen(e,"resize",()=>{this.calculatePosition()})}}unbindDocumentListeners(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}ngOnDestroy(){super.ngOnDestroy(),this.responsiveOptions&&this.unbindDocumentListeners(),this.thumbnailsStyle&&this.thumbnailsStyle.parentNode?.removeChild(this.thumbnailsStyle)}ariaPrevButtonLabel(){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.prevPageLabel:void 0}ariaNextButtonLabel(){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.nextPageLabel:void 0}ariaPageLabel(e){return this.galleria.config.translation.aria?this.galleria.config.translation.aria.pageLabel.replace(/{page}/g,e):void 0}static \u0275fac=function(i){return new(i||t)(At(Dp))};static \u0275cmp=Je({type:t,selectors:[["p-galleriaThumbnails"]],viewQuery:function(i,n){if(i&1&&dt(_H,5),i&2){let a;le(a=ce())&&(n.itemsContainer=a.first)}},inputs:{containerId:"containerId",value:"value",isVertical:[2,"isVertical","isVertical",we],slideShowActive:[2,"slideShowActive","slideShowActive",we],circular:[2,"circular","circular",we],responsiveOptions:"responsiveOptions",contentHeight:"contentHeight",showThumbnailNavigators:"showThumbnailNavigators",templates:"templates",numVisible:"numVisible",activeIndex:"activeIndex"},outputs:{onActiveIndexChange:"onActiveIndexChange",stopSlideShow:"stopSlideShow"},standalone:!1,features:[bt([Tc]),gt],decls:8,vars:14,consts:[["itemsContainer",""],["type","button","pRipple","",3,"class","click",4,"ngIf"],[3,"ngStyle"],["role","tablist",3,"transitionend","touchstart","touchmove"],[3,"class","keydown",4,"ngFor","ngForOf"],["type","button","pRipple","",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet"],["data-p-icon","chevron-left",3,"class",4,"ngIf"],["data-p-icon","chevron-up",3,"class",4,"ngIf"],["data-p-icon","chevron-left"],["data-p-icon","chevron-up"],[3,"keydown"],[3,"click","touchend","keydown.enter"],["type","thumbnail",3,"item","templates"],["data-p-icon","chevron-right",3,"class",4,"ngIf"],["data-p-icon","chevron-down",3,"class",4,"ngIf"],["data-p-icon","chevron-right"],["data-p-icon","chevron-down"]],template:function(i,n){if(i&1){let a=Re();L(0,"div")(1,"div"),B(2,CH,3,5,"button",1),L(3,"div",2)(4,"div",3,0),Ie("transitionend",function(){return Z(a),X(n.onTransitionEnd())})("touchstart",function(y){return Z(a),X(n.onTouchStart(y))})("touchmove",function(y){return Z(a),X(n.onTouchMove(y))}),B(6,SH,3,16,"div",4),D()(),B(7,LH,3,5,"button",1),D()()}i&2&&(K(n.cx("thumbnails")),S(),K(n.cx("thumbnailContent")),S(),T("ngIf",n.showThumbnailNavigators),S(),K(n.cx("thumbnailsViewport")),T("ngStyle",rt(12,bH,n.isVertical?n.contentHeight:"")),S(),K(n.cx("thumbnailItems")),S(2),T("ngForOf",n.value),S(),T("ngIf",n.showThumbnailNavigators))},dependencies:()=>[ji,$t,ei,bi,pn,ao,Lu,Ma,nc,Cy],encapsulation:2,changeDetection:0})}return t})(),DT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[mt,Xe,Mr,ao,Lu,Ma,nc,mt,Xe]})}return t})();var LT=`
    .p-image-mask {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-image-preview {
        position: relative;
        display: inline-flex;
        line-height: 0;
    }

    .p-image-preview-mask {
        position: absolute;
        inset-inline-start: 0;
        inset-block-start: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        transition: opacity 0.3s;
        border: 0 none;
        padding: 0;
        cursor: pointer;
        background: transparent;
        color: dt('image.preview.mask.color');
        transition: background dt('image.transition.duration');
    }

    .p-image-preview:hover > .p-image-preview-mask {
        opacity: 1;
        cursor: pointer;
        background: dt('image.preview.mask.background');
    }

    .p-image-preview-icon {
        font-size: dt('image.preview.icon.size');
        width: dt('image.preview.icon.size');
        height: dt('image.preview.icon.size');
    }

    .p-image-toolbar {
        position: absolute;
        inset-block-start: dt('image.toolbar.position.top');
        inset-inline-end: dt('image.toolbar.position.right');
        inset-inline-start: dt('image.toolbar.position.left');
        inset-block-end: dt('image.toolbar.position.bottom');
        display: flex;
        z-index: 1;
        padding: dt('image.toolbar.padding');
        background: dt('image.toolbar.background');
        backdrop-filter: blur(dt('image.toolbar.blur'));
        border-color: dt('image.toolbar.border.color');
        border-style: solid;
        border-width: dt('image.toolbar.border.width');
        border-radius: dt('image.toolbar.border.radius');
        gap: dt('image.toolbar.gap');
    }

    .p-image-action {
        display: inline-flex;
        justify-content: center;
        align-items: center;
        color: dt('image.action.color');
        background: transparent;
        width: dt('image.action.size');
        height: dt('image.action.size');
        margin: 0;
        padding: 0;
        border: 0 none;
        cursor: pointer;
        user-select: none;
        border-radius: dt('image.action.border.radius');
        outline-color: transparent;
        transition:
            background dt('image.transition.duration'),
            color dt('image.transition.duration'),
            outline-color dt('image.transition.duration'),
            box-shadow dt('image.transition.duration');
    }

    .p-image-action:hover {
        color: dt('image.action.hover.color');
        background: dt('image.action.hover.background');
    }

    .p-image-action:focus-visible {
        box-shadow: dt('image.action.focus.ring.shadow');
        outline: dt('image.action.focus.ring.width') dt('image.action.focus.ring.style') dt('image.action.focus.ring.color');
        outline-offset: dt('image.action.focus.ring.offset');
    }

    .p-image-action .p-icon {
        font-size: dt('image.action.icon.size');
        width: dt('image.action.icon.size');
        height: dt('image.action.icon.size');
    }

    .p-image-action.p-disabled {
        pointer-events: auto;
    }

    .p-image-original {
        transition: transform 0.15s;
        max-width: 100vw;
        max-height: 100vh;
    }

    .p-image-original-enter-active {
        transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
    }

    .p-image-original-leave-active {
        transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    .p-image-original-enter-from,
    .p-image-original-leave-to {
        opacity: 0;
        transform: scale(0.7);
    }
`;var BH=["indicator"],RH=["rotaterighticon"],NH=["rotatelefticon"],qH=["zoomouticon"],jH=["zoominicon"],HH=["closeicon"],GH=["preview"],UH=["image"],$H=["mask"],KH=["previewButton"],WH=["closeButton"],QH=t=>({errorCallback:t}),ZH=(t,s)=>({height:t,width:s}),XH=(t,s)=>({showTransitionParams:t,hideTransitionParams:s}),YH=t=>({value:"visible",params:t}),JH=(t,s,e)=>({class:t,style:s,previewCallback:e});function eG(t,s){if(t&1){let e=Re();We(0),L(1,"img",8),Ie("error",function(n){Z(e);let a=M();return X(a.imageError(n))}),D(),Qe()}if(t&2){let e=M();S(),K(e.imageClass),T("ngStyle",e.imageStyle),ue("src",e.src,an)("srcset",e.srcSet)("sizes",e.sizes)("alt",e.alt)("width",e.width)("height",e.height)("loading",e.loading)}}function tG(t,s){t&1&&nt(0)}function iG(t,s){t&1&&nt(0)}function nG(t,s){if(t&1&&(We(0),B(1,iG,1,0,"ng-container",11),Qe()),t&2){let e=M(2);S(),T("ngTemplateOutlet",e.indicatorTemplate||e._indicatorTemplate)}}function aG(t,s){if(t&1&&(it(),oe(0,"svg",12)),t&2){let e=M(2);K(e.cx("previewIcon"))}}function oG(t,s){if(t&1){let e=Re();L(0,"button",9,0),Ie("click",function(){Z(e);let n=M();return X(n.onImageClick())}),B(2,nG,2,1,"ng-container",10)(3,aG,1,2,"ng-template",null,1,Be),D()}if(t&2){let e=Ut(4),i=M();K(i.cx("previewMask")),T("ngStyle",li(6,ZH,i.height+"px",i.width+"px")),ue("aria-label",i.zoomImageAriaLabel),S(2),T("ngIf",i.indicatorTemplate||i._indicatorTemplate)("ngIfElse",e)}}function rG(t,s){t&1&&(it(),oe(0,"svg",22))}function sG(t,s){}function lG(t,s){t&1&&B(0,sG,0,0,"ng-template")}function cG(t,s){t&1&&(it(),oe(0,"svg",23))}function uG(t,s){}function dG(t,s){t&1&&B(0,uG,0,0,"ng-template")}function pG(t,s){t&1&&(it(),oe(0,"svg",24))}function hG(t,s){}function mG(t,s){t&1&&B(0,hG,0,0,"ng-template")}function fG(t,s){t&1&&(it(),oe(0,"svg",25))}function gG(t,s){}function _G(t,s){t&1&&B(0,gG,0,0,"ng-template")}function bG(t,s){t&1&&(it(),oe(0,"svg",26))}function yG(t,s){}function vG(t,s){t&1&&B(0,yG,0,0,"ng-template")}function xG(t,s){if(t&1){let e=Re();We(0),L(1,"img",27),Ie("click",function(){Z(e);let n=M(3);return X(n.onPreviewImageClick())}),D(),Qe()}if(t&2){let e=M(3);S(),K(e.cx("original")),T("ngStyle",e.imagePreviewStyle()),ue("src",e.previewImageSrc?e.previewImageSrc:e.src,an)("srcset",e.previewImageSrcSet)("sizes",e.previewImageSizes)}}function wG(t,s){t&1&&nt(0)}function IG(t,s){if(t&1){let e=Re();L(0,"div"),Ie("@animation.start",function(n){Z(e);let a=M(2);return X(a.onAnimationStart(n))})("@animation.done",function(n){Z(e);let a=M(2);return X(a.onAnimationEnd(n))}),B(1,xG,2,6,"ng-container",4)(2,wG,1,0,"ng-container",5),D()}if(t&2){let e=M(2);T("@animation",rt(7,YH,li(4,XH,e.showTransitionOptions,e.hideTransitionOptions))),S(),T("ngIf",!e.previewTemplate&&!e._previewTemplate),S(),T("ngTemplateOutlet",e.previewTemplate||e._previewTemplate)("ngTemplateOutletContext",Ir(9,JH,e.cx("original"),e.imagePreviewStyle(),e.onPreviewImageClick.bind(e)))}}function TG(t,s){if(t&1){let e=Re();L(0,"div",13,2),Ie("click",function(){Z(e);let n=M();return X(n.onMaskClick())})("keydown",function(n){Z(e);let a=M();return X(a.onMaskKeydown(n))}),L(2,"div",14),Ie("click",function(n){Z(e);let a=M();return X(a.handleToolbarClick(n))}),L(3,"button",15),Ie("click",function(){Z(e);let n=M();return X(n.rotateRight())}),B(4,rG,1,0,"svg",16)(5,lG,1,0,null,11),D(),L(6,"button",15),Ie("click",function(){Z(e);let n=M();return X(n.rotateLeft())}),B(7,cG,1,0,"svg",17)(8,dG,1,0,null,11),D(),L(9,"button",18),Ie("click",function(){Z(e);let n=M();return X(n.zoomOut())}),B(10,pG,1,0,"svg",19)(11,mG,1,0,null,11),D(),L(12,"button",18),Ie("click",function(){Z(e);let n=M();return X(n.zoomIn())}),B(13,fG,1,0,"svg",20)(14,_G,1,0,null,11),D(),L(15,"button",15,3),Ie("click",function(){Z(e);let n=M();return X(n.closePreview())}),B(17,bG,1,0,"svg",21)(18,vG,1,0,null,11),D()(),B(19,IG,3,13,"div",4),D()}if(t&2){let e=M();K(e.cx("mask")),ue("aria-modal",e.maskVisible),S(2),K(e.cx("toolbar")),S(),K(e.cx("rotateRightButton")),ue("aria-label",e.rightAriaLabel()),S(),T("ngIf",!e.rotateRightIconTemplate&&!e._rotateRightIconTemplate),S(),T("ngTemplateOutlet",e.rotateRightIconTemplate||e._rotateRightIconTemplate),S(),K(e.cx("rotateLeftButton")),ue("aria-label",e.leftAriaLabel()),S(),T("ngIf",!e.rotateLeftIconTemplate&&!e._rotateLeftIconTemplate),S(),T("ngTemplateOutlet",e.rotateLeftIconTemplate||e._rotateLeftIconTemplate),S(),K(e.cx("zoomOutButton")),T("disabled",e.isZoomOutDisabled),ue("aria-label",e.zoomOutAriaLabel()),S(),T("ngIf",!e.zoomOutIconTemplate&&!e._zoomOutIconTemplate),S(),T("ngTemplateOutlet",e.zoomOutIconTemplate||e._zoomOutIconTemplate),S(),K(e.cx("zoomInButton")),T("disabled",e.isZoomInDisabled),ue("aria-label",e.zoomInAriaLabel()),S(),T("ngIf",!e.zoomInIconTemplate&&!e._zoomInIconTemplate),S(),T("ngTemplateOutlet",e.zoomInIconTemplate||e._zoomInIconTemplate),S(),K(e.cx("closeButton")),ue("aria-label",e.closeAriaLabel()),S(2),T("ngIf",!e.closeIconTemplate&&!e._closeIconTemplate),S(),T("ngTemplateOutlet",e.closeIconTemplate||e._closeIconTemplate),S(),T("ngIf",e.previewVisible)}}var CG={root:({instance:t})=>["p-image p-component",{"p-image-preview":t.preview}],previewMask:"p-image-preview-mask",previewIcon:"p-image-preview-icon",mask:"p-image-mask p-overlay-mask p-overlay-mask-enter",toolbar:"p-image-toolbar",rotateRightButton:"p-image-action p-image-rotate-right-button",rotateLeftButton:"p-image-action p-image-rotate-left-button",zoomOutButton:({instance:t})=>["p-image-action p-image-zoom-out-button",{"p-disabled":t.isZoomOutDisabled}],zoomInButton:({instance:t})=>["p-image-action p-image-zoom-in-button",{"p-disabled":t.isZoomInDisabled}],closeButton:"p-image-action p-image-close-button",original:"p-image-original"},AT=(()=>{class t extends Vt{name="image";theme=LT;classes=CG;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var Sy=(()=>{class t extends Ot{imageClass;imageStyle;styleClass;src;srcSet;sizes;previewImageSrc;previewImageSrcSet;previewImageSizes;alt;width;height;loading;preview=!1;showTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";appendTo=sn(void 0);onShow=new Fe;onHide=new Fe;onImageError=new Fe;mask;previewButton;closeButton;indicatorTemplate;rotateRightIconTemplate;rotateLeftIconTemplate;zoomOutIconTemplate;zoomInIconTemplate;closeIconTemplate;previewTemplate;imageTemplate;maskVisible=!1;previewVisible=!1;rotate=0;scale=1;previewClick=!1;container;wrapper;_componentStyle=lt(AT);$appendTo=Vi(()=>this.appendTo()||this.config.overlayAppendTo());get isZoomOutDisabled(){return this.scale-this.zoomSettings.step<=this.zoomSettings.min}get isZoomInDisabled(){return this.scale+this.zoomSettings.step>=this.zoomSettings.max}zoomSettings={default:1,step:.1,max:1.5,min:.5};constructor(){super()}templates;_indicatorTemplate;_rotateRightIconTemplate;_rotateLeftIconTemplate;_zoomOutIconTemplate;_zoomInIconTemplate;_closeIconTemplate;_imageTemplate;_previewTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"indicator":this._indicatorTemplate=e.template;break;case"rotaterighticon":this._rotateRightIconTemplate=e.template;break;case"rotatelefticon":this._rotateLeftIconTemplate=e.template;break;case"zoomouticon":this._zoomOutIconTemplate=e.template;break;case"zoominicon":this._zoomInIconTemplate=e.template;break;case"closeicon":this._closeIconTemplate=e.template;break;case"image":this._imageTemplate=e.template;break;case"preview":this._previewTemplate=e.template;break;default:this._indicatorTemplate=e.template;break}})}onImageClick(){this.preview&&(this.maskVisible=!0,this.previewVisible=!0,Jd())}onMaskClick(){this.previewClick||this.closePreview(),this.previewClick=!1}onMaskKeydown(e){switch(e.code){case"Escape":this.onMaskClick(),setTimeout(()=>{Wt(this.previewButton.nativeElement)},25),e.preventDefault();break;default:break}}onPreviewImageClick(){this.previewClick=!0}rotateRight(){this.rotate+=90,this.previewClick=!0}rotateLeft(){this.rotate-=90,this.previewClick=!0}zoomIn(){this.scale=this.scale+this.zoomSettings.step,this.previewClick=!0}zoomOut(){this.scale=this.scale-this.zoomSettings.step,this.previewClick=!0}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container?.parentElement,this.attrSelector&&this.wrapper.setAttribute(this.attrSelector,""),this.appendContainer(),this.moveOnTop(),setTimeout(()=>{Wt(this.closeButton.nativeElement)},25);break;case"void":Bn(this.wrapper,"p-overlay-mask-leave");break}}onAnimationEnd(e){switch(e.toState){case"void":Zi.clear(this.wrapper),this.maskVisible=!1,this.container=null,this.wrapper=null,this.cd.markForCheck(),this.onHide.emit({});break;case"visible":this.onShow.emit({});break}}moveOnTop(){Zi.set("modal",this.wrapper,this.config.zIndex.modal)}appendContainer(){this.$appendTo()&&this.$appendTo()!=="self"&&(this.$appendTo()==="body"?this.document.body.appendChild(this.wrapper):Yd(this.$appendTo(),this.wrapper))}imagePreviewStyle(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}}get zoomImageAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomImage:void 0}handleToolbarClick(e){e.stopPropagation()}closePreview(){this.previewVisible=!1,this.rotate=0,this.scale=this.zoomSettings.default,tc()}imageError(e){this.onImageError.emit(e)}rightAriaLabel(){return this.config.translation.aria?this.config.translation.aria.rotateRight:void 0}leftAriaLabel(){return this.config.translation.aria?this.config.translation.aria.rotateLeft:void 0}zoomInAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomIn:void 0}zoomOutAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomOut:void 0}closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}onKeydownHandler(e){this.previewVisible&&this.closePreview()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Je({type:t,selectors:[["p-image"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,BH,4),ve(a,RH,4),ve(a,NH,4),ve(a,qH,4),ve(a,jH,4),ve(a,HH,4),ve(a,GH,4),ve(a,UH,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.indicatorTemplate=p.first),le(p=ce())&&(n.rotateRightIconTemplate=p.first),le(p=ce())&&(n.rotateLeftIconTemplate=p.first),le(p=ce())&&(n.zoomOutIconTemplate=p.first),le(p=ce())&&(n.zoomInIconTemplate=p.first),le(p=ce())&&(n.closeIconTemplate=p.first),le(p=ce())&&(n.previewTemplate=p.first),le(p=ce())&&(n.imageTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&(dt($H,5),dt(KH,5),dt(WH,5)),i&2){let a;le(a=ce())&&(n.mask=a.first),le(a=ce())&&(n.previewButton=a.first),le(a=ce())&&(n.closeButton=a.first)}},hostVars:2,hostBindings:function(i,n){i&1&&Ie("keydown.escape",function(p){return n.onKeydownHandler(p)},Zd),i&2&&K(n.cn(n.cx("root"),n.styleClass))},inputs:{imageClass:"imageClass",imageStyle:"imageStyle",styleClass:"styleClass",src:"src",srcSet:"srcSet",sizes:"sizes",previewImageSrc:"previewImageSrc",previewImageSrcSet:"previewImageSrcSet",previewImageSizes:"previewImageSizes",alt:"alt",width:"width",height:"height",loading:"loading",preview:[2,"preview","preview",we],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",appendTo:[1,"appendTo"]},outputs:{onShow:"onShow",onHide:"onHide",onImageError:"onImageError"},features:[bt([AT]),gt],decls:4,vars:7,consts:[["previewButton",""],["defaultTemplate",""],["mask",""],["closeButton",""],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"class","ngStyle","click",4,"ngIf"],["role","dialog","pFocusTrap","",3,"class","click","keydown",4,"ngIf"],[3,"error","ngStyle"],["type","button",3,"click","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["data-p-icon","eye"],["role","dialog","pFocusTrap","",3,"click","keydown"],[3,"click"],["type","button",3,"click"],["data-p-icon","refresh",4,"ngIf"],["data-p-icon","undo",4,"ngIf"],["type","button",3,"click","disabled"],["data-p-icon","search-minus",4,"ngIf"],["data-p-icon","search-plus",4,"ngIf"],["data-p-icon","times",4,"ngIf"],["data-p-icon","refresh"],["data-p-icon","undo"],["data-p-icon","search-minus"],["data-p-icon","search-plus"],["data-p-icon","times"],[3,"click","ngStyle"]],template:function(i,n){i&1&&B(0,eG,2,10,"ng-container",4)(1,tG,1,0,"ng-container",5)(2,oG,5,9,"button",6)(3,TG,20,33,"div",7),i&2&&(T("ngIf",!n.imageTemplate&&!n._imageTemplate),S(),T("ngTemplateOutlet",n.imageTemplate||n._imageTemplate)("ngTemplateOutletContext",rt(5,QH,n.imageError.bind(n))),S(),T("ngIf",n.preview),S(),T("ngIf",n.maskVisible))},dependencies:[mt,$t,ei,bi,qw,Ux,Gw,jw,Hw,Mr,lp,Xe],encapsulation:2,data:{animation:[ra("animation",[Ni("void => visible",[Ri({transform:"scale(0.7)",opacity:0}),Ki("{{showTransitionParams}}")]),Ni("visible => void",[Ki("{{hideTransitionParams}}",Ri({transform:"scale(0.7)",opacity:0}))])])]},changeDetection:0})}return t})(),FT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[Sy,Xe,Xe]})}return t})();var Lp=class t{getData(){return[{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria1.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria1s.jpg",alt:"Description for Image 1",title:"Title 1"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria2.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria2s.jpg",alt:"Description for Image 2",title:"Title 2"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria3.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria3s.jpg",alt:"Description for Image 3",title:"Title 3"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria4.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria4s.jpg",alt:"Description for Image 4",title:"Title 4"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria5.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria5s.jpg",alt:"Description for Image 5",title:"Title 5"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria6.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria6s.jpg",alt:"Description for Image 6",title:"Title 6"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria7.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria7s.jpg",alt:"Description for Image 7",title:"Title 7"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria8.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria8s.jpg",alt:"Description for Image 8",title:"Title 8"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria9.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria9s.jpg",alt:"Description for Image 9",title:"Title 9"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria10.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria10s.jpg",alt:"Description for Image 10",title:"Title 10"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria11.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria11s.jpg",alt:"Description for Image 11",title:"Title 11"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria12.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria12s.jpg",alt:"Description for Image 12",title:"Title 12"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria13.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria13s.jpg",alt:"Description for Image 13",title:"Title 13"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria14.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria14s.jpg",alt:"Description for Image 14",title:"Title 14"},{itemImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria15.jpg",thumbnailImageSrc:"https://primefaces.org/cdn/primeng/images/galleria/galleria15s.jpg",alt:"Description for Image 15",title:"Title 15"}]}getImages(){return Promise.resolve(this.getData())}static \u0275fac=function(e){return new(e||t)};static \u0275prov=St({token:t,factory:t.\u0275fac})};var kG=()=>({"max-width":"640px"}),EG=()=>({"left.px":5,"top.px":5});function PG(t,s){if(t&1&&(L(0,"div",7)(1,"div",8)(2,"div",9),oe(3,"img",10),L(4,"div",11),oe(5,"p-tag",12),D()()(),L(6,"div",13),ne(7),D(),L(8,"div",14)(9,"div",15),ne(10),D(),L(11,"span"),oe(12,"p-button",16)(13,"p-button",17),D()()()),t&2){let e=s.$implicit,i=M();S(3),T("src",vs("https://primefaces.org/cdn/primeng/images/demo/product/",e.image),an)("alt",e.name),S(),T("ngStyle",Kt(9,EG)),S(),T("value",e.inventoryStatus)("severity",i.getSeverity(e.inventoryStatus)),S(2),Dt(e.name),S(3),Dt("$"+e.price),S(2),T("outlined",!0)}}function DG(t,s){if(t&1&&oe(0,"img",18),t&2){let e=s.$implicit;T("src",e.itemImageSrc,an)}}function LG(t,s){if(t&1&&oe(0,"img",19),t&2){let e=s.$implicit;T("src",e.thumbnailImageSrc,an)}}var Wg=class t{constructor(s,e){this.productService=s;this.photoService=e}products;images;galleriaResponsiveOptions=[{breakpoint:"1024px",numVisible:5},{breakpoint:"960px",numVisible:4},{breakpoint:"768px",numVisible:3},{breakpoint:"560px",numVisible:1}];carouselResponsiveOptions=[{breakpoint:"1024px",numVisible:3,numScroll:3},{breakpoint:"768px",numVisible:2,numScroll:2},{breakpoint:"560px",numVisible:1,numScroll:1}];ngOnInit(){this.productService.getProductsSmall().then(s=>{this.products=s}),this.photoService.getImages().then(s=>{this.images=s})}getSeverity(s){switch(s){case"INSTOCK":return"success";case"LOWSTOCK":return"warn";case"OUTOFSTOCK":return"danger";default:return"success"}}static \u0275fac=function(e){return new(e||t)(At(Do),At(Lp))};static \u0275cmp=Je({type:t,selectors:[["app-media-demo"]],features:[bt([Do,Lp])],decls:18,vars:10,consts:[["item",""],["thumbnail",""],[1,"card"],[1,"font-semibold","text-xl","mb-4"],[3,"value","numVisible","numScroll","circular","responsiveOptions"],["src","https://primefaces.org/cdn/primeng/images/galleria/galleria10.jpg","alt","Image","width","250"],[3,"value","responsiveOptions","containerStyle","numVisible"],[1,"border","border-surface","rounded-border","m-2","p-4"],[1,"mb-4"],[1,"relative","mx-auto"],[1,"w-full","rounded-border",3,"src","alt"],[1,"absolute","bg-black/70","rounded-border",3,"ngStyle"],[3,"value","severity"],[1,"mb-4","font-medium"],[1,"flex","justify-between","items-center"],[1,"mt-0","font-semibold","text-xl"],["icon","pi pi-heart","severity","secondary",3,"outlined"],["icon","pi pi-shopping-cart","styleClass","ml-2"],[2,"width","100%",3,"src"],[3,"src"]],template:function(e,i){e&1&&(L(0,"div",2)(1,"div",3),ne(2,"Carousel"),D(),L(3,"p-carousel",4),B(4,PG,14,10,"ng-template",null,0,Be),D()(),L(6,"div",2)(7,"div",3),ne(8,"Image"),D(),oe(9,"p-image",5),D(),L(10,"div",2)(11,"div",3),ne(12,"Galleria"),D(),L(13,"p-galleria",6),B(14,DG,1,1,"ng-template",null,0,Be)(16,LG,1,1,"ng-template",null,1,Be),D()()),e&2&&(S(3),T("value",i.products)("numVisible",3)("numScroll",3)("circular",!1)("responsiveOptions",i.carouselResponsiveOptions),S(10),T("value",i.images)("responsiveOptions",i.galleriaResponsiveOptions)("containerStyle",Kt(9,kG))("numVisible",5))},dependencies:[mt,bi,ET,Ty,Fi,qi,DT,Dp,FT,Sy,uc,cc],encapsulation:2})};var Qg=class t{constructor(s){this.service=s}msgs=[];username;email;showInfoViaToast(){this.service.add({severity:"info",summary:"Info Message",detail:"PrimeNG rocks"})}showWarnViaToast(){this.service.add({severity:"warn",summary:"Warn Message",detail:"There are unsaved changes"})}showErrorViaToast(){this.service.add({severity:"error",summary:"Error Message",detail:"Validation failed"})}showSuccessViaToast(){this.service.add({severity:"success",summary:"Success Message",detail:"Message sent"})}static \u0275fac=function(e){return new(e||t)(At(er))};static \u0275cmp=Je({type:t,selectors:[["app-messages-demo"]],features:[bt([er])],decls:38,vars:2,consts:[[1,"flex","flex-col","md:flex-row","gap-8"],[1,"md:w-1/2"],[1,"card"],[1,"font-semibold","text-xl","mb-4"],[1,"flex","flex-wrap","gap-2"],["label","Success","severity","success",3,"click"],["label","Info","severity","info",3,"click"],["label","Warn","severity","warn",3,"click"],["label","Error","severity","danger",3,"click"],[1,"font-semibold","text-xl","mt-4","mb-4"],[1,"flex","flex-col","mb-4","gap-1"],["pInputText","","placeholder","Username","aria-label","username",1,"ng-dirty","ng-invalid",3,"ngModelChange","ngModel"],["severity","error","variant","simple","size","small"],[1,"flex","flex-col","flex-wrap","gap-1"],["pInputText","","placeholder","Email","aria-label","email",1,"ng-dirty","ng-invalid",3,"ngModelChange","ngModel"],[1,"flex","flex-col","gap-4","mb-4"],["severity","success"],["severity","info"],["severity","warn"],["severity","error"],["severity","secondary"],["severity","contrast"]],template:function(e,i){e&1&&(L(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),ne(4,"Toast"),D(),L(5,"div",4)(6,"p-button",5),Ie("click",function(){return i.showSuccessViaToast()}),D(),L(7,"p-button",6),Ie("click",function(){return i.showInfoViaToast()}),D(),L(8,"p-button",7),Ie("click",function(){return i.showWarnViaToast()}),D(),L(9,"p-button",8),Ie("click",function(){return i.showErrorViaToast()}),D(),oe(10,"p-toast"),D(),L(11,"div",9),ne(12,"Inline"),D(),L(13,"div",10)(14,"input",11),si("ngModelChange",function(a){return ri(i.username,a)||(i.username=a),a}),D(),L(15,"p-message",12),ne(16,"Username is required"),D()(),L(17,"div",13)(18,"input",14),si("ngModelChange",function(a){return ri(i.email,a)||(i.email=a),a}),D(),L(19,"p-message",12),ne(20,"Email is required"),D()()()(),L(21,"div",1)(22,"div",2)(23,"div",3),ne(24,"Message"),D(),L(25,"div",15)(26,"p-message",16),ne(27,"Success Message"),D(),L(28,"p-message",17),ne(29,"Info Message"),D(),L(30,"p-message",18),ne(31,"Warn Message"),D(),L(32,"p-message",19),ne(33,"Error Message"),D(),L(34,"p-message",20),ne(35,"Secondary Message"),D(),L(36,"p-message",21),ne(37,"Contrast Message"),D()()()()()),e&2&&(S(14),oi("ngModel",i.username),S(4),oi("ngModel",i.email))},dependencies:[mt,ac,sp,Fi,qi,Po,sa,Vf,Of,ln,op,Yn,Jn],encapsulation:2})};var FG=["*"],OG={root:"p-avatar-group p-component"},OT=(()=>{class t extends Vt{name="avatargroup";classes=OG;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var My=(()=>{class t extends Ot{styleClass;style;get hostClass(){return this.styleClass}get hostStyle(){return this.style}_componentStyle=lt(OT);static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-avatarGroup"],["p-avatar-group"],["p-avatargroup"]],hostVars:8,hostBindings:function(i,n){i&2&&(Ft(n.hostStyle),K(n.hostClass),rf("p-avatar-group",!0)("p-component",!0))},inputs:{styleClass:"styleClass",style:"style"},features:[bt([OT]),gt],ngContentSelectors:FG,decls:1,vars:0,template:function(i,n){i&1&&($i(),Pi(0))},dependencies:[mt,Xe],encapsulation:2,changeDetection:0})}return t})(),VT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[My,Xe,Xe]})}return t})();var zG=["*"],BG=`
.p-overlaybadge {
    position: relative;
}

.p-overlaybadge .p-badge {
    position: absolute;
    top: 0;
    right: 0;
    transform: translate(50%, -50%);
    transform-origin: 100% 0;
    margin: 0;
    outline-width: dt('overlaybadge.outline.width');
    outline-style: solid;
    outline-color: dt('overlaybadge.outline.color');
}
`,RG={root:"p-overlaybadge"},zT=(()=>{class t extends Vt{name="overlaybadge";theme=BG;classes=RG;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})(),ky=(()=>{class t extends Ot{styleClass;style;badgeSize;severity;value;badgeDisabled=!1;set size(e){this._size=e,!this.badgeSize&&this.size&&console.log("size property is deprecated and will removed in v18, use badgeSize instead.")}get size(){return this._size}_size;_componentStyle=lt(zT);constructor(){super()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Je({type:t,selectors:[["p-overlayBadge"],["p-overlay-badge"],["p-overlaybadge"]],inputs:{styleClass:"styleClass",style:"style",badgeSize:"badgeSize",severity:"severity",value:"value",badgeDisabled:[2,"badgeDisabled","badgeDisabled",we],size:"size"},features:[bt([zT]),gt],ngContentSelectors:zG,decls:3,vars:7,consts:[[1,"p-overlaybadge"],[3,"styleClass","badgeSize","severity","value","badgeDisabled"]],template:function(i,n){i&1&&($i(),L(0,"div",0),Pi(1),oe(2,"p-badge",1),D()),i&2&&(S(2),Ft(n.style),T("styleClass",n.styleClass)("badgeSize",n.badgeSize)("severity",n.severity)("value",n.value)("badgeDisabled",n.badgeDisabled))},dependencies:[mt,Go,Is,Xe],encapsulation:2,changeDetection:0})}return t})(),BT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[ky,Xe,Xe]})}return t})();var RT=`
    .p-scrollpanel-content-container {
        overflow: hidden;
        width: 100%;
        height: 100%;
        position: relative;
        z-index: 1;
        float: left;
    }

    .p-scrollpanel-content {
        height: calc(100% + calc(2 * dt('scrollpanel.bar.size')));
        width: calc(100% + calc(2 * dt('scrollpanel.bar.size')));
        padding-inline: 0 calc(2 * dt('scrollpanel.bar.size'));
        padding-block: 0 calc(2 * dt('scrollpanel.bar.size'));
        position: relative;
        overflow: auto;
        box-sizing: border-box;
        scrollbar-width: none;
    }

    .p-scrollpanel-content::-webkit-scrollbar {
        display: none;
    }

    .p-scrollpanel-bar {
        position: relative;
        border-radius: dt('scrollpanel.bar.border.radius');
        z-index: 2;
        cursor: pointer;
        opacity: 0;
        outline-color: transparent;
        background: dt('scrollpanel.bar.background');
        border: 0 none;
        transition:
            outline-color dt('scrollpanel.transition.duration'),
            opacity dt('scrollpanel.transition.duration');
    }

    .p-scrollpanel-bar:focus-visible {
        box-shadow: dt('scrollpanel.bar.focus.ring.shadow');
        outline: dt('scrollpanel.barfocus.ring.width') dt('scrollpanel.bar.focus.ring.style') dt('scrollpanel.bar.focus.ring.color');
        outline-offset: dt('scrollpanel.barfocus.ring.offset');
    }

    .p-scrollpanel-bar-y {
        width: dt('scrollpanel.bar.size');
        inset-block-start: 0;
    }

    .p-scrollpanel-bar-x {
        height: dt('scrollpanel.bar.size');
        inset-block-end: 0;
    }

    .p-scrollpanel-hidden {
        visibility: hidden;
    }

    .p-scrollpanel:hover .p-scrollpanel-bar,
    .p-scrollpanel:active .p-scrollpanel-bar {
        opacity: 1;
    }

    .p-scrollpanel-grabbed {
        user-select: none;
    }
`;var NT=["content"],qG=["xBar"],jG=["yBar"],HG=["*"];function GG(t,s){t&1&&Pi(0)}function UG(t,s){t&1&&nt(0)}var $G=`
    ${RT}

    .p-scrollpanel {
        display: block;
    }
`,KG={root:"p-scrollpanel p-component",contentContainer:"p-scrollpanel-content-container",content:"p-scrollpanel-content",barX:"p-scrollpanel-bar p-scrollpanel-bar-x",barY:"p-scrollpanel-bar p-scrollpanel-bar-y"},qT=(()=>{class t extends Vt{name="scrollpanel";theme=$G;classes=KG;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var WG=(()=>{class t extends Ot{styleClass;step=5;contentViewChild;xBarViewChild;yBarViewChild;contentTemplate;templates;_contentTemplate;scrollYRatio;scrollXRatio;timeoutFrame=e=>setTimeout(e,0);initialized=!1;lastPageY;lastPageX;isXBarClicked=!1;isYBarClicked=!1;lastScrollLeft=0;lastScrollTop=0;orientation="vertical";timer;contentId;windowResizeListener;contentScrollListener;mouseEnterListener;xBarMouseDownListener;yBarMouseDownListener;documentMouseMoveListener;documentMouseUpListener;_componentStyle=lt(qT);zone=lt(fo);ngOnInit(){super.ngOnInit(),this.contentId=xi("pn_id_")+"_content"}ngAfterViewInit(){super.ngAfterViewInit(),ci(this.platformId)&&this.zone.runOutsideAngular(()=>{this.moveBar(),this.moveBar=this.moveBar.bind(this),this.onXBarMouseDown=this.onXBarMouseDown.bind(this),this.onYBarMouseDown=this.onYBarMouseDown.bind(this),this.onDocumentMouseMove=this.onDocumentMouseMove.bind(this),this.onDocumentMouseUp=this.onDocumentMouseUp.bind(this),this.windowResizeListener=this.renderer.listen(window,"resize",this.moveBar),this.contentScrollListener=this.renderer.listen(this.contentViewChild.nativeElement,"scroll",this.moveBar),this.mouseEnterListener=this.renderer.listen(this.contentViewChild.nativeElement,"mouseenter",this.moveBar),this.xBarMouseDownListener=this.renderer.listen(this.xBarViewChild.nativeElement,"mousedown",this.onXBarMouseDown),this.yBarMouseDownListener=this.renderer.listen(this.yBarViewChild.nativeElement,"mousedown",this.onYBarMouseDown),this.calculateContainerHeight(),this.initialized=!0})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}calculateContainerHeight(){let e=this.el.nativeElement,i=this.contentViewChild.nativeElement,n=this.xBarViewChild.nativeElement,a=this.document.defaultView,p=a.getComputedStyle(e),y=a.getComputedStyle(n),C=pf(e)-parseInt(y.height,10);p["max-height"]!="none"&&C==0&&(i.offsetHeight+parseInt(y.height,10)>parseInt(p["max-height"],10)?e.style.height=p["max-height"]:e.style.height=i.offsetHeight+parseFloat(p.paddingTop)+parseFloat(p.paddingBottom)+parseFloat(p.borderTopWidth)+parseFloat(p.borderBottomWidth)+"px")}moveBar(){let e=this.el.nativeElement,i=this.contentViewChild.nativeElement,n=this.xBarViewChild.nativeElement,a=i.scrollWidth,p=i.clientWidth,y=(e.clientHeight-n.clientHeight)*-1;this.scrollXRatio=p/a;let C=this.yBarViewChild.nativeElement,A=i.scrollHeight,R=i.clientHeight,$=(e.clientWidth-C.clientWidth)*-1;this.scrollYRatio=R/A,this.requestAnimationFrame(()=>{if(this.scrollXRatio>=1)n.setAttribute("data-p-scrollpanel-hidden","true"),Bn(n,"p-scrollpanel-hidden");else{n.setAttribute("data-p-scrollpanel-hidden","false"),Sa(n,"p-scrollpanel-hidden");let Y=Math.max(this.scrollXRatio*100,10),re=Math.abs(i.scrollLeft*(100-Y)/(a-p));n.style.cssText="width:"+Y+"%; inset-inline-start:"+re+"%;bottom:"+y+"px;"}if(this.scrollYRatio>=1)C.setAttribute("data-p-scrollpanel-hidden","true"),Bn(C,"p-scrollpanel-hidden");else{C.setAttribute("data-p-scrollpanel-hidden","false"),Sa(C,"p-scrollpanel-hidden");let Y=Math.max(this.scrollYRatio*100,10),re=i.scrollTop*(100-Y)/(A-R);C.style.cssText="height:"+Y+"%; top: calc("+re+"% - "+n.clientHeight+"px); inset-inline-end:"+$+"px;"}}),this.cd.markForCheck()}onScroll(e){this.lastScrollLeft!==e.target.scrollLeft?(this.lastScrollLeft=e.target.scrollLeft,this.orientation="horizontal"):this.lastScrollTop!==e.target.scrollTop&&(this.lastScrollTop=e.target.scrollTop,this.orientation="vertical"),this.moveBar()}onKeyDown(e){if(this.orientation==="vertical")switch(e.code){case"ArrowDown":{this.setTimer("scrollTop",this.step),e.preventDefault();break}case"ArrowUp":{this.setTimer("scrollTop",this.step*-1),e.preventDefault();break}case"ArrowLeft":case"ArrowRight":{e.preventDefault();break}default:break}else if(this.orientation==="horizontal")switch(e.code){case"ArrowRight":{this.setTimer("scrollLeft",this.step),e.preventDefault();break}case"ArrowLeft":{this.setTimer("scrollLeft",this.step*-1),e.preventDefault();break}case"ArrowDown":case"ArrowUp":{e.preventDefault();break}default:break}}onKeyUp(){this.clearTimer()}repeat(e,i){this.contentViewChild.nativeElement[e]+=i,this.moveBar()}setTimer(e,i){this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,i)},40)}clearTimer(){this.timer&&clearTimeout(this.timer)}bindDocumentMouseListeners(){this.documentMouseMoveListener||(this.documentMouseMoveListener=e=>{this.onDocumentMouseMove(e)},this.document.addEventListener("mousemove",this.documentMouseMoveListener)),this.documentMouseUpListener||(this.documentMouseUpListener=e=>{this.onDocumentMouseUp(e)},this.document.addEventListener("mouseup",this.documentMouseUpListener))}unbindDocumentMouseListeners(){this.documentMouseMoveListener&&(this.document.removeEventListener("mousemove",this.documentMouseMoveListener),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(document.removeEventListener("mouseup",this.documentMouseUpListener),this.documentMouseUpListener=null)}onYBarMouseDown(e){this.isYBarClicked=!0,this.yBarViewChild.nativeElement.focus(),this.lastPageY=e.pageY,this.yBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","true"),Bn(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","true"),Bn(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),e.preventDefault()}onXBarMouseDown(e){this.isXBarClicked=!0,this.xBarViewChild.nativeElement.focus(),this.lastPageX=e.pageX,this.xBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","false"),Bn(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","false"),Bn(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),e.preventDefault()}onDocumentMouseMove(e){this.isXBarClicked?this.onMouseMoveForXBar(e):this.isYBarClicked?this.onMouseMoveForYBar(e):(this.onMouseMoveForXBar(e),this.onMouseMoveForYBar(e))}onMouseMoveForXBar(e){let i=e.pageX-this.lastPageX;this.lastPageX=e.pageX,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollLeft+=i/this.scrollXRatio})}onMouseMoveForYBar(e){let i=e.pageY-this.lastPageY;this.lastPageY=e.pageY,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollTop+=i/this.scrollYRatio})}scrollTop(e){let i=this.contentViewChild.nativeElement.scrollHeight-this.contentViewChild.nativeElement.clientHeight;e=e>i?i:e>0?e:0,this.contentViewChild.nativeElement.scrollTop=e}onFocus(e){this.xBarViewChild.nativeElement.isSameNode(e.target)?this.orientation="horizontal":this.yBarViewChild.nativeElement.isSameNode(e.target)&&(this.orientation="vertical")}onBlur(){this.orientation==="horizontal"&&(this.orientation="vertical")}onDocumentMouseUp(e){this.yBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","false"),Sa(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.xBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","false"),Sa(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","false"),Sa(this.document.body,"p-scrollpanel-grabbed"),this.unbindDocumentMouseListeners(),this.isXBarClicked=!1,this.isYBarClicked=!1}requestAnimationFrame(e){(window.requestAnimationFrame||this.timeoutFrame)(e)}unbindListeners(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null),this.contentScrollListener&&(this.contentScrollListener(),this.contentScrollListener=null),this.mouseEnterListener&&(this.mouseEnterListener(),this.mouseEnterListener=null),this.xBarMouseDownListener&&(this.xBarMouseDownListener(),this.xBarMouseDownListener=null),this.yBarMouseDownListener&&(this.yBarMouseDownListener(),this.yBarMouseDownListener=null)}ngOnDestroy(){this.initialized&&this.unbindListeners()}refresh(){this.moveBar()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-scroll-panel"],["p-scrollPanel"],["p-scrollpanel"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,NT,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.contentTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&(dt(NT,5),dt(qG,5),dt(jG,5)),i&2){let a;le(a=ce())&&(n.contentViewChild=a.first),le(a=ce())&&(n.xBarViewChild=a.first),le(a=ce())&&(n.yBarViewChild=a.first)}},hostAttrs:["data-pc-name","scrollpanel"],hostVars:2,hostBindings:function(i,n){i&2&&K(n.cn(n.cx("root"),n.styleClass))},inputs:{styleClass:"styleClass",step:[2,"step","step",Tt]},features:[bt([qT]),gt],ngContentSelectors:HG,decls:9,vars:20,consts:[["content",""],["xBar",""],["yBar",""],[3,"mouseenter","scroll"],[4,"ngTemplateOutlet"],["tabindex","0","role","scrollbar",3,"mousedown","keydown","keyup","focus","blur"],["tabindex","0","role","scrollbar",3,"mousedown","keydown","keyup","focus"]],template:function(i,n){if(i&1){let a=Re();$i(),L(0,"div")(1,"div",3,0),Ie("mouseenter",function(){return Z(a),X(n.moveBar())})("scroll",function(y){return Z(a),X(n.onScroll(y))}),Gi(3,GG,1,0),B(4,UG,1,0,"ng-container",4),D()(),L(5,"div",5,1),Ie("mousedown",function(y){return Z(a),X(n.onXBarMouseDown(y))})("keydown",function(y){return Z(a),X(n.onKeyDown(y))})("keyup",function(){return Z(a),X(n.onKeyUp())})("focus",function(y){return Z(a),X(n.onFocus(y))})("blur",function(){return Z(a),X(n.onBlur())}),D(),L(7,"div",6,2),Ie("mousedown",function(y){return Z(a),X(n.onYBarMouseDown(y))})("keydown",function(y){return Z(a),X(n.onKeyDown(y))})("keyup",function(){return Z(a),X(n.onKeyUp())})("focus",function(y){return Z(a),X(n.onFocus(y))}),D()}i&2&&(K(n.cx("contentContainer")),ue("data-pc-section","wrapper"),S(),K(n.cx("content")),ue("data-pc-section","content"),S(2),Ui(!n.contentTemplate&&!n._contentTemplate?3:-1),S(),T("ngTemplateOutlet",n.contentTemplate||n._contentTemplate),S(),K(n.cx("barX")),ue("aria-orientation","horizontal")("aria-valuenow",n.lastScrollLeft)("data-pc-section","barx")("aria-controls",n.contentId),S(2),K(n.cx("barY")),ue("aria-orientation","vertical")("aria-valuenow",n.lastScrollTop)("data-pc-section","bary")("aria-controls",n.contentId))},dependencies:[mt,ei,Xe],encapsulation:2,changeDetection:0})}return t})(),jT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[WG,Xe,Xe]})}return t})();var HT=`
    .p-scrolltop.p-button {
        position: fixed !important;
        inset-block-end: 20px;
        inset-inline-end: 20px;
    }

    .p-scrolltop-sticky.p-button {
        position: sticky !important;
        display: flex;
        margin-inline-start: auto;
    }

    .p-scrolltop-enter-from {
        opacity: 0;
    }

    .p-scrolltop-enter-active {
        transition: opacity 0.15s;
    }

    .p-scrolltop.p-scrolltop-leave-to {
        opacity: 0;
    }

    .p-scrolltop-leave-active {
        transition: opacity 0.15s;
    }
`;var QG=["icon"],ZG=(t,s)=>({showTransitionParams:t,hideTransitionParams:s}),XG=t=>({value:"open",params:t}),YG=t=>({styleClass:t});function JG(t,s){if(t&1&&oe(0,"span"),t&2){let e=M(4);K(e.cn(e.cx("icon"),e._icon))}}function eU(t,s){if(t&1&&(it(),oe(0,"svg",7)),t&2){let e=M(4);K(e.cx("icon"))}}function tU(t,s){if(t&1&&(We(0),B(1,JG,1,2,"span",5)(2,eU,1,2,"svg",6),Qe()),t&2){let e=M(3);S(),T("ngIf",e._icon),S(),T("ngIf",!e._icon)}}function iU(t,s){}function nU(t,s){if(t&1&&B(0,iU,0,0,"ng-template",8),t&2){M(2);let e=Ut(2);T("ngIf",!e)}}function aU(t,s){if(t&1&&B(0,tU,3,2,"ng-container",3)(1,nU,1,1,null,4),t&2){let e=M(2);T("ngIf",!e.iconTemplate&&!e._iconTemplate),S(),T("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)("ngTemplateOutletContext",rt(3,YG,e.cx("icon")))}}function oU(t,s){if(t&1){let e=Re();L(0,"p-button",2),Ie("@animation.start",function(n){Z(e);let a=M();return X(a.onEnter(n))})("@animation.done",function(n){Z(e);let a=M();return X(a.onLeave(n))})("click",function(){Z(e);let n=M();return X(n.onClick())}),B(1,aU,2,5,"ng-template",null,0,Be),D()}if(t&2){let e=M();T("@animation",rt(8,XG,li(5,ZG,e.showTransitionOptions,e.hideTransitionOptions)))("styleClass",e.cn(e.cx("root"),e.styleClass))("ngStyle",e.style)("buttonProps",e.buttonProps),ue("aria-label",e.buttonAriaLabel)}}var rU={root:({instance:t})=>["p-scrolltop",{"p-scrolltop-sticky":t.target!=="window"}],icon:"p-scrolltop-icon"},GT=(()=>{class t extends Vt{name="scrolltop";theme=HT;classes=rU;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var sU=(()=>{class t extends Ot{styleClass;style;target="window";threshold=400;get icon(){return this._icon}behavior="smooth";showTransitionOptions=".15s";hideTransitionOptions=".15s";buttonAriaLabel;buttonProps={rounded:!0,severity:"success"};iconTemplate;templates;_iconTemplate;_icon;set icon(e){this._icon=e}documentScrollListener;parentScrollListener;visible=!1;overlay;_componentStyle=lt(GT);ngOnInit(){super.ngOnInit(),this.target==="window"?this.bindDocumentScrollListener():this.target==="parent"&&this.bindParentScrollListener()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"icon":this._iconTemplate=e.template;break}})}onClick(){(this.target==="window"?this.document.defaultView:this.el.nativeElement.parentElement).scroll({top:0,behavior:this.behavior})}onEnter(e){switch(e.toState){case"open":this.overlay=e.element,Zi.set("overlay",this.overlay,this.config.zIndex.overlay);break;case"void":this.overlay=null;break}}onLeave(e){switch(e.toState){case"void":Zi.clear(e.element);break}}checkVisibility(e){e>this.threshold?this.visible=!0:this.visible=!1,this.cd.markForCheck()}bindParentScrollListener(){ci(this.platformId)&&(this.parentScrollListener=this.renderer.listen(this.el.nativeElement.parentElement,"scroll",()=>{this.checkVisibility(this.el.nativeElement.parentElement.scrollTop)}))}bindDocumentScrollListener(){ci(this.platformId)&&(this.documentScrollListener=this.renderer.listen(this.document.defaultView,"scroll",()=>{this.checkVisibility(uf())}))}unbindParentScrollListener(){this.parentScrollListener&&(this.parentScrollListener(),this.parentScrollListener=null)}unbindDocumentScrollListener(){this.documentScrollListener&&(this.documentScrollListener(),this.documentScrollListener=null)}ngOnDestroy(){this.target==="window"?this.unbindDocumentScrollListener():this.target==="parent"&&this.unbindParentScrollListener(),this.overlay&&(Zi.clear(this.overlay),this.overlay=null),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-scrollTop"],["p-scrolltop"],["p-scroll-top"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,QG,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.iconTemplate=p.first),le(p=ce())&&(n.templates=p)}},inputs:{styleClass:"styleClass",style:"style",target:"target",threshold:[2,"threshold","threshold",Tt],icon:"icon",behavior:"behavior",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",buttonAriaLabel:"buttonAriaLabel",buttonProps:"buttonProps"},features:[bt([GT]),gt],decls:1,vars:1,consts:[["icon",""],["type","button",3,"styleClass","ngStyle","buttonProps","click",4,"ngIf"],["type","button",3,"click","styleClass","ngStyle","buttonProps"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class",4,"ngIf"],["data-p-icon","chevron-up",3,"class",4,"ngIf"],["data-p-icon","chevron-up"],[3,"ngIf"]],template:function(i,n){i&1&&B(0,oU,3,10,"p-button",1),i&2&&T("ngIf",n.visible)},dependencies:[mt,$t,ei,bi,Lu,qi,Xe],encapsulation:2,data:{animation:[ra("animation",[to("void",Ri({opacity:0})),to("open",Ri({opacity:1})),Ni("void => open",Ki("{{showTransitionParams}}")),Ni("open => void",Ki("{{hideTransitionParams}}"))])]},changeDetection:0})}return t})(),UT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[sU,Xe,Xe]})}return t})();var $T=`
    .p-skeleton {
        display: block;
        overflow: hidden;
        background: dt('skeleton.background');
        border-radius: dt('skeleton.border.radius');
    }

    .p-skeleton::after {
        content: '';
        animation: p-skeleton-animation 1.2s infinite;
        height: 100%;
        left: 0;
        position: absolute;
        right: 0;
        top: 0;
        transform: translateX(-100%);
        z-index: 1;
        background: linear-gradient(90deg, rgba(255, 255, 255, 0), dt('skeleton.animation.background'), rgba(255, 255, 255, 0));
    }

    [dir='rtl'] .p-skeleton::after {
        animation-name: p-skeleton-animation-rtl;
    }

    .p-skeleton-circle {
        border-radius: 50%;
    }

    .p-skeleton-animation-none::after {
        animation: none;
    }

    @keyframes p-skeleton-animation {
        from {
            transform: translateX(-100%);
        }
        to {
            transform: translateX(100%);
        }
    }

    @keyframes p-skeleton-animation-rtl {
        from {
            transform: translateX(100%);
        }
        to {
            transform: translateX(-100%);
        }
    }
`;var lU={root:{position:"relative"}},cU={root:({instance:t})=>["p-skeleton p-component",{"p-skeleton-circle":t.shape==="circle","p-skeleton-animation-none":t.animation==="none"}]},KT=(()=>{class t extends Vt{name="skeleton";theme=$T;classes=cU;inlineStyles=lU;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var Ey=(()=>{class t extends Ot{styleClass;shape="rectangle";animation="wave";borderRadius;size;width="100%";height="1rem";_componentStyle=lt(KT);get containerStyle(){let e=this._componentStyle?.inlineStyles.root,i;return this.size?i=Ta(ai({},e),{width:this.size,height:this.size,borderRadius:this.borderRadius}):i=Ta(ai({},e),{width:this.width,height:this.height,borderRadius:this.borderRadius}),i}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-skeleton"]],hostVars:7,hostBindings:function(i,n){i&2&&(ue("aria-hidden",!0)("data-pc-name","skeleton")("data-pc-section","root"),Ft(n.containerStyle),K(n.cn(n.cx("root"),n.styleClass)))},inputs:{styleClass:"styleClass",shape:"shape",animation:"animation",borderRadius:"borderRadius",size:"size",width:"width",height:"height"},features:[bt([KT]),gt],decls:0,vars:0,template:function(i,n){},dependencies:[mt,Xe],encapsulation:2,changeDetection:0})}return t})(),WT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[Ey,Xe,Xe]})}return t})();var QT=()=>({"background-color":"#9c27b0",color:"#ffffff"}),pU=()=>({"background-color":"#2196F3",color:"#ffffff"}),Xg=class t{value=0;interval;ngOnInit(){this.interval=setInterval(()=>{this.value=this.value+Math.floor(Math.random()*10)+1,this.value>=100&&(this.value=100,clearInterval(this.interval))},2e3)}ngOnDestroy(){clearInterval(this.interval)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Je({type:t,selectors:[["app-misc-demo"]],decls:126,vars:24,consts:[[1,"card"],[1,"font-semibold","text-xl","mb-4"],[1,"flex","flex-col","md:flex-row","gap-4"],[1,"md:w-1/2"],[3,"value","showValue"],[1,"flex","flex-col","md:flex-row","gap-8"],[1,"flex","gap-2"],["value","2"],["value","8","severity","success"],["value","4","severity","info"],["value","12","severity","warn"],["value","3","severity","danger"],[1,"font-semibold","my-4"],[1,"flex","gap-6"],[1,"pi","pi-bell",2,"font-size","2rem"],["value","4","severity","danger"],[1,"pi","pi-calendar",2,"font-size","2rem"],["severity","danger"],[1,"pi","pi-envelope",2,"font-size","2rem"],["label","Emails","badge","8"],["label","Messages","icon","pi pi-users","severity","warn","badge","8","badgeSeverity","danger"],[1,"flex","items-start","gap-2"],[3,"value"],["badgeSize","large","severity","warn",3,"value"],["badgeSize","xlarge","severity","success",3,"value"],[1,"font-semibold","mb-4"],["styleClass","mb-4"],["image","https://primefaces.org/cdn/primeng/images/demo/avatar/amyelsner.png","size","large","shape","circle"],["image","https://primefaces.org/cdn/primeng/images/demo/avatar/asiyajavayant.png","size","large","shape","circle"],["image","https://primefaces.org/cdn/primeng/images/demo/avatar/onyamalimba.png","size","large","shape","circle"],["image","https://primefaces.org/cdn/primeng/images/demo/avatar/ionibowcher.png","size","large","shape","circle"],["image","https://primefaces.org/cdn/primeng/images/demo/avatar/xuxuefeng.png","size","large","shape","circle"],["label","+2","shape","circle","size","large"],["label","P","size","xlarge","shape","circle",1,"mr-2"],["label","V","size","large","shape","circle",1,"mr-2"],["label","U","shape","circle",1,"mr-2"],["value","4","severity","danger",1,"inline-flex"],["label","U","size","xlarge"],[1,"rounded-border","border","border-surface","p-6"],[1,"flex","mb-4"],["shape","circle","size","4rem","styleClass","mr-2"],["width","10rem","styleClass","mb-2"],["width","5rem","styleClass","mb-2"],["height",".5rem"],["width","100%","height","150px"],[1,"flex","justify-between","mt-4"],["width","4rem","height","2rem"],["value","Primary"],["severity","success","value","Success"],["severity","info","value","Info"],["severity","warn","value","Warning"],["severity","danger","value","Danger"],["value","Primary",3,"rounded"],["severity","success","value","Success",3,"rounded"],["severity","info","value","Info",3,"rounded"],["severity","warn","value","Warning",3,"rounded"],["severity","danger","value","Danger",3,"rounded"],["icon","pi pi-user","value","Primary"],["icon","pi pi-check","severity","success","value","Success"],["icon","pi pi-info-circle","severity","info","value","Info"],["icon","pi pi-exclamation-triangle","severity","warn","value","Warning"],["icon","pi pi-times","severity","danger","value","Danger"],[1,"flex","items-center","flex-col","sm:flex-row"],["label","Action","styleClass","m-1"],["label","Comedy","styleClass","m-1"],["label","Mystery","styleClass","m-1"],["label","Thriller","styleClass","m-1",3,"removable"],["label","Apple","icon","pi pi-apple","styleClass","m-1"],["label","Facebook","icon","pi pi-facebook","styleClass","m-1"],["label","Google","icon","pi pi-google","styleClass","m-1"],["label","Microsoft","icon","pi pi-microsoft","styleClass","m-1",3,"removable"],["label","Amy Elsner","image","https://primefaces.org/cdn/primeng/images/demo/avatar/amyelsner.png","styleClass","m-1"],["label","Asiya Javayant","image","https://primefaces.org/cdn/primeng/images/demo/avatar/asiyajavayant.png","styleClass","m-1"],["label","Onyama Limba","image","https://primefaces.org/cdn/primeng/images/demo/avatar/onyamalimba.png","styleClass","m-1"],["label","Xuxue Feng","image","https://primefaces.org/cdn/primeng/images/demo/avatar/xuxuefeng.png","styleClass","m-1",3,"removable"]],template:function(e,i){e&1&&(L(0,"div",0)(1,"div",1),ne(2,"ProgressBar"),D(),L(3,"div",2)(4,"div",3),oe(5,"p-progressbar",4),D(),L(6,"div",3),oe(7,"p-progressbar",4),D()()(),L(8,"div",5)(9,"div",3)(10,"div",0)(11,"div",1),ne(12,"Badge"),D(),L(13,"div",6),oe(14,"p-badge",7)(15,"p-badge",8)(16,"p-badge",9)(17,"p-badge",10)(18,"p-badge",11),D(),L(19,"div",12),ne(20,"Overlay"),D(),L(21,"div",13)(22,"p-overlaybadge",7),oe(23,"i",14),D(),L(24,"p-overlaybadge",15),oe(25,"i",16),D(),L(26,"p-overlaybadge",17),oe(27,"i",18),D()(),L(28,"div",12),ne(29,"Button"),D(),L(30,"div",6),oe(31,"p-button",19)(32,"p-button",20),D(),L(33,"div",12),ne(34,"Sizes"),D(),L(35,"div",21),oe(36,"p-badge",22)(37,"p-badge",23)(38,"p-badge",24),D()(),L(39,"div",0)(40,"div",1),ne(41,"Avatar"),D(),L(42,"div",25),ne(43,"Group"),D(),L(44,"p-avatargroup",26),oe(45,"p-avatar",27)(46,"p-avatar",28)(47,"p-avatar",29)(48,"p-avatar",30)(49,"p-avatar",31)(50,"p-avatar",32),D(),L(51,"div",12),ne(52,"Label - Circle"),D(),oe(53,"p-avatar",33)(54,"p-avatar",34)(55,"p-avatar",35),L(56,"div",12),ne(57,"Icon - Badge"),D(),L(58,"p-overlaybadge",36),oe(59,"p-avatar",37),D()(),L(60,"div",0)(61,"div",1),ne(62,"Skeleton"),D(),L(63,"div",38)(64,"div",39),oe(65,"p-skeleton",40),L(66,"div"),oe(67,"p-skeleton",41)(68,"p-skeleton",42)(69,"p-skeleton",43),D()(),oe(70,"p-skeleton",44),L(71,"div",45),oe(72,"p-skeleton",46)(73,"p-skeleton",46),D()()()(),L(74,"div",3)(75,"div",0)(76,"div",1),ne(77,"Tag"),D(),L(78,"div",25),ne(79,"Default"),D(),L(80,"div",6),oe(81,"p-tag",47)(82,"p-tag",48)(83,"p-tag",49)(84,"p-tag",50)(85,"p-tag",51),D(),L(86,"div",12),ne(87,"Pills"),D(),L(88,"div",6),oe(89,"p-tag",52)(90,"p-tag",53)(91,"p-tag",54)(92,"p-tag",55)(93,"p-tag",56),D(),L(94,"div",12),ne(95,"Icons"),D(),L(96,"div",6),oe(97,"p-tag",57)(98,"p-tag",58)(99,"p-tag",59)(100,"p-tag",60)(101,"p-tag",61),D()(),L(102,"div",0)(103,"div",1),ne(104,"Chip"),D(),L(105,"div",25),ne(106,"Basic"),D(),L(107,"div",62),oe(108,"p-chip",63)(109,"p-chip",64)(110,"p-chip",65)(111,"p-chip",66),D(),L(112,"div",12),ne(113,"Icon"),D(),L(114,"div",62),oe(115,"p-chip",67)(116,"p-chip",68)(117,"p-chip",69)(118,"p-chip",70),D(),L(119,"div",12),ne(120,"Image"),D(),L(121,"div",62),oe(122,"p-chip",71)(123,"p-chip",72)(124,"p-chip",73)(125,"p-chip",74),D()()()()),e&2&&(S(5),T("value",i.value)("showValue",!0),S(2),T("value",50)("showValue",!1),S(29),T("value",2),S(),T("value",4),S(),T("value",6),S(12),Ft(Kt(21,QT)),S(4),Ft(Kt(22,pU)),S(),Ft(Kt(23,QT)),S(34),T("rounded",!0),S(),T("rounded",!0),S(),T("rounded",!0),S(),T("rounded",!0),S(),T("rounded",!0),S(18),T("removable",!0),S(7),T("removable",!0),S(7),T("removable",!0))},dependencies:[mt,Df,Pf,Go,Is,nw,iw,jT,uc,cc,Sw,dc,Fi,qi,WT,Ey,VT,My,UT,BT,ky],encapsulation:2})};var ZT=`
    .p-fieldset {
        background: dt('fieldset.background');
        border: 1px solid dt('fieldset.border.color');
        border-radius: dt('fieldset.border.radius');
        color: dt('fieldset.color');
        padding: dt('fieldset.padding');
        margin: 0;
    }

    .p-fieldset-legend {
        background: dt('fieldset.legend.background');
        border-radius: dt('fieldset.legend.border.radius');
        border-width: dt('fieldset.legend.border.width');
        border-style: solid;
        border-color: dt('fieldset.legend.border.color');
        padding: dt('fieldset.legend.padding');
        transition:
            background dt('fieldset.transition.duration'),
            color dt('fieldset.transition.duration'),
            outline-color dt('fieldset.transition.duration'),
            box-shadow dt('fieldset.transition.duration');
    }

    .p-fieldset-toggleable > .p-fieldset-legend {
        padding: 0;
    }

    .p-fieldset-toggle-button {
        cursor: pointer;
        user-select: none;
        overflow: hidden;
        position: relative;
        text-decoration: none;
        display: flex;
        gap: dt('fieldset.legend.gap');
        align-items: center;
        justify-content: center;
        padding: dt('fieldset.legend.padding');
        background: transparent;
        border: 0 none;
        border-radius: dt('fieldset.legend.border.radius');
        transition:
            background dt('fieldset.transition.duration'),
            color dt('fieldset.transition.duration'),
            outline-color dt('fieldset.transition.duration'),
            box-shadow dt('fieldset.transition.duration');
        outline-color: transparent;
    }

    .p-fieldset-legend-label {
        font-weight: dt('fieldset.legend.font.weight');
    }

    .p-fieldset-toggle-button:focus-visible {
        box-shadow: dt('fieldset.legend.focus.ring.shadow');
        outline: dt('fieldset.legend.focus.ring.width') dt('fieldset.legend.focus.ring.style') dt('fieldset.legend.focus.ring.color');
        outline-offset: dt('fieldset.legend.focus.ring.offset');
    }

    .p-fieldset-toggleable > .p-fieldset-legend:hover {
        color: dt('fieldset.legend.hover.color');
        background: dt('fieldset.legend.hover.background');
    }

    .p-fieldset-toggle-icon {
        color: dt('fieldset.toggle.icon.color');
        transition: color dt('fieldset.transition.duration');
    }

    .p-fieldset-toggleable > .p-fieldset-legend:hover .p-fieldset-toggle-icon {
        color: dt('fieldset.toggle.icon.hover.color');
    }

    .p-fieldset .p-fieldset-content {
        padding: dt('fieldset.content.padding');
    }
`;var hU=["header"],mU=["expandicon"],fU=["collapseicon"],gU=["content"],_U=["*",[["p-header"]]],bU=["*","p-header"],yU=t=>({transitionParams:t,height:"0"}),vU=t=>({value:"hidden",params:t}),xU=t=>({transitionParams:t,height:"*"}),wU=t=>({value:"visible",params:t});function IU(t,s){if(t&1&&(it(),oe(0,"svg",9)),t&2){let e=M(3);K(e.cx("toggleIcon")),ue("data-pc-section","togglericon")}}function TU(t,s){t&1&&nt(0)}function CU(t,s){if(t&1&&(L(0,"span"),B(1,TU,1,0,"ng-container",4),D()),t&2){let e=M(3);K(e.cx("toggleIcon")),ue("data-pc-section","togglericon"),S(),T("ngTemplateOutlet",e.expandIconTemplate||e._expandIconTemplate)}}function SU(t,s){if(t&1&&(We(0),B(1,IU,1,3,"svg",7)(2,CU,2,4,"span",8),Qe()),t&2){let e=M(2);S(),T("ngIf",!e.expandIconTemplate&&!e._expandIconTemplate),S(),T("ngIf",e.expandIconTemplate||e._expandIconTemplate)}}function MU(t,s){if(t&1&&(it(),oe(0,"svg",11)),t&2){let e=M(3);K(e.cx("toggleIcon")),ue("aria-hidden",!0)("data-pc-section","togglericon")}}function kU(t,s){t&1&&nt(0)}function EU(t,s){if(t&1&&(L(0,"span"),B(1,kU,1,0,"ng-container",4),D()),t&2){let e=M(3);K(e.cx("toggleIcon")),ue("data-pc-section","togglericon"),S(),T("ngTemplateOutlet",e.collapseIconTemplate||e._collapseIconTemplate)}}function PU(t,s){if(t&1&&(We(0),B(1,MU,1,4,"svg",10)(2,EU,2,4,"span",8),Qe()),t&2){let e=M(2);S(),T("ngIf",!e.collapseIconTemplate&&!e._collapseIconTemplate),S(),T("ngIf",e.collapseIconTemplate||e._collapseIconTemplate)}}function DU(t,s){t&1&&nt(0)}function LU(t,s){if(t&1){let e=Re();We(0),L(1,"button",5),Ie("click",function(n){Z(e);let a=M();return X(a.toggle(n))})("keydown",function(n){Z(e);let a=M();return X(a.onKeyDown(n))}),B(2,SU,3,2,"ng-container",6)(3,PU,3,2,"ng-container",6)(4,DU,1,0,"ng-container",4),D(),Qe()}if(t&2){let e=M(),i=Ut(4);S(),K(e.cx("toggleButton")),ue("id",e.id+"_header")("aria-controls",e.id+"_content")("aria-expanded",!e.collapsed)("aria-label",e.buttonAriaLabel),S(),T("ngIf",e.collapsed),S(),T("ngIf",!e.collapsed),S(),T("ngTemplateOutlet",i)}}function AU(t,s){t&1&&nt(0)}function FU(t,s){if(t&1&&(L(0,"span"),ne(1),D(),Pi(2,1),B(3,AU,1,0,"ng-container",4)),t&2){let e=M();K(e.cx("legendLabel")),ue("data-pc-section","legendtitle"),S(),Dt(e.legend),S(2),T("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)}}function OU(t,s){t&1&&nt(0)}var VU=`
    ${ZT}

    /* For PrimeNG */
    .p-fieldset-collapsed > .p-fieldset-content-container,
    .p-fieldset-content-container.ng-animating {
        overflow: hidden;
    }
`,zU={root:({instance:t})=>["p-fieldset p-component",{"p-fieldset-toggleable":t.toggleable,"p-fieldset-collapsed":t.collapsed&&t.toggleable}],legend:"p-fieldset-legend",legendLabel:"p-fieldset-legend-label",toggleButton:"p-fieldset-toggle-button",toggleIcon:"p-fieldset-toggle-icon",contentContainer:"p-fieldset-content-container",content:"p-fieldset-content"},XT=(()=>{class t extends Vt{name="fieldset";theme=VU;classes=zU;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var Py=(()=>{class t extends Ot{legend;toggleable;collapsed=!1;style;styleClass;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";collapsedChange=new Fe;onBeforeToggle=new Fe;onAfterToggle=new Fe;get id(){return xi("pn_id_")}get buttonAriaLabel(){return this.legend}animating;_componentStyle=lt(XT);headerTemplate;expandIconTemplate;collapseIconTemplate;contentTemplate;toggle(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.collapsed?this.expand():this.collapse(),this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed}),e.preventDefault()}onKeyDown(e){(e.code==="Enter"||e.code==="Space")&&(this.toggle(e),e.preventDefault())}expand(){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(){this.animating=!1}_headerTemplate;_expandIconTemplate;_collapseIconTemplate;_contentTemplate;templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"expandicon":this._expandIconTemplate=e.template;break;case"collapseicon":this._collapseIconTemplate=e.template;break;case"content":this._contentTemplate=e.template;break}})}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-fieldset"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,hU,4),ve(a,mU,4),ve(a,fU,4),ve(a,gU,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.headerTemplate=p.first),le(p=ce())&&(n.expandIconTemplate=p.first),le(p=ce())&&(n.collapseIconTemplate=p.first),le(p=ce())&&(n.contentTemplate=p.first),le(p=ce())&&(n.templates=p)}},inputs:{legend:"legend",toggleable:[2,"toggleable","toggleable",we],collapsed:[2,"collapsed","collapsed",we],style:"style",styleClass:"styleClass",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},features:[bt([XT]),gt],ngContentSelectors:bU,decls:9,vars:30,consts:[["legendContent",""],[3,"ngStyle"],[4,"ngIf","ngIfElse"],["role","region"],[4,"ngTemplateOutlet"],["tabindex","0","role","button",3,"click","keydown"],[4,"ngIf"],["data-p-icon","plus",3,"class",4,"ngIf"],[3,"class",4,"ngIf"],["data-p-icon","plus"],["data-p-icon","minus",3,"class",4,"ngIf"],["data-p-icon","minus"]],template:function(i,n){if(i&1){let a=Re();$i(_U),L(0,"fieldset",1)(1,"legend"),B(2,LU,5,9,"ng-container",2)(3,FU,4,5,"ng-template",null,0,Be),D(),L(5,"div",3),Ie("@fieldsetContent.done",function(){return Z(a),X(n.onToggleDone())}),L(6,"div"),Pi(7),B(8,OU,1,0,"ng-container",4),D()()()}if(i&2){let a=Ut(4);K(n.cn(n.cx("root"),n.styleClass)),T("ngStyle",n.style),ue("id",n.id)("data-pc-name","fieldset")("data-pc-section","root"),S(),K(n.cx("legend")),ue("data-pc-section","legend"),S(),T("ngIf",n.toggleable)("ngIfElse",a),S(3),K(n.cx("contentContainer")),T("@fieldsetContent",n.collapsed?rt(24,vU,rt(22,yU,n.transitionOptions)):rt(28,wU,rt(26,xU,n.animating?n.transitionOptions:"0ms"))),ue("id",n.id+"_content")("aria-labelledby",n.id+"_header")("aria-hidden",n.collapsed)("data-pc-section","toggleablecontent"),S(),K(n.cx("content")),ue("data-pc-section","content"),S(2),T("ngTemplateOutlet",n.contentTemplate||n._contentTemplate)}},dependencies:[mt,$t,ei,bi,jf,vf,Xe],encapsulation:2,data:{animation:[ra("fieldsetContent",[to("hidden",Ri({height:"0"})),to("visible",Ri({height:"*"})),Ni("visible <=> hidden",[Ki("{{transitionParams}}")]),Ni("void => *",Ki(0))])]},changeDetection:0})}return t})(),YT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[Py,Xe,Xe]})}return t})();var JT=`
    .p-panel {
        display: block;
        border: 1px solid dt('panel.border.color');
        border-radius: dt('panel.border.radius');
        background: dt('panel.background');
        color: dt('panel.color');
    }

    .p-panel-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: dt('panel.header.padding');
        background: dt('panel.header.background');
        color: dt('panel.header.color');
        border-style: solid;
        border-width: dt('panel.header.border.width');
        border-color: dt('panel.header.border.color');
        border-radius: dt('panel.header.border.radius');
    }

    .p-panel-toggleable .p-panel-header {
        padding: dt('panel.toggleable.header.padding');
    }

    .p-panel-title {
        line-height: 1;
        font-weight: dt('panel.title.font.weight');
    }

    .p-panel-content {
        padding: dt('panel.content.padding');
    }

    .p-panel-footer {
        padding: dt('panel.footer.padding');
    }
`;var RU=["header"],NU=["icons"],qU=["content"],jU=["footer"],HU=["headericons"],GU=["contentWrapper"],UU=["*",[["p-header"]],[["p-footer"]]],$U=["*","p-header","p-footer"],KU=t=>({transitionParams:t,height:"0",opacity:"0"}),WU=t=>({value:"hidden",params:t}),QU=t=>({transitionParams:t,height:"*",opacity:"1"}),ZU=t=>({value:"visible",params:t}),XU=t=>({$implicit:t});function YU(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(2);K(e.cx("title")),ue("id",e.id+"_header"),S(),Dt(e._header)}}function JU(t,s){t&1&&nt(0)}function e$(t,s){}function t$(t,s){t&1&&B(0,e$,0,0,"ng-template")}function i$(t,s){t&1&&(We(0),it(),oe(1,"svg",11),Qe())}function n$(t,s){t&1&&(We(0),it(),oe(1,"svg",12),Qe())}function a$(t,s){if(t&1&&(We(0),B(1,i$,2,0,"ng-container",9)(2,n$,2,0,"ng-container",9),Qe()),t&2){let e=M(4);S(),T("ngIf",!e.collapsed),S(),T("ngIf",e.collapsed)}}function o$(t,s){}function r$(t,s){t&1&&B(0,o$,0,0,"ng-template")}function s$(t,s){if(t&1&&B(0,a$,3,2,"ng-container",9)(1,r$,1,0,null,10),t&2){let e=M(3);T("ngIf",!e.headerIconsTemplate&&!e._headerIconsTemplate&&!(e.toggleButtonProps!=null&&e.toggleButtonProps.icon)),S(),T("ngTemplateOutlet",e.headerIconsTemplate||e._headerIconsTemplate)("ngTemplateOutletContext",rt(3,XU,e.collapsed))}}function l$(t,s){if(t&1){let e=Re();L(0,"p-button",8),Ie("click",function(n){Z(e);let a=M(2);return X(a.onIconClick(n))})("keydown",function(n){Z(e);let a=M(2);return X(a.onKeyDown(n))}),B(1,s$,2,5,"ng-template",null,1,Be),D()}if(t&2){let e=M(2);T("text",!0)("rounded",!0)("styleClass",e.cx("pcToggleButton"))("buttonProps",e.toggleButtonProps),ue("id",e.id+"_header")("aria-label",e.buttonAriaLabel)("aria-controls",e.id+"_content")("aria-expanded",!e.collapsed)}}function c$(t,s){if(t&1){let e=Re();L(0,"div",6),Ie("click",function(n){Z(e);let a=M();return X(a.onHeaderClick(n))}),B(1,YU,2,4,"span",5),Pi(2,1),B(3,JU,1,0,"ng-container",4),L(4,"div"),B(5,t$,1,0,null,4)(6,l$,3,8,"p-button",7),D()()}if(t&2){let e=M();K(e.cx("header")),ue("id",e.id+"-titlebar"),S(),T("ngIf",e._header),S(2),T("ngTemplateOutlet",e.headerTemplate||e._headerTemplate),S(),K(e.cx("icons")),S(),T("ngTemplateOutlet",e.iconTemplate||e._iconTemplate),S(),T("ngIf",e.toggleable)}}function u$(t,s){t&1&&nt(0)}function d$(t,s){t&1&&nt(0)}function p$(t,s){if(t&1&&(L(0,"div"),Pi(1,2),B(2,d$,1,0,"ng-container",4),D()),t&2){let e=M();K(e.cx("footer")),S(2),T("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}var h$=`
    ${JT}

    /* For PrimeNG */
    .p-panel-collapsed > .p-panel-content-container,
    .p-panel-content-container.ng-animating {
        overflow: hidden;
    }
`,m$={root:({instance:t})=>["p-panel p-component",{"p-panel-toggleable":t.toggleable,"p-panel-expanded":!t.collapsed&&t.toggleable,"p-panel-collapsed":t.collapsed&&t.toggleable}],icons:({instance:t})=>["p-panel-icons",{"p-panel-icons-start":t.iconPos==="start","p-panel-icons-end":t.iconPos==="end","p-panel-icons-center":t.iconPos==="center"}],header:"p-panel-header",title:"p-panel-title",headerActions:"p-panel-header-actions",pcToggleButton:"p-panel-toggle-button",contentContainer:"p-panel-content-container",content:"p-panel-content",footer:"p-panel-footer"},e4=(()=>{class t extends Vt{name="panel";theme=h$;classes=m$;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var Dy=(()=>{class t extends Ot{toggleable;_header;collapsed;id=xi("pn_id_");styleClass;iconPos="end";showHeader=!0;toggler="icon";transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";toggleButtonProps;collapsedChange=new Fe;onBeforeToggle=new Fe;onAfterToggle=new Fe;footerFacet;animating;headerTemplate;iconTemplate;contentTemplate;footerTemplate;headerIconsTemplate;_headerTemplate;_iconTemplate;_contentTemplate;_footerTemplate;_headerIconsTemplate;contentWrapperViewChild;get buttonAriaLabel(){return this._header}_componentStyle=lt(e4);onHeaderClick(e){this.toggler==="header"&&this.toggle(e)}onIconClick(e){this.toggler==="icon"&&this.toggle(e)}toggle(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand():this.collapse()),this.cd.markForCheck(),e.preventDefault()}expand(){this.collapsed=!1,this.collapsedChange.emit(this.collapsed),this.updateTabIndex()}collapse(){this.collapsed=!0,this.collapsedChange.emit(this.collapsed),this.updateTabIndex()}getBlockableElement(){return this.el.nativeElement}updateTabIndex(){this.contentWrapperViewChild&&this.contentWrapperViewChild.nativeElement.querySelectorAll('input, button, select, a, textarea, [tabindex]:not([tabindex="-1"])').forEach(i=>{this.collapsed?i.setAttribute("tabindex","-1"):i.removeAttribute("tabindex")})}onKeyDown(e){(e.code==="Enter"||e.code==="Space")&&(this.toggle(e),e.preventDefault())}onToggleDone(e){this.animating=!1,this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed})}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"content":this._contentTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"icons":this._iconTemplate=e.template;break;case"headericons":this._headerIconsTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-panel"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,ws,5),ve(a,RU,4),ve(a,NU,4),ve(a,qU,4),ve(a,jU,4),ve(a,HU,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.footerFacet=p.first),le(p=ce())&&(n.headerTemplate=p.first),le(p=ce())&&(n.iconTemplate=p.first),le(p=ce())&&(n.contentTemplate=p.first),le(p=ce())&&(n.footerTemplate=p.first),le(p=ce())&&(n.headerIconsTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&dt(GU,5),i&2){let a;le(a=ce())&&(n.contentWrapperViewChild=a.first)}},hostAttrs:["data-pc-name","panel"],hostVars:3,hostBindings:function(i,n){i&2&&(eo("id",n.id),K(n.cn(n.cx("root"),n.styleClass)))},inputs:{toggleable:[2,"toggleable","toggleable",we],_header:[0,"header","_header"],collapsed:[2,"collapsed","collapsed",we],id:"id",styleClass:"styleClass",iconPos:"iconPos",showHeader:[2,"showHeader","showHeader",we],toggler:"toggler",transitionOptions:"transitionOptions",toggleButtonProps:"toggleButtonProps"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},features:[bt([e4]),gt],ngContentSelectors:$U,decls:7,vars:20,consts:[["contentWrapper",""],["icon",""],[3,"class","click",4,"ngIf"],["role","region",3,"id"],[4,"ngTemplateOutlet"],[3,"class",4,"ngIf"],[3,"click"],["severity","secondary","type","button","role","button",3,"text","rounded","styleClass","buttonProps","click","keydown",4,"ngIf"],["severity","secondary","type","button","role","button",3,"click","keydown","text","rounded","styleClass","buttonProps"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","minus"],["data-p-icon","plus"]],template:function(i,n){if(i&1){let a=Re();$i(UU),B(0,c$,7,9,"div",2),L(1,"div",3),Ie("@panelContent.done",function(y){return Z(a),X(n.onToggleDone(y))}),L(2,"div",null,0),Pi(4),B(5,u$,1,0,"ng-container",4),D(),B(6,p$,3,3,"div",5),D()}i&2&&(T("ngIf",n.showHeader),S(),K(n.cx("contentContainer")),T("id",n.id+"_content")("@panelContent",n.collapsed?rt(14,WU,rt(12,KU,n.animating?n.transitionOptions:"0ms")):rt(18,ZU,rt(16,QU,n.animating?n.transitionOptions:"0ms"))),ue("aria-labelledby",n.id+"_header")("aria-hidden",n.collapsed)("tabindex",n.collapsed?"-1":void 0),S(),K(n.cx("content")),S(3),T("ngTemplateOutlet",n.contentTemplate||n._contentTemplate),S(),T("ngIf",n.footerFacet||n.footerTemplate||n._footerTemplate))},dependencies:[mt,$t,ei,vf,jf,Fi,qi,Xe],encapsulation:2,data:{animation:[ra("panelContent",[to("hidden",Ri({height:"0"})),to("void",Ri({height:"{{height}}"}),{params:{height:"0"}}),to("visible",Ri({height:"*"})),Ni("visible <=> hidden",[Ki("{{transitionParams}}")]),Ni("void => hidden",Ki("{{transitionParams}}")),Ni("void => visible",Ki("{{transitionParams}}"))])]},changeDetection:0})}return t})(),t4=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[Dy,Xe,Xe]})}return t})();var i4=`
    .p-splitter {
        display: flex;
        flex-wrap: nowrap;
        border: 1px solid dt('splitter.border.color');
        background: dt('splitter.background');
        border-radius: dt('border.radius.md');
        color: dt('splitter.color');
    }

    .p-splitter-vertical {
        flex-direction: column;
    }

    .p-splitter-gutter {
        flex-grow: 0;
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1;
        background: dt('splitter.gutter.background');
    }

    .p-splitter-gutter-handle {
        border-radius: dt('splitter.handle.border.radius');
        background: dt('splitter.handle.background');
        transition:
            outline-color dt('splitter.transition.duration'),
            box-shadow dt('splitter.transition.duration');
        outline-color: transparent;
    }

    .p-splitter-gutter-handle:focus-visible {
        box-shadow: dt('splitter.handle.focus.ring.shadow');
        outline: dt('splitter.handle.focus.ring.width') dt('splitter.handle.focus.ring.style') dt('splitter.handle.focus.ring.color');
        outline-offset: dt('splitter.handle.focus.ring.offset');
    }

    .p-splitter-horizontal.p-splitter-resizing {
        cursor: col-resize;
        user-select: none;
    }

    .p-splitter-vertical.p-splitter-resizing {
        cursor: row-resize;
        user-select: none;
    }

    .p-splitter-horizontal > .p-splitter-gutter > .p-splitter-gutter-handle {
        height: dt('splitter.handle.size');
        width: 100%;
    }

    .p-splitter-vertical > .p-splitter-gutter > .p-splitter-gutter-handle {
        width: dt('splitter.handle.size');
        height: 100%;
    }

    .p-splitter-horizontal > .p-splitter-gutter {
        cursor: col-resize;
    }

    .p-splitter-vertical > .p-splitter-gutter {
        cursor: row-resize;
    }

    .p-splitterpanel {
        flex-grow: 1;
        overflow: hidden;
    }

    .p-splitterpanel-nested {
        display: flex;
    }

    .p-splitterpanel .p-splitter {
        flex-grow: 1;
        border: 0 none;
    }
`;var g$=["panel"];function _$(t,s){t&1&&nt(0)}function b$(t,s){if(t&1){let e=Re();L(0,"div",4),Ie("mousedown",function(n){Z(e);let a=M().index,p=M();return X(p.onGutterMouseDown(n,a))})("touchstart",function(n){Z(e);let a=M().index,p=M();return X(p.onGutterTouchStart(n,a))})("touchmove",function(n){Z(e);let a=M(2);return X(a.onGutterTouchMove(n))})("touchend",function(n){Z(e);let a=M(2);return X(a.onGutterTouchEnd(n))}),L(1,"div",5),Ie("keyup",function(n){Z(e);let a=M(2);return X(a.onGutterKeyUp(n))})("keydown",function(n){Z(e);let a=M().index,p=M();return X(p.onGutterKeyDown(n,a))}),D()()}if(t&2){let e=M(2);K(e.cx("gutter")),ue("data-p-gutter-resizing",!1)("data-pc-section","gutter"),S(),K(e.cx("gutterHandle")),T("ngStyle",e.gutterStyle()),ue("aria-orientation",e.layout)("aria-valuenow",e.prevSize)("data-pc-section","gutterhandle")}}function y$(t,s){if(t&1&&(L(0,"div",1),B(1,_$,1,0,"ng-container",2),D(),B(2,b$,2,10,"div",3)),t&2){let e=s.$implicit,i=s.index,n=M();K(n.cn(n.cx("panel"),n.panelStyleClass)),T("ngStyle",n.panelStyle),ue("data-pc-name","splitterpanel")("data-pc-section","panel"),S(),T("ngTemplateOutlet",e),S(),T("ngIf",i!==n.panels.length-1)}}var v$={root:({instance:t})=>["p-splitter p-component","p-splitter-"+t.layout],panel:({instance:t})=>["p-splitterpanel",{"p-splitterpanel-nested":t.nestedState()}],gutter:"p-splitter-gutter",gutterHandle:"p-splitter-gutter-handle"},x$={root:({instance:t})=>[{display:"flex","flex-wrap":"nowrap"},t.layout==="vertical"?{"flex-direction":"column"}:""]},n4=(()=>{class t extends Vt{name="splitter";theme=i4;classes=v$;inlineStyles=x$;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var Ly=(()=>{class t extends Ot{styleClass;panelStyleClass;panelStyle;stateStorage="session";stateKey=null;layout="horizontal";gutterSize=4;step=5;minSizes=[];get panelSizes(){return this._panelSizes}set panelSizes(e){if(this._panelSizes=e,this.el&&this.el.nativeElement&&this.panels.length>0){let i=[...this.el.nativeElement.children].filter(a=>Ho(a,"p-splitterpanel")),n=[];this.panels.map((a,p)=>{let C=(this.panelSizes.length-1>=p?this.panelSizes[p]:null)||100/this.panels.length;n[p]=C,i[p].style.flexBasis="calc("+C+"% - "+(this.panels.length-1)*this.gutterSize+"px)"})}}onResizeEnd=new Fe;onResizeStart=new Fe;templates;panelChildren;splitter=vx(nn(()=>t));nestedState=Vi(()=>this.splitter());panels=[];dragging=!1;mouseMoveListener;mouseUpListener;touchMoveListener;touchEndListener;size;gutterElement;startPos;prevPanelElement;nextPanelElement;nextPanelSize;prevPanelSize;_panelSizes=[];prevPanelIndex;timer;prevSize;_componentStyle=lt(n4);ngOnInit(){super.ngOnInit()}ngAfterContentInit(){this.templates&&this.templates.toArray().length>0&&this.templates.forEach(e=>{switch(e.getType()){case"panel":this.panels.push(e.template);break;default:this.panels.push(e.template);break}}),this.panelChildren&&this.panelChildren.toArray().length>0&&this.panelChildren.forEach(e=>{this.panels.push(e)})}ngAfterViewInit(){if(super.ngAfterViewInit(),ci(this.platformId)&&this.panels&&this.panels.length){let e=!1;if(this.isStateful()&&(e=this.restoreState()),!e){let i=[...this.el.nativeElement.children].filter(a=>Ho(a,"p-splitterpanel")),n=[];this.panels.map((a,p)=>{let C=(this.panelSizes.length-1>=p?this.panelSizes[p]:null)||100/this.panels.length;n[p]=C,i[p].style.flexBasis="calc("+C+"% - "+(this.panels.length-1)*this.gutterSize+"px)"}),this._panelSizes=n,this.prevSize=parseFloat(n[0]).toFixed(4)}}}resizeStart(e,i,n){this.gutterElement=e.currentTarget||e.target.parentElement,this.size=this.horizontal()?Du(this.el.nativeElement):pf(this.el.nativeElement),n||(this.dragging=!0,this.startPos=this.horizontal()?e instanceof MouseEvent?e.pageX:e.changedTouches[0].pageX:e instanceof MouseEvent?e.pageY:e.changedTouches[0].pageY),this.prevPanelElement=this.gutterElement.previousElementSibling,this.nextPanelElement=this.gutterElement.nextElementSibling,n?(this.prevPanelSize=this.horizontal()?Cr(this.prevPanelElement,!0):im(this.prevPanelElement,!0),this.nextPanelSize=this.horizontal()?Cr(this.nextPanelElement,!0):im(this.nextPanelElement,!0)):(this.prevPanelSize=100*(this.horizontal()?Cr(this.prevPanelElement,!0):im(this.prevPanelElement,!0))/this.size,this.nextPanelSize=100*(this.horizontal()?Cr(this.nextPanelElement,!0):im(this.nextPanelElement,!0))/this.size),this.prevPanelIndex=i,Bn(this.gutterElement,"p-splitter-gutter-resizing"),this.gutterElement.setAttribute("data-p-gutter-resizing","true"),Bn(this.el.nativeElement,"p-splitter-resizing"),this.el.nativeElement.setAttribute("data-p-resizing","true"),this.onResizeStart.emit({originalEvent:e,sizes:this._panelSizes})}onResize(e,i,n){let a,p,y;n?this.horizontal()?(p=100*(this.prevPanelSize+i)/this.size,y=100*(this.nextPanelSize-i)/this.size):(p=100*(this.prevPanelSize-i)/this.size,y=100*(this.nextPanelSize+i)/this.size):(this.horizontal()?ku(this.el.nativeElement)?a=(this.startPos-e.pageX)*100/this.size:a=(e.pageX-this.startPos)*100/this.size:a=(e.pageY-this.startPos)*100/this.size,p=this.prevPanelSize+a,y=this.nextPanelSize-a),this.prevSize=parseFloat(p).toFixed(4),this.validateResize(p,y)&&(this.prevPanelElement.style.flexBasis="calc("+p+"% - "+(this.panels.length-1)*this.gutterSize+"px)",this.nextPanelElement.style.flexBasis="calc("+y+"% - "+(this.panels.length-1)*this.gutterSize+"px)",this._panelSizes[this.prevPanelIndex]=p,this._panelSizes[this.prevPanelIndex+1]=y)}resizeEnd(e){this.isStateful()&&this.saveState(),this.onResizeEnd.emit({originalEvent:e,sizes:this._panelSizes}),Sa(this.gutterElement,"p-splitter-gutter-resizing"),Sa(this.el.nativeElement,"p-splitter-resizing"),this.clear()}onGutterMouseDown(e,i){this.resizeStart(e,i),this.bindMouseListeners()}onGutterTouchStart(e,i){e.cancelable&&(this.resizeStart(e,i),this.bindTouchListeners(),e.preventDefault())}onGutterTouchMove(e){this.onResize(e),e.preventDefault()}onGutterTouchEnd(e){this.resizeEnd(e),this.unbindTouchListeners(),e.cancelable&&e.preventDefault()}repeat(e,i,n){this.resizeStart(e,i,!0),this.onResize(e,n,!0)}setTimer(e,i,n){this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,i,n)},40)}clearTimer(){this.timer&&clearTimeout(this.timer)}onGutterKeyUp(e){this.clearTimer(),this.resizeEnd(e)}onGutterKeyDown(e,i){switch(e.code){case"ArrowLeft":{this.layout==="horizontal"&&this.setTimer(e,i,this.step*-1),e.preventDefault();break}case"ArrowRight":{this.layout==="horizontal"&&this.setTimer(e,i,this.step),e.preventDefault();break}case"ArrowDown":{this.layout==="vertical"&&this.setTimer(e,i,this.step*-1),e.preventDefault();break}case"ArrowUp":{this.layout==="vertical"&&this.setTimer(e,i,this.step),e.preventDefault();break}default:break}}validateResize(e,i){return!(this.minSizes.length>=1&&this.minSizes[0]&&this.minSizes[0]>e||this.minSizes.length>1&&this.minSizes[1]&&this.minSizes[1]>i)}bindMouseListeners(){this.mouseMoveListener||(this.mouseMoveListener=this.renderer.listen(this.document,"mousemove",e=>{this.onResize(e)})),this.mouseUpListener||(this.mouseUpListener=this.renderer.listen(this.document,"mouseup",e=>{this.resizeEnd(e),this.unbindMouseListeners()}))}bindTouchListeners(){this.touchMoveListener||(this.touchMoveListener=this.renderer.listen(this.document,"touchmove",e=>{this.onResize(e.changedTouches[0])})),this.touchEndListener||(this.touchEndListener=this.renderer.listen(this.document,"touchend",e=>{this.resizeEnd(e),this.unbindTouchListeners()}))}unbindMouseListeners(){this.mouseMoveListener&&(this.mouseMoveListener(),this.mouseMoveListener=null),this.mouseUpListener&&(this.mouseUpListener(),this.mouseUpListener=null)}unbindTouchListeners(){this.touchMoveListener&&(this.touchMoveListener(),this.touchMoveListener=null),this.touchEndListener&&(this.touchEndListener(),this.touchEndListener=null)}clear(){this.dragging=!1,this.size=null,this.startPos=null,this.prevPanelElement=null,this.nextPanelElement=null,this.prevPanelSize=null,this.nextPanelSize=null,this.gutterElement=null,this.prevPanelIndex=null}isStateful(){return this.stateKey!=null}getStorage(){if(ci(this.platformId))switch(this.stateStorage){case"local":return this.document.defaultView.localStorage;case"session":return this.document.defaultView.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}else throw new Error("Storage is not a available by default on the server.")}saveState(){this.getStorage().setItem(this.stateKey,JSON.stringify(this._panelSizes))}restoreState(){let i=this.getStorage().getItem(this.stateKey);return i?(this._panelSizes=JSON.parse(i),[...this.el.nativeElement.children].filter(a=>Ho(a,"p-splitterpanel")).forEach((a,p)=>{a.style.flexBasis="calc("+this._panelSizes[p]+"% - "+(this.panels.length-1)*this.gutterSize+"px)"}),!0):!1}gutterStyle(){return this.horizontal()?{width:this.gutterSize+"px"}:{height:this.gutterSize+"px"}}horizontal(){return this.layout==="horizontal"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-splitter"]],contentQueries:function(i,n,a){if(i&1&&(_x(a,n.splitter,t,5),ve(a,ui,4),ve(a,g$,4)),i&2){bx();let p;le(p=ce())&&(n.templates=p),le(p=ce())&&(n.panelChildren=p)}},hostAttrs:["data-pc-name","splitter","data-pc-section","root"],hostVars:3,hostBindings:function(i,n){i&2&&(ue("data-p-gutter-resizing",!1),K(n.cn(n.cx("root"),n.styleClass)))},inputs:{styleClass:"styleClass",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",stateStorage:"stateStorage",stateKey:"stateKey",layout:"layout",gutterSize:[2,"gutterSize","gutterSize",Tt],step:[2,"step","step",Tt],minSizes:"minSizes",panelSizes:"panelSizes"},outputs:{onResizeEnd:"onResizeEnd",onResizeStart:"onResizeStart"},features:[bt([n4]),gt],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["tabindex","-1",3,"ngStyle"],[4,"ngTemplateOutlet"],["role","separator","tabindex","-1",3,"class","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["role","separator","tabindex","-1",3,"mousedown","touchstart","touchmove","touchend"],["tabindex","0",3,"keyup","keydown","ngStyle"]],template:function(i,n){i&1&&B(0,y$,3,7,"ng-template",0),i&2&&T("ngForOf",n.panels)},dependencies:[mt,ji,$t,ei,bi,Xe],encapsulation:2,changeDetection:0})}return t})(),a4=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[Ly,Xe,Xe]})}return t})();var o4=`
    .p-tabs {
        display: flex;
        flex-direction: column;
    }

    .p-tablist {
        display: flex;
        position: relative;
    }

    .p-tabs-scrollable > .p-tablist {
        overflow: hidden;
    }

    .p-tablist-viewport {
        overflow-x: auto;
        overflow-y: hidden;
        scroll-behavior: smooth;
        scrollbar-width: none;
        overscroll-behavior: contain auto;
    }

    .p-tablist-viewport::-webkit-scrollbar {
        display: none;
    }

    .p-tablist-tab-list {
        position: relative;
        display: flex;
        background: dt('tabs.tablist.background');
        border-style: solid;
        border-color: dt('tabs.tablist.border.color');
        border-width: dt('tabs.tablist.border.width');
    }

    .p-tablist-content {
        flex-grow: 1;
    }

    .p-tablist-nav-button {
        all: unset;
        position: absolute !important;
        flex-shrink: 0;
        inset-block-start: 0;
        z-index: 2;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: dt('tabs.nav.button.background');
        color: dt('tabs.nav.button.color');
        width: dt('tabs.nav.button.width');
        transition:
            color dt('tabs.transition.duration'),
            outline-color dt('tabs.transition.duration'),
            box-shadow dt('tabs.transition.duration');
        box-shadow: dt('tabs.nav.button.shadow');
        outline-color: transparent;
        cursor: pointer;
    }

    .p-tablist-nav-button:focus-visible {
        z-index: 1;
        box-shadow: dt('tabs.nav.button.focus.ring.shadow');
        outline: dt('tabs.nav.button.focus.ring.width') dt('tabs.nav.button.focus.ring.style') dt('tabs.nav.button.focus.ring.color');
        outline-offset: dt('tabs.nav.button.focus.ring.offset');
    }

    .p-tablist-nav-button:hover {
        color: dt('tabs.nav.button.hover.color');
    }

    .p-tablist-prev-button {
        inset-inline-start: 0;
    }

    .p-tablist-next-button {
        inset-inline-end: 0;
    }

    .p-tablist-prev-button:dir(rtl),
    .p-tablist-next-button:dir(rtl) {
        transform: rotate(180deg);
    }

    .p-tab {
        flex-shrink: 0;
        cursor: pointer;
        user-select: none;
        position: relative;
        border-style: solid;
        white-space: nowrap;
        gap: dt('tabs.tab.gap');
        background: dt('tabs.tab.background');
        border-width: dt('tabs.tab.border.width');
        border-color: dt('tabs.tab.border.color');
        color: dt('tabs.tab.color');
        padding: dt('tabs.tab.padding');
        font-weight: dt('tabs.tab.font.weight');
        transition:
            background dt('tabs.transition.duration'),
            border-color dt('tabs.transition.duration'),
            color dt('tabs.transition.duration'),
            outline-color dt('tabs.transition.duration'),
            box-shadow dt('tabs.transition.duration');
        margin: dt('tabs.tab.margin');
        outline-color: transparent;
    }

    .p-tab:not(.p-disabled):focus-visible {
        z-index: 1;
        box-shadow: dt('tabs.tab.focus.ring.shadow');
        outline: dt('tabs.tab.focus.ring.width') dt('tabs.tab.focus.ring.style') dt('tabs.tab.focus.ring.color');
        outline-offset: dt('tabs.tab.focus.ring.offset');
    }

    .p-tab:not(.p-tab-active):not(.p-disabled):hover {
        background: dt('tabs.tab.hover.background');
        border-color: dt('tabs.tab.hover.border.color');
        color: dt('tabs.tab.hover.color');
    }

    .p-tab-active {
        background: dt('tabs.tab.active.background');
        border-color: dt('tabs.tab.active.border.color');
        color: dt('tabs.tab.active.color');
    }

    .p-tabpanels {
        background: dt('tabs.tabpanel.background');
        color: dt('tabs.tabpanel.color');
        padding: dt('tabs.tabpanel.padding');
        outline: 0 none;
    }

    .p-tabpanel:focus-visible {
        box-shadow: dt('tabs.tabpanel.focus.ring.shadow');
        outline: dt('tabs.tabpanel.focus.ring.width') dt('tabs.tabpanel.focus.ring.style') dt('tabs.tabpanel.focus.ring.color');
        outline-offset: dt('tabs.tabpanel.focus.ring.offset');
    }

    .p-tablist-active-bar {
        z-index: 1;
        display: block;
        position: absolute;
        inset-block-end: dt('tabs.active.bar.bottom');
        height: dt('tabs.active.bar.height');
        background: dt('tabs.active.bar.background');
        transition: 250ms cubic-bezier(0.35, 0, 0.25, 1);
    }
`;var T$=["previcon"],C$=["nexticon"],S$=["content"],M$=["prevButton"],k$=["nextButton"],E$=["inkbar"],P$=["tabs"],Mm=["*"];function D$(t,s){t&1&&nt(0)}function L$(t,s){if(t&1&&B(0,D$,1,0,"ng-container",11),t&2){let e=M(2);T("ngTemplateOutlet",e.prevIconTemplate||e._prevIconTemplate)}}function A$(t,s){t&1&&(it(),oe(0,"svg",10))}function F$(t,s){if(t&1){let e=Re();L(0,"button",9,3),Ie("click",function(){Z(e);let n=M();return X(n.onPrevButtonClick())}),Gi(2,L$,1,1,"ng-container")(3,A$,1,0,":svg:svg",10),D()}if(t&2){let e=M();K(e.cx("prevButton")),ue("aria-label",e.prevButtonAriaLabel)("tabindex",e.tabindex())("data-pc-group-section","navigator"),S(2),Ui(e.prevIconTemplate||e._prevIconTemplate?2:3)}}function O$(t,s){t&1&&nt(0)}function V$(t,s){if(t&1&&B(0,O$,1,0,"ng-container",11),t&2){let e=M(2);T("ngTemplateOutlet",e.nextIconTemplate||e._nextIconTemplate)}}function z$(t,s){t&1&&(it(),oe(0,"svg",12))}function B$(t,s){if(t&1){let e=Re();L(0,"button",9,4),Ie("click",function(){Z(e);let n=M();return X(n.onNextButtonClick())}),Gi(2,V$,1,1,"ng-container")(3,z$,1,0,":svg:svg",12),D()}if(t&2){let e=M();K(e.cx("nextButton")),ue("aria-label",e.nextButtonAriaLabel)("tabindex",e.tabindex())("data-pc-group-section","navigator"),S(2),Ui(e.nextIconTemplate||e._nextIconTemplate?2:3)}}function R$(t,s){t&1&&Pi(0)}var N$={root:({instance:t})=>["p-tabs p-component",{"p-tabs-scrollable":t.scrollable()}]},r4=(()=>{class t extends Vt{name="tabs";theme=o4;classes=N$;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var q$={root:"p-tablist",content:({instance:t})=>["p-tablist-content",{"p-tablist-viewport":t.scrollable()}],tabList:"p-tablist-tab-list",activeBar:"p-tablist-active-bar",prevButton:"p-tablist-prev-button p-tablist-nav-button",nextButton:"p-tablist-next-button p-tablist-nav-button"},s4=(()=>{class t extends Vt{name="tablist";classes=q$;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var Ap=(()=>{class t extends Ot{prevIconTemplate;nextIconTemplate;templates;content;prevButton;nextButton;inkbar;tabs;pcTabs=lt(nn(()=>Cc));isPrevButtonEnabled=Ei(!1);isNextButtonEnabled=Ei(!1);resizeObserver;showNavigators=Vi(()=>this.pcTabs.showNavigators());tabindex=Vi(()=>this.pcTabs.tabindex());scrollable=Vi(()=>this.pcTabs.scrollable());_componentStyle=lt(s4);constructor(){super(),Or(()=>{this.pcTabs.value(),ci(this.platformId)&&setTimeout(()=>{this.updateInkBar()})})}get prevButtonAriaLabel(){return this.config.translation.aria.previous}get nextButtonAriaLabel(){return this.config.translation.aria.next}ngAfterViewInit(){super.ngAfterViewInit(),this.showNavigators()&&ci(this.platformId)&&(this.updateButtonState(),this.bindResizeObserver())}_prevIconTemplate;_nextIconTemplate;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"previcon":this._prevIconTemplate=e.template;break;case"nexticon":this._nextIconTemplate=e.template;break}})}ngOnDestroy(){this.unbindResizeObserver(),super.ngOnDestroy()}onScroll(e){this.showNavigators()&&this.updateButtonState(),e.preventDefault()}onPrevButtonClick(){let e=this.content.nativeElement,i=Du(e),n=Math.abs(e.scrollLeft)-i,a=n<=0?0:n;e.scrollLeft=ku(e)?-1*a:a}onNextButtonClick(){let e=this.content.nativeElement,i=Du(e)-this.getVisibleButtonWidths(),n=e.scrollLeft+i,a=e.scrollWidth-i,p=n>=a?a:n;e.scrollLeft=ku(e)?-1*p:p}updateButtonState(){let e=this.content?.nativeElement,i=this.el?.nativeElement,{scrollWidth:n,offsetWidth:a}=e,p=Math.abs(e.scrollLeft),y=Du(e);this.isPrevButtonEnabled.set(p!==0),this.isNextButtonEnabled.set(i.offsetWidth>=a&&p!==n-y)}updateInkBar(){let e=this.content?.nativeElement,i=this.inkbar?.nativeElement,n=this.tabs?.nativeElement,a=ti(e,'[data-pc-name="tab"][data-p-active="true"]');i&&(i.style.width=Cr(a)+"px",i.style.left=Sr(a).left-Sr(n).left+"px")}getVisibleButtonWidths(){let e=this.prevButton?.nativeElement,i=this.nextButton?.nativeElement;return[e,i].reduce((n,a)=>a?n+Du(a):n,0)}bindResizeObserver(){this.resizeObserver=new ResizeObserver(()=>this.updateButtonState()),this.resizeObserver.observe(this.el.nativeElement)}unbindResizeObserver(){this.resizeObserver&&(this.resizeObserver.unobserve(this.el.nativeElement),this.resizeObserver=null)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Je({type:t,selectors:[["p-tablist"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,T$,4),ve(a,C$,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.prevIconTemplate=p.first),le(p=ce())&&(n.nextIconTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&(dt(S$,5),dt(M$,5),dt(k$,5),dt(E$,5),dt(P$,5)),i&2){let a;le(a=ce())&&(n.content=a.first),le(a=ce())&&(n.prevButton=a.first),le(a=ce())&&(n.nextButton=a.first),le(a=ce())&&(n.inkbar=a.first),le(a=ce())&&(n.tabs=a.first)}},hostVars:3,hostBindings:function(i,n){i&2&&(ue("data-pc-name","tablist"),K(n.cx("root")))},features:[bt([s4]),gt],ngContentSelectors:Mm,decls:9,vars:9,consts:[["content",""],["tabs",""],["inkbar",""],["prevButton",""],["nextButton",""],["type","button","pRipple","",3,"class"],[3,"scroll"],["role","tablist"],["role","presentation"],["type","button","pRipple","",3,"click"],["data-p-icon","chevron-left"],[4,"ngTemplateOutlet"],["data-p-icon","chevron-right"]],template:function(i,n){if(i&1){let a=Re();$i(),Gi(0,F$,4,6,"button",5),L(1,"div",6,0),Ie("scroll",function(y){return Z(a),X(n.onScroll(y))}),L(3,"div",7,1),Pi(5),oe(6,"span",8,2),D()(),Gi(8,B$,4,6,"button",5)}i&2&&(Ui(n.showNavigators()&&n.isPrevButtonEnabled()?0:-1),S(),K(n.cx("content")),S(2),K(n.cx("tabList")),S(3),K(n.cx("activeBar")),ue("data-pc-section","inkbar"),S(2),Ui(n.showNavigators()&&n.isNextButtonEnabled()?8:-1))},dependencies:[mt,ei,nc,ao,ap,pn,Xe],encapsulation:2,changeDetection:0})}return t})(),j$={root:({instance:t})=>["p-tab",{"p-tab-active":t.active(),"p-disabled":t.disabled()}]},l4=(()=>{class t extends Vt{name="tab";classes=j$;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var km=(()=>{class t extends Ot{value=lf();disabled=sn(!1,{transform:we});pcTabs=lt(nn(()=>Cc));pcTabList=lt(nn(()=>Ap));el=lt(Ja);_componentStyle=lt(l4);ripple=Vi(()=>this.config.ripple());id=Vi(()=>`${this.pcTabs.id()}_tab_${this.value()}`);ariaControls=Vi(()=>`${this.pcTabs.id()}_tabpanel_${this.value()}`);active=Vi(()=>Ha(this.pcTabs.value(),this.value()));tabindex=Vi(()=>this.active()?this.pcTabs.tabindex():-1);mutationObserver;onFocus(e){this.pcTabs.selectOnFocus()&&this.changeActiveValue()}onClick(e){this.changeActiveValue()}onKeyDown(e){switch(e.code){case"ArrowRight":this.onArrowRightKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;default:break}e.stopPropagation()}ngAfterViewInit(){super.ngAfterViewInit(),this.bindMutationObserver()}onArrowRightKey(e){let i=this.findNextTab(e.currentTarget);i?this.changeFocusedTab(e,i):this.onHomeKey(e),e.preventDefault()}onArrowLeftKey(e){let i=this.findPrevTab(e.currentTarget);i?this.changeFocusedTab(e,i):this.onEndKey(e),e.preventDefault()}onHomeKey(e){let i=this.findFirstTab();this.changeFocusedTab(e,i),e.preventDefault()}onEndKey(e){let i=this.findLastTab();this.changeFocusedTab(e,i),e.preventDefault()}onPageDownKey(e){this.scrollInView(this.findLastTab()),e.preventDefault()}onPageUpKey(e){this.scrollInView(this.findFirstTab()),e.preventDefault()}onEnterKey(e){this.changeActiveValue(),e.preventDefault()}findNextTab(e,i=!1){let n=i?e:e.nextElementSibling;return n?go(n,"data-p-disabled")||go(n,"data-pc-section")==="inkbar"?this.findNextTab(n):n:null}findPrevTab(e,i=!1){let n=i?e:e.previousElementSibling;return n?go(n,"data-p-disabled")||go(n,"data-pc-section")==="inkbar"?this.findPrevTab(n):n:null}findFirstTab(){return this.findNextTab(this.pcTabList?.tabs?.nativeElement?.firstElementChild,!0)}findLastTab(){return this.findPrevTab(this.pcTabList?.tabs?.nativeElement?.lastElementChild,!0)}changeActiveValue(){this.pcTabs.updateValue(this.value())}changeFocusedTab(e,i){Wt(i),this.scrollInView(i)}scrollInView(e){e?.scrollIntoView?.({block:"nearest"})}bindMutationObserver(){ci(this.platformId)&&(this.mutationObserver=new MutationObserver(e=>{e.forEach(()=>{this.active()&&this.pcTabList?.updateInkBar()})}),this.mutationObserver.observe(this.el.nativeElement,{childList:!0,characterData:!0,subtree:!0}))}unbindMutationObserver(){this.mutationObserver.disconnect()}ngOnDestroy(){this.mutationObserver&&this.unbindMutationObserver(),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-tab"]],hostVars:10,hostBindings:function(i,n){i&1&&Ie("focus",function(p){return n.onFocus(p)})("click",function(p){return n.onClick(p)})("keydown",function(p){return n.onKeyDown(p)}),i&2&&(ue("data-pc-name","tab")("id",n.id())("aria-controls",n.ariaControls())("role","tab")("aria-selected",n.active())("data-p-disabled",n.disabled())("data-p-active",n.active())("tabindex",n.tabindex()),K(n.cx("root")))},inputs:{value:[1,"value"],disabled:[1,"disabled"]},outputs:{value:"valueChange"},features:[bt([l4]),mx([pn]),gt],ngContentSelectors:Mm,decls:1,vars:0,template:function(i,n){i&1&&($i(),Pi(0))},dependencies:[mt,Xe],encapsulation:2,changeDetection:0})}return t})(),H$={root:({instance:t})=>["p-tabpanel",{"p-tabpanel-active":t.active()}]},c4=(()=>{class t extends Vt{name="tabpanel";classes=H$;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var Ay=(()=>{class t extends Ot{pcTabs=lt(nn(()=>Cc));value=lf(void 0);id=Vi(()=>`${this.pcTabs.id()}_tabpanel_${this.value()}`);ariaLabelledby=Vi(()=>`${this.pcTabs.id()}_tab_${this.value()}`);active=Vi(()=>Ha(this.pcTabs.value(),this.value()));_componentStyle=lt(c4);static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-tabpanel"]],hostVars:7,hostBindings:function(i,n){i&2&&(ue("data-pc-name","tabpanel")("id",n.id())("role","tabpanel")("aria-labelledby",n.ariaLabelledby())("data-p-active",n.active()),K(n.cx("root")))},inputs:{value:[1,"value"]},outputs:{value:"valueChange"},features:[bt([c4]),gt],ngContentSelectors:Mm,decls:1,vars:1,template:function(i,n){i&1&&($i(),Gi(0,R$,1,0)),i&2&&Ui(n.active()?0:-1)},dependencies:[mt],encapsulation:2,changeDetection:0})}return t})(),G$={root:"p-tabpanels"},u4=(()=>{class t extends Vt{name="tabpanels";classes=G$;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var Fy=(()=>{class t extends Ot{_componentStyle=lt(u4);static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-tabpanels"]],hostVars:4,hostBindings:function(i,n){i&2&&(ue("data-pc-name","tabpanels")("role","presentation"),K(n.cx("root")))},features:[bt([u4]),gt],ngContentSelectors:Mm,decls:1,vars:0,template:function(i,n){i&1&&($i(),Pi(0))},dependencies:[mt],encapsulation:2,changeDetection:0})}return t})(),Cc=(()=>{class t extends Ot{value=lf(void 0);scrollable=sn(!1,{transform:we});lazy=sn(!1,{transform:we});selectOnFocus=sn(!1,{transform:we});showNavigators=sn(!0,{transform:we});tabindex=sn(0,{transform:Tt});id=Ei(xi("pn_id_"));_componentStyle=lt(r4);updateValue(e){this.value.update(()=>e)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-tabs"]],hostVars:4,hostBindings:function(i,n){i&2&&(ue("data-pc-name","tabs")("id",n.id()),K(n.cx("root")))},inputs:{value:[1,"value"],scrollable:[1,"scrollable"],lazy:[1,"lazy"],selectOnFocus:[1,"selectOnFocus"],showNavigators:[1,"showNavigators"],tabindex:[1,"tabindex"]},outputs:{value:"valueChange"},features:[bt([r4]),gt],ngContentSelectors:Mm,decls:1,vars:0,template:function(i,n){i&1&&($i(),Pi(0))},dependencies:[mt],encapsulation:2,changeDetection:0})}return t})(),Yg=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[Cc,Fy,Ay,Ap,km]})}return t})();var U$=()=>({height:"300px"}),p4=()=>[20,80],$$=()=>[10,0],K$=()=>[50,50];function W$(t,s){t&1&&oe(0,"p-button",32)(1,"p-button",33)(2,"p-button",34)}function Q$(t,s){t&1&&(L(0,"p-iconfield")(1,"p-inputicon"),oe(2,"i",35),D(),oe(3,"input",36),D())}function Z$(t,s){if(t&1&&oe(0,"p-splitbutton",37),t&2){let e=M();T("model",e.items)}}function X$(t,s){t&1&&(L(0,"div",38),ne(1,"Panel 1"),D())}function Y$(t,s){t&1&&(L(0,"div",40),ne(1,"Panel 2"),D())}function J$(t,s){t&1&&(L(0,"div",38),ne(1,"Panel 3"),D())}function eK(t,s){t&1&&(L(0,"div",38),ne(1,"Panel 4"),D())}function tK(t,s){t&1&&(L(0,"p-splitter",41),B(1,J$,2,0,"ng-template",null,3,Be)(3,eK,2,0,"ng-template",null,3,Be),D()),t&2&&T("panelSizes",Kt(1,p4))}function iK(t,s){t&1&&(L(0,"p-splitter",39),B(1,Y$,2,0,"ng-template",null,3,Be)(3,tK,5,2,"ng-template",null,3,Be),D()),t&2&&T("panelSizes",Kt(1,K$))}var Jg=class t{items=[{label:"Save",icon:"pi pi-check"},{label:"Update",icon:"pi pi-upload"},{label:"Delete",icon:"pi pi-trash"},{label:"Home Page",icon:"pi pi-home"}];static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Je({type:t,selectors:[["app-panels-demo"]],decls:101,vars:9,consts:[["start",""],["center",""],["end",""],["panel",""],[1,"flex","flex-col"],[1,"card"],[1,"font-semibold","text-xl","mb-4"],[1,"flex","flex-col","md:flex-row","gap-8"],[1,"md:w-1/2"],["value","0"],[1,"m-0"],["value","1"],["value","2"],[1,"md:w-1/2","mt-6","md:mt-0"],["header","Header",3,"toggleable"],["legend","Legend",3,"toggleable"],[1,"card","mt-8"],[1,"flex","flex-col","md:flex-row"],[1,"w-full","md:w-5/12","flex","flex-col","items-center","justify-center","gap-3","py-5"],[1,"flex","flex-col","gap-2"],["for","username"],["pInputText","","id","username","type","text"],["for","password"],["pInputText","","id","password","type","password"],[1,"flex"],["label","Login","icon","pi pi-user",1,"w-full","max-w-[17.35rem]","mx-auto"],[1,"w-full","md:w-2/12"],["layout","vertical",1,"hidden!","md:flex!"],["layout","horizontal","align","center",1,"flex!","md:hidden!"],[1,"w-full","md:w-5/12","flex","items-center","justify-center","py-5"],["label","Sign Up","icon","pi pi-user-plus","severity","success","styleClass","w-full max-w-[17.35rem] mx-auto",1,"w-full"],["styleClass","mb-8",3,"panelSizes","minSizes"],["icon","pi pi-plus","severity","secondary","text","",1,"mr-2"],["icon","pi pi-print","severity","secondary","text","",1,"mr-2"],["icon","pi pi-upload","severity","secondary","text",""],[1,"pi","pi-search"],["pInputText","","placeholder","Search"],["label","Save",3,"model"],[1,"col","flex","items-center","justify-center"],["layout","vertical",3,"panelSizes"],[1,"flex","items-center","justify-center",2,"grow","1"],[3,"panelSizes"]],template:function(e,i){e&1&&(L(0,"div",4)(1,"div",5)(2,"div",6),ne(3,"Toolbar"),D(),L(4,"p-toolbar"),B(5,W$,3,0,"ng-template",null,0,Be)(7,Q$,4,0,"ng-template",null,1,Be)(9,Z$,1,1,"ng-template",null,2,Be),D()(),L(11,"div",7)(12,"div",8)(13,"div",5)(14,"div",6),ne(15,"Accordion"),D(),L(16,"p-accordion",9)(17,"p-accordion-panel",9)(18,"p-accordion-header"),ne(19,"Header I"),D(),L(20,"p-accordion-content")(21,"p",10),ne(22," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),D()()(),L(23,"p-accordion-panel",11)(24,"p-accordion-header"),ne(25,"Header II"),D(),L(26,"p-accordion-content")(27,"p",10),ne(28," Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Consectetur, adipisci velit, sed quia non numquam eius modi. "),D()()(),L(29,"p-accordion-panel",12)(30,"p-accordion-header"),ne(31,"Header III"),D(),L(32,"p-accordion-content")(33,"p",10),ne(34," Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Consectetur, adipisci velit, sed quia non numquam eius modi. "),D()()()()(),L(35,"div",5)(36,"div",6),ne(37,"Tabs"),D(),L(38,"p-tabs",9)(39,"p-tablist")(40,"p-tab",9),ne(41,"Header I"),D(),L(42,"p-tab",11),ne(43,"Header II"),D(),L(44,"p-tab",12),ne(45,"Header III"),D()(),L(46,"p-tabpanels")(47,"p-tabpanel",9)(48,"p",10),ne(49," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),D()(),L(50,"p-tabpanel",11)(51,"p",10),ne(52," Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Consectetur, adipisci velit, sed quia non numquam eius modi. "),D()(),L(53,"p-tabpanel",12)(54,"p",10),ne(55," At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus. "),D()()()()()(),L(56,"div",13)(57,"div",5)(58,"div",6),ne(59,"Panel"),D(),L(60,"p-panel",14)(61,"p",10),ne(62," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),D()()(),L(63,"div",5)(64,"div",6),ne(65,"Fieldset"),D(),L(66,"p-fieldset",15)(67,"p",10),ne(68," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),D()()()()(),L(69,"div",16)(70,"div",6),ne(71,"Divider"),D(),L(72,"div",17)(73,"div",18)(74,"div",19)(75,"label",20),ne(76,"Username"),D(),oe(77,"input",21),D(),L(78,"div",19)(79,"label",22),ne(80,"Password"),D(),oe(81,"input",23),D(),L(82,"div",24),oe(83,"p-button",25),D()(),L(84,"div",26)(85,"p-divider",27)(86,"b"),ne(87,"OR"),D()(),L(88,"p-divider",28)(89,"b"),ne(90,"OR"),D()()(),L(91,"div",29),oe(92,"p-button",30),D()()(),L(93,"div",5)(94,"div",6),ne(95,"Splitter"),D(),L(96,"p-splitter",31),B(97,X$,2,0,"ng-template",null,3,Be)(99,iK,5,2,"ng-template",null,3,Be),D()()()),e&2&&(S(60),T("toggleable",!0),S(6),T("toggleable",!0),S(30),Ft(Kt(6,U$)),T("panelSizes",Kt(7,p4))("minSizes",Kt(8,$$)))},dependencies:[mt,ln,Aw,Lw,Fi,qi,ap,Hf,am,Dw,Pw,Mw,kw,Ew,YT,Py,Lf,Po,sa,Yx,Xx,a4,Ly,t4,Dy,Yg,Cc,Fy,Ay,Ap,km,oc,ir,rc,nr],encapsulation:2})};var nK=t=>({"background-color":t});function aK(t,s){if(t&1&&ne(0),t&2){let e=s.$implicit;ni(" ",e.status," ")}}function oK(t,s){if(t&1&&ne(0),t&2){let e=s.$implicit;ni(" ",e.status," ")}}function rK(t,s){if(t&1&&ne(0),t&2){let e=s.$implicit;ni(" ",e.status," ")}}function sK(t,s){if(t&1&&(L(0,"small",17),ne(1),D()),t&2){let e=s.$implicit;S(),Dt(e.date)}}function lK(t,s){if(t&1&&ne(0),t&2){let e=s.$implicit;ni(" ",e.status," ")}}function cK(t,s){if(t&1&&(L(0,"span",18),oe(1,"i"),D()),t&2){let e=s.$implicit;Ft(rt(4,nK,e.color)),S(),K(e.icon)}}function uK(t,s){if(t&1&&oe(0,"img",22),t&2){let e=M().$implicit;T("src","/images/product/"+e.image,an)("alt",e.name)}}function dK(t,s){if(t&1&&(L(0,"p-card",19),B(1,uK,1,2,"img",20),L(2,"p"),ne(3," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Inventore sed consequuntur error repudiandae numquam deserunt quisquam repellat libero asperiores earum nam nobis, culpa ratione quam perferendis esse, cupiditate neque quas! "),D(),oe(4,"p-button",21),D()),t&2){let e=s.$implicit;T("header",e.status)("subheader",e.date),S(),T("ngIf",e.image),S(3),T("text",!0)}}function pK(t,s){if(t&1&&ne(0),t&2){let e=s.$implicit;ni(" ",e," ")}}function hK(t,s){if(t&1&&ne(0),t&2){let e=s.$implicit;ni(" ",e," ")}}function mK(t,s){if(t&1&&ne(0),t&2){let e=s.$implicit;ni(" ",e," ")}}function fK(t,s){t&1&&ne(0," \xA0 ")}var e_=class t{events1=[];events2=[];ngOnInit(){this.events1=[{status:"Ordered",date:"15/10/2020 10:30",icon:"pi pi-shopping-cart",color:"#9C27B0",image:"game-controller.jpg"},{status:"Processing",date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"},{status:"Shipped",date:"15/10/2020 16:15",icon:"pi pi-envelope",color:"#FF9800"},{status:"Delivered",date:"16/10/2020 10:00",icon:"pi pi-check",color:"#607D8B"}],this.events2=["2020","2021","2022","2023"]}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Je({type:t,selectors:[["app-timeline-demo"]],decls:61,vars:8,consts:[["content",""],["opposite",""],["marker",""],[1,"grid","grid-cols-12","gap-8"],[1,"col-span-12","sm:col-span-6"],[1,"card"],[1,"font-semibold","text-xl","mb-4"],[3,"value"],["align","right",3,"value"],["align","alternate",3,"value"],[1,"col-span-full"],["align","alternate","styleClass","customized-timeline",3,"value"],[1,"font-semibold","mb-2"],["layout","horizontal","align","top",3,"value"],[1,"font-semibold","mt-4","mb-2"],["layout","horizontal","align","bottom",3,"value"],["layout","horizontal","align","alternate",3,"value"],[1,"p-text-secondary"],[1,"flex","w-8","h-8","items-center","justify-center","text-white","rounded-full","z-10","shadow-sm"],[3,"header","subheader"],["width","200","class","shadow",3,"src","alt",4,"ngIf"],["label","Read more",3,"text"],["width","200",1,"shadow",3,"src","alt"]],template:function(e,i){e&1&&(L(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),ne(4,"Left Align"),D(),L(5,"p-timeline",7),B(6,aK,1,1,"ng-template",null,0,Be),D()()(),L(8,"div",4)(9,"div",5)(10,"div",6),ne(11,"Right Align"),D(),L(12,"p-timeline",8),B(13,oK,1,1,"ng-template",null,0,Be),D()()(),L(15,"div",4)(16,"div",5)(17,"div",6),ne(18,"Alternate Align"),D(),L(19,"p-timeline",9),B(20,rK,1,1,"ng-template",null,0,Be),D()()(),L(22,"div",4)(23,"div",5)(24,"div",6),ne(25,"Opposite Content"),D(),L(26,"p-timeline",7),B(27,sK,2,1,"ng-template",null,0,Be)(29,lK,1,1,"ng-template",null,1,Be),D()()(),L(31,"div",10)(32,"div",5)(33,"div",6),ne(34,"Templating"),D(),L(35,"p-timeline",11),B(36,cK,2,6,"ng-template",null,2,Be)(38,dK,5,4,"ng-template",null,0,Be),D()()(),L(40,"div",10)(41,"div",5)(42,"div",6),ne(43,"Horizontal"),D(),L(44,"div",12),ne(45,"Top Align"),D(),L(46,"p-timeline",13),B(47,pK,1,1,"ng-template",null,0,Be),D(),L(49,"div",14),ne(50,"Bottom Align"),D(),L(51,"p-timeline",15),B(52,hK,1,1,"ng-template",null,0,Be),D(),L(54,"div",14),ne(55,"Alternate Align"),D(),L(56,"p-timeline",16),B(57,mK,1,1,"ng-template",null,0,Be)(59,fK,1,0,"ng-template",null,1,Be),D()()()()),e&2&&(S(5),T("value",i.events1),S(7),T("value",i.events1),S(7),T("value",i.events1),S(7),T("value",i.events1),S(9),T("value",i.events1),S(11),T("value",i.events2),S(5),T("value",i.events2),S(5),T("value",i.events2))},dependencies:[mt,$t,Ow,Fw,Fi,qi,cp,tw],encapsulation:2})};var Fp=class t{constructor(s){this.http=s}getData(){return[{id:1e3,name:"James Butt",country:{name:"Algeria",code:"dz"},company:"Benton, John B Jr",date:"2015-09-13",status:"unqualified",verified:!0,activity:17,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:70663},{id:1001,name:"Josephine Darakjy",country:{name:"Egypt",code:"eg"},company:"Chanay, Jeffrey A Esq",date:"2019-02-09",status:"negotiation",verified:!0,activity:0,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:82429},{id:1002,name:"Art Venere",country:{name:"Panama",code:"pa"},company:"Chemel, James L Cpa",date:"2017-05-13",status:"qualified",verified:!1,activity:63,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:28334},{id:1003,name:"Lenna Paprocki",country:{name:"Slovenia",code:"si"},company:"Feltz Printing Service",date:"2020-09-15",status:"new",verified:!1,activity:37,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:88521},{id:1004,name:"Donette Foller",country:{name:"South Africa",code:"za"},company:"Printing Dimensions",date:"2016-05-20",status:"negotiation",verified:!0,activity:33,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:93905},{id:1005,name:"Simona Morasca",country:{name:"Egypt",code:"eg"},company:"Chapman, Ross E Esq",date:"2018-02-16",status:"qualified",verified:!1,activity:68,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:50041},{id:1006,name:"Mitsue Tollner",country:{name:"Paraguay",code:"py"},company:"Morlong Associates",date:"2018-02-19",status:"renewal",verified:!0,activity:54,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:58706},{id:1007,name:"Leota Dilliard",country:{name:"Serbia",code:"rs"},company:"Commercial Press",date:"2019-08-13",status:"renewal",verified:!0,activity:69,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:26640},{id:1008,name:"Sage Wieser",country:{name:"Egypt",code:"eg"},company:"Truhlar And Truhlar Attys",date:"2018-11-21",status:"unqualified",verified:!0,activity:76,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:65369},{id:1009,name:"Kris Marrier",country:{name:"Mexico",code:"mx"},company:"King, Christopher A Esq",date:"2015-07-07",status:"negotiation",verified:!1,activity:3,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:63451},{id:1010,name:"Minna Amigon",country:{name:"Romania",code:"ro"},company:"Dorl, James J Esq",date:"2018-11-07",status:"qualified",verified:!1,activity:38,representative:{name:"Anna Fali",image:"annafali.png"},balance:71169},{id:1011,name:"Abel Maclead",country:{name:"Singapore",code:"sg"},company:"Rangoni Of Florence",date:"2017-03-11",status:"qualified",verified:!0,activity:87,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:96842},{id:1012,name:"Kiley Caldarera",country:{name:"Serbia",code:"rs"},company:"Feiner Bros",date:"2015-10-20",status:"unqualified",verified:!1,activity:80,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:92734},{id:1013,name:"Graciela Ruta",country:{name:"Chile",code:"cl"},company:"Buckley Miller & Wright",date:"2016-07-25",status:"negotiation",verified:!1,activity:59,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:45250},{id:1014,name:"Cammy Albares",country:{name:"Philippines",code:"ph"},company:"Rousseaux, Michael Esq",date:"2019-06-25",status:"new",verified:!0,activity:90,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:30236},{id:1015,name:"Mattie Poquette",country:{name:"Venezuela",code:"ve"},company:"Century Communications",date:"2017-12-12",status:"negotiation",verified:!1,activity:52,representative:{name:"Anna Fali",image:"annafali.png"},balance:64533},{id:1016,name:"Meaghan Garufi",country:{name:"Malaysia",code:"my"},company:"Bolton, Wilbur Esq",date:"2018-07-04",status:"unqualified",verified:!1,activity:31,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:37279},{id:1017,name:"Gladys Rim",country:{name:"Netherlands",code:"nl"},company:"T M Byxbee Company Pc",date:"2020-02-27",status:"renewal",verified:!0,activity:48,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:27381},{id:1018,name:"Yuki Whobrey",country:{name:"Israel",code:"il"},company:"Farmers Insurance Group",date:"2017-12-21",status:"negotiation",verified:!0,activity:16,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:9257},{id:1019,name:"Fletcher Flosi",country:{name:"Argentina",code:"ar"},company:"Post Box Services Plus",date:"2016-01-04",status:"renewal",verified:!0,activity:19,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:67783},{id:1020,name:"Bette Nicka",country:{name:"Paraguay",code:"py"},company:"Sport En Art",date:"2016-10-21",status:"renewal",verified:!1,activity:100,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:4609},{id:1021,name:"Veronika Inouye",country:{name:"Ecuador",code:"ec"},company:"C 4 Network Inc",date:"2017-03-24",status:"renewal",verified:!1,activity:72,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:26565},{id:1022,name:"Willard Kolmetz",country:{name:"Tunisia",code:"tn"},company:"Ingalls, Donald R Esq",date:"2017-04-15",status:"renewal",verified:!0,activity:94,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:75876},{id:1023,name:"Maryann Royster",country:{name:"Belarus",code:"by"},company:"Franklin, Peter L Esq",date:"2017-03-11",status:"qualified",verified:!1,activity:56,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:41121},{id:1024,name:"Alisha Slusarski",country:{name:"Iceland",code:"is"},company:"Wtlz Power 107 Fm",date:"2018-03-27",status:"qualified",verified:!0,activity:7,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:91691},{id:1025,name:"Allene Iturbide",country:{name:"Italy",code:"it"},company:"Ledecky, David Esq",date:"2016-02-20",status:"qualified",verified:!0,activity:1,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:40137},{id:1026,name:"Chanel Caudy",country:{name:"Argentina",code:"ar"},company:"Professional Image Inc",date:"2018-06-24",status:"new",verified:!0,activity:26,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:21304},{id:1027,name:"Ezekiel Chui",country:{name:"Ireland",code:"ie"},company:"Sider, Donald C Esq",date:"2016-09-24",status:"new",verified:!1,activity:76,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:60454},{id:1028,name:"Willow Kusko",country:{name:"Romania",code:"ro"},company:"U Pull It",date:"2020-04-11",status:"qualified",verified:!0,activity:7,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:17565},{id:1029,name:"Bernardo Figeroa",country:{name:"Israel",code:"il"},company:"Clark, Richard Cpa",date:"2018-04-11",status:"renewal",verified:!0,activity:81,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:17774},{id:1030,name:"Ammie Corrio",country:{name:"Hungary",code:"hu"},company:"Moskowitz, Barry S",date:"2016-06-11",status:"negotiation",verified:!0,activity:56,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:49201},{id:1031,name:"Francine Vocelka",country:{name:"Honduras",code:"hn"},company:"Cascade Realty Advisors Inc",date:"2017-08-02",status:"qualified",verified:!0,activity:94,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:67126},{id:1032,name:"Ernie Stenseth",country:{name:"Australia",code:"au"},company:"Knwz Newsradio",date:"2018-06-06",status:"renewal",verified:!0,activity:68,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:76017},{id:1033,name:"Albina Glick",country:{name:"Ukraine",code:"ua"},company:"Giampetro, Anthony D",date:"2019-08-08",status:"negotiation",verified:!0,activity:85,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:91201},{id:1034,name:"Alishia Sergi",country:{name:"Qatar",code:"qa"},company:"Milford Enterprises Inc",date:"2018-05-19",status:"negotiation",verified:!1,activity:46,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:12237},{id:1035,name:"Solange Shinko",country:{name:"Cameroon",code:"cm"},company:"Mosocco, Ronald A",date:"2015-02-12",status:"qualified",verified:!0,activity:32,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:34072},{id:1036,name:"Jose Stockham",country:{name:"Italy",code:"it"},company:"Tri State Refueler Co",date:"2018-04-25",status:"qualified",verified:!0,activity:77,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:94909},{id:1037,name:"Rozella Ostrosky",country:{name:"Venezuela",code:"ve"},company:"Parkway Company",date:"2016-02-27",status:"unqualified",verified:!0,activity:66,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:57245},{id:1038,name:"Valentine Gillian",country:{name:"Paraguay",code:"py"},company:"Fbs Business Finance",date:"2019-09-17",status:"qualified",verified:!0,activity:25,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:75502},{id:1039,name:"Kati Rulapaugh",country:{name:"Puerto Rico",code:"pr"},company:"Eder Assocs Consltng Engrs Pc",date:"2016-12-03",status:"renewal",verified:!1,activity:51,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:82075},{id:1040,name:"Youlanda Schemmer",country:{name:"Bolivia",code:"bo"},company:"Tri M Tool Inc",date:"2017-12-15",status:"negotiation",verified:!0,activity:49,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:19208},{id:1041,name:"Dyan Oldroyd",country:{name:"Argentina",code:"ar"},company:"International Eyelets Inc",date:"2017-02-02",status:"qualified",verified:!1,activity:5,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:50194},{id:1042,name:"Roxane Campain",country:{name:"France",code:"fr"},company:"Rapid Trading Intl",date:"2018-12-25",status:"unqualified",verified:!1,activity:100,representative:{name:"Anna Fali",image:"annafali.png"},balance:77714},{id:1043,name:"Lavera Perin",country:{name:"Vietnam",code:"vn"},company:"Abc Enterprises Inc",date:"2018-04-10",status:"qualified",verified:!1,activity:71,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:35740},{id:1044,name:"Erick Ferencz",country:{name:"Belgium",code:"be"},company:"Cindy Turner Associates",date:"2018-05-06",status:"unqualified",verified:!0,activity:54,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:30790},{id:1045,name:"Fatima Saylors",country:{name:"Canada",code:"ca"},company:"Stanton, James D Esq",date:"2019-07-10",status:"renewal",verified:!0,activity:93,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:52343},{id:1046,name:"Jina Briddick",country:{name:"Mexico",code:"mx"},company:"Grace Pastries Inc",date:"2018-02-19",status:"unqualified",verified:!1,activity:97,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:53966},{id:1047,name:"Kanisha Waycott",country:{name:"Ecuador",code:"ec"},company:"Schroer, Gene E Esq",date:"2019-11-27",status:"new",verified:!1,activity:80,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:9920},{id:1048,name:"Emerson Bowley",country:{name:"Finland",code:"fi"},company:"Knights Inn",date:"2018-11-24",status:"new",verified:!1,activity:63,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:78069},{id:1049,name:"Blair Malet",country:{name:"Finland",code:"fi"},company:"Bollinger Mach Shp & Shipyard",date:"2018-04-19",status:"new",verified:!0,activity:92,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:65005},{id:1050,name:"Brock Bolognia",country:{name:"Bolivia",code:"bo"},company:"Orinda News",date:"2019-09-06",status:"renewal",verified:!0,activity:72,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:51038},{id:1051,name:"Lorrie Nestle",country:{name:"Germany",code:"de"},company:"Ballard Spahr Andrews",date:"2018-04-26",status:"renewal",verified:!1,activity:36,representative:{name:"Anna Fali",image:"annafali.png"},balance:28218},{id:1052,name:"Sabra Uyetake",country:{name:"Peru",code:"pe"},company:"Lowy Limousine Service",date:"2018-04-12",status:"new",verified:!1,activity:31,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:78527},{id:1053,name:"Marjory Mastella",country:{name:"Netherlands",code:"nl"},company:"Vicon Corporation",date:"2018-01-24",status:"negotiation",verified:!1,activity:89,representative:{name:"Anna Fali",image:"annafali.png"},balance:23381},{id:1054,name:"Karl Klonowski",country:{name:"Saudi Arabia",code:"sa"},company:"Rossi, Michael M",date:"2017-04-17",status:"unqualified",verified:!0,activity:27,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:64821},{id:1055,name:"Tonette Wenner",country:{name:"Australia",code:"au"},company:"Northwest Publishing",date:"2019-04-14",status:"qualified",verified:!1,activity:27,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:55334},{id:1056,name:"Amber Monarrez",country:{name:"Sweden",code:"se"},company:"Branford Wire & Mfg Co",date:"2019-09-09",status:"new",verified:!1,activity:79,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:83391},{id:1057,name:"Shenika Seewald",country:{name:"Australia",code:"au"},company:"East Coast Marketing",date:"2017-02-18",status:"renewal",verified:!0,activity:39,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:31580},{id:1058,name:"Delmy Ahle",country:{name:"Belgium",code:"be"},company:"Wye Technologies Inc",date:"2020-10-05",status:"unqualified",verified:!1,activity:55,representative:{name:"Anna Fali",image:"annafali.png"},balance:11723},{id:1059,name:"Deeanna Juhas",country:{name:"Sweden",code:"se"},company:"Healy, George W Iv",date:"2018-09-28",status:"negotiation",verified:!1,activity:79,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:8454},{id:1060,name:"Blondell Pugh",country:{name:"Ireland",code:"ie"},company:"Alpenlite Inc",date:"2016-06-16",status:"renewal",verified:!1,activity:49,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:99235},{id:1061,name:"Jamal Vanausdal",country:{name:"Morocco",code:"ma"},company:"Hubbard, Bruce Esq",date:"2017-05-25",status:"negotiation",verified:!0,activity:87,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:15656},{id:1062,name:"Cecily Hollack",country:{name:"Bolivia",code:"bo"},company:"Arthur A Oliver & Son Inc",date:"2020-05-09",status:"negotiation",verified:!0,activity:5,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:60586},{id:1063,name:"Carmelina Lindall",country:{name:"Puerto Rico",code:"pr"},company:"George Jessop Carter Jewelers",date:"2019-09-07",status:"qualified",verified:!0,activity:77,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:86239},{id:1064,name:"Maurine Yglesias",country:{name:"Taiwan",code:"tw"},company:"Schultz, Thomas C Md",date:"2015-08-10",status:"renewal",verified:!1,activity:94,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:15621},{id:1065,name:"Tawna Buvens",country:{name:"Indonesia",code:"id"},company:"H H H Enterprises Inc",date:"2018-03-20",status:"new",verified:!1,activity:25,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:77248},{id:1066,name:"Penney Weight",country:{name:"South Africa",code:"za"},company:"Hawaiian King Hotel",date:"2020-03-03",status:"qualified",verified:!1,activity:96,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:478},{id:1067,name:"Elly Morocco",country:{name:"Thailand",code:"th"},company:"Killion Industries",date:"2018-09-18",status:"qualified",verified:!0,activity:38,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:62505},{id:1068,name:"Ilene Eroman",country:{name:"Netherlands",code:"nl"},company:"Robinson, William J Esq",date:"2019-06-08",status:"new",verified:!0,activity:49,representative:{name:"Anna Fali",image:"annafali.png"},balance:91480},{id:1069,name:"Vallie Mondella",country:{name:"Latvia",code:"lv"},company:"Private Properties",date:"2018-12-06",status:"new",verified:!1,activity:16,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:21671},{id:1070,name:"Kallie Blackwood",country:{name:"Iceland",code:"is"},company:"Rowley Schlimgen Inc",date:"2017-04-05",status:"unqualified",verified:!1,activity:25,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:13775},{id:1071,name:"Johnetta Abdallah",country:{name:"Netherlands",code:"nl"},company:"Forging Specialties",date:"2015-02-02",status:"new",verified:!1,activity:16,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:60253},{id:1072,name:"Bobbye Rhym",country:{name:"Ukraine",code:"ua"},company:"Smits, Patricia Garity",date:"2018-08-17",status:"qualified",verified:!0,activity:85,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:75225},{id:1073,name:"Micaela Rhymes",country:{name:"France",code:"fr"},company:"H Lee Leonard Attorney At Law",date:"2018-09-08",status:"renewal",verified:!0,activity:92,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:3308},{id:1074,name:"Tamar Hoogland",country:{name:"Guatemala",code:"gt"},company:"A K Construction Co",date:"2018-11-13",status:"negotiation",verified:!0,activity:22,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:19711},{id:1075,name:"Moon Parlato",country:{name:"Czech Republic",code:"cz"},company:"Ambelang, Jessica M Md",date:"2019-08-18",status:"renewal",verified:!1,activity:64,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:55110},{id:1076,name:"Laurel Reitler",country:{name:"United Kingdom",code:"gb"},company:"Q A Service",date:"2015-04-02",status:"negotiation",verified:!1,activity:80,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:62392},{id:1077,name:"Delisa Crupi",country:{name:"Taiwan",code:"tw"},company:"Wood & Whitacre Contractors",date:"2017-09-15",status:"unqualified",verified:!1,activity:70,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:76530},{id:1078,name:"Viva Toelkes",country:{name:"United States",code:"us"},company:"Mark Iv Press Ltd",date:"2017-03-27",status:"qualified",verified:!1,activity:16,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:7460},{id:1079,name:"Elza Lipke",country:{name:"Ireland",code:"ie"},company:"Museum Of Science & Industry",date:"2017-06-01",status:"negotiation",verified:!0,activity:90,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:42251},{id:1080,name:"Devorah Chickering",country:{name:"Spain",code:"es"},company:"Garrison Ind",date:"2017-03-14",status:"negotiation",verified:!0,activity:96,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:36435},{id:1081,name:"Timothy Mulqueen",country:{name:"Netherlands",code:"nl"},company:"Saronix Nymph Products",date:"2018-07-09",status:"renewal",verified:!0,activity:77,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:39197},{id:1082,name:"Arlette Honeywell",country:{name:"Panama",code:"pa"},company:"Smc Inc",date:"2018-09-11",status:"negotiation",verified:!0,activity:46,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:72707},{id:1083,name:"Dominque Dickerson",country:{name:"Argentina",code:"ar"},company:"E A I Electronic Assocs Inc",date:"2017-11-12",status:"qualified",verified:!0,activity:83,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:97965},{id:1084,name:"Lettie Isenhower",country:{name:"Canada",code:"ca"},company:"Conte, Christopher A Esq",date:"2016-03-01",status:"qualified",verified:!0,activity:83,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:5823},{id:1085,name:"Myra Munns",country:{name:"Lithuania",code:"lt"},company:"Anker Law Office",date:"2016-05-21",status:"unqualified",verified:!0,activity:49,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:96471},{id:1086,name:"Stephaine Barfield",country:{name:"Belgium",code:"be"},company:"Beutelschies & Company",date:"2016-01-22",status:"new",verified:!0,activity:34,representative:{name:"Anna Fali",image:"annafali.png"},balance:33710},{id:1087,name:"Lai Gato",country:{name:"Nigeria",code:"ng"},company:"Fligg, Kenneth I Jr",date:"2016-07-26",status:"unqualified",verified:!1,activity:64,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:30611},{id:1088,name:"Stephen Emigh",country:{name:"Cuba",code:"cu"},company:"Sharp, J Daniel Esq",date:"2020-07-24",status:"renewal",verified:!1,activity:51,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:32960},{id:1089,name:"Tyra Shields",country:{name:"Honduras",code:"hn"},company:"Assink, Anne H Esq",date:"2019-11-10",status:"negotiation",verified:!1,activity:11,representative:{name:"Anna Fali",image:"annafali.png"},balance:57423},{id:1090,name:"Tammara Wardrip",country:{name:"Saudi Arabia",code:"sa"},company:"Jewel My Shop Inc",date:"2016-06-05",status:"renewal",verified:!0,activity:64,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:23027},{id:1091,name:"Cory Gibes",country:{name:"Malaysia",code:"my"},company:"Chinese Translation Resources",date:"2016-02-28",status:"new",verified:!1,activity:44,representative:{name:"Anna Fali",image:"annafali.png"},balance:84182},{id:1092,name:"Danica Bruschke",country:{name:"Taiwan",code:"tw"},company:"Stevens, Charles T",date:"2018-12-13",status:"unqualified",verified:!0,activity:62,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:25237},{id:1093,name:"Wilda Giguere",country:{name:"Iceland",code:"is"},company:"Mclaughlin, Luther W Cpa",date:"2017-06-16",status:"new",verified:!0,activity:79,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:87736},{id:1094,name:"Elvera Benimadho",country:{name:"Malaysia",code:"my"},company:"Tree Musketeers",date:"2019-02-17",status:"negotiation",verified:!0,activity:50,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:38674},{id:1095,name:"Carma Vanheusen",country:{name:"Turkey",code:"tr"},company:"Springfield Div Oh Edison Co",date:"2019-11-26",status:"renewal",verified:!1,activity:84,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:67762},{id:1096,name:"Malinda Hochard",country:{name:"Serbia",code:"rs"},company:"Logan Memorial Hospital",date:"2016-07-06",status:"new",verified:!1,activity:88,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:81299},{id:1097,name:"Natalie Fern",country:{name:"Canada",code:"ca"},company:"Kelly, Charles G Esq",date:"2019-10-02",status:"negotiation",verified:!0,activity:44,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:64794},{id:1098,name:"Lisha Centini",country:{name:"Netherlands",code:"nl"},company:"Industrial Paper Shredders Inc",date:"2018-07-05",status:"new",verified:!0,activity:7,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:7815},{id:1099,name:"Arlene Klusman",country:{name:"Jamaica",code:"jm"},company:"Beck Horizon Builders",date:"2018-05-14",status:"negotiation",verified:!0,activity:99,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:37976},{id:1100,name:"Alease Buemi",country:{name:"Costa Rica",code:"cr"},company:"Porto Cayo At Hawks Cay",date:"2018-03-14",status:"unqualified",verified:!0,activity:0,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:59594},{id:1101,name:"Louisa Cronauer",country:{name:"Costa Rica",code:"cr"},company:"Pacific Grove Museum Ntrl Hist",date:"2018-09-23",status:"qualified",verified:!1,activity:3,representative:{name:"Anna Fali",image:"annafali.png"},balance:92528},{id:1102,name:"Angella Cetta",country:{name:"Vietnam",code:"vn"},company:"Bender & Hatley Pc",date:"2018-04-10",status:"qualified",verified:!1,activity:88,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:58964},{id:1103,name:"Cyndy Goldammer",country:{name:"Burkina Faso",code:"bf"},company:"Di Cristina J & Son",date:"2017-09-18",status:"unqualified",verified:!1,activity:92,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:65860},{id:1104,name:"Rosio Cork",country:{name:"Singapore",code:"sg"},company:"Green Goddess",date:"2017-08-19",status:"negotiation",verified:!0,activity:19,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:63863},{id:1105,name:"Celeste Korando",country:{name:"Costa Rica",code:"cr"},company:"American Arts & Graphics",date:"2020-06-18",status:"negotiation",verified:!0,activity:21,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:37510},{id:1106,name:"Twana Felger",country:{name:"Croatia",code:"hr"},company:"Opryland Hotel",date:"2016-11-18",status:"negotiation",verified:!1,activity:97,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:63876},{id:1107,name:"Estrella Samu",country:{name:"Vietnam",code:"vn"},company:"Marking Devices Pubg Co",date:"2017-06-25",status:"unqualified",verified:!1,activity:27,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:93263},{id:1108,name:"Donte Kines",country:{name:"Slovakia",code:"sk"},company:"W Tc Industries Inc",date:"2019-02-16",status:"new",verified:!0,activity:35,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:57198},{id:1109,name:"Tiffiny Steffensmeier",country:{name:"Pakistan",code:"pk"},company:"Whitehall Robbins Labs Divsn",date:"2018-03-11",status:"new",verified:!0,activity:81,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:89147},{id:1110,name:"Edna Miceli",country:{name:"France",code:"fr"},company:"Sampler",date:"2017-10-15",status:"renewal",verified:!0,activity:54,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:41466},{id:1111,name:"Sue Kownacki",country:{name:"Jamaica",code:"jm"},company:"Juno Chefs Incorporated",date:"2017-03-17",status:"negotiation",verified:!1,activity:31,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:38918},{id:1112,name:"Jesusa Shin",country:{name:"Ukraine",code:"ua"},company:"Carroccio, A Thomas Esq",date:"2017-04-06",status:"renewal",verified:!1,activity:28,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:11397},{id:1113,name:"Rolland Francescon",country:{name:"United Kingdom",code:"gb"},company:"Stanley, Richard L Esq",date:"2019-02-03",status:"qualified",verified:!1,activity:45,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:40930},{id:1114,name:"Pamella Schmierer",country:{name:"Belgium",code:"be"},company:"K Cs Cstm Mouldings Windows",date:"2016-09-22",status:"unqualified",verified:!0,activity:34,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:40847},{id:1115,name:"Glory Kulzer",country:{name:"Croatia",code:"hr"},company:"Comfort Inn",date:"2017-09-27",status:"unqualified",verified:!0,activity:36,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:27832},{id:1116,name:"Shawna Palaspas",country:{name:"Estonia",code:"ee"},company:"Windsor, James L Esq",date:"2017-06-25",status:"unqualified",verified:!0,activity:69,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:89060},{id:1117,name:"Brandon Callaro",country:{name:"Romania",code:"ro"},company:"Jackson Shields Yeiser",date:"2016-07-13",status:"negotiation",verified:!0,activity:55,representative:{name:"Anna Fali",image:"annafali.png"},balance:52474},{id:1118,name:"Scarlet Cartan",country:{name:"Panama",code:"pa"},company:"Box, J Calvin Esq",date:"2018-09-13",status:"renewal",verified:!1,activity:1,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:19094},{id:1119,name:"Oretha Menter",country:{name:"Panama",code:"pa"},company:"Custom Engineering Inc",date:"2017-09-11",status:"renewal",verified:!1,activity:8,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:93756},{id:1120,name:"Ty Smith",country:{name:"United States",code:"us"},company:"Bresler Eitel Framg Gllry Ltd",date:"2019-07-06",status:"unqualified",verified:!1,activity:50,representative:{name:"Anna Fali",image:"annafali.png"},balance:77388},{id:1121,name:"Xuan Rochin",country:{name:"Colombia",code:"co"},company:"Carol, Drake Sparks Esq",date:"2018-05-22",status:"negotiation",verified:!0,activity:77,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:48759},{id:1122,name:"Lindsey Dilello",country:{name:"Austria",code:"at"},company:"Biltmore Investors Bank",date:"2017-07-18",status:"renewal",verified:!0,activity:65,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:37568},{id:1123,name:"Devora Perez",country:{name:"Uruguay",code:"uy"},company:"Desco Equipment Corp",date:"2017-10-09",status:"unqualified",verified:!0,activity:30,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:4477},{id:1124,name:"Herman Demesa",country:{name:"Paraguay",code:"py"},company:"Merlin Electric Co",date:"2019-05-23",status:"negotiation",verified:!0,activity:10,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:13764},{id:1125,name:"Rory Papasergi",country:{name:"Egypt",code:"eg"},company:"Bailey Cntl Co Div Babcock",date:"2019-03-02",status:"qualified",verified:!1,activity:22,representative:{name:"Anna Fali",image:"annafali.png"},balance:68222},{id:1126,name:"Talia Riopelle",country:{name:"Guatemala",code:"gt"},company:"Ford Brothers Wholesale Inc",date:"2017-02-18",status:"new",verified:!1,activity:69,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:29164},{id:1127,name:"Van Shire",country:{name:"Netherlands",code:"nl"},company:"Cambridge Inn",date:"2020-05-12",status:"new",verified:!1,activity:4,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:61651},{id:1128,name:"Lucina Lary",country:{name:"Switzerland",code:"ch"},company:"Matricciani, Albert J Jr",date:"2019-11-20",status:"negotiation",verified:!0,activity:11,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:79938},{id:1129,name:"Bok Isaacs",country:{name:"Chile",code:"cl"},company:"Nelson Hawaiian Ltd",date:"2016-11-10",status:"negotiation",verified:!0,activity:41,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:44037},{id:1130,name:"Rolande Spickerman",country:{name:"Panama",code:"pa"},company:"Neland Travel Agency",date:"2016-07-11",status:"renewal",verified:!0,activity:84,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:89918},{id:1131,name:"Howard Paulas",country:{name:"Indonesia",code:"id"},company:"Asendorf, J Alan Esq",date:"2017-07-17",status:"negotiation",verified:!1,activity:22,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:32372},{id:1132,name:"Kimbery Madarang",country:{name:"Senegal",code:"sn"},company:"Silberman, Arthur L Esq",date:"2018-08-19",status:"negotiation",verified:!0,activity:63,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:46478},{id:1133,name:"Thurman Manno",country:{name:"Colombia",code:"co"},company:"Honey Bee Breeding Genetics &",date:"2016-05-02",status:"qualified",verified:!0,activity:47,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:30674},{id:1134,name:"Becky Mirafuentes",country:{name:"Serbia",code:"rs"},company:"Wells Kravitz Schnitzer",date:"2018-04-13",status:"unqualified",verified:!0,activity:62,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:47714},{id:1135,name:"Beatriz Corrington",country:{name:"South Africa",code:"za"},company:"Prohab Rehabilitation Servs",date:"2020-01-04",status:"renewal",verified:!0,activity:55,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:14307},{id:1136,name:"Marti Maybury",country:{name:"Thailand",code:"th"},company:"Eldridge, Kristin K Esq",date:"2016-02-05",status:"unqualified",verified:!1,activity:3,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:82069},{id:1137,name:"Nieves Gotter",country:{name:"Latvia",code:"lv"},company:"Vlahos, John J Esq",date:"2017-03-12",status:"negotiation",verified:!1,activity:3,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:11182},{id:1138,name:"Leatha Hagele",country:{name:"Ukraine",code:"ua"},company:"Ninas Indian Grs & Videos",date:"2019-03-27",status:"unqualified",verified:!1,activity:67,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:17126},{id:1139,name:"Valentin Klimek",country:{name:"Ivory Coast",code:"ci"},company:"Schmid, Gayanne K Esq",date:"2019-08-06",status:"unqualified",verified:!0,activity:14,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:19724},{id:1140,name:"Melissa Wiklund",country:{name:"Japan",code:"jp"},company:"Moapa Valley Federal Credit Un",date:"2018-03-20",status:"qualified",verified:!0,activity:8,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:91888},{id:1141,name:"Sheridan Zane",country:{name:"Croatia",code:"hr"},company:"Kentucky Tennessee Clay Co",date:"2016-02-15",status:"qualified",verified:!0,activity:17,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:15016},{id:1142,name:"Bulah Padilla",country:{name:"Philippines",code:"ph"},company:"Admiral Party Rentals & Sales",date:"2016-02-10",status:"negotiation",verified:!1,activity:58,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:23118},{id:1143,name:"Audra Kohnert",country:{name:"Netherlands",code:"nl"},company:"Nelson, Karolyn King Esq",date:"2019-07-16",status:"unqualified",verified:!1,activity:82,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:90560},{id:1144,name:"Daren Weirather",country:{name:"Israel",code:"il"},company:"Panasystems",date:"2015-07-23",status:"negotiation",verified:!1,activity:96,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:34155},{id:1145,name:"Fernanda Jillson",country:{name:"Mexico",code:"mx"},company:"Shank, Edward L Esq",date:"2017-07-02",status:"unqualified",verified:!0,activity:92,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:6350},{id:1146,name:"Gearldine Gellinger",country:{name:"Egypt",code:"eg"},company:"Megibow & Edwards",date:"2019-08-17",status:"negotiation",verified:!0,activity:18,representative:{name:"Anna Fali",image:"annafali.png"},balance:77641},{id:1147,name:"Chau Kitzman",country:{name:"Paraguay",code:"py"},company:"Benoff, Edward Esq",date:"2019-07-04",status:"new",verified:!0,activity:9,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:43289},{id:1148,name:"Theola Frey",country:{name:"Vietnam",code:"vn"},company:"Woodbridge Free Public Library",date:"2020-03-14",status:"unqualified",verified:!0,activity:44,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:85657},{id:1149,name:"Cheryl Haroldson",country:{name:"France",code:"fr"},company:"New York Life John Thune",date:"2018-04-03",status:"new",verified:!1,activity:55,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:82733},{id:1150,name:"Laticia Merced",country:{name:"Burkina Faso",code:"bf"},company:"Alinabal Inc",date:"2017-03-04",status:"unqualified",verified:!1,activity:21,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:38004},{id:1151,name:"Carissa Batman",country:{name:"Greece",code:"gr"},company:"Poletto, Kim David Esq",date:"2016-05-05",status:"negotiation",verified:!0,activity:91,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:29038},{id:1152,name:"Lezlie Craghead",country:{name:"Panama",code:"pa"},company:"Chang, Carolyn Esq",date:"2019-05-28",status:"renewal",verified:!1,activity:30,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:75123},{id:1153,name:"Ozell Shealy",country:{name:"Pakistan",code:"pk"},company:"Silver Bros Inc",date:"2016-08-19",status:"negotiation",verified:!0,activity:14,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:33214},{id:1154,name:"Arminda Parvis",country:{name:"Indonesia",code:"id"},company:"Newtec Inc",date:"2020-02-09",status:"negotiation",verified:!0,activity:77,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:80651},{id:1155,name:"Reita Leto",country:{name:"Belgium",code:"be"},company:"Creative Business Systems",date:"2020-04-03",status:"unqualified",verified:!0,activity:58,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:5085},{id:1156,name:"Yolando Luczki",country:{name:"France",code:"fr"},company:"Dal Tile Corporation",date:"2015-01-27",status:"renewal",verified:!0,activity:78,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:93021},{id:1157,name:"Lizette Stem",country:{name:"Slovakia",code:"sk"},company:"Edward S Katz",date:"2018-08-06",status:"new",verified:!1,activity:67,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:37287},{id:1158,name:"Gregoria Pawlowicz",country:{name:"Egypt",code:"eg"},company:"Oh My Goodknits Inc",date:"2020-02-20",status:"renewal",verified:!1,activity:29,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:73070},{id:1159,name:"Carin Deleo",country:{name:"China",code:"cn"},company:"Redeker, Debbie",date:"2015-05-28",status:"qualified",verified:!0,activity:13,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:64422},{id:1160,name:"Chantell Maynerich",country:{name:"Estonia",code:"ee"},company:"Desert Sands Motel",date:"2016-09-05",status:"unqualified",verified:!0,activity:75,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:36826},{id:1161,name:"Dierdre Yum",country:{name:"Czech Republic",code:"cz"},company:"Cummins Southern Plains Inc",date:"2016-12-20",status:"negotiation",verified:!0,activity:1,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:93101},{id:1162,name:"Larae Gudroe",country:{name:"Slovenia",code:"si"},company:"Lehigh Furn Divsn Lehigh",date:"2015-11-28",status:"unqualified",verified:!1,activity:13,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:60177},{id:1163,name:"Latrice Tolfree",country:{name:"Jamaica",code:"jm"},company:"United Van Lines Agent",date:"2018-11-11",status:"renewal",verified:!1,activity:73,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:47198},{id:1164,name:"Kerry Theodorov",country:{name:"Romania",code:"ro"},company:"Capitol Reporters",date:"2016-11-05",status:"unqualified",verified:!0,activity:76,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:71305},{id:1165,name:"Dorthy Hidvegi",country:{name:"Poland",code:"pl"},company:"Kwik Kopy Printing",date:"2020-08-13",status:"qualified",verified:!0,activity:60,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:17526},{id:1166,name:"Fannie Lungren",country:{name:"Belarus",code:"by"},company:"Centro Inc",date:"2015-07-06",status:"negotiation",verified:!0,activity:24,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:16596},{id:1167,name:"Evangelina Radde",country:{name:"Ivory Coast",code:"ci"},company:"Campbell, Jan Esq",date:"2020-02-25",status:"unqualified",verified:!0,activity:93,representative:{name:"Anna Fali",image:"annafali.png"},balance:56870},{id:1168,name:"Novella Degroot",country:{name:"Slovenia",code:"si"},company:"Evans, C Kelly Esq",date:"2017-12-19",status:"unqualified",verified:!1,activity:30,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:82928},{id:1169,name:"Clay Hoa",country:{name:"Paraguay",code:"py"},company:"Scat Enterprises",date:"2016-02-22",status:"negotiation",verified:!1,activity:93,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:64181},{id:1170,name:"Jennifer Fallick",country:{name:"Australia",code:"au"},company:"Nagle, Daniel J Esq",date:"2016-12-24",status:"unqualified",verified:!0,activity:88,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:30561},{id:1171,name:"Irma Wolfgramm",country:{name:"Belgium",code:"be"},company:"Serendiquity Bed & Breakfast",date:"2020-10-18",status:"negotiation",verified:!0,activity:70,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:24617},{id:1172,name:"Eun Coody",country:{name:"Taiwan",code:"tw"},company:"Ray Carolyne Realty",date:"2018-02-12",status:"qualified",verified:!0,activity:61,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:77860},{id:1173,name:"Sylvia Cousey",country:{name:"Ireland",code:"ie"},company:"Berg, Charles E",date:"2018-06-10",status:"unqualified",verified:!1,activity:91,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:25664},{id:1174,name:"Nana Wrinkles",country:{name:"Austria",code:"at"},company:"Ray, Milbern D",date:"2017-04-11",status:"renewal",verified:!0,activity:98,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:98113},{id:1175,name:"Layla Springe",country:{name:"South Africa",code:"za"},company:"Chadds Ford Winery",date:"2019-07-27",status:"unqualified",verified:!0,activity:97,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:14763},{id:1176,name:"Joesph Degonia",country:{name:"Serbia",code:"rs"},company:"A R Packaging",date:"2020-04-23",status:"renewal",verified:!0,activity:56,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:31317},{id:1177,name:"Annabelle Boord",country:{name:"Guatemala",code:"gt"},company:"Corn Popper",date:"2020-09-16",status:"negotiation",verified:!0,activity:76,representative:{name:"Anna Fali",image:"annafali.png"},balance:30883},{id:1178,name:"Stephaine Vinning",country:{name:"Australia",code:"au"},company:"Birite Foodservice Distr",date:"2016-05-14",status:"negotiation",verified:!0,activity:43,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:93785},{id:1179,name:"Nelida Sawchuk",country:{name:"South Africa",code:"za"},company:"Anchorage Museum Of Hist & Art",date:"2018-06-22",status:"qualified",verified:!0,activity:58,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:68380},{id:1180,name:"Marguerita Hiatt",country:{name:"United Kingdom",code:"gb"},company:"Haber, George D Md",date:"2018-10-25",status:"qualified",verified:!1,activity:72,representative:{name:"Anna Fali",image:"annafali.png"},balance:93454},{id:1181,name:"Carmela Cookey",country:{name:"France",code:"fr"},company:"Royal Pontiac Olds Inc",date:"2018-07-19",status:"negotiation",verified:!1,activity:24,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:30570},{id:1182,name:"Junita Brideau",country:{name:"Indonesia",code:"id"},company:"Leonards Antiques Inc",date:"2015-03-15",status:"negotiation",verified:!0,activity:86,representative:{name:"Anna Fali",image:"annafali.png"},balance:79506},{id:1183,name:"Claribel Varriano",country:{name:"Ecuador",code:"ec"},company:"Meca",date:"2017-04-14",status:"unqualified",verified:!0,activity:15,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:8654},{id:1184,name:"Benton Skursky",country:{name:"Iceland",code:"is"},company:"Nercon Engineering & Mfg Inc",date:"2015-02-19",status:"negotiation",verified:!0,activity:9,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:13368},{id:1185,name:"Hillary Skulski",country:{name:"France",code:"fr"},company:"Replica I",date:"2016-03-25",status:"unqualified",verified:!0,activity:82,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:92631},{id:1186,name:"Merilyn Bayless",country:{name:"Jamaica",code:"jm"},company:"20 20 Printing Inc",date:"2020-10-13",status:"unqualified",verified:!0,activity:13,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:4989},{id:1187,name:"Teri Ennaco",country:{name:"Pakistan",code:"pk"},company:"Publishers Group West",date:"2019-12-21",status:"unqualified",verified:!0,activity:57,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:77668},{id:1188,name:"Merlyn Lawler",country:{name:"Germany",code:"de"},company:"Nischwitz, Jeffrey L Esq",date:"2016-02-26",status:"renewal",verified:!0,activity:45,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:3525},{id:1189,name:"Georgene Montezuma",country:{name:"Senegal",code:"sn"},company:"Payne Blades & Wellborn Pa",date:"2018-10-11",status:"new",verified:!0,activity:64,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:45838},{id:1190,name:"Jettie Mconnell",country:{name:"Denmark",code:"dk"},company:"Coldwell Bnkr Wright Real Est",date:"2015-10-18",status:"negotiation",verified:!1,activity:74,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:49148},{id:1191,name:"Lemuel Latzke",country:{name:"Colombia",code:"co"},company:"Computer Repair Service",date:"2016-02-13",status:"negotiation",verified:!1,activity:79,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:96709},{id:1192,name:"Melodie Knipp",country:{name:"Finland",code:"fi"},company:"Fleetwood Building Block Inc",date:"2018-03-08",status:"negotiation",verified:!1,activity:19,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:23253},{id:1193,name:"Candida Corbley",country:{name:"Poland",code:"pl"},company:"Colts Neck Medical Assocs Inc",date:"2017-12-02",status:"negotiation",verified:!0,activity:11,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:40836},{id:1194,name:"Karan Karpin",country:{name:"Estonia",code:"ee"},company:"New England Taxidermy",date:"2019-01-07",status:"negotiation",verified:!0,activity:4,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:60719},{id:1195,name:"Andra Scheyer",country:{name:"Romania",code:"ro"},company:"Ludcke, George O Esq",date:"2016-08-14",status:"qualified",verified:!0,activity:62,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:17419},{id:1196,name:"Felicidad Poullion",country:{name:"Greece",code:"gr"},company:"Mccorkle, Tom S Esq",date:"2016-03-05",status:"renewal",verified:!0,activity:64,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:94052},{id:1197,name:"Belen Strassner",country:{name:"Ivory Coast",code:"ci"},company:"Eagle Software Inc",date:"2015-12-14",status:"qualified",verified:!0,activity:91,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:54241},{id:1198,name:"Gracia Melnyk",country:{name:"Costa Rica",code:"cr"},company:"Juvenile & Adult Super",date:"2019-06-01",status:"unqualified",verified:!0,activity:40,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:87668},{id:1199,name:"Jolanda Hanafan",country:{name:"Cameroon",code:"cm"},company:"Perez, Joseph J Esq",date:"2015-12-09",status:"qualified",verified:!0,activity:27,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:99417},{id:1200,name:"Barrett Toyama",country:{name:"Thailand",code:"th"},company:"Case Foundation Co",date:"2019-08-16",status:"new",verified:!0,activity:82,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:89792},{id:1201,name:"Helga Fredicks",country:{name:"Guatemala",code:"gt"},company:"Eis Environmental Engrs Inc",date:"2018-06-20",status:"new",verified:!0,activity:33,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:42356},{id:1202,name:"Ashlyn Pinilla",country:{name:"Japan",code:"jp"},company:"Art Crafters",date:"2018-04-11",status:"unqualified",verified:!0,activity:5,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:90979},{id:1203,name:"Fausto Agramonte",country:{name:"Belgium",code:"be"},company:"Marriott Hotels Resorts Suites",date:"2019-06-25",status:"new",verified:!1,activity:22,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:45082},{id:1204,name:"Ronny Caiafa",country:{name:"Argentina",code:"ar"},company:"Remaco Inc",date:"2020-07-21",status:"new",verified:!0,activity:61,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:9871},{id:1205,name:"Marge Limmel",country:{name:"Cameroon",code:"cm"},company:"Bjork, Robert D Jr",date:"2015-03-12",status:"unqualified",verified:!0,activity:90,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:47043},{id:1206,name:"Norah Waymire",country:{name:"United States",code:"us"},company:"Carmichael, Jeffery L Esq",date:"2019-06-11",status:"renewal",verified:!0,activity:48,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:92763},{id:1207,name:"Aliza Baltimore",country:{name:"Malaysia",code:"my"},company:"Andrews, J Robert Esq",date:"2020-11-25",status:"unqualified",verified:!0,activity:59,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:18075},{id:1208,name:"Mozell Pelkowski",country:{name:"Latvia",code:"lv"},company:"Winship & Byrne",date:"2018-04-13",status:"unqualified",verified:!0,activity:94,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:34393},{id:1209,name:"Viola Bitsuie",country:{name:"Denmark",code:"dk"},company:"Burton & Davis",date:"2018-07-07",status:"new",verified:!0,activity:94,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:16410},{id:1210,name:"Franklyn Emard",country:{name:"Iceland",code:"is"},company:"Olympic Graphic Arts",date:"2018-02-25",status:"qualified",verified:!0,activity:95,representative:{name:"Anna Fali",image:"annafali.png"},balance:1017},{id:1211,name:"Willodean Konopacki",country:{name:"Hong Kong",code:"hk"},company:"Magnuson",date:"2017-10-03",status:"renewal",verified:!1,activity:20,representative:{name:"Anna Fali",image:"annafali.png"},balance:77843},{id:1212,name:"Beckie Silvestrini",country:{name:"Poland",code:"pl"},company:"A All American Travel Inc",date:"2016-11-26",status:"renewal",verified:!0,activity:81,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:30549},{id:1213,name:"Rebecka Gesick",country:{name:"Philippines",code:"ph"},company:"Polykote Inc",date:"2019-06-22",status:"renewal",verified:!0,activity:45,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:51738},{id:1214,name:"Frederica Blunk",country:{name:"Lithuania",code:"lt"},company:"Jets Cybernetics",date:"2019-06-07",status:"renewal",verified:!0,activity:56,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:13111},{id:1215,name:"Glen Bartolet",country:{name:"Germany",code:"de"},company:"Metlab Testing Services",date:"2015-02-13",status:"negotiation",verified:!0,activity:99,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:85802},{id:1216,name:"Freeman Gochal",country:{name:"Slovenia",code:"si"},company:"Kellermann, William T Esq",date:"2019-08-27",status:"negotiation",verified:!1,activity:2,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:89221},{id:1217,name:"Vincent Meinerding",country:{name:"United States",code:"us"},company:"Arturi, Peter D Esq",date:"2018-06-18",status:"new",verified:!0,activity:58,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:32661},{id:1218,name:"Rima Bevelacqua",country:{name:"Taiwan",code:"tw"},company:"Mcauley Mfg Co",date:"2019-05-18",status:"new",verified:!0,activity:31,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:18809},{id:1219,name:"Glendora Sarbacher",country:{name:"Lithuania",code:"lt"},company:"Defur Voran Hanley Radcliff",date:"2018-04-21",status:"new",verified:!0,activity:79,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:94374},{id:1220,name:"Avery Steier",country:{name:"Mexico",code:"mx"},company:"Dill Dill Carr & Stonbraker Pc",date:"2017-07-27",status:"negotiation",verified:!0,activity:63,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:45436},{id:1221,name:"Cristy Lother",country:{name:"Burkina Faso",code:"bf"},company:"Kleensteel",date:"2018-05-19",status:"renewal",verified:!0,activity:55,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:72645},{id:1222,name:"Nicolette Brossart",country:{name:"Egypt",code:"eg"},company:"Goulds Pumps Inc Slurry Pump",date:"2015-05-26",status:"new",verified:!1,activity:25,representative:{name:"Anna Fali",image:"annafali.png"},balance:61023},{id:1223,name:"Tracey Modzelewski",country:{name:"Denmark",code:"dk"},company:"Kansas City Insurance Report",date:"2019-07-02",status:"renewal",verified:!0,activity:4,representative:{name:"Anna Fali",image:"annafali.png"},balance:13685},{id:1224,name:"Virgina Tegarden",country:{name:"Cameroon",code:"cm"},company:"Berhanu International Foods",date:"2017-10-09",status:"qualified",verified:!0,activity:62,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:84436},{id:1225,name:"Tiera Frankel",country:{name:"India",code:"in"},company:"Roland Ashcroft",date:"2018-03-27",status:"unqualified",verified:!0,activity:90,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:61860},{id:1226,name:"Alaine Bergesen",country:{name:"Peru",code:"pe"},company:"Hispanic Magazine",date:"2017-08-10",status:"qualified",verified:!0,activity:34,representative:{name:"Anna Fali",image:"annafali.png"},balance:76679},{id:1227,name:"Earleen Mai",country:{name:"Italy",code:"it"},company:"Little Sheet Metal Co",date:"2016-06-22",status:"negotiation",verified:!0,activity:38,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:14959},{id:1228,name:"Leonida Gobern",country:{name:"Cuba",code:"cu"},company:"Holmes, Armstead J Esq",date:"2020-02-24",status:"renewal",verified:!0,activity:96,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:14174},{id:1229,name:"Ressie Auffrey",country:{name:"Japan",code:"jp"},company:"Faw, James C Cpa",date:"2016-10-21",status:"negotiation",verified:!1,activity:28,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:80328},{id:1230,name:"Justine Mugnolo",country:{name:"Argentina",code:"ar"},company:"Evans Rule Company",date:"2016-02-21",status:"negotiation",verified:!0,activity:83,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:56392},{id:1231,name:"Eladia Saulter",country:{name:"Switzerland",code:"ch"},company:"Tyee Productions Inc",date:"2016-03-10",status:"new",verified:!0,activity:16,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:17176},{id:1232,name:"Chaya Malvin",country:{name:"Cuba",code:"cu"},company:"Dunnells & Duvall",date:"2016-07-22",status:"renewal",verified:!0,activity:12,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:90141},{id:1233,name:"Gwenn Suffield",country:{name:"Austria",code:"at"},company:"Deltam Systems Inc",date:"2019-06-23",status:"qualified",verified:!0,activity:67,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:38187},{id:1234,name:"Salena Karpel",country:{name:"Puerto Rico",code:"pr"},company:"Hammill Mfg Co",date:"2016-08-02",status:"renewal",verified:!0,activity:0,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:35596},{id:1235,name:"Yoko Fishburne",country:{name:"Croatia",code:"hr"},company:"Sams Corner Store",date:"2017-08-06",status:"unqualified",verified:!0,activity:73,representative:{name:"Anna Fali",image:"annafali.png"},balance:73926},{id:1236,name:"Taryn Moyd",country:{name:"Serbia",code:"rs"},company:"Siskin, Mark J Esq",date:"2016-12-18",status:"negotiation",verified:!0,activity:57,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:38375},{id:1237,name:"Katina Polidori",country:{name:"Nigeria",code:"ng"},company:"Cape & Associates Real Estate",date:"2016-08-25",status:"unqualified",verified:!0,activity:37,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:35932},{id:1238,name:"Rickie Plumer",country:{name:"Turkey",code:"tr"},company:"Merrill Lynch",date:"2018-11-04",status:"unqualified",verified:!0,activity:71,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:28331},{id:1239,name:"Alex Loader",country:{name:"Italy",code:"it"},company:"Sublett, Scott Esq",date:"2016-01-07",status:"unqualified",verified:!1,activity:22,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:33549},{id:1240,name:"Lashon Vizarro",country:{name:"Ecuador",code:"ec"},company:"Sentry Signs",date:"2019-08-02",status:"negotiation",verified:!0,activity:46,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:63860},{id:1241,name:"Lauran Burnard",country:{name:"Czech Republic",code:"cz"},company:"Professionals Unlimited",date:"2016-04-27",status:"renewal",verified:!0,activity:30,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:34992},{id:1242,name:"Ceola Setter",country:{name:"Taiwan",code:"tw"},company:"Southern Steel Shelving Co",date:"2017-05-13",status:"qualified",verified:!0,activity:43,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:97068},{id:1243,name:"My Rantanen",country:{name:"Philippines",code:"ph"},company:"Bosco, Paul J",date:"2017-09-11",status:"negotiation",verified:!0,activity:60,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:2316},{id:1244,name:"Lorrine Worlds",country:{name:"Argentina",code:"ar"},company:"Longo, Nicholas J Esq",date:"2018-05-10",status:"renewal",verified:!0,activity:51,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:89374},{id:1245,name:"Peggie Sturiale",country:{name:"Malaysia",code:"my"},company:"Henry County Middle School",date:"2019-11-03",status:"renewal",verified:!0,activity:41,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:51152},{id:1246,name:"Marvel Raymo",country:{name:"Belgium",code:"be"},company:"Edison Supply & Equipment Co",date:"2016-03-08",status:"renewal",verified:!0,activity:9,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:39848},{id:1247,name:"Daron Dinos",country:{name:"Hungary",code:"hu"},company:"Wolf, Warren R Esq",date:"2016-03-25",status:"unqualified",verified:!0,activity:30,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:35060},{id:1248,name:"An Fritz",country:{name:"Netherlands",code:"nl"},company:"Linguistic Systems Inc",date:"2017-08-04",status:"negotiation",verified:!0,activity:86,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:23037},{id:1249,name:"Portia Stimmel",country:{name:"Australia",code:"au"},company:"Peace Christian Center",date:"2020-01-13",status:"qualified",verified:!0,activity:30,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:35637},{id:1250,name:"Rhea Aredondo",country:{name:"Greece",code:"gr"},company:"Double B Foods Inc",date:"2016-06-19",status:"qualified",verified:!0,activity:68,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:70379},{id:1251,name:"Benedict Sama",country:{name:"Israel",code:"il"},company:"Alexander & Alexander Inc",date:"2018-08-18",status:"negotiation",verified:!0,activity:79,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:99271},{id:1252,name:"Alyce Arias",country:{name:"Egypt",code:"eg"},company:"Fairbanks Scales",date:"2018-09-14",status:"new",verified:!0,activity:77,representative:{name:"Anna Fali",image:"annafali.png"},balance:69658},{id:1253,name:"Heike Berganza",country:{name:"Bulgaria",code:"bg"},company:"Cali Sportswear Cutting Dept",date:"2019-01-21",status:"unqualified",verified:!0,activity:95,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:78159},{id:1254,name:"Carey Dopico",country:{name:"Saudi Arabia",code:"sa"},company:"Garofani, John Esq",date:"2020-05-25",status:"negotiation",verified:!0,activity:35,representative:{name:"Anna Fali",image:"annafali.png"},balance:84097},{id:1255,name:"Dottie Hellickson",country:{name:"Chile",code:"cl"},company:"Thompson Fabricating Co",date:"2016-02-12",status:"qualified",verified:!0,activity:7,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:54606},{id:1256,name:"Deandrea Hughey",country:{name:"South Africa",code:"za"},company:"Century 21 Krall Real Estate",date:"2018-09-26",status:"unqualified",verified:!0,activity:96,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:2730},{id:1257,name:"Kimberlie Duenas",country:{name:"Bulgaria",code:"bg"},company:"Mid Contntl Rlty & Prop Mgmt",date:"2015-07-27",status:"qualified",verified:!0,activity:96,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:71836},{id:1258,name:"Martina Staback",country:{name:"Luxembourg",code:"lu"},company:"Ace Signs Inc",date:"2017-02-14",status:"new",verified:!0,activity:47,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:37044},{id:1259,name:"Skye Fillingim",country:{name:"Belgium",code:"be"},company:"Rodeway Inn",date:"2017-02-12",status:"new",verified:!0,activity:86,representative:{name:"Anna Fali",image:"annafali.png"},balance:5990},{id:1260,name:"Jade Farrar",country:{name:"Mexico",code:"mx"},company:"Bonnet & Daughter",date:"2017-02-23",status:"new",verified:!0,activity:73,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:7878},{id:1261,name:"Charlene Hamilton",country:{name:"India",code:"in"},company:"Oshins & Gibbons",date:"2017-09-23",status:"unqualified",verified:!0,activity:32,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:38077},{id:1262,name:"Geoffrey Acey",country:{name:"Hong Kong",code:"hk"},company:"Price Business Services",date:"2019-10-11",status:"negotiation",verified:!0,activity:98,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:24537},{id:1263,name:"Stevie Westerbeck",country:{name:"Lithuania",code:"lt"},company:"Wise, Dennis W Md",date:"2017-08-01",status:"renewal",verified:!0,activity:57,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:19164},{id:1264,name:"Pamella Fortino",country:{name:"Panama",code:"pa"},company:"Super 8 Motel",date:"2018-09-03",status:"new",verified:!0,activity:100,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:21880},{id:1265,name:"Harrison Haufler",country:{name:"Malaysia",code:"my"},company:"John Wagner Associates",date:"2016-08-25",status:"qualified",verified:!0,activity:85,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:14975},{id:1266,name:"Johnna Engelberg",country:{name:"Thailand",code:"th"},company:"Thrifty Oil Co",date:"2019-06-02",status:"renewal",verified:!0,activity:1,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:28001},{id:1267,name:"Buddy Cloney",country:{name:"Hungary",code:"hu"},company:"Larkfield Photo",date:"2020-05-14",status:"qualified",verified:!0,activity:9,representative:{name:"Anna Fali",image:"annafali.png"},balance:44811},{id:1268,name:"Dalene Riden",country:{name:"Bolivia",code:"bo"},company:"Silverman Planetarium",date:"2019-08-23",status:"renewal",verified:!0,activity:31,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:70963},{id:1269,name:"Jerry Zurcher",country:{name:"Ukraine",code:"ua"},company:"J & F Lumber",date:"2015-05-11",status:"renewal",verified:!0,activity:52,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:27808},{id:1270,name:"Haydee Denooyer",country:{name:"Ivory Coast",code:"ci"},company:"Cleaning Station Inc",date:"2016-04-17",status:"qualified",verified:!0,activity:80,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:41216},{id:1271,name:"Joseph Cryer",country:{name:"Philippines",code:"ph"},company:"Ames Stationers",date:"2019-11-26",status:"qualified",verified:!0,activity:53,representative:{name:"Anna Fali",image:"annafali.png"},balance:8819},{id:1272,name:"Deonna Kippley",country:{name:"South Africa",code:"za"},company:"Midas Muffler Shops",date:"2017-08-26",status:"qualified",verified:!0,activity:52,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:77610},{id:1273,name:"Raymon Calvaresi",country:{name:"South Africa",code:"za"},company:"Seaboard Securities Inc",date:"2017-07-09",status:"qualified",verified:!0,activity:45,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:80612},{id:1274,name:"Alecia Bubash",country:{name:"Poland",code:"pl"},company:"Petersen, James E Esq",date:"2016-05-19",status:"new",verified:!1,activity:28,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:45311},{id:1275,name:"Ma Layous",country:{name:"Latvia",code:"lv"},company:"Development Authority",date:"2016-02-11",status:"qualified",verified:!1,activity:2,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:88737},{id:1276,name:"Detra Coyier",country:{name:"Ivory Coast",code:"ci"},company:"Schott Fiber Optics Inc",date:"2019-06-05",status:"negotiation",verified:!0,activity:95,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:13224},{id:1277,name:"Terrilyn Rodeigues",country:{name:"Thailand",code:"th"},company:"Stuart J Agins",date:"2016-08-04",status:"renewal",verified:!0,activity:35,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:64656},{id:1278,name:"Salome Lacovara",country:{name:"Romania",code:"ro"},company:"Mitsumi Electronics Corp",date:"2015-06-05",status:"unqualified",verified:!0,activity:78,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:61947},{id:1279,name:"Garry Keetch",country:{name:"Luxembourg",code:"lu"},company:"Italian Express Franchise Corp",date:"2015-06-20",status:"unqualified",verified:!0,activity:86,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:6380},{id:1280,name:"Matthew Neither",country:{name:"United Kingdom",code:"gb"},company:"American Council On Sci & Hlth",date:"2018-06-24",status:"qualified",verified:!0,activity:4,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:80112},{id:1281,name:"Theodora Restrepo",country:{name:"Paraguay",code:"py"},company:"Kleri, Patricia S Esq",date:"2017-08-15",status:"renewal",verified:!0,activity:66,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:42038},{id:1282,name:"Noah Kalafatis",country:{name:"Saudi Arabia",code:"sa"},company:"Twiggs Abrams Blanchard",date:"2020-06-24",status:"negotiation",verified:!0,activity:35,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:36052},{id:1283,name:"Carmen Sweigard",country:{name:"Bolivia",code:"bo"},company:"Maui Research & Technology Pk",date:"2019-08-08",status:"new",verified:!0,activity:96,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:51660},{id:1284,name:"Lavonda Hengel",country:{name:"Hungary",code:"hu"},company:"Bradley Nameplate Corp",date:"2019-10-25",status:"negotiation",verified:!0,activity:48,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:56142},{id:1285,name:"Junita Stoltzman",country:{name:"Turkey",code:"tr"},company:"Geonex Martel Inc",date:"2015-03-19",status:"negotiation",verified:!0,activity:64,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:21631},{id:1286,name:"Herminia Nicolozakes",country:{name:"Venezuela",code:"ve"},company:"Sea Island Div Of Fstr Ind Inc",date:"2019-09-09",status:"negotiation",verified:!0,activity:0,representative:{name:"Anna Fali",image:"annafali.png"},balance:59171},{id:1287,name:"Casie Good",country:{name:"Japan",code:"jp"},company:"Papay, Debbie J Esq",date:"2016-11-27",status:"new",verified:!0,activity:87,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:97858},{id:1288,name:"Reena Maisto",country:{name:"Panama",code:"pa"},company:"Lane Promotions",date:"2016-08-22",status:"new",verified:!0,activity:16,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:90388},{id:1289,name:"Mirta Mallett",country:{name:"Singapore",code:"sg"},company:"Stephen Kennerly Archts Inc Pc",date:"2017-11-27",status:"renewal",verified:!0,activity:14,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:68632},{id:1290,name:"Cathrine Pontoriero",country:{name:"Finland",code:"fi"},company:"Business Systems Of Wis Inc",date:"2020-02-07",status:"negotiation",verified:!0,activity:58,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:95552},{id:1291,name:"Filiberto Tawil",country:{name:"Panama",code:"pa"},company:"Flash, Elena Salerno Esq",date:"2018-01-28",status:"negotiation",verified:!0,activity:0,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:39725},{id:1292,name:"Raul Upthegrove",country:{name:"Panama",code:"pa"},company:"Neeley, Gregory W Esq",date:"2019-11-16",status:"renewal",verified:!0,activity:59,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:62251},{id:1293,name:"Sarah Candlish",country:{name:"Hong Kong",code:"hk"},company:"Alabama Educational Tv Comm",date:"2019-06-09",status:"negotiation",verified:!0,activity:30,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:73523},{id:1294,name:"Lucy Treston",country:{name:"Jamaica",code:"jm"},company:"Franz Inc",date:"2017-02-07",status:"negotiation",verified:!0,activity:59,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:41331},{id:1295,name:"Judy Aquas",country:{name:"Romania",code:"ro"},company:"Plantation Restaurant",date:"2020-09-14",status:"renewal",verified:!0,activity:86,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:24208},{id:1296,name:"Yvonne Tjepkema",country:{name:"United Kingdom",code:"gb"},company:"Radio Communications Co",date:"2017-01-06",status:"renewal",verified:!0,activity:33,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:56409},{id:1297,name:"Kayleigh Lace",country:{name:"Denmark",code:"dk"},company:"Dentalaw Divsn Hlth Care",date:"2019-11-04",status:"negotiation",verified:!0,activity:70,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:70025},{id:1298,name:"Felix Hirpara",country:{name:"Panama",code:"pa"},company:"American Speedy Printing Ctrs",date:"2015-03-13",status:"new",verified:!0,activity:8,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:88115},{id:1299,name:"Tresa Sweely",country:{name:"Germany",code:"de"},company:"Grayson, Grant S Esq",date:"2019-12-22",status:"negotiation",verified:!0,activity:22,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:69703},{id:1300,name:"Kristeen Turinetti",country:{name:"Burkina Faso",code:"bf"},company:"Jeanerette Middle School",date:"2017-09-28",status:"new",verified:!0,activity:67,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:10718},{id:1301,name:"Jenelle Regusters",country:{name:"Hungary",code:"hu"},company:"Haavisto, Brian F Esq",date:"2019-07-27",status:"qualified",verified:!0,activity:13,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:29825},{id:1302,name:"Renea Monterrubio",country:{name:"Greece",code:"gr"},company:"Wmmt Radio Station",date:"2016-03-28",status:"negotiation",verified:!0,activity:73,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:90351},{id:1303,name:"Olive Matuszak",country:{name:"Germany",code:"de"},company:"Colony Paints Sales Ofc & Plnt",date:"2018-04-15",status:"unqualified",verified:!0,activity:70,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:75682},{id:1304,name:"Ligia Reiber",country:{name:"Cameroon",code:"cm"},company:"Floral Expressions",date:"2017-02-02",status:"negotiation",verified:!0,activity:51,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:74935},{id:1305,name:"Christiane Eschberger",country:{name:"Romania",code:"ro"},company:"Casco Services Inc",date:"2018-03-27",status:"unqualified",verified:!0,activity:81,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:5254},{id:1306,name:"Goldie Schirpke",country:{name:"Paraguay",code:"py"},company:"Reuter, Arthur C Jr",date:"2015-04-21",status:"renewal",verified:!0,activity:8,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:37306},{id:1307,name:"Loreta Timenez",country:{name:"Burkina Faso",code:"bf"},company:"Kaminski, Katherine Andritsaki",date:"2015-07-17",status:"negotiation",verified:!0,activity:29,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:70520},{id:1308,name:"Fabiola Hauenstein",country:{name:"Czech Republic",code:"cz"},company:"Sidewinder Products Corp",date:"2015-12-12",status:"renewal",verified:!0,activity:42,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:74510},{id:1309,name:"Amie Perigo",country:{name:"Russia",code:"ru"},company:"General Foam Corporation",date:"2016-06-13",status:"new",verified:!0,activity:55,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:74410},{id:1310,name:"Raina Brachle",country:{name:"Greece",code:"gr"},company:"Ikg Borden Divsn Harsco Corp",date:"2016-11-28",status:"negotiation",verified:!0,activity:12,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:56116},{id:1311,name:"Erinn Canlas",country:{name:"United Kingdom",code:"gb"},company:"Anchor Computer Inc",date:"2018-12-08",status:"negotiation",verified:!0,activity:89,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:46518},{id:1312,name:"Cherry Lietz",country:{name:"Bulgaria",code:"bg"},company:"Sebring & Co",date:"2017-11-04",status:"qualified",verified:!0,activity:22,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:92213},{id:1313,name:"Kattie Vonasek",country:{name:"Austria",code:"at"},company:"H A C Farm Lines Co Optv Assoc",date:"2017-02-17",status:"negotiation",verified:!0,activity:58,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:6405},{id:1314,name:"Lilli Scriven",country:{name:"Egypt",code:"eg"},company:"Hunter, John J Esq",date:"2017-04-15",status:"qualified",verified:!0,activity:79,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:92900},{id:1315,name:"Whitley Tomasulo",country:{name:"Qatar",code:"qa"},company:"Freehold Fence Co",date:"2017-11-16",status:"qualified",verified:!0,activity:6,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:86727},{id:1316,name:"Barbra Adkin",country:{name:"Nigeria",code:"ng"},company:"Binswanger",date:"2019-07-24",status:"qualified",verified:!0,activity:64,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:48040},{id:1317,name:"Hermila Thyberg",country:{name:"Argentina",code:"ar"},company:"Chilton Malting Co",date:"2016-11-05",status:"qualified",verified:!0,activity:57,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:24026},{id:1318,name:"Jesusita Flister",country:{name:"Ukraine",code:"ua"},company:"Schoen, Edward J Jr",date:"2017-03-03",status:"negotiation",verified:!0,activity:29,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:76388},{id:1319,name:"Caitlin Julia",country:{name:"Israel",code:"il"},company:"Helderman, Seymour Cpa",date:"2018-03-13",status:"renewal",verified:!0,activity:19,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:89068},{id:1320,name:"Roosevelt Hoffis",country:{name:"Puerto Rico",code:"pr"},company:"Denbrook, Myron",date:"2019-04-14",status:"new",verified:!0,activity:49,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:12727},{id:1321,name:"Helaine Halter",country:{name:"Estonia",code:"ee"},company:"Lippitt, Mike",date:"2019-09-28",status:"renewal",verified:!0,activity:62,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:83411},{id:1322,name:"Lorean Martabano",country:{name:"Slovakia",code:"sk"},company:"Hiram, Hogg P Esq",date:"2017-03-23",status:"negotiation",verified:!0,activity:8,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:44242},{id:1323,name:"France Buzick",country:{name:"Nigeria",code:"ng"},company:"In Travel Agency",date:"2016-12-14",status:"renewal",verified:!0,activity:22,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:5644},{id:1324,name:"Justine Ferrario",country:{name:"Ukraine",code:"ua"},company:"Newhart Foods Inc",date:"2015-09-07",status:"unqualified",verified:!0,activity:7,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:29321},{id:1325,name:"Adelina Nabours",country:{name:"Mexico",code:"mx"},company:"Courtyard By Marriott",date:"2018-05-26",status:"renewal",verified:!0,activity:59,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:13353},{id:1326,name:"Derick Dhamer",country:{name:"Hungary",code:"hu"},company:"Studer, Eugene A Esq",date:"2020-07-04",status:"new",verified:!0,activity:72,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:53454},{id:1327,name:"Jerry Dallen",country:{name:"Egypt",code:"eg"},company:"Seashore Supply Co Waretown",date:"2015-10-23",status:"renewal",verified:!1,activity:21,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:30074},{id:1328,name:"Leota Ragel",country:{name:"Qatar",code:"qa"},company:"Mayar Silk Inc",date:"2019-06-15",status:"negotiation",verified:!0,activity:74,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:36310},{id:1329,name:"Jutta Amyot",country:{name:"Cameroon",code:"cm"},company:"National Medical Excess Corp",date:"2019-09-01",status:"negotiation",verified:!0,activity:8,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:27563},{id:1330,name:"Aja Gehrett",country:{name:"Sweden",code:"se"},company:"Stero Company",date:"2018-01-28",status:"qualified",verified:!0,activity:46,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:45163},{id:1331,name:"Kirk Herritt",country:{name:"Morocco",code:"ma"},company:"Hasting, H Duane Esq",date:"2018-10-24",status:"renewal",verified:!1,activity:2,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:52970},{id:1332,name:"Leonora Mauson",country:{name:"Hong Kong",code:"hk"},company:"Insty Prints",date:"2019-02-02",status:"negotiation",verified:!0,activity:8,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:18922},{id:1333,name:"Winfred Brucato",country:{name:"Austria",code:"at"},company:"Glenridge Manor Mobile Home Pk",date:"2019-08-16",status:"renewal",verified:!0,activity:8,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:59632},{id:1334,name:"Tarra Nachor",country:{name:"Panama",code:"pa"},company:"Circuit Solution Inc",date:"2019-07-10",status:"negotiation",verified:!0,activity:88,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:6733},{id:1335,name:"Corinne Loder",country:{name:"Brazil",code:"br"},company:"Local Office",date:"2016-05-21",status:"negotiation",verified:!0,activity:85,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:22704},{id:1336,name:"Dulce Labreche",country:{name:"South Africa",code:"za"},company:"Lee Kilkelly Paulson & Kabaker",date:"2019-11-10",status:"qualified",verified:!0,activity:24,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:82613},{id:1337,name:"Kate Keneipp",country:{name:"Latvia",code:"lv"},company:"Davis, Maxon R Esq",date:"2019-06-20",status:"negotiation",verified:!0,activity:44,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:97960},{id:1338,name:"Kaitlyn Ogg",country:{name:"Tunisia",code:"tn"},company:"Garrison, Paul E Esq",date:"2019-08-01",status:"negotiation",verified:!0,activity:91,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:63123},{id:1339,name:"Sherita Saras",country:{name:"Taiwan",code:"tw"},company:"Black History Resource Center",date:"2017-06-09",status:"unqualified",verified:!0,activity:79,representative:{name:"Anna Fali",image:"annafali.png"},balance:38090},{id:1340,name:"Lashawnda Stuer",country:{name:"Indonesia",code:"id"},company:"Rodriguez, J Christopher Esq",date:"2018-01-08",status:"negotiation",verified:!0,activity:6,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:58826},{id:1341,name:"Ernest Syrop",country:{name:"Jamaica",code:"jm"},company:"Grant Family Health Center",date:"2016-10-06",status:"unqualified",verified:!0,activity:90,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:22419},{id:1342,name:"Nobuko Halsey",country:{name:"Argentina",code:"ar"},company:"Goeman Wood Products Inc",date:"2019-01-02",status:"unqualified",verified:!0,activity:72,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:86006},{id:1343,name:"Lavonna Wolny",country:{name:"Czech Republic",code:"cz"},company:"Linhares, Kenneth A Esq",date:"2019-03-09",status:"negotiation",verified:!0,activity:77,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:40641},{id:1344,name:"Lashaunda Lizama",country:{name:"Ecuador",code:"ec"},company:"Earnhardt Printing",date:"2016-02-16",status:"negotiation",verified:!0,activity:76,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:73493},{id:1345,name:"Mariann Bilden",country:{name:"Argentina",code:"ar"},company:"H P G Industrys Inc",date:"2019-12-15",status:"negotiation",verified:!0,activity:20,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:87704},{id:1346,name:"Helene Rodenberger",country:{name:"Bolivia",code:"bo"},company:"Bailey Transportation Prod Inc",date:"2016-09-22",status:"unqualified",verified:!0,activity:26,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:19662},{id:1347,name:"Roselle Estell",country:{name:"Hungary",code:"hu"},company:"Mcglynn Bliss Pc",date:"2016-11-25",status:"negotiation",verified:!0,activity:80,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:80534},{id:1348,name:"Samira Heintzman",country:{name:"Vietnam",code:"vn"},company:"Mutual Fish Co",date:"2019-11-26",status:"qualified",verified:!0,activity:70,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:19473},{id:1349,name:"Margart Meisel",country:{name:"Serbia",code:"rs"},company:"Yeates, Arthur L Aia",date:"2019-10-27",status:"negotiation",verified:!0,activity:77,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:89796},{id:1350,name:"Kristofer Bennick",country:{name:"Tunisia",code:"tn"},company:"Logan, Ronald J Esq",date:"2016-02-13",status:"negotiation",verified:!0,activity:5,representative:{name:"Anna Fali",image:"annafali.png"},balance:54429},{id:1351,name:"Weldon Acuff",country:{name:"Estonia",code:"ee"},company:"Advantage Martgage Company",date:"2019-10-22",status:"qualified",verified:!0,activity:38,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:16134},{id:1352,name:"Shalon Shadrick",country:{name:"Iceland",code:"is"},company:"Germer And Gertz Llp",date:"2015-01-03",status:"negotiation",verified:!0,activity:66,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:9173},{id:1353,name:"Denise Patak",country:{name:"Uruguay",code:"uy"},company:"Spence Law Offices",date:"2016-11-03",status:"qualified",verified:!0,activity:77,representative:{name:"Anna Fali",image:"annafali.png"},balance:42857},{id:1354,name:"Louvenia Beech",country:{name:"Ecuador",code:"ec"},company:"John Ortiz Nts Therapy Center",date:"2016-04-11",status:"renewal",verified:!0,activity:62,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:54300},{id:1355,name:"Audry Yaw",country:{name:"Portugal",code:"pt"},company:"Mike Uchrin Htg & Air Cond Inc",date:"2017-11-22",status:"unqualified",verified:!0,activity:12,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:94652},{id:1356,name:"Kristel Ehmann",country:{name:"Israel",code:"il"},company:"Mccoy, Joy Reynolds Esq",date:"2016-06-23",status:"new",verified:!0,activity:67,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:88295},{id:1357,name:"Vincenza Zepp",country:{name:"Pakistan",code:"pk"},company:"Kbor 1600 Am",date:"2016-01-04",status:"qualified",verified:!0,activity:25,representative:{name:"Anna Fali",image:"annafali.png"},balance:92710},{id:1358,name:"Elouise Gwalthney",country:{name:"Netherlands",code:"nl"},company:"Quality Inn Northwest",date:"2016-04-05",status:"negotiation",verified:!0,activity:14,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:25145},{id:1359,name:"Venita Maillard",country:{name:"Poland",code:"pl"},company:"Wallace Church Assoc Inc",date:"2016-03-23",status:"negotiation",verified:!0,activity:69,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:61630},{id:1360,name:"Kasandra Semidey",country:{name:"Indonesia",code:"id"},company:"Can Tron",date:"2015-09-03",status:"new",verified:!0,activity:25,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:66134},{id:1361,name:"Xochitl Discipio",country:{name:"Slovakia",code:"sk"},company:"Ravaal Enterprises Inc",date:"2016-11-14",status:"qualified",verified:!0,activity:47,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:14822},{id:1362,name:"Maile Linahan",country:{name:"Nigeria",code:"ng"},company:"Thompson Steel Company Inc",date:"2016-07-24",status:"new",verified:!0,activity:0,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:17759},{id:1363,name:"Krissy Rauser",country:{name:"Thailand",code:"th"},company:"Anderson, Mark A Esq",date:"2020-03-06",status:"renewal",verified:!0,activity:33,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:14922},{id:1364,name:"Pete Dubaldi",country:{name:"Bolivia",code:"bo"},company:"Womack & Galich",date:"2015-11-22",status:"unqualified",verified:!0,activity:31,representative:{name:"Anna Fali",image:"annafali.png"},balance:96575},{id:1365,name:"Linn Paa",country:{name:"Bolivia",code:"bo"},company:"Valerie & Company",date:"2015-08-12",status:"unqualified",verified:!0,activity:26,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:5847},{id:1366,name:"Paris Wide",country:{name:"Uruguay",code:"uy"},company:"Gehring Pumps Inc",date:"2018-10-21",status:"negotiation",verified:!0,activity:90,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:22929},{id:1367,name:"Wynell Dorshorst",country:{name:"Romania",code:"ro"},company:"Haehnel, Craig W Esq",date:"2018-05-10",status:"new",verified:!0,activity:60,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:31837},{id:1368,name:"Quentin Birkner",country:{name:"Senegal",code:"sn"},company:"Spoor Behrins Campbell & Young",date:"2019-02-03",status:"unqualified",verified:!0,activity:68,representative:{name:"Anna Fali",image:"annafali.png"},balance:27095},{id:1369,name:"Regenia Kannady",country:{name:"Portugal",code:"pt"},company:"Ken Jeter Store Equipment Inc",date:"2018-07-13",status:"new",verified:!0,activity:74,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:43696},{id:1370,name:"Sheron Louissant",country:{name:"France",code:"fr"},company:"Potter, Brenda J Cpa",date:"2017-01-04",status:"qualified",verified:!0,activity:86,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:79897},{id:1371,name:"Izetta Funnell",country:{name:"Hong Kong",code:"hk"},company:"Baird Kurtz & Dobson",date:"2019-11-05",status:"new",verified:!0,activity:67,representative:{name:"Anna Fali",image:"annafali.png"},balance:27264},{id:1372,name:"Rodolfo Butzen",country:{name:"Taiwan",code:"tw"},company:"Minor, Cynthia A Esq",date:"2020-09-25",status:"negotiation",verified:!0,activity:17,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:16490},{id:1373,name:"Zona Colla",country:{name:"Switzerland",code:"ch"},company:"Solove, Robert A Esq",date:"2020-10-08",status:"negotiation",verified:!0,activity:64,representative:{name:"Anna Fali",image:"annafali.png"},balance:21990},{id:1374,name:"Serina Zagen",country:{name:"Paraguay",code:"py"},company:"Mark Ii Imports Inc",date:"2018-07-14",status:"negotiation",verified:!0,activity:46,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:11918},{id:1375,name:"Paz Sahagun",country:{name:"Colombia",code:"co"},company:"White Sign Div Ctrl Equip Co",date:"2018-03-23",status:"negotiation",verified:!0,activity:49,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:13268},{id:1376,name:"Markus Lukasik",country:{name:"Burkina Faso",code:"bf"},company:"M & M Store Fixtures Co Inc",date:"2018-03-21",status:"negotiation",verified:!0,activity:23,representative:{name:"Anna Fali",image:"annafali.png"},balance:15941},{id:1377,name:"Jaclyn Bachman",country:{name:"Slovakia",code:"sk"},company:"Judah Caster & Wheel Co",date:"2020-10-20",status:"new",verified:!0,activity:10,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:53132},{id:1378,name:"Cyril Daufeldt",country:{name:"India",code:"in"},company:"Galaxy International Inc",date:"2019-02-11",status:"qualified",verified:!0,activity:79,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:47531},{id:1379,name:"Gayla Schnitzler",country:{name:"Brazil",code:"br"},company:"Sigma Corp Of America",date:"2017-09-15",status:"new",verified:!0,activity:14,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:88950},{id:1380,name:"Erick Nievas",country:{name:"Argentina",code:"ar"},company:"Soward, Anne Esq",date:"2018-10-07",status:"negotiation",verified:!1,activity:28,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:88497},{id:1381,name:"Jennie Drymon",country:{name:"Egypt",code:"eg"},company:"Osborne, Michelle M Esq",date:"2016-09-14",status:"negotiation",verified:!0,activity:80,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:60634},{id:1382,name:"Mitsue Scipione",country:{name:"Ecuador",code:"ec"},company:"Students In Free Entrprs Natl",date:"2019-07-28",status:"qualified",verified:!0,activity:24,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:21164},{id:1383,name:"Ciara Ventura",country:{name:"Sweden",code:"se"},company:"Johnson, Robert M Esq",date:"2018-04-02",status:"renewal",verified:!1,activity:24,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:83645},{id:1384,name:"Galen Cantres",country:{name:"Saudi Arabia",code:"sa"},company:"Del Charro Apartments",date:"2020-02-16",status:"unqualified",verified:!0,activity:61,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:32433},{id:1385,name:"Truman Feichtner",country:{name:"Iceland",code:"is"},company:"Legal Search Inc",date:"2019-10-16",status:"renewal",verified:!0,activity:98,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:96983},{id:1386,name:"Gail Kitty",country:{name:"Pakistan",code:"pk"},company:"Service Supply Co Inc",date:"2020-01-15",status:"negotiation",verified:!0,activity:67,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:72211},{id:1387,name:"Dalene Schoeneck",country:{name:"Latvia",code:"lv"},company:"Sameshima, Douglas J Esq",date:"2019-11-27",status:"negotiation",verified:!0,activity:85,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:40262},{id:1388,name:"Gertude Witten",country:{name:"Morocco",code:"ma"},company:"Thompson, John Randolph Jr",date:"2017-08-13",status:"negotiation",verified:!0,activity:40,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:91139},{id:1389,name:"Lizbeth Kohl",country:{name:"Serbia",code:"rs"},company:"E T Balancing Co Inc",date:"2019-04-20",status:"qualified",verified:!0,activity:57,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:79659},{id:1390,name:"Glenn Berray",country:{name:"Poland",code:"pl"},company:"Griswold, John E Esq",date:"2017-08-13",status:"negotiation",verified:!0,activity:68,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:93576},{id:1391,name:"Lashandra Klang",country:{name:"Bulgaria",code:"bg"},company:"Acqua Group",date:"2016-06-08",status:"negotiation",verified:!0,activity:32,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:93576},{id:1392,name:"Lenna Newville",country:{name:"Venezuela",code:"ve"},company:"Brooks, Morris J Jr",date:"2020-09-12",status:"qualified",verified:!0,activity:82,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:93576},{id:1393,name:"Laurel Pagliuca",country:{name:"Russia",code:"ru"},company:"Printing Images Corp",date:"2017-05-26",status:"unqualified",verified:!0,activity:21,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:2009},{id:1394,name:"Mireya Frerking",country:{name:"Belarus",code:"by"},company:"Roberts Supply Co Inc",date:"2017-04-21",status:"renewal",verified:!0,activity:54,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:35341},{id:1395,name:"Annelle Tagala",country:{name:"Colombia",code:"co"},company:"Vico Products Mfg Co",date:"2017-10-02",status:"negotiation",verified:!0,activity:53,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:13077},{id:1396,name:"Dean Ketelsen",country:{name:"Ivory Coast",code:"ci"},company:"J M Custom Design Millwork",date:"2019-07-25",status:"negotiation",verified:!0,activity:98,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:83423},{id:1397,name:"Levi Munis",country:{name:"Pakistan",code:"pk"},company:"Farrell & Johnson Office Equip",date:"2017-06-24",status:"negotiation",verified:!0,activity:39,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:14350},{id:1398,name:"Sylvie Ryser",country:{name:"India",code:"in"},company:"Millers Market & Deli",date:"2016-02-23",status:"unqualified",verified:!0,activity:89,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:98864},{id:1399,name:"Sharee Maile",country:{name:"Ireland",code:"ie"},company:"Holiday Inn Naperville",date:"2020-07-17",status:"renewal",verified:!0,activity:0,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:29326},{id:1400,name:"Cordelia Storment",country:{name:"Guatemala",code:"gt"},company:"Burrows, Jon H Esq",date:"2020-02-17",status:"negotiation",verified:!0,activity:45,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:81198},{id:1401,name:"Mollie Mcdoniel",country:{name:"Vietnam",code:"vn"},company:"Dock Seal Specialty",date:"2017-08-13",status:"unqualified",verified:!0,activity:59,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:82391},{id:1402,name:"Brett Mccullan",country:{name:"Senegal",code:"sn"},company:"Five Star Limousines Of Tx Inc",date:"2015-05-21",status:"qualified",verified:!0,activity:9,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:48071},{id:1403,name:"Teddy Pedrozo",country:{name:"Burkina Faso",code:"bf"},company:"Barkan, Neal J Esq",date:"2019-02-19",status:"negotiation",verified:!0,activity:38,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:14593},{id:1404,name:"Tasia Andreason",country:{name:"Venezuela",code:"ve"},company:"Campbell, Robert A",date:"2016-03-06",status:"renewal",verified:!0,activity:25,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:8750},{id:1405,name:"Hubert Walthall",country:{name:"Mexico",code:"mx"},company:"Dee, Deanna",date:"2020-12-19",status:"renewal",verified:!0,activity:32,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:39655},{id:1406,name:"Arthur Farrow",country:{name:"Brazil",code:"br"},company:"Young, Timothy L Esq",date:"2019-02-05",status:"negotiation",verified:!0,activity:55,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:71713},{id:1407,name:"Vilma Berlanga",country:{name:"Tunisia",code:"tn"},company:"Wells, D Fred Esq",date:"2016-02-09",status:"unqualified",verified:!1,activity:26,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:81056},{id:1408,name:"Billye Miro",country:{name:"Hungary",code:"hu"},company:"Gray, Francine H Esq",date:"2015-09-05",status:"new",verified:!0,activity:70,representative:{name:"Anna Fali",image:"annafali.png"},balance:34220},{id:1409,name:"Glenna Slayton",country:{name:"Iceland",code:"is"},company:"Toledo Iv Care",date:"2016-03-10",status:"unqualified",verified:!0,activity:86,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:21459},{id:1410,name:"Mitzie Hudnall",country:{name:"Iceland",code:"is"},company:"Cangro Transmission Co",date:"2020-05-04",status:"new",verified:!0,activity:19,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:51281},{id:1411,name:"Bernardine Rodefer",country:{name:"Switzerland",code:"ch"},company:"Sat Poly Inc",date:"2020-10-19",status:"negotiation",verified:!0,activity:69,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:53841},{id:1412,name:"Staci Schmaltz",country:{name:"Iceland",code:"is"},company:"Midwest Contracting & Mfg Inc",date:"2018-03-14",status:"unqualified",verified:!0,activity:81,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:34878},{id:1413,name:"Nichelle Meteer",country:{name:"Denmark",code:"dk"},company:"Print Doctor",date:"2016-09-23",status:"renewal",verified:!0,activity:39,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:85399},{id:1414,name:"Janine Rhoden",country:{name:"Nigeria",code:"ng"},company:"Nordic Group Inc",date:"2018-08-13",status:"qualified",verified:!0,activity:95,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:29237},{id:1415,name:"Ettie Hoopengardner",country:{name:"Switzerland",code:"ch"},company:"Jackson Millwork Co",date:"2017-07-24",status:"renewal",verified:!1,activity:23,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:12179},{id:1416,name:"Eden Jayson",country:{name:"Sweden",code:"se"},company:"Harris Corporation",date:"2018-03-15",status:"renewal",verified:!0,activity:9,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:27840},{id:1417,name:"Lynelle Auber",country:{name:"Netherlands",code:"nl"},company:"United Cerebral Palsy Of Ne Pa",date:"2020-12-11",status:"negotiation",verified:!0,activity:0,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:51958},{id:1418,name:"Merissa Tomblin",country:{name:"Jamaica",code:"jm"},company:"One Day Surgery Center Inc",date:"2018-03-05",status:"new",verified:!0,activity:50,representative:{name:"Anna Fali",image:"annafali.png"},balance:33138},{id:1419,name:"Golda Kaniecki",country:{name:"Burkina Faso",code:"bf"},company:"Calaveras Prospect",date:"2019-04-17",status:"negotiation",verified:!0,activity:91,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:82539},{id:1420,name:"Catarina Gleich",country:{name:"Malaysia",code:"my"},company:"Terk, Robert E Esq",date:"2017-01-26",status:"unqualified",verified:!0,activity:12,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:5619},{id:1421,name:"Virgie Kiel",country:{name:"Latvia",code:"lv"},company:"Cullen, Terrence P Esq",date:"2016-06-28",status:"renewal",verified:!0,activity:89,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:44763},{id:1422,name:"Jolene Ostolaza",country:{name:"Puerto Rico",code:"pr"},company:"Central Die Casting Mfg Co Inc",date:"2016-08-08",status:"negotiation",verified:!0,activity:85,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:97208},{id:1423,name:"Keneth Borgman",country:{name:"Qatar",code:"qa"},company:"Centerline Engineering",date:"2019-02-04",status:"unqualified",verified:!0,activity:41,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:93316},{id:1424,name:"Rikki Nayar",country:{name:"Norway",code:"no"},company:"Targan & Kievit Pa",date:"2017-03-06",status:"negotiation",verified:!0,activity:47,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:23786},{id:1425,name:"Elke Sengbusch",country:{name:"Canada",code:"ca"},company:"Riley Riper Hollin & Colagreco",date:"2019-05-28",status:"renewal",verified:!0,activity:76,representative:{name:"Anna Fali",image:"annafali.png"},balance:98367},{id:1426,name:"Hoa Sarao",country:{name:"Sweden",code:"se"},company:"Kaplan, Joel S Esq",date:"2020-08-13",status:"negotiation",verified:!0,activity:0,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:68683},{id:1427,name:"Trinidad Mcrae",country:{name:"Burkina Faso",code:"bf"},company:"Water Office",date:"2020-12-26",status:"renewal",verified:!0,activity:76,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:85602},{id:1428,name:"Mari Lueckenbach",country:{name:"Cuba",code:"cu"},company:"Westbrooks, Nelson E Jr",date:"2017-10-27",status:"new",verified:!0,activity:34,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:14402},{id:1429,name:"Selma Husser",country:{name:"Morocco",code:"ma"},company:"Armon Communications",date:"2018-02-16",status:"negotiation",verified:!0,activity:84,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:81608},{id:1430,name:"Antione Onofrio",country:{name:"Taiwan",code:"tw"},company:"Jacobs & Gerber Inc",date:"2017-11-07",status:"negotiation",verified:!0,activity:37,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:15573},{id:1431,name:"Luisa Jurney",country:{name:"Canada",code:"ca"},company:"Forest Fire Laboratory",date:"2018-06-12",status:"unqualified",verified:!0,activity:96,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:50121},{id:1432,name:"Clorinda Heimann",country:{name:"Israel",code:"il"},company:"Haughey, Charles Jr",date:"2016-11-03",status:"negotiation",verified:!0,activity:63,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:93911},{id:1433,name:"Dick Wenzinger",country:{name:"Mexico",code:"mx"},company:"Wheaton Plastic Products",date:"2017-04-05",status:"negotiation",verified:!0,activity:92,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:66383},{id:1434,name:"Ahmed Angalich",country:{name:"Australia",code:"au"},company:"Reese Plastics",date:"2018-11-20",status:"unqualified",verified:!0,activity:83,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:89183},{id:1435,name:"Iluminada Ohms",country:{name:"Croatia",code:"hr"},company:"Nazette Marner Good Wendt",date:"2015-08-18",status:"negotiation",verified:!0,activity:66,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:9752},{id:1436,name:"Joanna Leinenbach",country:{name:"Thailand",code:"th"},company:"Levinson Axelrod Wheaton",date:"2016-02-11",status:"negotiation",verified:!0,activity:64,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:2623},{id:1437,name:"Caprice Suell",country:{name:"Algeria",code:"dz"},company:"Egnor, W Dan Esq",date:"2018-07-09",status:"unqualified",verified:!0,activity:99,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:87620},{id:1438,name:"Stephane Myricks",country:{name:"Honduras",code:"hn"},company:"Portland Central Thriftlodge",date:"2018-05-28",status:"renewal",verified:!0,activity:51,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:14625},{id:1439,name:"Quentin Swayze",country:{name:"Tunisia",code:"tn"},company:"Ulbrich Trucking",date:"2019-02-11",status:"negotiation",verified:!0,activity:37,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:39339},{id:1440,name:"Annmarie Castros",country:{name:"Jamaica",code:"jm"},company:"Tipiak Inc",date:"2015-08-24",status:"qualified",verified:!0,activity:46,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:77704},{id:1441,name:"Shonda Greenbush",country:{name:"Costa Rica",code:"cr"},company:"Saint George Well Drilling",date:"2018-06-01",status:"negotiation",verified:!0,activity:16,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:75326},{id:1442,name:"Cecil Lapage",country:{name:"Malaysia",code:"my"},company:"Hawkes, Douglas D",date:"2018-11-09",status:"qualified",verified:!0,activity:43,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:71364},{id:1443,name:"Jeanice Claucherty",country:{name:"Lithuania",code:"lt"},company:"Accurel Systems Intrntl Corp",date:"2016-06-02",status:"qualified",verified:!0,activity:48,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:73360},{id:1444,name:"Josphine Villanueva",country:{name:"Japan",code:"jp"},company:"Santa Cruz Community Internet",date:"2019-11-08",status:"unqualified",verified:!0,activity:39,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:59442},{id:1445,name:"Daniel Perruzza",country:{name:"Malaysia",code:"my"},company:"Gersh & Danielson",date:"2017-09-24",status:"renewal",verified:!0,activity:86,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:84338},{id:1446,name:"Cassi Wildfong",country:{name:"Tunisia",code:"tn"},company:"Cobb, James O Esq",date:"2015-09-08",status:"qualified",verified:!0,activity:85,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:72545},{id:1447,name:"Britt Galam",country:{name:"Poland",code:"pl"},company:"Wheatley Trucking Company",date:"2020-10-26",status:"new",verified:!0,activity:69,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:53307},{id:1448,name:"Adell Lipkin",country:{name:"Saudi Arabia",code:"sa"},company:"Systems Graph Inc Ab Dick Dlr",date:"2017-05-09",status:"unqualified",verified:!0,activity:92,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:12178},{id:1449,name:"Jacqueline Rowling",country:{name:"Qatar",code:"qa"},company:"John Hancock Mutl Life Ins Co",date:"2019-06-28",status:"negotiation",verified:!0,activity:79,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:35576},{id:1450,name:"Lonny Weglarz",country:{name:"Chile",code:"cl"},company:"History Division Of State",date:"2016-08-12",status:"new",verified:!0,activity:49,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:20507},{id:1451,name:"Lonna Diestel",country:{name:"Philippines",code:"ph"},company:"Dimmock, Thomas J Esq",date:"2017-02-10",status:"negotiation",verified:!0,activity:9,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:56415},{id:1452,name:"Cristal Samara",country:{name:"Australia",code:"au"},company:"Intermed Inc",date:"2016-08-17",status:"qualified",verified:!0,activity:99,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:33427},{id:1453,name:"Kenneth Grenet",country:{name:"Croatia",code:"hr"},company:"Bank Of New York",date:"2020-07-24",status:"negotiation",verified:!0,activity:78,representative:{name:"Anna Fali",image:"annafali.png"},balance:44004},{id:1454,name:"Elli Mclaird",country:{name:"Switzerland",code:"ch"},company:"Sportmaster Intrnatl",date:"2017-06-10",status:"qualified",verified:!0,activity:61,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:37227},{id:1455,name:"Alline Jeanty",country:{name:"Denmark",code:"dk"},company:"W W John Holden Inc",date:"2015-12-08",status:"renewal",verified:!0,activity:74,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:44560},{id:1456,name:"Sharika Eanes",country:{name:"Chile",code:"cl"},company:"Maccani & Delp",date:"2018-08-16",status:"qualified",verified:!0,activity:14,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:50922},{id:1457,name:"Nu Mcnease",country:{name:"Pakistan",code:"pk"},company:"Amazonia Film Project",date:"2018-07-03",status:"negotiation",verified:!0,activity:47,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:61262},{id:1458,name:"Daniela Comnick",country:{name:"Tunisia",code:"tn"},company:"Water & Sewer Department",date:"2017-07-07",status:"negotiation",verified:!0,activity:31,representative:{name:"Anna Fali",image:"annafali.png"},balance:13459},{id:1459,name:"Cecilia Colaizzo",country:{name:"Costa Rica",code:"cr"},company:"Switchcraft Inc",date:"2019-06-08",status:"negotiation",verified:!0,activity:21,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:52299},{id:1460,name:"Leslie Threets",country:{name:"Sweden",code:"se"},company:"C W D C Metal Fabricators",date:"2016-11-26",status:"unqualified",verified:!0,activity:50,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:61040},{id:1461,name:"Nan Koppinger",country:{name:"Norway",code:"no"},company:"Shimotani, Grace T",date:"2020-11-15",status:"negotiation",verified:!0,activity:94,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:91297},{id:1462,name:"Izetta Dewar",country:{name:"Cuba",code:"cu"},company:"Lisatoni, Jean Esq",date:"2019-11-22",status:"renewal",verified:!0,activity:41,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:39947},{id:1463,name:"Tegan Arceo",country:{name:"Iceland",code:"is"},company:"Ceramic Tile Sales Inc",date:"2016-08-07",status:"new",verified:!0,activity:79,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:78224},{id:1464,name:"Ruthann Keener",country:{name:"Morocco",code:"ma"},company:"Maiden Craft Inc",date:"2019-04-25",status:"negotiation",verified:!0,activity:43,representative:{name:"Elwin Sharvill",image:"elwinsharvill.png"},balance:22727},{id:1465,name:"Joni Breland",country:{name:"Uruguay",code:"uy"},company:"Carriage House Cllsn Rpr Inc",date:"2018-07-20",status:"new",verified:!0,activity:18,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:70650},{id:1466,name:"Vi Rentfro",country:{name:"Malaysia",code:"my"},company:"Video Workshop",date:"2018-10-01",status:"negotiation",verified:!0,activity:99,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:45956},{id:1467,name:"Colette Kardas",country:{name:"Honduras",code:"hn"},company:"Fresno Tile Center Inc",date:"2017-08-22",status:"new",verified:!0,activity:14,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:72627},{id:1468,name:"Malcolm Tromblay",country:{name:"Uruguay",code:"uy"},company:"Versatile Sash & Woodwork",date:"2019-11-25",status:"renewal",verified:!0,activity:23,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:80176},{id:1469,name:"Ryan Harnos",country:{name:"Paraguay",code:"py"},company:"Warner Electric Brk & Cltch Co",date:"2019-02-12",status:"qualified",verified:!0,activity:71,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:97227},{id:1470,name:"Jess Chaffins",country:{name:"Belarus",code:"by"},company:"New York Public Library",date:"2017-02-12",status:"qualified",verified:!0,activity:91,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:63121},{id:1471,name:"Sharen Bourbon",country:{name:"Saudi Arabia",code:"sa"},company:"Mccaleb, John A Esq",date:"2017-06-13",status:"renewal",verified:!0,activity:35,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:44726},{id:1472,name:"Nickolas Juvera",country:{name:"Finland",code:"fi"},company:"United Oil Co Inc",date:"2019-01-06",status:"negotiation",verified:!0,activity:14,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:70748},{id:1473,name:"Gary Nunlee",country:{name:"Turkey",code:"tr"},company:"Irving Foot Center",date:"2015-07-22",status:"renewal",verified:!0,activity:72,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:71061},{id:1474,name:"Diane Devreese",country:{name:"Bolivia",code:"bo"},company:"Acme Supply Co",date:"2018-05-13",status:"renewal",verified:!0,activity:78,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:7486},{id:1475,name:"Roslyn Chavous",country:{name:"Israel",code:"il"},company:"Mcrae, James L",date:"2018-03-20",status:"negotiation",verified:!0,activity:45,representative:{name:"Bernardo Dominic",image:"bernardodominic.png"},balance:58495},{id:1476,name:"Glory Schieler",country:{name:"Italy",code:"it"},company:"Mcgraths Seafood",date:"2017-05-13",status:"negotiation",verified:!0,activity:34,representative:{name:"Anna Fali",image:"annafali.png"},balance:96252},{id:1477,name:"Rasheeda Sayaphon",country:{name:"Latvia",code:"lv"},company:"Kummerer, J Michael Esq",date:"2017-02-21",status:"negotiation",verified:!0,activity:12,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:71454},{id:1478,name:"Alpha Palaia",country:{name:"Costa Rica",code:"cr"},company:"Stoffer, James M Jr",date:"2017-07-21",status:"renewal",verified:!0,activity:4,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:81894},{id:1479,name:"Refugia Jacobos",country:{name:"China",code:"cn"},company:"North Central Fl Sfty Cncl",date:"2020-11-25",status:"negotiation",verified:!0,activity:18,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:31601},{id:1480,name:"Shawnda Yori",country:{name:"Luxembourg",code:"lu"},company:"Fiorucci Foods Usa Inc",date:"2018-05-09",status:"unqualified",verified:!0,activity:11,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:12090},{id:1481,name:"Mona Delasancha",country:{name:"Hong Kong",code:"hk"},company:"Sign All",date:"2017-10-06",status:"renewal",verified:!0,activity:61,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:24073},{id:1482,name:"Gilma Liukko",country:{name:"Morocco",code:"ma"},company:"Sammys Steak Den",date:"2018-10-06",status:"unqualified",verified:!0,activity:34,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:35129},{id:1483,name:"Janey Gabisi",country:{name:"Israel",code:"il"},company:"Dobscha, Stephen F Esq",date:"2019-05-22",status:"unqualified",verified:!0,activity:38,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:25518},{id:1484,name:"Lili Paskin",country:{name:"Costa Rica",code:"cr"},company:"Morgan Custom Homes",date:"2018-06-11",status:"unqualified",verified:!0,activity:69,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:7300},{id:1485,name:"Loren Asar",country:{name:"Italy",code:"it"},company:"Olsen Payne & Company",date:"2017-12-11",status:"unqualified",verified:!0,activity:16,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:82949},{id:1486,name:"Dorothy Chesterfield",country:{name:"Spain",code:"es"},company:"Cowan & Kelly",date:"2015-08-11",status:"renewal",verified:!0,activity:31,representative:{name:"Anna Fali",image:"annafali.png"},balance:25044},{id:1487,name:"Gail Similton",country:{name:"Malaysia",code:"my"},company:"Johnson, Wes Esq",date:"2016-08-10",status:"qualified",verified:!0,activity:63,representative:{name:"Xuxue Feng",image:"xuxuefeng.png"},balance:97553},{id:1488,name:"Catalina Tillotson",country:{name:"Pakistan",code:"pk"},company:"Icn Pharmaceuticals Inc",date:"2018-08-04",status:"negotiation",verified:!0,activity:13,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:38294},{id:1489,name:"Lawrence Lorens",country:{name:"Egypt",code:"eg"},company:"New England Sec Equip Co Inc",date:"2020-04-15",status:"negotiation",verified:!0,activity:82,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:56617},{id:1490,name:"Carlee Boulter",country:{name:"Vietnam",code:"vn"},company:"Tippett, Troy M Ii",date:"2016-09-22",status:"renewal",verified:!0,activity:71,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:76817},{id:1491,name:"Thaddeus Ankeny",country:{name:"Qatar",code:"qa"},company:"Atc Contracting",date:"2015-03-08",status:"unqualified",verified:!0,activity:78,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:80787},{id:1492,name:"Jovita Oles",country:{name:"Sweden",code:"se"},company:"Pagano, Philip G Esq",date:"2019-07-18",status:"negotiation",verified:!0,activity:42,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:4158},{id:1493,name:"Alesia Hixenbaugh",country:{name:"Thailand",code:"th"},company:"Kwikprint",date:"2017-07-24",status:"negotiation",verified:!1,activity:23,representative:{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},balance:66993},{id:1494,name:"Lai Harabedian",country:{name:"Serbia",code:"rs"},company:"Buergi & Madden Scale",date:"2018-11-11",status:"new",verified:!0,activity:28,representative:{name:"Asiya Javayant",image:"asiyajavayant.png"},balance:53330},{id:1495,name:"Brittni Gillaspie",country:{name:"Senegal",code:"sn"},company:"Inner Label",date:"2019-11-23",status:"renewal",verified:!0,activity:14,representative:{name:"Ioni Bowcher",image:"ionibowcher.png"},balance:72342},{id:1496,name:"Raylene Kampa",country:{name:"Belgium",code:"be"},company:"Hermar Inc",date:"2020-04-22",status:"unqualified",verified:!0,activity:65,representative:{name:"Stephen Shaw",image:"stephenshaw.png"},balance:53660},{id:1497,name:"Flo Bookamer",country:{name:"Argentina",code:"ar"},company:"Simonton Howe & Schneider Pc",date:"2020-08-10",status:"unqualified",verified:!0,activity:30,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:44528},{id:1498,name:"Jani Biddy",country:{name:"Switzerland",code:"ch"},company:"Warehouse Office & Paper Prod",date:"2019-11-07",status:"negotiation",verified:!1,activity:20,representative:{name:"Onyama Limba",image:"onyamalimba.png"},balance:69613},{id:1499,name:"Chauncey Motley",country:{name:"Argentina",code:"ar"},company:"Affiliated With Travelodge",date:"2019-04-23",status:"renewal",verified:!0,activity:42,representative:{name:"Amy Elsner",image:"amyelsner.png"},balance:88090}]}getCustomersMini(){return Promise.resolve(this.getData().slice(0,5))}getCustomersSmall(){return Promise.resolve(this.getData().slice(0,10))}getCustomersMedium(){return Promise.resolve(this.getData().slice(0,50))}getCustomersLarge(){return Promise.resolve(this.getData().slice(0,200))}getCustomersXLarge(){return Promise.resolve(this.getData())}getCustomers(s){return this.http.get("https://www.primefaces.org/data/customers",{params:s}).toPromise()}static \u0275fac=function(e){return new(e||t)(hx(cf))};static \u0275prov=St({token:t,factory:t.\u0275fac})};var bK=["filter"],yK=()=>["name","country.name","representative.name","status"],h4=()=>({"min-width":"60rem"}),m4=()=>({"min-width":"12rem"}),vK=()=>({height:"0.5rem"}),f4=t=>({"font-bold":t});function xK(t,s){if(t&1){let e=Re();L(0,"div",18)(1,"button",19),Ie("click",function(){Z(e);let n=M(),a=Ut(4);return X(n.clear(a))}),D(),L(2,"p-iconfield",20)(3,"p-inputicon"),oe(4,"i",21),D(),L(5,"input",22),Ie("input",function(n){Z(e);let a=M(),p=Ut(4);return X(a.onGlobalFilter(p,n))}),D()()()}}function wK(t,s){t&1&&(L(0,"div",36)(1,"span",37),ne(2,"Agent Picker"),D()())}function IK(t,s){if(t&1&&(L(0,"div",39),oe(1,"img",40),L(2,"span"),ne(3),D()()),t&2){let e=s.$implicit;S(),T("src",vs("https://primefaces.org/cdn/primeng/images/demo/avatar/",e.image),an)("alt",e.label),S(2),Dt(e.name)}}function TK(t,s){if(t&1){let e=Re();L(0,"p-multiselect",38),Ie("onChange",function(n){let a=Z(e).filterCallback;return X(a(n.value))}),B(1,IK,4,4,"ng-template",null,10,Be),D()}if(t&2){let e=s.$implicit,i=M(2);T("ngModel",e)("options",i.representatives)}}function CK(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=s.$implicit;K("customer-badge status-"+e.value),S(),Dt(e.label)}}function SK(t,s){if(t&1){let e=Re();L(0,"p-select",41),Ie("onChange",function(n){let a=Z(e).filterCallback;return X(a(n.value))}),B(1,CK,2,3,"ng-template",null,10,Be),D()}if(t&2){let e=s.$implicit,i=M(2);Ft(Kt(4,m4)),T("ngModel",e)("options",i.statuses)}}function MK(t,s){if(t&1){let e=Re();L(0,"p-slider",42),Ie("onSlideEnd",function(n){let a=Z(e).filterCallback;return X(a(n.values))}),D(),L(1,"div",43)(2,"span"),ne(3),D(),L(4,"span"),ne(5),D()()}if(t&2){let e=M(2);Ft(Kt(6,m4)),T("ngModel",e.activityValues)("range",!0),S(3),Dt(e.activityValues[0]),S(2),Dt(e.activityValues[1])}}function kK(t,s){t&1&&(L(0,"tr")(1,"th",23)(2,"div",24),ne(3," Name "),oe(4,"p-columnFilter",25),D()(),L(5,"th",23)(6,"div",24),ne(7," Country "),oe(8,"p-columnFilter",26),D()(),L(9,"th",27)(10,"div",24),ne(11," Agent "),L(12,"p-columnFilter",28),B(13,wK,3,0,"ng-template",null,2,Be)(15,TK,3,2,"ng-template",null,9,Be),D()()(),L(17,"th",29)(18,"div",24),ne(19," Date "),oe(20,"p-columnFilter",30),D()(),L(21,"th",29)(22,"div",24),ne(23," Balance "),oe(24,"p-columnFilter",31),D()(),L(25,"th",23)(26,"div",24),ne(27," Status "),L(28,"p-columnFilter",32),B(29,SK,3,5,"ng-template",null,9,Be),D()()(),L(31,"th",23)(32,"div",24),ne(33," Activity "),L(34,"p-columnFilter",33),B(35,MK,6,7,"ng-template",null,9,Be),D()()(),L(37,"th",34)(38,"div",24),ne(39," Verified "),oe(40,"p-columnFilter",35),D()()()),t&2&&(S(12),T("showMatchModes",!1)("showOperator",!1)("showAddButton",!1),S(22),T("showMatchModes",!1)("showOperator",!1)("showAddButton",!1))}function EK(t,s){if(t&1&&(L(0,"tr")(1,"td"),ne(2),D(),L(3,"td")(4,"div",44),oe(5,"img",45),L(6,"span"),ne(7),D()()(),L(8,"td")(9,"div",44),oe(10,"img",46),L(11,"span",47),ne(12),D()()(),L(13,"td"),ne(14),Yl(15,"date"),D(),L(16,"td"),ne(17),Yl(18,"currency"),D(),L(19,"td"),oe(20,"p-tag",48),D(),L(21,"td"),oe(22,"p-progressbar",49),D(),L(23,"td",50),oe(24,"p-tag",48),D()()),t&2){let e=s.$implicit,i=M();S(2),ni(" ",e.name," "),S(3),K("flag flag-"+e.country.code),S(2),Dt(e.country.name),S(3),T("src",vs("https://primefaces.org/cdn/primeng/images/demo/avatar/",e.representative.image),an)("alt",e.representative.name),S(2),Dt(e.representative.name),S(2),ni(" ",sf(15,18,e.date,"MM/dd/yyyy")," "),S(3),ni(" ",Yh(18,21,e.balance,"USD","symbol")," "),S(3),T("value",e.status.toLowerCase())("severity",i.getSeverity(e.status.toLowerCase())),S(2),Ft(Kt(25,vK)),T("value",e.activity)("showValue",!1),S(2),T("value",e.status.toLowerCase())("severity",i.getSeverity(e.status.toLowerCase()))}}function PK(t,s){t&1&&(L(0,"tr")(1,"td",51),ne(2,"No customers found."),D()())}function DK(t,s){t&1&&(L(0,"tr")(1,"td",51),ne(2,"Loading customers data. Please wait."),D()())}function LK(t,s){if(t&1&&(L(0,"tr")(1,"th",52),ne(2,"Name"),D(),L(3,"th",53),ne(4,"Id"),D(),L(5,"th",54),ne(6,"Country"),D(),L(7,"th",54),ne(8,"Date"),D(),L(9,"th",54),ne(10,"Company"),D(),L(11,"th",54),ne(12,"Status"),D(),L(13,"th",54),ne(14,"Activity"),D(),L(15,"th",54),ne(16,"Representative"),D(),L(17,"th",55),ne(18,"Balance"),D()()),t&2){let e=M();S(17),T("frozen",e.balanceFrozen)("ngClass",rt(2,f4,e.balanceFrozen))}}function AK(t,s){if(t&1&&(L(0,"tr")(1,"td",56),ne(2),D(),L(3,"td",53),ne(4),D(),L(5,"td"),ne(6),D(),L(7,"td"),ne(8),D(),L(9,"td"),ne(10),D(),L(11,"td"),ne(12),D(),L(13,"td"),ne(14),D(),L(15,"td"),ne(16),D(),L(17,"td",57),ne(18),D()()),t&2){let e=s.$implicit,i=M();S(2),Dt(e.name),S(2),Dt(e.id),S(2),Dt(e.country.name),S(2),Dt(e.date),S(2),Dt(e.company),S(2),Dt(e.status),S(2),Dt(e.activity),S(2),Dt(e.representative.name),S(),T("frozen",i.balanceFrozen)("ngClass",rt(11,f4,i.balanceFrozen)),S(),ni(" ",i.formatCurrency(e.balance)," ")}}function FK(t,s){if(t&1){let e=Re();L(0,"button",58),Ie("click",function(){Z(e);let n=M();return X(n.expandAll())}),D(),oe(1,"div",59)}if(t&2){let e=M();T("icon",vs("pi pi-fw ",e.isExpanded?"pi-minus":"pi-plus"))("label",yx(e.isExpanded?"Collapse All":"Expand All"))}}function OK(t,s){t&1&&(L(0,"tr"),oe(1,"th",60),L(2,"th",61),ne(3,"Name "),oe(4,"p-sortIcon",62),D(),L(5,"th"),ne(6,"Image"),D(),L(7,"th",63),ne(8,"Price "),oe(9,"p-sortIcon",64),D(),L(10,"th",65),ne(11,"Category "),oe(12,"p-sortIcon",66),D(),L(13,"th",67),ne(14,"Reviews "),oe(15,"p-sortIcon",68),D(),L(16,"th",69),ne(17,"Status "),oe(18,"p-sortIcon",70),D()())}function VK(t,s){if(t&1&&(L(0,"tr")(1,"td"),oe(2,"p-button",71),D(),L(3,"td"),ne(4),D(),L(5,"td"),oe(6,"img",72),D(),L(7,"td"),ne(8),Yl(9,"currency"),D(),L(10,"td"),ne(11),D(),L(12,"td"),oe(13,"p-rating",73),D(),L(14,"td"),oe(15,"p-tag",74),D()()),t&2){let e=s.$implicit,i=s.expanded,n=M();S(2),T("pRowToggler",e)("text",!0)("rounded",!0)("plain",!0)("icon",i?"pi pi-chevron-down":"pi pi-chevron-right"),S(2),Dt(e.name),S(2),T("src","https://primefaces.org/cdn/primeng/images/demo/product/"+e.image,an)("alt",e.name),S(2),Dt(sf(9,14,e.price,"USD")),S(3),Dt(e.category),S(2),T("ngModel",e.rating)("readonly",!0),S(2),T("value",e.inventoryStatus)("severity",n.getSeverity(e.inventoryStatus))}}function zK(t,s){t&1&&(L(0,"tr")(1,"th",78),ne(2,"Id "),oe(3,"p-sortIcon",64),D(),L(4,"th",79),ne(5," Customer "),oe(6,"p-sortIcon",80),D(),L(7,"th",81),ne(8,"Date "),oe(9,"p-sortIcon",82),D(),L(10,"th",83),ne(11," Amount "),oe(12,"p-sortIcon",84),D(),L(13,"th",85),ne(14," Status "),oe(15,"p-sortIcon",86),D(),oe(16,"th",87),D())}function BK(t,s){if(t&1&&(L(0,"tr")(1,"td"),ne(2),D(),L(3,"td"),ne(4),D(),L(5,"td"),ne(6),D(),L(7,"td"),ne(8),Yl(9,"currency"),D(),L(10,"td"),oe(11,"p-tag",74),D(),L(12,"td"),oe(13,"p-button",88),D()()),t&2){let e=s.$implicit,i=M(2);S(2),Dt(e.id),S(2),Dt(e.customer),S(2),Dt(e.date),S(2),ni(" ",sf(9,6,e.amount,"USD")," "),S(3),T("value",e.status)("severity",i.getSeverity(e.status))}}function RK(t,s){t&1&&(L(0,"tr")(1,"td",89),ne(2,"There are no order for this product yet."),D()())}function NK(t,s){if(t&1&&(L(0,"tr")(1,"td",75)(2,"div",76)(3,"h5"),ne(4),D(),L(5,"p-table",77),B(6,zK,17,0,"ng-template",null,2,Be)(8,BK,14,9,"ng-template",null,3,Be)(10,RK,3,0,"ng-template",null,4,Be),D()()()()),t&2){let e=s.$implicit;S(4),ni("Orders for ",e.name),S(),T("value",e.orders)}}function qK(t,s){t&1&&(L(0,"tr")(1,"th"),ne(2,"Name"),D(),L(3,"th"),ne(4,"Country"),D(),L(5,"th"),ne(6,"Company"),D(),L(7,"th"),ne(8,"Status"),D(),L(9,"th"),ne(10,"Date"),D()())}function jK(t,s){if(t&1&&(L(0,"tr",90)(1,"td",91)(2,"div",44),oe(3,"img",46),L(4,"span",37),ne(5),D()()()()),t&2){let e=s.$implicit;S(3),T("src",vs("https://primefaces.org/cdn/primeng/images/demo/avatar/",e.representative.image),an)("alt",e.representative.name),S(2),Dt(e.representative.name)}}function HK(t,s){if(t&1&&(L(0,"tr")(1,"td",92),ne(2),D()()),t&2){let e=s.$implicit,i=M();S(2),ni("Total Customers: ",i.calculateCustomerTotal(e.representative.name))}}function GK(t,s){if(t&1&&(L(0,"tr")(1,"td"),ne(2),D(),L(3,"td")(4,"div",44),oe(5,"img",93),L(6,"span"),ne(7),D()()(),L(8,"td"),ne(9),D(),L(10,"td"),oe(11,"p-tag",74),D(),L(12,"td"),ne(13),D()()),t&2){let e=s.$implicit,i=M();S(2),ni(" ",e.name," "),S(3),K("flag flag-"+e.country.code),S(2),Dt(e.country.name),S(2),ni(" ",e.company," "),S(2),T("value",e.status)("severity",i.getSeverity(e.status)),S(2),ni(" ",e.date," ")}}var t_=class t{constructor(s,e){this.customerService=s;this.productService=e}customers1=[];customers2=[];customers3=[];selectedCustomers1=[];selectedCustomer={};representatives=[];statuses=[];products=[];rowGroupMetadata;expandedRows={};activityValues=[0,100];isExpanded=!1;balanceFrozen=!1;loading=!0;filter;ngOnInit(){this.customerService.getCustomersLarge().then(s=>{this.customers1=s,this.loading=!1,this.customers1.forEach(e=>e.date=new Date(e.date))}),this.customerService.getCustomersMedium().then(s=>this.customers2=s),this.customerService.getCustomersLarge().then(s=>this.customers3=s),this.productService.getProductsWithOrdersSmall().then(s=>this.products=s),this.representatives=[{name:"Amy Elsner",image:"amyelsner.png"},{name:"Anna Fali",image:"annafali.png"},{name:"Asiya Javayant",image:"asiyajavayant.png"},{name:"Bernardo Dominic",image:"bernardodominic.png"},{name:"Elwin Sharvill",image:"elwinsharvill.png"},{name:"Ioni Bowcher",image:"ionibowcher.png"},{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},{name:"Onyama Limba",image:"onyamalimba.png"},{name:"Stephen Shaw",image:"stephenshaw.png"},{name:"XuXue Feng",image:"xuxuefeng.png"}],this.statuses=[{label:"Unqualified",value:"unqualified"},{label:"Qualified",value:"qualified"},{label:"New",value:"new"},{label:"Negotiation",value:"negotiation"},{label:"Renewal",value:"renewal"},{label:"Proposal",value:"proposal"}]}onSort(){this.updateRowGroupMetaData()}updateRowGroupMetaData(){if(this.rowGroupMetadata={},this.customers3)for(let s=0;s<this.customers3.length;s++){let i=this.customers3[s]?.representative?.name||"";if(s===0)this.rowGroupMetadata[i]={index:0,size:1};else{let a=this.customers3[s-1]?.representative?.name;i===a?this.rowGroupMetadata[i].size++:this.rowGroupMetadata[i]={index:s,size:1}}}}expandAll(){_f.isEmpty(this.expandedRows)?(this.expandedRows=this.products.reduce((s,e)=>(e.id&&(s[e.id]=!0),s),{}),this.isExpanded=!0):this.collapseAll()}collapseAll(){this.expandedRows={},this.isExpanded=!1}formatCurrency(s){return s.toLocaleString("en-US",{style:"currency",currency:"USD"})}onGlobalFilter(s,e){s.filterGlobal(e.target.value,"contains")}clear(s){s.clear(),this.filter.nativeElement.value=""}getSeverity(s){switch(s){case"qualified":case"instock":case"INSTOCK":case"DELIVERED":case"delivered":return"success";case"negotiation":case"lowstock":case"LOWSTOCK":case"PENDING":case"pending":return"warn";case"unqualified":case"outofstock":case"OUTOFSTOCK":case"CANCELLED":case"cancelled":return"danger";default:return"info"}}calculateCustomerTotal(s){let e=0;if(this.customers2)for(let i of this.customers2)i.representative?.name===s&&e++;return e}static \u0275fac=function(e){return new(e||t)(At(Fp),At(Do))};static \u0275cmp=Je({type:t,selectors:[["app-table-demo"]],viewQuery:function(e,i){if(e&1&&dt(bK,5),e&2){let n;le(n=ce())&&(i.filter=n.first)}},features:[bt([Jl,er,Fp,Do])],decls:48,vars:21,consts:[["dt1",""],["caption",""],["header",""],["body",""],["emptymessage",""],["loadingbody",""],["expandedrow",""],["groupheader",""],["groupfooter",""],["filter",""],["item",""],[1,"card"],[1,"font-semibold","text-xl","mb-4"],["dataKey","id","responsiveLayout","scroll",3,"value","rows","loading","rowHover","showGridlines","paginator","globalFilterFields"],["offIcon","pi pi-lock-open","offLabel","Balance",3,"ngModelChange","ngModel","onIcon","onLabel"],["scrollHeight","400px","styleClass","mt-4",3,"value","scrollable"],["dataKey","id",3,"value","tableStyle","expandedRowKeys"],["sortField","representative.name","sortMode","single","scrollHeight","400px","rowGroupMode","subheader","groupRowsBy","representative.name",3,"value","scrollable","tableStyle"],[1,"flex","justify-between","items-center","flex-column","sm:flex-row"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click"],["iconPosition","left",1,"ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",3,"input"],[2,"min-width","12rem"],[1,"flex","justify-between","items-center"],["type","text","field","name","display","menu","placeholder","Search by name"],["type","text","field","country.name","display","menu","placeholder","Search by country"],[2,"min-width","14rem"],["field","representative","matchMode","in","display","menu",3,"showMatchModes","showOperator","showAddButton"],[2,"min-width","10rem"],["type","date","field","date","display","menu","placeholder","mm/dd/yyyy"],["type","numeric","field","balance","display","menu","currency","USD"],["field","status","matchMode","equals","display","menu"],["field","activity","matchMode","between","display","menu",3,"showMatchModes","showOperator","showAddButton"],[2,"min-width","8rem"],["type","boolean","field","verified","display","menu"],[1,"px-3","pt-3","pb-0"],[1,"font-bold"],["placeholder","Any","optionLabel","name","styleClass","w-full",3,"onChange","ngModel","options"],[1,"flex","items-center","gap-2","w-44"],["width","32",3,"alt","src"],["placeholder","Any",3,"onChange","ngModel","options"],["styleClass","m-3",3,"onSlideEnd","ngModel","range"],[1,"flex","items-center","justify-between","px-2"],[1,"flex","items-center","gap-2"],["src","https://primefaces.org/cdn/primeng/images/demo/flag/flag_placeholder.png","width","30"],["width","32",2,"vertical-align","middle",3,"alt","src"],[1,"image-text"],["styleClass","dark:bg-surface-900!",3,"value","severity"],[3,"value","showValue"],[1,"text-center"],["colspan","8"],["pFrozenColumn","",1,"font-bold",2,"min-width","200px"],[2,"min-width","100px"],[2,"min-width","200px"],["alignFrozen","right","pFrozenColumn","",2,"min-width","200px",3,"frozen","ngClass"],["pFrozenColumn","",1,"font-bold"],["alignFrozen","right","pFrozenColumn","",3,"frozen","ngClass"],["pButton","",3,"click","icon","label"],[1,"flex","table-header"],[2,"width","5rem"],["pSortableColumn","name"],["field","name"],["pSortableColumn","price"],["field","price"],["pSortableColumn","category"],["field","category"],["pSortableColumn","rating"],["field","rating"],["pSortableColumn","inventoryStatus"],["field","inventoryStatus"],["type","button","pRipple","",3,"pRowToggler","text","rounded","plain","icon"],["width","50",1,"shadow-lg",3,"src","alt"],[3,"ngModel","readonly"],[3,"value","severity"],["colspan","7"],[1,"p-4"],["dataKey","id",3,"value"],["pSortableColumn","id"],["pSortableColumn","customer"],["field","customer"],["pSortableColumn","date"],["field","date"],["pSortableColumn","amount"],["field","amount"],["pSortableColumn","status"],["field","status"],[2,"width","4rem"],["type","button","icon","pi pi-search"],["colspan","6"],["pRowGroupHeader",""],["colspan","5"],["colspan","5",1,"text-right","font-bold","pr-12"],["src","https://primefaces.org/cdn/primeng/images/demo/flag/flag_placeholder.png",2,"width","20px"]],template:function(e,i){if(e&1){let n=Re();L(0,"div",11)(1,"div",12),ne(2,"Filtering"),D(),L(3,"p-table",13,0),B(5,xK,6,0,"ng-template",null,1,Be)(7,kK,41,6,"ng-template",null,2,Be)(9,EK,25,26,"ng-template",null,3,Be)(11,PK,3,0,"ng-template",null,4,Be)(13,DK,3,0,"ng-template",null,5,Be),D()(),L(15,"div",11)(16,"div",12),ne(17,"Frozen Columns"),D(),L(18,"p-togglebutton",14),si("ngModelChange",function(p){return Z(n),ri(i.balanceFrozen,p)||(i.balanceFrozen=p),X(p)}),D(),L(19,"p-table",15),B(20,LK,19,4,"ng-template",null,2,Be)(22,AK,19,13,"ng-template",null,3,Be),D()(),L(24,"div",11)(25,"div",12),ne(26,"Row Expansion"),D(),L(27,"p-table",16),B(28,FK,2,4,"ng-template",null,1,Be)(30,OK,19,0,"ng-template",null,2,Be)(32,VK,16,17,"ng-template",null,3,Be)(34,NK,12,2,"ng-template",null,6,Be),D()(),L(36,"div",11)(37,"div",12),ne(38,"Grouping"),D(),L(39,"p-table",17),B(40,qK,11,0,"ng-template",null,2,Be)(42,jK,6,4,"ng-template",null,7,Be)(44,HK,3,1,"ng-template",null,8,Be)(46,GK,14,8,"ng-template",null,3,Be),D()()}e&2&&(S(3),T("value",i.customers1)("rows",10)("loading",i.loading)("rowHover",!0)("showGridlines",!0)("paginator",!0)("globalFilterFields",Kt(18,yK)),S(15),oi("ngModel",i.balanceFrozen),T("onIcon","pi pi-lock")("onLabel","Balance"),S(),T("value",i.customers2)("scrollable",!0),S(8),T("value",i.products)("tableStyle",Kt(19,h4))("expandedRowKeys",i.expandedRows),S(12),T("value",i.customers3)("scrollable",!0)("tableStyle",Kt(20,h4)))},dependencies:[Ef,kf,mw,hw,pw,_w,fw,bw,jg,Pp,lc,sc,rc,nr,uc,cc,Po,sa,Og,kp,Df,Pf,If,wf,ac,mt,Ca,ln,Yn,Jn,Fi,Ms,qi,Bf,zf,ap,pn,oc,ir,Ix,wx],styles:[".p-datatable-frozen-tbody[_ngcontent-%COMP%], .p-datatable-scrollable[_ngcontent-%COMP%]   .p-frozen-column[_ngcontent-%COMP%]{font-weight:700}"]})};var g4=`
    .p-drawer {
        display: flex;
        flex-direction: column;
        transform: translate3d(0px, 0px, 0px);
        position: relative;
        transition: transform 0.3s;
        background: dt('drawer.background');
        color: dt('drawer.color');
        border: 1px solid dt('drawer.border.color');
        box-shadow: dt('drawer.shadow');
    }

    .p-drawer-content {
        overflow-y: auto;
        flex-grow: 1;
        padding: dt('drawer.content.padding');
    }

    .p-drawer-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-shrink: 0;
        padding: dt('drawer.header.padding');
    }

    .p-drawer-footer {
        padding: dt('drawer.footer.padding');
    }

    .p-drawer-title {
        font-weight: dt('drawer.title.font.weight');
        font-size: dt('drawer.title.font.size');
    }

    .p-drawer-full .p-drawer {
        transition: none;
        transform: none;
        width: 100vw !important;
        height: 100vh !important;
        max-height: 100%;
        top: 0px !important;
        left: 0px !important;
        border-width: 1px;
    }

    .p-drawer-left .p-drawer-enter-from,
    .p-drawer-left .p-drawer-leave-to {
        transform: translateX(-100%);
    }

    .p-drawer-right .p-drawer-enter-from,
    .p-drawer-right .p-drawer-leave-to {
        transform: translateX(100%);
    }

    .p-drawer-top .p-drawer-enter-from,
    .p-drawer-top .p-drawer-leave-to {
        transform: translateY(-100%);
    }

    .p-drawer-bottom .p-drawer-enter-from,
    .p-drawer-bottom .p-drawer-leave-to {
        transform: translateY(100%);
    }

    .p-drawer-full .p-drawer-enter-from,
    .p-drawer-full .p-drawer-leave-to {
        opacity: 0;
    }

    .p-drawer-full .p-drawer-enter-active,
    .p-drawer-full .p-drawer-leave-active {
        transition: opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    .p-drawer-left .p-drawer {
        width: 20rem;
        height: 100%;
        border-inline-end-width: 1px;
    }

    .p-drawer-right .p-drawer {
        width: 20rem;
        height: 100%;
        border-inline-start-width: 1px;
    }

    .p-drawer-top .p-drawer {
        height: 10rem;
        width: 100%;
        border-block-end-width: 1px;
    }

    .p-drawer-bottom .p-drawer {
        height: 10rem;
        width: 100%;
        border-block-start-width: 1px;
    }

    .p-drawer-left .p-drawer-content,
    .p-drawer-right .p-drawer-content,
    .p-drawer-top .p-drawer-content,
    .p-drawer-bottom .p-drawer-content {
        width: 100%;
        height: 100%;
    }

    .p-drawer-open {
        display: flex;
    }

    .p-drawer-mask:dir(rtl) {
        flex-direction: row-reverse;
    }
`;var UK=["header"],$K=["footer"],KK=["content"],WK=["closeicon"],QK=["headless"],ZK=["container"],XK=["closeButton"],YK=["*"],JK=(t,s)=>({transform:t,transition:s}),eW=t=>({value:"visible",params:t});function tW(t,s){t&1&&nt(0)}function iW(t,s){if(t&1&&B(0,tW,1,0,"ng-container",4),t&2){let e=M(2);T("ngTemplateOutlet",e.headlessTemplate||e._headlessTemplate)}}function nW(t,s){t&1&&nt(0)}function aW(t,s){if(t&1&&(L(0,"div"),ne(1),D()),t&2){let e=M(3);K(e.cx("title")),S(),Dt(e.header)}}function oW(t,s){t&1&&(it(),oe(0,"svg",11)),t&2&&ue("data-pc-section","closeicon")}function rW(t,s){}function sW(t,s){t&1&&B(0,rW,0,0,"ng-template")}function lW(t,s){if(t&1&&B(0,oW,1,1,"svg",10)(1,sW,1,0,null,4),t&2){let e=M(4);T("ngIf",!e.closeIconTemplate&&!e._closeIconTemplate),S(),T("ngTemplateOutlet",e.closeIconTemplate||e._closeIconTemplate)}}function cW(t,s){if(t&1){let e=Re();L(0,"p-button",9),Ie("onClick",function(n){Z(e);let a=M(3);return X(a.close(n))})("keydown.enter",function(n){Z(e);let a=M(3);return X(a.close(n))}),B(1,lW,2,2,"ng-template",null,1,Be),D()}if(t&2){let e=M(3);T("ngClass",e.cx("pcCloseButton"))("buttonProps",e.closeButtonProps)("ariaLabel",e.ariaCloseLabel),ue("data-pc-section","closebutton")("data-pc-group-section","iconcontainer")}}function uW(t,s){t&1&&nt(0)}function dW(t,s){t&1&&nt(0)}function pW(t,s){if(t&1&&(We(0),L(1,"div",5),B(2,dW,1,0,"ng-container",4),D(),Qe()),t&2){let e=M(3);S(),T("ngClass",e.cx("footer")),ue("data-pc-section","footer"),S(),T("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}function hW(t,s){if(t&1&&(L(0,"div",5),B(1,nW,1,0,"ng-container",4)(2,aW,2,3,"div",6)(3,cW,3,5,"p-button",7),D(),L(4,"div",5),Pi(5),B(6,uW,1,0,"ng-container",4),D(),B(7,pW,3,3,"ng-container",8)),t&2){let e=M(2);T("ngClass",e.cx("header")),ue("data-pc-section","header"),S(),T("ngTemplateOutlet",e.headerTemplate||e._headerTemplate),S(),T("ngIf",e.header),S(),T("ngIf",e.showCloseIcon&&e.closable),S(),T("ngClass",e.cx("content")),ue("data-pc-section","content"),S(2),T("ngTemplateOutlet",e.contentTemplate||e._contentTemplate),S(),T("ngIf",e.footerTemplate||e._footerTemplate)}}function mW(t,s){if(t&1){let e=Re();L(0,"div",3,0),Ie("@panelState.start",function(n){Z(e);let a=M();return X(a.onAnimationStart(n))})("@panelState.done",function(n){Z(e);let a=M();return X(a.onAnimationEnd(n))})("keydown",function(n){Z(e);let a=M();return X(a.onKeyDown(n))}),Gi(2,iW,1,1,"ng-container")(3,hW,8,9),D()}if(t&2){let e=M();Ft(e.style),K(e.cn(e.cx("root"),e.styleClass)),T("@panelState",rt(11,eW,li(8,JK,e.transformOptions,e.transitionOptions))),ue("data-pc-name","sidebar")("data-pc-section","root"),S(2),Ui(e.headlessTemplate||e._headlessTemplate?2:3)}}var fW=`
    ${g4}

    /** For PrimeNG **/
    .p-drawer {
        position: fixed;
        display: flex;
        flex-direction: column;
    }

    .p-drawer-left {
        top: 0;
        left: 0;
        width: 20rem;
        height: 100%;
    }

    .p-drawer-right {
        top: 0;
        right: 0;
        width: 20rem;
        height: 100%;
    }

    .p-drawer-top {
        top: 0;
        left: 0;
        width: 100%;
        height: 10rem;
    }

    .p-drawer-bottom {
        bottom: 0;
        left: 0;
        width: 100%;
        height: 10rem;
    }

    .p-drawer-full {
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        -webkit-transition: none;
        transition: none;
    }

    .p-overlay-mask-enter {
        animation: p-overlay-mask-enter-animation 150ms forwards;
    }

    .p-overlay-mask-leave {
        animation: p-overlay-mask-leave-animation 150ms forwards;
    }

    @keyframes p-overlay-mask-enter-animation {
        from {
            background-color: transparent;
        }
        to {
            background-color: rgba(0, 0, 0, 0.4);
        }
    }
    @keyframes p-overlay-mask-leave-animation {
        from {
            background-color: rgba(0, 0, 0, 0.4);
        }
        to {
            background-color: transparent;
        }
    }
`,gW={mask:({instance:t})=>["p-drawer-mask",{"p-overlay-mask p-overlay-mask-enter":t.modal},{"p-drawer-full":t.fullScreen}],root:({instance:t})=>["p-drawer p-component",{"p-drawer-full":t.fullScreen,"p-drawer-open":t.visible},`p-drawer-${t.position}`],header:"p-drawer-header",title:"p-drawer-title",pcCloseButton:"p-drawer-close-button",content:"p-drawer-content",footer:"p-drawer-footer"},_4=(()=>{class t extends Vt{name="drawer";theme=fW;classes=gW;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var _W=R1([Ri({transform:"{{transform}}",opacity:0}),Ki("{{transition}}")]),bW=R1([Ki("{{transition}}",Ri({transform:"{{transform}}",opacity:0}))]),Oy=(()=>{class t extends Ot{appendTo="body";blockScroll=!1;style;styleClass;ariaCloseLabel;autoZIndex=!0;baseZIndex=0;modal=!0;closeButtonProps={severity:"secondary",text:!0,rounded:!0};dismissible=!0;showCloseIcon=!0;closeOnEscape=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";get visible(){return this._visible}set visible(e){this._visible=e}get position(){return this._position}set position(e){if(this._position=e,e==="full"){this.transformOptions="none";return}switch(e){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break}}get fullScreen(){return this._fullScreen}set fullScreen(e){this._fullScreen=e,e&&(this.transformOptions="none")}header;maskStyle;closable=!0;onShow=new Fe;onHide=new Fe;visibleChange=new Fe;containerViewChild;closeButtonViewChild;initialized;_visible;_position="left";_fullScreen=!1;container;transformOptions="translate3d(-100%, 0px, 0px)";mask;maskClickListener;documentEscapeListener;animationEndListener;_componentStyle=lt(_4);ngAfterViewInit(){super.ngAfterViewInit(),this.initialized=!0}headerTemplate;footerTemplate;contentTemplate;closeIconTemplate;headlessTemplate;_headerTemplate;_footerTemplate;_contentTemplate;_closeIconTemplate;_headlessTemplate;templates;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"closeicon":this._closeIconTemplate=e.template;break;case"headless":this._headlessTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}onKeyDown(e){e.code==="Escape"&&this.hide(!1)}show(){this.container.setAttribute(this.attrSelector,""),this.autoZIndex&&Zi.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({}),this.visibleChange.emit(!0)}hide(e=!0){e&&this.onHide.emit({}),this.modal&&this.disableModality()}close(e){this.hide(),this.visibleChange.emit(!1),e.preventDefault()}enableModality(){let e=this.document.querySelectorAll(".p-drawer-open"),i=e.length,n=i==1?String(parseInt(this.container.style.zIndex)-1):String(parseInt(e[i-1].style.zIndex)-1);this.mask||(this.mask=this.renderer.createElement("div"),Yr(this.mask,"style",this.getMaskStyle()),Yr(this.mask,"style",`z-index: ${n}`),Bn(this.mask,this.cx("mask")),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",a=>{this.dismissible&&this.close(a)})),this.renderer.appendChild(this.document.body,this.mask),this.blockScroll&&Jd())}getMaskStyle(){return this.maskStyle?Object.entries(this.maskStyle).map(([e,i])=>`${e}: ${i}`).join("; "):""}disableModality(){this.mask&&(Sa(this.mask,"p-overlay-mask-enter"),Bn(this.mask,"p-overlay-mask-leave"),this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyModal.bind(this)))}destroyModal(){this.unbindMaskClickListener(),this.mask&&this.renderer.removeChild(this.document.body,this.mask),this.blockScroll&&tc(),this.unbindAnimationEndListener(),this.mask=null}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener();break}}onAnimationEnd(e){switch(e.toState){case"void":this.hide(!1),Zi.clear(this.container),this.unbindGlobalListeners();break}}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):Yd(this.appendTo,this.container))}bindDocumentEscapeListener(){let e=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentEscapeListener=this.renderer.listen(e,"keydown",i=>{i.which==27&&parseInt(this.container.style.zIndex)===Zi.get(this.container)&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindGlobalListeners(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}ngOnDestroy(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.renderer.appendChild(this.el.nativeElement,this.container),this.container&&this.autoZIndex&&Zi.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-drawer"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,UK,4),ve(a,$K,4),ve(a,KK,4),ve(a,WK,4),ve(a,QK,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.headerTemplate=p.first),le(p=ce())&&(n.footerTemplate=p.first),le(p=ce())&&(n.contentTemplate=p.first),le(p=ce())&&(n.closeIconTemplate=p.first),le(p=ce())&&(n.headlessTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&(dt(ZK,5),dt(XK,5)),i&2){let a;le(a=ce())&&(n.containerViewChild=a.first),le(a=ce())&&(n.closeButtonViewChild=a.first)}},inputs:{appendTo:"appendTo",blockScroll:[2,"blockScroll","blockScroll",we],style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:[2,"autoZIndex","autoZIndex",we],baseZIndex:[2,"baseZIndex","baseZIndex",Tt],modal:[2,"modal","modal",we],closeButtonProps:"closeButtonProps",dismissible:[2,"dismissible","dismissible",we],showCloseIcon:[2,"showCloseIcon","showCloseIcon",we],closeOnEscape:[2,"closeOnEscape","closeOnEscape",we],transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen",header:"header",maskStyle:"maskStyle",closable:[2,"closable","closable",we]},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},features:[bt([_4]),gt],ngContentSelectors:YK,decls:1,vars:1,consts:[["container",""],["icon",""],["role","complementary",3,"class","style","keydown",4,"ngIf"],["role","complementary",3,"keydown"],[4,"ngTemplateOutlet"],[3,"ngClass"],[3,"class",4,"ngIf"],[3,"ngClass","buttonProps","ariaLabel","onClick","keydown.enter",4,"ngIf"],[4,"ngIf"],[3,"onClick","keydown.enter","ngClass","buttonProps","ariaLabel"],["data-p-icon","times",4,"ngIf"],["data-p-icon","times"]],template:function(i,n){i&1&&($i(),B(0,mW,4,13,"div",2)),i&2&&T("ngIf",n.visible)},dependencies:[mt,Ca,$t,ei,qi,Mr,Xe],encapsulation:2,data:{animation:[ra("panelState",[Ni("void => visible",[N1(_W)]),Ni("visible => void",[N1(bW)])])]},changeDetection:0})}return t})(),b4=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[Oy,Xe,Xe]})}return t})();var y4=`
    .p-confirmpopup {
        position: absolute;
        margin-top: dt('confirmpopup.gutter');
        top: 0;
        left: 0;
        background: dt('confirmpopup.background');
        color: dt('confirmpopup.color');
        border: 1px solid dt('confirmpopup.border.color');
        border-radius: dt('confirmpopup.border.radius');
        box-shadow: dt('confirmpopup.shadow');
    }

    .p-confirmpopup-content {
        display: flex;
        align-items: center;
        padding: dt('confirmpopup.content.padding');
        gap: dt('confirmpopup.content.gap');
    }

    .p-confirmpopup-icon {
        font-size: dt('confirmpopup.icon.size');
        width: dt('confirmpopup.icon.size');
        height: dt('confirmpopup.icon.size');
        color: dt('confirmpopup.icon.color');
    }

    .p-confirmpopup-footer {
        display: flex;
        justify-content: flex-end;
        gap: dt('confirmpopup.footer.gap');
        padding: dt('confirmpopup.footer.padding');
    }

    .p-confirmpopup-footer button {
        width: auto;
    }

    .p-confirmpopup-footer button:last-child {
        margin: 0;
    }

    .p-confirmpopup-flipped {
        margin-block-start: calc(dt('confirmpopup.gutter') * -1);
        margin-block-end: dt('confirmpopup.gutter');
    }

    .p-confirmpopup-enter-from {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-confirmpopup-leave-to {
        opacity: 0;
    }

    .p-confirmpopup-enter-active {
        transition:
            transform 0.12s cubic-bezier(0, 0, 0.2, 1),
            opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-confirmpopup-leave-active {
        transition: opacity 0.1s linear;
    }

    .p-confirmpopup:after,
    .p-confirmpopup:before {
        bottom: 100%;
        left: calc(dt('confirmpopup.arrow.offset') + dt('confirmpopup.arrow.left'));
        content: ' ';
        height: 0;
        width: 0;
        position: absolute;
        pointer-events: none;
    }

    .p-confirmpopup:after {
        border-width: calc(dt('confirmpopup.gutter') - 2px);
        margin-left: calc(-1 * (dt('confirmpopup.gutter') - 2px));
        border-style: solid;
        border-color: transparent;
        border-bottom-color: dt('confirmpopup.background');
    }

    .p-confirmpopup:before {
        border-width: dt('confirmpopup.gutter');
        margin-left: calc(-1 * dt('confirmpopup.gutter'));
        border-style: solid;
        border-color: transparent;
        border-bottom-color: dt('confirmpopup.border.color');
    }

    .p-confirmpopup-flipped:after,
    .p-confirmpopup-flipped:before {
        bottom: auto;
        top: 100%;
    }

    .p-confirmpopup-flipped:after {
        border-bottom-color: transparent;
        border-top-color: dt('confirmpopup.background');
    }

    .p-confirmpopup-flipped:before {
        border-bottom-color: transparent;
        border-top-color: dt('confirmpopup.border.color');
    }
`;var vW=["content"],xW=["accepticon"],wW=["rejecticon"],IW=["headless"],TW=(t,s)=>({showTransitionParams:t,hideTransitionParams:s}),CW=t=>({value:"open",params:t}),x4=t=>({$implicit:t});function SW(t,s){t&1&&nt(0)}function MW(t,s){if(t&1&&(We(0),B(1,SW,1,0,"ng-container",9),Qe()),t&2){let e=M(2);S(),T("ngTemplateOutlet",e.headlessTemplate||e._headlessTemplate)("ngTemplateOutletContext",rt(2,x4,e.confirmation))}}function kW(t,s){t&1&&nt(0)}function EW(t,s){if(t&1&&(We(0),B(1,kW,1,0,"ng-container",9),Qe()),t&2){let e=M(3);S(),T("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",rt(2,x4,e.confirmation))}}function PW(t,s){if(t&1&&oe(0,"i"),t&2){let e=M(4);K(e.cx("icon"))}}function DW(t,s){if(t&1&&(B(0,PW,1,2,"i",12),L(1,"span"),ne(2),D()),t&2){let e=M(3);T("ngIf",e.confirmation==null?null:e.confirmation.icon),S(),K(e.cx("message")),S(),Dt(e.confirmation==null?null:e.confirmation.message)}}function LW(t,s){if(t&1&&oe(0,"i"),t&2){let e=M(5);K(e.confirmation==null?null:e.confirmation.rejectIcon)}}function AW(t,s){}function FW(t,s){t&1&&B(0,AW,0,0,"ng-template",null,4,Be)}function OW(t,s){if(t&1&&B(0,LW,1,2,"i",14)(1,FW,2,0,null,15),t&2){let e=M(4);T("ngIf",e.confirmation==null?null:e.confirmation.rejectIcon)("ngIfElse",e.rejecticon),S(),T("ngTemplateOutlet",e.rejectIconTemplate||e._rejectIconTemplate)}}function VW(t,s){if(t&1){let e=Re();L(0,"p-button",13),Ie("onClick",function(){Z(e);let n=M(3);return X(n.onReject())}),B(1,OW,2,3,"ng-template",null,3,Be),D()}if(t&2){let e=M(3);K(e.cx("pcRejectButton")),T("label",e.rejectButtonLabel)("styleClass",e.confirmation==null?null:e.confirmation.rejectButtonStyleClass)("size",(e.confirmation.rejectButtonProps==null?null:e.confirmation.rejectButtonProps.size)||"small")("text",(e.confirmation.rejectButtonProps==null?null:e.confirmation.rejectButtonProps.text)||!1)("buttonProps",e.getRejectButtonProps())("autofocus",e.autoFocusReject),ue("aria-label",e.rejectButtonLabel)}}function zW(t,s){if(t&1&&oe(0,"i"),t&2){let e=M(5);K(e.confirmation==null?null:e.confirmation.acceptIcon)}}function BW(t,s){}function RW(t,s){t&1&&B(0,BW,0,0,"ng-template",null,5,Be)}function NW(t,s){if(t&1&&B(0,zW,1,2,"i",14)(1,RW,2,0,null,15),t&2){let e=M(4);T("ngIf",e.confirmation==null?null:e.confirmation.acceptIcon)("ngIfElse",e.accepticontemplate),S(),T("ngTemplateOutlet",e.acceptIconTemplate||e._acceptIconTemplate)}}function qW(t,s){if(t&1){let e=Re();L(0,"p-button",16),Ie("onClick",function(){Z(e);let n=M(3);return X(n.onAccept())}),B(1,NW,2,3,"ng-template",null,3,Be),D()}if(t&2){let e=M(3);K(e.cx("pcAcceptButton")),T("label",e.acceptButtonLabel)("styleClass",e.confirmation==null?null:e.confirmation.acceptButtonStyleClass)("size",(e.confirmation.acceptButtonProps==null?null:e.confirmation.acceptButtonProps.size)||"small")("buttonProps",e.getAcceptButtonProps())("autofocus",e.autoFocusAccept),ue("aria-label",e.acceptButtonLabel)}}function jW(t,s){if(t&1&&(L(0,"div",null,1),B(2,EW,2,4,"ng-container",8)(3,DW,3,4,"ng-template",null,2,Be),D(),L(5,"div"),B(6,VW,3,9,"p-button",10)(7,qW,3,8,"p-button",11),D()),t&2){let e=Ut(4),i=M(2);K(i.cx("content")),S(2),T("ngIf",i.contentTemplate||i._contentTemplate)("ngIfElse",e),S(3),K(i.cx("footer")),S(),T("ngIf",(i.confirmation==null?null:i.confirmation.rejectVisible)!==!1),S(),T("ngIf",(i.confirmation==null?null:i.confirmation.acceptVisible)!==!1)}}function HW(t,s){if(t&1){let e=Re();L(0,"div",7),Ie("click",function(n){Z(e);let a=M();return X(a.onOverlayClick(n))})("@animation.start",function(n){Z(e);let a=M();return X(a.onAnimationStart(n))})("@animation.done",function(n){Z(e);let a=M();return X(a.onAnimationEnd(n))}),B(1,MW,2,4,"ng-container",8)(2,jW,8,8,"ng-template",null,0,Be),D()}if(t&2){let e=Ut(3),i=M();K(i.cn(i.cx("root"),i.styleClass)),T("ngStyle",i.style)("@animation",rt(9,CW,li(6,TW,i.showTransitionOptions,i.hideTransitionOptions))),S(),T("ngIf",i.headlessTemplate||i._headlessTemplate)("ngIfElse",e)}}var GW={root:()=>["p-confirmpopup p-component"],content:"p-confirmpopup-content",icon:({instance:t})=>["p-confirmpopup-icon",t.confirmation?.icon],message:"p-confirmpopup-message",footer:"p-confirmpopup-footer",pcRejectButton:"p-confirmpopup-reject-button",pcAcceptButton:"p-confirmpopup-accept-button"},v4=(()=>{class t extends Vt{name="confirmpopup";theme=y4;classes=GW;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var Vy=(()=>{class t extends Ot{el;confirmationService;renderer;cd;overlayService;document;key;defaultFocus="accept";showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autoZIndex=!0;baseZIndex=0;style;styleClass;get visible(){return this._visible}set visible(e){this._visible=e,this.cd.markForCheck()}container;subscription;confirmation;autoFocusAccept=!1;autoFocusReject=!1;contentTemplate;acceptIconTemplate;rejectIconTemplate;headlessTemplate;_contentTemplate;_acceptIconTemplate;_rejectIconTemplate;_headlessTemplate;_visible;documentClickListener;documentResizeListener;scrollHandler;window;_componentStyle=lt(v4);constructor(e,i,n,a,p,y){super(),this.el=e,this.confirmationService=i,this.renderer=n,this.cd=a,this.overlayService=p,this.document=y,this.window=this.document.defaultView,this.subscription=this.confirmationService.requireConfirmation$.subscribe(C=>{if(!C){this.hide();return}C.key===this.key&&(this.confirmation=C,Object.keys(C).forEach(R=>{this[R]=C[R]}),this.confirmation.accept&&(this.confirmation.acceptEvent=new Fe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new Fe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0)})}templates;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;case"rejecticon":this._rejectIconTemplate=e.template;break;case"accepticon":this._acceptIconTemplate=e.template;break;case"headless":this._headlessTemplate=e.template;break}})}option(e,i){let n=this;if(n.hasOwnProperty(e))return i?n[i]:n[e]}onEscapeKeydown(e){this.confirmation&&this.confirmation.closeOnEscape&&this.onReject()}onAnimationStart(e){e.toState==="open"&&(this.container=e.element,this.renderer.appendChild(this.document.body,this.container),this.align(),this.bindListeners(),this.autoFocusAccept=this.defaultFocus===void 0||this.defaultFocus==="accept",this.autoFocusReject=this.defaultFocus==="reject")}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy();break}}getAcceptButtonProps(){return this.option("acceptButtonProps")}getRejectButtonProps(){return this.option("rejectButtonProps")}align(){if(this.autoZIndex&&Zi.set("overlay",this.container,this.config.zIndex.overlay),!this.confirmation)return;Xd(this.container,this.confirmation?.target,!1);let e=Sr(this.container),i=Sr(this.confirmation?.target),n=0;e.left<i.left&&(n=i.left-e.left),this.container.style.setProperty("--p-confirmpopup-arrow-left",`${n}px`),e.top<i.top&&Bn(this.container,"p-confirm-popup-flipped")}hide(){this.visible=!1}onAccept(){this.confirmation?.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(),Wt(this.confirmation?.target)}onReject(){this.confirmation?.rejectEvent&&this.confirmation.rejectEvent.emit(),this.hide(),Wt(this.confirmation?.target)}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}bindListeners(){setTimeout(()=>{this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener()})}unbindListeners(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}bindDocumentClickListener(){if(!this.documentClickListener){let e=ff()?"touchstart":"click",i=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(i,e,n=>{if(this.confirmation&&this.confirmation.dismissableMask!==!1){let a=this.confirmation.target;this.container!==n.target&&!this.container?.contains(n.target)&&a!==n.target&&!a.contains(n.target)&&this.hide()}})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}onWindowResize(){this.visible&&!Vr()&&this.hide()}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new ep(this.confirmation?.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unsubscribeConfirmationSubscriptions(){this.confirmation&&(this.confirmation.acceptEvent&&this.confirmation.acceptEvent.unsubscribe(),this.confirmation.rejectEvent&&this.confirmation.rejectEvent.unsubscribe())}onContainerDestroy(){this.unbindListeners(),this.unsubscribeConfirmationSubscriptions(),this.autoZIndex&&Zi.clear(this.container),this.confirmation=null,this.container=null}restoreAppend(){this.container&&this.renderer.removeChild(this.document.body,this.container),this.onContainerDestroy()}get acceptButtonLabel(){return this.confirmation?.acceptLabel||this.config.getTranslation(_o.ACCEPT)}get rejectButtonLabel(){return this.confirmation?.rejectLabel||this.config.getTranslation(_o.REJECT)}ngOnDestroy(){this.restoreAppend(),this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)(At(Ja),At(Jl),At(Su),At(xs),At(Br),At(Zh))};static \u0275cmp=Je({type:t,selectors:[["p-confirmpopup"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,vW,4),ve(a,xW,4),ve(a,wW,4),ve(a,IW,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.contentTemplate=p.first),le(p=ce())&&(n.acceptIconTemplate=p.first),le(p=ce())&&(n.rejectIconTemplate=p.first),le(p=ce())&&(n.headlessTemplate=p.first),le(p=ce())&&(n.templates=p)}},hostBindings:function(i,n){i&1&&Ie("keydown.escape",function(p){return n.onEscapeKeydown(p)},Zd)},inputs:{key:"key",defaultFocus:"defaultFocus",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autoZIndex:[2,"autoZIndex","autoZIndex",we],baseZIndex:[2,"baseZIndex","baseZIndex",Tt],style:"style",styleClass:"styleClass",visible:"visible"},features:[bt([v4]),gt],decls:1,vars:1,consts:[["notHeadless",""],["content",""],["withoutContentTemplate",""],["icon",""],["rejecticon",""],["accepticontemplate",""],["pFocusTrap","","role","alertdialog",3,"class","ngStyle","click",4,"ngIf"],["pFocusTrap","","role","alertdialog",3,"click","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"label","class","styleClass","size","text","buttonProps","autofocus","onClick",4,"ngIf"],["type","button",3,"label","class","styleClass","size","buttonProps","autofocus","onClick",4,"ngIf"],[3,"class",4,"ngIf"],["type","button",3,"onClick","label","styleClass","size","text","buttonProps","autofocus"],[3,"class",4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["type","button",3,"onClick","label","styleClass","size","buttonProps","autofocus"]],template:function(i,n){i&1&&B(0,HW,4,11,"div",6),i&2&&T("ngIf",n.visible)},dependencies:[mt,$t,ei,bi,Xe,Fi,qi,lp],encapsulation:2,data:{animation:[ra("animation",[to("void",Ri({transform:"scaleY(0.8)",opacity:0})),to("open",Ri({transform:"translateY(0)",opacity:1})),Ni("void => open",Ki("{{showTransitionParams}}")),Ni("open => void",Ki("{{hideTransitionParams}}"))])]},changeDetection:0})}return t})(),w4=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[Vy,Xe,Xe]})}return t})();var $W=()=>({width:"30vw"}),KW=()=>({"960px":"75vw"}),I4=()=>({width:"auto"}),WW=()=>({width:"450px"}),i_=()=>({marginRight:"0.25em"}),QW=()=>({width:"350px"});function ZW(t,s){if(t&1){let e=Re();L(0,"p-button",34),Ie("click",function(){Z(e);let n=M();return X(n.close())}),D()}}function XW(t,s){t&1&&(L(0,"tr")(1,"th"),ne(2,"Name"),D(),L(3,"th"),ne(4,"Image"),D(),L(5,"th"),ne(6,"Price"),D()())}function YW(t,s){if(t&1&&(L(0,"tr",35)(1,"td"),ne(2),D(),L(3,"td"),oe(4,"img",36),D(),L(5,"td"),ne(6),D()()),t&2){let e=s.$implicit;T("pSelectableRow",e),S(2),Dt(e.name),S(2),T("src","https://primefaces.org/cdn/primeng/images/demo/product/"+e.image,an)("alt",e.name),S(2),Dt(e.price)}}function JW(t,s){if(t&1){let e=Re();L(0,"p-button",37),Ie("click",function(){Z(e);let n=M();return X(n.closeConfirmation())}),D(),L(1,"p-button",38),Ie("click",function(){Z(e);let n=M();return X(n.closeConfirmation())}),D()}}var n_=class t{constructor(s,e,i){this.productService=s;this.confirmationService=e;this.messageService=i}images=[];display=!1;products=[];visibleLeft=!1;visibleRight=!1;visibleTop=!1;visibleBottom=!1;visibleFull=!1;displayConfirmation=!1;selectedProduct;ngOnInit(){this.productService.getProductsSmall().then(s=>this.products=s),this.images=[],this.images.push({source:"assets/demo/images/sopranos/sopranos1.jpg",thumbnail:"assets/demo/images/sopranos/sopranos1_small.jpg",title:"Sopranos 1"}),this.images.push({source:"assets/demo/images/sopranos/sopranos2.jpg",thumbnail:"assets/demo/images/sopranos/sopranos2_small.jpg",title:"Sopranos 2"}),this.images.push({source:"assets/demo/images/sopranos/sopranos3.jpg",thumbnail:"assets/demo/images/sopranos/sopranos3_small.jpg",title:"Sopranos 3"}),this.images.push({source:"assets/demo/images/sopranos/sopranos4.jpg",thumbnail:"assets/demo/images/sopranos/sopranos4_small.jpg",title:"Sopranos 4"})}confirm(s){this.confirmationService.confirm({key:"confirm2",target:s.target||new EventTarget,message:"Are you sure that you want to proceed?",icon:"pi pi-exclamation-triangle",accept:()=>{this.messageService.add({severity:"info",summary:"Confirmed",detail:"You have accepted"})},reject:()=>{this.messageService.add({severity:"error",summary:"Rejected",detail:"You have rejected"})}})}open(){this.display=!0}close(){this.display=!1}toggleDataTable(s,e){s.toggle(e)}onProductSelect(s,e){s.hide(),this.messageService.add({severity:"info",summary:"Product Selected",detail:e?.data.name,life:3e3})}openConfirmation(){this.displayConfirmation=!0}closeConfirmation(){this.displayConfirmation=!1}static \u0275fac=function(e){return new(e||t)(At(Do),At(Jl),At(er))};static \u0275cmp=Je({type:t,selectors:[["app-overlay-demo"]],features:[bt([Jl,er,Do])],decls:71,vars:42,consts:[["footer",""],["op2",""],["header",""],["body",""],["popup",""],[1,"flex","flex-col","md:flex-row","gap-8"],[1,"md:w-1/2"],[1,"card"],[1,"font-semibold","text-xl","mb-4"],["header","Dialog","maskStyleClass","backdrop-blur-sm","styleClass","!border-0",3,"visibleChange","visible","breakpoints","modal"],[1,"leading-normal","m-0"],["label","Show",3,"click"],[1,"flex","flex-wrap","gap-2"],["type","button","label","Show",3,"click"],["id","overlay_panel"],["selectionMode","single","dataKey","id",3,"selectionChange","onRowSelect","value","selection","rows","paginator"],[1,"inline-flex","gap-4"],["pInputText","","type","text","placeholder","Username","pTooltip","Your username"],["type","button","label","Save","pTooltip","Click to proceed"],["header","Drawer",3,"visibleChange","visible"],["header","Drawer","position","right",3,"visibleChange","visible"],["header","Drawer","position","top",3,"visibleChange","visible"],["header","Drawer","position","bottom",3,"visibleChange","visible"],["header","Drawer","position","full",3,"visibleChange","visible"],["icon","pi pi-arrow-right",3,"click"],["icon","pi pi-arrow-left",3,"click"],["icon","pi pi-arrow-down",3,"click"],["icon","pi pi-arrow-up",3,"click"],["icon","pi pi-external-link",3,"click"],["icon","pi pi-check","label","Confirm",1,"mr-2",3,"click"],["label","Delete","icon","pi pi-trash","severity","danger",3,"click"],["header","Confirmation","maskStyleClass","backdrop-blur-sm","styleClass","!border-0",3,"visibleChange","visible","modal"],[1,"flex","items-center","justify-center"],[1,"pi","pi-exclamation-triangle","mr-4",2,"font-size","2rem"],["label","Save",3,"click"],[3,"pSelectableRow"],[1,"w-16","shadow-sm",3,"src","alt"],["label","No","icon","pi pi-times","text","","severity","secondary",3,"click"],["label","Yes","icon","pi pi-check","severity","danger","outlined","","autofocus","",3,"click"]],template:function(e,i){if(e&1){let n=Re();L(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8),ne(4,"Dialog"),D(),L(5,"p-dialog",9),si("visibleChange",function(p){return Z(n),ri(i.display,p)||(i.display=p),X(p)}),L(6,"p",10),ne(7," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),D(),B(8,ZW,1,0,"ng-template",null,0,Be),D(),L(10,"p-button",11),Ie("click",function(){return Z(n),X(i.open())}),D()(),L(11,"div",7)(12,"div",8),ne(13,"Popover"),D(),L(14,"div",12)(15,"p-button",13),Ie("click",function(p){Z(n);let y=Ut(17);return X(i.toggleDataTable(y,p))}),D(),L(16,"p-popover",14,1)(18,"p-table",15),si("selectionChange",function(p){return Z(n),ri(i.selectedProduct,p)||(i.selectedProduct=p),X(p)}),Ie("onRowSelect",function(p){Z(n);let y=Ut(17);return X(i.onProductSelect(y,p))}),B(19,XW,7,0,"ng-template",null,2,Be)(21,YW,7,5,"ng-template",null,3,Be),D()(),oe(23,"p-toast"),D()(),L(24,"div",7)(25,"div",8),ne(26,"Tooltip"),D(),L(27,"div",16),oe(28,"input",17)(29,"p-button",18),D()()(),L(30,"div",6)(31,"div",7)(32,"div",8),ne(33,"Drawer"),D(),L(34,"p-drawer",19),si("visibleChange",function(p){return Z(n),ri(i.visibleLeft,p)||(i.visibleLeft=p),X(p)}),L(35,"p"),ne(36," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),D()(),L(37,"p-drawer",20),si("visibleChange",function(p){return Z(n),ri(i.visibleRight,p)||(i.visibleRight=p),X(p)}),L(38,"p"),ne(39," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),D()(),L(40,"p-drawer",21),si("visibleChange",function(p){return Z(n),ri(i.visibleTop,p)||(i.visibleTop=p),X(p)}),L(41,"p"),ne(42," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),D()(),L(43,"p-drawer",22),si("visibleChange",function(p){return Z(n),ri(i.visibleBottom,p)||(i.visibleBottom=p),X(p)}),L(44,"p"),ne(45," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),D()(),L(46,"p-drawer",23),si("visibleChange",function(p){return Z(n),ri(i.visibleFull,p)||(i.visibleFull=p),X(p)}),L(47,"p"),ne(48," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),D()(),L(49,"p-button",24),Ie("click",function(){return Z(n),X(i.visibleLeft=!0)}),D(),L(50,"p-button",25),Ie("click",function(){return Z(n),X(i.visibleRight=!0)}),D(),L(51,"p-button",26),Ie("click",function(){return Z(n),X(i.visibleTop=!0)}),D(),L(52,"p-button",27),Ie("click",function(){return Z(n),X(i.visibleBottom=!0)}),D(),L(53,"p-button",28),Ie("click",function(){return Z(n),X(i.visibleFull=!0)}),D()(),L(54,"div",7)(55,"div",8),ne(56,"ConfirmPopup"),D(),oe(57,"p-confirmpopup"),L(58,"p-button",29,4),Ie("click",function(p){return Z(n),X(i.confirm(p))}),D()(),L(60,"div",7)(61,"div",8),ne(62,"ConfirmDialog"),D(),L(63,"p-button",30),Ie("click",function(){return Z(n),X(i.openConfirmation())}),D(),L(64,"p-dialog",31),si("visibleChange",function(p){return Z(n),ri(i.displayConfirmation,p)||(i.displayConfirmation=p),X(p)}),L(65,"div",32),oe(66,"i",33),L(67,"span"),ne(68,"Are you sure you want to proceed?"),D()(),B(69,JW,2,0,"ng-template",null,0,Be),D()()()()}e&2&&(S(5),Ft(Kt(32,$W)),oi("visible",i.display),T("breakpoints",Kt(33,KW))("modal",!0),S(5),Ft(Kt(34,I4)),S(6),Ft(Kt(35,WW)),S(2),T("value",i.products),oi("selection",i.selectedProduct),T("rows",5)("paginator",!0),S(16),oi("visible",i.visibleLeft),S(3),oi("visible",i.visibleRight),S(3),oi("visible",i.visibleTop),S(3),oi("visible",i.visibleBottom),S(3),oi("visible",i.visibleFull),S(3),Ft(Kt(36,i_)),S(),Ft(Kt(37,i_)),S(),Ft(Kt(38,i_)),S(),Ft(Kt(39,i_)),S(11),Ft(Kt(40,I4)),S(),Ft(Kt(41,QW)),oi("visible",i.displayConfirmation),T("modal",!0))},dependencies:[ac,sp,ew,Jx,Fi,qi,b4,Oy,Nx,Rx,w4,Vy,Po,sa,ln,ya,Ga,Ef,kf,gw],encapsulation:2})};var eQ=["colgroup"],tQ=["caption"],iQ=["header"],nQ=["body"],aQ=["footer"],oQ=["summary"],rQ=["emptymessage"],sQ=["paginatorleft"],lQ=["paginatorright"],cQ=["paginatordropdownitem"],uQ=["frozenheader"],dQ=["frozenbody"],pQ=["frozenfooter"],hQ=["frozencolgroup"],mQ=["loadingicon"],fQ=["reorderindicatorupicon"],gQ=["reorderindicatordownicon"],_Q=["sorticon"],bQ=["checkboxicon"],yQ=["headercheckboxicon"],vQ=["togglericon"],xQ=["paginatorfirstpagelinkicon"],wQ=["paginatorlastpagelinkicon"],IQ=["paginatorpreviouspagelinkicon"],TQ=["paginatornextpagelinkicon"],CQ=["loader"],SQ=["resizeHelper"],MQ=["reorderIndicatorUp"],kQ=["reorderIndicatorDown"],EQ=["table"],PQ=["scrollableView"],DQ=["scrollableFrozenView"],fl=t=>({$implicit:t}),LQ=(t,s)=>({left:t,width:s}),AQ=(t,s)=>[t,s],FQ=t=>({width:t});function OQ(t,s){if(t&1&&oe(0,"i"),t&2){let e=M(2);K(e.cn(e.cx("loadingIcon"),"pi-spin"+e.loadingIcon))}}function VQ(t,s){if(t&1&&(it(),oe(0,"svg",11)),t&2){let e=M(3);K(e.cx("loadingIcon")),T("spin",!0)}}function zQ(t,s){}function BQ(t,s){t&1&&B(0,zQ,0,0,"ng-template")}function RQ(t,s){if(t&1&&(L(0,"span"),B(1,BQ,1,0,null,12),D()),t&2){let e=M(3);K(e.cx("loadingIcon")),S(),T("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)}}function NQ(t,s){if(t&1&&(We(0),B(1,VQ,1,3,"svg",10)(2,RQ,2,3,"span",6),Qe()),t&2){let e=M(2);S(),T("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),S(),T("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function qQ(t,s){if(t&1&&(L(0,"div")(1,"div"),B(2,OQ,1,2,"i",6)(3,NQ,3,2,"ng-container",9),D()()),t&2){let e=M();K(e.cx("loading")),S(),K(e.cx("mask")),S(),T("ngIf",e.loadingIcon),S(),T("ngIf",!e.loadingIcon)}}function jQ(t,s){t&1&&nt(0)}function HQ(t,s){if(t&1&&(L(0,"div"),B(1,jQ,1,0,"ng-container",12),D()),t&2){let e=M();K(e.cx("header")),S(),T("ngTemplateOutlet",e.captionTemplate||e._captionTemplate)}}function GQ(t,s){t&1&&nt(0)}function UQ(t,s){if(t&1&&B(0,GQ,1,0,"ng-container",12),t&2){let e=M(3);T("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate)}}function $Q(t,s){t&1&&B(0,UQ,1,1,"ng-template",14)}function KQ(t,s){t&1&&nt(0)}function WQ(t,s){if(t&1&&B(0,KQ,1,0,"ng-container",12),t&2){let e=M(3);T("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate)}}function QQ(t,s){t&1&&B(0,WQ,1,1,"ng-template",15)}function ZQ(t,s){t&1&&nt(0)}function XQ(t,s){if(t&1&&B(0,ZQ,1,0,"ng-container",12),t&2){let e=M(3);T("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate)}}function YQ(t,s){t&1&&B(0,XQ,1,1,"ng-template",16)}function JQ(t,s){t&1&&nt(0)}function eZ(t,s){if(t&1&&B(0,JQ,1,0,"ng-container",12),t&2){let e=M(3);T("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function tZ(t,s){t&1&&B(0,eZ,1,1,"ng-template",17)}function iZ(t,s){if(t&1){let e=Re();L(0,"p-paginator",13),Ie("onPageChange",function(n){Z(e);let a=M();return X(a.onPageChange(n))}),B(1,$Q,1,0,null,9)(2,QQ,1,0,null,9)(3,YQ,1,0,null,9)(4,tZ,1,0,null,9),D()}if(t&2){let e=M();T("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("styleClass",e.cx("pcPaginator"))("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate??e._paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate??e._paginatorRightTemplate)("appendTo",e.paginatorDropdownAppendTo)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate??e._paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("locale",e.paginatorLocale),S(),T("ngIf",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate),S(),T("ngIf",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate),S(),T("ngIf",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate),S(),T("ngIf",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function nZ(t,s){t&1&&nt(0)}function aZ(t,s){t&1&&nt(0)}function oZ(t,s){t&1&&nt(0)}function rZ(t,s){if(t&1&&(L(0,"div")(1,"table",18,0),B(3,nZ,1,0,"ng-container",19),L(4,"thead",20),B(5,aZ,1,0,"ng-container",19),D(),oe(6,"tbody",21),L(7,"tfoot",20),B(8,oZ,1,0,"ng-container",19),D()()()),t&2){let e=M();K(e.cx("wrapper")),S(),T("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),S(2),T("ngTemplateOutlet",e.colGroupTemplate||e._colGroupTemplate)("ngTemplateOutletContext",rt(18,fl,e.columns)),S(),K(e.cx("thead")),S(),T("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)("ngTemplateOutletContext",rt(20,fl,e.columns)),S(),K(e.cx("tbody")),T("pTreeTableBody",e.columns)("pTreeTableBodyTemplate",e.bodyTemplate??e._bodyTemplate),S(),K(e.cx("tfoot")),S(),T("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)("ngTemplateOutletContext",rt(22,fl,e.columns))}}function sZ(t,s){if(t&1&&oe(0,"div",24,2),t&2){let e=M(2);T("ngClass",li(5,AQ,e.cx("scrollableView"),e.cx("frozenView")))("ttScrollableView",e.frozenColumns)("frozen",!0)("ngStyle",rt(8,FQ,e.frozenWidth))("scrollHeight",e.scrollHeight)}}function lZ(t,s){if(t&1&&(L(0,"div"),B(1,sZ,2,10,"div",22),oe(2,"div",23,1),D()),t&2){let e=M();K(e.cx("scrollableWrapper")),S(),T("ngIf",e.frozenColumns||e.frozenBodyTemplate||e._frozenBodyTemplate),S(),K(e.cx("scrollableView")),T("ttScrollableView",e.columns)("frozen",!1)("scrollHeight",e.scrollHeight)("ngStyle",li(9,LQ,e.frozenWidth,"calc(100% - "+e.frozenWidth+")"))}}function cZ(t,s){t&1&&nt(0)}function uZ(t,s){if(t&1&&B(0,cZ,1,0,"ng-container",12),t&2){let e=M(3);T("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate)}}function dZ(t,s){t&1&&B(0,uZ,1,1,"ng-template",14)}function pZ(t,s){t&1&&nt(0)}function hZ(t,s){if(t&1&&B(0,pZ,1,0,"ng-container",12),t&2){let e=M(3);T("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate)}}function mZ(t,s){t&1&&B(0,hZ,1,1,"ng-template",15)}function fZ(t,s){t&1&&nt(0)}function gZ(t,s){if(t&1&&B(0,fZ,1,0,"ng-container",12),t&2){let e=M(3);T("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate)}}function _Z(t,s){t&1&&B(0,gZ,1,1,"ng-template",16)}function bZ(t,s){t&1&&nt(0)}function yZ(t,s){if(t&1&&B(0,bZ,1,0,"ng-container",12),t&2){let e=M(3);T("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function vZ(t,s){t&1&&B(0,yZ,1,1,"ng-template",17)}function xZ(t,s){if(t&1){let e=Re();L(0,"p-paginator",13),Ie("onPageChange",function(n){Z(e);let a=M();return X(a.onPageChange(n))}),B(1,dZ,1,0,null,9)(2,mZ,1,0,null,9)(3,_Z,1,0,null,9)(4,vZ,1,0,null,9),D()}if(t&2){let e=M();T("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("styleClass",e.cx("pcPaginator"))("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate??e._paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate??e._paginatorRightTemplate)("appendTo",e.paginatorDropdownAppendTo)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate??e._paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("locale",e.paginatorLocale),S(),T("ngIf",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate),S(),T("ngIf",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate),S(),T("ngIf",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate),S(),T("ngIf",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function wZ(t,s){t&1&&nt(0)}function IZ(t,s){if(t&1&&(L(0,"div"),B(1,wZ,1,0,"ng-container",12),D()),t&2){let e=M();K(e.cx("footer")),S(),T("ngTemplateOutlet",e.summaryTemplate||e._summaryTemplate)}}function TZ(t,s){if(t&1&&oe(0,"div",null,3),t&2){let e=M();K(e.cx("columnResizerHelper")),Zn("display","none")}}function CZ(t,s){t&1&&(it(),oe(0,"svg",26))}function SZ(t,s){}function MZ(t,s){t&1&&B(0,SZ,0,0,"ng-template")}function kZ(t,s){if(t&1&&(L(0,"span",null,4),B(2,CZ,1,0,"svg",25)(3,MZ,1,0,null,12),D()),t&2){let e=M();K(e.cx("reorderIndicatorUp")),Zn("display","none"),S(2),T("ngIf",!e.reorderIndicatorUpIconTemplate&&!e._reorderIndicatorUpIconTemplate),S(),T("ngTemplateOutlet",e.reorderIndicatorUpIconTemplate||e._reorderIndicatorUpIconTemplate)}}function EZ(t,s){t&1&&(it(),oe(0,"svg",28))}function PZ(t,s){}function DZ(t,s){t&1&&B(0,PZ,0,0,"ng-template")}function LZ(t,s){if(t&1&&(L(0,"span",null,5),B(2,EZ,1,0,"svg",27)(3,DZ,1,0,null,12),D()),t&2){let e=M();K(e.cx("reorderIndicatorDown")),Zn("display","none"),S(2),T("ngIf",!e.reorderIndicatorDownIconTemplate&&!e._reorderIndicatorDownIconTemplate),S(),T("ngTemplateOutlet",e.reorderIndicatorDownIconTemplate||e._reorderIndicatorDownIconTemplate)}}var AZ=["pTreeTableBody",""],FZ=(t,s,e,i)=>({$implicit:t,node:s,rowData:e,columns:i}),OZ=(t,s)=>({$implicit:t,frozen:s});function VZ(t,s){t&1&&nt(0)}function zZ(t,s){if(t&1&&(We(0),B(1,VZ,1,0,"ng-container",2),Qe()),t&2){let e=M().$implicit,i=M();S(),T("ngTemplateOutlet",i.template)("ngTemplateOutletContext",Mu(2,FZ,e,e.node,e.node.data,i.columns))}}function BZ(t,s){if(t&1&&B(0,zZ,2,7,"ng-container",1),t&2){let e=s.$implicit;T("ngIf",e.visible)}}function RZ(t,s){t&1&&nt(0)}function NZ(t,s){if(t&1&&(We(0),B(1,RZ,1,0,"ng-container",2),Qe()),t&2){let e=M();S(),T("ngTemplateOutlet",e.tt.emptyMessageTemplate)("ngTemplateOutletContext",li(2,OZ,e.columns,e.frozen))}}var qZ=["scrollHeader"],jZ=["scrollHeaderBox"],HZ=["scrollBody"],GZ=["scrollTable"],UZ=["loadingTable"],$Z=["scrollFooter"],KZ=["scrollFooterBox"],WZ=["scrollableAligner"],QZ=["scroller"],ZZ=["ttScrollableView",""],XZ=t=>({height:t}),T4=(t,s)=>({$implicit:t,options:s}),YZ=t=>({options:t}),JZ=(t,s)=>({"max-height":t,"overflow-y":s}),eX=()=>({});function tX(t,s){t&1&&nt(0)}function iX(t,s){t&1&&nt(0)}function nX(t,s){t&1&&nt(0)}function aX(t,s){if(t&1&&B(0,nX,1,0,"ng-container",12),t&2){let e=s.$implicit,i=s.options;M(2);let n=Ut(11);T("ngTemplateOutlet",n)("ngTemplateOutletContext",li(2,T4,e,i))}}function oX(t,s){t&1&&nt(0)}function rX(t,s){if(t&1&&B(0,oX,1,0,"ng-container",12),t&2){let e=s.options,i=M(3);T("ngTemplateOutlet",i.tt.loaderTemplate||i.tt._loaderTemplate)("ngTemplateOutletContext",rt(2,YZ,e))}}function sX(t,s){t&1&&(We(0),B(1,rX,1,4,"ng-template",null,5,Be),Qe())}function lX(t,s){if(t&1){let e=Re();L(0,"p-scroller",17,3),Ie("onLazyLoad",function(n){Z(e);let a=M();return X(a.tt.onLazyItemLoad(n))}),B(2,aX,1,5,"ng-template",null,4,Be)(4,sX,3,0,"ng-container",15),D()}if(t&2){let e=M();Ft(rt(9,XZ,e.tt.scrollHeight!=="flex"?e.tt.scrollHeight:void 0)),T("items",e.tt.serializedValue)("styleClass",e.cx("scrollableBody"))("scrollHeight",e.scrollHeight!=="flex"?void 0:"100%")("itemSize",e.tt.virtualScrollItemSize||e.tt._virtualRowHeight)("lazy",e.tt.lazy)("options",e.tt.virtualScrollOptions),S(4),T("ngIf",e.tt.loaderTemplate||e.tt._loaderTemplate)}}function cX(t,s){t&1&&nt(0)}function uX(t,s){if(t&1&&(We(0),L(1,"div",11,6),B(3,cX,1,0,"ng-container",12),D(),Qe()),t&2){let e=M(),i=Ut(11);S(),K(e.cx("scrollableBody")),T("ngStyle",li(5,JZ,e.tt.scrollHeight!=="flex"?e.scrollHeight:void 0,!e.frozen&&e.tt.scrollHeight?"scroll":void 0)),S(2),T("ngTemplateOutlet",i)("ngTemplateOutletContext",li(9,T4,e.serializedValue,Kt(8,eX)))}}function dX(t,s){t&1&&nt(0)}function pX(t,s){t&1&&oe(0,"div",null,8),t&2&&Zn("background-color","transparent")}function hX(t,s){if(t&1&&(L(0,"table",18,7),B(2,dX,1,0,"ng-container",12),oe(3,"tbody",19),D(),B(4,pX,2,2,"div",20)),t&2){let e=s.$implicit,i=s.options,n=M();Ft(i.contentStyle),K(n.tt.tableStyleClass),T("ngClass",i.contentStyleClass)("ngStyle",n.tt.tableStyle),S(2),T("ngTemplateOutlet",n.frozen?n.tt.frozenColGroupTemplate||n.tt._frozenColGroupTemplate||n.tt.colGroupTemplate||n.tt._colGroupTemplate:n.tt.colGroupTemplate||n.tt._colGroupTemplate)("ngTemplateOutletContext",rt(15,fl,n.columns)),S(),K(n.cx("tbody")),T("pTreeTableBody",n.columns)("pTreeTableBodyTemplate",n.frozen?n.tt.frozenBodyTemplate||n.tt._frozenBodyTemplate||n.tt.bodyTemplate||n.tt._bodyTemplate:n.tt.bodyTemplate||n.tt._bodyTemplate)("serializedNodes",e)("frozen",n.frozen),S(),T("ngIf",n.frozen)}}function mX(t,s){t&1&&nt(0)}function fX(t,s){t&1&&nt(0)}function gX(t,s){if(t&1&&(L(0,"div",null,9)(2,"div",null,10)(4,"table",21),B(5,mX,1,0,"ng-container",12),L(6,"tfoot",13),B(7,fX,1,0,"ng-container",12),D()()()()),t&2){let e=M();K(e.cx("scrollableFooter")),S(2),K(e.cx("scrollableFooterBox")),S(2),K(e.cx("scrollableFooterTable")),T("ngClass",e.tt.tableStyleClass)("ngStyle",e.tt.tableStyle),S(),T("ngTemplateOutlet",e.frozen?e.tt.frozenColGroupTemplate||e.tt._frozenColGroupTemplate||e.tt.colGroupTemplate||e.tt._colGroupTemplate:e.tt.colGroupTemplate||e.tt._colGroupTemplate)("ngTemplateOutletContext",rt(14,fl,e.columns)),S(),K(e.cx("tfoot")),S(),T("ngTemplateOutlet",e.frozen?e.tt.frozenFooterTemplate||e.tt._frozenFooterTemplate||e.tt.footerTemplate||e.tt._footerTemplate:e.tt.footerTemplate||e.tt._footerTemplate)("ngTemplateOutletContext",rt(16,fl,e.columns))}}var _X=(t,s)=>({$implicit:t,partialSelected:s});function bX(t,s){}function yX(t,s){t&1&&B(0,bX,0,0,"ng-template")}function vX(t,s){if(t&1&&B(0,yX,1,0,null,3),t&2){let e=M(2);T("ngTemplateOutlet",e.tt.checkboxIconTemplate||e.tt._checkboxIconTemplate)("ngTemplateOutletContext",li(2,_X,e.checked,e.partialChecked))}}function xX(t,s){t&1&&(We(0),B(1,vX,1,5,"ng-template",2),Qe())}function wX(t,s){t&1&&(it(),oe(0,"svg",5)),t&2&&ue("aria-hidden",!0)}function IX(t,s){t&1&&(it(),oe(0,"svg",6)),t&2&&ue("aria-hidden",!0)}function TX(t,s){if(t&1&&(We(0),B(1,wX,1,1,"svg",3)(2,IX,1,1,"svg",4),Qe()),t&2){let e=M();S(),T("ngIf",e.rowNode.node.expanded),S(),T("ngIf",!e.rowNode.node.expanded)}}function CX(t,s){}function SX(t,s){t&1&&B(0,CX,0,0,"ng-template")}var MX=`
/* For PrimeNG */
.p-treetable {
    position: relative;
}

.p-treetable table {
    border-collapse: collapse;
    width: 100%;
    table-layout: fixed;
}

.p-treetable .p-sortable-column {
    cursor: pointer;
    user-select: none;
}

.p-treetable .p-sortable-column .p-column-title,
.p-treetable .p-sortable-column .p-sortable-column-icon,
.p-treetable .p-sortable-column .p-sortable-column-badge {
    vertical-align: middle;
}

.p-treetable-sort-icon {
    color: dt('treetable.sort.icon.color');
    font-size: dt('treetable.sort.icon.size');
    width: dt('treetable.sort.icon.size');
    height: dt('treetable.sort.icon.size');
    transition: color dt('treetable.transition.duration');
}

.p-treetable .p-sortable-column .p-sortable-column-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.p-treetable-auto-layout>.p-treetable-wrapper {
    overflow-x: auto;
}

.p-treetable-auto-layout>.p-treetable-wrapper>table {
    table-layout: auto;
}

.p-treetable-hoverable-rows .p-treetable-tbody>tr {
    cursor: pointer;
}

.p-treetable-toggler {
    cursor: pointer;
    user-select: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    vertical-align: middle;
    overflow: hidden;
    position: relative;
}


/* Scrollable */
.p-treetable-scrollable-wrapper {
    position: relative;
}

.p-treetable-scrollable-header,
.p-treetable-scrollable-footer {
    overflow: hidden;
    flex-shrink: 0;
}

.p-treetable-scrollable-body {
    overflow: auto;
    position: relative;
}

.p-treetable-virtual-table {
    position: absolute;
}

/* Frozen Columns */
.p-treetable-frozen-view .p-treetable-scrollable-body {
    overflow: hidden;
}

.p-treetable-frozen-view>.p-treetable-scrollable-body>table>.p-treetable-tbody>tr>td:last-child {
    border-right: 0 none;
}

.p-treetable-unfrozen-view {
    position: absolute;
    top: 0;
}

/* Flex Scrollable */
.p-treetable-flex-scrollable {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
}

.p-treetable-flex-scrollable .p-treetable-scrollable-wrapper,
.p-treetable-flex-scrollable .p-treetable-scrollable-view {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
}

.p-treetable-flex-scrollable .p-treetable-virtual-scrollable-body {
    flex: 1;
}

/* Resizable */
.p-treetable-resizable>.p-treetable-wrapper {
    overflow-x: auto;
}

.p-treetable-resizable .p-treetable-thead>tr>th,
.p-treetable-resizable .p-treetable-tfoot>tr>td,
.p-treetable-resizable .p-treetable-tbody>tr>td {
    overflow: hidden;
}

.p-treetable-resizable .p-resizable-column {
    background-clip: padding-box;
    position: relative;
}

.p-treetable-resizable-fit .p-resizable-column:last-child .p-column-resizer {
    display: none;
}

.p-treetable .p-column-resizer {
    display: block;
    position: absolute;
    top: 0;
    right: 0;
    margin: 0;
    width: dt('treetable.column.resizer.width');
    height: 100%;
    padding: 0px;
    cursor: col-resize;
    border: 1px solid transparent;
}

.p-treetable .p-column-resizer-helper {
    width: dt('treetable.resize.indicator.width');
    position: absolute;
    z-index: 10;
    display: none;
    background: dt('treetable.resize.indicator.color');
}

.p-treetable .p-row-editor-init,
.p-treetable .p-row-editor-save,
.p-treetable .p-row-editor-cancel {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}


/* Reorder */
.p-treetable-reorder-indicator-up,
.p-treetable-reorder-indicator-down {
    position: absolute;
    display: none;
}

[ttReorderableColumn] {
    cursor: move;
}

/* Loader */
.p-treetable-mask {
    position: absolute !important;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

.p-treetable-loading-icon {
    font-size: dt('treetable.loading.icon.size');
    width: dt('treetable.loading.icon.size');
    height: dt('treetable.loading.icon.size');
}

/* Virtual Scroll */
.p-treetable .p-scroller-loading {
    transform: none !important;
    min-height: 0;
    position: sticky;
    top: 0;
    left: 0;
}

.p-treetable .p-paginator-top {
    border-color: dt('treetable.paginator.top.border.color');
    border-style: solid;
    border-width: dt('treetable.paginator.top.border.width');
}

.p-treetable .p-paginator-bottom {
    border-color: dt('treetable.paginator.bottom.border.color');
    border-style: solid;
    border-width: dt('treetable.paginator.bottom.border.width');
}

.p-treetable .p-treetable-header {
    background: dt('treetable.header.background');
    color: dt('treetable.header.color');
    border-color: dt('treetable.header.border.color');
    border-style: solid;
    border-width: dt('treetable.header.border.width');
    padding: dt('treetable.header.padding');
    font-weight: dt('treetable.column.title.font.weight');
}

.p-treetable .p-treetable-footer {
    background: dt('treetable.footer.background');
    color: dt('treetable.footer.color');
    border-color: dt('treetable.footer.border.color');
    border-style: solid;
    border-width: dt('treetable.footer.border.width');
    padding: dt('treetable.footer.padding');
    font-weight: dt('treetable.column.footer.font.weight');
}

.p-treetable .p-treetable-thead>tr>th {
    padding: dt('treetable.header.cell.padding');
    background: dt('treetable.header.cell.background');
    border-color: dt('treetable.header.cell.border.color');
    border-style: solid;
    border-width: 0 0 1px 0;
    color: dt('treetable.header.cell.color');
    font-weight: dt('treetable.column.title.font.weight');
    text-align: start;
    transition: background dt('treetable.transition.duration'), color dt('treetable.transition.duration'), border-color dt('treetable.transition.duration'),
            outline-color dt('treetable.transition.duration'), box-shadow dt('treetable.transition.duration');
}

.p-treetable .p-treetable-tfoot>tr>td {
    text-align: start;
    padding: dt('treetable.footer.cell.padding');
    border-color: dt('treetable.footer.cell.border.color');
    border-style: solid;
    border-width: 0 0 1px 0;
    color: dt('treetable.footer.cell.color');
    background: dt('treetable.footer.cell.background');
    font-weight: dt('treetable.column.footer.font.weight');
}

.p-treetable .p-sortable-column {
    cursor: pointer;
    user-select: none;
    outline-color: transparent;
    vertical-align: middle;
}

.p-treetable .p-sortable-column .p-sortable-column-icon {
    color: dt('treetable.sort.icon.color');
    transition: color dt('treetable.transition.duration');
}


.p-treetable .p-sortable-column:not(.p-treetable-column-sorted):hover {
    background: dt('treetable.header.cell.hover.background');
    color: dt('treetable.header.cell.hover.color');
}

.p-treetable .p-sortable-column:not(.p-treetable-column-sorted):hover .p-sortable-column-icon {
    color: dt('treetable.sort.icon.hover.color');
}

.p-treetable .p-sortable-column.p-treetable-column-sorted {
    background: dt('treetable.header.cell.selected.background');
    color: dt('treetable.header.cell.selected.color');
}

.p-treetable .p-sortable-column.p-treetable-column-sorted .p-sortable-column-icon {
    color: dt('treetable.header.cell.selected.color');
}

.p-treetable .p-sortable-column:focus-visible {
    box-shadow: dt('treetable.header.cell.focus.ring.shadow');
    outline: dt('treetable.header.cell.focus.ring.width') dt('treetable.header.cell.focus.ring.style') dt('treetable.header.cell.focus.ring.color');
    outline-offset: dt('treetable.header.cell.focus.ring.offset');
}

.p-treetable-hoverable .p-treetable-selectable-row {
    cursor: pointer;
}

.p-treetable .p-treetable-tbody > tr {
    outline-color: transparent;
    background: dt('treetable.row.background');
    color: dt('treetable.row.color');
    transition: background dt('treetable.transition.duration'), color dt('treetable.transition.duration'), border-color dt('treetable.transition.duration'),
            outline-color dt('treetable.transition.duration'), box-shadow dt('treetable.transition.duration');
}

.p-treetable .p-treetable-tbody>tr>td {
    text-align: start;
    border-color: dt('treetable.body.cell.border.color');
    border-style: solid;
    border-width: 0 0 1px 0;
    padding: dt('treetable.body.cell.padding');
}

.p-treetable .p-treetable-tbody>tr>td .p-treetable-toggler {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    width: dt('treetable.node.toggle.button.size');
    height: dt('treetable.node.toggle.button.size');
    color: dt('treetable.node.toggle.button.color');
    border: 0 none;
    background: transparent;
    cursor: pointer;
    border-radius: dt('treetable.node.toggle.button.border.radius');
    transition: background dt('treetable.transition.duration'), color dt('treetable.transition.duration'), border-color dt('treetable.transition.duration'),
            outline-color dt('treetable.transition.duration'), box-shadow dt('treetable.transition.duration');
    outline-color: transparent;
    user-select: none;
}

.p-treetable .p-treetable-tbody>tr>td .p-treetable-toggler:enabled:hover {
    color: dt('treetable.node.toggle.button.hover.color');
    background: dt('treetable.node.toggle.button.hover.background');
}

.p-treetable .p-treetable-tbody>tr>tr.treetable-row-selected .p-treetable-toggler:hover {
    background: dt('treetable.node.toggle.button.selected.hover.background');
    color: dt('treetable.node.toggle.button.selected.hover.color');
}

.p-treetable .p-treetable-tbody>tr>td .p-treetable-toggler:focus-visible {
    box-shadow: dt('treetable.node.toggle.button.focus.ring.shadow');
    outline: dt('treetable.node.toggle.button.focus.ring.width') dt('treetable.node.toggle.button.focus.ring.style') dt('treetable.node.toggle.button.focus.ring.color');
    outline-offset: dt('treetable.node.toggle.button.focus.ring.offset');
}


.p-treetable .p-treetable-tbody>tr.p-treetable-row-selected {
    background: dt('treetable.row.selected.background');
    color: dt('treetable.row.selected.color');
}

.p-treetable-tbody > tr:focus-visible,
.p-treetable-tbody > tr.p-treetable-contextmenu-row-selected {
    box-shadow: dt('treetable.row.focus.ring.shadow');
    outline: dt('treetable.row.focus.ring.width') dt('treetable.row.focus.ring.style') dt('treetable.row.focus.ring.color');
    outline-offset: dt('treetable.row.focus.ring.offset');
}

.p-treetable .p-treetable-tbody>tr.p-treetable-row-selected .p-treetable-toggler {
    color: inherit;
}

.p-treetable .p-treetable-tbody>tr.p-treetable-row-selected .p-treetable-toggler:hover {
    background: dt('treetable.node.toggle.button.selected.hover.background');
    color: dt('treetable.node.toggle.button.selected.hover.color');
}

.p-treetable.p-treetable-hoverable-rows .p-treetable-tbody>tr:not(.p-treetable-row-selected):hover {
    background: dt('treetable.row.hover.background');
    color: dt('treetable.row.hover.color');
}

.p-treetable-gridlines .p-treetable-header {
    border-width: 1px 1px 0 1px;
}

.p-treetable-gridlines .p-treetable-footer {
    border-width: 0 1px 1px 1px;
}

.p-treetable-gridlines .p-treetable-paginator-top {
    border-width: 1px 1px 0 1px;
}

.p-treetable-gridlines .p-treetable-paginator-bottom {
    border-width: 0 1px 1px 1px;
}

.p-treetable-gridlines .p-treetable-thead > tr > th {
    border-width: 1px 0 1px 1px;
}

.p-treetable-gridlines .p-treetable-thead > tr > th:last-child {
    border-width: 1px;
}

.p-treetable-gridlines .p-treetable-tbody > tr > td {
    border-width: 1px 0 0 1px;
}

.p-treetable-gridlines .p-treetable-tbody > tr > td:last-child {
    border-width: 1px 1px 0 1px;
}

.p-treetable-gridlines .p-treetable-tbody > tr:last-child > td {
    border-width: 1px 0 1px 1px;
}

.p-treetable-gridlines .p-treetable-tbody > tr:last-child > td:last-child {
    border-width: 1px;
}

.p-treetable-gridlines .p-treetable-tfoot > tr > td {
    border-width: 1px 0 1px 1px;
}

.p-treetable-gridlines .p-treetable-tfoot > tr > td:last-child {
    border-width: 1px 1px 1px 1px;
}

.p-treetable.p-treetable-gridlines .p-treetable-thead + .p-treetable-tfoot > tr > td {
    border-width: 0 0 1px 1px;
}

.p-treetable.p-treetable-gridlines .p-treetable-thead + .p-treetable-tfoot > tr > td:last-child {
    border-width: 0 1px 1px 1px;
}

.p-treetable.p-treetable-gridlines:has(.p-treetable-thead):has(.p-treetable-tbody) .p-treetable-tbody > tr > td {
    border-width: 0 0 1px 1px;
}

.p-treetable.p-treetable-gridlines:has(.p-treetable-thead):has(.p-treetable-tbody) .p-treetable-tbody > tr > td:last-child {
    border-width: 0 1px 1px 1px;
}

.p-treetable.p-treetable-gridlines:has(.p-treetable-tbody):has(.p-treetable-tfoot) .p-treetable-tbody > tr:last-child > td {
    border-width: 0 0 0 1px;
}

.p-treetable.p-treetable-gridlines:has(.p-treetable-tbody):has(.p-treetable-tfoot) .p-treetable-tbody > tr:last-child > td:last-child {
    border-width: 0 1px 0 1px;
}

.p-treetable.p-treetable-sm .p-treetable-header {
    padding: 0.65625rem 0.875rem;
}

.p-treetable.p-treetable-sm .p-treetable-thead>tr>th {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-sm .p-treetable-tbody>tr>td {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-sm .p-treetable-tfoot>tr>td {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-sm .p-treetable-footer {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-lg .p-treetable-header {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-thead>tr>th {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-tbody>tr>td {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-tfoot>tr>td {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-footer {
    padding: 0.9375rem 1.25rem;
}

p-treetabletoggler + p-treetablecheckbox .p-checkbox,
p-treetable-toggler + p-treetable-checkbox .p-checkbox,
p-tree-table-toggler + p-tree-table-checkbox .p-checkbox {
    vertical-align: middle;
}

p-treetabletoggler + p-treetablecheckbox + span,
p-treetable-toggler + p-treetable-checkbox + span,
p-tree-table-toggler + p-tree-table-checkbox + span {
    vertical-align: middle;
}

p-treetable-sort-icon {
    display: inline-flex;
    align-items: center;
    gap: dt('treetable.header.cell.gap');
}
`,kX={root:({instance:t})=>["p-treetable p-component",{"p-treetable-gridlines":t.showGridlines,"p-treetable-hoverable-rows":t.rowHover||t.selectionMode==="single"||t.selectionMode==="multiple","p-treetable-auto-layout":t.autoLayout,"p-treetable-resizable":t.resizableColumns,"p-treetable-resizable-fit":t.resizableColumns&&t.columnResizeMode==="fit","p-treetable-flex-scrollable":t.scrollable&&t.scrollHeight==="flex"}],loading:"p-treetable-loading",mask:"p-treetable-mask p-overlay-mask",loadingIcon:"p-treetable-loading-icon",header:"p-treetable-header",pcPaginator:({instance:t})=>["p-treetable-paginator-"+t.paginatorPosition,t.paginatorStyleClass],tableContainer:"p-treetable-table-container",table:({instance:t})=>({"p-treetable-table":!0,"p-treetable-scrollable-table":t.scrollable,"p-treetable-resizable-table":t.resizableColumns,"p-treetable-resizable-table-fit":t.resizableColumns&&t.columnResizeMode==="fit"}),thead:"p-treetable-thead",sortableColumn:({instance:t})=>({"p-sortable-column":t.isEnabled(),"p-treetable-column-sorted":t.sorted}),sortableColumnIcon:"p-treetable-sort-icon",sortableColumnBadge:"p-sortable-column-badge",columnResizer:"p-treetable-column-resizer",columnHeaderContent:"p-treetable-column-header-content",columnTitle:"p-treetable-column-title",sortIcon:"p-treetable-sort-icon",pcSortBadge:"p-treetable-sort-badge",tbody:"p-treetable-tbody",row:({instance:t})=>({"p-treetable-row-selected":t.selected}),contextMenuRow:({instance:t})=>({"p-treetable-contextmenu-row-selected":t.selected}),toggler:"p-treetable-toggler",nodeToggleButton:"p-treetable-node-toggle-button",nodeToggleIcon:"p-treetable-node-toggle-icon",pcNodeCheckbox:"p-treetable-node-checkbox",tfoot:"p-treetable-tfoot",footerCell:({instance:t})=>({"p-treetable-frozen-column":t.columnProp("frozen")}),footer:"p-treetable-footer",columnResizeIndicator:"p-treetable-column-resize-indicator",wrapper:"p-treetable-wrapper",scrollableWrapper:"p-treetable-scrollable-wrapper",scrollableView:"p-treetable-scrollable-view",frozenView:"p-treetable-frozen-view",columnResizerHelper:"p-column-resizer-helper",reorderIndicatorUp:"p-treetable-reorder-indicator-up",reorderIndicatorDown:"p-treetable-reorder-indicator-down",scrollableHeader:"p-treetable-scrollable-header",scrollableHeaderBox:"p-treetable-scrollable-header-box",scrollableHeaderTable:"p-treetable-scrollable-header-table",scrollableBody:"p-treetable-scrollable-body",scrollableFooter:"p-treetable-scrollable-footer",scrollableFooterBox:"p-treetable-scrollable-footer-box",scrollableFooterTable:"p-treetable-scrollable-footer-table"},jr=(()=>{class t extends Vt{name="treetable";theme=MX;classes=kX;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var Em=(()=>{class t{sortSource=new Xl;selectionSource=new Xl;contextMenuSource=new Xl;uiUpdateSource=new Xl;totalRecordsSource=new Xl;sortSource$=this.sortSource.asObservable();selectionSource$=this.selectionSource.asObservable();contextMenuSource$=this.contextMenuSource.asObservable();uiUpdateSource$=this.uiUpdateSource.asObservable();totalRecordsSource$=this.totalRecordsSource.asObservable();onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onUIUpdate(e){this.uiUpdateSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})(),Sc=(()=>{class t extends Ot{_componentStyle=lt(jr);columns;styleClass;tableStyle;tableStyleClass;autoLayout;lazy=!1;lazyLoadOnInit=!0;paginator;rows;first=0;pageLinks=5;rowsPerPageOptions;alwaysShowPaginator=!0;paginatorPosition="bottom";paginatorStyleClass;paginatorDropdownAppendTo;currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showFirstLastIcon=!0;showPageLinks=!0;defaultSortOrder=1;sortMode="single";resetPageOnSort=!0;customSort;selectionMode;contextMenuSelection;contextMenuSelectionMode="separate";dataKey;metaKeySelection=!1;compareSelectionBy="deepEquals";rowHover;loading;loadingIcon;showLoader=!0;scrollable;scrollHeight;virtualScroll;virtualScrollItemSize;virtualScrollOptions;virtualScrollDelay=150;frozenWidth;frozenColumns;resizableColumns;columnResizeMode="fit";reorderableColumns;contextMenu;rowTrackBy=(e,i)=>i;filters={};globalFilterFields;filterDelay=300;filterMode="lenient";filterLocale;paginatorLocale;get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get value(){return this._value}set value(e){this._value=e}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(e){this._virtualRowHeight=e,console.log("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}get selectionKeys(){return this._selectionKeys}set selectionKeys(e){this._selectionKeys=e,this.selectionKeysChange.emit(this._selectionKeys)}showGridlines=!1;selectionChange=new Fe;contextMenuSelectionChange=new Fe;onFilter=new Fe;onNodeExpand=new Fe;onNodeCollapse=new Fe;onPage=new Fe;onSort=new Fe;onLazyLoad=new Fe;sortFunction=new Fe;onColResize=new Fe;onColReorder=new Fe;onNodeSelect=new Fe;onNodeUnselect=new Fe;onContextMenuSelect=new Fe;onHeaderCheckboxToggle=new Fe;onEditInit=new Fe;onEditComplete=new Fe;onEditCancel=new Fe;selectionKeysChange=new Fe;resizeHelperViewChild;reorderIndicatorUpViewChild;reorderIndicatorDownViewChild;tableViewChild;scrollableViewChild;scrollableFrozenViewChild;_value=[];_virtualRowHeight=28;_selectionKeys;serializedValue;_totalRecords=0;_multiSortMeta;_sortField;_sortOrder=1;filteredNodes;filterTimeout;_colGroupTemplate;colGroupTemplate;_captionTemplate;captionTemplate;_headerTemplate;headerTemplate;_bodyTemplate;bodyTemplate;_footerTemplate;footerTemplate;_summaryTemplate;summaryTemplate;_emptyMessageTemplate;emptyMessageTemplate;_paginatorLeftTemplate;paginatorLeftTemplate;_paginatorRightTemplate;paginatorRightTemplate;_paginatorDropdownItemTemplate;paginatorDropdownItemTemplate;_frozenHeaderTemplate;frozenHeaderTemplate;_frozenBodyTemplate;frozenBodyTemplate;_frozenFooterTemplate;frozenFooterTemplate;_frozenColGroupTemplate;frozenColGroupTemplate;_loadingIconTemplate;loadingIconTemplate;_reorderIndicatorUpIconTemplate;reorderIndicatorUpIconTemplate;_reorderIndicatorDownIconTemplate;reorderIndicatorDownIconTemplate;_sortIconTemplate;sortIconTemplate;_checkboxIconTemplate;checkboxIconTemplate;_headerCheckboxIconTemplate;headerCheckboxIconTemplate;_togglerIconTemplate;togglerIconTemplate;_paginatorFirstPageLinkIconTemplate;paginatorFirstPageLinkIconTemplate;_paginatorLastPageLinkIconTemplate;paginatorLastPageLinkIconTemplate;_paginatorPreviousPageLinkIconTemplate;paginatorPreviousPageLinkIconTemplate;_paginatorNextPageLinkIconTemplate;paginatorNextPageLinkIconTemplate;_loaderTemplate;loaderTemplate;lastResizerHelperX;reorderIconWidth;reorderIconHeight;draggedColumn;dropPosition;preventSelectionSetterPropagation;_selection;selectedKeys={};rowTouched;editingCell;editingCellData;editingCellField;editingCellClick;documentEditListener;initialized;toggleRowIndex;ngOnInit(){super.ngOnInit(),this.lazy&&this.lazyLoadOnInit&&!this.virtualScroll&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.initialized=!0}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"reorderindicatorupicon":this.reorderIndicatorUpIconTemplate=e.template;break;case"reorderindicatordownicon":this.reorderIndicatorDownIconTemplate=e.template;break;case"sorticon":this.sortIconTemplate=e.template;break;case"checkboxicon":this.checkboxIconTemplate=e.template;break;case"headercheckboxicon":this.headerCheckboxIconTemplate=e.template;break;case"togglericon":this.togglerIconTemplate=e.template;break;case"paginatorfirstpagelinkicon":this.paginatorFirstPageLinkIconTemplate=e.template;break;case"paginatorlastpagelinkicon":this.paginatorLastPageLinkIconTemplate=e.template;break;case"paginatorpreviouspagelinkicon":this.paginatorPreviousPageLinkIconTemplate=e.template;break;case"paginatornextpagelinkicon":this.paginatorNextPageLinkIconTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break}})}filterService=lt(zr);tableService=lt(Em);zone=lt(fo);ngOnChanges(e){super.ngOnChanges(e),e.value&&(this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,this.sortMode=="single"&&this.sortField?this.sortSingle():this.sortMode=="multiple"&&this.multiSortMeta?this.sortMultiple():this.hasFilter()&&this._filter()),this.updateSerializedValue(),this.tableService.onUIUpdate(this.value)),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,this.sortMode==="multiple"&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateselectedKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}updateSerializedValue(){this.serializedValue=[],this.paginator?this.serializePageNodes():this.serializeNodes(null,this.filteredNodes||this.value,0,!0)}serializeNodes(e,i,n,a){if(i&&i.length)for(let p of i){p.parent=e;let y={node:p,parent:e,level:n,visible:a&&(e?e.expanded:!0)};this.serializedValue.push(y),y.visible&&p.expanded&&this.serializeNodes(p,p.children,n+1,y.visible)}}serializePageNodes(){let e=this.filteredNodes||this.value;if(this.serializedValue=[],e&&e.length){let i=this.lazy?0:this.first;for(let n=i;n<i+this.rows;n++){let a=e[n];a&&(this.serializedValue.push({node:a,parent:null,level:0,visible:!0}),this.serializeNodes(a,a.children,1,!0))}}}updateselectedKeys(){if(this.dataKey&&this._selection)if(this.selectedKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectedKeys[String(Ai(e.data,this.dataKey))]=1;else this.selectedKeys[String(Ai(this._selection.data,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.serializePageNodes(),this.onPage.emit({first:this.first,rows:this.rows}),this.tableService.onUIUpdate(this.value),this.scrollable&&this.resetScrollTop()}sort(e){let i=e.originalEvent;if(this.sortMode==="single"&&(this._sortOrder=this.sortField===e.field?this.sortOrder*-1:this.defaultSortOrder,this._sortField=e.field,this.sortSingle(),this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.sortMode==="multiple"){let n=i.metaKey||i.ctrlKey,a=this.getSortMeta(e.field);a?n?a.order=a.order*-1:(this._multiSortMeta=[{field:e.field,order:a.order*-1}],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()):((!n||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}}sortSingle(){if(this.sortField&&this.sortOrder){this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortNodes(this.value),this.hasFilter()&&this._filter());let e={field:this.sortField,order:this.sortOrder};this.onSort.emit(e),this.tableService.onSort(e),this.updateSerializedValue()}}sortNodes(e){if(!(!e||e.length===0)){this.customSort?this.sortFunction.emit({data:e,mode:this.sortMode,field:this.sortField,order:this.sortOrder}):e.sort((i,n)=>{let a=Ai(i.data,this.sortField),p=Ai(n.data,this.sortField),y=null;return a==null&&p!=null?y=-1:a!=null&&p==null?y=1:a==null&&p==null?y=0:typeof a=="string"&&typeof p=="string"?y=a.localeCompare(p,void 0,{numeric:!0}):y=a<p?-1:a>p?1:0,this.sortOrder*y});for(let i of e)this.sortNodes(i.children)}}sortMultiple(){this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortMultipleNodes(this.value),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.updateSerializedValue(),this.tableService.onSort(this.multiSortMeta))}sortMultipleNodes(e){if(!(!e||e.length===0)){this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):e.sort((i,n)=>this.multisortField(i,n,this.multiSortMeta,0));for(let i of e)this.sortMultipleNodes(i.children)}}multisortField(e,i,n,a){if(dn(this.multiSortMeta)||dn(n[a]))return 0;let p=Ai(e.data,n[a].field),y=Ai(i.data,n[a].field),C=null;if(p==null&&y!=null?C=-1:p!=null&&y==null?C=1:p==null&&y==null&&(C=0),typeof p=="string"||p instanceof String){if(p.localeCompare&&p!=y)return n[a].order*p.localeCompare(y,void 0,{numeric:!0})}else C=p<y?-1:1;return p==y?n.length-1>a?this.multisortField(e,i,n,a+1):0:n[a].order*C}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length){for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===e)return this.multiSortMeta[i]}return null}isSorted(e){if(this.sortMode==="single")return this.sortField&&this.sortField===e;if(this.sortMode==="multiple"){let i=!1;if(this.multiSortMeta){for(let n=0;n<this.multiSortMeta.length;n++)if(this.multiSortMeta[n].field==e){i=!0;break}}return i}}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}onLazyItemLoad(e){this.onLazyLoad.emit(Ta(ai(ai({},this.createLazyLoadMetadata()),e),{rows:e.last-e.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.scrollableViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e)}scrollTo(e){this.scrollableViewChild&&this.scrollableViewChild.scrollTo(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollTo(e)}isEmpty(){let e=this.filteredNodes||this.value;return e==null||e.length==0}getBlockableElement(){return this.el.nativeElement.children[0]}onColumnResizeBegin(e){let i=Sr(this.el?.nativeElement).left;this.lastResizerHelperX=e.pageX-i+this.el?.nativeElement.scrollLeft,e.preventDefault()}onColumnResize(e){let i=Sr(this.el?.nativeElement).left;Bn(this.el?.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.el?.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-i+this.el?.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(e,i){let n=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,a=i.offsetWidth,p=a+n,y=i.style.minWidth||15;if(a+n>parseInt(y)){if(this.columnResizeMode==="fit"){let C=i.nextElementSibling;for(;!C.offsetParent;)C=C.nextElementSibling;if(C){let A=C.offsetWidth-n,R=C.style.minWidth||15;if(p>15&&A>parseInt(R))if(this.scrollable){let $=this.findParentScrollableView(i),Y=ti($,".p-treetable-scrollable-body table")||ti($,".p-scroller-viewport table"),re=ti($,"table.p-treetable-scrollable-header-table"),te=ti($,"table.p-treetable-scrollable-footer-table"),Me=tm(i);this.resizeColGroup(re,Me,p,A),this.resizeColGroup(Y,Me,p,A),this.resizeColGroup(te,Me,p,A)}else i.style.width=p+"px",C&&(C.style.width=A+"px")}}else if(this.columnResizeMode==="expand")if(this.scrollable){let C=this.findParentScrollableView(i),A=ti(C,".p-treetable-scrollable-body")||ti(C,".p-scroller-viewport"),R=ti(C,".p-treetable-scrollable-header"),$=ti(C,".p-treetable-scrollable-footer"),Y=ti(C,".p-treetable-scrollable-body table")||ti(C,".p-scroller-viewport table"),re=ti(C,"table.p-treetable-scrollable-header-table"),te=ti(C,"table.p-treetable-scrollable-footer-table");Y.style.width=Y.offsetWidth+n+"px",re.style.width=re.offsetWidth+n+"px",te&&(te.style.width=te.offsetWidth+n+"px");let Me=tm(i),ke=i?Y.offsetWidth+n:p,je=i?re.offsetWidth+n:p,Ye=this.el?.nativeElement.offsetWidth>=ke,_t=(wt,st,yt,Rt)=>{wt&&st&&(wt.style.width=Rt?yt+Jh(A)+"px":"auto",st.style.width=yt+"px")};_t(A,Y,ke,Ye),_t(R,re,je,Ye),_t($,te,je,Ye),this.resizeColGroup(re,Me,p,null),this.resizeColGroup(Y,Me,p,null),this.resizeColGroup(te,Me,p,null)}else{this.tableViewChild.nativeElement.style.width=this.tableViewChild?.nativeElement.offsetWidth+n+"px",i.style.width=p+"px";let C=this.tableViewChild?.nativeElement.style.width;this.el.nativeElement.style.width=C+"px"}this.onColResize.emit({element:i,delta:n})}this.resizeHelperViewChild.nativeElement.style.display="none",Sa(this.el?.nativeElement,"p-unselectable-text")}findParentScrollableView(e){if(e){let i=e.parentElement;for(;i&&!Ho(i,"p-treetable-scrollable-view");)i=i.parentElement;return i}else return null}resizeColGroup(e,i,n,a){if(e){let p=e.children[0].nodeName==="COLGROUP"?e.children[0]:null;if(p){let y=p.children[i],C=y.nextElementSibling;y.style.width=n+"px",C&&a&&(C.style.width=a+"px")}else throw"Scrollable tables require a colgroup to support resizable columns"}}onColumnDragStart(e,i){this.reorderIconWidth=em(this.reorderIndicatorUpViewChild?.nativeElement),this.reorderIconHeight=hf(this.reorderIndicatorDownViewChild?.nativeElement),this.draggedColumn=i,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,i){if(this.reorderableColumns&&this.draggedColumn&&i){e.preventDefault();let n=Sr(this.el?.nativeElement),a=Sr(i);if(this.draggedColumn!=i){let p=a.left-n.left,y=n.top-a.top,C=a.left+i.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=a.top-n.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=a.top-n.top+i.offsetHeight+"px",e.pageX>C?(this.reorderIndicatorUpViewChild.nativeElement.style.left=p+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=p+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=p-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=p-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,i){if(e.preventDefault(),this.draggedColumn){let n=sl.indexWithinGroup(this.draggedColumn,"ttreorderablecolumn"),a=sl.indexWithinGroup(i,"ttreorderablecolumn"),p=n!=a;p&&(a-n==1&&this.dropPosition===-1||n-a==1&&this.dropPosition===1)&&(p=!1),p&&a<n&&this.dropPosition===1&&(a=a+1),p&&a>n&&this.dropPosition===-1&&(a=a-1),p&&(Vx(this.columns,n,a),this.onColReorder.emit({dragIndex:n,dropIndex:a,columns:this.columns})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}handleRowClick(e){let i=e.originalEvent.target.nodeName;if(!(i=="INPUT"||i=="BUTTON"||i=="A"||Ho(e.originalEvent.target,"p-clickable"))){if(this.selectionMode){this.preventSelectionSetterPropagation=!0;let n=e.rowNode,a=this.isSelected(n.node),p=this.rowTouched?!1:this.metaKeySelection,y=this.dataKey?String(Ai(n.node.data,this.dataKey)):null;if(p){let C=e.originalEvent,A=C.metaKey||C.ctrlKey;if(a&&A){if(this.isSingleSelectionMode())this._selection=null,this.selectedKeys={},this.selectionChange.emit(null);else{let R=this.findIndexInSelection(n.node);this._selection=this.selection.filter(($,Y)=>Y!=R),this.selectionChange.emit(this.selection),y&&delete this.selectedKeys[y]}this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:n.node,type:"row"})}else this.isSingleSelectionMode()?(this._selection=n.node,this.selectionChange.emit(n.node),y&&(this.selectedKeys={},this.selectedKeys[y]=1)):this.isMultipleSelectionMode()&&(A?this._selection=this.selection||[]:(this._selection=[],this.selectedKeys={}),this._selection=[...this.selection,n.node],this.selectionChange.emit(this.selection),y&&(this.selectedKeys[y]=1)),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:n.node,type:"row",index:e.rowIndex})}else if(this.selectionMode==="single")a?(this._selection=null,this.selectedKeys={},this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:n.node,type:"row"})):(this._selection=n.node,this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:n.node,type:"row",index:e.rowIndex}),y&&(this.selectedKeys={},this.selectedKeys[y]=1));else if(this.selectionMode==="multiple")if(a){let C=this.findIndexInSelection(n.node);this._selection=this.selection.filter((A,R)=>R!=C),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:n.node,type:"row"}),y&&delete this.selectedKeys[y]}else this._selection=this.selection?[...this.selection,n.node]:[n.node],this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:n.node,type:"row",index:e.rowIndex}),y&&(this.selectedKeys[y]=1);this.tableService.onSelectionChange()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){let i=e.rowNode.node;if(this.contextMenuSelectionMode==="separate")this.contextMenuSelection=i,this.contextMenuSelectionChange.emit(i),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:i}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(i);else if(this.contextMenuSelectionMode==="joint"){this.preventSelectionSetterPropagation=!0;let n=this.isSelected(i),a=this.dataKey?String(Ai(i.data,this.dataKey)):null;n||(this.isSingleSelectionMode()?(this.selection=i,this.selectionChange.emit(i)):this.isMultipleSelectionMode()&&(this.selection=[i],this.selectionChange.emit(this.selection)),a&&(this.selectedKeys[a]=1)),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:i})}}}toggleNodeWithCheckbox(e){this.selection=this.selection||[],this.preventSelectionSetterPropagation=!0;let i=e.rowNode.node;this.isSelected(i)?(this.propagateSelectionDown(i,!1),e.rowNode.parent&&this.propagateSelectionUp(i.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e,node:i})):(this.propagateSelectionDown(i,!0),e.rowNode.parent&&this.propagateSelectionUp(i.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e,node:i})),this.tableService.onSelectionChange()}toggleNodesWithCheckbox(e,i){let n=this.filteredNodes||this.value;this._selection=i&&n?n.slice():[],this.toggleAll(i),i||(this._selection=[],this.selectedKeys={}),this.preventSelectionSetterPropagation=!0,this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:i})}toggleAll(e){let i=this.filteredNodes||this.value;if(this.selectionKeys){if(i&&i.length){for(let n of i)this.propagateDown(n,e);this.selectionKeysChange.emit(this.selectionKeys)}}else if(i&&i.length)for(let n of i)this.propagateSelectionDown(n,e)}propagateSelectionUp(e,i){if(e.children&&e.children.length){let a=0,p=!1,y=this.dataKey?String(Ai(e.data,this.dataKey)):null;for(let C of e.children)this.isSelected(C)?a++:C.partialSelected&&(p=!0);if(i&&a==e.children.length)this._selection=[...this.selection||[],e],e.partialSelected=!1,y&&(this.selectedKeys[y]=1);else{if(!i){let C=this.findIndexInSelection(e);C>=0&&(this._selection=this.selection.filter((A,R)=>R!=C),y&&delete this.selectedKeys[y])}p||a>0&&a!=e.children.length?e.partialSelected=!0:e.partialSelected=!1}}let n=e.parent;e.checked=i,n&&this.propagateSelectionUp(n,i)}propagateSelectionDown(e,i){let n=this.findIndexInSelection(e),a=this.dataKey?String(Ai(e.data,this.dataKey)):null;if(i&&n==-1?(this._selection=[...this.selection||[],e],a&&(this.selectedKeys[a]=1)):!i&&n>-1&&(this._selection=this.selection.filter((p,y)=>y!=n),a&&delete this.selectedKeys[a]),e.partialSelected=!1,e.checked=i,e.children&&e.children.length)for(let p of e.children)this.propagateSelectionDown(p,i)}isSelected(e){return e&&this.selection?this.dataKey?e.hasOwnProperty("checked")?e.checked:this.selectedKeys[Ai(e.data,this.dataKey)]!==void 0:Array.isArray(this.selection)?this.findIndexInSelection(e)>-1:this.equals(e,this.selection):!1}isNodeSelected(e){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.nodeKey(e)]?.checked===!0:!1}isNodePartialSelected(e){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.nodeKey(e)]?.partialChecked===!0:!1}nodeKey(e){return Ai(e,this.dataKey)||Ai(e?.data,this.dataKey)}toggleCheckbox(e){let{rowNode:i,check:n,originalEvent:a}=e,p=i.node;this.selectionKeys?(this.propagateDown(p,n),p.parent&&this.propagateUp(p.parent,n),this.selectionKeysChange.emit(this.selectionKeys)):this.toggleNodeWithCheckbox({originalEvent:a,rowNode:i}),this.tableService.onSelectionChange()}propagateDown(e,i){if(i?this.selectionKeys[this.nodeKey(e)]={checked:!0,partialChecked:!1}:delete this.selectionKeys[this.nodeKey(e)],e.children&&e.children.length)for(let n of e.children)this.propagateDown(n,i)}propagateUp(e,i){let n=0,a=!1;for(let y of e.children)this.selectionKeys[this.nodeKey(y)]&&this.selectionKeys[this.nodeKey(y)].checked?n++:this.selectionKeys[this.nodeKey(y)]&&this.selectionKeys[this.nodeKey(y)].partialChecked&&(a=!0);i&&n===e.children.length?this.selectionKeys[this.nodeKey(e)]={checked:!0,partialChecked:!1}:(i||delete this.selectionKeys[this.nodeKey(e)],a||n>0&&n!==e.children.length?this.selectionKeys[this.nodeKey(e)]={checked:!1,partialChecked:!0}:this.selectionKeys[this.nodeKey(e)]={checked:!1,partialChecked:!1});let p=e.parent;p&&this.propagateUp(p,i)}findIndexInSelection(e){let i=-1;if(this.selection&&this.selection.length){for(let n=0;n<this.selection.length;n++)if(this.equals(e,this.selection[n])){i=n;break}}return i}isSingleSelectionMode(){return this.selectionMode==="single"}isMultipleSelectionMode(){return this.selectionMode==="multiple"}equals(e,i){return this.compareSelectionBy==="equals"?Ha(e,i):Ha(e.data,i.data,this.dataKey)}filter(e,i,n){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[i]&&delete this.filters[i]:this.filters[i]={value:e,matchMode:n},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay)}filterGlobal(e,i){this.filter(e,"global",i)}isFilterBlank(e){return e!=null?!!(typeof e=="string"&&e.trim().length==0||Array.isArray(e)&&e.length==0):!0}_filter(){if(this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(!this.hasFilter())this.filteredNodes=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0);else{let i;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");i=this.globalFilterFields||this.columns}this.filteredNodes=[];let n=this.filterMode==="strict",a=!1;for(let p of this.value){let y=ai({},p),C=!0,A=!1,R;for(let Y in this.filters)if(this.filters.hasOwnProperty(Y)&&Y!=="global"){let re=this.filters[Y],te=Y,Me=re.value,ke=re.matchMode||"startsWith",je=this.filterService.filters[ke];if(R={filterField:te,filterValue:Me,filterConstraint:je,isStrictMode:n},(n&&!(this.findFilteredNodes(y,R)||this.isFilterMatched(y,R))||!n&&!(this.isFilterMatched(y,R)||this.findFilteredNodes(y,R)))&&(C=!1),!C)break}if(this.filters.global&&!A&&i){let Y=ai({},y),re,te=this.filters.global.value,Me=this.filterService.filters[this.filters.global.matchMode];R={filterField:re,filterValue:te,filterConstraint:Me,isStrictMode:n,globalFilterFieldsArray:i},(n&&(this.findFilteredNodes(Y,R)||this.isFilterMatched(Y,R))||!n&&(this.isFilterMatched(Y,R)||this.findFilteredNodes(Y,R)))&&(A=!0,y=Y)}let $=C;this.filters.global&&($=C&&A),$&&this.filteredNodes.push(y),a=a||!C||A||C&&this.filteredNodes.length>0||!A&&this.filteredNodes.length===0}a||(this.filteredNodes=null),this.paginator&&(this.totalRecords=this.filteredNodes?this.filteredNodes.length:this.value?this.value.length:0)}this.cd.markForCheck()}this.first=0;let e=this.filteredNodes||this.value;this.onFilter.emit({filters:this.filters,filteredValue:e}),this.tableService.onUIUpdate(e),this.updateSerializedValue(),this.scrollable&&this.resetScrollTop()}findFilteredNodes(e,i){if(e){let n=!1;if(e.children){let a=[...e.children];e.children=[];for(let p of a){let y=ai({},p);this.isFilterMatched(y,i)&&(n=!0,e.children.push(y))}}if(n)return!0}}isFilterMatched(e,i){let{filterField:n,filterValue:a,filterConstraint:p,isStrictMode:y,globalFilterFieldsArray:C}=i,A=!1,R=$=>p(Ai(e.data,$),a,this.filterLocale);return A=C?.length?C.some($=>R($.field||$)):R(n),(!A||y&&!this.isNodeLeaf(e))&&(A=this.findFilteredNodes(e,{filterField:n,filterValue:a,filterConstraint:p,isStrictMode:y,globalFilterFieldsArray:C})||A),A}isNodeLeaf(e){return e.leaf===!1?!1:!(e.children&&e.children.length)}hasFilter(){let e=!0;for(let i in this.filters)if(this.filters.hasOwnProperty(i)){e=!1;break}return!e}reset(){this._sortField=null,this._sortOrder=1,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredNodes=null,this.filters={},this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}updateEditingCell(e,i,n){this.editingCell=e,this.editingCellData=i,this.editingCellField=n,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&da(this.editingCell,".ng-invalid.ng-dirty").length===0}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=this.renderer.listen(this.document,"click",e=>{this.editingCell&&!this.editingCellClick&&this.isEditingCellValid()&&(Sa(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData}),this.editingCellField=null,this.editingCellData=null,this.unbindDocumentEditListener()),this.editingCellClick=!1}))}unbindDocumentEditListener(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.editingCellField=null,this.editingCellData=null,this.initialized=null,super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-treeTable"],["p-treetable"],["p-tree-table"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,eQ,4),ve(a,tQ,4),ve(a,iQ,4),ve(a,nQ,4),ve(a,aQ,4),ve(a,oQ,4),ve(a,rQ,4),ve(a,sQ,4),ve(a,lQ,4),ve(a,cQ,4),ve(a,uQ,4),ve(a,dQ,4),ve(a,pQ,4),ve(a,hQ,4),ve(a,mQ,4),ve(a,fQ,4),ve(a,gQ,4),ve(a,_Q,4),ve(a,bQ,4),ve(a,yQ,4),ve(a,vQ,4),ve(a,xQ,4),ve(a,wQ,4),ve(a,IQ,4),ve(a,TQ,4),ve(a,CQ,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n._colGroupTemplate=p.first),le(p=ce())&&(n._captionTemplate=p.first),le(p=ce())&&(n._headerTemplate=p.first),le(p=ce())&&(n._bodyTemplate=p.first),le(p=ce())&&(n._footerTemplate=p.first),le(p=ce())&&(n._summaryTemplate=p.first),le(p=ce())&&(n._emptyMessageTemplate=p.first),le(p=ce())&&(n._paginatorLeftTemplate=p.first),le(p=ce())&&(n._paginatorRightTemplate=p.first),le(p=ce())&&(n._paginatorDropdownItemTemplate=p.first),le(p=ce())&&(n._frozenHeaderTemplate=p.first),le(p=ce())&&(n._frozenBodyTemplate=p.first),le(p=ce())&&(n._frozenFooterTemplate=p.first),le(p=ce())&&(n._frozenColGroupTemplate=p.first),le(p=ce())&&(n._loadingIconTemplate=p.first),le(p=ce())&&(n._reorderIndicatorUpIconTemplate=p.first),le(p=ce())&&(n._reorderIndicatorDownIconTemplate=p.first),le(p=ce())&&(n._sortIconTemplate=p.first),le(p=ce())&&(n._checkboxIconTemplate=p.first),le(p=ce())&&(n._headerCheckboxIconTemplate=p.first),le(p=ce())&&(n._togglerIconTemplate=p.first),le(p=ce())&&(n._paginatorFirstPageLinkIconTemplate=p.first),le(p=ce())&&(n._paginatorLastPageLinkIconTemplate=p.first),le(p=ce())&&(n._paginatorPreviousPageLinkIconTemplate=p.first),le(p=ce())&&(n._paginatorNextPageLinkIconTemplate=p.first),le(p=ce())&&(n._loaderTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&(dt(SQ,5),dt(MQ,5),dt(kQ,5),dt(EQ,5),dt(PQ,5),dt(DQ,5)),i&2){let a;le(a=ce())&&(n.resizeHelperViewChild=a.first),le(a=ce())&&(n.reorderIndicatorUpViewChild=a.first),le(a=ce())&&(n.reorderIndicatorDownViewChild=a.first),le(a=ce())&&(n.tableViewChild=a.first),le(a=ce())&&(n.scrollableViewChild=a.first),le(a=ce())&&(n.scrollableFrozenViewChild=a.first)}},hostVars:3,hostBindings:function(i,n){i&2&&(ue("data-scrollselectors",".p-treetable-scrollable-body"),K(n.cn(n.cx("root"),n.styleClass)))},inputs:{columns:"columns",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",autoLayout:[2,"autoLayout","autoLayout",we],lazy:[2,"lazy","lazy",we],lazyLoadOnInit:[2,"lazyLoadOnInit","lazyLoadOnInit",we],paginator:[2,"paginator","paginator",we],rows:[2,"rows","rows",Tt],first:[2,"first","first",Tt],pageLinks:[2,"pageLinks","pageLinks",Tt],rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:[2,"alwaysShowPaginator","alwaysShowPaginator",we],paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[2,"showCurrentPageReport","showCurrentPageReport",we],showJumpToPageDropdown:[2,"showJumpToPageDropdown","showJumpToPageDropdown",we],showFirstLastIcon:[2,"showFirstLastIcon","showFirstLastIcon",we],showPageLinks:[2,"showPageLinks","showPageLinks",we],defaultSortOrder:[2,"defaultSortOrder","defaultSortOrder",Tt],sortMode:"sortMode",resetPageOnSort:[2,"resetPageOnSort","resetPageOnSort",we],customSort:[2,"customSort","customSort",we],selectionMode:"selectionMode",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:[2,"metaKeySelection","metaKeySelection",we],compareSelectionBy:"compareSelectionBy",rowHover:[2,"rowHover","rowHover",we],loading:[2,"loading","loading",we],loadingIcon:"loadingIcon",showLoader:[2,"showLoader","showLoader",we],scrollable:[2,"scrollable","scrollable",we],scrollHeight:"scrollHeight",virtualScroll:[2,"virtualScroll","virtualScroll",we],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Tt],virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:[2,"virtualScrollDelay","virtualScrollDelay",Tt],frozenWidth:"frozenWidth",frozenColumns:"frozenColumns",resizableColumns:[2,"resizableColumns","resizableColumns",we],columnResizeMode:"columnResizeMode",reorderableColumns:[2,"reorderableColumns","reorderableColumns",we],contextMenu:"contextMenu",rowTrackBy:"rowTrackBy",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:[2,"filterDelay","filterDelay",Tt],filterMode:"filterMode",filterLocale:"filterLocale",paginatorLocale:"paginatorLocale",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",value:"value",virtualRowHeight:"virtualRowHeight",selectionKeys:"selectionKeys",showGridlines:[2,"showGridlines","showGridlines",we]},outputs:{selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onFilter:"onFilter",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onPage:"onPage",onSort:"onSort",onLazyLoad:"onLazyLoad",sortFunction:"sortFunction",onColResize:"onColResize",onColReorder:"onColReorder",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onContextMenuSelect:"onContextMenuSelect",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",selectionKeysChange:"selectionKeysChange"},standalone:!1,features:[bt([Em,jr]),gt,wr],decls:10,vars:10,consts:[["table",""],["scrollableView",""],["scrollableFrozenView",""],["resizeHelper",""],["reorderIndicatorUp",""],["reorderIndicatorDown",""],[3,"class",4,"ngIf"],[3,"rows","first","totalRecords","pageLinkSize","styleClass","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","appendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","locale","onPageChange",4,"ngIf"],[3,"class","display",4,"ngIf"],[4,"ngIf"],["data-p-icon","spinner",3,"spin","class",4,"ngIf"],["data-p-icon","spinner",3,"spin"],[4,"ngTemplateOutlet"],[3,"onPageChange","rows","first","totalRecords","pageLinkSize","styleClass","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","appendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","locale"],["pTemplate","firstpagelinkicon"],["pTemplate","previouspagelinkicon"],["pTemplate","lastpagelinkicon"],["pTemplate","nextpagelinkicon"],["role","table",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup"],["role","rowgroup",3,"pTreeTableBody","pTreeTableBodyTemplate"],[3,"ngClass","ttScrollableView","frozen","ngStyle","scrollHeight",4,"ngIf"],[3,"ttScrollableView","frozen","scrollHeight","ngStyle"],[3,"ngClass","ttScrollableView","frozen","ngStyle","scrollHeight"],["data-p-icon","arrow-down",4,"ngIf"],["data-p-icon","arrow-down"],["data-p-icon","arrow-up",4,"ngIf"],["data-p-icon","arrow-up"]],template:function(i,n){i&1&&B(0,qQ,4,6,"div",6)(1,HQ,2,3,"div",6)(2,iZ,5,21,"p-paginator",7)(3,rZ,9,24,"div",6)(4,lZ,4,12,"div",6)(5,xZ,5,21,"p-paginator",7)(6,IZ,2,3,"div",6)(7,TZ,2,4,"div",8)(8,kZ,4,6,"span",8)(9,LZ,4,6,"span",8),i&2&&(T("ngIf",n.loading&&n.showLoader),S(),T("ngIf",n.captionTemplate||n._captionTemplate),S(),T("ngIf",n.paginator&&(n.paginatorPosition==="top"||n.paginatorPosition=="both")),S(),T("ngIf",!n.scrollable),S(),T("ngIf",n.scrollable),S(),T("ngIf",n.paginator&&(n.paginatorPosition==="bottom"||n.paginatorPosition=="both")),S(),T("ngIf",n.summaryTemplate||n._summaryTemplate),S(),T("ngIf",n.resizableColumns),S(),T("ngIf",n.reorderableColumns),S(),T("ngIf",n.reorderableColumns))},dependencies:()=>[Ca,$t,ei,bi,Sf,ui,Ss,G1,U1,EX,C4],encapsulation:2})}return t})(),C4=(()=>{class t{tt;treeTableService;cd;columns;template;frozen;serializedNodes;scrollerOptions;subscription;constructor(e,i,n){this.tt=e,this.treeTableService=i,this.cd=n,this.subscription=this.tt.tableService.uiUpdateSource$.subscribe(()=>{this.tt.virtualScroll&&this.cd.detectChanges()})}getScrollerOption(e,i){return this.tt.virtualScroll?(i=i||this.scrollerOptions,i?i[e]:null):null}getRowIndex(e){let i=this.getScrollerOption("getItemOptions");return i?i(e).index:e}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)(At(Sc),At(Em),At(xs))};static \u0275cmp=Je({type:t,selectors:[["","pTreeTableBody",""]],inputs:{columns:[0,"pTreeTableBody","columns"],template:[0,"pTreeTableBodyTemplate","template"],frozen:[2,"frozen","frozen",we],serializedNodes:"serializedNodes",scrollerOptions:"scrollerOptions"},standalone:!1,attrs:AZ,decls:2,vars:3,consts:[["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){i&1&&B(0,BZ,1,1,"ng-template",0)(1,NZ,2,5,"ng-container",1),i&2&&(T("ngForOf",n.serializedNodes||n.tt.serializedValue)("ngForTrackBy",n.tt.rowTrackBy),S(),T("ngIf",n.tt.isEmpty()))},dependencies:[ji,$t,ei],encapsulation:2})}return t})(),EX=(()=>{class t extends Ot{tt;el;zone;columns;frozen;scrollHeaderViewChild;scrollHeaderBoxViewChild;scrollBodyViewChild;scrollTableViewChild;scrollLoadingTableViewChild;scrollFooterViewChild;scrollFooterBoxViewChild;scrollableAlignerViewChild;scroller;headerScrollListener;bodyScrollListener;footerScrollListener;frozenSiblingBody;totalRecordsSubscription;_scrollHeight;preventBodyScrollPropagation;_componentStyle=lt(jr);get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e,e!=null&&(e.includes("%")||e.includes("calc"))&&console.log('Percentage scroll height calculation is removed in favor of the more performant CSS based flex mode, use scrollHeight="flex" instead.')}constructor(e,i,n){super(),this.tt=e,this.el=i,this.zone=n}ngAfterViewInit(){if(super.ngAfterViewInit(),ci(this.platformId)){if(this.frozen)this.scrollableAlignerViewChild&&this.scrollableAlignerViewChild.nativeElement&&(this.scrollableAlignerViewChild.nativeElement.style.height=Ex()+"px");else{(this.tt.frozenColumns||this.tt.frozenBodyTemplate||this.tt._frozenBodyTemplate)&&Bn(this.el.nativeElement,"p-treetable-unfrozen-view");let e=this.el.nativeElement.previousElementSibling;if(e&&(this.tt.virtualScroll?this.frozenSiblingBody=ti(e,".p-scroller-viewport"):this.frozenSiblingBody=ti(e,".p-treetable-scrollable-body")),this.scrollHeight){let i=Jh();this.scrollHeaderBoxViewChild.nativeElement.style.paddingRight=i+"px",this.scrollFooterBoxViewChild&&this.scrollFooterBoxViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.paddingRight=i+"px")}}this.bindEvents()}}bindEvents(){ci(this.platformId)&&this.zone.runOutsideAngular(()=>{this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.headerScrollListener=this.renderer.listen(this.scrollHeaderBoxViewChild?.nativeElement,"scroll",this.onHeaderScroll.bind(this))),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.footerScrollListener=this.renderer.listen(this.scrollFooterViewChild.nativeElement,"scroll",this.onFooterScroll.bind(this))),this.frozen||(this.tt.virtualScroll?this.bodyScrollListener=this.renderer.listen((this.scroller?.getElementRef()).nativeElement,"scroll",this.onBodyScroll.bind(this)):this.bodyScrollListener=this.renderer.listen(this.scrollBodyViewChild?.nativeElement,"scroll",this.onBodyScroll.bind(this)))})}unbindEvents(){ci(this.platformId)&&(this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&this.headerScrollListener&&(this.headerScrollListener(),this.headerScrollListener=null),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&this.footerScrollListener&&(this.footerScrollListener(),this.footerScrollListener=null),this.scrollBodyViewChild&&this.scrollBodyViewChild.nativeElement&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null),this.scroller&&this.scroller.getElementRef()&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null))}onHeaderScroll(){let e=this.scrollHeaderViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onFooterScroll(){let e=this.scrollFooterViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onBodyScroll(e){if(this.preventBodyScrollPropagation){this.preventBodyScrollPropagation=!1;return}this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.frozenSiblingBody&&(this.frozenSiblingBody.scrollTop=e.target.scrollTop)}scrollToVirtualIndex(e){this.scroller&&this.scroller.scrollToIndex(e)}scrollTo(e){this.scroller?this.scroller.scrollTo(e):this.scrollBodyViewChild?.nativeElement.scrollTo?this.scrollBodyViewChild.nativeElement.scrollTo(e):(this.scrollBodyViewChild.nativeElement.scrollLeft=e.left,this.scrollBodyViewChild.nativeElement.scrollTop=e.top)}ngOnDestroy(){super.ngOnDestroy(),this.unbindEvents(),this.frozenSiblingBody=null}static \u0275fac=function(i){return new(i||t)(At(Sc),At(Ja),At(fo))};static \u0275cmp=Je({type:t,selectors:[["","ttScrollableView",""]],viewQuery:function(i,n){if(i&1&&(dt(qZ,5),dt(jZ,5),dt(HZ,5),dt(GZ,5),dt(UZ,5),dt($Z,5),dt(KZ,5),dt(WZ,5),dt(QZ,5)),i&2){let a;le(a=ce())&&(n.scrollHeaderViewChild=a.first),le(a=ce())&&(n.scrollHeaderBoxViewChild=a.first),le(a=ce())&&(n.scrollBodyViewChild=a.first),le(a=ce())&&(n.scrollTableViewChild=a.first),le(a=ce())&&(n.scrollLoadingTableViewChild=a.first),le(a=ce())&&(n.scrollFooterViewChild=a.first),le(a=ce())&&(n.scrollFooterBoxViewChild=a.first),le(a=ce())&&(n.scrollableAlignerViewChild=a.first),le(a=ce())&&(n.scroller=a.first)}},inputs:{columns:[0,"ttScrollableView","columns"],frozen:[2,"frozen","frozen",we],scrollHeight:"scrollHeight"},standalone:!1,features:[bt([jr]),gt],attrs:ZZ,decls:13,vars:20,consts:[["scrollHeader",""],["scrollHeaderBox",""],["buildInItems",""],["scroller",""],["content",""],["loader",""],["scrollBody",""],["scrollTable",""],["scrollableAligner",""],["scrollFooter",""],["scrollFooterBox",""],[3,"ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup"],[3,"items","styleClass","style","scrollHeight","itemSize","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],[3,"class",4,"ngIf"],[3,"onLazyLoad","items","styleClass","scrollHeight","itemSize","lazy","options"],["role","table",3,"ngClass","ngStyle"],["role","rowgroup",3,"pTreeTableBody","pTreeTableBodyTemplate","serializedNodes","frozen"],[3,"background-color",4,"ngIf"],[3,"ngClass","ngStyle"]],template:function(i,n){i&1&&(L(0,"div",null,0)(2,"div",null,1)(4,"table",11),B(5,tX,1,0,"ng-container",12),L(6,"thead",13),B(7,iX,1,0,"ng-container",12),D()()()(),B(8,lX,5,11,"p-scroller",14)(9,uX,4,12,"ng-container",15)(10,hX,5,17,"ng-template",null,2,Be)(12,gX,8,18,"div",16)),i&2&&(K(n.cx("scrollableHeader")),S(2),K(n.cx("scrollableHeaderBox")),S(2),K(n.cn(n.cx("scrollableHeaderTable"),n.tt.tableStyleClass)),T("ngStyle",n.tt.tableStyle),S(),T("ngTemplateOutlet",n.frozen?n.tt.frozenColGroupTemplate||n.tt._frozenColGroupTemplate||n.tt.colGroupTemplate||n.tt._colGroupTemplate:n.tt.colGroupTemplate||n.tt._colGroupTemplate)("ngTemplateOutletContext",rt(16,fl,n.columns)),S(),K(n.cx("thead")),S(),T("ngTemplateOutlet",n.frozen?n.tt.frozenHeaderTemplate||n.tt._frozenHeaderTemplate||n.tt.headerTemplate||n.tt._headerTemplate:n.tt.headerTemplate||n.tt._headerTemplate)("ngTemplateOutletContext",rt(18,fl,n.columns)),S(),T("ngIf",n.tt.virtualScroll),S(),T("ngIf",!n.tt.virtualScroll),S(3),T("ngIf",n.tt.footerTemplate||n.tt._footerTemplate))},dependencies:()=>[Ca,$t,ei,bi,Jr,C4],encapsulation:2})}return t})();var S4=(()=>{class t extends Ot{tt;tableService;rowNode;ttSelectableRowDisabled;selected;subscription;_componentStyle=lt(jr);constructor(e,i){super(),this.tt=e,this.tableService=i,this.isEnabled()&&(this.subscription=this.tt.tableService.selectionSource$.subscribe(()=>{this.selected=this.tt.isSelected(this.rowNode.node)}))}ngOnInit(){super.ngOnInit(),this.isEnabled()&&(this.selected=this.tt.isSelected(this.rowNode.node))}onClick(e){this.isEnabled()&&this.tt.handleRowClick({originalEvent:e,rowNode:this.rowNode})}onKeyDown(e){switch(e.code){case"Enter":case"Space":this.onEnterKey(e);break;default:break}}onTouchEnd(e){this.isEnabled()&&this.tt.handleRowTouchEnd(e)}onEnterKey(e){this.tt.selectionMode==="checkbox"?this.tt.toggleNodeWithCheckbox({originalEvent:e,rowNode:this.rowNode}):this.onClick(e),e.preventDefault()}isEnabled(){return this.ttSelectableRowDisabled!==!0}ngOnDestroy(){super.ngOnDestroy(),this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)(At(Sc),At(Em))};static \u0275dir=B1({type:t,selectors:[["","ttSelectableRow",""]],hostVars:3,hostBindings:function(i,n){i&1&&Ie("click",function(p){return n.onClick(p)})("keydown",function(p){return n.onKeyDown(p)})("touchend",function(p){return n.onTouchEnd(p)}),i&2&&(ue("aria-checked",n.selected),K(n.cx("row")))},inputs:{rowNode:[0,"ttSelectableRow","rowNode"],ttSelectableRowDisabled:[2,"ttSelectableRowDisabled","ttSelectableRowDisabled",we]},standalone:!1,features:[bt([jr]),gt]})}return t})();var M4=(()=>{class t extends Ot{tt;tableService;cd;disabled;rowNode;checked;partialChecked;focused;subscription;_componentStyle=lt(jr);constructor(e,i,n){super(),this.tt=e,this.tableService=i,this.cd=n,this.subscription=this.tt.tableService.selectionSource$.subscribe(()=>{this.tt.selectionKeys?(this.checked=this.tt.isNodeSelected(this.rowNode.node),this.partialChecked=this.tt.isNodePartialSelected(this.rowNode.node)):(this.checked=this.tt.isSelected(this.rowNode.node),this.partialChecked=this.rowNode.node.partialSelected),this.cd.markForCheck()})}ngOnInit(){super.ngOnInit(),this.tt.selectionKeys?(this.checked=this.tt.isNodeSelected(this.rowNode.node),this.partialChecked=this.tt.isNodePartialSelected(this.rowNode.node)):(this.checked=this.tt.isSelected(this.rowNode.node),this.partialChecked=this.rowNode.node.partialSelected)}onClick(e){if(!this.disabled)if(this.tt.selectionKeys){let i=!this.checked;this.tt.toggleCheckbox({originalEvent:e,check:i,rowNode:this.rowNode})}else this.tt.toggleNodeWithCheckbox({originalEvent:e,rowNode:this.rowNode});Px()}onFocus(){this.focused=!0}onBlur(){this.focused=!1}ngOnDestroy(){super.ngOnDestroy(),this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)(At(Sc),At(Em),At(xs))};static \u0275cmp=Je({type:t,selectors:[["p-treeTableCheckbox"],["p-treetable-checkbox"],["p-tree-table-checkbox"]],inputs:{disabled:[2,"disabled","disabled",we],rowNode:[0,"value","rowNode"]},standalone:!1,features:[bt([jr]),gt],decls:2,vars:7,consts:[[3,"onChange","ngModel","binary","disabled","indeterminate","styleClass","tabIndex"],[4,"ngIf"],["pTemplate","icon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){i&1&&(L(0,"p-checkbox",0),Ie("onChange",function(p){return n.onClick(p)}),B(1,xX,2,0,"ng-container",1),D()),i&2&&(T("ngModel",n.checked)("binary",!0)("disabled",n.disabled)("indeterminate",n.partialChecked)("styleClass",n.cx("pcNodeCheckbox"))("tabIndex",-1),S(),T("ngIf",n.tt.checkboxIconTemplate||n.tt._checkboxIconTemplate))},dependencies:()=>[$t,ei,ui,Rr,Yn,Jn],encapsulation:2,changeDetection:0})}return t})();var k4=(()=>{class t extends Ot{tt;el;zone;get level(){return this.rowNode?.level+1}get styleClass(){return this.rowNode?.node.styleClass||""}get expanded(){return this.rowNode?.node.expanded}rowNode;_componentStyle=lt(jr);constructor(e,i,n){super(),this.tt=e,this.el=i,this.zone=n}onKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"Tab":this.onTabKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;default:break}}onArrowDownKey(e){let i=this.el?.nativeElement?.nextElementSibling;i&&this.focusRowChange(e.currentTarget,i),e.preventDefault()}onArrowUpKey(e){let i=this.el?.nativeElement?.previousElementSibling;i&&this.focusRowChange(e.currentTarget,i),e.preventDefault()}onArrowRightKey(e){let i=e.currentTarget;!(ti(i,"button").style.visibility==="hidden")&&!this.expanded&&this.rowNode.node.children&&(this.expand(e),i.tabIndex=-1),e.preventDefault()}onArrowLeftKey(e){let i=this.tt.el?.nativeElement,n=da(i,'[aria-expanded="true"]'),a=n[n.length-1];this.expanded&&this.collapse(e),a&&(this.tt.toggleRowIndex=tm(a)),this.restoreFocus(),e.preventDefault()}onHomeKey(e){let i=ti(this.tt.el?.nativeElement,`tr[aria-level="${this.level}"]`);i&&Wt(i),e.preventDefault()}onEndKey(e){let i=da(this.tt.el?.nativeElement,`tr[aria-level="${this.level}"]`),n=i[i.length-1];Wt(n),e.preventDefault()}onTabKey(e){let i=this.el.nativeElement?[...da(this.el.nativeElement.parentNode,"tr")]:void 0;if(i&&Gt(i)){let n=i.some(a=>go(a,"data-p-highlight")||a.getAttribute("aria-checked")==="true");if(i.forEach(a=>{a.tabIndex=-1}),n){let a=i.filter(p=>go(p,"data-p-highlight")||p.getAttribute("aria-checked")==="true");a[0].tabIndex=0;return}i[0].tabIndex=0}}expand(e){this.tt.toggleRowIndex=tm(this.el.nativeElement),this.rowNode.node.expanded=!0,this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),this.rowNode.node.children?this.restoreFocus(this.tt.toggleRowIndex+1):this.restoreFocus(),this.tt.onNodeExpand.emit({originalEvent:e,node:this.rowNode.node})}collapse(e){this.rowNode.node.expanded=!1,this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),this.tt.onNodeCollapse.emit({originalEvent:e,node:this.rowNode.node})}focusRowChange(e,i,n){e.tabIndex="-1",i.tabIndex="0",Wt(i)}restoreFocus(e){this.zone.runOutsideAngular(()=>{setTimeout(()=>{let i=this.tt.el?.nativeElement,n=ti(i,".p-treetable-tbody").children[e||this.tt.toggleRowIndex],a=[...da(i,"tr")];a&&a.forEach(p=>{n.isSameNode(p)||(p.tabIndex=-1)}),n&&(n.tabIndex=0,n.focus())},25)})}static \u0275fac=function(i){return new(i||t)(At(Sc),At(Ja),At(fo))};static \u0275dir=B1({type:t,selectors:[["","ttRow",""]],hostVars:7,hostBindings:function(i,n){i&1&&Ie("keydown",function(p){return n.onKeyDown(p)}),i&2&&(eo("tabIndex","0")("role",n.row),ue("aria-expanded",n.expanded)("aria-level",n.level)("data-pc-section",n.row),K("p-element "+n.styleClass))},inputs:{rowNode:[0,"ttRow","rowNode"]},standalone:!1,features:[bt([jr]),gt]})}return t})(),E4=(()=>{class t extends Ot{tt;rowNode;_componentStyle=lt(jr);constructor(e){super(),this.tt=e}get toggleButtonAriaLabel(){return this.config.translation?this.rowNode.expanded?this.config.translation.aria.collapseRow:this.config.translation.aria.expandRow:void 0}onClick(e){this.rowNode.node.expanded=!this.rowNode.node.expanded,this.rowNode.node.expanded?this.tt.onNodeExpand.emit({originalEvent:e,node:this.rowNode.node}):this.tt.onNodeCollapse.emit({originalEvent:e,node:this.rowNode.node}),this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),e.preventDefault()}static \u0275fac=function(i){return new(i||t)(At(Sc))};static \u0275cmp=Je({type:t,selectors:[["p-treeTableToggler"],["p-treetabletoggler"],["p-treetable-toggler"]],inputs:{rowNode:"rowNode"},standalone:!1,features:[bt([jr]),gt],decls:3,vars:14,consts:[["type","button","tabindex","-1","pRipple","",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","chevron-down",4,"ngIf"],["data-p-icon","chevron-right",4,"ngIf"],["data-p-icon","chevron-down"],["data-p-icon","chevron-right"]],template:function(i,n){i&1&&(L(0,"button",0),Ie("click",function(p){return n.onClick(p)}),B(1,TX,3,2,"ng-container",1)(2,SX,1,0,null,2),D()),i&2&&(K(n.cx("toggler")),Zn("visibility",n.rowNode.node.leaf===!1||n.rowNode.node.children&&n.rowNode.node.children.length?"visible":"hidden")("margin-inline-start",n.rowNode.level*16+"px"),ue("data-pc-section","rowtoggler")("data-pc-group-section","rowactionbutton")("aria-label",n.toggleButtonAriaLabel),S(),T("ngIf",!n.tt.togglerIconTemplate&&!n.tt._togglerIconTemplate),S(),T("ngTemplateOutlet",n.tt.togglerIconTemplate||n.tt._togglerIconTemplate)("ngTemplateOutletContext",rt(12,fl,n.rowNode.node.expanded)))},dependencies:()=>[$t,ei,pn,Ma,ao],encapsulation:2})}return t})(),P4=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[mt,Mf,Jr,Ss,G1,U1,$x,Wx,Kx,Go,ip,Ma,ao,Rr,Xe,ln,Xe]})}return t})();var DX=()=>({"min-width":"50rem"});function LX(t,s){if(t&1&&(L(0,"th"),ne(1),D()),t&2){let e=s.$implicit;S(),ni(" ",e.header," ")}}function AX(t,s){if(t&1&&(L(0,"tr"),B(1,LX,2,1,"th",7),D()),t&2){let e=s.$implicit;S(),T("ngForOf",e)}}function FX(t,s){if(t&1&&oe(0,"p-treeTableToggler",12),t&2){let e=M(2).$implicit;T("rowNode",e)}}function OX(t,s){if(t&1&&oe(0,"p-treeTableCheckbox",13),t&2){let e=M(2).$implicit;T("value",e)}}function VX(t,s){if(t&1&&(L(0,"td")(1,"span",9),B(2,FX,1,1,"p-treeTableToggler",10)(3,OX,1,1,"p-treeTableCheckbox",11),ne(4),D()()),t&2){let e=s.$implicit,i=s.index,n=M().rowData;S(2),T("ngIf",i===0),S(),T("ngIf",i===0),S(),ni(" ",n[e.field]," ")}}function zX(t,s){if(t&1&&(L(0,"tr",8),B(1,VX,5,3,"td",7),D()),t&2){let e=s.$implicit,i=s.columns;T("ttRow",e)("ttSelectableRow",e),S(),T("ngForOf",i)}}var a_=class t{treeValue=[];treeTableValue=[];selectedTreeValue=[];selectedTreeTableValue={};cols=[];nodeService=lt(Ic);ngOnInit(){this.nodeService.getFiles().then(s=>this.treeValue=s),this.nodeService.getTreeTableNodes().then(s=>this.treeTableValue=s),this.cols=[{field:"name",header:"Name"},{field:"size",header:"Size"},{field:"type",header:"Type"}],this.selectedTreeTableValue={"0-0":{partialChecked:!1,checked:!0}}}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Je({type:t,selectors:[["app-tree-demo"]],features:[bt([Ic])],decls:12,vars:8,consts:[["header",""],["body",""],[1,"card"],[1,"font-semibold","text-xl"],["selectionMode","checkbox",3,"selectionChange","value","selection"],[1,"font-semibold","text-xl","mb-4"],["selectionMode","checkbox","dataKey","key",3,"selectionKeysChange","value","columns","selectionKeys","scrollable","tableStyle"],[4,"ngFor","ngForOf"],[3,"ttRow","ttSelectableRow"],[1,"flex","items-center","gap-2"],[3,"rowNode",4,"ngIf"],[3,"value",4,"ngIf"],[3,"rowNode"],[3,"value"]],template:function(e,i){if(e&1){let n=Re();L(0,"div",2)(1,"div",3),ne(2,"Tree"),D(),L(3,"p-tree",4),si("selectionChange",function(p){return Z(n),ri(i.selectedTreeValue,p)||(i.selectedTreeValue=p),X(p)}),D()(),L(4,"div",2)(5,"div",5),ne(6,"TreeTable"),D(),L(7,"p-treetable",6),si("selectionKeysChange",function(p){return Z(n),ri(i.selectedTreeTableValue,p)||(i.selectedTreeTableValue=p),X(p)}),B(8,AX,2,1,"ng-template",null,0,Be)(10,zX,2,3,"ng-template",null,1,Be),D()()}e&2&&(S(3),T("value",i.treeValue),oi("selection",i.selectedTreeValue),S(4),T("value",i.treeTableValue)("columns",i.cols),oi("selectionKeys",i.selectedTreeTableValue),T("scrollable",!0)("tableStyle",Kt(7,DX)))},dependencies:[mt,ji,$t,ln,KI,Ep,P4,Sc,E4,k4,S4,M4],encapsulation:2})};var D4=`
    .p-breadcrumb {
        background: dt('breadcrumb.background');
        padding: dt('breadcrumb.padding');
        overflow-x: auto;
    }

    .p-breadcrumb-list {
        margin: 0;
        padding: 0;
        list-style-type: none;
        display: flex;
        align-items: center;
        flex-wrap: nowrap;
        gap: dt('breadcrumb.gap');
    }

    .p-breadcrumb-separator {
        display: flex;
        align-items: center;
        color: dt('breadcrumb.separator.color');
    }

    .p-breadcrumb-separator-icon:dir(rtl) {
        transform: rotate(180deg);
    }

    .p-breadcrumb::-webkit-scrollbar {
        display: none;
    }

    .p-breadcrumb-item-link {
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: dt('breadcrumb.item.gap');
        transition:
            background dt('breadcrumb.transition.duration'),
            color dt('breadcrumb.transition.duration'),
            outline-color dt('breadcrumb.transition.duration'),
            box-shadow dt('breadcrumb.transition.duration');
        border-radius: dt('breadcrumb.item.border.radius');
        outline-color: transparent;
        color: dt('breadcrumb.item.color');
    }

    .p-breadcrumb-item-link:focus-visible {
        box-shadow: dt('breadcrumb.item.focus.ring.shadow');
        outline: dt('breadcrumb.item.focus.ring.width') dt('breadcrumb.item.focus.ring.style') dt('breadcrumb.item.focus.ring.color');
        outline-offset: dt('breadcrumb.item.focus.ring.offset');
    }

    .p-breadcrumb-item-link:hover .p-breadcrumb-item-label {
        color: dt('breadcrumb.item.hover.color');
    }

    .p-breadcrumb-item-label {
        transition: inherit;
    }

    .p-breadcrumb-item-icon {
        color: dt('breadcrumb.item.icon.color');
        transition: inherit;
    }

    .p-breadcrumb-item-link:hover .p-breadcrumb-item-icon {
        color: dt('breadcrumb.item.icon.hover.color');
    }
`;var BX=["item"],RX=["separator"],A4=t=>({$implicit:t}),F4=()=>({exact:!1}),NX=t=>({menuitem:t});function qX(t,s){}function jX(t,s){t&1&&B(0,qX,0,0,"ng-template")}function HX(t,s){if(t&1&&B(0,jX,1,0,null,8),t&2){let e=M(2);T("ngTemplateOutlet",e.itemTemplate||e._itemTemplate)("ngTemplateOutletContext",rt(2,A4,e.home))}}function GX(t,s){if(t&1&&oe(0,"span",15),t&2){let e=M(4);K(e.cn(e.cx("itemIcon"),e.home.icon)),T("ngStyle",e.home==null?null:e.home.style)}}function UX(t,s){if(t&1&&(it(),oe(0,"svg",16)),t&2){let e=M(4);K(e.cx("itemIcon"))}}function $X(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(5);K(e.cx("itemLabel")),S(),Dt(e.home.label)}}function KX(t,s){if(t&1&&oe(0,"span",18),t&2){let e=M(5);K(e.cx("itemLabel")),T("innerHTML",e.home.label,ba)}}function WX(t,s){if(t&1&&(We(0),B(1,$X,2,3,"span",17)(2,KX,1,3,"ng-template",null,0,Be),Qe()),t&2){let e=Ut(3),i=M(4);S(),T("ngIf",i.home.escape!==!1)("ngIfElse",e)}}function QX(t,s){if(t&1){let e=Re();L(0,"a",11),Ie("click",function(n){Z(e);let a=M(3);return X(a.onClick(n,a.home))}),B(1,GX,1,3,"span",12)(2,UX,1,2,"svg",13)(3,WX,4,2,"ng-container",14),D()}if(t&2){let e=M(3);K(e.cx("itemLink")),T("href",e.home.url?e.home.url:null,an)("target",e.home.target),ue("aria-label",e.homeAriaLabel)("title",e.home.title)("tabindex",e.home.disabled?null:"0"),S(),T("ngIf",e.home.icon),S(),T("ngIf",!e.home.icon),S(),T("ngIf",e.home.label)}}function ZX(t,s){if(t&1&&oe(0,"span"),t&2){let e=M(4);Ft(e.home.iconStyle),K(e.cn(e.cx("itemIcon"),e.home.icon))}}function XX(t,s){if(t&1&&(it(),oe(0,"svg",16)),t&2){let e=M(4);K(e.cx("itemIcon"))}}function YX(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(5);K(e.cx("itemLabel")),S(),Dt(e.home.label)}}function JX(t,s){if(t&1&&oe(0,"span",18),t&2){let e=M(5);K(e.cx("itemLabel")),T("innerHTML",e.home.label,ba)}}function eY(t,s){if(t&1&&(We(0),B(1,YX,2,3,"span",17)(2,JX,1,3,"ng-template",null,1,Be),Qe()),t&2){let e=Ut(3),i=M(4);S(),T("ngIf",i.home.escape!==!1)("ngIfElse",e)}}function tY(t,s){if(t&1){let e=Re();L(0,"a",19),Ie("click",function(n){Z(e);let a=M(3);return X(a.onClick(n,a.home))}),B(1,ZX,1,4,"span",20)(2,XX,1,2,"svg",13)(3,eY,4,2,"ng-container",14),D()}if(t&2){let e=M(3);K(e.cx("itemLink")),T("routerLink",e.home.routerLink)("queryParams",e.home.queryParams)("routerLinkActiveOptions",e.home.routerLinkActiveOptions||Kt(18,F4))("target",e.home.target)("fragment",e.home.fragment)("queryParamsHandling",e.home.queryParamsHandling)("preserveFragment",e.home.preserveFragment)("skipLocationChange",e.home.skipLocationChange)("replaceUrl",e.home.replaceUrl)("state",e.home.state),ue("aria-label",e.homeAriaLabel)("title",e.home.title)("tabindex",e.home.disabled?null:"0"),S(),T("ngIf",e.home.icon),S(),T("ngIf",!e.home.icon),S(),T("ngIf",e.home.label)}}function iY(t,s){if(t&1&&B(0,QX,4,10,"a",9)(1,tY,4,19,"a",10),t&2){let e=M(2);T("ngIf",!e.home.routerLink),S(),T("ngIf",e.home.routerLink)}}function nY(t,s){if(t&1&&(L(0,"li",7),Gi(1,HX,1,4)(2,iY,2,2),D()),t&2){let e=M();K(e.cn(e.cx("homeItem"),e.home.styleClass)),T("ngStyle",e.home.style)("tooltipOptions",e.home.tooltipOptions),ue("id",e.home.id)("data-pc-section","home"),S(),Ui(e.itemTemplate||e._itemTemplate?1:2)}}function aY(t,s){t&1&&(it(),oe(0,"svg",23))}function oY(t,s){}function rY(t,s){t&1&&B(0,oY,0,0,"ng-template")}function sY(t,s){if(t&1&&(L(0,"li"),B(1,aY,1,0,"svg",21)(2,rY,1,0,null,22),D()),t&2){let e=M();K(e.cx("separator")),ue("data-pc-section","separator"),S(),T("ngIf",!e.separatorTemplate&&!e._separatorTemplate),S(),T("ngTemplateOutlet",e.separatorTemplate||e._separatorTemplate)}}function lY(t,s){}function cY(t,s){t&1&&B(0,lY,0,0,"ng-template")}function uY(t,s){if(t&1&&B(0,cY,1,0,null,8),t&2){let e=M(2).$implicit,i=M();T("ngTemplateOutlet",i.itemTemplate||i._itemTemplate)("ngTemplateOutletContext",rt(2,A4,e))}}function dY(t,s){if(t&1&&oe(0,"span"),t&2){let e=M(5).$implicit,i=M();Ft(e==null?null:e.iconStyle),K(i.cn(i.cx("itemIcon"),e==null?null:e.icon))}}function pY(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(6).$implicit,i=M();K(i.cx("itemLabel")),S(),Dt(e==null?null:e.label)}}function hY(t,s){if(t&1&&oe(0,"span",18),t&2){let e=M(6).$implicit,i=M();K(i.cx("itemLabel")),T("innerHTML",e==null?null:e.label,ba)}}function mY(t,s){if(t&1&&(We(0),B(1,pY,2,3,"span",17)(2,hY,1,3,"ng-template",null,2,Be),Qe()),t&2){let e=Ut(3),i=M(5).$implicit;S(),T("ngIf",(i==null?null:i.escape)!==!1)("ngIfElse",e)}}function fY(t,s){if(t&1&&(We(0),B(1,dY,1,4,"span",20)(2,mY,4,2,"ng-container",14),Qe()),t&2){let e=M(4).$implicit;S(),T("ngIf",e==null?null:e.icon),S(),T("ngIf",e==null?null:e.label)}}function gY(t,s){if(t&1){let e=Re();L(0,"a",27),Ie("click",function(n){Z(e);let a=M(3).$implicit,p=M();return X(p.onClick(n,a))}),B(1,fY,3,2,"ng-container",14),D()}if(t&2){let e=M(3).$implicit,i=M();K(i.cx("itemLink")),T("target",e==null?null:e.target),ue("href",e!=null&&e.url?e==null?null:e.url:null,an)("title",e==null?null:e.title)("tabindex",e!=null&&e.disabled?null:"0"),S(),T("ngIf",!i.itemTemplate&&!i._itemTemplate)}}function _Y(t,s){if(t&1&&oe(0,"span"),t&2){let e=M(4).$implicit,i=M();Ft(e==null?null:e.iconStyle),K(i.cn(i.cx("itemIcon"),e==null?null:e.icon))}}function bY(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(5).$implicit,i=M();K(i.cx("itemLabel")),S(),Dt(e==null?null:e.label)}}function yY(t,s){if(t&1&&oe(0,"span",18),t&2){let e=M(5).$implicit,i=M();K(i.cx("itemLabel")),T("innerHTML",e==null?null:e.label,ba)}}function vY(t,s){if(t&1&&(We(0),B(1,bY,2,3,"span",17)(2,yY,1,3,"ng-template",null,3,Be),Qe()),t&2){let e=Ut(3),i=M(4).$implicit;S(),T("ngIf",(i==null?null:i.escape)!==!1)("ngIfElse",e)}}function xY(t,s){if(t&1){let e=Re();L(0,"a",19),Ie("click",function(n){Z(e);let a=M(3).$implicit,p=M();return X(p.onClick(n,a))}),B(1,_Y,1,4,"span",20)(2,vY,4,2,"ng-container",14),D()}if(t&2){let e=M(3).$implicit,i=M();K(i.cx("itemLink")),T("routerLink",e==null?null:e.routerLink)("queryParams",e==null?null:e.queryParams)("routerLinkActiveOptions",(e==null?null:e.routerLinkActiveOptions)||Kt(16,F4))("target",e==null?null:e.target)("fragment",e==null?null:e.fragment)("queryParamsHandling",e==null?null:e.queryParamsHandling)("preserveFragment",e==null?null:e.preserveFragment)("skipLocationChange",e==null?null:e.skipLocationChange)("replaceUrl",e==null?null:e.replaceUrl)("state",e==null?null:e.state),ue("title",e==null?null:e.title)("tabindex",e!=null&&e.disabled?null:"0"),S(),T("ngIf",e==null?null:e.icon),S(),T("ngIf",e==null?null:e.label)}}function wY(t,s){if(t&1&&B(0,gY,2,7,"a",26)(1,xY,3,17,"a",10),t&2){let e=M(2).$implicit;T("ngIf",!(e!=null&&e.routerLink)),S(),T("ngIf",e==null?null:e.routerLink)}}function IY(t,s){if(t&1&&(L(0,"li",25),Gi(1,uY,1,4)(2,wY,2,2),D()),t&2){let e=M().$implicit,i=M();Ft(e.style),K(i.cn(i.cx("item",rt(8,NX,e)),e.styleClass)),T("tooltipOptions",e.tooltipOptions),ue("id",e.id)("data-pc-section","menuitem"),S(),Ui(i.itemTemplate||i._itemTemplate?1:2)}}function TY(t,s){t&1&&(it(),oe(0,"svg",23))}function CY(t,s){}function SY(t,s){t&1&&B(0,CY,0,0,"ng-template")}function MY(t,s){if(t&1&&(L(0,"li"),B(1,TY,1,0,"svg",21)(2,SY,1,0,null,22),D()),t&2){let e=M(2);K(e.cx("separator")),ue("data-pc-section","separator"),S(),T("ngIf",!e.separatorTemplate&&!e._separatorTemplate),S(),T("ngTemplateOutlet",e.separatorTemplate||e._separatorTemplate)}}function kY(t,s){if(t&1&&B(0,IY,3,10,"li",24)(1,MY,3,5,"li",5),t&2){let e=s.$implicit,i=s.last;T("ngIf",e.visible!==!1),S(),T("ngIf",!i&&e.visible!==!1)}}var EY={root:()=>["p-breadcrumb p-component"],list:"p-breadcrumb-list",homeItem:"p-breadcrumb-home-item",separator:"p-breadcrumb-separator",item:({menuitem:t})=>["p-breadcrumb-item",{"p-disabled":t.disabled}],itemLink:"p-breadcrumb-item-link",itemIcon:"p-breadcrumb-item-icon",itemLabel:"p-breadcrumb-item-label"},L4=(()=>{class t extends Vt{name="breadcrumb";theme=D4;classes=EY;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var zy=(()=>{class t extends Ot{router;model;style;styleClass;home;homeAriaLabel;onItemClick=new Fe;_componentStyle=lt(L4);constructor(e){super(),this.router=e}onClick(e,i){if(i.disabled){e.preventDefault();return}!i.url&&!i.routerLink&&e.preventDefault(),i.command&&i.command({originalEvent:e,item:i}),this.onItemClick.emit({originalEvent:e,item:i})}itemTemplate;separatorTemplate;templates;_separatorTemplate;_itemTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"separator":this._separatorTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}static \u0275fac=function(i){return new(i||t)(At(Cx))};static \u0275cmp=Je({type:t,selectors:[["p-breadcrumb"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,BX,5),ve(a,RX,5),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.itemTemplate=p.first),le(p=ce())&&(n.separatorTemplate=p.first),le(p=ce())&&(n.templates=p)}},inputs:{model:"model",style:"style",styleClass:"styleClass",home:"home",homeAriaLabel:"homeAriaLabel"},outputs:{onItemClick:"onItemClick"},features:[bt([L4]),gt],decls:5,vars:12,consts:[["htmlHomeLabel",""],["htmlHomeRouteLabel",""],["htmlLabel",""],["htmlRouteLabel",""],["pTooltip","",3,"class","ngStyle","tooltipOptions",4,"ngIf"],[3,"class",4,"ngIf"],["ngFor","",3,"ngForOf"],["pTooltip","",3,"ngStyle","tooltipOptions"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"href","class","target","click",4,"ngIf"],[3,"routerLink","queryParams","routerLinkActiveOptions","class","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],[3,"click","href","target"],[3,"class","ngStyle",4,"ngIf"],["data-p-icon","home",3,"class",4,"ngIf"],[4,"ngIf"],[3,"ngStyle"],["data-p-icon","home"],[3,"class",4,"ngIf","ngIfElse"],[3,"innerHTML"],[3,"click","routerLink","queryParams","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[3,"class","style",4,"ngIf"],["data-p-icon","chevron-right",4,"ngIf"],[4,"ngTemplateOutlet"],["data-p-icon","chevron-right"],["pTooltip","",3,"class","style","tooltipOptions",4,"ngIf"],["pTooltip","",3,"tooltipOptions"],[3,"class","target","click",4,"ngIf"],[3,"click","target"]],template:function(i,n){i&1&&(L(0,"nav")(1,"ol"),B(2,nY,3,7,"li",4)(3,sY,3,5,"li",5)(4,kY,2,2,"ng-template",6),D()()),i&2&&(Ft(n.style),K(n.cn(n.cx("root"),n.styleClass)),ue("data-pc-name","breadcrumb")("data-pc-section","root"),S(),K(n.cx("list")),ue("data-pc-section","menu"),S(),T("ngIf",n.home&&n.home.visible!==!1),S(),T("ngIf",n.model&&n.home),S(),T("ngForOf",n.model))},dependencies:[mt,ji,$t,ei,bi,io,Tr,ya,Ga,ao,Nw,Xe],encapsulation:2,changeDetection:0})}return t})(),O4=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[zy,Xe,Xe]})}return t})();var V4=`
    .p-contextmenu {
        background: dt('contextmenu.background');
        color: dt('contextmenu.color');
        border: 1px solid dt('contextmenu.border.color');
        border-radius: dt('contextmenu.border.radius');
        box-shadow: dt('contextmenu.shadow');
        min-width: 12.5rem;
    }

    .p-contextmenu-root-list,
    .p-contextmenu-submenu {
        margin: 0;
        padding: dt('contextmenu.list.padding');
        list-style: none;
        outline: 0 none;
        display: flex;
        flex-direction: column;
        gap: dt('contextmenu.list.gap');
    }

    .p-contextmenu-submenu {
        position: absolute;
        display: flex;
        flex-direction: column;
        min-width: 100%;
        z-index: 1;
        background: dt('contextmenu.background');
        color: dt('contextmenu.color');
        border: 1px solid dt('contextmenu.border.color');
        border-radius: dt('contextmenu.border.radius');
        box-shadow: dt('contextmenu.shadow');
    }

    .p-contextmenu-item {
        position: relative;
    }

    .p-contextmenu-item-content {
        transition:
            background dt('contextmenu.transition.duration'),
            color dt('contextmenu.transition.duration');
        border-radius: dt('contextmenu.item.border.radius');
        color: dt('contextmenu.item.color');
    }

    .p-contextmenu-item-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
        color: inherit;
        padding: dt('contextmenu.item.padding');
        gap: dt('contextmenu.item.gap');
        user-select: none;
    }

    .p-contextmenu-item-label {
        line-height: 1;
    }

    .p-contextmenu-item-icon {
        color: dt('contextmenu.item.icon.color');
    }

    .p-contextmenu-submenu-icon {
        color: dt('contextmenu.submenu.icon.color');
        margin-left: auto;
        font-size: dt('contextmenu.submenu.icon.size');
        width: dt('contextmenu.submenu.icon.size');
        height: dt('contextmenu.submenu.icon.size');
    }

    .p-contextmenu-submenu-icon:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
    }

    .p-contextmenu-item.p-focus > .p-contextmenu-item-content {
        color: dt('contextmenu.item.focus.color');
        background: dt('contextmenu.item.focus.background');
    }

    .p-contextmenu-item.p-focus > .p-contextmenu-item-content .p-contextmenu-item-icon {
        color: dt('contextmenu.item.icon.focus.color');
    }

    .p-contextmenu-item.p-focus > .p-contextmenu-item-content .p-contextmenu-submenu-icon {
        color: dt('contextmenu.submenu.icon.focus.color');
    }

    .p-contextmenu-item:not(.p-disabled) > .p-contextmenu-item-content:hover {
        color: dt('contextmenu.item.focus.color');
        background: dt('contextmenu.item.focus.background');
    }

    .p-contextmenu-item:not(.p-disabled) > .p-contextmenu-item-content:hover .p-contextmenu-item-icon {
        color: dt('contextmenu.item.icon.focus.color');
    }

    .p-contextmenu-item:not(.p-disabled) > .p-contextmenu-item-content:hover .p-contextmenu-submenu-icon {
        color: dt('contextmenu.submenu.icon.focus.color');
    }

    .p-contextmenu-item-active > .p-contextmenu-item-content {
        color: dt('contextmenu.item.active.color');
        background: dt('contextmenu.item.active.background');
    }

    .p-contextmenu-item-active > .p-contextmenu-item-content .p-contextmenu-item-icon {
        color: dt('contextmenu.item.icon.active.color');
    }

    .p-contextmenu-item-active > .p-contextmenu-item-content .p-contextmenu-submenu-icon {
        color: dt('contextmenu.submenu.icon.active.color');
    }

    .p-contextmenu-separator {
        border-block-start: 1px solid dt('contextmenu.separator.border.color');
    }

    .p-contextmenu-enter-from,
    .p-contextmenu-leave-active {
        opacity: 0;
    }

    .p-contextmenu-enter-active {
        transition: opacity 250ms;
    }

    .p-contextmenu-mobile .p-contextmenu-submenu {
        position: static;
        box-shadow: none;
        border: 0 none;
        padding-inline-start: dt('tieredmenu.submenu.mobile.indent');
        padding-inline-end: 0;
    }

    .p-contextmenu-mobile .p-contextmenu-submenu-icon {
        transition: transform 0.2s;
        transform: rotate(90deg);
    }

    .p-contextmenu-mobile .p-contextmenu-item-active > .p-contextmenu-item-content .p-contextmenu-submenu-icon {
        transform: rotate(-90deg);
    }
`;var DY=["sublist"],LY=(t,s)=>({instance:t,processedItem:s}),z4=()=>({class:"p-contextmenu-submenu-icon"}),AY=()=>({exact:!1}),FY=t=>({$implicit:t});function OY(t,s){if(t&1&&oe(0,"li",8),t&2){let e=M().$implicit,i=M(2);Ft(i.getItemProp(e,"style")),K(i.cn(i.cx("separator"),i.getItemProp(e,"styleClass"))),ue("id",i.getItemId(e))("data-pc-section","separator")}}function VY(t,s){if(t&1&&oe(0,"span",19),t&2){let e=M(4).$implicit,i=M(2);K(i.cn(i.cx("itemIcon"),i.getItemProp(e,"icon"))),T("ngStyle",i.getItemProp(e,"iconStyle")),ue("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function zY(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(4).$implicit,i=M(2);K(i.cx("itemLabel")),ue("data-pc-section","label"),S(),ni(" ",i.getItemLabel(e)," ")}}function BY(t,s){if(t&1&&oe(0,"span",20),t&2){let e=M(4).$implicit,i=M(2);K(i.cx("itemLabel")),T("innerHTML",i.getItemLabel(e),ba),ue("data-pc-section","label")}}function RY(t,s){if(t&1&&oe(0,"p-badge",21),t&2){let e=M(4).$implicit,i=M(2);K(i.getItemProp(e,"badgeStyleClass")),T("value",i.getItemProp(e,"badge"))}}function NY(t,s){if(t&1&&(it(),oe(0,"svg",24)),t&2){let e=M(7);K(e.cx("submenuIcon")),ue("data-pc-section","submenuicon")("aria-hidden",!0)}}function qY(t,s){}function jY(t,s){t&1&&B(0,qY,0,0,"ng-template",25),t&2&&T("data-pc-section","submenuicon")("aria-hidden",!0)}function HY(t,s){if(t&1&&(We(0),B(1,NY,1,4,"svg",22)(2,jY,1,2,null,23),Qe()),t&2){let e=M(6);S(),T("ngIf",!e.contextMenu.submenuIconTemplate&&!e.contextMenu._submenuIconTemplate),S(),T("ngTemplateOutlet",e.contextMenu.submenuIconTemplate||e.contextMenu._submenuIconTemplate)("ngTemplateOutletContext",Kt(3,z4))}}function GY(t,s){if(t&1&&(L(0,"a",15),B(1,VY,1,6,"span",16)(2,zY,2,4,"span",17)(3,BY,1,4,"ng-template",null,2,Be)(5,RY,1,3,"p-badge",18)(6,HY,3,4,"ng-container",11),D()),t&2){let e=Ut(4),i=M(3).$implicit,n=M(2);K(n.cx("itemLink")),T("target",n.getItemProp(i,"target")),ue("href",n.getItemProp(i,"url"),an)("data-automationid",n.getItemProp(i,"automationId"))("data-pc-section","action")("tabindex",-1),S(),T("ngIf",n.getItemProp(i,"icon")),S(),T("ngIf",n.getItemProp(i,"escape"))("ngIfElse",e),S(3),T("ngIf",n.getItemProp(i,"badge")),S(),T("ngIf",n.isItemGroup(i))}}function UY(t,s){if(t&1&&oe(0,"span",19),t&2){let e=M(4).$implicit,i=M(2);K(i.cn(i.cx("itemIcon"),i.getItemProp(e,"icon"))),T("ngStyle",i.getItemProp(e,"iconStyle")),ue("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function $Y(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(4).$implicit,i=M(2);K(i.cx("itemLabel")),ue("data-pc-section","label"),S(),ni(" ",i.getItemLabel(e)," ")}}function KY(t,s){if(t&1&&oe(0,"span",20),t&2){let e=M(4).$implicit,i=M(2);K(i.cx("itemLabel")),T("innerHTML",i.getItemLabel(e),ba),ue("data-pc-section","label")}}function WY(t,s){if(t&1&&oe(0,"p-badge",21),t&2){let e=M(4).$implicit,i=M(2);K(i.getItemProp(e,"badgeStyleClass")),T("value",i.getItemProp(e,"badge"))}}function QY(t,s){if(t&1&&(it(),oe(0,"svg",24)),t&2){let e=M(7);K(e.cx("submenuIcon")),ue("data-pc-section","submenuicon")("aria-hidden",!0)}}function ZY(t,s){}function XY(t,s){t&1&&B(0,ZY,0,0,"ng-template",25),t&2&&T("data-pc-section","submenuicon")("aria-hidden",!0)}function YY(t,s){if(t&1&&(We(0),B(1,QY,1,4,"svg",22)(2,XY,1,2,null,23),Qe()),t&2){let e=M(6);S(),T("ngIf",!e.contextMenu.submenuIconTemplate&&!e.contextMenu._submenuIconTemplate),S(),T("ngTemplateOutlet",!e.contextMenu.submenuIconTemplate||!e.contextMenu._submenuIconTemplate)("ngTemplateOutletContext",Kt(3,z4))}}function JY(t,s){if(t&1&&(L(0,"a",26),B(1,UY,1,6,"span",16)(2,$Y,2,4,"span",17)(3,KY,1,4,"ng-template",null,2,Be)(5,WY,1,3,"p-badge",18)(6,YY,3,4,"ng-container",11),D()),t&2){let e=Ut(4),i=M(3).$implicit,n=M(2);K(n.cx("itemLink")),T("routerLink",n.getItemProp(i,"routerLink"))("queryParams",n.getItemProp(i,"queryParams"))("routerLinkActiveOptions",n.getItemProp(i,"routerLinActiveOptions")||Kt(20,AY))("target",n.getItemProp(i,"target"))("fragment",n.getItemProp(i,"fragment"))("queryParamsHandling",n.getItemProp(i,"queryParamsHandling"))("preserveFragment",n.getItemProp(i,"preserveFragment"))("skipLocationChange",n.getItemProp(i,"skipLocationChange"))("replaceUrl",n.getItemProp(i,"replaceUrl"))("state",n.getItemProp(i,"state")),ue("data-automationid",n.getItemProp(i,"automationId"))("tabindex",-1)("data-pc-section","action"),S(),T("ngIf",n.getItemProp(i,"icon")),S(),T("ngIf",n.getItemProp(i,"escape"))("ngIfElse",e),S(3),T("ngIf",n.getItemProp(i,"badge")),S(),T("ngIf",n.isItemGroup(i))}}function eJ(t,s){if(t&1&&(We(0),B(1,GY,7,12,"a",13)(2,JY,7,21,"a",14),Qe()),t&2){let e=M(2).$implicit,i=M(2);S(),T("ngIf",!i.getItemProp(e,"routerLink")),S(),T("ngIf",i.getItemProp(e,"routerLink"))}}function tJ(t,s){}function iJ(t,s){t&1&&B(0,tJ,0,0,"ng-template")}function nJ(t,s){if(t&1&&(We(0),B(1,iJ,1,0,null,23),Qe()),t&2){let e=M(2).$implicit,i=M(2);S(),T("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",rt(2,FY,e.item))}}function aJ(t,s){if(t&1){let e=Re();L(0,"p-contextmenu-sub",27),Ie("itemClick",function(n){Z(e);let a=M(4);return X(a.itemClick.emit(n))})("itemMouseEnter",function(n){Z(e);let a=M(4);return X(a.onItemMouseEnter(n))}),D()}if(t&2){let e=M(2).$implicit,i=M(2);T("items",e.items)("itemTemplate",i.itemTemplate)("menuId",i.menuId)("visible",i.isItemActive(e)&&i.isItemGroup(e))("activeItemPath",i.activeItemPath)("focusedItemId",i.focusedItemId)("level",i.level+1)}}function oJ(t,s){if(t&1){let e=Re();L(0,"li",9,1)(2,"div",10),Ie("click",function(n){Z(e);let a=M().$implicit,p=M(2);return X(p.onItemClick(n,a))})("mouseenter",function(n){Z(e);let a=M().$implicit,p=M(2);return X(p.onItemMouseEnter({$event:n,processedItem:a}))}),B(3,eJ,3,2,"ng-container",11)(4,nJ,2,4,"ng-container",11),D(),B(5,aJ,1,7,"p-contextmenu-sub",12),D()}if(t&2){let e=M(),i=e.$implicit,n=e.index,a=M(2);Ft(a.getItemProp(i,"style")),K(a.cn(a.cx("item",li(23,LY,a,i)),a.getItemProp(i,"styleClass"))),T("tooltipOptions",a.getItemProp(i,"tooltipOptions")),ue("id",a.getItemId(i))("data-pc-section","menuitem")("data-p-highlight",a.isItemActive(i))("data-p-focused",a.isItemFocused(i))("data-p-disabled",a.isItemDisabled(i))("aria-label",a.getItemLabel(i))("aria-disabled",a.isItemDisabled(i)||void 0)("aria-haspopup",a.isItemGroup(i)&&!a.getItemProp(i,"to")?"menu":void 0)("aria-expanded",a.isItemGroup(i)?a.isItemActive(i):void 0)("aria-level",a.level+1)("aria-setsize",a.getAriaSetSize())("aria-posinset",a.getAriaPosInset(n)),S(2),K(a.cx("itemContent")),ue("data-pc-section","content"),S(),T("ngIf",!a.itemTemplate),S(),T("ngIf",a.itemTemplate),S(),T("ngIf",a.isItemVisible(i)&&a.isItemGroup(i))}}function rJ(t,s){if(t&1&&B(0,OY,1,6,"li",6)(1,oJ,6,26,"li",7),t&2){let e=s.$implicit,i=M(2);T("ngIf",i.isItemVisible(e)&&i.getItemProp(e,"separator")),S(),T("ngIf",i.isItemVisible(e)&&!i.getItemProp(e,"separator"))}}function sJ(t,s){if(t&1){let e=Re();L(0,"ul",4,0),Ie("@overlayAnimation.start",function(n){Z(e);let a=Ut(1),p=M();return X(p.onEnter(n,a))})("keydown",function(n){Z(e);let a=M();return X(a.menuKeydown.emit(n))})("focus",function(n){Z(e);let a=M();return X(a.menuFocus.emit(n))})("blur",function(n){Z(e);let a=M();return X(a.menuBlur.emit(n))}),B(2,rJ,2,2,"ng-template",5),D()}if(t&2){let e=M();K(e.root?e.cx("rootList"):e.cx("submenu")),T("@overlayAnimation",e.visible)("tabindex",e.tabindex),ue("id",e.menuId+"_list")("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy)("aria-activedescendant",e.focusedItemId)("aria-orientation","vertical")("data-pc-section","menu"),S(2),T("ngForOf",e.items)}}var lJ=["item"],cJ=["submenuicon"],uJ=["rootmenu"],dJ=["container"],pJ=()=>({value:"visible"});function hJ(t,s){if(t&1){let e=Re();L(0,"div",3,0),Ie("@overlayAnimation.start",function(n){Z(e);let a=M();return X(a.onOverlayAnimationStart(n))})("@overlayAnimation.done",function(n){Z(e);let a=M();return X(a.onOverlayAnimationEnd(n))}),L(2,"p-contextmenu-sub",4,1),Ie("itemClick",function(n){Z(e);let a=M();return X(a.onItemClick(n))})("menuFocus",function(n){Z(e);let a=M();return X(a.onMenuFocus(n))})("menuBlur",function(n){Z(e);let a=M();return X(a.onMenuBlur(n))})("menuKeydown",function(n){Z(e);let a=M();return X(a.onKeyDown(n))})("itemMouseEnter",function(n){Z(e);let a=M();return X(a.onItemMouseEnter(n))}),D()()}if(t&2){let e=M();Ft(e.sx("root")),K(e.cn(e.cx("root"),e.styleClass)),T("ngStyle",e.style)("@overlayAnimation",Kt(21,pJ)),ue("data-pc-section","root")("data-pc-name","contextmenu")("id",e.id),S(2),T("root",!0)("items",e.processedItems)("itemTemplate",e.itemTemplate||e._itemTemplate)("menuId",e.id)("tabindex",e.disabled?-1:e.tabindex)("ariaLabel",e.ariaLabel)("ariaLabelledBy",e.ariaLabelledBy)("baseZIndex",e.baseZIndex)("autoZIndex",e.autoZIndex)("visible",e.submenuVisible())("focusedItemId",e.focused?e.focusedItemId:void 0)("activeItemPath",e.activeItemPath())}}var mJ={root:{position:"absolute"}},fJ={root:()=>["p-contextmenu p-component"],rootList:"p-contextmenu-root-list",item:({instance:t,processedItem:s})=>["p-contextmenu-item",{"p-contextmenu-item-active":t.isItemActive(s),"p-focus":t.isItemFocused(s),"p-disabled":t.isItemDisabled(s),"p-contextmenu-mobile":t.queryMatches}],itemContent:"p-contextmenu-item-content",itemLink:"p-contextmenu-item-link",itemIcon:"p-contextmenu-item-icon",itemLabel:"p-contextmenu-item-label",submenuIcon:"p-contextmenu-submenu-icon",submenu:"p-contextmenu-submenu",separator:"p-contextmenu-separator"},o_=(()=>{class t extends Vt{name="contextmenu";theme=V4;classes=fJ;inlineStyles=mJ;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var gJ=(()=>{class t extends Ot{contextMenu;visible=!1;items;itemTemplate;root=!1;autoZIndex=!0;baseZIndex=0;popup;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath;tabindex=0;itemClick=new Fe;itemMouseEnter=new Fe;menuFocus=new Fe;menuBlur=new Fe;menuKeydown=new Fe;sublistViewChild;_componentStyle=lt(o_);constructor(e){super(),this.contextMenu=e}getItemProp(e,i,n=null){return e&&e.item?Mo(e.item[i],n):void 0}getItemId(e){return e.item&&e.item?.id?e.item.id:`${this.menuId}_${e.key}`}getItemKey(e){return this.getItemId(e)}getItemLabel(e){return this.getItemProp(e,"label")}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(i=>this.isItemVisible(i)&&this.getItemProp(i,"separator")).length+1}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemActive(e){if(this.activeItemPath)return this.activeItemPath.some(i=>i.key===e.key)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return Gt(e.items)}onItemMouseEnter(e){let{event:i,processedItem:n}=e;this.itemMouseEnter.emit({originalEvent:i,processedItem:n})}onItemClick(e,i){this.getItemProp(i,"command",{originalEvent:e,item:i.item}),this.itemClick.emit({originalEvent:e,processedItem:i,isFocus:!0})}onEnter(e,i){if(e.fromState==="void"&&e.toState){let n=e.element;this.position(n)}}position(e){let i=e.parentElement.parentElement,n=Sr(e.parentElement.parentElement),a=q1(),p=e.offsetParent?e.offsetWidth:em(e),y=Cr(i.children[0]);e.style.top="0px",parseInt(n.left,10)+y+p>a.width-Jh()?e.style.left=-1*p+"px":e.style.left=y+"px"}static \u0275fac=function(i){return new(i||t)(At(nn(()=>r_)))};static \u0275cmp=Je({type:t,selectors:[["p-contextMenuSub"],["p-contextmenu-sub"]],viewQuery:function(i,n){if(i&1&&dt(DY,5),i&2){let a;le(a=ce())&&(n.sublistViewChild=a.first)}},inputs:{visible:[2,"visible","visible",we],items:"items",itemTemplate:"itemTemplate",root:[2,"root","root",we],autoZIndex:[2,"autoZIndex","autoZIndex",we],baseZIndex:[2,"baseZIndex","baseZIndex",Tt],popup:[2,"popup","popup",we],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[2,"level","level",Tt],focusedItemId:"focusedItemId",activeItemPath:"activeItemPath",tabindex:[2,"tabindex","tabindex",Tt]},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[bt([o_]),gt],decls:1,vars:1,consts:[["sublist",""],["listItem",""],["htmlLabel",""],["role","menu",3,"class","tabindex","keydown","focus","blur",4,"ngIf"],["role","menu",3,"keydown","focus","blur","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"style","class",4,"ngIf"],["role","menuitem","pTooltip","",3,"style","class","tooltipOptions",4,"ngIf"],["role","separator"],["role","menuitem","pTooltip","",3,"tooltipOptions"],[3,"click","mouseenter"],[4,"ngIf"],[3,"items","itemTemplate","menuId","visible","activeItemPath","focusedItemId","level","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","class",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActiveOptions","target","class","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target"],[3,"class","ngStyle",4,"ngIf"],[3,"class",4,"ngIf","ngIfElse"],[3,"class","value",4,"ngIf"],[3,"ngStyle"],[3,"innerHTML"],[3,"value"],["data-p-icon","angle-right",3,"class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","angle-right"],[3,"data-pc-section","aria-hidden"],["pRipple","",3,"routerLink","queryParams","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[3,"itemClick","itemMouseEnter","items","itemTemplate","menuId","visible","activeItemPath","focusedItemId","level"]],template:function(i,n){i&1&&B(0,sJ,3,11,"ul",3),i&2&&T("ngIf",n.root?!0:n.visible)},dependencies:[t,mt,ji,$t,ei,bi,io,Tr,pn,ya,Ga,Cs,Go,Is,Xe],encapsulation:2,data:{animation:[ra("overlayAnimation",[Ni(":enter",[Ri({opacity:0})]),Ni(":leave",[Ri({opacity:0})])])]}})}return t})(),r_=(()=>{class t extends Ot{overlayService;set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}triggerEvent="contextmenu";target;global;style;styleClass;autoZIndex=!0;baseZIndex=0;id;breakpoint="960px";ariaLabel;ariaLabelledBy;pressDelay=500;appendTo=sn(void 0);onShow=new Fe;onHide=new Fe;rootmenu;containerViewChild;container;outsideClickListener;resizeListener;triggerEventListener;documentClickListener;documentTriggerListener;touchEndListener;pageX;pageY;visible=Ei(!1);focused=!1;activeItemPath=Ei([]);focusedItemInfo=Ei({index:-1,level:0,parentKey:"",item:null});submenuVisible=Ei(!1);$appendTo=Vi(()=>this.appendTo()||this.config.overlayAppendTo());searchValue="";searchTimeout;_processedItems;_model;pressTimer;matchMediaListener;query;queryMatches;_componentStyle=lt(o_);get visibleItems(){let e=this.activeItemPath().find(i=>i.key===this.focusedItemInfo().parentKey);return e?e.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let e=this.focusedItemInfo();return e.item&&e.item?.id?e.item.id:e.index!==-1?`${this.id}${Gt(e.parentKey)?"_"+e.parentKey:""}_${e.index}`:null}constructor(e){super(),this.overlayService=e,Or(()=>{let i=this.activeItemPath();Gt(i)?this.bindGlobalListeners():this.visible()||this.unbindGlobalListeners()})}ngOnInit(){super.ngOnInit(),this.id=this.id||xi("pn_id_"),this.bindMatchMediaListener(),this.bindTriggerEventListener()}isMobile(){return ff()||Dx()}bindTriggerEventListener(){ci(this.platformId)&&(this.triggerEventListener||(this.isMobile()?this.global?(this.triggerEventListener=this.renderer.listen(this.document,"touchstart",this.onTouchStart.bind(this)),this.touchEndListener=this.renderer.listen(this.document,"touchend",this.onTouchEnd.bind(this))):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,"touchstart",this.onTouchStart.bind(this)),this.touchEndListener=this.renderer.listen(this.target,"touchend",this.onTouchEnd.bind(this))):this.global?this.triggerEventListener=this.renderer.listen(this.document,this.triggerEvent,e=>{this.show(e)}):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,this.triggerEvent,e=>{this.show(e)}))))}bindGlobalListeners(){if(ci(this.platformId)){if(!this.documentClickListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",i=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(i)&&!i.ctrlKey&&i.button!==2&&this.triggerEvent!=="click"&&this.hide()})}this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{this.hide()}))}}itemTemplate;submenuIconTemplate;templates;_submenuIconTemplate;_itemTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"submenuicon":this._submenuIconTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}createProcessedItems(e,i=0,n={},a=""){let p=[];return e&&e.forEach((y,C)=>{let A=(a!==""?a+"_":"")+C,R={item:y,index:C,level:i,key:A,parent:n,parentKey:a};R.items=this.createProcessedItems(y.items,i+1,R,A),p.push(R)}),p}bindMatchMediaListener(){if(ci(this.platformId)&&!this.matchMediaListener){let e=window.matchMedia(`(max-width: ${this.breakpoint})`);this.query=e,this.queryMatches=e.matches,this.matchMediaListener=()=>{this.queryMatches=e.matches},e.addEventListener("change",this.matchMediaListener)}}unbindMatchMediaListener(){this.matchMediaListener&&(this.query.removeEventListener("change",this.matchMediaListener),this.matchMediaListener=null)}getItemProp(e,i){return e?Mo(e[i]):void 0}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isProcessedItemGroup(e){return e&&Gt(e.items)}isSelected(e){return this.activeItemPath().some(i=>i.key===e.key)}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&Gt(e.items)}onItemClick(e){let{processedItem:i}=e,n=this.isProcessedItemGroup(i);if(this.isSelected(i)){let{index:p,key:y,level:C,parentKey:A,item:R}=i;this.activeItemPath.set(this.activeItemPath().filter($=>y!==$.key&&y.startsWith($.key))),this.focusedItemInfo.set({index:p,level:C,parentKey:A,item:R}),Wt(this.rootmenu.sublistViewChild.nativeElement)}else n?this.onItemChange(e):this.hide()}onItemMouseEnter(e){this.onItemChange(e,"hover")}onKeyDown(e){let i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!i&&Jo(e.key)&&this.searchItems(e,e.key);break}}onArrowDownKey(e){let i=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}onArrowRightKey(e){let i=this.visibleItems[this.focusedItemInfo().index];this.isProccessedItemGroup(i)&&(this.onItemChange({originalEvent:e,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item}),this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()}onArrowUpKey(e){if(e.altKey){if(this.focusedItemInfo().index!==-1){let i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:e,processedItem:i})}this.hide(),e.preventDefault()}else{let i=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}}onArrowLeftKey(e){let i=this.visibleItems[this.focusedItemInfo().index],n=this.activeItemPath().find(y=>y.key===i.parentKey);dn(i.parent)||(this.focusedItemInfo.set({index:-1,parentKey:n?n.parentKey:"",item:i.item}),this.searchValue="",this.onArrowDownKey(e));let p=this.activeItemPath().filter(y=>y.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(p),e.preventDefault()}onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){this.hide();let i=this.findVisibleItem(this.findFirstFocusedItemIndex()),n=this.focusedItemInfo();this.focusedItemInfo.set(Ta(ai({},n),{index:this.findFirstFocusedItemIndex(),item:i.item})),e.preventDefault()}onTabKey(e){if(this.focusedItemInfo().index!==-1){let i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:e,processedItem:i})}this.hide()}onEnterKey(e){if(this.focusedItemInfo().index!==-1){let i=ti(this.rootmenu.el.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),n=i&&ti(i,'a[data-pc-section="action"]');n?n.click():i&&i.click();let a=this.visibleItems[this.focusedItemInfo().index];if(!this.isProccessedItemGroup(a)){let y=this.focusedItemInfo();this.focusedItemInfo.set(Ta(ai({},y),{index:this.findFirstFocusedItemIndex()}))}}e.preventDefault()}onItemChange(e,i){let{processedItem:n,isFocus:a}=e;if(dn(n))return;let{index:p,key:y,level:C,parentKey:A,items:R}=n,$=Gt(R),Y=this.activeItemPath().filter(re=>re.parentKey!==A&&re.parentKey!==y);$&&(Y.push(n),this.submenuVisible.set(!0)),this.focusedItemInfo.set({index:p,level:C,parentKey:A,item:n.item}),a&&Wt(this.rootmenu.sublistViewChild.nativeElement),!(i==="hover"&&this.queryMatches)&&this.activeItemPath.set(Y)}onMenuFocus(e){this.focused=!0;let i=this.focusedItemInfo().index!==-1?this.focusedItemInfo():{index:-1,level:0,parentKey:"",item:null};this.focusedItemInfo.set(i)}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue=""}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.position(),this.moveOnTop(),this.attrSelector&&this.container.setAttribute(this.attrSelector,""),this.appendOverlay(),this.bindGlobalListeners(),Wt(this.rootmenu.sublistViewChild.nativeElement);break}}onOverlayAnimationEnd(e){switch(e.toState){case"void":this.onOverlayHide();break}}appendOverlay(){sl.appendOverlay(this.container,this.$appendTo()==="body"?this.document.body:this.$appendTo(),this.$appendTo())}moveOnTop(){this.autoZIndex&&this.containerViewChild&&Zi.set("menu",this.containerViewChild.nativeElement,this.baseZIndex+this.config.zIndex.menu)}onOverlayHide(){this.unbindGlobalListeners(),this.cd.destroyed||(this.target=null),this.container&&this.autoZIndex&&Zi.clear(this.container),this.container=null}onTouchStart(e){this.pressTimer=setTimeout(()=>{this.show(e)},this.pressDelay)}onTouchEnd(){clearTimeout(this.pressTimer)}hide(){this.visible.set(!1),this.onHide.emit(),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null})}toggle(e){this.visible()?this.hide():this.show(e)}show(e){this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),Wt(this.rootmenu?.sublistViewChild?.nativeElement),this.pageX=e.pageX,this.pageY=e.pageY,this.onShow.emit(),this.visible()?this.position():this.visible.set(!0),e.stopPropagation(),e.preventDefault()}position(){let e=this.pageX+1,i=this.pageY+1,n=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetWidth:em(this.containerViewChild.nativeElement),a=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetHeight:hf(this.containerViewChild.nativeElement),p=q1();e+n-this.document.scrollingElement.scrollLeft>p.width&&(e-=n),i+a-this.document.scrollingElement.scrollTop>p.height&&(i-=a),e<this.document.scrollingElement.scrollLeft&&(e=this.document.scrollingElement.scrollLeft),i<this.document.scrollingElement.scrollTop&&(i=this.document.scrollingElement.scrollTop),this.containerViewChild.nativeElement.style.left=e+"px",this.containerViewChild.nativeElement.style.top=i+"px"}searchItems(e,i){this.searchValue=(this.searchValue||"")+i;let n=-1,a=!1;return this.focusedItemInfo().index!==-1?(n=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(p=>this.isItemMatched(p)),n=n===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(p=>this.isItemMatched(p)):n+this.focusedItemInfo().index):n=this.visibleItems.findIndex(p=>this.isItemMatched(p)),n!==-1&&(a=!0),n===-1&&this.focusedItemInfo().index===-1&&(n=this.findFirstFocusedItemIndex()),n!==-1&&this.changeFocusedItemIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),a}findVisibleItem(e){return Gt(this.visibleItems)?this.visibleItems[e]:null}findLastFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return Xn(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){let i=e>0?Xn(this.visibleItems.slice(0,e),n=>this.isValidItem(n)):-1;return i>-1?i:e}findNextItemIndex(e){let i=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(n=>this.isValidItem(n)):-1;return i>-1?i+e+1:e}findFirstFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}changeFocusedItemIndex(e,i){let n=this.findVisibleItem(i),a=this.focusedItemInfo();a.index!==i&&(this.focusedItemInfo.set(Ta(ai({},a),{index:i,item:n.item})),this.scrollInView())}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedItemId,n=ti(this.rootmenu.el.nativeElement,`li[id="${i}"]`);n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"})}bindResizeListener(){ci(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{this.hide()})))}isOutsideClicked(e){return!(this.containerViewChild.nativeElement.isSameNode(e.target)||this.containerViewChild.nativeElement.contains(e.target))}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}unbindGlobalListeners(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null),this.documentTriggerListener&&(this.documentTriggerListener(),this.documentTriggerListener=null),this.resizeListener&&(this.resizeListener(),this.resizeListener=null),this.touchEndListener&&(this.touchEndListener(),this.touchEndListener=null)}unbindTriggerEventListener(){this.triggerEventListener&&(this.triggerEventListener(),this.triggerEventListener=null)}removeAppendedElements(){this.$appendTo()&&this.containerViewChild&&this.$appendTo()==="body"&&this.renderer.removeChild(this.document.body,this.containerViewChild.nativeElement)}ngOnDestroy(){this.unbindGlobalListeners(),this.unbindTriggerEventListener(),this.unbindMatchMediaListener(),this.removeAppendedElements(),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||t)(At(Br))};static \u0275cmp=Je({type:t,selectors:[["p-contextMenu"],["p-contextmenu"],["p-context-menu"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,lJ,4),ve(a,cJ,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.itemTemplate=p.first),le(p=ce())&&(n.submenuIconTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&(dt(uJ,5),dt(dJ,5)),i&2){let a;le(a=ce())&&(n.rootmenu=a.first),le(a=ce())&&(n.containerViewChild=a.first)}},inputs:{model:"model",triggerEvent:"triggerEvent",target:"target",global:[2,"global","global",we],style:"style",styleClass:"styleClass",autoZIndex:[2,"autoZIndex","autoZIndex",we],baseZIndex:[2,"baseZIndex","baseZIndex",Tt],id:"id",breakpoint:"breakpoint",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",pressDelay:[2,"pressDelay","pressDelay",Tt],appendTo:[1,"appendTo"]},outputs:{onShow:"onShow",onHide:"onHide"},features:[bt([o_]),gt],decls:1,vars:1,consts:[["container",""],["rootmenu",""],[3,"class","style","ngStyle",4,"ngIf"],[3,"ngStyle"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","root","items","itemTemplate","menuId","tabindex","ariaLabel","ariaLabelledBy","baseZIndex","autoZIndex","visible","focusedItemId","activeItemPath"]],template:function(i,n){i&1&&B(0,hJ,4,22,"div",2),i&2&&T("ngIf",n.visible())},dependencies:[mt,$t,bi,gJ,io,ya,Go,Xe],encapsulation:2,data:{animation:[ra("overlayAnimation",[Ni(":enter",[Ri({opacity:0}),Ki("250ms")]),Ni(":leave",[Ki(".1s linear",Ri({opacity:0}))])])]},changeDetection:0})}return t})(),B4=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[r_,Xe,Xe]})}return t})();var R4=`
    .p-megamenu {
        position: relative;
        display: flex;
        align-items: center;
        background: dt('megamenu.background');
        border: 1px solid dt('megamenu.border.color');
        border-radius: dt('megamenu.border.radius');
        color: dt('megamenu.color');
        gap: dt('megamenu.gap');
    }

    .p-megamenu-start,
    .p-megamenu-end {
        display: flex;
        align-items: center;
    }

    .p-megamenu-root-list {
        margin: 0;
        padding: 0;
        list-style: none;
        outline: 0 none;
        align-items: center;
        display: flex;
        flex-wrap: wrap;
        gap: dt('megamenu.gap');
    }

    .p-megamenu-root-list > .p-megamenu-item > .p-megamenu-item-content {
        border-radius: dt('megamenu.base.item.border.radius');
    }

    .p-megamenu-root-list > .p-megamenu-item > .p-megamenu-item-content > .p-megamenu-item-link {
        padding: dt('megamenu.base.item.padding');
    }

    .p-megamenu-item-content {
        transition:
            background dt('megamenu.transition.duration'),
            color dt('megamenu.transition.duration');
        border-radius: dt('megamenu.item.border.radius');
        color: dt('megamenu.item.color');
    }

    .p-megamenu-item-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
        color: inherit;
        padding: dt('megamenu.item.padding');
        gap: dt('megamenu.item.gap');
        user-select: none;
        outline: 0 none;
    }

    .p-megamenu-item-label {
        line-height: 1;
    }

    .p-megamenu-item-icon {
        color: dt('megamenu.item.icon.color');
    }

    .p-megamenu-submenu-icon {
        color: dt('megamenu.submenu.icon.color');
        font-size: dt('megamenu.submenu.icon.size');
        width: dt('megamenu.submenu.icon.size');
        height: dt('megamenu.submenu.icon.size');
    }

    .p-megamenu-item.p-focus > .p-megamenu-item-content {
        color: dt('megamenu.item.focus.color');
        background: dt('megamenu.item.focus.background');
    }

    .p-megamenu-item.p-focus > .p-megamenu-item-content .p-megamenu-item-icon {
        color: dt('megamenu.item.icon.focus.color');
    }

    .p-megamenu-item.p-focus > .p-megamenu-item-content .p-megamenu-submenu-icon {
        color: dt('megamenu.submenu.icon.focus.color');
    }

    .p-megamenu-item:not(.p-disabled) > .p-megamenu-item-content:hover {
        color: dt('megamenu.item.focus.color');
        background: dt('megamenu.item.focus.background');
    }

    .p-megamenu-item:not(.p-disabled) > .p-megamenu-item-content:hover .p-megamenu-item-icon {
        color: dt('megamenu.item.icon.focus.color');
    }

    .p-megamenu-item:not(.p-disabled) > .p-megamenu-item-content:hover .p-megamenu-submenu-icon {
        color: dt('megamenu.submenu.icon.focus.color');
    }

    .p-megamenu-item-active > .p-megamenu-item-content {
        color: dt('megamenu.item.active.color');
        background: dt('megamenu.item.active.background');
    }

    .p-megamenu-item-active > .p-megamenu-item-content .p-megamenu-item-icon {
        color: dt('megamenu.item.icon.active.color');
    }

    .p-megamenu-item-active > .p-megamenu-item-content .p-megamenu-submenu-icon {
        color: dt('megamenu.submenu.icon.active.color');
    }

    .p-megamenu-overlay {
        display: none;
        position: absolute;
        width: auto;
        z-index: 1;
        left: 0;
        min-width: 100%;
        padding: dt('megamenu.overlay.padding');
        background: dt('megamenu.overlay.background');
        color: dt('megamenu.overlay.color');
        border: 1px solid dt('megamenu.overlay.border.color');
        border-radius: dt('megamenu.overlay.border.radius');
        box-shadow: dt('megamenu.overlay.shadow');
    }

    .p-megamenu-overlay:dir(rtl) {
        left: auto;
        right: 0;
    }

    .p-megamenu-root-list > .p-megamenu-item-active > .p-megamenu-overlay {
        display: block;
    }

    .p-megamenu-submenu {
        margin: 0;
        list-style: none;
        padding: dt('megamenu.submenu.padding');
        min-width: 12.5rem;
        display: flex;
        flex-direction: column;
        gap: dt('megamenu.submenu.gap');
    }

    .p-megamenu-submenu-label {
        padding: dt('megamenu.submenu.label.padding');
        color: dt('megamenu.submenu.label.color');
        font-weight: dt('megamenu.submenu.label.font.weight');
        background: dt('megamenu.submenu.label.background');
    }

    .p-megamenu-separator {
        border-block-start: 1px solid dt('megamenu.separator.border.color');
    }

    .p-megamenu-horizontal {
        align-items: center;
        padding: dt('megamenu.horizontal.orientation.padding');
    }

    .p-megamenu-horizontal .p-megamenu-root-list {
        display: flex;
        align-items: center;
        flex-wrap: wrap;
        gap: dt('megamenu.horizontal.orientation.gap');
    }

    .p-megamenu-horizontal .p-megamenu-end {
        margin-left: auto;
        align-self: center;
    }

    .p-megamenu-horizontal .p-megamenu-end:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
    }

    .p-megamenu-vertical {
        display: inline-flex;
        min-width: 12.5rem;
        flex-direction: column;
        align-items: stretch;
        padding: dt('megamenu.vertical.orientation.padding');
    }

    .p-megamenu-vertical .p-megamenu-root-list {
        align-items: stretch;
        flex-direction: column;
        gap: dt('megamenu.vertical.orientation.gap');
    }

    .p-megamenu-vertical .p-megamenu-root-list > .p-megamenu-item-active > .p-megamenu-overlay {
        left: 100%;
        top: 0;
    }

    .p-megamenu-vertical .p-megamenu-root-list > .p-megamenu-item-active > .p-megamenu-overlay:dir(rtl) {
        left: auto;
        right: 100%;
    }

    .p-megamenu-vertical .p-megamenu-root-list > .p-megamenu-item > .p-megamenu-item-content .p-megamenu-submenu-icon {
        margin-left: auto;
    }

    .p-megamenu-vertical .p-megamenu-root-list > .p-megamenu-item > .p-megamenu-item-content .p-megamenu-submenu-icon:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
        transform: rotate(180deg);
    }

    .p-megamenu-grid {
        display: flex;
    }

    .p-megamenu-col-2,
    .p-megamenu-col-3,
    .p-megamenu-col-4,
    .p-megamenu-col-6,
    .p-megamenu-col-12 {
        flex: 0 0 auto;
        padding: dt('megamenu.overlay.gap');
    }

    .p-megamenu-col-2 {
        width: 16.6667%;
    }

    .p-megamenu-col-3 {
        width: 25%;
    }

    .p-megamenu-col-4 {
        width: 33.3333%;
    }

    .p-megamenu-col-6 {
        width: 50%;
    }

    .p-megamenu-col-12 {
        width: 100%;
    }

    .p-megamenu-button {
        display: none;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        width: dt('megamenu.mobile.button.size');
        height: dt('megamenu.mobile.button.size');
        position: relative;
        color: dt('megamenu.mobile.button.color');
        border: 0 none;
        background: transparent;
        border-radius: dt('megamenu.mobile.button.border.radius');
        transition:
            background dt('megamenu.transition.duration'),
            color dt('megamenu.transition.duration'),
            outline-color dt('megamenu.transition.duration'),
            box-shadow dt('megamenu.transition.duration');
        outline-color: transparent;
    }

    .p-megamenu-button:hover {
        color: dt('megamenu.mobile.button.hover.color');
        background: dt('megamenu.mobile.button.hover.background');
    }

    .p-megamenu-button:focus-visible {
        box-shadow: dt('megamenu.mobile.button.focus.ring.shadow');
        outline: dt('megamenu.mobile.button.focus.ring.width') dt('megamenu.mobile.button.focus.ring.style') dt('megamenu.mobile.button.focus.ring.color');
        outline-offset: dt('megamenu.mobile.button.focus.ring.offset');
    }

    .p-megamenu-mobile {
        display: flex;
    }

    .p-megamenu-mobile .p-megamenu-button {
        display: flex;
    }

    .p-megamenu-mobile .p-megamenu-root-list {
        position: absolute;
        display: none;
        flex-direction: column;
        top: 100%;
        left: 0;
        z-index: 1;
        width: 100%;
        padding: dt('megamenu.submenu.padding');
        gap: dt('megamenu.submenu.gap');
        background: dt('megamenu.overlay.background');
        border: 1px solid dt('megamenu.overlay.border.color');
        box-shadow: dt('megamenu.overlay.shadow');
    }

    .p-megamenu-mobile .p-megamenu-root-list:dir(rtl) {
        left: auto;
        right: 0;
    }

    .p-megamenu-mobile-active .p-megamenu-root-list {
        display: block;
    }

    .p-megamenu-mobile .p-megamenu-root-list .p-megamenu-item {
        width: 100%;
        position: static;
    }

    .p-megamenu-mobile .p-megamenu-overlay {
        position: static;
        border: 0 none;
        border-radius: 0;
        box-shadow: none;
    }

    .p-megamenu-mobile .p-megamenu-grid {
        flex-wrap: wrap;
        overflow: auto;
        max-height: 90%;
    }

    .p-megamenu-mobile .p-megamenu-root-list > .p-megamenu-item > .p-megamenu-item-content .p-megamenu-submenu-icon {
        margin-left: auto;
        transition: transform 0.2s;
    }

    .p-megamenu-mobile .p-megamenu-root-list > .p-megamenu-item > .p-megamenu-item-content .p-megamenu-submenu-icon:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
    }

    .p-megamenu-mobile .p-megamenu-root-list > .p-megamenu-item-active > .p-megamenu-item-content .p-megamenu-submenu-icon {
        transform: rotate(-180deg);
    }
`;var bJ=["menubar"],N4=t=>({processedItem:t}),yJ=()=>({exact:!1}),vJ=t=>({$implicit:t});function xJ(t,s){if(t&1&&(L(0,"li",8),ne(1),D()),t&2){let e=M(2);Ft(e.getItemProp(e.submenu,"style")),K(e.cn(e.cx("submenuLabel"),e.getItemProp(e.submenu,"class"))),S(),ni(" ",e.getItemLabel(e.submenu)," ")}}function wJ(t,s){if(t&1&&oe(0,"li",11),t&2){let e=M().$implicit,i=M(2);Ft(i.getItemProp(e,"style")),K(i.cn(i.cx("separator"),i.getItemProp(e,"class"))),ue("id",i.getItemId(e))("data-pc-section","separator")}}function IJ(t,s){if(t&1&&oe(0,"span",22),t&2){let e=M(4).$implicit,i=M(2);K(i.cn(i.cx("itemIcon"),i.getItemProp(e,"icon"))),T("ngStyle",i.getItemProp(e,"iconStyle")),ue("data-pc-section","icon")("tabindex",-1)}}function TJ(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(4).$implicit,i=M(2);K(i.cx("itemLabel")),ue("data-pc-section","label"),S(),ni(" ",i.getItemLabel(e)," ")}}function CJ(t,s){if(t&1&&oe(0,"span",23),t&2){let e=M(4).$implicit,i=M(2);K(i.cx("itemLabel")),T("innerHTML",i.getItemLabel(e),ba),ue("data-pc-section","label")}}function SJ(t,s){if(t&1&&oe(0,"p-badge",24),t&2){let e=M(4).$implicit,i=M(2);K(i.getItemProp(e,"badgeStyleClass")),T("value",i.getItemProp(e,"badge"))}}function MJ(t,s){if(t&1&&(it(),oe(0,"svg",28)),t&2){let e=M(8);K(e.cx("submenuIcon")),ue("data-pc-section","submenuicon")("aria-hidden",!0)}}function kJ(t,s){if(t&1&&(it(),oe(0,"svg",30)),t&2){let e=M(9);K(e.cx("submenuIcon")),ue("data-pc-section","submenuicon")("aria-hidden",!0)}}function EJ(t,s){if(t&1&&B(0,kJ,1,4,"svg",29),t&2){let e=M(8);T("ngIf",e.orientation==="vertical")}}function PJ(t,s){if(t&1&&(We(0),Gi(1,MJ,1,4,":svg:svg",26)(2,EJ,1,1,":svg:svg",27),Qe()),t&2){let e=M(7);S(),Ui(e.orientation==="horizontal"||e.mobileActive?1:2)}}function DJ(t,s){}function LJ(t,s){t&1&&B(0,DJ,0,0,"ng-template",31),t&2&&T("data-pc-section","submenuicon")("aria-hidden",!0)}function AJ(t,s){if(t&1&&(We(0),B(1,PJ,3,1,"ng-container",14)(2,LJ,1,2,null,25),Qe()),t&2){let e=M(6);S(),T("ngIf",!e.megaMenu.submenuIconTemplate&&!e.megaMenu._submenuIconTemplate),S(),T("ngTemplateOutlet",e.megaMenu.submenuIconTemplate||e.megaMenu._submenuIconTemplate)}}function FJ(t,s){if(t&1&&(L(0,"a",18),B(1,IJ,1,5,"span",19)(2,TJ,2,4,"span",20)(3,CJ,1,4,"ng-template",null,2,Be)(5,SJ,1,3,"p-badge",21)(6,AJ,3,2,"ng-container",14),D()),t&2){let e=Ut(4),i=M(3).$implicit,n=M(2);K(n.cx("itemLink")),T("target",n.getItemProp(i,"target")),ue("href",n.getItemProp(i,"url"),an)("data-automationid",n.getItemProp(i,"automationId"))("data-pc-section","action")("tabindex",-1),S(),T("ngIf",n.getItemProp(i,"icon")),S(),T("ngIf",n.getItemProp(i,"escape"))("ngIfElse",e),S(3),T("ngIf",n.getItemProp(i,"badge")),S(),T("ngIf",n.isItemGroup(i))}}function OJ(t,s){if(t&1&&oe(0,"span",22),t&2){let e=M(4).$implicit,i=M(2);K(i.cn(i.cx("itemIcon"),i.getItemProp(e,"icon"))),T("ngStyle",i.getItemProp(e,"iconStyle")),ue("data-pc-section","icon")("tabindex",-1)}}function VJ(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(4).$implicit,i=M(2);K(i.cx("itemLabel")),S(),Dt(i.getItemLabel(e))}}function zJ(t,s){if(t&1&&oe(0,"span",23),t&2){let e=M(4).$implicit,i=M(2);K(i.cx("itemLabel")),T("innerHTML",i.getItemLabel(e),ba),ue("data-pc-section","label")}}function BJ(t,s){if(t&1&&oe(0,"p-badge",34),t&2){let e=M(4).$implicit,i=M(2);T("styleClass",i.getItemProp(e,"badgeStyleClass"))("value",i.getItemProp(e,"badge"))}}function RJ(t,s){if(t&1&&(it(),oe(0,"svg",28)),t&2){let e=M(8);K(e.cx("submenuIcon")),ue("data-pc-section","submenuicon")("aria-hidden",!0)}}function NJ(t,s){if(t&1&&(it(),oe(0,"svg",30)),t&2){let e=M(8);K(e.cx("submenuIcon")),ue("data-pc-section","submenuicon")("aria-hidden",!0)}}function qJ(t,s){if(t&1&&(We(0),B(1,RJ,1,4,"svg",35)(2,NJ,1,4,"svg",29),Qe()),t&2){let e=M(7);S(),T("ngIf",e.orientation==="horizontal"),S(),T("ngIf",e.orientation==="vertical")}}function jJ(t,s){}function HJ(t,s){t&1&&B(0,jJ,0,0,"ng-template",31),t&2&&T("data-pc-section","submenuicon")("aria-hidden",!0)}function GJ(t,s){if(t&1&&(We(0),B(1,qJ,3,2,"ng-container",14)(2,HJ,1,2,null,25),Qe()),t&2){let e=M(6);S(),T("ngIf",!e.megaMenu.submenuIconTemplate&&!e.megaMenu._submenuIconTemplate),S(),T("ngTemplateOutlet",e.megaMenu.submenuIconTemplate||e.megaMenu._submenuIconTemplate)}}function UJ(t,s){if(t&1&&(L(0,"a",32),B(1,OJ,1,5,"span",19)(2,VJ,2,3,"span",20)(3,zJ,1,4,"ng-template",null,3,Be)(5,BJ,1,2,"p-badge",33)(6,GJ,3,2,"ng-container",14),D()),t&2){let e=Ut(4),i=M(3).$implicit,n=M(2);K(n.cx("itemLink")),T("routerLink",n.getItemProp(i,"routerLink"))("queryParams",n.getItemProp(i,"queryParams"))("routerLinkActive","p-megamenu-item-link-active")("routerLinkActiveOptions",n.getItemProp(i,"routerLinkActiveOptions")||Kt(21,yJ))("target",n.getItemProp(i,"target"))("fragment",n.getItemProp(i,"fragment"))("queryParamsHandling",n.getItemProp(i,"queryParamsHandling"))("preserveFragment",n.getItemProp(i,"preserveFragment"))("skipLocationChange",n.getItemProp(i,"skipLocationChange"))("replaceUrl",n.getItemProp(i,"replaceUrl"))("state",n.getItemProp(i,"state")),ue("data-automationid",n.getItemProp(i,"automationId"))("tabindex",-1)("data-pc-section","action"),S(),T("ngIf",n.getItemProp(i,"icon")),S(),T("ngIf",n.getItemProp(i,"escape"))("ngIfElse",e),S(3),T("ngIf",n.getItemProp(i,"badge")),S(),T("ngIf",n.isItemGroup(i))}}function $J(t,s){if(t&1&&(We(0),B(1,FJ,7,12,"a",16)(2,UJ,7,22,"a",17),Qe()),t&2){let e=M(2).$implicit,i=M(2);S(),T("ngIf",!i.getItemProp(e,"routerLink")),S(),T("ngIf",i.getItemProp(e,"routerLink"))}}function KJ(t,s){}function WJ(t,s){t&1&&B(0,KJ,0,0,"ng-template")}function QJ(t,s){if(t&1&&(We(0),B(1,WJ,1,0,null,36),Qe()),t&2){let e=M(2).$implicit,i=M(2);S(),T("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",rt(2,vJ,e.item))}}function ZJ(t,s){if(t&1){let e=Re();L(0,"p-megamenu-sub",39),Ie("itemClick",function(n){Z(e);let a=M(6);return X(a.itemClick.emit(n))})("itemMouseEnter",function(n){Z(e);let a=M(6);return X(a.onItemMouseEnter(n))}),D()}if(t&2){let e=s.$implicit,i=M(6);T("id",i.getSubListId(e))("submenu",e)("items",e.items)("itemTemplate",i.itemTemplate)("mobileActive",i.mobileActive)("menuId",i.menuId)("focusedItemId",i.focusedItemId)("level",i.level+1)("root",!1)}}function XJ(t,s){if(t&1&&(L(0,"div"),B(1,ZJ,1,9,"p-megamenu-sub",38),D()),t&2){let e=s.$implicit,i=M(3).$implicit,n=M(2);K(n.cx("column",rt(3,N4,i))),S(),T("ngForOf",e)}}function YJ(t,s){if(t&1&&(L(0,"div")(1,"div"),B(2,XJ,2,5,"div",37),D()()),t&2){let e=M(2).$implicit,i=M(2);K(i.cx("overlay")),ue("data-pc-section","panel"),S(),K(i.cx("grid")),ue("data-pc-section","grid"),S(),T("ngForOf",e.items)}}function JJ(t,s){if(t&1){let e=Re();L(0,"li",12,1)(2,"div",13),Ie("click",function(n){Z(e);let a=M().$implicit,p=M(2);return X(p.onItemClick(n,a))})("mouseenter",function(n){Z(e);let a=M().$implicit,p=M(2);return X(p.onItemMouseEnter({$event:n,processedItem:a}))}),B(3,$J,3,2,"ng-container",14)(4,QJ,2,4,"ng-container",14),D(),B(5,YJ,3,7,"div",15),D()}if(t&2){let e=M(),i=e.$implicit,n=e.index,a=M(2);K(a.cn(a.cx("item",rt(22,N4,i)),a.getItemProp(i,"styleClass"))),T("ngStyle",a.getItemProp(i,"style"))("tooltipOptions",a.getItemProp(i,"tooltipOptions")),ue("id",a.getItemId(i))("data-pc-section","menuitem")("data-p-highlight",a.isItemActive(i))("data-p-focused",a.isItemFocused(i))("data-p-disabled",a.isItemDisabled(i))("aria-label",a.getItemLabel(i))("aria-disabled",a.isItemDisabled(i)||void 0)("aria-haspopup",a.isItemGroup(i)&&!a.getItemProp(i,"to")?"menu":void 0)("aria-expanded",a.isItemGroup(i)?a.isItemActive(i):void 0)("aria-level",a.level+1)("aria-setsize",a.getAriaSetSize())("aria-posinset",a.getAriaPosInset(n)),S(2),K(a.cx("itemContent")),ue("data-pc-section","content"),S(),T("ngIf",!a.itemTemplate),S(),T("ngIf",a.itemTemplate),S(),T("ngIf",a.isItemVisible(i)&&a.isItemGroup(i))}}function eee(t,s){if(t&1&&B(0,wJ,1,6,"li",9)(1,JJ,6,24,"li",10),t&2){let e=s.$implicit,i=M(2);T("ngIf",i.isItemVisible(e)&&i.getItemProp(e,"separator")),S(),T("ngIf",i.isItemVisible(e)&&!i.getItemProp(e,"separator"))}}function tee(t,s){if(t&1){let e=Re();L(0,"ul",5,0),Ie("keydown",function(n){Z(e);let a=M();return X(a.menuKeydown.emit(n))})("focus",function(n){Z(e);let a=M();return X(a.menuFocus.emit(n))})("blur",function(n){Z(e);let a=M();return X(a.menuBlur.emit(n))}),B(2,xJ,2,5,"li",6)(3,eee,2,2,"ng-template",7),D()}if(t&2){let e=M();Ft(e.sx("rootList")),K(e.root?e.cx("rootList"):e.cx("submenu")),T("tabindex",e.tabindex),ue("role",e.root?"menubar":"menu")("id",e.id)("aria-orientation",e.orientation)("aria-activedescendant",e.focusedItemId)("data-pc-section",e.root?"root":"submenu"),S(2),T("ngIf",e.submenu),S(),T("ngForOf",e.items)}}var iee=["start"],nee=["end"],aee=["menuicon"],oee=["submenuicon"],ree=["item"],see=["button"],lee=["buttonicon"],cee=["menubutton"],uee=["rootmenu"];function dee(t,s){t&1&&nt(0)}function pee(t,s){if(t&1&&(L(0,"div"),B(1,dee,1,0,"ng-container",4),D()),t&2){let e=M();K(e.cx("start")),S(),T("ngTemplateOutlet",e.startTemplate||e._startTemplate)}}function hee(t,s){t&1&&(it(),oe(0,"svg",9))}function mee(t,s){}function fee(t,s){t&1&&B(0,mee,0,0,"ng-template")}function gee(t,s){if(t&1){let e=Re();L(0,"a",7,1),Ie("click",function(n){Z(e);let a=M(2);return X(a.menuButtonClick(n))})("keydown",function(n){Z(e);let a=M(2);return X(a.menuButtonKeydown(n))}),B(2,hee,1,0,"svg",8)(3,fee,1,0,null,4),D()}if(t&2){let e=M(2);K(e.cx("button")),ue("aria-haspopup",!!(e.model.length&&e.model.length>0))("aria-expanded",e.mobileActive)("aria-controls",e.id)("aria-label",e.config.translation.aria.navigation),S(2),T("ngIf",!e.buttonIconTemplate&&!e._buttonIconTemplate),S(),T("ngTemplateOutlet",e.buttonIconTemplate||e._buttonIconTemplate)}}function _ee(t,s){if(t&1&&(We(0),B(1,gee,4,8,"a",6),Qe()),t&2){let e=M();S(),T("ngIf",e.model&&e.model.length>0)}}function bee(t,s){t&1&&nt(0)}function yee(t,s){t&1&&nt(0)}function vee(t,s){if(t&1&&(L(0,"div"),B(1,yee,1,0,"ng-container",4),D()),t&2){let e=M();K(e.cx("end")),S(),T("ngTemplateOutlet",e.endTemplate||e._endTemplate)}}var xee={rootList:({instance:t})=>({"max-height":t.scrollHeight,overflow:"auto"})},wee={root:({instance:t})=>["p-megamenu p-component",{"p-megamenu-mobile":t.queryMatches,"p-megamenu-mobile-active":t.mobileActive,"p-megamenu-horizontal":t.orientation==="horizontal","p-megamenu-vertical":t.orientation==="vertical"}],start:"p-megamenu-start",button:"p-megamenu-button",rootList:"p-megamenu-root-list",submenuLabel:({instance:t,processedItem:s})=>["p-megamenu-submenu-label",{"p-disabled":t.isItemDisabled(s)}],item:({instance:t,processedItem:s})=>["p-megamenu-item",t.getItemProp(s,"styleClass"),t.getItemProp(s,"class"),{"p-megamenu-item-active":t.isItemActive(s),"p-focus":t.isItemFocused(s),"p-disabled":t.isItemDisabled(s)}],itemContent:"p-megamenu-item-content",itemLink:"p-megamenu-item-link",itemIcon:"p-megamenu-item-icon",itemLabel:"p-megamenu-item-label",submenuIcon:"p-megamenu-submenu-icon",overlay:"p-megamenu-overlay",grid:"p-megamenu-grid",column:({instance:t,processedItem:s})=>{let e=t.isItemGroup(s)?s.items.length:0,i;if(t.megaMenu.queryMatches)i="p-megamenu-col-12";else switch(e){case 2:i="p-megamenu-col-6";break;case 3:i="p-megamenu-col-4";break;case 4:i="p-megamenu-col-3";break;case 6:i="p-megamenu-col-2";break;default:i="p-megamenu-col-12";break}return i},submenu:"p-megamenu-submenu",separator:"p-megamenu-separator",end:"p-megamenu-end"},By=(()=>{class t extends Vt{name="megamenu";theme=R4;classes=wee;inlineStyles=xee;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var Iee=(()=>{class t extends Ot{id;items;itemTemplate;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;disabled=!1;orientation;activeItem;submenu;queryMatches=!1;mobileActive=!1;scrollHeight;tabindex=0;root=!1;itemClick=new Fe;itemMouseEnter=new Fe;menuFocus=new Fe;menuBlur=new Fe;menuKeydown=new Fe;menubarViewChild;megaMenu=lt(nn(()=>s_));_componentStyle=lt(By);onItemClick(e,i){this.getItemProp(i,"command",{originalEvent:e,item:i.item}),this.itemClick.emit({originalEvent:e,processedItem:i,isFocus:!0})}getItemProp(e,i,n=null){return e&&e.item?Mo(e.item[i],n):void 0}getItemId(e){return e.item&&e.item?.id?e.item.id:`${this.menuId}_${e.key}`}getSubListId(e){return`${this.getItemId(e)}_list`}getItemLabel(e){return this.getItemProp(e,"label")}isSubmenuVisible(e){return this.submenu&&!this.root?this.isItemVisible(e):!0}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemActive(e){return Gt(this.activeItem)?this.activeItem.key===e.key:!1}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return Gt(e.items)}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(i=>this.isItemVisible(i)&&this.getItemProp(i,"separator")).length+1}onItemMouseEnter(e){let{event:i,processedItem:n}=e;this.itemMouseEnter.emit({originalEvent:i,processedItem:n})}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-megaMenuSub"],["p-megamenu-sub"]],viewQuery:function(i,n){if(i&1&&dt(bJ,7),i&2){let a;le(a=ce())&&(n.menubarViewChild=a.first)}},inputs:{id:"id",items:"items",itemTemplate:"itemTemplate",menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[2,"level","level",Tt],focusedItemId:"focusedItemId",disabled:[2,"disabled","disabled",we],orientation:"orientation",activeItem:"activeItem",submenu:"submenu",queryMatches:[2,"queryMatches","queryMatches",we],mobileActive:[2,"mobileActive","mobileActive",we],scrollHeight:"scrollHeight",tabindex:[2,"tabindex","tabindex",Tt],root:[2,"root","root",we]},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[gt],decls:1,vars:1,consts:[["menubar",""],["listItem",""],["htmlLabel",""],["htmlRouteLabel",""],[3,"class","style","tabindex","keydown","focus","blur",4,"ngIf"],[3,"keydown","focus","blur","tabindex"],["role","presentation",3,"class","style",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","presentation"],["role","separator",3,"style","class",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","class","tooltipOptions",4,"ngIf"],["role","separator"],["role","menuitem","pTooltip","",3,"ngStyle","tooltipOptions"],[3,"click","mouseenter"],[4,"ngIf"],[3,"class",4,"ngIf"],["pRipple","",3,"target","class",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","class","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target"],[3,"class","ngStyle",4,"ngIf"],[3,"class",4,"ngIf","ngIfElse"],[3,"class","value",4,"ngIf"],[3,"ngStyle"],[3,"innerHTML"],[3,"value"],[4,"ngTemplateOutlet"],["data-p-icon","angle-down",3,"class"],["data-p-icon","angle-right",3,"class"],["data-p-icon","angle-down"],["data-p-icon","angle-right",3,"class",4,"ngIf"],["data-p-icon","angle-right"],[3,"data-pc-section","aria-hidden"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[3,"styleClass","value",4,"ngIf"],[3,"styleClass","value"],["data-p-icon","angle-down",3,"class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class",4,"ngFor","ngForOf"],[3,"id","submenu","items","itemTemplate","mobileActive","menuId","focusedItemId","level","root","itemClick","itemMouseEnter",4,"ngFor","ngForOf"],[3,"itemClick","itemMouseEnter","id","submenu","items","itemTemplate","mobileActive","menuId","focusedItemId","level","root"]],template:function(i,n){i&1&&B(0,tee,4,12,"ul",4),i&2&&T("ngIf",n.isSubmenuVisible(n.submenu))},dependencies:[t,mt,ji,$t,ei,bi,io,Tr,rl,pn,ya,Ga,ic,Cs,Go,Is,Xe],encapsulation:2})}return t})(),s_=(()=>{class t extends Ot{set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}styleClass;orientation="horizontal";id;ariaLabel;ariaLabelledBy;breakpoint="960px";scrollHeight="20rem";disabled=!1;tabindex=0;startTemplate;endTemplate;menuIconTemplate;submenuIconTemplate;itemTemplate;buttonTemplate;buttonIconTemplate;templates;menubuttonViewChild;rootmenu;_startTemplate;_endTemplate;_menuIconTemplate;_submenuIconTemplate;_itemTemplate;_buttonTemplate;_buttonIconTemplate;outsideClickListener;resizeListener;dirty=!1;focused=!1;activeItem=Ei(null);focusedItemInfo=Ei({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;_componentStyle=lt(By);matchMediaListener;query;queryMatches=!1;mobileActive=!1;get visibleItems(){let e=Gt(this.activeItem())?this.activeItem():null;return e?e.items.reduce((i,n)=>(n.forEach(a=>{a.items.forEach(p=>{i.push(p)})}),i),[]):this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let e=this.focusedItemInfo();return e?.item&&e.item?.id?e.item.id:Gt(e.key)?`${this.id}_${e.key}`:null}constructor(){super(),Or(()=>{let e=this.activeItem();Gt(e)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){super.ngOnInit(),this.bindMatchMediaListener(),this.id=this.id||xi("pn_id_")}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"start":this._startTemplate=e.template;break;case"end":this._endTemplate=e.template;break;case"menuicon":this._menuIconTemplate=e.template;break;case"submenuicon":this._submenuIconTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;case"button":this._buttonTemplate=e.template;break;case"buttonicon":this._buttonIconTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}bindMatchMediaListener(){if(ci(this.platformId)&&!this.matchMediaListener){let e=window.matchMedia(`(max-width: ${this.breakpoint})`);this.query=e,this.queryMatches=e.matches,this.matchMediaListener=()=>{this.queryMatches=e.matches,this.mobileActive=!1,this.cd.markForCheck()},e.addEventListener("change",this.matchMediaListener)}}unbindMatchMediaListener(){this.matchMediaListener&&(this.query.removeEventListener("change",this.matchMediaListener),this.matchMediaListener=null)}createProcessedItems(e,i=0,n={},a="",p){let y=[];return e&&e.forEach((C,A)=>{let R=(a!==""?a+"_":"")+(p!==void 0?p+"_":"")+A,$={item:C,index:A,level:i,key:R,parent:n,parentKey:a,columnIndex:p!==void 0?p:n.columnIndex!==void 0?n.columnIndex:A};$.items=i===0&&C.items&&C.items.length>0?C.items.map((Y,re)=>this.createProcessedItems(Y,i+1,$,R,re)):this.createProcessedItems(C.items,i+1,$,R),y.push($)}),y}getItemProp(e,i){return e?Mo(e[i]):void 0}onItemClick(e){let{originalEvent:i,processedItem:n}=e,a=this.isProcessedItemGroup(n),p=dn(n.parent);if(this.isSelected(n)){let{index:C,key:A,parentKey:R,item:$}=n;this.activeItem.set(null),this.focusedItemInfo.set({index:C,key:A,parentKey:R,item:$}),this.dirty=!p,this.mobileActive||Wt(this.rootmenu?.menubarViewChild?.nativeElement,{preventScroll:!0})}else a?this.onItemChange(e):this.hide(i)}onItemMouseEnter(e){!this.mobileActive&&this.dirty&&this.onItemChange(e)}menuButtonClick(e){this.toggle(e)}menuButtonKeydown(e){(e.code==="Enter"||e.code==="NumpadEnter"||e.code==="Space")&&this.menuButtonClick(e)}toggle(e){this.mobileActive?(this.mobileActive=!1,Zi.clear(this.rootmenu.el.nativeElement),this.hide()):(this.mobileActive=!0,Zi.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu),setTimeout(()=>{this.show()},0)),this.bindOutsideClickListener(),e.preventDefault()}show(){this.focusedItemInfo.set({index:this.findFirstFocusedItemIndex(),level:0,parentKey:""}),Wt(this.rootmenu?.el.nativeElement)}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedItemId,n;i===null&&this.queryMatches?n=this.menubuttonViewChild.nativeElement:n=ti(this.rootmenu?.menubarViewChild?.nativeElement,`li[id="${i}"]`),n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"})}onItemChange(e){let{processedItem:i,isFocus:n}=e;if(dn(i))return;let{index:a,key:p,parentKey:y,items:C,item:A}=i,R=Gt(C);R&&this.activeItem.set(i),this.focusedItemInfo.set({index:a,key:p,parentKey:y,item:A}),R&&(this.dirty=!0),n&&Wt(this.rootmenu?.menubarViewChild?.nativeElement)}hide(e,i){this.mobileActive&&(this.mobileActive=!1,setTimeout(()=>{Wt(this.menubuttonViewChild?.nativeElement),this.scrollInView()},100)),this.activeItem.set(null),this.focusedItemInfo.set({index:-1,key:"",parentKey:"",item:null}),i&&Wt(this.rootmenu?.menubarViewChild?.nativeElement),this.dirty=!1}onMenuFocus(e){if(this.focused=!0,this.focusedItemInfo().index===-1){let i=this.findFirstFocusedItemIndex(),n=this.findVisibleItem(i);this.focusedItemInfo.set({index:i,key:n.key,parentKey:n.parentKey,item:n.item})}}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1}onKeyDown(e){let i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!i&&Jo(e.key)&&this.searchItems(e,e.key);break}}findFirstFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}isProcessedItemGroup(e){return e&&Gt(e.items)}isSelected(e){return Gt(this.activeItem())?this.activeItem().key===e.key:!1}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&Gt(e.items)}searchItems(e,i){this.searchValue=(this.searchValue||"")+i;let n=-1,a=!1;return this.focusedItemInfo().index!==-1?(n=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(p=>this.isItemMatched(p)),n=n===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(p=>this.isItemMatched(p)):n+this.focusedItemInfo().index):n=this.visibleItems.findIndex(p=>this.isItemMatched(p)),n!==-1&&(a=!0),n===-1&&this.focusedItemInfo().index===-1&&(n=this.findFirstFocusedItemIndex()),n!==-1&&this.changeFocusedItemInfo(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),a}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}changeFocusedItemInfo(e,i){let n=this.findVisibleItem(i);if(Gt(n)){let{key:a,parentKey:p,item:y}=n;this.focusedItemInfo.set({index:i,key:a||"",parentKey:p,item:y})}this.scrollInView()}onArrowDownKey(e){if(this.orientation==="horizontal")if(Gt(this.activeItem())&&this.activeItem().key===this.focusedItemInfo().key){let{key:n,item:a}=this.activeItem();this.focusedItemInfo.set({index:-1,key:"",parentKey:n,item:a})}else{let n=this.findVisibleItem(this.focusedItemInfo().index);if(this.isProccessedItemGroup(n)){let{parentKey:p,key:y,item:C}=n;this.onItemChange({originalEvent:e,processedItem:n}),this.focusedItemInfo.set({index:-1,key:y,parentKey:p,item:C}),this.searchValue=""}}let i=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemInfo(e,i),e.preventDefault()}onArrowRightKey(e){let i=this.findVisibleItem(this.focusedItemInfo().index);if(this.isProccessedItemGroup(i)){if(this.orientation==="vertical")if(Gt(this.activeItem())&&this.activeItem().key===i.key)this.focusedItemInfo.set({index:-1,key:"",parentKey:this.activeItem().key,item:i.item});else{let p=this.findVisibleItem(this.focusedItemInfo().index);this.isProccessedItemGroup(p)&&(this.onItemChange({originalEvent:e,processedItem:p}),this.focusedItemInfo.set({index:-1,key:p.key,parentKey:p.parentKey,item:p.item}),this.searchValue="")}let a=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemInfo(e,a)}else{let a=i.columnIndex+1,p=this.visibleItems.findIndex(y=>y.columnIndex===a);p!==-1&&this.changeFocusedItemInfo(e,p)}e.preventDefault()}onArrowUpKey(e){if(e.altKey&&this.orientation==="horizontal"){if(this.focusedItemInfo().index!==-1){let i=this.findVisibleItem(this.focusedItemInfo().index);!this.isProccessedItemGroup(i)&&Gt(this.activeItem)&&(this.focusedItemInfo().index===0?(this.focusedItemInfo.set({index:this.activeItem().index,key:this.activeItem().key,parentKey:this.activeItem().parentKey,item:i.item}),this.activeItem.set(null)):this.changeFocusedItemInfo(e,this.findFirstItemIndex()))}e.preventDefault()}else{let i=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemInfo(e,i),e.preventDefault()}}onArrowLeftKey(e){let i=this.findVisibleItem(this.focusedItemInfo().index);if(this.isProccessedItemGroup(i)){if(this.orientation==="horizontal"){let a=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemInfo(e,a)}}else{this.orientation==="vertical"&&Gt(this.activeItem())&&i.columnIndex===0&&(this.focusedItemInfo.set({index:this.activeItem().index,key:this.activeItem().key,parentKey:this.activeItem().parentKey,item:i.item}),this.activeItem.set(null));let a=i.columnIndex-1,p=this.visibleItems.findIndex(y=>y.columnIndex===a);p!==-1&&this.changeFocusedItemInfo(e,p)}e.preventDefault()}onHomeKey(e){this.changeFocusedItemInfo(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemInfo(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){Gt(this.activeItem())&&(this.focusedItemInfo.set({index:this.activeItem().index,key:this.activeItem().key,item:this.activeItem().item}),this.activeItem.set(null)),e.preventDefault()}onTabKey(e){if(this.focusedItemInfo().index!==-1){let i=this.findVisibleItem(this.focusedItemInfo().index);!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:e,processedItem:i})}this.hide()}onEnterKey(e){if(this.focusedItemInfo().index!==-1){let i=ti(this.rootmenu?.el?.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),n=i&&ti(i,'a[data-pc-section="action"]');n?n.click():i&&i.click();let a=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(a)&&this.changeFocusedItemInfo(e,this.findFirstFocusedItemIndex())}e.preventDefault()}findVisibleItem(e){return Gt(this.visibleItems)?this.visibleItems[e]:null}findLastFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return Xn(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){let i=e>0?Xn(this.visibleItems.slice(0,e),n=>this.isValidItem(n)):-1;return i>-1?i:e}findNextItemIndex(e){let i=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(n=>this.isValidItem(n)):-1;return i>-1?i+e+1:e}bindResizeListener(){this.resizeListener||(this.resizeListener=e=>{Vr()||this.hide(e,!0),this.mobileActive=!1},window.addEventListener("resize",this.resizeListener))}bindOutsideClickListener(){ci(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",e=>{this.el?.nativeElement!==e.target&&!this.el?.nativeElement.contains(e.target)&&this.hide()})))}unbindOutsideClickListener(){this.outsideClickListener&&(this.outsideClickListener(),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}ngOnDestroy(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindMatchMediaListener(),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Je({type:t,selectors:[["p-megaMenu"],["p-megamenu"],["p-mega-menu"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,iee,4),ve(a,nee,4),ve(a,aee,4),ve(a,oee,4),ve(a,ree,4),ve(a,see,4),ve(a,lee,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.startTemplate=p.first),le(p=ce())&&(n.endTemplate=p.first),le(p=ce())&&(n.menuIconTemplate=p.first),le(p=ce())&&(n.submenuIconTemplate=p.first),le(p=ce())&&(n.itemTemplate=p.first),le(p=ce())&&(n.buttonTemplate=p.first),le(p=ce())&&(n.buttonIconTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&(dt(cee,5),dt(uee,5)),i&2){let a;le(a=ce())&&(n.menubuttonViewChild=a.first),le(a=ce())&&(n.rootmenu=a.first)}},hostAttrs:["data-pc-section","root","data-pc-name","megamenu"],hostVars:3,hostBindings:function(i,n){i&2&&(eo("id",n.id),K(n.cn(n.cx("root"),n.styleClass)))},inputs:{model:"model",styleClass:"styleClass",orientation:"orientation",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",breakpoint:"breakpoint",scrollHeight:"scrollHeight",disabled:[2,"disabled","disabled",we],tabindex:[2,"tabindex","tabindex",Tt]},features:[bt([By]),gt],decls:6,vars:20,consts:[["rootmenu",""],["menubutton",""],[3,"class",4,"ngIf"],[4,"ngIf"],[4,"ngTemplateOutlet"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","itemTemplate","items","menuId","root","orientation","ariaLabel","disabled","tabindex","activeItem","level","ariaLabelledBy","focusedItemId","mobileActive","queryMatches","scrollHeight"],["role","button","tabindex","0",3,"class","click","keydown",4,"ngIf"],["role","button","tabindex","0",3,"click","keydown"],["data-p-icon","bars",4,"ngIf"],["data-p-icon","bars"]],template:function(i,n){if(i&1){let a=Re();B(0,pee,2,3,"div",2)(1,_ee,2,1,"ng-container",3)(2,bee,1,0,"ng-container",4),L(3,"p-megamenu-sub",5,0),Ie("itemClick",function(y){return Z(a),X(n.onItemClick(y))})("menuFocus",function(y){return Z(a),X(n.onMenuFocus(y))})("menuBlur",function(y){return Z(a),X(n.onMenuBlur(y))})("menuKeydown",function(y){return Z(a),X(n.onKeyDown(y))})("itemMouseEnter",function(y){return Z(a),X(n.onItemMouseEnter(y))}),D(),B(5,vee,2,3,"div",2)}i&2&&(T("ngIf",n.startTemplate||n._startTemplate),S(),T("ngIf",!n.buttonTemplate&&!n._buttonTemplate),S(),T("ngTemplateOutlet",n.buttonTemplate||n._buttonTemplate),S(),T("itemTemplate",n.itemTemplate||n._itemTemplate)("items",n.processedItems)("menuId",n.id)("root",!0)("orientation",n.orientation)("ariaLabel",n.ariaLabel)("disabled",n.disabled)("tabindex",n.disabled?-1:n.tabindex)("activeItem",n.activeItem())("level",0)("ariaLabelledBy",n.ariaLabelledBy)("focusedItemId",n.focused?n.focusedItemId:void 0)("mobileActive",n.mobileActive)("queryMatches",n.queryMatches)("scrollHeight",n.scrollHeight),ue("id",n.id+"_list"),S(2),T("ngIf",n.endTemplate||n._endTemplate))},dependencies:[mt,$t,ei,io,Iee,ya,qf,Go,Xe],encapsulation:2,changeDetection:0})}return t})(),q4=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[s_,Xe,Xe]})}return t})();var j4=`
    .p-panelmenu {
        display: flex;
        flex-direction: column;
        gap: dt('panelmenu.gap');
    }

    .p-panelmenu-panel {
        background: dt('panelmenu.panel.background');
        border-width: dt('panelmenu.panel.border.width');
        border-style: solid;
        border-color: dt('panelmenu.panel.border.color');
        color: dt('panelmenu.panel.color');
        border-radius: dt('panelmenu.panel.border.radius');
        padding: dt('panelmenu.panel.padding');
    }

    .p-panelmenu-panel:first-child {
        border-width: dt('panelmenu.panel.first.border.width');
        border-start-start-radius: dt('panelmenu.panel.first.top.border.radius');
        border-start-end-radius: dt('panelmenu.panel.first.top.border.radius');
    }

    .p-panelmenu-panel:last-child {
        border-width: dt('panelmenu.panel.last.border.width');
        border-end-start-radius: dt('panelmenu.panel.last.bottom.border.radius');
        border-end-end-radius: dt('panelmenu.panel.last.bottom.border.radius');
    }

    .p-panelmenu-header {
        outline: 0 none;
    }

    .p-panelmenu-header-content {
        border-radius: dt('panelmenu.item.border.radius');
        transition:
            background dt('panelmenu.transition.duration'),
            color dt('panelmenu.transition.duration'),
            outline-color dt('panelmenu.transition.duration'),
            box-shadow dt('panelmenu.transition.duration');
        outline-color: transparent;
        color: dt('panelmenu.item.color');
    }

    .p-panelmenu-header-link {
        display: flex;
        gap: dt('panelmenu.item.gap');
        padding: dt('panelmenu.item.padding');
        align-items: center;
        user-select: none;
        cursor: pointer;
        position: relative;
        text-decoration: none;
        color: inherit;
    }

    .p-panelmenu-header-icon,
    .p-panelmenu-item-icon {
        color: dt('panelmenu.item.icon.color');
    }

    .p-panelmenu-submenu-icon {
        color: dt('panelmenu.submenu.icon.color');
    }

    .p-panelmenu-submenu-icon:dir(rtl) {
        transform: rotate(180deg);
    }

    .p-panelmenu-header:not(.p-disabled):focus-visible .p-panelmenu-header-content {
        background: dt('panelmenu.item.focus.background');
        color: dt('panelmenu.item.focus.color');
    }

    .p-panelmenu-header:not(.p-disabled):focus-visible .p-panelmenu-header-content .p-panelmenu-header-icon {
        color: dt('panelmenu.item.icon.focus.color');
    }

    .p-panelmenu-header:not(.p-disabled):focus-visible .p-panelmenu-header-content .p-panelmenu-submenu-icon {
        color: dt('panelmenu.submenu.icon.focus.color');
    }

    .p-panelmenu-header:not(.p-disabled) .p-panelmenu-header-content:hover {
        background: dt('panelmenu.item.focus.background');
        color: dt('panelmenu.item.focus.color');
    }

    .p-panelmenu-header:not(.p-disabled) .p-panelmenu-header-content:hover .p-panelmenu-header-icon {
        color: dt('panelmenu.item.icon.focus.color');
    }

    .p-panelmenu-header:not(.p-disabled) .p-panelmenu-header-content:hover .p-panelmenu-submenu-icon {
        color: dt('panelmenu.submenu.icon.focus.color');
    }

    .p-panelmenu-submenu {
        margin: 0;
        padding: 0 0 0 dt('panelmenu.submenu.indent');
        outline: 0;
        list-style: none;
    }

    .p-panelmenu-submenu:dir(rtl) {
        padding: 0 dt('panelmenu.submenu.indent') 0 0;
    }

    .p-panelmenu-item-link {
        display: flex;
        gap: dt('panelmenu.item.gap');
        padding: dt('panelmenu.item.padding');
        align-items: center;
        user-select: none;
        cursor: pointer;
        text-decoration: none;
        color: inherit;
        position: relative;
        overflow: hidden;
    }

    .p-panelmenu-item-label {
        line-height: 1;
    }

    .p-panelmenu-item-content {
        border-radius: dt('panelmenu.item.border.radius');
        transition:
            background dt('panelmenu.transition.duration'),
            color dt('panelmenu.transition.duration'),
            outline-color dt('panelmenu.transition.duration'),
            box-shadow dt('panelmenu.transition.duration');
        color: dt('panelmenu.item.color');
        outline-color: transparent;
    }

    .p-panelmenu-item.p-focus > .p-panelmenu-item-content {
        background: dt('panelmenu.item.focus.background');
        color: dt('panelmenu.item.focus.color');
    }

    .p-panelmenu-item.p-focus > .p-panelmenu-item-content .p-panelmenu-item-icon {
        color: dt('panelmenu.item.focus.color');
    }

    .p-panelmenu-item.p-focus > .p-panelmenu-item-content .p-panelmenu-submenu-icon {
        color: dt('panelmenu.submenu.icon.focus.color');
    }

    .p-panelmenu-item:not(.p-disabled) > .p-panelmenu-item-content:hover {
        background: dt('panelmenu.item.focus.background');
        color: dt('panelmenu.item.focus.color');
    }

    .p-panelmenu-item:not(.p-disabled) > .p-panelmenu-item-content:hover .p-panelmenu-item-icon {
        color: dt('panelmenu.item.icon.focus.color');
    }

    .p-panelmenu-item:not(.p-disabled) > .p-panelmenu-item-content:hover .p-panelmenu-submenu-icon {
        color: dt('panelmenu.submenu.icon.focus.color');
    }
`;var Cee=["list"],Ry=t=>({processedItem:t}),H4=()=>({exact:!1}),G4=t=>({$implicit:t});function See(t,s){if(t&1&&oe(0,"li",6),t&2){let e=M().$implicit,i=M();K(i.cn(i.cx("separator"),i.getItemProp(e,"styleClass")))}}function Mee(t,s){if(t&1&&(it(),oe(0,"svg",19)),t&2){let e=M(6).$implicit,i=M();K(i.cn(i.cx("submenuIcon"),i.getItemProp(e,"icon"))),T("ngStyle",i.getItemProp(e,"iconStyle"))}}function kee(t,s){if(t&1&&(it(),oe(0,"svg",20)),t&2){let e=M(6).$implicit,i=M();K(i.cn(i.cx("submenuIcon"),i.getItemProp(e,"icon"))),T("ngStyle",i.getItemProp(e,"iconStyle"))}}function Eee(t,s){if(t&1&&(We(0),B(1,Mee,1,3,"svg",17)(2,kee,1,3,"svg",18),Qe()),t&2){let e=M(5).$implicit,i=M();S(),T("ngIf",i.isItemActive(e)),S(),T("ngIf",!i.isItemActive(e))}}function Pee(t,s){}function Dee(t,s){t&1&&B(0,Pee,0,0,"ng-template")}function Lee(t,s){if(t&1&&(We(0),B(1,Eee,3,2,"ng-container",9)(2,Dee,1,0,null,16),Qe()),t&2){let e=M(5);S(),T("ngIf",!e.panelMenu.submenuIconTemplate&&!e.panelMenu._submenuIconTemplate),S(),T("ngTemplateOutlet",e.panelMenu.submenuIconTemplate||e.panelMenu._submenuIconTemplate)}}function Aee(t,s){if(t&1&&oe(0,"span",21),t&2){let e=M(4).$implicit,i=M();K(i.cx("itemIcon",rt(3,Ry,e))),T("ngStyle",i.getItemProp(e,"iconStyle"))}}function Fee(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(4).$implicit,i=M();K(i.cx("itemLabel")),S(),Dt(i.getItemProp(e,"label"))}}function Oee(t,s){if(t&1&&oe(0,"span",22),t&2){let e=M(4).$implicit,i=M();K(i.cx("itemLabel")),T("innerHTML",i.getItemProp(e,"label"),ba)}}function Vee(t,s){if(t&1&&(L(0,"a",13),B(1,Lee,3,2,"ng-container",9)(2,Aee,1,5,"span",14)(3,Fee,2,3,"span",15)(4,Oee,1,3,"ng-template",null,1,Be),D()),t&2){let e=Ut(5),i=M(3).$implicit,n=M();K(n.cx("itemLink")),T("target",n.getItemProp(i,"target")),ue("href",n.getItemProp(i,"url"),an)("data-pc-section","action")("tabindex",n.parentExpanded?"0":"-1"),S(),T("ngIf",n.isItemGroup(i)),S(),T("ngIf",i.icon),S(),T("ngIf",(i.item==null?null:i.item.escape)!==!1)("ngIfElse",e)}}function zee(t,s){if(t&1&&(it(),oe(0,"svg",19)),t&2){let e=M(6).$implicit,i=M();K(i.cn(i.cx("submenuIcon"),i.getItemProp(e,"icon"))),T("ngStyle",i.getItemProp(e,"iconStyle"))}}function Bee(t,s){if(t&1&&(it(),oe(0,"svg",20)),t&2){let e=M(6).$implicit,i=M();K(i.cn(i.cx("submenuIcon"),i.getItemProp(e,"icon"))),T("ngStyle",i.getItemProp(e,"iconStyle"))}}function Ree(t,s){if(t&1&&(We(0),B(1,zee,1,3,"svg",17)(2,Bee,1,3,"svg",18),Qe()),t&2){let e=M(5).$implicit,i=M();S(),T("ngIf",i.isItemActive(e)),S(),T("ngIf",!i.isItemActive(e))}}function Nee(t,s){}function qee(t,s){t&1&&B(0,Nee,0,0,"ng-template")}function jee(t,s){if(t&1&&(We(0),B(1,Ree,3,2,"ng-container",9)(2,qee,1,0,null,16),Qe()),t&2){let e=M(5);S(),T("ngIf",!e.panelMenu.submenuIconTemplate&&!e.panelMenu._submenuIconTemplate),S(),T("ngTemplateOutlet",e.panelMenu.submenuIconTemplate&&e.panelMenu._submenuIconTemplate)}}function Hee(t,s){if(t&1&&oe(0,"span",21),t&2){let e=M(4).$implicit,i=M();K(i.cn(i.cx("itemIcon"),i.getItemProp(e,"icon"))),T("ngStyle",i.getItemProp(e,"iconStyle"))}}function Gee(t,s){if(t&1&&oe(0,"span",22),t&2){let e=M(4).$implicit,i=M();K(i.cx("itemLabel")),T("innerHTML",i.getItemProp(e,"label"),ba)}}function Uee(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(4).$implicit,i=M();K(i.cn(i.cx("badge"),i.getItemProp(e,"badgeStyleClass"))),S(),Dt(e.badge)}}function $ee(t,s){if(t&1&&(L(0,"a",23),B(1,jee,3,2,"ng-container",9)(2,Hee,1,3,"span",14)(3,Gee,1,3,"span",24)(4,Uee,2,3,"span",25),D()),t&2){let e=M(3).$implicit,i=M();K(i.cx("itemLink")),T("routerLink",i.getItemProp(e,"routerLink"))("queryParams",i.getItemProp(e,"queryParams"))("routerLinkActive","p-panelmenu-item-link-active")("routerLinkActiveOptions",i.getItemProp(e,"routerLinkActiveOptions")||Kt(20,H4))("target",i.getItemProp(e,"target"))("fragment",i.getItemProp(e,"fragment"))("queryParamsHandling",i.getItemProp(e,"queryParamsHandling"))("preserveFragment",i.getItemProp(e,"preserveFragment"))("skipLocationChange",i.getItemProp(e,"skipLocationChange"))("replaceUrl",i.getItemProp(e,"replaceUrl"))("state",i.getItemProp(e,"state")),ue("title",i.getItemProp(e,"title"))("data-pc-section","action")("tabindex",i.parentExpanded?"0":"-1"),S(),T("ngIf",i.isItemGroup(e)),S(),T("ngIf",e.icon),S(),T("ngIf",i.getItemProp(e,"label")),S(),T("ngIf",e.badge)}}function Kee(t,s){if(t&1&&(We(0),B(1,Vee,6,10,"a",11)(2,$ee,5,21,"a",12),Qe()),t&2){let e=M(2).$implicit,i=M();S(),T("ngIf",!i.getItemProp(e,"routerLink")),S(),T("ngIf",i.getItemProp(e,"routerLink"))}}function Wee(t,s){}function Qee(t,s){t&1&&B(0,Wee,0,0,"ng-template")}function Zee(t,s){if(t&1&&(We(0),B(1,Qee,1,0,null,26),Qe()),t&2){let e=M(2).$implicit,i=M();S(),T("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",rt(2,G4,e.item))}}function Xee(t,s){if(t&1){let e=Re();L(0,"p-panelmenu-sub",27),Ie("itemToggle",function(n){Z(e);let a=M(3);return X(a.onItemToggle(n))}),D()}if(t&2){let e=M(2).$implicit,i=M();T("id",i.getItemId(e)+"_list")("panelId",i.panelId)("items",e==null?null:e.items)("itemTemplate",i.itemTemplate)("transitionOptions",i.transitionOptions)("focusedItemId",i.focusedItemId)("activeItemPath",i.activeItemPath)("level",i.level+1)("parentExpanded",!!i.parentExpanded&&i.isItemExpanded(e))}}function Yee(t,s){if(t&1){let e=Re();L(0,"li",7)(1,"div",8),Ie("click",function(n){Z(e);let a=M().$implicit,p=M();return X(p.onItemClick(n,a))}),B(2,Kee,3,2,"ng-container",9)(3,Zee,2,4,"ng-container",9),D(),L(4,"div"),B(5,Xee,1,9,"p-panelmenu-sub",10),D()()}if(t&2){let e=M(),i=e.$implicit,n=e.index,a=M();K(a.cn(a.cx("item",rt(18,Ry,i)),a.getItemProp(i,"styleClass"))),T("ngStyle",a.getItemProp(i,"style"))("pTooltip",a.getItemProp(i,"tooltip"))("tooltipOptions",a.getItemProp(i,"tooltipOptions")),ue("id",a.getItemId(i))("aria-label",a.getItemProp(i,"label"))("aria-expanded",a.isItemGroup(i)?a.isItemActive(i):void 0)("aria-level",a.level+1)("aria-setsize",a.getAriaSetSize())("aria-posinset",a.getAriaPosInset(n))("data-p-disabled",a.isItemDisabled(i)),S(),K(a.cx("itemContent")),S(),T("ngIf",!a.itemTemplate),S(),T("ngIf",a.itemTemplate),S(),T("@submenu",a.getAnimation(i)),S(),T("ngIf",a.isItemVisible(i)&&a.isItemGroup(i)&&a.isItemExpanded(i))}}function Jee(t,s){if(t&1&&B(0,See,1,2,"li",4)(1,Yee,6,20,"li",5),t&2){let e=s.$implicit,i=M();T("ngIf",e.separator),S(),T("ngIf",!e.separator&&i.isItemVisible(e))}}var ete=["submenu"],tte=["submenuicon"],ite=["headericon"],nte=["item"],ate=["container"],ote=t=>({item:t});function rte(t,s){if(t&1&&(it(),oe(0,"svg",17)),t&2){let e=M(7);K(e.cx("headerIcon"))}}function ste(t,s){if(t&1&&(it(),oe(0,"svg",18)),t&2){let e=M(7);K(e.cx("headerIcon"))}}function lte(t,s){if(t&1&&(We(0),B(1,rte,1,2,"svg",15)(2,ste,1,2,"svg",16),Qe()),t&2){let e=M(5).$implicit,i=M();S(),T("ngIf",i.isItemActive(e)),S(),T("ngIf",!i.isItemActive(e))}}function cte(t,s){}function ute(t,s){t&1&&B(0,cte,0,0,"ng-template")}function dte(t,s){if(t&1&&(We(0),B(1,lte,3,2,"ng-container",6)(2,ute,1,0,null,14),Qe()),t&2){let e=M(5);S(),T("ngIf",!e.headerIconTemplate&&!e._headerIconTemplate),S(),T("ngTemplateOutlet",e.headerIconTemplate||e._headerIconTemplate)}}function pte(t,s){if(t&1&&oe(0,"span",4),t&2){let e=M(4).$implicit,i=M();K(i.cn(i.cx("headerIcon"),e.icon)),T("ngStyle",i.getItemProp(e,"iconStyle"))}}function hte(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(4).$implicit,i=M();K(i.cx("headerLabel")),S(),Dt(i.getItemProp(e,"label"))}}function mte(t,s){if(t&1&&oe(0,"span",19),t&2){let e=M(4).$implicit,i=M();K(i.cx("headerLabel")),T("innerHTML",i.getItemProp(e,"label"),ba)}}function fte(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(4).$implicit,i=M();K(i.cn(i.cx("badge"),i.getItemProp(e,"badgeStyleClass"))),S(),Dt(i.getItemProp(e,"badge"))}}function gte(t,s){if(t&1&&(L(0,"a",11),B(1,dte,3,2,"ng-container",6)(2,pte,1,3,"span",3)(3,hte,2,3,"span",12)(4,mte,1,3,"ng-template",null,0,Be)(6,fte,2,3,"span",13),D()),t&2){let e=Ut(5),i=M(3).$implicit,n=M();K(n.cx("headerLink")),T("target",n.getItemProp(i,"target")),ue("href",n.getItemProp(i,"url"),an)("tabindex",-1)("title",n.getItemProp(i,"title"))("data-pc-section","headeraction"),S(),T("ngIf",n.isItemGroup(i)),S(),T("ngIf",i.icon),S(),T("ngIf",n.getItemProp(i,"escape")!==!1)("ngIfElse",e),S(3),T("ngIf",n.getItemProp(i,"badge"))}}function _te(t,s){if(t&1&&(We(0),B(1,gte,7,12,"a",10),Qe()),t&2){let e=M(2).$implicit,i=M();S(),T("ngIf",!i.getItemProp(e,"routerLink"))}}function bte(t,s){t&1&&nt(0)}function yte(t,s){if(t&1&&(it(),oe(0,"svg",17)),t&2){let e=M(6);K(e.cx("headerIcon"))}}function vte(t,s){if(t&1&&(it(),oe(0,"svg",18)),t&2){let e=M(6);K(e.cx("headerIcon"))}}function xte(t,s){if(t&1&&(We(0),B(1,yte,1,2,"svg",15)(2,vte,1,2,"svg",16),Qe()),t&2){let e=M(4).$implicit,i=M();S(),T("ngIf",i.isItemActive(e)),S(),T("ngIf",!i.isItemActive(e))}}function wte(t,s){}function Ite(t,s){t&1&&B(0,wte,0,0,"ng-template")}function Tte(t,s){if(t&1&&(We(0),B(1,xte,3,2,"ng-container",6)(2,Ite,1,0,null,14),Qe()),t&2){let e=M(4);S(),T("ngIf",!e.headerIconTemplate&&!e._headerIconTemplate),S(),T("ngTemplateOutlet",e.headerIconTemplate||e._headerIconTemplate)}}function Cte(t,s){if(t&1&&oe(0,"span",4),t&2){let e=M(3).$implicit,i=M();K(i.cn(i.cx("headerIcon"),e.icon)),T("ngStyle",i.getItemProp(e,"iconStyle"))}}function Ste(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(3).$implicit,i=M();K(i.cx("headerLabel")),S(),Dt(i.getItemProp(e,"label"))}}function Mte(t,s){if(t&1&&oe(0,"span",19),t&2){let e=M(3).$implicit,i=M();K(i.cx("headerLabel")),T("innerHTML",i.getItemProp(e,"label"),ba)}}function kte(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(3).$implicit,i=M();K(i.cn(i.cx("badge"),i.getItemProp(e,"badgeStyleClass"))),S(),Dt(i.getItemProp(e,"badge"))}}function Ete(t,s){if(t&1&&(L(0,"a",20),B(1,Tte,3,2,"ng-container",6)(2,Cte,1,3,"span",3)(3,Ste,2,3,"span",12)(4,Mte,1,3,"ng-template",null,1,Be)(6,kte,2,3,"span",13),D()),t&2){let e=Ut(5),i=M(2).$implicit,n=M();K(n.cx("headerLink")),T("routerLink",n.getItemProp(i,"routerLink"))("queryParams",n.getItemProp(i,"queryParams"))("routerLinkActive","p-panelmenu-item-link-active")("routerLinkActiveOptions",n.getItemProp(i,"routerLinkActiveOptions")||Kt(20,H4))("target",n.getItemProp(i,"target"))("fragment",n.getItemProp(i,"fragment"))("queryParamsHandling",n.getItemProp(i,"queryParamsHandling"))("preserveFragment",n.getItemProp(i,"preserveFragment"))("skipLocationChange",n.getItemProp(i,"skipLocationChange"))("replaceUrl",n.getItemProp(i,"replaceUrl"))("state",n.getItemProp(i,"state")),ue("tabindex",-1)("data-pc-section","headeraction"),S(),T("ngIf",n.isItemGroup(i)),S(),T("ngIf",i.icon),S(),T("ngIf",n.getItemProp(i,"escape")!==!1)("ngIfElse",e),S(3),T("ngIf",n.getItemProp(i,"badge"))}}function Pte(t,s){if(t&1){let e=Re();L(0,"div",21),Ie("@rootItem.done",function(){Z(e);let n=M(3);return X(n.onToggleDone())}),L(1,"div")(2,"p-panelMenuList",22),Ie("headerFocus",function(n){Z(e);let a=M(3);return X(a.updateFocusedHeader(n))}),D()()()}if(t&2){let e=M(2),i=e.$implicit,n=e.index,a=M();K(a.cx("contentContainer",rt(17,Ry,i))),T("@rootItem",a.getAnimation(i)),ue("id",a.getContentId(i,n))("aria-labelledby",a.getHeaderId(i,n))("data-pc-section","toggleablecontent"),S(),K(a.cx("content")),ue("data-pc-section","menucontent"),S(),T("panelId",a.getPanelId(n,i))("items",a.getItemProp(i,"items"))("itemTemplate",a.itemTemplate||a._itemTemplate)("transitionOptions",a.transitionOptions)("root",!0)("activeItem",a.activeItem())("tabindex",a.tabindex)("parentExpanded",a.isItemActive(i))}}function Dte(t,s){if(t&1){let e=Re();L(0,"div",4)(1,"div",5),Ie("click",function(n){Z(e);let a=M(),p=a.$implicit,y=a.index,C=M();return X(C.onHeaderClick(n,p,y))})("keydown",function(n){Z(e);let a=M(),p=a.$implicit,y=a.index,C=M();return X(C.onHeaderKeyDown(n,p,y))}),L(2,"div"),B(3,_te,2,1,"ng-container",6)(4,bte,1,0,"ng-container",7)(5,Ete,7,21,"a",8),D()(),B(6,Pte,3,19,"div",9),D()}if(t&2){let e=M(),i=e.$implicit,n=e.index,a=M();K(a.cn(a.cx("panel"),a.getItemProp(i,"headerClass"))),T("ngStyle",a.getItemProp(i,"style")),ue("data-pc-section","panel"),S(),K(a.cn(a.cx("header",rt(25,ote,i)),a.getItemProp(i,"styleClass"))),T("ngStyle",a.getItemProp(i,"style"))("pTooltip",a.getItemProp(i,"tooltip"))("tabindex",0)("tooltipOptions",a.getItemProp(i,"tooltipOptions")),ue("id",a.getHeaderId(i,n))("aria-expanded",a.isItemActive(i))("aria-label",a.getItemProp(i,"label"))("aria-controls",a.getContentId(i,n))("aria-disabled",a.isItemDisabled(i))("data-p-highlight",a.isItemActive(i))("data-p-disabled",a.isItemDisabled(i))("data-pc-section","header"),S(),K(a.cx("headerContent")),S(),T("ngIf",!a.itemTemplate&&!a._itemTemplate),S(),T("ngTemplateOutlet",a.itemTemplate)("ngTemplateOutletContext",rt(27,G4,i)),S(),T("ngIf",a.getItemProp(i,"routerLink")),S(),T("ngIf",a.isItemGroup(i))}}function Lte(t,s){if(t&1&&(We(0),B(1,Dte,7,29,"div",3),Qe()),t&2){let e=s.$implicit,i=M();S(),T("ngIf",i.isItemVisible(e))}}var Ate=`
    ${j4}
    /*For PrimeNG*/
    .p-panelmenu-item:not(.ng-animating) {
        overflow: hidden;
    }

    .p-panelmenu-panel {
        overflow: hidden;
    }

    .p-panelmenu-root-list,
    .p-panelmenu-submenu,
    .p-panelmenu-item-link {
        outline: 0 none;
    }
`,Fte={root:()=>["p-panelmenu p-component"],panel:"p-panelmenu-panel",header:({instance:t,item:s})=>["p-panelmenu-header",{"p-panelmenu-header-active":t.isItemActive(s)&&!!s.items,"p-disabled":t.isItemDisabled(s)}],headerContent:"p-panelmenu-header-content",headerLink:"p-panelmenu-header-link",headerIcon:"p-panelmenu-header-icon",headerLabel:"p-panelmenu-header-label",contentContainer:({instance:t,processedItem:s})=>["p-panelmenu-content-container",{"p-panelmenu-expanded":t.isItemActive(s)}],content:"p-panelmenu-content",rootList:"p-panelmenu-root-list",item:({instance:t,processedItem:s})=>["p-panelmenu-item",{"p-focus":t.isItemFocused(s)&&!t.isItemDisabled(s),"p-disabled":t.isItemDisabled(s)}],itemContent:"p-panelmenu-item-content",itemLink:"p-panelmenu-item-link",itemIcon:"p-panelmenu-item-icon",itemLabel:"p-panelmenu-item-label",submenuIcon:"p-panelmenu-submenu-icon",submenu:"p-panelmenu-submenu",separator:"p-menuitem-separator",badge:"p-menuitem-badge"},l_=(()=>{class t extends Vt{name="panelmenu";theme=Ate;classes=Fte;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var Ote=(()=>{class t extends Ot{panelId;focusedItemId;items;itemTemplate;level=0;activeItemPath;root;tabindex;transitionOptions;parentExpanded;itemToggle=new Fe;menuFocus=new Fe;menuBlur=new Fe;menuKeyDown=new Fe;listViewChild;panelMenu=lt(nn(()=>c_));_componentStyle=lt(l_);getItemId(e){return e.item?.id??`${this.panelId}_${e.key}`}getItemKey(e){return this.getItemId(e)}getItemClass(e){return{"p-panelmenu-item":!0,"p-disabled":this.isItemDisabled(e),"p-focus":this.isItemFocused(e)}}getItemProp(e,i,n){return e&&e.item?Mo(e.item[i],n):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isItemExpanded(e){return e.expanded}isItemActive(e){return this.isItemExpanded(e)||this.activeItemPath.some(i=>i&&i.key===e.key)}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return Gt(e.items)}getAnimation(e){return this.isItemActive(e)?{value:"visible",params:{transitionParams:this.transitionOptions,height:"*"}}:{value:"hidden",params:{transitionParams:this.transitionOptions,height:"0"}}}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(i=>this.isItemVisible(i)&&this.getItemProp(i,"separator")).length+1}onItemClick(e,i){this.isItemDisabled(i)||(this.getItemProp(i,"command",{originalEvent:e,item:i.item}),this.itemToggle.emit({processedItem:i,expanded:!this.isItemActive(i)}))}onItemToggle(e){this.itemToggle.emit(e)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-panelMenuSub"],["p-panelmenu-sub"]],viewQuery:function(i,n){if(i&1&&dt(Cee,5),i&2){let a;le(a=ce())&&(n.listViewChild=a.first)}},inputs:{panelId:"panelId",focusedItemId:"focusedItemId",items:"items",itemTemplate:"itemTemplate",level:[2,"level","level",Tt],activeItemPath:"activeItemPath",root:[2,"root","root",we],tabindex:[2,"tabindex","tabindex",Tt],transitionOptions:"transitionOptions",parentExpanded:[2,"parentExpanded","parentExpanded",we]},outputs:{itemToggle:"itemToggle",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeyDown:"menuKeyDown"},features:[bt([l_]),gt],decls:3,vars:7,consts:[["list",""],["htmlLabel",""],["role","tree",3,"focusin","focusout","keydown","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"class",4,"ngIf"],["role","treeitem",3,"class","ngStyle","pTooltip","tooltipOptions",4,"ngIf"],["role","separator"],["role","treeitem",3,"ngStyle","pTooltip","tooltipOptions"],[3,"click"],[4,"ngIf"],[3,"id","panelId","items","itemTemplate","transitionOptions","focusedItemId","activeItemPath","level","parentExpanded","itemToggle",4,"ngIf"],[3,"class","target",4,"ngIf"],[3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","class","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],[3,"target"],[3,"class","ngStyle",4,"ngIf"],[3,"class",4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["data-p-icon","chevron-down",3,"class","ngStyle",4,"ngIf"],["data-p-icon","chevron-right",3,"class","ngStyle",4,"ngIf"],["data-p-icon","chevron-down",3,"ngStyle"],["data-p-icon","chevron-right",3,"ngStyle"],[3,"ngStyle"],[3,"innerHTML"],[3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[3,"class","innerHTML",4,"ngIf"],[3,"class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemToggle","id","panelId","items","itemTemplate","transitionOptions","focusedItemId","activeItemPath","level","parentExpanded"]],template:function(i,n){if(i&1){let a=Re();L(0,"ul",2,0),Ie("focusin",function(y){return Z(a),X(n.menuFocus.emit(y))})("focusout",function(y){return Z(a),X(n.menuBlur.emit(y))})("keydown",function(y){return Z(a),X(n.menuKeyDown.emit(y))}),B(2,Jee,2,2,"ng-template",3),D()}i&2&&(K(n.root?n.cn(n.cx("rootList"),n.cx("submenu")):n.cx("submenu")),T("tabindex",-1),ue("aria-activedescendant",n.focusedItemId)("data-pc-section","menu")("aria-hidden",!n.parentExpanded),S(2),T("ngForOf",n.items))},dependencies:[t,mt,ji,$t,ei,bi,io,Tr,rl,ya,Ga,Ma,ao,Xe],encapsulation:2,data:{animation:[ra("submenu",[to("hidden",Ri({height:"0"})),to("visible",Ri({height:"*"})),Ni("visible <=> hidden",[Ki("{{transitionParams}}")]),Ni("void => *",Ki(0))])]}})}return t})(),Vte=(()=>{class t extends Ot{panelId;id;items;itemTemplate;parentExpanded;expanded;transitionOptions;root;tabindex;activeItem;itemToggle=new Fe;headerFocus=new Fe;subMenuViewChild;searchTimeout;searchValue;focused;focusedItem=Ei(null);activeItemPath=Ei([]);processedItems=Ei([]);visibleItems=Vi(()=>{let e=this.processedItems();return this.flatItems(e)});get focusedItemId(){let e=this.focusedItem();return e&&e.item?.id?e.item.id:Gt(this.focusedItem())?`${this.panelId}_${this.focusedItem().key}`:void 0}ngOnChanges(e){this.processedItems.set(this.createProcessedItems(e?.items?.currentValue||this.items||[]))}getItemProp(e,i){return e&&e.item?Mo(e.item[i]):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemActive(e){return this.activeItemPath().some(i=>i.key===e.parentKey)}isItemGroup(e){return Gt(e.items)}isElementInPanel(e,i){let n=e.currentTarget.closest('[data-pc-section="panel"]');return n&&n.contains(i)}isItemMatched(e){return this.isValidItem(e)&&this.getItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isVisibleItem(e){return!!e&&(e.level===0||this.isItemActive(e))&&this.isItemVisible(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e)&&!e.separator}findFirstItem(){return this.visibleItems().find(e=>this.isValidItem(e))}findLastItem(){return j1(this.visibleItems(),e=>this.isValidItem(e))}findItemByEventTarget(e){let i=e;for(;i&&i.tagName?.toLowerCase()!=="li";)i=i?.parentNode;return i?.id&&this.visibleItems().find(n=>this.isValidItem(n)&&`${this.panelId}_${n.key}`===i.id)}createProcessedItems(e,i=0,n={},a=""){let p=[];return e&&e.forEach((y,C)=>{let A=(a!==""?a+"_":"")+C,R={icon:y.icon,expanded:y.expanded,separator:y.separator,item:y,index:C,level:i,key:A,parent:n,parentKey:a};R.items=this.createProcessedItems(y.items,i+1,R,A),p.push(R)}),p}findProcessedItemByItemKey(e,i,n=0){if(i=i||this.processedItems(),i&&i.length)for(let a=0;a<i.length;a++){let p=i[a];if(this.getItemProp(p,"key")===e)return p;let y=this.findProcessedItemByItemKey(e,p.items,n+1);if(y)return y}}flatItems(e,i=[]){return e&&e.forEach(n=>{this.isVisibleItem(n)&&(i.push(n),this.flatItems(n.items,i))}),i}changeFocusedItem(e){let{originalEvent:i,processedItem:n,focusOnNext:a,selfCheck:p,allowHeaderFocus:y=!0}=e;Gt(this.focusedItem())&&this.focusedItem().key!==n.key?(this.focusedItem.set(n),this.scrollInView()):y&&this.headerFocus.emit({originalEvent:i,focusOnNext:a,selfCheck:p})}scrollInView(){let e=ti(this.subMenuViewChild.listViewChild.nativeElement,`li[id="${`${this.focusedItemId}`}"]`);e&&e.scrollIntoView&&e.scrollIntoView({block:"nearest",inline:"nearest"})}onFocus(e){if(!this.focused){this.focused=!0;let i=this.focusedItem()||(this.isElementInPanel(e,e.relatedTarget)?this.findItemByEventTarget(e.target)||this.findFirstItem():this.findLastItem());e.relatedTarget!==null&&this.focusedItem.set(i)}}onBlur(e){let i=e.relatedTarget;this.focused&&!this.el.nativeElement.contains(i)&&(this.focused=!1,this.focusedItem.set(null),this.searchValue="")}onItemToggle(e){let{processedItem:i,expanded:n}=e;i.item&&(i.item.expanded=!i.item.expanded),this.processedItems.set(this.createProcessedItems(this.items||[],0,{},""));let a=this.activeItemPath().filter(p=>p.parentKey!==i.parentKey);n&&a.push(i),this.activeItemPath.set(a),this.focusedItem.set(i)}onKeyDown(e){let i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":case"Tab":case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!i&&Jo(e.key)&&this.searchItems(e,e.key);break}}onArrowDownKey(e){let i=Gt(this.focusedItem())?this.findNextItem(this.focusedItem()):this.findFirstItem();this.changeFocusedItem({originalEvent:e,processedItem:i,focusOnNext:!0}),e.preventDefault()}onArrowUpKey(e){let i=Gt(this.focusedItem())?this.findPrevItem(this.focusedItem()):this.findLastItem();this.changeFocusedItem({originalEvent:e,processedItem:i,selfCheck:!0}),e.preventDefault()}onArrowLeftKey(e){if(Gt(this.focusedItem())){if(this.activeItemPath().some(n=>n.key===this.focusedItem().key)){let n=this.activeItemPath().filter(a=>a.key!==this.focusedItem().key);this.activeItemPath.set(n)}else{let n=Gt(this.focusedItem().parent)?this.focusedItem().parent:this.focusedItem();this.focusedItem.set(n)}e.preventDefault()}}onArrowRightKey(e){if(Gt(this.focusedItem())){if(this.isItemGroup(this.focusedItem()))if(this.activeItemPath().some(a=>a.key===this.focusedItem().key))this.onArrowDownKey(e);else{let a=this.activeItemPath().filter(p=>p.parentKey!==this.focusedItem().parentKey);a.push(this.focusedItem()),this.activeItemPath.set(a)}e.preventDefault()}}onHomeKey(e){this.changeFocusedItem({originalEvent:e,processedItem:this.findFirstItem(),allowHeaderFocus:!1}),e.preventDefault()}onEndKey(e){this.changeFocusedItem({originalEvent:e,processedItem:this.findLastItem(),focusOnNext:!0,allowHeaderFocus:!1}),e.preventDefault()}onEnterKey(e){if(Gt(this.focusedItem())){let i=ti(this.subMenuViewChild.listViewChild.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),n=i&&(ti(i,'[data-pc-section="action"]')||ti(i,"a,button"));n?n.click():i&&i.click()}e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}findNextItem(e){let i=this.visibleItems().findIndex(a=>a.key===e.key);return(i<this.visibleItems().length-1?this.visibleItems().slice(i+1).find(a=>this.isValidItem(a)):void 0)||e}findPrevItem(e){let i=this.visibleItems().findIndex(a=>a.key===e.key);return(i>0?j1(this.visibleItems().slice(0,i),a=>this.isValidItem(a)):void 0)||e}searchItems(e,i){this.searchValue=(this.searchValue||"")+i;let n=null,a=!1;if(Gt(this.focusedItem())){let p=this.visibleItems().findIndex(y=>y.key===this.focusedItem().key);n=this.visibleItems().slice(p).find(y=>this.isItemMatched(y)),n=dn(n)?this.visibleItems().slice(0,p).find(y=>this.isItemMatched(y)):n}else n=this.visibleItems().find(p=>this.isItemMatched(p));return Gt(n)&&(a=!0),dn(n)&&dn(this.focusedItem())&&(n=this.findFirstItem()),Gt(n)&&this.changeFocusedItem({originalEvent:e,processedItem:n,allowHeaderFocus:!1}),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),a}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-panelMenuList"],["p-panel-menu-list"]],viewQuery:function(i,n){if(i&1&&dt(ete,5),i&2){let a;le(a=ce())&&(n.subMenuViewChild=a.first)}},inputs:{panelId:"panelId",id:"id",items:"items",itemTemplate:"itemTemplate",parentExpanded:[2,"parentExpanded","parentExpanded",we],expanded:[2,"expanded","expanded",we],transitionOptions:"transitionOptions",root:[2,"root","root",we],tabindex:[2,"tabindex","tabindex",Tt],activeItem:"activeItem"},outputs:{itemToggle:"itemToggle",headerFocus:"headerFocus"},features:[gt,wr],decls:2,vars:10,consts:[["submenu",""],[3,"itemToggle","keydown","menuFocus","menuBlur","root","id","panelId","tabindex","itemTemplate","focusedItemId","activeItemPath","transitionOptions","items","parentExpanded"]],template:function(i,n){if(i&1){let a=Re();L(0,"p-panelmenu-sub",1,0),Ie("itemToggle",function(y){return Z(a),X(n.onItemToggle(y))})("keydown",function(y){return Z(a),X(n.onKeyDown(y))})("menuFocus",function(y){return Z(a),X(n.onFocus(y))})("menuBlur",function(y){return Z(a),X(n.onBlur(y))}),D()}i&2&&T("root",!0)("id",n.panelId+"_list")("panelId",n.panelId)("tabindex",n.tabindex)("itemTemplate",n.itemTemplate)("focusedItemId",n.focused?n.focusedItemId:void 0)("activeItemPath",n.activeItemPath())("transitionOptions",n.transitionOptions)("items",n.processedItems())("parentExpanded",n.parentExpanded)},dependencies:[mt,Ote,io,ya,Xe],encapsulation:2,changeDetection:0})}return t})(),c_=(()=>{class t extends Ot{model;styleClass;multiple=!1;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";id;tabindex=0;containerViewChild;submenuIconTemplate;headerIconTemplate;itemTemplate;templates;_submenuIconTemplate;_headerIconTemplate;_itemTemplate;animating;activeItem=Ei(null);_componentStyle=lt(l_);ngOnInit(){super.ngOnInit(),this.id=this.id||xi("pn_id_")}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"submenuicon":this._submenuIconTemplate=e.template;break;case"headericon":this._headerIconTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}collapseAll(){for(let e of this.model)e.expanded&&(e.expanded=!1);this.cd.detectChanges()}onToggleDone(){this.animating=!1,this.cd.markForCheck()}changeActiveItem(e,i,n,a=!1){if(!this.isItemDisabled(i)){let p=a?i:this.activeItem&&Ha(i,this.activeItem)?null:i;this.activeItem.set(p)}}getAnimation(e){return e.expanded?{value:"visible",params:{transitionParams:this.animating?this.transitionOptions:"0ms",height:"*"}}:{value:"hidden",params:{transitionParams:this.transitionOptions,height:"0"}}}getItemProp(e,i){return e?Mo(e[i]):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isItemActive(e){return e.expanded}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemGroup(e){return Gt(e.items)}getPanelId(e,i){return i&&i.id?i.id:`${this.id}_${e}`}getHeaderId(e,i){return e.id?e.id+"_header":`${this.getPanelId(i)}_header`}getContentId(e,i){return e.id?e.id+"_content":`${this.getPanelId(i)}_content`}updateFocusedHeader(e){let{originalEvent:i,focusOnNext:n,selfCheck:a}=e,p=i.currentTarget.closest('[data-pc-section="panel"]'),y=a?ti(p,'[data-pc-section="header"]'):n?this.findNextHeader(p):this.findPrevHeader(p);y?this.changeFocusedHeader(i,y):n?this.onHeaderHomeKey(i):this.onHeaderEndKey(i)}changeFocusedHeader(e,i){i&&Wt(i)}findNextHeader(e,i=!1){let n=i?e:e.nextElementSibling,a=ti(n,'[data-pc-section="header"]');return a?go(a,"data-p-disabled")?this.findNextHeader(a.parentElement):a:null}findPrevHeader(e,i=!1){let n=i?e:e.previousElementSibling,a=ti(n,'[data-pc-section="header"]');return a?go(a,"data-p-disabled")?this.findPrevHeader(a.parentElement):a:null}findFirstHeader(){return this.findNextHeader(this.containerViewChild.nativeElement.firstElementChild,!0)}findLastHeader(){return this.findPrevHeader(this.containerViewChild.nativeElement.lastElementChild,!0)}onHeaderClick(e,i,n){if(this.isItemDisabled(i)){e.preventDefault();return}if(i.command&&i.command({originalEvent:e,item:i}),!this.multiple)for(let a of this.model)i!==a&&a.expanded&&(a.expanded=!1);i.expanded=!i.expanded,this.changeActiveItem(e,i,n),this.animating=!0,Wt(e.currentTarget)}onHeaderKeyDown(e,i,n){switch(e.code){case"ArrowDown":this.onHeaderArrowDownKey(e);break;case"ArrowUp":this.onHeaderArrowUpKey(e);break;case"Home":this.onHeaderHomeKey(e);break;case"End":this.onHeaderEndKey(e);break;case"Enter":case"Space":this.onHeaderEnterKey(e,i,n);break;default:break}}onHeaderArrowDownKey(e){let i=go(e.currentTarget,"data-p-highlight")===!0?ti(e.currentTarget.nextElementSibling,'[data-pc-section="menu"]'):null;i?Wt(i):this.updateFocusedHeader({originalEvent:e,focusOnNext:!0}),e.preventDefault()}onHeaderArrowUpKey(e){let i=this.findPrevHeader(e.currentTarget.parentElement)||this.findLastHeader(),n=go(i,"data-p-highlight")===!0?ti(i.nextElementSibling,'[data-pc-section="menu"]'):null;n?Wt(n):this.updateFocusedHeader({originalEvent:e,focusOnNext:!1}),e.preventDefault()}onHeaderHomeKey(e){this.changeFocusedHeader(e,this.findFirstHeader()),e.preventDefault()}onHeaderEndKey(e){this.changeFocusedHeader(e,this.findLastHeader()),e.preventDefault()}onHeaderEnterKey(e,i,n){let a=ti(e.currentTarget,'[data-pc-section="headeraction"]');a?a.click():this.onHeaderClick(e,i,n),e.preventDefault()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-panelMenu"],["p-panelmenu"],["p-panel-menu"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,tte,4),ve(a,ite,4),ve(a,nte,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.submenuIconTemplate=p.first),le(p=ce())&&(n.headerIconTemplate=p.first),le(p=ce())&&(n.itemTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&dt(ate,5),i&2){let a;le(a=ce())&&(n.containerViewChild=a.first)}},hostAttrs:["data-pc-section","root","data-pc-name","panelmenu"],hostVars:2,hostBindings:function(i,n){i&2&&K(n.cn(n.cx("root"),n.styleClass))},inputs:{model:"model",styleClass:"styleClass",multiple:[2,"multiple","multiple",we],transitionOptions:"transitionOptions",id:"id",tabindex:[2,"tabindex","tabindex",Tt]},features:[bt([l_]),gt],decls:1,vars:1,consts:[["htmlLabel",""],["htmlRouteLabel",""],[4,"ngFor","ngForOf"],[3,"class","ngStyle",4,"ngIf"],[3,"ngStyle"],["role","button",3,"click","keydown","ngStyle","pTooltip","tabindex","tooltipOptions"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","class","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["role","region",3,"class",4,"ngIf"],[3,"target","class",4,"ngIf"],[3,"target"],[3,"class",4,"ngIf","ngIfElse"],[3,"class",4,"ngIf"],[4,"ngTemplateOutlet"],["data-p-icon","chevron-down",3,"class",4,"ngIf"],["data-p-icon","chevron-right",3,"class",4,"ngIf"],["data-p-icon","chevron-down"],["data-p-icon","chevron-right"],[3,"innerHTML"],[3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["role","region"],[3,"headerFocus","panelId","items","itemTemplate","transitionOptions","root","activeItem","tabindex","parentExpanded"]],template:function(i,n){i&1&&B(0,Lte,2,1,"ng-container",2),i&2&&T("ngForOf",n.model)},dependencies:[mt,ji,$t,ei,bi,Vte,io,Tr,rl,ya,Ga,Ma,ao,Xe],encapsulation:2,data:{animation:[ra("rootItem",[to("hidden",Ri({height:"0",visibility:"hidden"})),to("visible",Ri({height:"*",visibility:"*"})),Ni("visible <=> hidden",[Ki("{{transitionParams}}")]),Ni("void => *",Ki(0))])]},changeDetection:0})}return t})(),U4=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[c_,Xe,Xe]})}return t})();var $4=`
    .p-menubar {
        display: flex;
        align-items: center;
        background: dt('menubar.background');
        border: 1px solid dt('menubar.border.color');
        border-radius: dt('menubar.border.radius');
        color: dt('menubar.color');
        padding: dt('menubar.padding');
        gap: dt('menubar.gap');
    }

    .p-menubar-start,
    .p-megamenu-end {
        display: flex;
        align-items: center;
    }

    .p-menubar-root-list,
    .p-menubar-submenu {
        display: flex;
        margin: 0;
        padding: 0;
        list-style: none;
        outline: 0 none;
    }

    .p-menubar-root-list {
        align-items: center;
        flex-wrap: wrap;
        gap: dt('menubar.gap');
    }

    .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content {
        border-radius: dt('menubar.base.item.border.radius');
    }

    .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content > .p-menubar-item-link {
        padding: dt('menubar.base.item.padding');
    }

    .p-menubar-item-content {
        transition:
            background dt('menubar.transition.duration'),
            color dt('menubar.transition.duration');
        border-radius: dt('menubar.item.border.radius');
        color: dt('menubar.item.color');
    }

    .p-menubar-item-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
        color: inherit;
        padding: dt('menubar.item.padding');
        gap: dt('menubar.item.gap');
        user-select: none;
        outline: 0 none;
    }

    .p-menubar-item-label {
        line-height: 1;
    }

    .p-menubar-item-icon {
        color: dt('menubar.item.icon.color');
    }

    .p-menubar-submenu-icon {
        color: dt('menubar.submenu.icon.color');
        margin-left: auto;
        font-size: dt('menubar.submenu.icon.size');
        width: dt('menubar.submenu.icon.size');
        height: dt('menubar.submenu.icon.size');
    }

    .p-menubar-submenu .p-menubar-submenu-icon:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
    }

    .p-menubar-item.p-focus > .p-menubar-item-content {
        color: dt('menubar.item.focus.color');
        background: dt('menubar.item.focus.background');
    }

    .p-menubar-item.p-focus > .p-menubar-item-content .p-menubar-item-icon {
        color: dt('menubar.item.icon.focus.color');
    }

    .p-menubar-item.p-focus > .p-menubar-item-content .p-menubar-submenu-icon {
        color: dt('menubar.submenu.icon.focus.color');
    }

    .p-menubar-item:not(.p-disabled) > .p-menubar-item-content:hover {
        color: dt('menubar.item.focus.color');
        background: dt('menubar.item.focus.background');
    }

    .p-menubar-item:not(.p-disabled) > .p-menubar-item-content:hover .p-menubar-item-icon {
        color: dt('menubar.item.icon.focus.color');
    }

    .p-menubar-item:not(.p-disabled) > .p-menubar-item-content:hover .p-menubar-submenu-icon {
        color: dt('menubar.submenu.icon.focus.color');
    }

    .p-menubar-item-active > .p-menubar-item-content {
        color: dt('menubar.item.active.color');
        background: dt('menubar.item.active.background');
    }

    .p-menubar-item-active > .p-menubar-item-content .p-menubar-item-icon {
        color: dt('menubar.item.icon.active.color');
    }

    .p-menubar-item-active > .p-menubar-item-content .p-menubar-submenu-icon {
        color: dt('menubar.submenu.icon.active.color');
    }

    .p-menubar-submenu {
        display: none;
        position: absolute;
        min-width: 12.5rem;
        z-index: 1;
        background: dt('menubar.submenu.background');
        border: 1px solid dt('menubar.submenu.border.color');
        border-radius: dt('menubar.submenu.border.radius');
        box-shadow: dt('menubar.submenu.shadow');
        color: dt('menubar.submenu.color');
        flex-direction: column;
        padding: dt('menubar.submenu.padding');
        gap: dt('menubar.submenu.gap');
    }

    .p-menubar-submenu .p-menubar-separator {
        border-block-start: 1px solid dt('menubar.separator.border.color');
    }

    .p-menubar-submenu .p-menubar-item {
        position: relative;
    }

    .p-menubar-submenu > .p-menubar-item-active > .p-menubar-submenu {
        display: block;
        left: 100%;
        top: 0;
    }

    .p-menubar-end {
        margin-left: auto;
        align-self: center;
    }

    .p-menubar-end:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
    }

    .p-menubar-button {
        display: none;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        width: dt('menubar.mobile.button.size');
        height: dt('menubar.mobile.button.size');
        position: relative;
        color: dt('menubar.mobile.button.color');
        border: 0 none;
        background: transparent;
        border-radius: dt('menubar.mobile.button.border.radius');
        transition:
            background dt('menubar.transition.duration'),
            color dt('menubar.transition.duration'),
            outline-color dt('menubar.transition.duration');
        outline-color: transparent;
    }

    .p-menubar-button:hover {
        color: dt('menubar.mobile.button.hover.color');
        background: dt('menubar.mobile.button.hover.background');
    }

    .p-menubar-button:focus-visible {
        box-shadow: dt('menubar.mobile.button.focus.ring.shadow');
        outline: dt('menubar.mobile.button.focus.ring.width') dt('menubar.mobile.button.focus.ring.style') dt('menubar.mobile.button.focus.ring.color');
        outline-offset: dt('menubar.mobile.button.focus.ring.offset');
    }

    .p-menubar-mobile {
        position: relative;
    }

    .p-menubar-mobile .p-menubar-button {
        display: flex;
    }

    .p-menubar-mobile .p-menubar-root-list {
        position: absolute;
        display: none;
        width: 100%;
        flex-direction: column;
        top: 100%;
        left: 0;
        z-index: 1;
        padding: dt('menubar.submenu.padding');
        background: dt('menubar.submenu.background');
        border: 1px solid dt('menubar.submenu.border.color');
        box-shadow: dt('menubar.submenu.shadow');
        border-radius: dt('menubar.submenu.border.radius');
        gap: dt('menubar.submenu.gap');
    }

    .p-menubar-mobile .p-menubar-root-list:dir(rtl) {
        left: auto;
        right: 0;
    }

    .p-menubar-mobile .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content > .p-menubar-item-link {
        padding: dt('menubar.item.padding');
    }

    .p-menubar-mobile-active .p-menubar-root-list {
        display: flex;
    }

    .p-menubar-mobile .p-menubar-root-list .p-menubar-item {
        width: 100%;
        position: static;
    }

    .p-menubar-mobile .p-menubar-root-list .p-menubar-separator {
        border-block-start: 1px solid dt('menubar.separator.border.color');
    }

    .p-menubar-mobile .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content .p-menubar-submenu-icon {
        margin-left: auto;
        transition: transform 0.2s;
    }

    .p-menubar-mobile .p-menubar-root-list > .p-menubar-item > .p-menubar-item-content .p-menubar-submenu-icon:dir(rtl),
    .p-menubar-mobile .p-menubar-submenu-icon:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
    }

    .p-menubar-mobile .p-menubar-root-list > .p-menubar-item-active > .p-menubar-item-content .p-menubar-submenu-icon {
        transform: rotate(-180deg);
    }

    .p-menubar-mobile .p-menubar-submenu .p-menubar-submenu-icon {
        transition: transform 0.2s;
        transform: rotate(90deg);
    }

    .p-menubar-mobile .p-menubar-item-active > .p-menubar-item-content .p-menubar-submenu-icon {
        transform: rotate(-90deg);
    }

    .p-menubar-mobile .p-menubar-submenu {
        width: 100%;
        position: static;
        box-shadow: none;
        border: 0 none;
        padding-inline-start: dt('menubar.submenu.mobile.indent');
        padding-inline-end: 0;
    }
`;var K4=(t,s)=>({instance:t,processedItem:s}),Bte=()=>({exact:!1}),Rte=(t,s)=>({$implicit:t,root:s});function Nte(t,s){if(t&1&&oe(0,"li",6),t&2){let e=M().$implicit,i=M();Ft(i.getItemProp(e,"style")),K(i.cn(i.cx("separator"),e==null?null:e.styleClass)),ue("id",i.getItemId(e))("data-pc-section","separator")}}function qte(t,s){if(t&1&&oe(0,"span"),t&2){let e=M(4).$implicit,i=M();Ft(i.getItemProp(e,"iconStyle")),K(i.cn(i.cx("itemIcon"),i.getItemProp(e,"icon"))),ue("data-pc-section","icon")("tabindex",-1)}}function jte(t,s){if(t&1&&(L(0,"span",17),ne(1),D()),t&2){let e=M(4).$implicit,i=M();K(i.cx("itemLabel")),T("id",i.getItemLabelId(e)),ue("data-pc-section","label"),S(),ni(" ",i.getItemLabel(e)," ")}}function Hte(t,s){if(t&1&&oe(0,"span",18),t&2){let e=M(4).$implicit,i=M();K(i.cx("itemLabel")),T("innerHTML",i.getItemLabel(e),ba)("id",i.getItemLabelId(e)),ue("data-pc-section","label")}}function Gte(t,s){if(t&1&&oe(0,"p-badge",19),t&2){let e=M(4).$implicit,i=M();K(i.getItemProp(e,"badgeStyleClass")),T("value",i.getItemProp(e,"badge"))}}function Ute(t,s){if(t&1&&(it(),oe(0,"svg",23)),t&2){let e=M(7);K(e.cx("submenuIcon")),ue("data-pc-section","submenuicon")}}function $te(t,s){if(t&1&&(it(),oe(0,"svg",24)),t&2){let e=M(7);K(e.cx("submenuIcon")),ue("data-pc-section","submenuicon")}}function Kte(t,s){if(t&1&&(We(0),B(1,Ute,1,3,"svg",21)(2,$te,1,3,"svg",22),Qe()),t&2){let e=M(6);S(),T("ngIf",e.root),S(),T("ngIf",!e.root)}}function Wte(t,s){}function Qte(t,s){t&1&&B(0,Wte,0,0,"ng-template",25),t&2&&T("data-pc-section","submenuicon")}function Zte(t,s){if(t&1&&(We(0),B(1,Kte,3,2,"ng-container",9)(2,Qte,1,1,null,20),Qe()),t&2){let e=M(5);S(),T("ngIf",!e.submenuiconTemplate),S(),T("ngTemplateOutlet",e.submenuiconTemplate)}}function Xte(t,s){if(t&1&&(L(0,"a",13),B(1,qte,1,6,"span",14)(2,jte,2,5,"span",15)(3,Hte,1,5,"ng-template",null,1,Be)(5,Gte,1,3,"p-badge",16)(6,Zte,3,2,"ng-container",9),D()),t&2){let e=Ut(4),i=M(3).$implicit,n=M();K(n.cx("itemLink")),ue("href",n.getItemProp(i,"url"),an)("data-automationid",n.getItemProp(i,"automationId"))("data-pc-section","action")("target",n.getItemProp(i,"target"))("tabindex",-1),S(),T("ngIf",n.getItemProp(i,"icon")),S(),T("ngIf",n.getItemProp(i,"escape"))("ngIfElse",e),S(3),T("ngIf",n.getItemProp(i,"badge")),S(),T("ngIf",n.isItemGroup(i))}}function Yte(t,s){if(t&1&&oe(0,"span",29),t&2){let e=M(4).$implicit,i=M();K(i.cn(i.cx("itemIcon"),i.getItemProp(e,"icon"))),T("ngStyle",i.getItemProp(e,"iconStyle")),ue("data-pc-section","icon")("tabindex",-1)}}function Jte(t,s){if(t&1&&(L(0,"span"),ne(1),D()),t&2){let e=M(4).$implicit,i=M();K(i.cx("itemLabel")),S(),Dt(i.getItemLabel(e))}}function eie(t,s){if(t&1&&oe(0,"span",30),t&2){let e=M(4).$implicit,i=M();K(i.cx("itemLabel")),T("innerHTML",i.getItemLabel(e),ba),ue("data-pc-section","label")}}function tie(t,s){if(t&1&&oe(0,"p-badge",19),t&2){let e=M(4).$implicit,i=M();K(i.getItemProp(e,"badgeStyleClass")),T("value",i.getItemProp(e,"badge"))}}function iie(t,s){if(t&1&&(it(),oe(0,"svg",23)),t&2){let e=M(7);K(e.cx("submenuIcon")),ue("data-pc-section","submenuicon")}}function nie(t,s){if(t&1&&(it(),oe(0,"svg",24)),t&2){let e=M(7);K(e.cx("submenuIcon")),ue("data-pc-section","submenuicon")}}function aie(t,s){if(t&1&&(We(0),B(1,iie,1,3,"svg",21)(2,nie,1,3,"svg",22),Qe()),t&2){let e=M(6);S(),T("ngIf",e.root),S(),T("ngIf",!e.root)}}function oie(t,s){}function rie(t,s){t&1&&B(0,oie,0,0,"ng-template",25),t&2&&T("data-pc-section","submenuicon")}function sie(t,s){if(t&1&&(We(0),B(1,aie,3,2,"ng-container",9)(2,rie,1,1,null,20),Qe()),t&2){let e=M(5);S(),T("ngIf",!e.submenuiconTemplate),S(),T("ngTemplateOutlet",e.submenuiconTemplate)}}function lie(t,s){if(t&1&&(L(0,"a",26),B(1,Yte,1,5,"span",27)(2,Jte,2,3,"span",28)(3,eie,1,4,"ng-template",null,2,Be)(5,tie,1,3,"p-badge",16)(6,sie,3,2,"ng-container",9),D()),t&2){let e=Ut(4),i=M(3).$implicit,n=M();K(n.cx("itemLink")),T("routerLink",n.getItemProp(i,"routerLink"))("queryParams",n.getItemProp(i,"queryParams"))("routerLinkActive","p-menubar-item-link-active")("routerLinkActiveOptions",n.getItemProp(i,"routerLinkActiveOptions")||Kt(21,Bte))("target",n.getItemProp(i,"target"))("fragment",n.getItemProp(i,"fragment"))("queryParamsHandling",n.getItemProp(i,"queryParamsHandling"))("preserveFragment",n.getItemProp(i,"preserveFragment"))("skipLocationChange",n.getItemProp(i,"skipLocationChange"))("replaceUrl",n.getItemProp(i,"replaceUrl"))("state",n.getItemProp(i,"state")),ue("data-automationid",n.getItemProp(i,"automationId"))("tabindex",-1)("data-pc-section","action"),S(),T("ngIf",n.getItemProp(i,"icon")),S(),T("ngIf",n.getItemProp(i,"escape"))("ngIfElse",e),S(3),T("ngIf",n.getItemProp(i,"badge")),S(),T("ngIf",n.isItemGroup(i))}}function cie(t,s){if(t&1&&(We(0),B(1,Xte,7,12,"a",11)(2,lie,7,22,"a",12),Qe()),t&2){let e=M(2).$implicit,i=M();S(),T("ngIf",!i.getItemProp(e,"routerLink")),S(),T("ngIf",i.getItemProp(e,"routerLink"))}}function uie(t,s){}function die(t,s){t&1&&B(0,uie,0,0,"ng-template")}function pie(t,s){if(t&1&&(We(0),B(1,die,1,0,null,31),Qe()),t&2){let e=M(2).$implicit,i=M();S(),T("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",li(2,Rte,e.item,i.root))}}function hie(t,s){if(t&1){let e=Re();L(0,"ul",32),Ie("itemClick",function(n){Z(e);let a=M(3);return X(a.itemClick.emit(n))})("itemMouseEnter",function(n){Z(e);let a=M(3);return X(a.onItemMouseEnter(n))}),D()}if(t&2){let e=M(2).$implicit,i=M();T("itemTemplate",i.itemTemplate)("items",e.items)("mobileActive",i.mobileActive)("autoDisplay",i.autoDisplay)("menuId",i.menuId)("activeItemPath",i.activeItemPath)("focusedItemId",i.focusedItemId)("level",i.level+1)("inlineStyles",i.sx("submenu",!0,li(10,K4,i,e))),ue("aria-labelledby",i.getItemLabelId(e))}}function mie(t,s){if(t&1){let e=Re();L(0,"li",7,0)(2,"div",8),Ie("click",function(n){Z(e);let a=M().$implicit,p=M();return X(p.onItemClick(n,a))})("mouseenter",function(n){Z(e);let a=M().$implicit,p=M();return X(p.onItemMouseEnter({$event:n,processedItem:a}))}),B(3,cie,3,2,"ng-container",9)(4,pie,2,5,"ng-container",9),D(),B(5,hie,1,13,"ul",10),D()}if(t&2){let e=M(),i=e.$implicit,n=e.index,a=M();Ft(a.getItemProp(i,"style")),K(a.cn(a.cx("item",li(22,K4,a,i)),a.getItemProp(i,"styleClass"))),T("tooltipOptions",a.getItemProp(i,"tooltipOptions")),ue("id",a.getItemId(i))("data-pc-section","menuitem")("data-p-highlight",a.isItemActive(i))("data-p-focused",a.isItemFocused(i))("data-p-disabled",a.isItemDisabled(i))("aria-label",a.getItemLabel(i))("aria-disabled",a.isItemDisabled(i)||void 0)("aria-haspopup",a.isItemGroup(i)&&!a.getItemProp(i,"to")?"menu":void 0)("aria-expanded",a.isItemGroup(i)?a.isItemActive(i):void 0)("aria-setsize",a.getAriaSetSize())("aria-posinset",a.getAriaPosInset(n)),S(2),K(a.cx("itemContent")),ue("data-pc-section","content"),S(),T("ngIf",!a.itemTemplate),S(),T("ngIf",a.itemTemplate),S(),T("ngIf",a.isItemVisible(i)&&a.isItemGroup(i))}}function fie(t,s){if(t&1&&B(0,Nte,1,6,"li",4)(1,mie,6,25,"li",5),t&2){let e=s.$implicit,i=M();T("ngIf",i.isItemVisible(e)&&i.getItemProp(e,"separator")),S(),T("ngIf",i.isItemVisible(e)&&!i.getItemProp(e,"separator"))}}var gie=["start"],_ie=["end"],bie=["item"],yie=["menuicon"],vie=["submenuicon"],xie=["menubutton"],wie=["rootmenu"],Iie=["*"];function Tie(t,s){t&1&&nt(0)}function Cie(t,s){if(t&1&&(L(0,"div"),B(1,Tie,1,0,"ng-container",7),D()),t&2){let e=M();K(e.cx("start")),S(),T("ngTemplateOutlet",e.startTemplate||e._startTemplate)}}function Sie(t,s){t&1&&(it(),oe(0,"svg",10))}function Mie(t,s){}function kie(t,s){t&1&&B(0,Mie,0,0,"ng-template")}function Eie(t,s){if(t&1){let e=Re();L(0,"a",8,2),Ie("click",function(n){Z(e);let a=M();return X(a.menuButtonClick(n))})("keydown",function(n){Z(e);let a=M();return X(a.menuButtonKeydown(n))}),B(2,Sie,1,0,"svg",9)(3,kie,1,0,null,7),D()}if(t&2){let e=M();K(e.cx("button")),ue("aria-haspopup",!!(e.model.length&&e.model.length>0))("aria-expanded",e.mobileActive)("aria-controls",e.id)("aria-label",e.config.translation.aria.navigation)("data-pc-section","button"),S(2),T("ngIf",!e.menuIconTemplate&&!e._menuIconTemplate),S(),T("ngTemplateOutlet",e.menuIconTemplate||e._menuIconTemplate)}}function Pie(t,s){t&1&&nt(0)}function Die(t,s){if(t&1&&(L(0,"div"),B(1,Pie,1,0,"ng-container",7),D()),t&2){let e=M();K(e.cx("end")),S(),T("ngTemplateOutlet",e.endTemplate||e._endTemplate)}}function Lie(t,s){if(t&1&&(L(0,"div"),Pi(1),D()),t&2){let e=M();K(e.cx("end"))}}var Aie={submenu:({instance:t,processedItem:s})=>({display:t.isItemActive(s)?"flex":"none"})},Fie={root:({instance:t})=>["p-menubar p-component",{"p-menubar-mobile":t.queryMatches,"p-menubar-mobile-active":t.mobileActive}],start:"p-menubar-start",button:"p-menubar-button",rootList:"p-menubar-root-list",item:({instance:t,processedItem:s})=>["p-menubar-item",{"p-menubar-item-active":t.isItemActive(s),"p-focus":t.isItemFocused(s),"p-disabled":t.isItemDisabled(s)}],itemContent:"p-menubar-item-content",itemLink:"p-menubar-item-link",itemIcon:"p-menubar-item-icon",itemLabel:"p-menubar-item-label",submenuIcon:"p-menubar-submenu-icon",submenu:"p-menubar-submenu",separator:"p-menubar-separator",end:"p-menubar-end"},Ny=(()=>{class t extends Vt{name="menubar";theme=$4;classes=Fie;inlineStyles=Aie;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var qy=(()=>{class t{autoHide;autoHideDelay;mouseLeaves=new Xl;mouseLeft$=this.mouseLeaves.pipe(dx(()=>lx(this.autoHideDelay)),cx(e=>this.autoHide&&e));static \u0275fac=function(i){return new(i||t)};static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})(),Oie=(()=>{class t extends Ot{items;itemTemplate;root=!1;autoZIndex=!0;baseZIndex=0;mobileActive;autoDisplay;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath;inlineStyles;submenuiconTemplate;itemClick=new Fe;itemMouseEnter=new Fe;menuFocus=new Fe;menuBlur=new Fe;menuKeydown=new Fe;mouseLeaveSubscriber;menubarService=lt(qy);_componentStyle=lt(Ny);ngOnInit(){super.ngOnInit(),this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>{this.cd.markForCheck()})}onItemClick(e,i){this.getItemProp(i,"command",{originalEvent:e,item:i.item}),this.itemClick.emit({originalEvent:e,processedItem:i,isFocus:!0})}getItemProp(e,i,n=null){return e&&e.item?Mo(e.item[i],n):void 0}getItemId(e){return e.item&&e.item?.id?e.item.id:`${this.menuId}_${e.key}`}getItemLabelId(e){return`${this.menuId}_${e.key}_label`}getItemLabel(e){return this.getItemProp(e,"label")}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemActive(e){if(this.activeItemPath)return this.activeItemPath.some(i=>i.key===e.key)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return Gt(e.items)}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(i=>this.isItemVisible(i)&&this.getItemProp(i,"separator")).length+1}onItemMouseEnter(e){if(this.autoDisplay){let{event:i,processedItem:n}=e;this.itemMouseEnter.emit({originalEvent:i,processedItem:n})}}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe(),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-menubarSub"],["p-menubarsub"],["","pMenubarSub",""]],hostAttrs:["data-pc-section","menu","role","menubar"],hostVars:6,hostBindings:function(i,n){i&2&&(eo("id",n.root?n.menuId:null),ue("aria-activedescendant",n.focusedItemId),Ft(n.inlineStyles),K(n.level===0?n.cx("rootList"):n.cx("submenu")))},inputs:{items:"items",itemTemplate:"itemTemplate",root:[2,"root","root",we],autoZIndex:[2,"autoZIndex","autoZIndex",we],baseZIndex:[2,"baseZIndex","baseZIndex",Tt],mobileActive:[2,"mobileActive","mobileActive",we],autoDisplay:[2,"autoDisplay","autoDisplay",we],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[2,"level","level",Tt],focusedItemId:"focusedItemId",activeItemPath:"activeItemPath",inlineStyles:"inlineStyles",submenuiconTemplate:"submenuiconTemplate"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[gt],decls:1,vars:1,consts:[["listItem",""],["htmlLabel",""],["htmlRouteLabel",""],["ngFor","",3,"ngForOf"],["role","separator",3,"style","class",4,"ngIf"],["role","menuitem","pTooltip","",3,"style","class","tooltipOptions",4,"ngIf"],["role","separator"],["role","menuitem","pTooltip","",3,"tooltipOptions"],[3,"click","mouseenter"],[4,"ngIf"],["pMenubarSub","",3,"itemTemplate","items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","inlineStyles","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"class",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","class","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple",""],[3,"class","style",4,"ngIf"],[3,"class","id",4,"ngIf","ngIfElse"],[3,"class","value",4,"ngIf"],[3,"id"],[3,"innerHTML","id"],[3,"value"],[4,"ngTemplateOutlet"],["data-p-icon","angle-down",3,"class",4,"ngIf"],["data-p-icon","angle-right",3,"class",4,"ngIf"],["data-p-icon","angle-down"],["data-p-icon","angle-right"],[3,"data-pc-section"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[3,"class","ngStyle",4,"ngIf"],[3,"class",4,"ngIf","ngIfElse"],[3,"ngStyle"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["pMenubarSub","",3,"itemClick","itemMouseEnter","itemTemplate","items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","inlineStyles"]],template:function(i,n){i&1&&B(0,fie,2,2,"ng-template",3),i&2&&T("ngForOf",n.items)},dependencies:[t,mt,ji,$t,ei,bi,io,Tr,rl,pn,ya,Ga,ic,Cs,Go,Is,Xe],encapsulation:2})}return t})(),jy=(()=>{class t extends Ot{document;platformId;el;renderer;cd;menubarService;set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}styleClass;autoZIndex=!0;baseZIndex=0;autoDisplay=!0;autoHide;breakpoint="960px";autoHideDelay=100;id;ariaLabel;ariaLabelledBy;onFocus=new Fe;onBlur=new Fe;menubutton;rootmenu;mobileActive;matchMediaListener;query;queryMatches;outsideClickListener;resizeListener;mouseLeaveSubscriber;dirty=!1;focused=!1;activeItemPath=Ei([]);number=Ei(0);focusedItemInfo=Ei({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_componentStyle=lt(Ny);_model;get visibleItems(){let e=this.activeItemPath().find(i=>i.key===this.focusedItemInfo().parentKey);return e?e.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let e=this.focusedItemInfo();return e.item&&e.item?.id?e.item.id:e.index!==-1?`${this.id}${Gt(e.parentKey)?"_"+e.parentKey:""}_${e.index}`:null}constructor(e,i,n,a,p,y){super(),this.document=e,this.platformId=i,this.el=n,this.renderer=a,this.cd=p,this.menubarService=y,Or(()=>{let C=this.activeItemPath();Gt(C)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){super.ngOnInit(),this.bindMatchMediaListener(),this.menubarService.autoHide=this.autoHide,this.menubarService.autoHideDelay=this.autoHideDelay,this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>{this.hide()}),this.id=this.id||xi("pn_id_")}startTemplate;endTemplate;itemTemplate;menuIconTemplate;submenuIconTemplate;templates;_startTemplate;_endTemplate;_itemTemplate;_menuIconTemplate;_submenuIconTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"start":this._startTemplate=e.template;break;case"end":this._endTemplate=e.template;break;case"menuicon":this._menuIconTemplate=e.template;break;case"submenuicon":this._submenuIconTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}createProcessedItems(e,i=0,n={},a=""){let p=[];return e&&e.forEach((y,C)=>{let A=(a!==""?a+"_":"")+C,R={item:y,index:C,level:i,key:A,parent:n,parentKey:a};R.items=this.createProcessedItems(y.items,i+1,R,A),p.push(R)}),p}bindMatchMediaListener(){if(ci(this.platformId)&&!this.matchMediaListener){let e=window.matchMedia(`(max-width: ${this.breakpoint})`);this.query=e,this.queryMatches=e.matches,this.matchMediaListener=()=>{this.queryMatches=e.matches,this.mobileActive=!1,this.cd.markForCheck()},e.addEventListener("change",this.matchMediaListener)}}unbindMatchMediaListener(){this.matchMediaListener&&(this.query.removeEventListener("change",this.matchMediaListener),this.matchMediaListener=null)}getItemProp(e,i){return e?Mo(e[i]):void 0}menuButtonClick(e){this.toggle(e)}menuButtonKeydown(e){(e.code==="Enter"||e.code==="Space")&&this.menuButtonClick(e)}onItemClick(e){let{originalEvent:i,processedItem:n}=e,a=this.isProcessedItemGroup(n),p=dn(n.parent);if(this.isSelected(n)){let{index:C,key:A,level:R,parentKey:$,item:Y}=n;this.activeItemPath.set(this.activeItemPath().filter(re=>A!==re.key&&A.startsWith(re.key))),this.focusedItemInfo.set({index:C,level:R,parentKey:$,item:Y}),this.dirty=!p,Wt(this.rootmenu.el.nativeElement)}else if(a)this.onItemChange(e);else{let C=p?n:this.activeItemPath().find(A=>A.parentKey==="");this.hide(i),this.changeFocusedItemIndex(i,C?C.index:-1),this.mobileActive=!1,Wt(this.rootmenu.el.nativeElement)}}onItemMouseEnter(e){Vr()?this.onItemChange({event:e,processedItem:e.processedItem,focus:this.autoDisplay},"hover"):this.dirty&&this.onItemChange(e,"hover")}onMouseLeave(e){let i=this.menubarService.autoHide,n=this.menubarService.autoHideDelay;i&&setTimeout(()=>{this.menubarService.mouseLeaves.next(!0)},n)}changeFocusedItemIndex(e,i){let n=this.findVisibleItem(i);if(this.focusedItemInfo().index!==i){let a=this.focusedItemInfo();this.focusedItemInfo.set(Ta(ai({},a),{item:n.item,index:i})),this.scrollInView()}}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedItemId,n=ti(this.rootmenu.el.nativeElement,`li[id="${i}"]`);n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"})}onItemChange(e,i){let{processedItem:n,isFocus:a}=e;if(dn(n))return;let{index:p,key:y,level:C,parentKey:A,items:R,item:$}=n,Y=Gt(R),re=this.activeItemPath().filter(te=>te.parentKey!==A&&te.parentKey!==y);Y&&re.push(n),this.focusedItemInfo.set({index:p,level:C,parentKey:A,item:$}),Y&&(this.dirty=!0),a&&Wt(this.rootmenu.el.nativeElement),!(i==="hover"&&this.queryMatches)&&this.activeItemPath.set(re)}toggle(e){this.mobileActive?(this.mobileActive=!1,Zi.clear(this.rootmenu.el.nativeElement),this.hide()):(this.mobileActive=!0,Zi.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu),setTimeout(()=>{this.show()},0)),this.bindOutsideClickListener(),e.preventDefault()}hide(e,i){this.mobileActive&&setTimeout(()=>{Wt(this.menubutton.nativeElement)},0),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),i&&Wt(this.rootmenu?.el.nativeElement),this.dirty=!1}show(){let e=this.findVisibleItem(this.findFirstFocusedItemIndex());this.focusedItemInfo.set({index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:e?.item}),Wt(this.rootmenu?.el.nativeElement)}onMenuFocus(e){this.focused=!0;let i=this.findVisibleItem(this.findFirstFocusedItemIndex()),n=this.focusedItemInfo().index!==-1?this.focusedItemInfo():{index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:i?.item};this.focusedItemInfo.set(n),this.onFocus.emit(e)}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1,this.onBlur.emit(e)}onKeyDown(e){let i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!i&&Jo(e.key)&&this.searchItems(e,e.key);break}}findVisibleItem(e){return Gt(this.visibleItems)?this.visibleItems[e]:null}findFirstFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}isProcessedItemGroup(e){return e&&Gt(e.items)}isSelected(e){return this.activeItemPath().some(i=>i.key===e.key)}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&Gt(e.items)}searchItems(e,i){this.searchValue=(this.searchValue||"")+i;let n=-1,a=!1;return this.focusedItemInfo().index!==-1?(n=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(p=>this.isItemMatched(p)),n=n===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(p=>this.isItemMatched(p)):n+this.focusedItemInfo().index):n=this.visibleItems.findIndex(p=>this.isItemMatched(p)),n!==-1&&(a=!0),n===-1&&this.focusedItemInfo().index===-1&&(n=this.findFirstFocusedItemIndex()),n!==-1&&this.changeFocusedItemIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),a}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}onArrowDownKey(e){let i=this.visibleItems[this.focusedItemInfo().index];if(i?dn(i.parent):null)this.isProccessedItemGroup(i)&&(this.onItemChange({originalEvent:e,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item}),this.onArrowRightKey(e));else{let a=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,a),e.preventDefault()}}onArrowRightKey(e){let i=this.visibleItems[this.focusedItemInfo().index];if(i?this.activeItemPath().find(a=>a.key===i.parentKey):null)this.isProccessedItemGroup(i)&&(this.onItemChange({originalEvent:e,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item}),this.onArrowDownKey(e));else{let a=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,a),e.preventDefault()}}onArrowUpKey(e){let i=this.visibleItems[this.focusedItemInfo().index];if(dn(i.parent)){if(this.isProccessedItemGroup(i)){this.onItemChange({originalEvent:e,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item});let p=this.findLastItemIndex();this.changeFocusedItemIndex(e,p)}}else{let a=this.activeItemPath().find(p=>p.key===i.parentKey);if(this.focusedItemInfo().index===0){this.focusedItemInfo.set({index:-1,parentKey:a?a.parentKey:"",item:i.item}),this.searchValue="",this.onArrowLeftKey(e);let p=this.activeItemPath().filter(y=>y.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(p)}else{let p=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,p)}}e.preventDefault()}onArrowLeftKey(e){let i=this.visibleItems[this.focusedItemInfo().index],n=i?this.activeItemPath().find(a=>a.key===i.parentKey):null;if(n){this.onItemChange({originalEvent:e,processedItem:n});let a=this.activeItemPath().filter(p=>p.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(a),e.preventDefault()}else{let a=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,a),e.preventDefault()}}onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){this.hide(e,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),e.preventDefault()}onTabKey(e){if(this.focusedItemInfo().index!==-1){let i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:e,processedItem:i})}this.hide()}onEnterKey(e){if(this.focusedItemInfo().index!==-1){let i=ti(this.rootmenu.el.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),n=i&&ti(i,'a[data-pc-section="action"]');n?n.click():i&&i.click()}e.preventDefault()}findLastFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return Xn(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){let i=e>0?Xn(this.visibleItems.slice(0,e),n=>this.isValidItem(n)):-1;return i>-1?i:e}findNextItemIndex(e){let i=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(n=>this.isValidItem(n)):-1;return i>-1?i+e+1:e}bindResizeListener(){ci(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{Vr()||this.hide(e,!0),this.mobileActive=!1})))}bindOutsideClickListener(){ci(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",e=>{let i=this.rootmenu.el.nativeElement!==e.target&&!this.rootmenu.el.nativeElement.contains(e.target),n=this.mobileActive&&this.menubutton.nativeElement!==e.target&&!this.menubutton.nativeElement.contains(e.target);i&&(n?this.mobileActive=!1:this.hide())})))}unbindOutsideClickListener(){this.outsideClickListener&&(this.outsideClickListener(),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe(),this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindMatchMediaListener(),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||t)(At(Zh),At(Xh),At(Ja),At(Su),At(xs),At(qy))};static \u0275cmp=Je({type:t,selectors:[["p-menubar"]],contentQueries:function(i,n,a){if(i&1&&(ve(a,gie,4),ve(a,_ie,4),ve(a,bie,4),ve(a,yie,4),ve(a,vie,4),ve(a,ui,4)),i&2){let p;le(p=ce())&&(n.startTemplate=p.first),le(p=ce())&&(n.endTemplate=p.first),le(p=ce())&&(n.itemTemplate=p.first),le(p=ce())&&(n.menuIconTemplate=p.first),le(p=ce())&&(n.submenuIconTemplate=p.first),le(p=ce())&&(n.templates=p)}},viewQuery:function(i,n){if(i&1&&(dt(xie,5),dt(wie,5)),i&2){let a;le(a=ce())&&(n.menubutton=a.first),le(a=ce())&&(n.rootmenu=a.first)}},hostAttrs:["data-pc-section","root","data-pc-name","menubar"],hostVars:2,hostBindings:function(i,n){i&2&&K(n.cn(n.cx("root"),n.styleClass))},inputs:{model:"model",styleClass:"styleClass",autoZIndex:[2,"autoZIndex","autoZIndex",we],baseZIndex:[2,"baseZIndex","baseZIndex",Tt],autoDisplay:[2,"autoDisplay","autoDisplay",we],autoHide:[2,"autoHide","autoHide",we],breakpoint:"breakpoint",autoHideDelay:[2,"autoHideDelay","autoHideDelay",Tt],id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onFocus:"onFocus",onBlur:"onBlur"},features:[bt([qy,Ny]),gt],ngContentSelectors:Iie,decls:7,vars:17,consts:[["rootmenu",""],["legacy",""],["menubutton",""],[3,"class",4,"ngIf"],["tabindex","0","role","button",3,"class","click","keydown",4,"ngIf"],["pMenubarSub","","tabindex","0",3,"itemClick","focus","blur","keydown","itemMouseEnter","mouseleave","items","itemTemplate","menuId","root","baseZIndex","autoZIndex","mobileActive","autoDisplay","focusedItemId","submenuiconTemplate","activeItemPath"],[3,"class",4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["tabindex","0","role","button",3,"click","keydown"],["data-p-icon","bars",4,"ngIf"],["data-p-icon","bars"]],template:function(i,n){if(i&1){let a=Re();$i(),B(0,Cie,2,3,"div",3)(1,Eie,4,9,"a",4),L(2,"ul",5,0),Ie("itemClick",function(y){return Z(a),X(n.onItemClick(y))})("focus",function(y){return Z(a),X(n.onMenuFocus(y))})("blur",function(y){return Z(a),X(n.onMenuBlur(y))})("keydown",function(y){return Z(a),X(n.onKeyDown(y))})("itemMouseEnter",function(y){return Z(a),X(n.onItemMouseEnter(y))})("mouseleave",function(y){return Z(a),X(n.onMouseLeave(y))}),D(),B(4,Die,2,3,"div",6)(5,Lie,2,2,"ng-template",null,1,Be)}if(i&2){let a=Ut(6);T("ngIf",n.startTemplate||n._startTemplate),S(),T("ngIf",n.model&&n.model.length>0),S(),T("items",n.processedItems)("itemTemplate",n.itemTemplate)("menuId",n.id)("root",!0)("baseZIndex",n.baseZIndex)("autoZIndex",n.autoZIndex)("mobileActive",n.mobileActive)("autoDisplay",n.autoDisplay)("focusedItemId",n.focused?n.focusedItemId:void 0)("submenuiconTemplate",n.submenuIconTemplate||n._submenuIconTemplate)("activeItemPath",n.activeItemPath()),ue("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledBy),S(2),T("ngIf",n.endTemplate||n._endTemplate)("ngIfElse",a)}},dependencies:[mt,$t,ei,io,Oie,ya,qf,Go,Xe],encapsulation:2,changeDetection:0})}return t})(),W4=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[jy,Xe,Xe]})}return t})();function zie(t,s){t&1&&(L(0,"p-iconfield"),oe(1,"p-inputicon",18)(2,"input",19),D())}var u_=class t{nestedMenuItems=[{label:"Customers",icon:"pi pi-fw pi-table",items:[{label:"New",icon:"pi pi-fw pi-user-plus",items:[{label:"Customer",icon:"pi pi-fw pi-plus"},{label:"Duplicate",icon:"pi pi-fw pi-copy"}]},{label:"Edit",icon:"pi pi-fw pi-user-edit"}]},{label:"Orders",icon:"pi pi-fw pi-shopping-cart",items:[{label:"View",icon:"pi pi-fw pi-list"},{label:"Search",icon:"pi pi-fw pi-search"}]},{label:"Shipments",icon:"pi pi-fw pi-envelope",items:[{label:"Tracker",icon:"pi pi-fw pi-compass"},{label:"Map",icon:"pi pi-fw pi-map-marker"},{label:"Manage",icon:"pi pi-fw pi-pencil"}]},{label:"Profile",icon:"pi pi-fw pi-user",items:[{label:"Settings",icon:"pi pi-fw pi-cog"},{label:"Billing",icon:"pi pi-fw pi-file"}]},{label:"Quit",icon:"pi pi-fw pi-sign-out"}];breadcrumbHome={icon:"pi pi-home",to:"/"};breadcrumbItems=[{label:"Computer"},{label:"Notebook"},{label:"Accessories"},{label:"Backpacks"},{label:"Item"}];tieredMenuItems=[{label:"Customers",icon:"pi pi-fw pi-table",items:[{label:"New",icon:"pi pi-fw pi-user-plus",items:[{label:"Customer",icon:"pi pi-fw pi-plus"},{label:"Duplicate",icon:"pi pi-fw pi-copy"}]},{label:"Edit",icon:"pi pi-fw pi-user-edit"}]},{label:"Orders",icon:"pi pi-fw pi-shopping-cart",items:[{label:"View",icon:"pi pi-fw pi-list"},{label:"Search",icon:"pi pi-fw pi-search"}]},{label:"Shipments",icon:"pi pi-fw pi-envelope",items:[{label:"Tracker",icon:"pi pi-fw pi-compass"},{label:"Map",icon:"pi pi-fw pi-map-marker"},{label:"Manage",icon:"pi pi-fw pi-pencil"}]},{label:"Profile",icon:"pi pi-fw pi-user",items:[{label:"Settings",icon:"pi pi-fw pi-cog"},{label:"Billing",icon:"pi pi-fw pi-file"}]},{separator:!0},{label:"Quit",icon:"pi pi-fw pi-sign-out"}];overlayMenuItems=[{label:"Save",icon:"pi pi-save"},{label:"Update",icon:"pi pi-refresh"},{label:"Delete",icon:"pi pi-trash"},{separator:!0},{label:"Home",icon:"pi pi-home"}];menuItems=[{label:"Customers",items:[{label:"New",icon:"pi pi-fw pi-plus"},{label:"Edit",icon:"pi pi-fw pi-user-edit"}]},{label:"Orders",items:[{label:"View",icon:"pi pi-fw pi-list"},{label:"Search",icon:"pi pi-fw pi-search"}]}];contextMenuItems=[{label:"Save",icon:"pi pi-save"},{label:"Update",icon:"pi pi-refresh"},{label:"Delete",icon:"pi pi-trash"},{separator:!0},{label:"Options",icon:"pi pi-cog"}];megaMenuItems=[{label:"Fashion",icon:"pi pi-fw pi-tag",items:[[{label:"Woman",items:[{label:"Woman Item"},{label:"Woman Item"},{label:"Woman Item"}]},{label:"Men",items:[{label:"Men Item"},{label:"Men Item"},{label:"Men Item"}]}],[{label:"Kids",items:[{label:"Kids Item"},{label:"Kids Item"}]},{label:"Luggage",items:[{label:"Luggage Item"},{label:"Luggage Item"},{label:"Luggage Item"}]}]]},{label:"Electronics",icon:"pi pi-fw pi-desktop",items:[[{label:"Computer",items:[{label:"Computer Item"},{label:"Computer Item"}]},{label:"Camcorder",items:[{label:"Camcorder Item"},{label:"Camcorder Item"},{label:"Camcorder Item"}]}],[{label:"TV",items:[{label:"TV Item"},{label:"TV Item"}]},{label:"Audio",items:[{label:"Audio Item"},{label:"Audio Item"},{label:"Audio Item"}]}],[{label:"Sports.7",items:[{label:"Sports.7.1"},{label:"Sports.7.2"}]}]]},{label:"Furniture",icon:"pi pi-fw pi-image",items:[[{label:"Living Room",items:[{label:"Living Room Item"},{label:"Living Room Item"}]},{label:"Kitchen",items:[{label:"Kitchen Item"},{label:"Kitchen Item"},{label:"Kitchen Item"}]}],[{label:"Bedroom",items:[{label:"Bedroom Item"},{label:"Bedroom Item"}]},{label:"Outdoor",items:[{label:"Outdoor Item"},{label:"Outdoor Item"},{label:"Outdoor Item"}]}]]},{label:"Sports",icon:"pi pi-fw pi-star",items:[[{label:"Basketball",items:[{label:"Basketball Item"},{label:"Basketball Item"}]},{label:"Football",items:[{label:"Football Item"},{label:"Football Item"},{label:"Football Item"}]}],[{label:"Tennis",items:[{label:"Tennis Item"},{label:"Tennis Item"}]}]]}];panelMenuItems=[{label:"Customers",icon:"pi pi-fw pi-table",items:[{label:"New",icon:"pi pi-fw pi-user-plus",items:[{label:"Customer",icon:"pi pi-fw pi-plus"},{label:"Duplicate",icon:"pi pi-fw pi-copy"}]},{label:"Edit",icon:"pi pi-fw pi-user-edit"}]},{label:"Orders",icon:"pi pi-fw pi-shopping-cart",items:[{label:"View",icon:"pi pi-fw pi-list"},{label:"Search",icon:"pi pi-fw pi-search"}]},{label:"Shipments",icon:"pi pi-fw pi-envelope",items:[{label:"Tracker",icon:"pi pi-fw pi-compass"},{label:"Map",icon:"pi pi-fw pi-map-marker"},{label:"Manage",icon:"pi pi-fw pi-pencil"}]},{label:"Profile",icon:"pi pi-fw pi-user",items:[{label:"Settings",icon:"pi pi-fw pi-cog"},{label:"Billing",icon:"pi pi-fw pi-file"}]}];static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Je({type:t,selectors:[["app-menu-demo"]],decls:73,vars:20,consts:[["end",""],["menu",""],["anchor",""],[1,"card"],[1,"font-semibold","text-xl","mb-4"],[3,"model"],[3,"model","home"],[1,"flex","flex-col","md:flex-row","gap-8"],[1,"md:w-1/2"],[3,"value"],[1,"flex","flex-col","md:flex-row","gap-8","mt-6"],[1,"md:w-1/3"],[3,"popup","model"],["type","button","pButton","","icon","pi pi-chevron-down","label","Options",2,"width","auto",3,"click"],[3,"target","model"],[1,"flex","flex-col","md:flex-row","gap-8","mt-8"],[1,"font-semibold","text-xl","mb-4","mt-8"],["orientation","vertical",3,"model"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Search"]],template:function(e,i){if(e&1){let n=Re();L(0,"div",3)(1,"div",4),ne(2,"Menubar"),D(),L(3,"p-menubar",5),B(4,zie,3,0,"ng-template",null,0,Be),D()(),L(6,"div",3)(7,"div",4),ne(8,"Breadcrumb"),D(),oe(9,"p-breadcrumb",6),D(),L(10,"div",7)(11,"div",8)(12,"div",3)(13,"div",4),ne(14,"Steps"),D(),L(15,"p-stepper",9)(16,"p-step-list")(17,"p-step",9),ne(18,"Header I"),D(),L(19,"p-step",9),ne(20,"Header II"),D(),L(21,"p-step",9),ne(22,"Header III"),D()()()()(),L(23,"div",8)(24,"div",3)(25,"div",4),ne(26,"TabMenu"),D(),L(27,"p-tabs",9)(28,"p-tablist")(29,"p-tab",9),ne(30,"Header I"),D(),L(31,"p-tab",9),ne(32,"Header II"),D(),L(33,"p-tab",9),ne(34,"Header III"),D()()()()()(),L(35,"div",10)(36,"div",11)(37,"div",3)(38,"div",4),ne(39,"Tiered Menu"),D(),oe(40,"p-tieredmenu",5),D()(),L(41,"div",11)(42,"div",3)(43,"div",4),ne(44,"Plain Menu"),D(),oe(45,"p-menu",5),D()(),L(46,"div",11)(47,"div",3)(48,"div",4),ne(49,"Overlay Menu"),D(),oe(50,"p-menu",12,1),L(52,"button",13),Ie("click",function(p){Z(n);let y=Ut(51);return X(y.toggle(p))}),D()(),L(53,"div",3,2)(55,"div",4),ne(56,"Context Menu"),D(),ne(57," Right click to display. "),oe(58,"p-contextmenu",14),D()()(),L(59,"div",15)(60,"div",8)(61,"div",3)(62,"div",4),ne(63,"MegaMenu | Horizontal"),D(),oe(64,"p-megamenu",5),L(65,"div",16),ne(66,"MegaMenu | Vertical"),D(),oe(67,"p-megamenu",17),D()(),L(68,"div",8)(69,"div",3)(70,"div",4),ne(71,"PanelMenu"),D(),oe(72,"p-panelmenu",5),D()()()}if(e&2){let n=Ut(54);S(3),T("model",i.nestedMenuItems),S(6),T("model",i.breadcrumbItems)("home",i.breadcrumbHome),S(6),T("value",1),S(2),T("value",1),S(2),T("value",2),S(2),T("value",3),S(6),T("value",0),S(2),T("value",0),S(2),T("value",1),S(2),T("value",2),S(7),T("model",i.tieredMenuItems),S(5),T("model",i.menuItems),S(5),T("popup",!0)("model",i.overlayMenuItems),S(8),T("target",n)("model",i.contextMenuItems),S(6),T("model",i.megaMenuItems),S(3),T("model",i.megaMenuItems),S(5),T("model",i.panelMenuItems)}},dependencies:[mt,O4,zy,Qw,hp,oc,ir,rc,nr,Lf,Iw,Fi,Ms,B4,r_,q4,s_,U4,c_,Yg,Cc,Ap,km,W4,jy,Po,sa,Rw,Bw,Vw,zw],encapsulation:2})};var Ka=ox(Uy());var $y=[{id:1,name:"H\xE0 N\u1ED9i",lng:105.8342,lat:21.0278,description:"Th\u1EE7 \u0111\xF4 c\u1EE7a Vi\u1EC7t Nam, n\u01A1i c\xF3 nhi\u1EC1u di t\xEDch l\u1ECBch s\u1EED v\xE0 v\u0103n h\xF3a.",category:"Th\xE0nh ph\u1ED1"},{id:2,name:"Th\xE0nh ph\u1ED1 H\u1ED3 Ch\xED Minh",lng:106.6297,lat:10.8231,description:"Th\xE0nh ph\u1ED1 l\u1EDBn nh\u1EA5t Vi\u1EC7t Nam, trung t\xE2m kinh t\u1EBF n\u0103ng \u0111\u1ED9ng.",category:"Th\xE0nh ph\u1ED1"},{id:3,name:"\u0110\xE0 N\u1EB5ng",lng:108.2022,lat:16.0544,description:"Th\xE0nh ph\u1ED1 \u0111\xE1ng s\u1ED1ng v\u1EDBi b\xE3i bi\u1EC3n \u0111\u1EB9p v\xE0 c\u01A1 s\u1EDF h\u1EA1 t\u1EA7ng hi\u1EC7n \u0111\u1EA1i.",category:"Th\xE0nh ph\u1ED1"},{id:4,name:"H\u1ED9i An",lng:108.338,lat:15.8801,description:"Ph\u1ED1 c\u1ED5 H\u1ED9i An - Di s\u1EA3n v\u0103n h\xF3a th\u1EBF gi\u1EDBi v\u1EDBi ki\u1EBFn tr\xFAc \u0111\u1ED9c \u0111\xE1o.",category:"Di s\u1EA3n"},{id:5,name:"Hu\u1EBF",lng:107.5909,lat:16.4637,description:"C\u1ED1 \u0111\xF4 Hu\u1EBF v\u1EDBi \u0110\u1EA1i N\u1ED9i v\xE0 nhi\u1EC1u l\u0103ng t\u1EA9m vua ch\xFAa.",category:"Di s\u1EA3n"},{id:6,name:"H\u1EA1 Long",lng:107.0431,lat:20.9101,description:"V\u1ECBnh H\u1EA1 Long - Di s\u1EA3n thi\xEAn nhi\xEAn th\u1EBF gi\u1EDBi v\u1EDBi c\u1EA3nh quan tuy\u1EC7t \u0111\u1EB9p.",category:"Di s\u1EA3n"},{id:7,name:"Nha Trang",lng:109.1967,lat:12.2388,description:"Th\xE0nh ph\u1ED1 bi\u1EC3n n\u1ED5i ti\u1EBFng v\u1EDBi b\xE3i t\u1EAFm \u0111\u1EB9p v\xE0 \u0111\u1EDDi s\u1ED1ng du l\u1ECBch s\xF4i \u0111\u1ED9ng.",category:"Du l\u1ECBch"},{id:8,name:"Ph\xFA Qu\u1ED1c",lng:103.986,lat:10.2269,description:"\u0110\u1EA3o ng\u1ECDc Ph\xFA Qu\u1ED1c v\u1EDBi b\xE3i bi\u1EC3n hoang s\u01A1 v\xE0 h\u1EC7 sinh th\xE1i phong ph\xFA.",category:"Du l\u1ECBch"},{id:9,name:"\u0110\xE0 L\u1EA1t",lng:108.4583,lat:11.9404,description:"Th\xE0nh ph\u1ED1 ng\xE0n hoa v\u1EDBi kh\xED h\u1EADu m\xE1t m\u1EBB quanh n\u0103m.",category:"Du l\u1ECBch"},{id:10,name:"Sa Pa",lng:103.8409,lat:22.3364,description:"V\xF9ng n\xFAi ph\xEDa B\u1EAFc v\u1EDBi ru\u1ED9ng b\u1EADc thang tuy\u1EC7t \u0111\u1EB9p.",category:"Du l\u1ECBch"}],d_=class t{static CLUSTER_SOURCE_ID="locations";maps=new Map;markers=[];showStandalonePopup=!1;standalonePopup=null;layoutService=lt(rp);themeSubscription=null;currentMapStyle="";ngOnInit(){this.initBasicMap(),this.initMarkersMap(),this.initStandalonePopupMap(),this.initClusterMap(),this.initRichPopupMap(),this.themeSubscription=this.layoutService.configUpdate$.subscribe(()=>{this.updateMapThemes()})}ngOnDestroy(){this.markers.forEach(s=>s.remove()),this.maps.forEach(s=>s.remove()),this.maps.clear(),this.markers=[],this.themeSubscription?.unsubscribe()}getMapStyle(){return this.layoutService.isDarkTheme()?"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json":"https://basemaps.cartocdn.com/gl/positron-gl-style/style.json"}updateMapThemes(){let s=this.getMapStyle();s!==this.currentMapStyle&&(this.currentMapStyle=s,this.maps.forEach(e=>{e.setStyle(s)}))}initBasicMap(){let s=new Ka.default.Map({container:"basic-map",style:this.getMapStyle(),center:[106.6297,15.5],zoom:5,attributionControl:!1});s.addControl(new Ka.default.NavigationControl,"top-right"),s.addControl(new Ka.default.FullscreenControl,"top-right"),this.maps.set("basic",s)}initMarkersMap(){let s=new Ka.default.Map({container:"markers-map",style:this.getMapStyle(),center:[106.6297,15.5],zoom:5,attributionControl:!1});s.addControl(new Ka.default.NavigationControl,"top-right");let e=()=>{$y.slice(0,5).forEach(i=>{let n=document.createElement("div");n.className="marker",n.style.width="24px",n.style.height="24px",n.style.borderRadius="50%",n.style.backgroundColor="#3b82f6",n.style.border="2px solid white",n.style.boxShadow="0 2px 4px rgba(0,0,0,0.3)";let a=new Ka.default.Popup({offset:25,closeButton:!0}).setHTML(`
                    <div class="popup-content">
                        <h4>${i.name}</h4>
                        <p>${i.description}</p>
                    </div>
                `),p=new Ka.default.Marker(n).setLngLat([i.lng,i.lat]).setPopup(a).addTo(s);this.markers.push(p)})};s.on("load",e),s.on("style.load",()=>{s.isStyleLoaded()&&e()}),this.maps.set("markers",s)}initStandalonePopupMap(){let s=new Ka.default.Map({container:"standalone-popup-map",style:this.getMapStyle(),center:[105.8342,21.0278],zoom:13,attributionControl:!1});s.addControl(new Ka.default.NavigationControl,"top-right"),this.maps.set("standalone",s)}toggleStandalonePopup(){let s=this.maps.get("standalone");s&&(this.showStandalonePopup=!this.showStandalonePopup,this.showStandalonePopup?(this.standalonePopup=new Ka.default.Popup({closeOnClick:!1,closeButton:!0}).setLngLat([105.8342,21.0278]).setHTML(`
                    <div class="popup-content">
                        <h4>H\xE0 N\u1ED9i - Th\u1EE7 \u0110\xF4</h4>
                        <p>Th\xE0nh ph\u1ED1 ng\xE0n n\u0103m v\u0103n hi\u1EBFn v\u1EDBi nhi\u1EC1u di t\xEDch l\u1ECBch s\u1EED.</p>
                        <p style="margin-top: 0.5rem; font-size: 0.85rem;">
                            <strong>D\xE2n s\u1ED1:</strong> ~8.5 tri\u1EC7u ng\u01B0\u1EDDi
                        </p>
                    </div>
                `).addTo(s),this.standalonePopup.on("close",()=>{this.showStandalonePopup=!1,this.standalonePopup=null})):this.standalonePopup&&(this.standalonePopup.remove(),this.standalonePopup=null))}initClusterMap(){let s=new Ka.default.Map({container:"cluster-map",style:this.getMapStyle(),center:[106.6297,15.5],zoom:5,attributionControl:!1});s.addControl(new Ka.default.NavigationControl,"top-right");let e=()=>{let i={type:"FeatureCollection",features:$y.map(n=>({type:"Feature",geometry:{type:"Point",coordinates:[n.lng,n.lat]},properties:{name:n.name,description:n.description,category:n.category}}))};s.addSource(t.CLUSTER_SOURCE_ID,{type:"geojson",data:i,cluster:!0,clusterMaxZoom:14,clusterRadius:50}),s.addLayer({id:"clusters",type:"circle",source:t.CLUSTER_SOURCE_ID,filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#22c55e",5,"#eab308",10,"#ef4444"],"circle-radius":["step",["get","point_count"],20,5,30,10,40]}}),s.addLayer({id:"cluster-count",type:"symbol",source:t.CLUSTER_SOURCE_ID,filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-size":12},paint:{"text-color":"#ffffff"}}),s.addLayer({id:"unclustered-point",type:"circle",source:t.CLUSTER_SOURCE_ID,filter:["!",["has","point_count"]],paint:{"circle-color":"#3b82f6","circle-radius":8,"circle-stroke-width":2,"circle-stroke-color":"#fff"}}),s.on("click","clusters",n=>{let a=s.queryRenderedFeatures(n.point,{layers:["clusters"]}),p=a[0].properties.cluster_id;s.getSource(t.CLUSTER_SOURCE_ID).getClusterExpansionZoom(p,(C,A)=>{C||s.easeTo({center:a[0].geometry.coordinates,zoom:A})})}),s.on("click","unclustered-point",n=>{let a=n.features[0].geometry.coordinates.slice(),{name:p,description:y}=n.features[0].properties;new Ka.default.Popup().setLngLat(a).setHTML(`
                    <div class="popup-content">
                        <h4>${p}</h4>
                        <p>${y}</p>
                    </div>
                `).addTo(s)}),s.on("mouseenter","clusters",()=>{s.getCanvas().style.cursor="pointer"}),s.on("mouseleave","clusters",()=>{s.getCanvas().style.cursor=""}),s.on("mouseenter","unclustered-point",()=>{s.getCanvas().style.cursor="pointer"}),s.on("mouseleave","unclustered-point",()=>{s.getCanvas().style.cursor=""})};s.on("load",e),s.on("style.load",()=>{s.isStyleLoaded()&&!s.getSource(t.CLUSTER_SOURCE_ID)&&e()}),this.maps.set("cluster",s)}initRichPopupMap(){let s=new Ka.default.Map({container:"rich-popup-map",style:this.getMapStyle(),center:[106.6297,15.5],zoom:5,attributionControl:!1});s.addControl(new Ka.default.NavigationControl,"top-right"),s.addControl(new Ka.default.FullscreenControl,"top-right");let e={"H\xE0 N\u1ED9i":"https://images.unsplash.com/photo-1509023464722-18d996393ca8?w=300&h=150&fit=crop","Th\xE0nh ph\u1ED1 H\u1ED3 Ch\xED Minh":"https://images.unsplash.com/photo-1583417319070-4a69db38a482?w=300&h=150&fit=crop","\u0110\xE0 N\u1EB5ng":"https://images.unsplash.com/photo-1559592413-7cec4d0cae2b?w=300&h=150&fit=crop","H\u1ED9i An":"https://images.unsplash.com/photo-1557750255-c76072a7aad1?w=300&h=150&fit=crop",Hu\u1EBF:"https://images.unsplash.com/photo-1588668214407-6ea9a6d8c272?w=300&h=150&fit=crop","H\u1EA1 Long":"https://images.unsplash.com/photo-1528127269322-539801943592?w=300&h=150&fit=crop","Nha Trang":"https://images.unsplash.com/photo-1572967771481-0c4e4e6e0fce?w=300&h=150&fit=crop","Ph\xFA Qu\u1ED1c":"https://images.unsplash.com/photo-1552465011-b4e21bf6e79a?w=300&h=150&fit=crop","\u0110\xE0 L\u1EA1t":"https://images.unsplash.com/photo-1599802090336-0a5935f41d01?w=300&h=150&fit=crop","Sa Pa":"https://images.unsplash.com/photo-1583417319070-4a69db38a482?w=300&h=150&fit=crop"},i=()=>{$y.forEach(n=>{let a=document.createElement("div");a.className="marker",a.style.width="30px",a.style.height="30px",a.style.borderRadius="50%";let p={"Th\xE0nh ph\u1ED1":"#3b82f6","Di s\u1EA3n":"#ef4444","Du l\u1ECBch":"#22c55e"};a.style.backgroundColor=p[n.category]||"#6b7280",a.style.border="3px solid white",a.style.boxShadow="0 2px 8px rgba(0,0,0,0.3)";let y=e[n.name]||"https://images.unsplash.com/photo-1552832230-c0197dd311b5?w=300&h=150&fit=crop",C=new Ka.default.Popup({offset:25,closeButton:!0,maxWidth:"300px"}).setHTML(`
                    <div class="rich-popup-content">
                        <img src="${y}" alt="${n.name}" />
                        <div class="content">
                            <span class="category">${n.category}</span>
                            <h4>${n.name}</h4>
                            <p>${n.description}</p>
                        </div>
                    </div>
                `),A=new Ka.default.Marker(a).setLngLat([n.lng,n.lat]).setPopup(C).addTo(s);this.markers.push(A)})};s.on("load",i),s.on("style.load",()=>{s.isStyleLoaded()&&i()}),this.maps.set("rich",s)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Je({type:t,selectors:[["app-map-demo"]],decls:37,vars:2,consts:[[1,"card"],[1,"font-semibold","text-2xl","mb-4"],[1,"text-muted-color","mb-4","line-height-3"],[1,"grid","grid-cols-12","gap-6"],[1,"col-span-12","lg:col-span-6"],[1,"font-semibold","text-xl","mb-3"],["id","basic-map",1,"w-full","h-[400px]","rounded-border"],["id","markers-map",1,"w-full","h-[400px]","rounded-border"],[1,"mb-3"],["size","small",3,"onClick","label","severity"],["id","standalone-popup-map",1,"w-full","h-[400px]","rounded-border"],[1,"text-sm","text-muted-color","mb-3"],["id","cluster-map",1,"w-full","h-[400px]","rounded-border"],[1,"col-span-12"],["id","rich-popup-map",1,"w-full","h-[500px]","rounded-border"]],template:function(e,i){e&1&&(L(0,"div",0)(1,"div",1),ne(2,"B\u1EA3n \u0110\u1ED3 Demo"),D(),L(3,"p",2),ne(4," Trang demo t\xEDch h\u1EE3p th\u01B0 vi\u1EC7n b\u1EA3n \u0111\u1ED3 v\u1EDBi c\xE1c t\xEDnh n\u0103ng: hi\u1EC3n th\u1ECB marker, popup, cluster v\xE0 controls. "),D(),L(5,"div",3)(6,"div",4)(7,"div",0)(8,"h3",5),ne(9,"B\u1EA3n \u0110\u1ED3 C\u01A1 B\u1EA3n"),D(),oe(10,"div",6),D()(),L(11,"div",4)(12,"div",0)(13,"h3",5),ne(14,"Markers & Popups"),D(),oe(15,"div",7),D()(),L(16,"div",4)(17,"div",0)(18,"h3",5),ne(19,"Standalone Popup"),D(),L(20,"div",8)(21,"p-button",9),Ie("onClick",function(){return i.toggleStandalonePopup()}),D()(),oe(22,"div",10),D()(),L(23,"div",4)(24,"div",0)(25,"h3",5),ne(26,"Cluster Demo"),D(),L(27,"p",11),ne(28," C\xE1c marker \u0111\u01B0\u1EE3c nh\xF3m l\u1EA1i khi zoom out, click v\xE0o cluster \u0111\u1EC3 zoom in. "),D(),oe(29,"div",12),D()(),L(30,"div",13)(31,"div",0)(32,"h3",5),ne(33,"Rich Popups v\u1EDBi N\u1ED9i Dung Chi Ti\u1EBFt"),D(),L(34,"p",11),ne(35," Click v\xE0o c\xE1c marker \u0111\u1EC3 xem popup v\u1EDBi h\xECnh \u1EA3nh v\xE0 th\xF4ng tin chi ti\u1EBFt. "),D(),oe(36,"div",14),D()()()()),e&2&&(S(21),T("label",i.showStandalonePopup?"\u1EA8n Popup":"Hi\u1EC3n Th\u1ECB Popup")("severity",i.showStandalonePopup?"secondary":"primary"))},dependencies:[mt,Fi,qi,cp],styles:[`.maplibregl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgb(0,0,0,0)}.maplibregl-canvas{left:0;position:absolute;top:0}.maplibregl-map:fullscreen{height:100%;width:100%}.maplibregl-ctrl-group button.maplibregl-ctrl-compass{touch-action:none}.maplibregl-canvas-container.maplibregl-interactive,.maplibregl-ctrl-group button.maplibregl-ctrl-compass{cursor:grab;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-canvas-container.maplibregl-interactive.maplibregl-track-pointer{cursor:pointer}.maplibregl-canvas-container.maplibregl-interactive:active,.maplibregl-ctrl-group button.maplibregl-ctrl-compass:active{cursor:grabbing}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-canvas-container.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:pinch-zoom}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:none}.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures,.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-ctrl-bottom-left,.maplibregl-ctrl-bottom-right,.maplibregl-ctrl-top-left,.maplibregl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}.maplibregl-ctrl-top-left{left:0;top:0}.maplibregl-ctrl-top-right{right:0;top:0}.maplibregl-ctrl-bottom-left{bottom:0;left:0}.maplibregl-ctrl-bottom-right{bottom:0;right:0}.maplibregl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.maplibregl-ctrl-top-left .maplibregl-ctrl{float:left;margin:10px 0 0 10px}.maplibregl-ctrl-top-right .maplibregl-ctrl{float:right;margin:10px 10px 0 0}.maplibregl-ctrl-bottom-left .maplibregl-ctrl{float:left;margin:0 0 10px 10px}.maplibregl-ctrl-bottom-right .maplibregl-ctrl{float:right;margin:0 10px 10px 0}.maplibregl-ctrl-group{background:#fff;border-radius:4px}.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px #0000001a}@media (forced-colors:active){.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.maplibregl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;padding:0;width:29px}.maplibregl-ctrl-group button+button{border-top:1px solid #ddd}.maplibregl-ctrl button .maplibregl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}@media (forced-colors:active){.maplibregl-ctrl-icon{background-color:transparent}.maplibregl-ctrl-group button+button{border-top:1px solid ButtonText}}.maplibregl-ctrl button::-moz-focus-inner{border:0;padding:0}.maplibregl-ctrl-attrib-button:focus,.maplibregl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl button:disabled{cursor:not-allowed}.maplibregl-ctrl button:disabled .maplibregl-ctrl-icon{opacity:.25}@media (hover:hover){.maplibregl-ctrl button:not(:disabled):hover{background-color:#0000000d}}.maplibregl-ctrl button:not(:disabled):active{background-color:#0000000d}.maplibregl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.maplibregl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.maplibregl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.maplibregl-ctrl-group button:focus:only-child{border-radius:inherit}.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-globe .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='none' stroke='%23333' viewBox='0 0 22 22'%3E%3Ccircle cx='11' cy='11' r='8.5'/%3E%3Cpath d='M17.5 11c0 4.819-3.02 8.5-6.5 8.5S4.5 15.819 4.5 11 7.52 2.5 11 2.5s6.5 3.681 6.5 8.5Z'/%3E%3Cpath d='M13.5 11c0 2.447-.331 4.64-.853 6.206-.262.785-.562 1.384-.872 1.777-.314.399-.58.517-.775.517s-.461-.118-.775-.517c-.31-.393-.61-.992-.872-1.777C8.831 15.64 8.5 13.446 8.5 11s.331-4.64.853-6.206c.262-.785.562-1.384.872-1.777.314-.399.58-.517.775-.517s.461.118.775.517c.31.393.61.992.872 1.777.522 1.565.853 3.76.853 6.206Z'/%3E%3Cpath d='M11 7.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138q.07-.058.224-.138c.299-.151.763-.302 1.379-.434C7.378 5.666 9.091 5.5 11 5.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138q-.07.058-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428ZM4.486 6.436ZM11 16.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138 1.3 1.3 0 0 1 .224-.138c.299-.151.763-.302 1.379-.434C7.378 14.666 9.091 14.5 11 14.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138a1.3 1.3 0 0 1-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428Zm-6.514-1.064ZM11 12.5c-2.46 0-4.672-.222-6.255-.574-.796-.177-1.406-.38-1.805-.59a1.5 1.5 0 0 1-.39-.272.3.3 0 0 1-.047-.064.3.3 0 0 1 .048-.064c.066-.073.189-.167.389-.272.399-.21 1.009-.413 1.805-.59C6.328 9.722 8.54 9.5 11 9.5s4.672.222 6.256.574c.795.177 1.405.38 1.804.59.2.105.323.2.39.272a.3.3 0 0 1 .047.064.3.3 0 0 1-.048.064 1.4 1.4 0 0 1-.389.272c-.399.21-1.009.413-1.804.59-1.584.352-3.796.574-6.256.574Zm-8.501-1.51v.002zm0 .018v.002zm17.002.002v-.002zm0-.018v-.002z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-globe-enabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='none' stroke='%2333b5e5' viewBox='0 0 22 22'%3E%3Ccircle cx='11' cy='11' r='8.5'/%3E%3Cpath d='M17.5 11c0 4.819-3.02 8.5-6.5 8.5S4.5 15.819 4.5 11 7.52 2.5 11 2.5s6.5 3.681 6.5 8.5Z'/%3E%3Cpath d='M13.5 11c0 2.447-.331 4.64-.853 6.206-.262.785-.562 1.384-.872 1.777-.314.399-.58.517-.775.517s-.461-.118-.775-.517c-.31-.393-.61-.992-.872-1.777C8.831 15.64 8.5 13.446 8.5 11s.331-4.64.853-6.206c.262-.785.562-1.384.872-1.777.314-.399.58-.517.775-.517s.461.118.775.517c.31.393.61.992.872 1.777.522 1.565.853 3.76.853 6.206Z'/%3E%3Cpath d='M11 7.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138q.07-.058.224-.138c.299-.151.763-.302 1.379-.434C7.378 5.666 9.091 5.5 11 5.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138q-.07.058-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428ZM4.486 6.436ZM11 16.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138 1.3 1.3 0 0 1 .224-.138c.299-.151.763-.302 1.379-.434C7.378 14.666 9.091 14.5 11 14.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138a1.3 1.3 0 0 1-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428Zm-6.514-1.064ZM11 12.5c-2.46 0-4.672-.222-6.255-.574-.796-.177-1.406-.38-1.805-.59a1.5 1.5 0 0 1-.39-.272.3.3 0 0 1-.047-.064.3.3 0 0 1 .048-.064c.066-.073.189-.167.389-.272.399-.21 1.009-.413 1.805-.59C6.328 9.722 8.54 9.5 11 9.5s4.672.222 6.256.574c.795.177 1.405.38 1.804.59.2.105.323.2.39.272a.3.3 0 0 1 .047.064.3.3 0 0 1-.048.064 1.4 1.4 0 0 1-.389.272c-.399.21-1.009.413-1.804.59-1.584.352-3.796.574-6.256.574Zm-8.501-1.51v.002zm0 .018v.002zm17.002.002v-.002zm0-.018v-.002z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-terrain .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%23333' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-terrain-enabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%2333b5e5' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23aaa' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-waiting .maplibregl-ctrl-icon{animation:maplibregl-spin 2s linear infinite}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23999' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23666' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}}@keyframes maplibregl-spin{0%{transform:rotate(0)}to{transform:rotate(1turn)}}a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E");background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}a.maplibregl-ctrl-logo.maplibregl-compact{width:14px}@media (forced-colors:active){a.maplibregl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}.maplibregl-ctrl.maplibregl-ctrl-attrib{background-color:#ffffff80;margin:0;padding:0 5px}@media screen{.maplibregl-ctrl-attrib.maplibregl-compact{background-color:#fff;border-radius:12px;box-sizing:content-box;color:#000;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.maplibregl-ctrl-attrib.maplibregl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact-show,.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-inner{display:none}.maplibregl-ctrl-attrib-button{background-color:#ffffff80;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E");border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;list-style:none}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button::-webkit-details-marker{display:none}.maplibregl-ctrl-bottom-left .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-top-left .maplibregl-ctrl-attrib-button{left:0}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-inner{display:block}.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-button{background-color:#0000000d}.maplibregl-ctrl-bottom-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;right:0}.maplibregl-ctrl-top-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{right:0;top:0}.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{left:0;top:0}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;left:0}}@media screen and (forced-colors:active){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}@media screen and (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}.maplibregl-ctrl-attrib a{color:#000000bf;text-decoration:none}.maplibregl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.maplibregl-attrib-empty{display:none}.maplibregl-ctrl-scale{background-color:#ffffffbf;border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px;white-space:nowrap}.maplibregl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}.maplibregl-popup-anchor-top,.maplibregl-popup-anchor-top-left,.maplibregl-popup-anchor-top-right{flex-direction:column}.maplibregl-popup-anchor-bottom,.maplibregl-popup-anchor-bottom-left,.maplibregl-popup-anchor-bottom-right{flex-direction:column-reverse}.maplibregl-popup-anchor-left{flex-direction:row}.maplibregl-popup-anchor-right{flex-direction:row-reverse}.maplibregl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}.maplibregl-popup-anchor-top .maplibregl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}.maplibregl-popup-anchor-top-left .maplibregl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}.maplibregl-popup-anchor-top-right .maplibregl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}.maplibregl-popup-anchor-bottom .maplibregl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.maplibregl-popup-anchor-left .maplibregl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.maplibregl-popup-anchor-right .maplibregl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}.maplibregl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}.maplibregl-popup-close-button:hover{background-color:#0000000d}.maplibregl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px #0000001a;padding:15px 10px;pointer-events:auto;position:relative}.maplibregl-popup-anchor-top-left .maplibregl-popup-content{border-top-left-radius:0}.maplibregl-popup-anchor-top-right .maplibregl-popup-content{border-top-right-radius:0}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-content{border-bottom-left-radius:0}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-content{border-bottom-right-radius:0}.maplibregl-popup-track-pointer{display:none}.maplibregl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-map:hover .maplibregl-popup-track-pointer{display:flex}.maplibregl-map:active .maplibregl-popup-track-pointer{display:none}.maplibregl-marker{left:0;position:absolute;top:0;transition:opacity .2s;will-change:transform}.maplibregl-user-location-dot,.maplibregl-user-location-dot:before{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}.maplibregl-user-location-dot:before{animation:maplibregl-user-location-dot-pulse 2s infinite;content:"";position:absolute}.maplibregl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px #00000059;box-sizing:border-box;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px}@keyframes maplibregl-user-location-dot-pulse{0%{opacity:1;transform:scale(1)}70%{opacity:0;transform:scale(3)}to{opacity:0;transform:scale(1)}}.maplibregl-user-location-dot-stale{background-color:#aaa}.maplibregl-user-location-dot-stale:after{display:none}.maplibregl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}.maplibregl-crosshair,.maplibregl-crosshair .maplibregl-interactive,.maplibregl-crosshair .maplibregl-interactive:active{cursor:crosshair}.maplibregl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}.maplibregl-cooperative-gesture-screen{align-items:center;background:#0006;color:#fff;display:flex;font-size:1.4em;inset:0;justify-content:center;line-height:1.2;opacity:0;padding:1rem;pointer-events:none;position:absolute;transition:opacity 1s ease 1s;z-index:99999}.maplibregl-cooperative-gesture-screen.maplibregl-show{opacity:1;transition:opacity .05s}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:none}@media (hover:none),(pointer:coarse){.maplibregl-cooperative-gesture-screen .maplibregl-desktop-message{display:none}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:block}}.maplibregl-pseudo-fullscreen{height:100%!important;left:0!important;position:fixed!important;top:0!important;width:100%!important;z-index:99999}.maplibregl-popup-content{padding:0;border-radius:8px;box-shadow:0 2px 8px #00000026}.maplibregl-popup-close-button{font-size:20px;padding:4px 8px;color:#666}.maplibregl-popup-close-button:hover{background-color:#0000000d;color:#333}.marker{cursor:pointer;transition:transform .2s}.marker:hover{transform:scale(1.1)}.cluster-marker{cursor:pointer;transition:transform .2s}.cluster-marker:hover{transform:scale(1.15)}.popup-content{padding:1rem;min-width:200px}.popup-content h4{margin:0 0 .5rem;font-size:1.1rem;font-weight:600;color:var(--text-color)}.popup-content p{margin:0;color:var(--text-color-secondary);font-size:.9rem}.rich-popup-content{max-width:300px}.rich-popup-content img{width:100%;height:150px;object-fit:cover;border-radius:8px 8px 0 0}.rich-popup-content .content{padding:1rem}.rich-popup-content h4{margin:0 0 .5rem;font-size:1.2rem;font-weight:600;color:var(--text-color)}.rich-popup-content .category{display:inline-block;padding:.25rem .75rem;background:var(--primary-color);color:#fff;border-radius:12px;font-size:.75rem;margin-bottom:.5rem}.rich-popup-content p{margin:0;color:var(--text-color-secondary);line-height:1.5}
/*! tailwindcss v4.1.11 | MIT License | https://tailwindcss.com */
`],encapsulation:2})};var Z4=`
    .p-progressspinner {
        position: relative;
        margin: 0 auto;
        width: 100px;
        height: 100px;
        display: inline-block;
    }

    .p-progressspinner::before {
        content: '';
        display: block;
        padding-top: 100%;
    }

    .p-progressspinner-spin {
        height: 100%;
        transform-origin: center center;
        width: 100%;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        margin: auto;
        animation: p-progressspinner-rotate 2s linear infinite;
    }

    .p-progressspinner-circle {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: 0;
        stroke: dt('progressspinner.colorOne');
        animation:
            p-progressspinner-dash 1.5s ease-in-out infinite,
            p-progressspinner-color 6s ease-in-out infinite;
        stroke-linecap: round;
    }

    @keyframes p-progressspinner-rotate {
        100% {
            transform: rotate(360deg);
        }
    }
    @keyframes p-progressspinner-dash {
        0% {
            stroke-dasharray: 1, 200;
            stroke-dashoffset: 0;
        }
        50% {
            stroke-dasharray: 89, 200;
            stroke-dashoffset: -35px;
        }
        100% {
            stroke-dasharray: 89, 200;
            stroke-dashoffset: -124px;
        }
    }
    @keyframes p-progressspinner-color {
        100%,
        0% {
            stroke: dt('progressspinner.color.one');
        }
        40% {
            stroke: dt('progressspinner.color.two');
        }
        66% {
            stroke: dt('progressspinner.color.three');
        }
        80%,
        90% {
            stroke: dt('progressspinner.color.four');
        }
    }
`;var Bie={root:()=>["p-progressspinner"],spin:"p-progressspinner-spin",circle:"p-progressspinner-circle"},X4=(()=>{class t extends Vt{name="progressspinner";theme=Z4;classes=Bie;static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275prov=St({token:t,factory:t.\u0275fac})}return t})();var Ky=(()=>{class t extends Ot{styleClass;strokeWidth="2";fill="none";animationDuration="2s";ariaLabel;_componentStyle=lt(X4);static \u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})();static \u0275cmp=Je({type:t,selectors:[["p-progressSpinner"],["p-progress-spinner"],["p-progressspinner"]],hostVars:7,hostBindings:function(i,n){i&2&&(ue("aria-label",n.ariaLabel)("role","progressbar")("data-pc-name","progressspinner")("data-pc-section","root")("aria-busy",!0),K(n.cn(n.cx("root"),n.styleClass)))},inputs:{styleClass:"styleClass",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration",ariaLabel:"ariaLabel"},features:[bt([X4]),gt],decls:2,vars:9,consts:[["viewBox","25 25 50 50"],["cx","50","cy","50","r","20","stroke-miterlimit","10"]],template:function(i,n){i&1&&(it(),L(0,"svg",0),oe(1,"circle",1),D()),i&2&&(K(n.cx("spin")),Zn("animation-duration",n.animationDuration),ue("data-pc-section","root"),S(),K(n.cx("circle")),ue("fill",n.fill)("stroke-width",n.strokeWidth))},dependencies:[mt,Xe],encapsulation:2,changeDetection:0})}return t})(),Y4=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ht({type:t});static \u0275inj=jt({imports:[Ky,Xe,Xe]})}return t})();var Mc=ox(Uy());var p_=class t{OVERPASS_API_URL="https://overpass-api.de/api/interpreter";http=lt(cf);executeQuery(s){let e=encodeURIComponent(s),i=`${this.OVERPASS_API_URL}?data=${e}`;return this.http.get(i).pipe(sx(n=>{if(!this.isValidOverpassResponse(n))throw new Error("Ph\u1EA3n h\u1ED3i t\u1EEB Overpass API kh\xF4ng h\u1EE3p l\u1EC7");return this.convertToGeoJSON(n)}),ux(n=>(console.error("L\u1ED7i khi g\u1ECDi Overpass API:",n),rx(()=>new Error("Kh\xF4ng th\u1EC3 l\u1EA5y d\u1EEF li\u1EC7u t\u1EEB Overpass API")))))}getLamDongBoundaries(){return this.executeQuery(`
            [out:json][timeout:25];
            area["name"~"L\xE2m \u0110\u1ED3ng"]["admin_level"="4"]->.lamdong;
            (
                relation(area.lamdong)["admin_level"="6"]["boundary"="administrative"];
            );
            out body;
            >;
            out skel qt;
        `)}convertToGeoJSON(s){let e=[],i=new Map;return s.elements.forEach(n=>{n.type==="node"&&n.lat!==void 0&&n.lon!==void 0&&i.set(n.id,{lat:n.lat,lon:n.lon})}),s.elements.forEach(n=>{if(n.type==="relation"||n.type==="way"){let a=this.elementToFeature(n,i);a&&e.push(a)}}),{type:"FeatureCollection",features:e}}elementToFeature(s,e){if(s.geometry&&s.geometry.length>0){let i=s.geometry.map(a=>[a.lon,a.lat]),n=i.length>3&&i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1];return{type:"Feature",geometry:{type:n?"Polygon":"LineString",coordinates:n?[i]:i},properties:ai({id:s.id,type:s.type},s.tags)}}if(s.type==="way"&&s.nodes){let i=s.nodes.map(n=>{let a=e.get(n);return a?[a.lon,a.lat]:null}).filter(n=>n!==null);if(i.length>0){let n=i.length>3&&i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1];return{type:"Feature",geometry:{type:n?"Polygon":"LineString",coordinates:n?[i]:i},properties:ai({id:s.id,type:s.type},s.tags)}}}return null}getAdministrativeBoundaries(s,e){let i=this.sanitizeQueryInput(s),n=this.sanitizeQueryInput(e),a=`
            [out:json][timeout:25];
            area["name"~"${i}"]["admin_level"="${n}"]->.searchArea;
            (
                relation(area.searchArea)["boundary"="administrative"];
            );
            out body;
            >;
            out skel qt;
        `;return this.executeQuery(a)}isValidOverpassResponse(s){return!s||typeof s!="object"||!s.elements||!Array.isArray(s.elements)?!1:(s.version===void 0&&console.warn("Overpass response thi\u1EBFu tr\u01B0\u1EDDng version",{hasElements:s.elements?.length,hasGenerator:!!s.generator}),!0)}sanitizeQueryInput(s){return s.replace(/[^\w\s\-]/g,"")}static \u0275fac=function(e){return new(e||t)};static \u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"})};function Nie(t,s){if(t&1&&oe(0,"p-message",11),t&2){let e=M();T("text",e.errorMessage)}}function qie(t,s){t&1&&(L(0,"div",14),oe(1,"p-progressSpinner",24),D())}function jie(t,s){if(t&1&&(L(0,"div",23)(1,"div",25)(2,"div",26),oe(3,"i",27),L(4,"div")(5,"p",28),ne(6),D(),L(7,"p",29),ne(8,"Click v\xE0o c\xE1c ranh gi\u1EDBi \u0111\u1EC3 xem th\xF4ng tin chi ti\u1EBFt"),D()()()()()),t&2){let e=M();S(6),ni("\u0110\xE3 t\u1EA3i ",e.featureCount," ranh gi\u1EDBi h\xE0nh ch\xEDnh")}}var h_=class t{map=null;overpassService=lt(p_);layoutService=lt(rp);themeSubscription=null;loading=!1;errorMessage="";featureCount=0;areaName="L\xE2m \u0110\u1ED3ng";adminLevel="6";selectedStyle="default";adminLevelOptions=[{label:"C\u1EA5p 4 (T\u1EC9nh/Th\xE0nh ph\u1ED1)",value:"4"},{label:"C\u1EA5p 6 (Qu\u1EADn/Huy\u1EC7n)",value:"6"},{label:"C\u1EA5p 8 (Ph\u01B0\u1EDDng/X\xE3)",value:"8"}];styleOptions=[{label:"M\u1EB7c \u0111\u1ECBnh",value:"default"},{label:"\u0110\u1EADm m\xE0u",value:"bold"},{label:"Pastel",value:"pastel"},{label:"Neon",value:"neon"}];sampleQuery=`[out:json][timeout:25];
area["name"~"L\xE2m \u0110\u1ED3ng"]["admin_level"="4"]->.lamdong;
relation(area.lamdong)["admin_level"="6"]["boundary"="administrative"];
out body;
>;
out skel qt;`;ngOnInit(){setTimeout(()=>{this.initMap(),this.loadData()},0),this.themeSubscription=this.layoutService.configUpdate$.subscribe(()=>{this.updateMapTheme()})}ngOnDestroy(){this.map&&(this.map.remove(),this.map=null),this.themeSubscription?.unsubscribe()}getMapStyle(){return this.layoutService.isDarkTheme()?"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json":"https://basemaps.cartocdn.com/gl/positron-gl-style/style.json"}updateMapTheme(){this.map&&this.map.setStyle(this.getMapStyle())}initMap(){this.map=new Mc.default.Map({container:"overpass-map",style:this.getMapStyle(),center:[108.4583,11.9404],zoom:8}),this.map.addControl(new Mc.default.NavigationControl,"top-right"),this.map.addControl(new Mc.default.FullscreenControl,"top-right"),this.map.addControl(new Mc.default.ScaleControl,"bottom-left"),this.map.addControl(new Mc.default.AttributionControl,"bottom-right")}loadData(){!this.map||!this.areaName||(this.loading=!0,this.errorMessage="",this.featureCount=0,this.clearMapLayers(),this.overpassService.getAdministrativeBoundaries(this.areaName,this.adminLevel).subscribe({next:s=>{if(this.loading=!1,this.featureCount=s.features.length,s.features.length===0){this.errorMessage="Kh\xF4ng t\xECm th\u1EA5y d\u1EEF li\u1EC7u cho khu v\u1EF1c n\xE0y. Vui l\xF2ng th\u1EED l\u1EA1i v\u1EDBi t\xEAn kh\xE1c.";return}this.renderBoundaries(s)},error:s=>{this.loading=!1,this.errorMessage="L\u1ED7i khi t\u1EA3i d\u1EEF li\u1EC7u: "+s.message,console.error("Error loading Overpass data:",s)}}))}clearMapLayers(){this.map&&(this.map.getLayer("boundaries-fill")&&this.map.removeLayer("boundaries-fill"),this.map.getLayer("boundaries-outline")&&this.map.removeLayer("boundaries-outline"),this.map.getLayer("boundaries-highlight")&&this.map.removeLayer("boundaries-highlight"),this.map.getSource("boundaries")&&this.map.removeSource("boundaries"))}renderBoundaries(s){if(!this.map)return;let e=this.map,i=()=>{e.addSource("boundaries",{type:"geojson",data:s});let n=this.getStyleConfig();if(e.addLayer({id:"boundaries-fill",type:"fill",source:"boundaries",paint:{"fill-color":n.fillColor,"fill-opacity":n.fillOpacity}}),e.addLayer({id:"boundaries-outline",type:"line",source:"boundaries",paint:{"line-color":n.strokeColor,"line-width":n.strokeWidth}}),e.addLayer({id:"boundaries-highlight",type:"line",source:"boundaries",paint:{"line-color":"#ff6b6b","line-width":3,"line-opacity":0}}),e.on("click","boundaries-fill",a=>{if(a.features&&a.features.length>0){let y=a.features[0].properties,C=`
                        <div class="boundary-popup">
                            <h4>${y.name||y["name:vi"]||"Kh\xF4ng r\xF5 t\xEAn"}</h4>
                            <div class="info-row">
                                <span class="info-label">Lo\u1EA1i:</span>
                                <span class="info-value">${y.boundary||"N/A"}</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">C\u1EA5p h\xE0nh ch\xEDnh:</span>
                                <span class="info-value">${y.admin_level||"N/A"}</span>
                            </div>
                            ${y.population?`
                                <div class="info-row">
                                    <span class="info-label">D\xE2n s\u1ED1:</span>
                                    <span class="info-value">${Number(y.population).toLocaleString()}</span>
                                </div>
                            `:""}
                            ${y.wikipedia&&y.wikipedia.includes(":")?`
                                <div class="info-row">
                                    <span class="info-label">Wikipedia:</span>
                                    <span class="info-value"><a href="https://vi.wikipedia.org/wiki/${encodeURIComponent(y.wikipedia.split(":")[1])}" target="_blank" rel="noopener noreferrer">Xem</a></span>
                                </div>
                            `:""}
                        </div>
                    `;new Mc.default.Popup().setLngLat(a.lngLat).setHTML(C).addTo(e)}}),e.on("mouseenter","boundaries-fill",()=>{e.getCanvas().style.cursor="pointer"}),e.on("mousemove","boundaries-fill",a=>{a.features&&a.features.length>0&&e.setPaintProperty("boundaries-highlight","line-opacity",1)}),e.on("mouseleave","boundaries-fill",()=>{e.getCanvas().style.cursor="",e.setPaintProperty("boundaries-highlight","line-opacity",0)}),s.features.length>0){let a=new Mc.default.LngLatBounds;s.features.forEach(p=>{p.geometry.type==="Polygon"?p.geometry.coordinates[0].forEach(y=>{a.extend(y)}):p.geometry.type==="MultiPolygon"?p.geometry.coordinates.forEach(y=>{y[0].forEach(C=>{a.extend(C)})}):p.geometry.type==="LineString"&&p.geometry.coordinates.forEach(y=>{a.extend(y)})}),e.fitBounds(a,{padding:50,maxZoom:12})}};e.isStyleLoaded()?(this.clearMapLayers(),i()):e.once("load",()=>{i()})}getStyleConfig(){switch(this.selectedStyle){case"bold":return{fillColor:"#3b82f6",fillOpacity:.4,strokeColor:"#1e40af",strokeWidth:3};case"pastel":return{fillColor:"#a5b4fc",fillOpacity:.3,strokeColor:"#6366f1",strokeWidth:2};case"neon":return{fillColor:"#22d3ee",fillOpacity:.3,strokeColor:"#06b6d4",strokeWidth:2.5};default:return{fillColor:"#3b82f6",fillOpacity:.2,strokeColor:"#2563eb",strokeWidth:2}}}applyStyle(){if(!this.map||!this.map.getLayer("boundaries-fill"))return;let s=this.getStyleConfig();this.map.setPaintProperty("boundaries-fill","fill-color",s.fillColor),this.map.setPaintProperty("boundaries-fill","fill-opacity",s.fillOpacity),this.map.setPaintProperty("boundaries-outline","line-color",s.strokeColor),this.map.setPaintProperty("boundaries-outline","line-width",s.strokeWidth)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Je({type:t,selectors:[["app-map-overpass-turbo-demo"]],decls:40,vars:11,consts:[[1,"card"],[1,"font-semibold","text-2xl","mb-4"],[1,"text-muted-color","mb-4","line-height-3"],[1,"grid","grid-cols-12","gap-4","mb-4"],[1,"col-span-12","md:col-span-6","lg:col-span-3"],[1,"block","text-sm","font-medium","mb-2"],["type","text","pInputText","","placeholder","VD: L\xE2m \u0110\u1ED3ng",1,"w-full",3,"ngModelChange","ngModel"],["optionLabel","label","optionValue","value","placeholder","Ch\u1ECDn c\u1EA5p",1,"w-full",3,"ngModelChange","ngModel","options"],["optionLabel","label","optionValue","value","placeholder","Ch\u1ECDn style",1,"w-full",3,"ngModelChange","onChange","ngModel","options"],[1,"col-span-12","md:col-span-6","lg:col-span-3","flex","items-end"],["label","T\u1EA3i d\u1EEF li\u1EC7u","icon","pi pi-refresh",1,"w-full",3,"onClick","loading","disabled"],["severity","error",1,"mb-4","w-full",3,"text"],[1,"border","border-surface-200","dark:border-surface-700","rounded-lg","overflow-hidden","relative",2,"height","600px"],["id","overpass-map",1,"w-full","h-full"],[1,"absolute","inset-0","bg-surface-0/80","dark:bg-surface-900/80","flex","justify-center","items-center","z-10"],[1,"mt-4","grid","grid-cols-12","gap-4"],[1,"col-span-12","md:col-span-6"],[1,"card","bg-primary-50","dark:bg-primary-950/30"],[1,"text-lg","font-semibold","mb-2"],[1,"text-muted-color","mb-2","text-sm"],[1,"text-muted-color","text-sm"],[1,"card","bg-blue-50","dark:bg-blue-950/30"],[1,"text-xs","bg-surface-100","dark:bg-surface-800","p-3","rounded","overflow-x-auto"],[1,"mt-4"],["styleClass","w-16 h-16","strokeWidth","4","animationDuration","1s"],[1,"card","bg-green-50","dark:bg-green-950/30"],[1,"flex","items-center","gap-3"],[1,"pi","pi-info-circle","text-2xl","text-green-600"],[1,"font-semibold"],[1,"text-sm","text-muted-color"]],template:function(e,i){e&1&&(L(0,"div",0)(1,"div",1),ne(2,"B\u1EA3n \u0110\u1ED3 Overpass Turbo - Ranh Gi\u1EDBi H\xE0nh Ch\xEDnh"),D(),L(3,"p",2),ne(4," Demo t\xEDch h\u1EE3p Overpass Turbo API \u0111\u1EC3 truy v\u1EA5n v\xE0 hi\u1EC3n th\u1ECB ranh gi\u1EDBi h\xE0nh ch\xEDnh c\u1EE7a t\u1EC9nh L\xE2m \u0110\u1ED3ng t\u1EEB OpenStreetMap. "),D(),L(5,"div",3)(6,"div",4)(7,"label",5),ne(8,"T\u1EC9nh/Th\xE0nh ph\u1ED1"),D(),L(9,"input",6),si("ngModelChange",function(a){return ri(i.areaName,a)||(i.areaName=a),a}),D()(),L(10,"div",4)(11,"label",5),ne(12,"C\u1EA5p h\xE0nh ch\xEDnh"),D(),L(13,"p-select",7),si("ngModelChange",function(a){return ri(i.adminLevel,a)||(i.adminLevel=a),a}),D()(),L(14,"div",4)(15,"label",5),ne(16,"Style hi\u1EC3n th\u1ECB"),D(),L(17,"p-select",8),si("ngModelChange",function(a){return ri(i.selectedStyle,a)||(i.selectedStyle=a),a}),Ie("onChange",function(){return i.applyStyle()}),D()(),L(18,"div",9)(19,"p-button",10),Ie("onClick",function(){return i.loadData()}),D()()(),Gi(20,Nie,1,1,"p-message",11),L(21,"div",12),oe(22,"div",13),Gi(23,qie,2,0,"div",14),D(),L(24,"div",15)(25,"div",16)(26,"div",17)(27,"h3",18),ne(28,"Th\xF4ng tin Overpass Turbo API"),D(),L(29,"p",19),ne(30," Overpass API l\xE0 m\u1ED9t d\u1ECBch v\u1EE5 web-based \u0111\u1EC3 truy v\u1EA5n d\u1EEF li\u1EC7u t\u1EEB OpenStreetMap. "),D(),L(31,"p",20),ne(32," API n\xE0y cho ph\xE9p th\u1EF1c hi\u1EC7n c\xE1c truy v\u1EA5n ph\u1EE9c t\u1EA1p \u0111\u1EC3 l\u1EA5y d\u1EEF li\u1EC7u \u0111\u1ECBa l\xFD nh\u01B0 ranh gi\u1EDBi h\xE0nh ch\xEDnh, \u0111\u01B0\u1EDDng ph\u1ED1, c\xE1c \u0111\u1ECBa \u0111i\u1EC3m quan tr\u1ECDng v\xE0 nhi\u1EC1u th\xF4ng tin kh\xE1c. "),D()()(),L(33,"div",16)(34,"div",21)(35,"h3",18),ne(36,"Truy v\u1EA5n m\u1EABu"),D(),L(37,"pre",22),ne(38),D()()()(),Gi(39,jie,9,1,"div",23),D()),e&2&&(S(9),oi("ngModel",i.areaName),S(4),oi("ngModel",i.adminLevel),T("options",i.adminLevelOptions),S(4),oi("ngModel",i.selectedStyle),T("options",i.styleOptions),S(2),T("loading",i.loading)("disabled",i.loading||!i.areaName),S(),Ui(i.errorMessage?20:-1),S(3),Ui(i.loading?23:-1),S(15),Dt(i.sampleQuery),S(),Ui(i.featureCount>0?39:-1))},dependencies:[mt,Fi,qi,cp,Y4,Ky,Vf,Of,lc,sc,Po,sa,ln,op,Yn,Jn],styles:[`.maplibregl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgb(0,0,0,0)}.maplibregl-canvas{left:0;position:absolute;top:0}.maplibregl-map:fullscreen{height:100%;width:100%}.maplibregl-ctrl-group button.maplibregl-ctrl-compass{touch-action:none}.maplibregl-canvas-container.maplibregl-interactive,.maplibregl-ctrl-group button.maplibregl-ctrl-compass{cursor:grab;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-canvas-container.maplibregl-interactive.maplibregl-track-pointer{cursor:pointer}.maplibregl-canvas-container.maplibregl-interactive:active,.maplibregl-ctrl-group button.maplibregl-ctrl-compass:active{cursor:grabbing}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-canvas-container.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:pinch-zoom}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:none}.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures,.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-ctrl-bottom-left,.maplibregl-ctrl-bottom-right,.maplibregl-ctrl-top-left,.maplibregl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}.maplibregl-ctrl-top-left{left:0;top:0}.maplibregl-ctrl-top-right{right:0;top:0}.maplibregl-ctrl-bottom-left{bottom:0;left:0}.maplibregl-ctrl-bottom-right{bottom:0;right:0}.maplibregl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.maplibregl-ctrl-top-left .maplibregl-ctrl{float:left;margin:10px 0 0 10px}.maplibregl-ctrl-top-right .maplibregl-ctrl{float:right;margin:10px 10px 0 0}.maplibregl-ctrl-bottom-left .maplibregl-ctrl{float:left;margin:0 0 10px 10px}.maplibregl-ctrl-bottom-right .maplibregl-ctrl{float:right;margin:0 10px 10px 0}.maplibregl-ctrl-group{background:#fff;border-radius:4px}.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px #0000001a}@media (forced-colors:active){.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.maplibregl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;padding:0;width:29px}.maplibregl-ctrl-group button+button{border-top:1px solid #ddd}.maplibregl-ctrl button .maplibregl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}@media (forced-colors:active){.maplibregl-ctrl-icon{background-color:transparent}.maplibregl-ctrl-group button+button{border-top:1px solid ButtonText}}.maplibregl-ctrl button::-moz-focus-inner{border:0;padding:0}.maplibregl-ctrl-attrib-button:focus,.maplibregl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl button:disabled{cursor:not-allowed}.maplibregl-ctrl button:disabled .maplibregl-ctrl-icon{opacity:.25}@media (hover:hover){.maplibregl-ctrl button:not(:disabled):hover{background-color:#0000000d}}.maplibregl-ctrl button:not(:disabled):active{background-color:#0000000d}.maplibregl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.maplibregl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.maplibregl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.maplibregl-ctrl-group button:focus:only-child{border-radius:inherit}.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-globe .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='none' stroke='%23333' viewBox='0 0 22 22'%3E%3Ccircle cx='11' cy='11' r='8.5'/%3E%3Cpath d='M17.5 11c0 4.819-3.02 8.5-6.5 8.5S4.5 15.819 4.5 11 7.52 2.5 11 2.5s6.5 3.681 6.5 8.5Z'/%3E%3Cpath d='M13.5 11c0 2.447-.331 4.64-.853 6.206-.262.785-.562 1.384-.872 1.777-.314.399-.58.517-.775.517s-.461-.118-.775-.517c-.31-.393-.61-.992-.872-1.777C8.831 15.64 8.5 13.446 8.5 11s.331-4.64.853-6.206c.262-.785.562-1.384.872-1.777.314-.399.58-.517.775-.517s.461.118.775.517c.31.393.61.992.872 1.777.522 1.565.853 3.76.853 6.206Z'/%3E%3Cpath d='M11 7.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138q.07-.058.224-.138c.299-.151.763-.302 1.379-.434C7.378 5.666 9.091 5.5 11 5.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138q-.07.058-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428ZM4.486 6.436ZM11 16.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138 1.3 1.3 0 0 1 .224-.138c.299-.151.763-.302 1.379-.434C7.378 14.666 9.091 14.5 11 14.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138a1.3 1.3 0 0 1-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428Zm-6.514-1.064ZM11 12.5c-2.46 0-4.672-.222-6.255-.574-.796-.177-1.406-.38-1.805-.59a1.5 1.5 0 0 1-.39-.272.3.3 0 0 1-.047-.064.3.3 0 0 1 .048-.064c.066-.073.189-.167.389-.272.399-.21 1.009-.413 1.805-.59C6.328 9.722 8.54 9.5 11 9.5s4.672.222 6.256.574c.795.177 1.405.38 1.804.59.2.105.323.2.39.272a.3.3 0 0 1 .047.064.3.3 0 0 1-.048.064 1.4 1.4 0 0 1-.389.272c-.399.21-1.009.413-1.804.59-1.584.352-3.796.574-6.256.574Zm-8.501-1.51v.002zm0 .018v.002zm17.002.002v-.002zm0-.018v-.002z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-globe-enabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='none' stroke='%2333b5e5' viewBox='0 0 22 22'%3E%3Ccircle cx='11' cy='11' r='8.5'/%3E%3Cpath d='M17.5 11c0 4.819-3.02 8.5-6.5 8.5S4.5 15.819 4.5 11 7.52 2.5 11 2.5s6.5 3.681 6.5 8.5Z'/%3E%3Cpath d='M13.5 11c0 2.447-.331 4.64-.853 6.206-.262.785-.562 1.384-.872 1.777-.314.399-.58.517-.775.517s-.461-.118-.775-.517c-.31-.393-.61-.992-.872-1.777C8.831 15.64 8.5 13.446 8.5 11s.331-4.64.853-6.206c.262-.785.562-1.384.872-1.777.314-.399.58-.517.775-.517s.461.118.775.517c.31.393.61.992.872 1.777.522 1.565.853 3.76.853 6.206Z'/%3E%3Cpath d='M11 7.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138q.07-.058.224-.138c.299-.151.763-.302 1.379-.434C7.378 5.666 9.091 5.5 11 5.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138q-.07.058-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428ZM4.486 6.436ZM11 16.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138 1.3 1.3 0 0 1 .224-.138c.299-.151.763-.302 1.379-.434C7.378 14.666 9.091 14.5 11 14.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138a1.3 1.3 0 0 1-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428Zm-6.514-1.064ZM11 12.5c-2.46 0-4.672-.222-6.255-.574-.796-.177-1.406-.38-1.805-.59a1.5 1.5 0 0 1-.39-.272.3.3 0 0 1-.047-.064.3.3 0 0 1 .048-.064c.066-.073.189-.167.389-.272.399-.21 1.009-.413 1.805-.59C6.328 9.722 8.54 9.5 11 9.5s4.672.222 6.256.574c.795.177 1.405.38 1.804.59.2.105.323.2.39.272a.3.3 0 0 1 .047.064.3.3 0 0 1-.048.064 1.4 1.4 0 0 1-.389.272c-.399.21-1.009.413-1.804.59-1.584.352-3.796.574-6.256.574Zm-8.501-1.51v.002zm0 .018v.002zm17.002.002v-.002zm0-.018v-.002z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-terrain .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%23333' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-terrain-enabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%2333b5e5' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23aaa' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-waiting .maplibregl-ctrl-icon{animation:maplibregl-spin 2s linear infinite}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23999' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23666' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}}@keyframes maplibregl-spin{0%{transform:rotate(0)}to{transform:rotate(1turn)}}a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E");background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}a.maplibregl-ctrl-logo.maplibregl-compact{width:14px}@media (forced-colors:active){a.maplibregl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}.maplibregl-ctrl.maplibregl-ctrl-attrib{background-color:#ffffff80;margin:0;padding:0 5px}@media screen{.maplibregl-ctrl-attrib.maplibregl-compact{background-color:#fff;border-radius:12px;box-sizing:content-box;color:#000;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.maplibregl-ctrl-attrib.maplibregl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact-show,.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-inner{display:none}.maplibregl-ctrl-attrib-button{background-color:#ffffff80;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E");border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;list-style:none}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button::-webkit-details-marker{display:none}.maplibregl-ctrl-bottom-left .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-top-left .maplibregl-ctrl-attrib-button{left:0}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-inner{display:block}.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-button{background-color:#0000000d}.maplibregl-ctrl-bottom-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;right:0}.maplibregl-ctrl-top-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{right:0;top:0}.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{left:0;top:0}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;left:0}}@media screen and (forced-colors:active){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}@media screen and (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}.maplibregl-ctrl-attrib a{color:#000000bf;text-decoration:none}.maplibregl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.maplibregl-attrib-empty{display:none}.maplibregl-ctrl-scale{background-color:#ffffffbf;border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px;white-space:nowrap}.maplibregl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}.maplibregl-popup-anchor-top,.maplibregl-popup-anchor-top-left,.maplibregl-popup-anchor-top-right{flex-direction:column}.maplibregl-popup-anchor-bottom,.maplibregl-popup-anchor-bottom-left,.maplibregl-popup-anchor-bottom-right{flex-direction:column-reverse}.maplibregl-popup-anchor-left{flex-direction:row}.maplibregl-popup-anchor-right{flex-direction:row-reverse}.maplibregl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}.maplibregl-popup-anchor-top .maplibregl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}.maplibregl-popup-anchor-top-left .maplibregl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}.maplibregl-popup-anchor-top-right .maplibregl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}.maplibregl-popup-anchor-bottom .maplibregl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.maplibregl-popup-anchor-left .maplibregl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.maplibregl-popup-anchor-right .maplibregl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}.maplibregl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}.maplibregl-popup-close-button:hover{background-color:#0000000d}.maplibregl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px #0000001a;padding:15px 10px;pointer-events:auto;position:relative}.maplibregl-popup-anchor-top-left .maplibregl-popup-content{border-top-left-radius:0}.maplibregl-popup-anchor-top-right .maplibregl-popup-content{border-top-right-radius:0}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-content{border-bottom-left-radius:0}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-content{border-bottom-right-radius:0}.maplibregl-popup-track-pointer{display:none}.maplibregl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-map:hover .maplibregl-popup-track-pointer{display:flex}.maplibregl-map:active .maplibregl-popup-track-pointer{display:none}.maplibregl-marker{left:0;position:absolute;top:0;transition:opacity .2s;will-change:transform}.maplibregl-user-location-dot,.maplibregl-user-location-dot:before{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}.maplibregl-user-location-dot:before{animation:maplibregl-user-location-dot-pulse 2s infinite;content:"";position:absolute}.maplibregl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px #00000059;box-sizing:border-box;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px}@keyframes maplibregl-user-location-dot-pulse{0%{opacity:1;transform:scale(1)}70%{opacity:0;transform:scale(3)}to{opacity:0;transform:scale(1)}}.maplibregl-user-location-dot-stale{background-color:#aaa}.maplibregl-user-location-dot-stale:after{display:none}.maplibregl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}.maplibregl-crosshair,.maplibregl-crosshair .maplibregl-interactive,.maplibregl-crosshair .maplibregl-interactive:active{cursor:crosshair}.maplibregl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}.maplibregl-cooperative-gesture-screen{align-items:center;background:#0006;color:#fff;display:flex;font-size:1.4em;inset:0;justify-content:center;line-height:1.2;opacity:0;padding:1rem;pointer-events:none;position:absolute;transition:opacity 1s ease 1s;z-index:99999}.maplibregl-cooperative-gesture-screen.maplibregl-show{opacity:1;transition:opacity .05s}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:none}@media (hover:none),(pointer:coarse){.maplibregl-cooperative-gesture-screen .maplibregl-desktop-message{display:none}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:block}}.maplibregl-pseudo-fullscreen{height:100%!important;left:0!important;position:fixed!important;top:0!important;width:100%!important;z-index:99999}.maplibregl-popup-content{padding:1rem;border-radius:8px;box-shadow:0 2px 12px #00000026;min-width:250px}.maplibregl-popup-close-button{font-size:20px;padding:4px 8px;color:#666}.maplibregl-popup-close-button:hover{background-color:#0000000d;color:#333}.boundary-popup h4{margin:0 0 .75rem;font-size:1.1rem;font-weight:600;color:var(--text-color);border-bottom:2px solid var(--primary-color);padding-bottom:.5rem}.boundary-popup .info-row{display:flex;justify-content:space-between;padding:.25rem 0;font-size:.9rem}.boundary-popup .info-label{font-weight:500;color:var(--text-color-secondary)}.boundary-popup .info-value{color:var(--text-color);font-weight:600}
/*! tailwindcss v4.1.11 | MIT License | https://tailwindcss.com */
`],encapsulation:2})};var sxe=[{path:"button",data:{breadcrumb:"Button"},component:Gf},{path:"charts",data:{breadcrumb:"Charts"},component:Pg},{path:"file",data:{breadcrumb:"File"},component:Dg},{path:"formlayout",data:{breadcrumb:"Form Layout"},component:Lg},{path:"input",data:{breadcrumb:"Input"},component:Gg},{path:"list",data:{breadcrumb:"List"},component:$g},{path:"media",data:{breadcrumb:"Media"},component:Wg},{path:"message",data:{breadcrumb:"Message"},component:Qg},{path:"misc",data:{breadcrumb:"Misc"},component:Xg},{path:"panel",data:{breadcrumb:"Panel"},component:Jg},{path:"timeline",data:{breadcrumb:"Timeline"},component:e_},{path:"table",data:{breadcrumb:"Table"},component:t_},{path:"overlay",data:{breadcrumb:"Overlay"},component:n_},{path:"tree",data:{breadcrumb:"Tree"},component:a_},{path:"menu",data:{breadcrumb:"Menu"},component:u_},{path:"map",data:{breadcrumb:"Map Demo"},component:d_},{path:"map-overpass-turbo",data:{breadcrumb:"Map Overpass Turbo"},component:h_},{path:"**",redirectTo:"/notfound"}];export{sxe as default};
